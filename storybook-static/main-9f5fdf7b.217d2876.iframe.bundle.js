(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8556],{"./src/screens/rakuen/blog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Blog=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/blog/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Blog",component:n.default},t.Blog=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Blog")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Blog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/board/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Board=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/board/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Board",component:n.default},t.Board=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Board")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Board')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/group/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Group=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/group/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Group",component:n.default},t.Group=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Group")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Group')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/history/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.History=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/history/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/History",component:n.default},t.History=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("History")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('History')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/mine/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mine=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/mine/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Mine",component:n.default},t.Mine=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Mine")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Mine')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/notify/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Notify=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/notify/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Notify",component:n.default},t.Notify=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Notify")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Notify')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/reviews/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Reviews=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/reviews/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Reviews",component:n.default},t.Reviews=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Reviews")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Reviews')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RakuenSetting=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/setting/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/RakuenSetting",component:n.default},t.RakuenSetting=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("RakuenSetting")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('RakuenSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/topic/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Topic=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/topic/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Topic",component:n.default},t.Topic=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Topic")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Topic')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/v2/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rakuen=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/rakuen/v2/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Rakuen",component:n.default},t.Rakuen=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Rakuen")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Rakuen')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/rakuen/blog/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/blog/component/favor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Favor")},"./src/screens/rakuen/blog/component/favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/rakuen/blog/component/favor/ds.ts"),a=s("./src/screens/rakuen/blog/component/favor/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){return e=e.$,(0,u.jsxs)(o.default,{style:e.favorCount?a.styles.withCollect:i._.mr.xs,children:[(0,u.jsx)(d.IconHeader,{name:e.isFavor?"md-star":"md-star-outline",color:e.isFavor?i._.colorYellow:i._.colorDesc,onPress:e.setFavor}),!!e.favorCount&&(0,u.jsx)(n.Text,{style:a.styles.num,size:10,bold:!0,children:e.favorCount})]})},c.COMPONENT);try{favor.displayName="favor",favor.__docgenInfo={description:"",displayName:"favor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenBlog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/component/favor/index.tsx#favor"]={docgenInfo:favor.__docgenInfo,name:"favor",path:"src/screens/rakuen/blog/component/favor/index.tsx#favor"})}catch(e){}},"./src/screens/rakuen/blog/component/favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({withCollect:{paddingRight:s._.sm},num:{position:"absolute",right:7,bottom:5}})},"./src/screens/rakuen/blog/component/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMG_WIDTH=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"HeaderTitle"),t.IMG_WIDTH=28},"./src/screens/rakuen/blog/component/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/rakuen/blog/component/header-title/ds.ts"),c=s("./src/screens/rakuen/blog/component/header-title/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,e=e.navigation;return(0,a.jsxs)(o.Flex,{style:c.styles.container,children:[!!t.avatar&&(0,a.jsx)(n.Avatar,{navigation:e,size:i.IMG_WIDTH,src:t.avatar,userId:t.userId,name:t.userName}),(0,a.jsxs)(o.Flex.Item,{style:d._.ml.sm,children:[(0,a.jsx)(o.Text,{size:13,numberOfLines:1,children:t.title}),!!t.userName&&(0,a.jsx)(o.Text,{type:"sub",size:10,bold:!0,numberOfLines:1,children:t.userName})]})]})},i.COMPONENT);try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenBlog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/component/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/rakuen/blog/component/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/rakuen/blog/component/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{marginTop:s._.platforms(4,-8,-10,-14),marginLeft:-s._.sm,marginRight:20}})},"./src/screens/rakuen/blog/component/heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/rakuen/blog/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/rakuen/blog/component/heatmaps/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Heatmap,{right:2,bottom:160,id:"日志.楼层跳转",transparent:!0}),(0,d.jsx)(o.Heatmap,{right:76,bottom:84,id:"日志.删除回复",transparent:!0}),(0,d.jsx)(o.Heatmap,{right:76,bottom:51,id:"日志.回复",transparent:!0}),(0,d.jsx)(o.Heatmap,{right:119,bottom:51,id:"日志.回复失败",transparent:!0}),(0,d.jsx)(o.Heatmap,{right:76,bottom:18,id:"日志.显示评论框",transparent:!0}),(0,d.jsx)(o.Heatmap,{id:"日志",screen:"Blog"})]})},n.COMPONENT)},"./src/screens/rakuen/blog/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/blog/component/list/index.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=o(s("./node_modules/react/index.js")),f=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),j=s("./src/components/index.ts"),y=s("./src/screens/_/index.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),h=s("./src/utils/decorators/index.ts"),x=s("./src/utils/dev/index.ts"),g=s("./src/utils/fetch/index.ts"),v=o(s("./src/screens/rakuen/blog/component/top/index.tsx")),O=o(s("./src/screens/rakuen/blog/component/touch-scroll/index.tsx")),k=s("./src/screens/rakuen/blog/component/list/ds.ts"),S=s("./node_modules/react/jsx-runtime.js");function T(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}o=m.default.Component,(0,a.default)(N,o),P=T(N),(0,i.default)(N,[{key:"componentDidMount",value:function(){var s=this;(0,b.runAfter)((0,n.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.context,t=t.$,e.next=3,t.init();case 3:t.postId&&s.jump();case 4:case"end":return e.stop()}},e)})))}},{key:"render",value:function(){(0,x.r)(k.COMPONENT);var e=this.context.$,t=this.props.onScroll,s=e.state,r=s.placeholder,s=s.value;return(0,S.jsxs)(f.default,{style:_._.container.content,children:[(0,S.jsx)(j.ListView,{ref:this.connectListViewRef,style:_._.container.content,contentContainerStyle:_._.container.bottom,keyExtractor:b.keyExtractor,data:e.comments,ListHeaderComponent:(0,S.jsx)(v.default,{}),renderItem:this.renderItem,onScroll:t,onScrollToIndexFailed:this.onScrollToIndexFailed,onHeaderRefresh:e.fetchBlog,onFooterRefresh:e.fetchBlog}),e.isWebLogin&&(0,S.jsx)(j.FixedTextarea,{ref:this.connectFixedTextareaRef,placeholder:r?"回复 "+r:void 0,value:s,source:!0,onChange:e.onChange,onClose:e.closeFixedTextarea,onSubmit:e.doSubmit}),(0,S.jsx)(O.default,{onPress:this.scrollToThenFeedback})]})}}]);var P,s=N;function N(){var o;(0,d.default)(this,N);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=P.call.apply(P,[this].concat(t)),(0,p.default)((0,c.default)(o),"listView",void 0),(0,p.default)((0,c.default)(o),"fixedTextarea",void 0),(0,p.default)((0,c.default)(o),"scrollFailCount",0),(0,p.default)((0,c.default)(o),"connectListViewRef",function(e){return o.listView=e}),(0,p.default)((0,c.default)(o),"connectFixedTextareaRef",function(e){return o.fixedTextarea=e}),(0,p.default)((0,c.default)(o),"jump",function(){var s=o.context.$;if(s.postId){var e=s.comments,t=e.list;if(e._loaded)try{var r=0;t.forEach(function(e,t){r||(e.id===s.postId?r=t:e.sub&&e.sub.forEach(function(e){e.id===s.postId&&(r=t)}))}),r&&o.scrollTo(r)}catch(e){console.error("blog/index.js","jump",e)}}}),(0,p.default)((0,c.default)(o),"scrollTo",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=o.context.$.comments.list;(0,b.info)(t[e].floor,.8);try{o.listView.scrollToIndex({animated:!1,index:e,viewOffset:0})}catch(e){console.error("blog/index.js","scrollTo",e)}}),(0,p.default)((0,c.default)(o),"scrollToThenFeedback",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=o.context.$;if((0,g.t)("日志.楼层跳转",{blogId:t.blogId,index:e}),-1===e)(0,b.info)("#0",.8),o.listView.scrollToOffset({animated:!0,offset:0-_._.headerHeight});else{t=t.comments.list;(0,b.info)(t[e].floor,.8);try{o.listView.scrollToIndex({animated:!0,index:e,viewOffset:0+_._.headerHeight})}catch(e){console.error("blog/index.js","scrollToThenFeedback",e)}}}),(0,p.default)((0,c.default)(o),"onScrollToIndexFailed",function(e){var t=e.highestMeasuredFrameIndex,s=e.index;o.scrollTo(t),setTimeout(function(){10<o.scrollFailCount||(o.scrollFailCount+=1,o.scrollTo(s))},100)}),(0,p.default)((0,c.default)(o),"showFixedTextare",function(){return o.fixedTextarea.onFocus()}),(0,p.default)((0,c.default)(o),"renderItem",function(e){var t=e.item,e=e.index,s=o.context.$,r={id:"日志.跳转",data:{blogId:s.blogId}};return(0,S.jsx)(y.ItemPost,Object.assign({index:e,postId:s.postId,authorId:s.blog.userId},t,{showFixedTextare:o.showFixedTextare,event:r}))}),o}t.default=(0,h.obc)(s);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/blog/component/list/index.tsx#list"})}catch(e){}},"./src/screens/rakuen/blog/component/section-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SectionTitle")},"./src/screens/rakuen/blog/component/section-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/blog/component/section-title/ds.ts"),i=s("./src/screens/rakuen/blog/component/section-title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,i.memoStyles)(),t=t.comments.list,r=0;return(void 0===t?[]:t).forEach(function(e){r+=1,e.sub&&(r+=e.sub.length)}),(0,c.jsxs)(n.SectionTitle,{style:s.title,children:["吐槽"," ",0!==r&&(0,c.jsx)(o.Text,{size:12,type:"sub",lineHeight:24,children:r})]})},d.COMPONENT);try{sectiontitle.displayName="sectiontitle",sectiontitle.__docgenInfo={description:"",displayName:"sectiontitle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/component/section-title/index.tsx#sectiontitle"]={docgenInfo:sectiontitle.__docgenInfo,name:"sectiontitle",path:"src/screens/rakuen/blog/component/section-title/index.tsx#sectiontitle"})}catch(e){}},"./src/screens/rakuen/blog/component/section-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{title:{paddingHorizontal:r._.wind,marginTop:r._.lg,marginBottom:r._.md},sort:{marginRight:-r._.sm,marginLeft:r._.xs}}})},"./src/screens/rakuen/blog/component/top/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Top")},"./src/screens/rakuen/blog/component/top/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),c=s("./src/components/cover/utils.ts"),a=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),m=r(s("./src/screens/rakuen/blog/component/section-title/index.tsx")),r=s("./src/screens/rakuen/blog/component/top/ds.ts"),f=s("./src/screens/rakuen/blog/component/top/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,r=t.navigation,t=s.blog,o=void 0===(o=t.related)?[]:o,t=t._loaded,n={id:"日志.跳转",data:{from:"#0",blogId:s.blogId}};return t?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.HeaderPlaceholder,{}),(0,j.jsxs)(d.default,{style:f.styles.container,children:[(0,j.jsxs)(i.Text,{type:"title",size:20,bold:!0,children:[s.title,!!s.time&&(0,j.jsxs)(i.Text,{type:"sub",size:13,lineHeight:20,children:["  ",(0,l.simpleTime)(s.time)]})]}),(0,j.jsxs)(i.Flex,{style:[f.styles.userWrap,u._.mt.md],children:[!!s.avatar&&(0,j.jsx)(i.UserStatus,{userId:s.userId,children:(0,j.jsx)(a.Avatar,{navigation:r,event:n,size:40,src:s.avatar,userId:s.userId,name:s.userName})}),!!s.userId&&(0,j.jsxs)(i.Flex.Item,{style:u._.ml.sm,children:[(0,j.jsx)(a.Name,{userId:s.userId,numberOfLines:1,bold:!0,children:s.userName}),(0,j.jsxs)(i.Text,{style:u._.mt.xs,type:"sub",size:12,children:["@",s.userId]})]})]}),(0,j.jsx)(d.default,{style:f.styles.html,children:!!s.html&&(0,j.jsx)(i.RenderHtml,{style:u._.mt.md,html:s.html,onLinkPress:function(e){return(0,l.appNavigate)(e,r,{},n)}})})]}),(0,j.jsx)(i.Divider,{}),!!o.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Text,{style:f.styles.title,type:"title",size:20,bold:!0,children:"关联条目"}),(0,j.jsx)(a.HorizontalList,{data:o,width:80,height:106,findCn:!0,onPress:function(e){var t=e.id,s=e.name,e=e.image;(0,p.t)("日志.跳转",{to:"Subject",from:"关联条目",subjectId:t}),r.push("Subject",{subjectId:t,_jp:s,_image:(0,c.getCoverSrc)(e,80)})}})]}),(0,j.jsx)(m.default,{})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.HeaderPlaceholder,{}),(0,j.jsx)(i.Flex,{style:f.styles.loading,justify:"center",children:(0,j.jsx)(i.Loading,{})})]})},r.COMPONENT);try{top.displayName="top",top.__docgenInfo={description:"",displayName:"top",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/component/top/index.tsx#top"]={docgenInfo:top.__docgenInfo,name:"top",path:"src/screens/rakuen/blog/component/top/index.tsx#top"})}catch(e){}},"./src/screens/rakuen/blog/component/top/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{paddingVertical:s._.sm,paddingHorizontal:s._.wind},groupWrap:{height:32},groupThumbWrap:{width:30},userWrap:{height:42},html:{minHeight:120},loading:{height:240},title:{paddingLeft:s._.wind,marginTop:s._.md,marginBottom:s._.md}})},"./src/screens/rakuen/blog/component/touch-scroll/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"TouchScroll")},"./src/screens/rakuen/blog/component/touch-scroll/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/TouchableWithoutFeedback/index.js"))),a=s("./src/components/index.ts"),u=(s("./src/stores/index.ts"),s("./src/utils/index.ts")),r=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),o=s("./src/screens/rakuen/blog/component/touch-scroll/ds.ts"),p=s("./src/screens/rakuen/blog/component/touch-scroll/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var r,o,n,d,i=void 0===(e=e.onPress)?function(){}:e,e=t.$;return!l.STORYBOOK&&(t=e.setting.scrollDirection,r=e.comments.list,t!==l.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("隐藏"))&&r.length?(o=(0,p.memoStyles)(),n=[Math.floor(.33333*r.length),Math.floor(.66666*r.length),r.length-1],d=t===l.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("右侧")||t===l.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("左侧"),(0,m.jsxs)(a.Flex,{style:o["container"+(0,u.titleCase)(t)],direction:d?"column":void 0,children:[(0,m.jsx)(a.Flex.Item,{flex:d?1:3,children:(0,m.jsx)(c.default,{onPressIn:function(){return i(-1)},children:(0,m.jsx)(a.Flex,{style:d?o.itemVertical:o.itemHorizontal,children:(0,m.jsx)(a.Text,{style:o.text,size:8,type:"icon",align:"center",children:"0"})})})}),r.map(function(e,t){var s=n.includes(t);return(0,m.jsx)(a.Flex.Item,{flex:!d&&s?3:1,children:(0,m.jsx)(c.default,{onPressIn:function(){return i(t)},children:(0,m.jsx)(a.Flex,{style:(0,u.stl)(d?o.itemVertical:o.itemHorizontal,!1),children:s&&(0,m.jsx)(a.Text,{style:o.text,size:8,type:"icon",align:"center",children:String(r[t].floor||"").replace("#","")})})})},t)})]})):null},o.COMPONENT)},"./src/screens/rakuen/blog/component/touch-scroll/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{containerRight:{position:"absolute",zIndex:1,top:r._.headerHeight,right:0,bottom:42,width:16},containerLeft:{position:"absolute",zIndex:1,top:r._.headerHeight,left:0,bottom:42,width:16},containerBottom:{position:"absolute",left:0,right:0,bottom:40,width:"100%",height:24,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1)},itemVertical:{width:16,height:"100%"},itemHorizontal:{width:"100%",height:"100%"},itemNew:{backgroundColor:r._.select("rgba(254, 138, 149, 0.64)","rgba(254, 113, 127, 0.16)")},text:{width:"100%"}}})},"./src/screens/rakuen/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Blog"},"./src/screens/rakuen/blog/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/blog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/blog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),c=s("./src/constants/index.ts"),a=r(s("./src/screens/rakuen/blog/component/favor/index.tsx")),u=r(s("./src/screens/rakuen/blog/component/header-title/index.tsx")),r=s("./src/screens/rakuen/blog/header/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,e=e.fixed,r=t.$,t=t.navigation,o=(null==(s=r.params)?void 0:s._url)||c.HOST+"/blog/"+r.blogId;return(0,l.jsx)(n.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:e,title:r.title,alias:"日志",hm:[o,"Blog"],headerTitle:(0,l.jsx)(u.default,{$:r,navigation:t}),headerRight:function(){return(0,l.jsxs)(n.Flex,{children:[(0,l.jsx)(a.default,{$:r}),(0,l.jsx)(n.Header.Popover,{data:["浏览器查看","复制链接","复制分享"],onSelect:function(e){switch((0,i.t)("日志.右上角菜单",{key:e}),e){case"浏览器查看":(0,d.open)(o);break;case"复制链接":(0,d.copy)(o,"已复制链接");break;case"复制分享":(0,d.copy)("【链接】"+r.title+" | Bangumi番组计划\n"+o,"已复制分享文案")}},children:(0,l.jsx)(n.Heatmap,{id:"日志.右上角菜单"})})]})}})},r.COMPONENT)},"./src/screens/rakuen/blog/hooks.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.useBlogPage=function(e){var t=e.$,e=(0,d.useOnScroll)(),s=e.fixed,e=e.onScroll;return(0,i.useRunAfter)((0,n.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}},e)}))),(0,i.useKeyboardAdjustResize)(),{fixed:s,onScroll:e}},o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=s("./src/components/header/utils.tsx"),i=s("./src/utils/hooks/index.ts")},"./src/screens/rakuen/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/blog/component/heatmaps/index.tsx")),c=r(s("./src/screens/rakuen/blog/component/list/index.tsx")),a=r(s("./src/screens/rakuen/blog/header/index.tsx")),u=s("./src/screens/rakuen/blog/hooks.ts"),r=r(s("./src/screens/rakuen/blog/store/index.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var t=(0,u.useBlogPage)(t),s=t.fixed,r=t.onScroll;return(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-blog",children:[(0,l.jsx)(o.Page,{statusBarEvent:!1,children:(0,l.jsx)(c.default,{onScroll:r})}),(0,l.jsx)(a.default,{fixed:s}),(0,l.jsx)(i.default,{})]})})});try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/rakuen/blog/index.tsx#blog"})}catch(e){}},"./src/screens/rakuen/blog/store/action.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),y=s("./src/utils/fetch/index.ts"),_=s("./src/utils/kv/index.ts"),b=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),h=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/blog/store/fetch.ts"));function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(s);return e=r?(e=(0,p.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var g;t.default=(s=r.default,(0,a.default)(v,s),g=x(v),(0,d.default)(v));function v(){var a;(0,i.default)(this,v);for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a=g.call.apply(g,[this].concat(t)),(0,m.default)((0,c.default)(a),"showFixedTextarea",function(e,t,s){(0,y.t)("日志.显示评论框",{blogId:a.blogId}),a.setState({placeholder:e,replySub:t,message:s})}),(0,m.default)((0,c.default)(a),"closeFixedTextarea",function(){a.setState({placeholder:"",replySub:"",message:"",editPostId:""})}),(0,m.default)((0,c.default)(a),"onChange",function(e){a.setState({value:e})}),(0,m.default)((0,c.default)(a),"recoveryContent",function(e){(0,y.t)("日志.回复失败",{blogId:a.blogId}),(0,j.info)("回复失败，可能是cookie失效了"),a.setState({value:""}),setTimeout(function(){a.setState({value:e})},160)}),(0,m.default)((0,c.default)(a),"updateShowHeaderTitle",function(e){a.setState({showHeaderTitle:e})}),(0,m.default)((0,c.default)(a),"showFixedTextareaEdit",(s=(0,n.default)(o.mark(function e(t,s){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.rakuenStore.fetchTopicEdit(t,"blog");case 2:if(!0===(r=e.sent))return(0,j.info)("此楼层不再允许修改，可能已被回复过"),e.abrupt("return");e.next=6;break;case 6:if(r){e.next=9;break}return(0,j.info)("未能获取到回复内容，可能授权过期了"),e.abrupt("return");case 9:a.setState({value:""}),setTimeout(function(){a.setState({editPostId:t,value:r}),s()},0);case 11:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),(0,m.default)((0,c.default)(a),"doSubmit",function(e){var t=a.state,s=t.replySub,t=t.editPostId;t?a.doEditReply(t,e):s?a.doReplySub(e):a.doReply(e)}),(0,m.default)((0,c.default)(a),"doReply",function(s){(0,y.t)("日志.回复",{blogId:a.blogId,sub:!1});var e=a.blog.formhash;f.rakuenStore.doReplyBlog({blogId:a.blogId.match(/\d+/g)[0],content:s,formhash:e},function(e){var t={};try{t=JSON.parse(e)}catch(e){}h.IOS&&"ok"!==t.status?a.recoveryContent(s):a.setState({value:""}),(0,j.feedback)(),a.fetchBlog()})}),(0,m.default)((0,c.default)(a),"doEditReply",function(e,t){var s=a.blog.formhash;f.rakuenStore.doEditReply({postId:e,topicType:"blog",content:t,formhash:s},(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({value:"",editPostId:""}),e.next=3,a.fetchBlog();case 3:(0,j.feedback)();case 4:case"end":return e.stop()}},e)})))}),(0,m.default)((0,c.default)(a),"doReplySub",function(s){(0,y.t)("日志.回复",{blogId:a.blogId,sub:!0});var e=a.state,t=e.placeholder,r=e.replySub,e=e.message,o=a.blog.formhash,r=r.split(","),r=(0,u.default)(r,6),n=r[1],d=r[2],i=r[4],r=r[5],c=s;e&&(e=(0,b.default)(e).replace(/<div class="quote"><q>.*<\/q><\/div>/,""),c="[quote][b]"+t+"[/b] 说: "+(0,j.removeHTMLTag)(e)+"[/quote]\n"+s),f.rakuenStore.doReplyBlog({content:c,formhash:o,blogId:String(n||"").trim(),related:String(d||"").trim(),sub_reply_uid:String(i||"").trim(),post_uid:String(r||"").trim()},function(e){var t={};try{t=JSON.parse(e)}catch(e){}h.IOS&&"ok"!==t.status?a.recoveryContent(s):a.setState({value:""}),(0,j.feedback)(),a.fetchBlog()})}),(0,m.default)((0,c.default)(a),"doDeleteReply",function(e){e&&((0,y.t)("日志.删除回复",{blogId:a.blogId}),f.rakuenStore.doDeleteReplyBlog({url:h.HOST+"/"+e},function(){(0,j.feedback)(),(0,j.info)("已删除"),a.fetchBlog()}))}),(0,m.default)((0,c.default)(a),"setFavor",(0,n.default)(o.mark(function e(){var t,s,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="blog/"+a.blogId,s=!a.isFavor,e.next=4,f.rakuenStore.setFavorV2(t,s);case 4:200===(null==(r=e.sent)?void 0:r.code)&&s&&(r={avatar:a.avatar,userId:a.userId,userName:a.userName,title:a.title,group:"",time:a.time},(0,_.update)("favor_"+t.replace("/","_"),r));case 6:case"end":return e.stop()}},e)}))),a}},"./src/screens/rakuen/blog/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),p=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=r(s("./src/screens/rakuen/blog/store/state.ts")),f=s("./src/screens/rakuen/blog/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var y;t.default=(s=r.default,(0,i.default)(_,s),y=j(_),(0,d.default)(_,[{key:"blogId",get:function(){var e=this.params.blogId,e=void 0===e?"":e;return e?String(e).split("#")[0]:"0"}},{key:"postId",get:function(){var e=this.params.blogId,e=String(void 0===e?"":e).split("#post_");return(0,o.default)(e,2)[1]}},{key:"namespace",get:function(){return f.NAMESPACE+"|"+this.blogId}},{key:"isFavor",get:function(){return p.rakuenStore.favorV2("blog/"+this.blogId)}},{key:"favorCount",get:function(){return p.rakuenStore.favorCount("blog/"+this.blogId)}},{key:"blog",get:function(){var e=p.rakuenStore.blog(this.blogId);return e._loaded?e:this.ota||{}}},{key:"comments",get:function(){return p.rakuenStore.blogComments(this.blogId)}},{key:"isWebLogin",get:function(){return p.userStore.isWebLogin}},{key:"readed",get:function(){return!0}},{key:"myId",get:function(){return p.userStore.myId}},{key:"myFriendsMap",get:function(){return p.usersStore.myFriendsMap}},{key:"setting",get:function(){return p.rakuenStore.setting}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"blog_"+this.blogId}},{key:"title",get:function(){return(0,m.HTMLDecode)(this.blog.title||this.params._title||"")}},{key:"time",get:function(){return this.blog.time||this.params._time||""}},{key:"avatar",get:function(){return this.blog.avatar||this.params._avatar||""}},{key:"userId",get:function(){return this.blog.userId||this.params._userId||""}},{key:"userName",get:function(){return this.blog.userName||this.params._userName||""}},{key:"userSign",get:function(){return this.blog.userSign||""}},{key:"html",get:function(){return this.blog.message||""}},{key:"isUGCAgree",get:function(){return p.systemStore.isUGCAgree}}]),(0,u.default)((t=_).prototype,"blogId",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"blogId"),t.prototype),(0,u.default)(t.prototype,"postId",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"postId"),t.prototype),(0,u.default)(t.prototype,"namespace",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"namespace"),t.prototype),(0,u.default)(t.prototype,"isFavor",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isFavor"),t.prototype),(0,u.default)(t.prototype,"favorCount",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"favorCount"),t.prototype),(0,u.default)(t.prototype,"blog",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"blog"),t.prototype),(0,u.default)(t.prototype,"comments",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"comments"),t.prototype),(0,u.default)(t.prototype,"isWebLogin",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isWebLogin"),t.prototype),(0,u.default)(t.prototype,"readed",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"readed"),t.prototype),(0,u.default)(t.prototype,"myId",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"myId"),t.prototype),(0,u.default)(t.prototype,"myFriendsMap",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"myFriendsMap"),t.prototype),(0,u.default)(t.prototype,"setting",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"setting"),t.prototype),(0,u.default)(t.prototype,"ota",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,u.default)(t.prototype,"thirdPartyKey",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),(0,u.default)(t.prototype,"title",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"title"),t.prototype),(0,u.default)(t.prototype,"time",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"time"),t.prototype),(0,u.default)(t.prototype,"avatar",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"avatar"),t.prototype),(0,u.default)(t.prototype,"userId",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,u.default)(t.prototype,"userName",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"userName"),t.prototype),(0,u.default)(t.prototype,"userSign",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"userSign"),t.prototype),(0,u.default)(t.prototype,"html",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"html"),t.prototype),(0,u.default)(t.prototype,"isUGCAgree",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isUGCAgree"),t.prototype),t);function _(){return(0,n.default)(this,_),y.apply(this,arguments)}},"./src/screens/rakuen/blog/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/screens/rakuen/blog/ds.ts"),t.NAMESPACE="Screen"+s.COMPONENT,s=t.EXCLUDE_STATE={placeholder:"",value:"",replySub:"",editPostId:"",message:"",ota:{},showHeaderTitle:!1};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/rakuen/blog/store/fetch.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),r=r(s("./src/screens/rakuen/blog/store/computed.ts"));function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var _,b=[];t.default=(s=r.default,(0,a.default)(h,s),_=y(h),(0,d.default)(h));function h(){var r;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=_.call.apply(_,[this].concat(t)),(0,p.default)((0,c.default)(r),"fetchBlog",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,m.rakuenStore.fetchBlog({blogId:r.blogId});case 3:return t=e.sent,(t=t.blog).title&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,604800<=(0,f.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchThirdParty",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.blog._loaded){e.next=8;break}return e.next=3,(0,j.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,p.default)({},r.thirdPartyKey,{_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,p.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,f.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"updateThirdParty",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,j.update)(r.thirdPartyKey,Object.assign({},(0,f.omit)(r.blog,["formhash"]))),b.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),r}},"./src/screens/rakuen/blog/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),r=r(s("./src/screens/rakuen/blog/store/action.ts")),f=s("./src/screens/rakuen/blog/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var y,_=!1,r=(s=r.default,(0,a.default)(b,s),y=j(b),(0,d.default)(b));function b(){var t;(0,i.default)(this,b);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=y.call.apply(y,[this].concat(s)),(0,p.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(t.namespace);case 5:if(e.t3=e.sent,e.t3){e.next=8;break}e.t3={};case 8:return e.t4=e.t3,e.t5=f.EXCLUDE_STATE,e.t6={_loaded:!0},e.t7=e.t1.assign.call(e.t1,e.t2,e.t4,e.t5,e.t6),e.t0.setState.call(e.t0,e.t7),_||(m.rakuenStore.getFavor(),_=!0),m.usersStore.updateFriendsMap(),e.abrupt("return",t.fetchBlog());case 16:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/rakuen/blog/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),p=s("./src/screens/rakuen/blog/store/ds.ts");function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(j,s),f=m(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,d.default)(e),"params",void 0),(0,u.default)((0,d.default)(e),"state",(0,l.observable)(p.STATE)),e}},"./src/screens/rakuen/board/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/board/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/board/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/board/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/board/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),m=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),o=s("./src/screens/rakuen/board/component/item/ds.ts"),h=s("./src/screens/rakuen/board/component/item/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n=e.title,d=e.href,i=e.replies,c=e.time,a=e.userId,e=e.userName,u=t.$,l=t.navigation;return(0,y.getIsBlockedUser)(j.rakuenStore.blockUserIds,e,a,"Board|"+d)?null:(t=(0,h.memoStyles)(),s=d.replace("/subject/topic/","subject/"),r=!!u.readed(s).time,o="+"+i.replace(" replies",""),(0,x.jsx)(m.Touchable,{style:(0,y.stl)(t.item,r&&t.readed),animate:!0,onPress:function(){var e;Number(i)>b.LIMIT_TOPIC_PUSH?(e=""+b.HOST+d,(0,_.t)("讨论版.跳转",{to:"WebBrowser",url:e}),(0,y.info)("该帖评论多, 自动使用浏览器打开"),setTimeout(function(){(0,y.open)(e)},1600)):(u.onItemPress(s,i),(0,y.appNavigate)(d,l,{_title:n,_replies:o,_time:c},{id:"讨论版.跳转"}))},children:(0,x.jsxs)(m.Flex,{style:t.wrap,align:"start",children:[(0,x.jsx)(p.default,{style:j._.mr.sm,children:(0,x.jsx)(f.Avatar,{navigation:l,userId:a,name:e,src:(0,b.API_AVATAR)(a)})}),(0,x.jsxs)(m.Flex.Item,{children:[(0,x.jsxs)(m.Text,{size:15,children:[(0,y.HTMLDecode)(n),"+0"!=o&&(0,x.jsxs)(m.Text,{type:r?"sub":"main",size:12,lineHeight:15,bold:!0,children:[" ",o]})]}),(0,x.jsxs)(m.Text,{style:j._.mt.xs,type:"sub",size:12,children:[(0,y.correctAgo)(c)," /"," ",(0,x.jsx)(f.Name,{userId:a,showFriend:!0,size:12,bold:!0,children:e})]})]})]})},d))},o.COMPONENT)},"./src/screens/rakuen/board/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind-r._._wind+r._.md},wrap:{paddingVertical:r._.md,paddingRight:r._.wind-r._._wind+r._.md},readed:{backgroundColor:r._.colorBg}}})},"./src/screens/rakuen/board/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/board/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/board/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/rakuen/board/component/item/index.tsx")),r=s("./src/screens/rakuen/board/component/list/ds.ts"),c=s("./src/screens/rakuen/board/component/list/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=t.$;t.navigation;s=(t=s.board).list;return t._loaded&&!s.length?(0,a.jsxs)(o.Flex,{style:c.styles.empty,direction:"column",justify:"center",children:[(0,a.jsx)(o.Mesume,{}),(0,a.jsx)(o.Text,{style:n._.mt.sm,type:"sub",children:"好像什么都没有"})]}):(0,a.jsx)(o.ScrollView,{contentContainerStyle:n._.container.bottom,scrollToTop:!0,children:s.map(function(e){return(0,a.jsx)(i.default,Object.assign({},e),e.href)})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/board/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/board/component/list/index.tsx#list"})}catch(e){}},"./src/screens/rakuen/board/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({empty:{minHeight:240}})},"./src/screens/rakuen/board/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.COMPONENT=void 0;t.COMPONENT="Board",t.NAMESPACE="ScreenBoard",t.STATE={history:[],ota:{},_loaded:!1}},"./src/screens/rakuen/board/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/board/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/board/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/screens/rakuen/board/header/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,c.jsx)(o.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的讨论版":"讨论版",alias:"讨论版",hm:[s.url,"Board"],headerRight:function(){return(0,c.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("讨论版.右上角菜单",{key:e}),(0,n.open)(s.url))},children:(0,c.jsx)(o.Heatmap,{id:"讨论版.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/board/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/rakuen/board/header/index.tsx#header"})}catch(e){}},"./src/screens/rakuen/board/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/board/component/list/index.tsx")),c=r(s("./src/screens/rakuen/board/header/index.tsx")),r=r(s("./src/screens/rakuen/board/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-board",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)(o.Page,{loaded:s.board._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{board.displayName="board",board.__docgenInfo={description:"",displayName:"board",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/board/index.tsx#board"]={docgenInfo:board.__docgenInfo,name:"board",path:"src/screens/rakuen/board/index.tsx#board"})}catch(e){}},"./src/screens/rakuen/board/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),_=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),h=s("./src/screens/rakuen/board/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var g,v=[];t.default=(s=r.default,(0,a.default)(O,s),g=x(O),(0,i.default)(O,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"key",get:function(){return h.NAMESPACE+"|"+this.subjectId}},{key:"board",get:function(){var e=j.rakuenStore.board(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):b.LIST_EMPTY}},{key:"url",get:function(){return(0,b.HTML_BOARD)(this.subjectId)}},{key:"readed",value:function(e){return(0,f.computed)(function(){return j.rakuenStore.readed(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"board_"+this.subjectId}}]),(0,m.default)((t=O).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,m.default)(t.prototype,"key",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"key"),t.prototype),(0,m.default)(t.prototype,"board",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"board"),t.prototype),(0,m.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,m.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,m.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function O(){var r;(0,d.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=g.call.apply(g,[this].concat(t)),(0,p.default)((0,c.default)(r),"params",void 0),(0,p.default)((0,c.default)(r),"state",(0,f.observable)(h.STATE)),(0,p.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(r.key);case 2:return t=e.sent,r.setState(Object.assign({},t,{ota:{},_loaded:!0})),e.abrupt("return",r.fetchBoard());case 5:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchBoard",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,j.rakuenStore.fetchBoard({subjectId:r.subjectId});case 3:return(t=e.sent).list.length&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,604800<=(0,y.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchThirdParty",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.board._loaded){e.next=8;break}return e.next=3,(0,_.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,p.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,p.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,y.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"updateThirdParty",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(r.thirdPartyKey,{list:r.board.list}),v.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"onItemPress",function(e,t){return j.rakuenStore.updateTopicReaded(e,t)}),r}},"./src/screens/rakuen/group/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/group/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/group/component/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/group/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"HeaderTitle"),t.COVER_WIDTH=28},"./src/screens/rakuen/group/component/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/group/component/header-title/ds.ts"),i=s("./src/screens/rakuen/group/component/header-title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){return e=e.$,(0,c.jsxs)(o.Flex,{style:i.styles.container,children:[!!e.groupThumb&&(0,c.jsx)(o.Image,{size:d.COVER_WIDTH,src:e.groupThumb,radius:!0}),(0,c.jsx)(o.Flex.Item,{style:n._.ml.sm,children:(0,c.jsx)(o.Text,{size:13,numberOfLines:1,children:e.groupInfo.title})})]})},d.COMPONENT);try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenGroup"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/group/component/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/rakuen/group/component/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/rakuen/group/component/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{marginTop:s._.ios(4,-10),marginRight:s._.md}})},"./src/screens/rakuen/group/component/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/group/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Info")},"./src/screens/rakuen/group/component/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/rakuen/group/component/info/ds.ts"),c=s("./src/screens/rakuen/group/component/info/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,a.jsxs)(o.default,{style:[c.styles.container,d._.container.inner],children:[(0,a.jsx)(n.HeaderPlaceholder,{}),(0,a.jsx)(n.Text,{size:20,bold:!0,children:t.groupInfo.title||t.params._title}),!!t.groupThumb&&(0,a.jsxs)(n.Flex,{style:d._.mt.md,justify:"center",children:[(0,a.jsx)(n.Image,{src:t.groupThumb,size:d._.r(80),shadow:!0,placeholder:!1,imageViewer:!0,event:{id:"小组.封面图查看",data:{groupId:t.groupId}}}),(0,a.jsx)(n.Heatmap,{id:"小组.封面图查看"})]}),!!t.groupInfo.content&&(0,a.jsx)(n.Expand,{style:d._.mt.lg,ratio:.64,children:(0,a.jsx)(n.RenderHtml,{html:t.groupInfo.content+'<p style="text-align:right;color:#999">'+t.groupInfo.create+"</p><br/>"})}),!t.groupInfo._loaded&&(0,a.jsx)(n.Flex,{style:c.styles.loading,justify:"center",children:(0,a.jsx)(n.Loading,{})})]})},i.COMPONENT);try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/group/component/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/rakuen/group/component/info/index.tsx#info"})}catch(e){}},"./src/screens/rakuen/group/component/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:328},loading:{height:200}})},"./src/screens/rakuen/group/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/group/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/group/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),y=s("./src/components/index.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),o=s("./src/screens/rakuen/group/component/list/ds.ts"),n=s("./src/screens/rakuen/group/component/list/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var e=void 0===(e=e.style)?void 0:e,l=t.$,p=t.navigation,m=(0,n.memoStyles)(),f=l.groupInfo.title,s=(t=l.group).list;return t._loaded&&!s.length?(0,g.jsxs)(y.Flex,{style:m.empty,direction:"column",justify:"center",children:[(0,g.jsx)(y.Mesume,{}),(0,g.jsx)(y.Text,{style:_._.mt.sm,type:"sub",children:"好像什么都没有"})]}):(0,g.jsx)(j.default,{style:e,children:s.map(function(e,t){var s,r=e.title,o=e.href,n=e.replies,d=e.time,i=e.userName,c=(e.userId,o.replace("/group/topic/","group/")),e=l.readed(c),a=!!e.time,u="+"+n;return a&&Number(n)>e.replies&&(s="+"+(Number(n)-e.replies)),(0,g.jsxs)(y.Touchable,{style:(0,b.stl)(m.item,a&&m.readed),animate:!0,onPress:function(){var e;Number(n)>x.LIMIT_TOPIC_PUSH?(e=""+x.HOST+o,(0,h.t)("小组.跳转",{to:"WebBrowser",url:e}),(0,b.info)("该帖评论多, 自动使用浏览器打开"),setTimeout(function(){(0,b.open)(e)},1500)):(l.onItemPress(c,n),(0,b.appNavigate)(o,p,{_title:r,_replies:"+"+n,_group:f,_time:d},{id:"小组.跳转"}))},children:[(0,g.jsxs)(j.default,{style:m.wrap,children:[(0,g.jsxs)(y.Text,{size:15,children:[(0,b.HTMLDecode)(r),(0,g.jsxs)(y.Text,{type:a?"sub":"main",size:12,lineHeight:15,children:[" ",u]}),!!s&&(0,g.jsxs)(y.Text,{type:"main",size:12,lineHeight:15,children:[" ",s]})]}),(0,g.jsxs)(y.Flex,{style:_._.mt.sm,children:[(0,g.jsx)(y.Text,{size:12,bold:!0,children:i}),(0,g.jsx)(y.Text,{style:_._.ml.xs,type:"sub",size:11,bold:!0,children:(0,b.correctAgo)(d)})]})]}),!t&&(0,g.jsx)(y.Heatmap,{id:"小组.跳转"})]},o)})})},o.COMPONENT)},"./src/screens/rakuen/group/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind-r._._wind+r._.md},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},readed:{backgroundColor:r._.colorBg},empty:{minHeight:240}}})},"./src/screens/rakuen/group/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.HEAT_MAPS=t.COMPONENT=void 0;t.COMPONENT="Group",t.NAMESPACE="ScreenGroup",t.STATE={page:1,show:!0,ipt:"1",history:[],ota:{},_loaded:!1},t.HEAT_MAPS={prev:"小组.上一页",next:"小组.下一页",search:"小组.页码跳转"}},"./src/screens/rakuen/group/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/group/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/group/header/index.tsx":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),f=s("./src/constants/index.ts"),j=r(s("./src/screens/rakuen/group/component/header-title/index.tsx")),r=s("./src/screens/rakuen/group/header/ds.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=this,e=e.fixed,r=t.$,o=t.navigation,n=(t=r.groupInfo).joinUrl,t=t.byeUrl,d=["浏览器查看","小组成员"];return n&&d.push("加入小组"),t&&d.push("退出小组"),(0,y.jsx)(a.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:e,title:r.groupInfo.title,alias:"小组",hm:[r.url,"Group"],headerTitle:(0,y.jsx)(j.default,{$:r}),headerRight:function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.IconTouchable,{style:l._.mr.sm,name:"md-edit",size:18,color:l._.colorTitle,onPress:function(){var e=(0,f.HTML_NEW_TOPIC)(String(r.groupId));o.push("WebBrowser",{url:e,title:"添加新讨论",desc:"发帖组件复杂并没有重新开发实装。若你看见的不是发帖页面，请先在此页面进行登录。请务必刷新一下验证码再登录。成功后点击右上方刷新页面。",injectedViewport:!0}),(0,m.t)("小组.跳转",{to:"WebBrowser",url:e})}}),(0,y.jsx)(a.Header.Popover,{data:d,onSelect:(t=(0,c.default)(i.mark(function e(t){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,m.t)("小组.右上角菜单",{key:t,groupId:r.groupId}),e.t0=t,e.next="浏览器查看"===e.t0?4:"小组成员"===e.t0?6:"加入小组"===e.t0?8:"退出小组"===e.t0?12:16;break;case 4:return(0,p.open)(r.url),e.abrupt("break",17);case 6:return(0,p.open)(f.HOST+"/group/"+r.groupId+"/members"),e.abrupt("break",17);case 8:return e.next=10,r.doJoin();case 10:return s.updatePopover(),e.abrupt("break",17);case 12:return e.next=14,r.doBye();case 14:return s.updatePopover(),e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),children:(0,y.jsx)(a.Heatmap,{id:"小组.右上角菜单"})})]});var t}})},r.COMPONENT)},"./src/screens/rakuen/group/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/components/header/utils.tsx"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),u=r(s("./src/screens/rakuen/group/component/info/index.tsx")),l=r(s("./src/screens/rakuen/group/component/list/index.tsx")),p=r(s("./src/screens/rakuen/group/header/index.tsx")),r=r(s("./src/screens/rakuen/group/store.ts")),m=s("./src/screens/rakuen/group/ds.ts"),f=s("./src/screens/rakuen/group/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$,t=((0,a.useRunAfter)(function(){s.init()}),(0,i.useOnScroll)()),r=t.fixed,o=t.onScroll;return(0,a.useObserver)(function(){var e=s.state.show;return(0,j.jsxs)(d.Component,{id:"screen-rakuen-group",children:[(0,j.jsxs)(d.Page,{statusBarEvent:!1,children:[(0,j.jsxs)(d.ScrollView,{scrollEventThrottle:4,scrollToTop:!0,onScroll:o,children:[(0,j.jsx)(u.default,{}),e&&(0,j.jsx)(n.default,{style:[{minHeight:c._.window.height},c._.mt.md],children:(0,j.jsx)(l.default,{})})]}),(0,j.jsx)(d.Pagination,{style:f.styles.pagination,input:s.state.ipt,heatmaps:m.HEAT_MAPS,onPrev:s.prev,onNext:s.next,onChange:s.onChange,onSearch:s.doSearch})]}),(0,j.jsx)(p.default,{fixed:r}),(0,j.jsx)(d.Heatmap,{id:"小组",screen:"Group"}),(0,j.jsx)(d.Heatmap,{right:72,bottom:c._.bottom,id:"小组.加入"}),(0,j.jsx)(d.Heatmap,{right:72,bottom:c._.bottom-34,id:"小组.退出"})]})})});try{group.displayName="group",group.__docgenInfo={description:"",displayName:"group",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/group/index.tsx#group"]={docgenInfo:group.__docgenInfo,name:"group",path:"src/screens/rakuen/group/index.tsx#group"})}catch(e){}},"./src/screens/rakuen/group/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),_=s("./src/utils/app/ds.ts"),b=s("./src/utils/fetch/index.ts"),h=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/webhooks/index.ts"),g=s("./src/constants/index.ts"),v=s("./src/screens/rakuen/group/ds.ts");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var k,S=[];t.default=(s=r.default,(0,a.default)(T,s),k=O(T),(0,i.default)(T,[{key:"groupId",get:function(){var e=this.params.groupId;return void 0===e?"":e}},{key:"key",get:function(){return v.NAMESPACE+"|"+this.groupId}},{key:"groupInfo",get:function(){return j.rakuenStore.groupInfo(this.groupId)}},{key:"group",get:function(){var e=this.state.page,e=j.rakuenStore.group(this.groupId,e);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):g.LIST_EMPTY}},{key:"groupThumb",get:function(){var e="",t=this.groupInfo.cover,t=(t?e=t||"":(t=this.params._title)&&(e=j.rakuenStore.groupThumb(t)||""),j.systemStore.setting),s=t.cdn,t=t.cdnOrigin;return e=s&&"magma"===t&&"string"==typeof e&&e.includes(_.HOST_IMAGE)?(0,g.CDN_OSS_MAGMA_PIC)(e):e}},{key:"url",get:function(){return g.HOST+"/group/"+this.groupId}},{key:"readed",value:function(e){return(0,f.computed)(function(){return j.rakuenStore.readed(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){var e=this.state.page;return"group_"+[this.groupId,e].join("_").replace("/","_")}}]),(0,m.default)((t=T).prototype,"groupId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"groupId"),t.prototype),(0,m.default)(t.prototype,"key",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"key"),t.prototype),(0,m.default)(t.prototype,"groupInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"groupInfo"),t.prototype),(0,m.default)(t.prototype,"group",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"group"),t.prototype),(0,m.default)(t.prototype,"groupThumb",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"groupThumb"),t.prototype),(0,m.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,m.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,m.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function T(){var r;(0,d.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=k.call.apply(k,[this].concat(t)),(0,p.default)((0,c.default)(r),"params",void 0),(0,p.default)((0,c.default)(r),"state",(0,f.observable)(v.STATE)),(0,p.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(r.key);case 2:return t=e.sent,r.setState(Object.assign({},t,{ota:{},_loaded:!0})),r.fetchGroup(),e.abrupt("return",r.fetchGroupInfo());case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchGroupInfo",function(){return j.rakuenStore.fetchGroupInfo({groupId:r.groupId})}),(0,p.default)((0,c.default)(r),"fetchGroup",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),t=r.state.page,e.next=4,j.rakuenStore.fetchGroup({groupId:r.groupId,page:t});case 4:return(t=e.sent).list.length&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,604800<=(0,y.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchThirdParty",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.group._loaded){e.next=8;break}return e.next=3,(0,h.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,p.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,p.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,y.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"updateThirdParty",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,h.update)(r.thirdPartyKey,{list:r.group.list}),S.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"prev",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=r.state.page))return e.abrupt("return");e.next=3;break;case 3:(0,b.t)("小组.上一页",{page:t-1,groupId:r.groupId}),r.setState({page:t-1,show:!1,ipt:String(t-1)}),r.fetchGroup(),setTimeout(function(){r.setState({show:!0}),r.setStorage(void 0,void 0,r.key)},400);case 7:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"next",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.page,(0,b.t)("小组.下一页",{page:t+1,groupId:r.groupId}),r.setState({page:t+1,show:!1,ipt:String(t+1)}),r.fetchGroup(),setTimeout(function(){r.setState({show:!0}),r.setStorage(void 0,void 0,r.key)},400);case 5:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"onChange",function(e){e=e.nativeEvent.text;r.setState({ipt:e})}),(0,p.default)((0,c.default)(r),"onItemPress",function(e,t){j.rakuenStore.updateTopicReaded(e,t)}),(0,p.default)((0,c.default)(r),"doSearch",function(){var e=r.state.ipt,e=""===e?1:parseInt(e);e<1?(0,y.info)("请输入正确页码"):((0,b.t)("小组.页码跳转",{page:e,groupId:r.groupId}),r.setState({page:e,show:!1,ipt:String(e)}),r.fetchGroup(),setTimeout(function(){r.setState({show:!0}),r.setStorage(void 0,void 0,r.key)},400))}),(0,p.default)((0,c.default)(r),"doJoin",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.groupInfo.joinUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,b.t)("小组.加入",{groupId:r.groupId}),e.next=6,(0,b.fetchHTML)({method:"POST",url:""+g.HOST+t,data:{action:"join-bye"}});case 6:return(0,y.feedback)(),(0,y.info)("已加入小组"),(0,x.webhookGroup)(Object.assign({},r.groupInfo,{id:r.groupId}),j.userStore.userInfo),e.abrupt("return",r.fetchGroupInfo());case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"doBye",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.groupInfo.byeUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,b.t)("小组.退出",{groupId:r.groupId}),e.next=6,(0,b.fetchHTML)({method:"POST",url:""+g.HOST+t,data:{action:"join-bye"}});case 6:return(0,y.feedback)(),(0,y.info)("已退出小组"),e.abrupt("return",r.fetchGroupInfo());case 9:case"end":return e.stop()}},e)}))),r}},"./src/screens/rakuen/group/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({pagination:{paddingTop:s._.sm,paddingBottom:s._.ios(s._.md,s._.sm)}})},"./src/screens/rakuen/history/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/history/component/favor-list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"FavorList")},"./src/screens/rakuen/history/component/favor-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/rakuen/history/ds.ts"),c=s("./src/screens/rakuen/history/component/favor-list/utils.tsx"),a=s("./src/screens/rakuen/history/component/favor-list/ds.ts"),u=s("./src/screens/rakuen/history/component/favor-list/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,u.memoStyles)(),r=t.state.type;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.SegmentedControl,{style:s.segment,size:11,values:i.DS,selectedIndex:i.DS.findIndex(function(e){return e===r}),onValueChange:t.onValueChange},r),(0,l.jsx)(n.PaginationList2,{keyExtractor:c.keyExtractor,contentContainerStyle:d._.container.bottom,data:t.list,limit:12,scrollToTop:!0,renderItem:c.renderItem,onPage:t.onPage})]})},a.COMPONENT);try{favorlist.displayName="favorlist",favorlist.__docgenInfo={description:"",displayName:"favorlist",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/favor-list/index.tsx#favorlist"]={docgenInfo:favorlist.__docgenInfo,name:"favorlist",path:"src/screens/rakuen/history/component/favor-list/index.tsx#favorlist"})}catch(e){}},"./src/screens/rakuen/history/component/favor-list/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/favor-list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/history/component/favor-list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),m=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),o=s("./src/screens/rakuen/history/component/favor-list/item/ds.ts"),b=s("./src/screens/rakuen/history/component/favor-list/item/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d,i,c,a=e.item,e=t.$,u=t.navigation,t=(0,b.memoStyles)(),l=e.topic(a);return l?(s=e.state.type,r=l.userId,o=l.avatar,n=l.userName,d=l.title,i=l.group,c=l.time,(0,h.jsx)(m.Touchable,{animate:!0,onPress:function(){var e;(0,_.t)("本地帖子.跳转",{to:"Topic",topicId:a}),"日志"===s?(e=null==(e=String(a).match(/\d+/))?void 0:e[0])&&u.push("Blog",{blogId:e}):u.push("Topic",{topicId:a,_noFetch:!0,_title:d,_group:i,_time:c,_avatar:o,_userName:n,_userId:r})},children:(0,h.jsxs)(m.Flex,{style:t.container,align:"start",children:[(0,h.jsx)(p.default,{style:t.image,children:(0,h.jsx)(m.UserStatus,{userId:r,children:(0,h.jsx)(f.Avatar,{navigation:u,src:o,userId:r,name:n})})}),(0,h.jsx)(m.Flex.Item,{children:(0,h.jsxs)(m.Flex,{style:t.item,align:"start",children:[(0,h.jsxs)(m.Flex.Item,{children:[(0,h.jsx)(m.Text,{style:t.title,bold:!0,children:"undefined"===d?"(此帖子已删除)":d}),"小组"===s?(0,h.jsxs)(m.Text,{style:j._.mt.xs,type:"sub",size:11,lineHeight:12,children:[c.includes("首播")?c:(0,y.simpleTime)(c)," /"," ",(0,h.jsx)(f.Name,{userId:r,type:"sub",size:11,lineHeight:12,showFriend:!0,children:n})," ","/ ",i]}):(0,h.jsx)(m.Text,{style:j._.mt.xs,type:"sub",size:11,lineHeight:12,children:[c.includes("首播")?c:(0,y.simpleTime)(c),n,i].filter(function(e){return!!e}).join(" / ")})]}),e.isFavor(a)&&(0,h.jsx)(m.Iconfont,{style:t.favor,size:16,name:"md-star",color:j._.colorYellow})]})})]})})):(0,h.jsx)(m.Flex,{style:t.loading,justify:"center",children:(0,h.jsx)(m.Loading.Raw,{})})},o.COMPONENT)},"./src/screens/rakuen/history/component/favor-list/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{loading:{height:60},container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:12,paddingLeft:r._.sm,paddingRight:r._.wind},title:{marginTop:6},favor:{marginTop:6,marginLeft:r._.md}}})},"./src/screens/rakuen/history/component/favor-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{segment:{width:r._.window.width-2*r._.wind,height:30,marginLeft:r._.wind,marginVertical:r._.sm}}})},"./src/screens/rakuen/history/component/favor-list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=d,t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/rakuen/history/component/favor-list/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return String(e)}function i(e){e=e.item;return(0,n.jsx)(o.default,{item:e})}try{d.displayName="keyExtractor",d.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/favor-list/utils.tsx#keyExtractor"]={docgenInfo:d.__docgenInfo,name:"keyExtractor",path:"src/screens/rakuen/history/component/favor-list/utils.tsx#keyExtractor"})}catch(e){}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/favor-list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/history/component/favor-list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/history/component/local-list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"LocalList")},"./src/screens/rakuen/history/component/local-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/history/component/local-list/utils.tsx"),i=s("./src/screens/rakuen/history/component/local-list/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,c.jsx)(o.ListView,{keyExtractor:d.keyExtractor,style:n._.mt.sm,sections:t.sections,scrollToTop:!0,renderSectionHeader:d.renderSectionHeader,renderItem:d.renderItem},t.sections.length)},i.COMPONENT);try{locallist.displayName="locallist",locallist.__docgenInfo={description:"",displayName:"locallist",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/local-list/index.tsx#locallist"]={docgenInfo:locallist.__docgenInfo,name:"locallist",path:"src/screens/rakuen/history/component/local-list/index.tsx#locallist"})}catch(e){}},"./src/screens/rakuen/history/component/local-list/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/local-list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/history/component/local-list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/utils/fetch/index.ts"),o=s("./src/screens/rakuen/history/component/local-list/item/ds.ts"),y=s("./src/screens/rakuen/history/component/local-list/item/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.topicId,r=e.avatar,o=e.userName,n=e.title,d=e.group,i=void 0===(a=e.time)?"":a,c=e.userId,a=t.$,u=t.navigation,e=(0,y.memoStyles)();return[null==(t=i.split(" "))?void 0:t[1],o,d].filter(function(e){return!!e}).join(" / "),(0,_.jsx)(p.Touchable,{animate:!0,onPress:function(){(0,j.t)("本地帖子.跳转",{to:"Topic",topicId:s}),u.push("Topic",{topicId:s,_noFetch:!0,_title:n,_group:d,_time:i,_avatar:r,_userName:o,_userId:c})},children:(0,_.jsxs)(p.Flex,{style:e.container,align:"start",children:[(0,_.jsx)(l.default,{style:e.image,children:(0,_.jsx)(p.UserStatus,{userId:c,children:(0,_.jsx)(m.Avatar,{navigation:u,src:r,userId:c,name:o})})}),(0,_.jsx)(p.Flex.Item,{children:(0,_.jsxs)(p.Flex,{style:e.item,align:"start",children:[(0,_.jsxs)(p.Flex.Item,{children:[(0,_.jsx)(p.Text,{size:15,bold:!0,children:"undefined"===n?"(此帖子已删除)":n}),(0,_.jsxs)(p.Text,{style:f._.mt.xs,type:"sub",size:11,lineHeight:12,children:[null==(t=i.split(" "))?void 0:t[1]," /"," ",(0,_.jsx)(m.Name,{userId:c,type:"sub",size:11,lineHeight:12,showFriend:!0,children:o})," ","/ ",d]})]}),a.isFavor(s)&&(0,_.jsx)(p.Iconfont,{style:e.favor,size:16,name:"md-star",color:f._.colorYellow})]})})]})})},o.COMPONENT)},"./src/screens/rakuen/history/component/local-list/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:r._.md,paddingLeft:r._.sm,paddingRight:r._.wind},favor:{marginTop:1}}})},"./src/screens/rakuen/history/component/local-list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=i,t.renderItem=a,t.renderSectionHeader=c,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=r(s("./src/screens/rakuen/history/component/local-list/item/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");function i(e){return String(e.topicId)}function c(e){e=e.section.title;return(0,d.jsx)(o.SectionHeader,{size:14,children:e})}function a(e){e=e.item;return(0,d.jsx)(n.default,Object.assign({},e))}try{i.displayName="keyExtractor",i.__docgenInfo={description:"",displayName:"keyExtractor",props:{topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/local-list/utils.tsx#keyExtractor"]={docgenInfo:i.__docgenInfo,name:"keyExtractor",path:"src/screens/rakuen/history/component/local-list/utils.tsx#keyExtractor"})}catch(e){}try{c.displayName="renderSectionHeader",c.__docgenInfo={description:"",displayName:"renderSectionHeader",props:{section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"{ title: any; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/local-list/utils.tsx#renderSectionHeader"]={docgenInfo:c.__docgenInfo,name:"renderSectionHeader",path:"src/screens/rakuen/history/component/local-list/utils.tsx#renderSectionHeader"})}catch(e){}try{a.displayName="renderItem",a.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/local-list/utils.tsx#renderItem"]={docgenInfo:a.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/history/component/local-list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/history/component/reply-list/comment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),l=r(s("./src/screens/rakuen/history/component/reply-list/title/index.tsx")),p=s("./src/screens/rakuen/history/component/reply-list/comment/utils.ts"),m=s("./src/screens/rakuen/history/component/reply-list/comment/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r=e.topicId,e=t.$,o=t.navigation;return(t=e.comment(r)).length?(s=(0,m.memoStyles)(),(0,f.jsx)(n.default,{style:s.comment,children:t.map(function(e,t){return(0,f.jsxs)(n.default,{style:(0,a.stl)(s.item,t&&s.border),children:[(0,f.jsxs)(d.Flex,{children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsxs)(l.default,{size:12,lineHeight:14,numberOfLines:4,children:[(0,f.jsxs)(d.Text,{size:12,lineHeight:14,type:"sub",children:[(0,a.lastDate)((0,a.getTimestamp)(e.time))," ",e.floor,"："]}),(0,p.removeHtmlEntities)((0,a.HTMLDecode)((0,a.removeHTMLTag)(e.message,!1))).replace(/\[来自Bangumi for (iOS|android)\] 获取/,"")]})}),(0,f.jsx)(i.IconTouchable,{style:c._.mr._sm,name:"md-navigate-next",onPress:function(){o.push("Topic",{topicId:r+"#post_"+e.id})}})]}),(0,f.jsx)(i.Likes,{style:s.likes,topicId:r,id:e.id,likeType:u.LIKE_TYPE_RAKUEN,onPress:c.uiStore.showLikesUsers})]},e.id)})})):null})},"./src/screens/rakuen/history/component/reply-list/comment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{comment:{paddingHorizontal:12,marginHorizontal:r._.wind,marginBottom:r._.md,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd},item:{paddingVertical:12},border:{borderTopWidth:r._.hairlineWidth,borderTopColor:r._.colorBorder},likes:{marginLeft:"-5%",marginBottom:-12,transform:[{scale:.9}]}}})},"./src/screens/rakuen/history/component/reply-list/comment/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.removeHtmlEntities=function(e){return e.replace(/&#?[a-zA-Z0-9]+;/g,"")}},"./src/screens/rakuen/history/component/reply-list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ReplyList")},"./src/screens/rakuen/history/component/reply-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/rakuen/history/component/reply-list/list/index.tsx")),r=s("./src/screens/rakuen/history/component/reply-list/ds.ts"),a=s("./src/screens/rakuen/history/component/reply-list/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return t=t.$,(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.ScrollView,{children:t.state.show&&(0,u.jsx)(o.default,{style:[{minHeight:d._.window.height},d._.mt.sm],children:(0,u.jsx)(c.default,{})})}),(0,u.jsx)(n.Pagination,{style:a.styles.pagination,input:t.state.ipt,onPrev:t.prev,onNext:t.next,onChange:t.onChange,onSearch:t.doSearch})]})},r.COMPONENT);try{replylist.displayName="replylist",replylist.__docgenInfo={description:"",displayName:"replylist",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/reply-list/index.tsx#replylist"]={docgenInfo:replylist.__docgenInfo,name:"replylist",path:"src/screens/rakuen/history/component/reply-list/index.tsx#replylist"})}catch(e){}},"./src/screens/rakuen/history/component/reply-list/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/reply-list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/history/component/reply-list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.split.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./src/components/index.ts"),y=s("./src/screens/_/index.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),h=r(s("./src/screens/rakuen/history/component/reply-list/comment/index.tsx")),r=s("./src/screens/rakuen/history/component/reply-list/item/ds.ts"),x=s("./src/screens/rakuen/history/component/reply-list/item/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r=e.title,o=e.href,n=e.replies,d=e.userName,i=void 0===(i=e.tip)?"":i,c=void 0===(c=e.tipHref)?"":c,a=e.time,e=t.$,u=t.navigation,t=(0,x.memoStyles)(),l=o.replace("/group/topic/","group/"),p=!!(o=e.readed(l)).time,m="+"+n,o=(p&&Number(n)>o.replies&&(s="+"+(Number(n)-o.replies)),e.avatar(l)),c=null==(e=c.split("/user/"))?void 0:e[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(j.Flex,{style:t.item,align:"start",children:[!!o&&(0,g.jsx)(f.default,{style:t.avatar,children:(0,g.jsx)(j.UserStatus,{userId:c,children:(0,g.jsx)(j.Avatar,{navigation:u,src:o,userId:c})})}),(0,g.jsx)(j.Flex.Item,{children:(0,g.jsx)(j.Touchable,{animate:!0,onPress:function(){_.rakuenStore.updateTopicReaded(l,Number(n)),u.push("Topic",{topicId:l,_title:r,_replies:"+"+n,_time:a})},children:(0,g.jsxs)(f.default,{style:t.wrap,children:[(0,g.jsxs)(j.Text,{size:15,bold:!0,children:[(0,b.HTMLDecode)(r),(0,g.jsxs)(j.Text,{type:p?"sub":"main",size:11,lineHeight:15,children:[" ",m]}),!!s&&(0,g.jsxs)(j.Text,{type:"main",size:11,lineHeight:15,children:[" ",s]})]}),(0,g.jsx)(j.Flex,{style:_._.mt.xs,children:(0,g.jsxs)(j.Text,{type:"sub",size:11,lineHeight:12,children:["最后回复 ",(0,b.correctAgo)(a)," /"," ",(0,g.jsx)(y.Name,{userId:c,type:"sub",size:11,lineHeight:12,showFriend:!0,children:i})," ","/ ",d]})})]})})})]}),(0,g.jsx)(h.default,{topicId:l})]})},r.COMPONENT)},"./src/screens/rakuen/history/component/reply-list/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind-r._._wind+r._.md},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},avatar:{marginTop:r._.md,marginRight:12}}})},"./src/screens/rakuen/history/component/reply-list/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/reply-list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/history/component/reply-list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/rakuen/history/component/reply-list/item/index.tsx")),r=s("./src/screens/rakuen/history/component/reply-list/list/ds.ts"),c=s("./src/screens/rakuen/history/component/reply-list/list/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=(t=t.$.myReply).list;return t._loaded&&!s.length?(0,a.jsxs)(o.Flex,{style:c.styles.empty,direction:"column",justify:"center",children:[(0,a.jsx)(o.Mesume,{}),(0,a.jsx)(o.Text,{style:n._.mt.sm,type:"sub",children:"好像什么都没有"})]}):(0,a.jsx)(o.ScrollView,{children:s.map(function(e){return(0,a.jsx)(i.default,Object.assign({},e),e.href)})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/reply-list/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/history/component/reply-list/list/index.tsx#list"})}catch(e){}},"./src/screens/rakuen/history/component/reply-list/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({empty:{minHeight:240}})},"./src/screens/rakuen/history/component/reply-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({pagination:{paddingTop:s._.sm,paddingBottom:s._.ios(s._.md,s._.sm)}})},"./src/screens/rakuen/history/component/reply-list/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),d=r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=l(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),c=s("./src/components/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),u=["children","numberOfLines"];function l(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(l=function(e){return e?s:t})(e))}function o(e){var t=e.children,s=e.numberOfLines,e=(0,d.default)(e,u),s=(0,i.useState)(s),s=(0,n.default)(s,2),r=s[0],o=s[1];return(0,a.jsx)(c.Text,Object.assign({},e,{numberOfLines:r,onPress:function(){o(0)},children:t}))}t.default=o;try{o.displayName="Title",o.__docgenInfo={description:"",displayName:"Title",props:{numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/reply-list/title/index.tsx#Title"]={docgenInfo:o.__docgenInfo,name:"Title",path:"src/screens/rakuen/history/component/reply-list/title/index.tsx#Title"})}catch(e){}},"./src/screens/rakuen/history/component/tab/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_MAP=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tab"),t.STATUS_MAP={wishes:"wish",collections:"collect",doings:"doing",on_hold:"onHold",dropped:"dropped"}},"./src/screens/rakuen/history/component/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=b(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),n=s("./node_modules/react-native-tab-view/lib/module/index.js"),d=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),i=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),u=s("./src/utils/dev/index.ts"),l=s("./src/screens/rakuen/history/ds.ts"),p=r(s("./src/screens/rakuen/history/component/favor-list/index.tsx")),m=r(s("./src/screens/rakuen/history/component/local-list/index.tsx")),f=r(s("./src/screens/rakuen/history/component/reply-list/index.tsx")),j=s("./src/screens/rakuen/history/component/tab/ds.ts"),y=s("./src/screens/rakuen/history/component/tab/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function b(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(b=function(e){return e?s:t})(e))}t.default=(0,a.c)(function(e,t){var r=t.$,s=((0,u.r)(j.COMPONENT),(0,o.useMemo)(function(){return(0,n.SceneMap)({reply:function(){return(0,_.jsx)(f.default,{})},favor:function(){return(0,_.jsx)(p.default,{})},local:function(){return(0,_.jsx)(m.default,{})}})},[]));return(0,d.useObserver)(function(){var t=(0,y.memoStyles)();return(0,_.jsx)(i.TabView,{lazyPreloadDistance:0,navigationState:{index:r.state.page,routes:l.TABS},renderTabBar:function(e){return(0,_.jsx)(i.TabBar,Object.assign({},e,{style:t.tabBar,tabStyle:t.tab,labelStyle:t.label,indicatorStyle:t.indicator,pressOpacity:1,pressColor:"transparent",renderLabel:function(e){var t,s=e.route,e=e.focused,s=s.title;return"收藏"===s?t=r.list.length:"缓存"===s&&(t=r.keys.length),(0,_.jsxs)(i.Flex,{style:c._.container.block,justify:"center",children:[(0,_.jsx)(i.Text,{type:"title",size:13,bold:e,noWrap:!0,children:s}),!!t&&(0,_.jsxs)(i.Text,{type:"sub",size:11,bold:!0,lineHeight:13,noWrap:!0,children:[" ",t," "]})]})}}))},renderScene:s,onIndexChange:r.onIndexChange},c._.orientation)})});try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/rakuen/history/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/rakuen/history/component/tab/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/screens/rakuen/history/ds.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.width/o.TABS.length;return{tabBar:{backgroundColor:r._.ios("transparent",r._.select("transparent",r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1)),borderBottomWidth:r._.select(r._.ios(0,r._.hairlineWidth),r._.deepDark?0:r._.hairlineWidth),borderBottomColor:r._.colorBorder,elevation:0},tab:{width:e,height:48},label:{padding:0},indicator:{width:16,height:4,marginLeft:(e-16)/2,backgroundColor:r._.colorMain,borderRadius:4}}})},"./src/screens/rakuen/history/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.DS=t.COMPONENT=void 0;t.COMPONENT="RakuenHistory",t.TABS=[{key:"reply",title:"我回复的"},{key:"favor",title:"收藏"},{key:"local",title:"缓存"}],t.DS=["小组","条目","章节","人物","日志"]},"./src/screens/rakuen/history/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/history/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/history/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/rakuen/history/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation;return(0,d.jsx)(o.Header,{title:"帖子聚合",alias:"本地帖子",hm:["rakuen/history","RakuenHistory"],headerRight:function(){return(0,d.jsx)(o.Header.Popover,{data:["说明"],onSelect:function(e){"说明"===e&&s.push("Information",{title:"帖子聚合",advance:!0,message:["能快速查看回复和贴贴信息，图 1 为普通用户示例，图 2 为会员示例支持同时显示更多自己的回复"],images:["https://cdn.nlark.com/yuque/0/2024/png/386799/1718099312472-ca3d7ec4-ebc9-4091-891c-52a10241c0b0.png","https://cdn.nlark.com/yuque/0/2024/png/386799/1718099326689-d6f24f78-4f63-4bef-af1a-d9d21839b52b.png"]})}})}})},n.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/rakuen/history/header/index.tsx#header"})}catch(e){}},"./src/screens/rakuen/history/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/history/component/tab/index.tsx")),c=r(s("./src/screens/rakuen/history/header/index.tsx")),r=r(s("./src/screens/rakuen/history/store/index.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-history",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{history.displayName="history",history.__docgenInfo={description:"",displayName:"history",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/history/index.tsx#history"]={docgenInfo:history.__docgenInfo,name:"history",path:"src/screens/rakuen/history/index.tsx#history"})}catch(e){}},"./src/screens/rakuen/history/store/action.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/utils/index.ts"),f=s("./src/utils/kv/index.ts"),r=r(s("./src/screens/rakuen/history/store/fetch.ts")),j=s("./src/screens/rakuen/history/store/ds.ts");function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var _;t.default=(s=r.default,(0,a.default)(b,s),_=y(b),(0,o.default)(b));function b(){var o;(0,i.default)(this,b);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=_.call.apply(_,[this].concat(s)),(0,p.default)((0,c.default)(o),"onIndexChange",function(e){o.setState({page:e}),o.setStorage(j.NAMESPACE)}),(0,p.default)((0,c.default)(o),"onValueChange",function(e){o.setState({type:e}),o.setStorage(j.NAMESPACE)}),(0,p.default)((0,c.default)(o),"onPage",(t=(0,d.default)(n.mark(function e(t){var s,r;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",!0);case 2:if(s=[],t.forEach(function(e){e="favor_"+e.replace("/","_");s.push(e)}),s.length){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,(0,f.gets)(s);case 8:r=e.sent,o.setState({topics:r}),o.setStorage(j.NAMESPACE);case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,c.default)(o),"prev",(0,d.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=o.state.replyPage))return e.abrupt("return");e.next=3;break;case 3:o.setState({replyPage:t-1,show:!1,ipt:String(t-1)}),o.fetchGroup(),setTimeout(function(){o.setState({show:!0}),o.setStorage(j.NAMESPACE)},400);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(o),"next",(0,d.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=o.state.replyPage,o.setState({replyPage:t+1,show:!1,ipt:String(t+1)}),o.fetchGroup(),setTimeout(function(){o.setState({show:!0}),o.setStorage(j.NAMESPACE)},400);case 4:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(o),"onChange",function(e){e=e.nativeEvent.text;o.setState({ipt:e})}),(0,p.default)((0,c.default)(o),"doSearch",function(){var e=o.state.ipt,e=""===e?1:parseInt(e);e<1?(0,m.info)("请输入正确页码"):(o.setState({replyPage:e,show:!1,ipt:String(e)}),o.fetchGroup(),setTimeout(function(){o.setState({show:!0}),o.setStorage(j.NAMESPACE)},400))}),o}},"./src/screens/rakuen/history/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),p=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=r(s("./src/screens/rakuen/history/store/state.ts")),f=s("./src/screens/rakuen/history/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var y;t.default=(s=r.default,(0,i.default)(_,s),y=j(_),(0,d.default)(_,[{key:"keys",get:function(){var e=p.rakuenStore.state,t=e.topic,e=e.cloudTopic;return Array.from(new Set([].concat((0,o.default)(Object.keys(t)),(0,o.default)(Object.keys(e))))).filter(function(e){return!(!e.includes("group/")||e.includes("undefined")||!/^group\/(\d+)$/.test(e))}).sort(function(e,t){return(0,m.desc)(parseInt(null==(e=e.split("/"))?void 0:e[1]),parseInt(null==(e=t.split("/"))?void 0:e[1]))})}},{key:"sections",get:function(){var r=[],o={};return this.keys.forEach(function(e){var t,s=p.rakuenStore.state.topic[e]||p.rakuenStore.state.cloudTopic[e];null!=s&&s.title&&"undefined"!==(null==s?void 0:s.title)&&((t=(s.time||"").split(" ")[0])in o||(o[t]=r.length,r.push({title:t,data:[]})),r[o[t]].data.push(Object.assign({topicId:e},s)))}),r}},{key:"isFavor",value:function(e){return(0,l.computed)(function(){return p.rakuenStore.favorV2(e)}).get()}},{key:"list",get:function(){var t=this.state.type,s=p.rakuenStore.state.favorV2,r=[];return Object.keys(s).map(function(e){s[e]&&r.push(e)}),r.filter(function(e){return"小组"===t?e.includes("group/"):"条目"===t?e.includes("subject/"):"章节"===t?e.includes("ep/"):"人物"===t?e.includes("crt/")||e.includes("prsn/"):"日志"===t?e.includes("blog/"):e.includes("group/")}).sort(function(e,t){return(0,m.desc)(parseInt(null==(e=e.split("/"))?void 0:e[1]),parseInt(null==(e=t.split("/"))?void 0:e[1]))})}},{key:"topic",value:function(e){var t=this;return(0,l.computed)(function(){return t.state.topics["favor_"+e.replace("/","_")]||null}).get()}},{key:"myReply",get:function(){return p.rakuenStore.group("my_reply",this.state.replyPage)}},{key:"readed",value:function(e){return(0,l.computed)(function(){return p.rakuenStore.readed(e)}).get()}},{key:"avatar",value:function(e){return(0,l.computed)(function(){return p.rakuenStore.topic(e).avatar}).get()}},{key:"comment",value:function(e){return(0,l.computed)(function(){var t=p.systemStore.isAdvance?f.COMMENT_LIMIT_ADVANCE:f.COMMENT_LIMIT,s=[];return p.rakuenStore.comments(e).list.slice().reverse().forEach(function(e){t<=s.length||e.userId===p.userStore.myId&&!e.message.includes("删除了回复")&&(s.push({id:e.id,floor:e.floor,time:e.time,message:e.message}),t<=s.length)||e.sub.forEach(function(e){t<=s.length||e.userId!==p.userStore.myId||e.message.includes("删除了回复")||s.push({id:e.id,floor:e.floor,time:e.time,message:e.message})})}),s}).get()}}]),(0,u.default)((t=_).prototype,"keys",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"keys"),t.prototype),(0,u.default)(t.prototype,"sections",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"sections"),t.prototype),(0,u.default)(t.prototype,"list",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,u.default)(t.prototype,"myReply",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"myReply"),t.prototype),t);function _(){return(0,n.default)(this,_),y.apply(this,arguments)}},"./src/screens/rakuen/history/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.COMMENT_LIMIT_ADVANCE=t.COMMENT_LIMIT=void 0;s=s("./src/screens/rakuen/history/ds.ts");t.NAMESPACE="Screen"+s.COMPONENT,t.STATE={page:0,replyPage:0,ipt:"1",show:!0,topics:{},type:"小组",_loaded:!1},t.COMMENT_LIMIT=3,t.COMMENT_LIMIT_ADVANCE=10},"./src/screens/rakuen/history/store/fetch.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),f=s("./src/stores/rakuen/utils.ts"),j=s("./src/utils/index.ts"),y=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/history/store/computed.ts"));function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b,h={};t.default=(s=r.default,(0,a.default)(x,s),b=_(x),(0,o.default)(x));function x(){var o;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=b.call.apply(b,[this].concat(t)),(0,p.default)((0,c.default)(o),"fetchGroup",(0,d.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.rakuenStore.fetchGroup({groupId:"my_reply",page:o.state.replyPage});case 2:return setTimeout(function(){o.fetchTopicQueue()},4e3),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(o),"fetchTopicQueue",(0,d.default)(n.mark(function e(){var t,s,r;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.myReply.list.map(function(e){return e.href.replace("/group/topic/","group/")}),e.next=3,(0,j.queue)(t.map(function(t){return function(){var e=(0,f.getInt)(t);return m.rakuenStore.init("comments"+e)}}));case 3:return s=(0,j.getTimestamp)(),r=[],t.forEach(function(e){var t;return!!h[e]||!!((t=m.rakuenStore.comments(e)._loaded)&&s-Number(t)<=y.H12*Number(o.state.page))||(h[e]=!0,void r.push(function(){return console.info("fetchTopicQueue",e),m.rakuenStore.fetchTopic({topicId:e})}))}),e.abrupt("return",(0,j.queue)(r));case 7:case"end":return e.stop()}},e)}))),o}},"./src/screens/rakuen/history/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),r=r(s("./src/screens/rakuen/history/store/action.ts")),f=s("./src/screens/rakuen/history/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,a.default)(_,s),y=j(_);var y,r=(0,d.default)(_);function _(){var s;(0,i.default)(this,_);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=y.call.apply(y,[this].concat(t)),(0,p.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(f.NAMESPACE);case 2:return t=e.sent,e.next=5,m.rakuenStore.init("topic");case 5:return e.next=7,m.rakuenStore.init("cloudTopic");case 7:return s.setState(Object.assign({},t,{_loaded:!0})),m.rakuenStore.getFavor(),s.fetchGroup(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),s}t.default=r},"./src/screens/rakuen/history/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),p=s("./src/screens/rakuen/history/store/ds.ts");function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(j,s),f=m(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,d.default)(e),"state",(0,l.observable)(p.STATE)),e}},"./src/screens/rakuen/mine/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/mine/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra"),t.TYPE_DS=["我的","全部"]},"./src/screens/rakuen/mine/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r,o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/mine/component/extra/ds.ts"),i=s("./src/screens/rakuen/mine/component/extra/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){(e=e.$)&&(r=e.state.type);var t=void 0===(null==e?void 0:e.state.type)?r:null==e?void 0:e.state.type;return(0,c.jsx)(n.SegmentedControl,{style:i.styles.segment,size:11,values:d.TYPE_DS,selectedIndex:"mine"===t?0:1,onValueChange:null==e?void 0:e.onChange},t)},d.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMine"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/rakuen/mine/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/rakuen/mine/component/extra/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(96),height:s._.r(28),marginRight:s._.sm}})},"./src/screens/rakuen/mine/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter")},"./src/screens/rakuen/mine/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=r(s("./node_modules/react/index.js")),p=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),m=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/utils/dev/index.ts"),j=s("./src/screens/rakuen/mine/component/filter/ds.ts"),y=s("./src/screens/rakuen/mine/component/filter/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=l.default.Component,(0,i.default)(x,s),h=b(x),(0,n.default)(x,[{key:"render",value:function(){(0,f.r)(j.COMPONENT);var e=this.context.$,t=e.state.ipt,s=this.state.focus;return(0,_.jsxs)(p.default,{style:this.styles.filter,children:[(0,_.jsx)(m.Input,{style:this.styles.input,clearButtonMode:"never",value:t,returnKeyType:"search",returnKeyLabel:"搜索",onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:e.onFilterChange,onSubmitEditing:e.onSubmitEditing}),!s&&!t&&(0,_.jsx)(m.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:(0,_.jsx)(m.Iconfont,{name:"md-search",size:18})})]})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]);var h,l=x;function x(){var e;(0,o.default)(this,x);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=h.call.apply(h,[this].concat(s)),(0,u.default)((0,d.default)(e),"state",{focus:!1}),(0,u.default)((0,d.default)(e),"onFocus",function(){e.setState({focus:!0})}),(0,u.default)((0,d.default)(e),"onBlur",function(){e.setState({focus:!1})}),e}t.default=(0,r.obc)(l);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/rakuen/mine/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/rakuen/mine/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:r._.wind,marginBottom:r._._wind,backgroundColor:r._.colorBg},input:Object.assign({},r._.fontSize(16),{fontWeight:"800",textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0}}})},"./src/screens/rakuen/mine/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/mine/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),u=s("./src/utils/app/ds.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),o=s("./src/screens/rakuen/mine/component/item/ds.ts"),m=s("./src/screens/rakuen/mine/component/item/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.id,r=e.cover,o=e.name,e=e.num,n=t.navigation,t=(0,m.memoStyles)(),r=(0,a.getGroupThumbStatic)(r);return c.systemStore.setting.cdn&&"magma"===c.systemStore.setting.cdnOrigin&&"string"==typeof r&&r.includes(u.HOST_IMAGE)&&(r=(0,p.CDN_OSS_MAGMA_PIC)(r)),(0,f.jsx)(d.default,{style:t.container,children:(0,f.jsx)(i.Touchable,{animate:!0,scale:.92,onPress:function(){(0,l.t)("我的小组.跳转",{groupId:s}),n.push("Group",{groupId:s})},children:(0,f.jsxs)(i.Flex,{align:"start",children:[(0,f.jsx)(i.Cover,{size:t.body.height,src:r,radius:!0}),(0,f.jsx)(i.Flex.Item,{style:c._.ml.sm,children:(0,f.jsxs)(i.Flex,{style:t.body,direction:"column",align:"start",justify:"center",children:[(0,f.jsx)(i.Text,{size:11,numberOfLines:2,bold:!0,children:o}),(0,f.jsxs)(i.Text,{style:c._.mt.xs,type:"sub",size:10,children:[(0,f.jsx)(i.Text,{type:"sub",size:10,bold:!0,children:e})," ","位成员"]})]})})]})})})},o.COMPONENT)},"./src/screens/rakuen/mine/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"50%",paddingVertical:r._.sm+4,paddingHorizontal:r._.sm,borderRadius:r._.radiusSm,overflow:"hidden"},body:{height:r._.r(40)}}})},"./src/screens/rakuen/mine/component/list-all/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ListAll")},"./src/screens/rakuen/mine/component/list-all/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/assets/json/group.json")),c=r(s("./src/screens/rakuen/mine/component/filter/index.tsx")),a=s("./src/screens/rakuen/mine/component/list-all/utils.tsx"),r=s("./src/screens/rakuen/mine/component/list-all/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=t.$.state.filter;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(o.PaginationList,{style:n._.mt._md,contentContainerStyle:n._.container.outer,data:s?i.default.filter(function(e){return e.t.toLowerCase().includes(s.toLowerCase())}):i.default,numColumns:2,renderItem:a.renderItem})]})},r.COMPONENT);try{listall.displayName="listall",listall.__docgenInfo={description:"",displayName:"listall",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/component/list-all/index.tsx#listall"]={docgenInfo:listall.__docgenInfo,name:"listall",path:"src/screens/rakuen/mine/component/list-all/index.tsx#listall"})}catch(e){}},"./src/screens/rakuen/mine/component/list-all/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,r(s("./node_modules/react/index.js")),s("./src/utils/index.ts")),n=r(s("./src/screens/rakuen/mine/component/item/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s,e=e.item;return(0,d.jsx)(n.default,{id:e.i||e.u,name:e.t,cover:(t=e.i)?(s=String(Math.floor(t/100)),"https://lain.bgm.tv/pic/icon/m/000/00/"+(0,o.pad)(s)+"/"+t+".jpg"):"",num:e.n})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/component/list-all/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/mine/component/list-all/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/mine/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/mine/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/rakuen/mine/component/item/index.tsx")),r=s("./src/screens/rakuen/mine/component/list/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){t=t.$;return(0,c.jsx)(o.ScrollView,{contentContainerStyle:n._.container.outer,scrollToTop:!0,children:(0,c.jsx)(o.Flex,{style:n._.mt._sm,wrap:"wrap",children:t.mine.list.map(function(e){return(0,c.jsx)(i.default,Object.assign({},e),e.id)})})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/mine/component/list/index.tsx#list"})}catch(e){}},"./src/screens/rakuen/mine/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;var s=s("./src/constants/index.ts"),r=(t.COMPONENT="Mine",t.NAMESPACE="ScreenMine",t.EXCLUDE_STATE={ipt:"",filter:"",isFocused:!0});t.STATE=Object.assign({type:s.STORYBOOK?"all":"mine"},r,{_loaded:!1})},"./src/screens/rakuen/mine/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/mine/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/mine/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/rakuen/mine/component/extra/index.tsx")),r=s("./src/screens/rakuen/mine/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$;return(0,i.jsx)(o.Header,{title:"小组",hm:["group/mine","Mine"],headerRight:function(){return(0,i.jsx)(d.default,{$:s})}})},r.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/rakuen/mine/header/index.tsx#header"})}catch(e){}},"./src/screens/rakuen/mine/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/mine/component/list/index.tsx")),c=r(s("./src/screens/rakuen/mine/component/list-all/index.tsx")),a=r(s("./src/screens/rakuen/mine/header/index.tsx")),r=r(s("./src/screens/rakuen/mine/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){var e=s.state.type;return(0,u.jsxs)(o.Component,{id:"screen-mine",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(o.Page,{children:"mine"===e?(0,u.jsx)(i.default,{}):(0,u.jsx)(c.default,{})})]})})});try{mine.displayName="mine",mine.__docgenInfo={description:"",displayName:"mine",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/mine/index.tsx#mine"]={docgenInfo:mine.__docgenInfo,name:"mine",path:"src/screens/rakuen/mine/index.tsx#mine"})}catch(e){}},"./src/screens/rakuen/mine/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/screens/rakuen/mine/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var h;t.default=(s=r.default,(0,a.default)(x,s),h=b(x),(0,i.default)(x,[{key:"mine",get:function(){return Object.assign({},j.rakuenStore.mine,{list:j.rakuenStore.mine.list.slice().sort(function(e,t){return(0,y.desc)(e,t,function(e){return e.num})})})}}]),(0,m.default)((t=x).prototype,"mine",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"mine"),t.prototype),t);function x(){var s;(0,d.default)(this,x);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,p.default)((0,c.default)(s),"state",(0,f.observable)(_.STATE)),(0,p.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(_.NAMESPACE);case 2:return t=e.sent,s.setState(Object.assign({},t,_.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",j.rakuenStore.fetchMine());case 5:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(s),"onChange",function(e){if(e){var t=s.state.type;if("我的"===e&&"mine"===t)return;if("全部"===e&&"all"===t)return}s.setState({type:"全部"===e?"all":"mine"}),s.setStorage(_.NAMESPACE)}),(0,p.default)((0,c.default)(s),"onFilterChange",function(e){e=e.trim();e?s.setState({ipt:e}):s.setState({ipt:e,filter:""})}),(0,p.default)((0,c.default)(s),"onSubmitEditing",function(){var e=s.state.ipt;e&&e.length&&s.setState({filter:e})}),s}},"./src/screens/rakuen/notify/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/notify/component/heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/rakuen/notify/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/notify/component/heatmaps/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Heatmap,{right:86,bottom:n._.bottom+20,id:"电波提醒.跳转",to:"Topic",alias:"帖子",transparent:!0}),(0,i.jsx)(o.Heatmap,{right:86,bottom:n._.bottom-13,id:"电波提醒.跳转",to:"PM",transparent:!0}),(0,i.jsx)(o.Heatmap,{right:260,bottom:n._.bottom-13,id:"电波提醒.跳转",to:"Zone",alias:"空间",transparent:!0}),(0,i.jsx)(o.Heatmap,{right:86,bottom:n._.bottom-46,id:"电波提醒.跳转",to:"Blog",alias:"日志",transparent:!0})]})},d.COMPONENT)},"./src/screens/rakuen/notify/component/item-notify/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemNotify"),t.EVENT={id:"电波提醒.跳转"}},"./src/screens/rakuen/notify/component/item-notify/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.repeat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/rakuen/notify/component/item-notify/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation;return(0,d.jsx)(o.ItemNotify,Object.assign({},s,{navigation:t,event:n.EVENT,index:e-(s.repeat||0),repeat:s.repeat||0}))},n.COMPONENT)},"./src/screens/rakuen/notify/component/item-pm/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemPM"),t.EVENT={id:"电波提醒.跳转"}},"./src/screens/rakuen/notify/component/item-pm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/notify/component/item-pm/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.id,r=e.item,e=e.index,o=t.$,t=t.navigation;return(0,i.jsx)(n.ItemPM,Object.assign({},r,{navigation:t,event:d.EVENT,index:e,onRefresh:function(){return o.fetchPM(!0,s)}}))},d.COMPONENT)},"./src/screens/rakuen/notify/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/notify/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/rakuen/notify/component/list/utils.tsx"),d=s("./src/screens/rakuen/notify/component/list/ds.ts"),i=s("./src/screens/rakuen/notify/component/list/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var e=e.id,s=t.$,r={keyExtractor:n.keyExtractor,contentContainerStyle:i.styles.contentContainerStyle,scrollEventThrottle:4,onScroll:s.onScroll};switch(e){case"notify":r.data=s.mergeNotify,r.renderItem=n.renderNotifyItem,r.onHeaderRefresh=s.fetchNotify;break;case"pmIn":r.data=s.pmIn,r.renderItem=n.renderPmInItem,r.onHeaderRefresh=function(){return s.fetchPM(!0,"pmIn")},r.onFooterRefresh=function(){return s.fetchPM(!1,"pmIn")};break;case"pmOut":r.data=s.pmOut,r.renderItem=n.renderPmOutItem,r.onHeaderRefresh=function(){return s.fetchPM(!0,"pmOut")},r.onFooterRefresh=function(){return s.fetchPM(!1,"pmOut")}}return(0,c.jsx)(o.ListView,Object.assign({},r))},d.COMPONENT)},"./src/screens/rakuen/notify/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({contentContainerStyle:{paddingTop:s._.md,paddingBottom:s._.bottom}})},"./src/screens/rakuen/notify/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e,t){return String(t)},t.renderNotifyItem=i,t.renderPmInItem=c,t.renderPmOutItem=a,r(s("./node_modules/react/index.js")),r(s("./src/screens/rakuen/notify/component/item-notify/index.tsx"))),n=r(s("./src/screens/rakuen/notify/component/item-pm/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,d.jsx)(o.default,{item:t,index:e})}function c(e){var t=e.item,e=e.index;return(0,d.jsx)(n.default,{id:"pmIn",item:t,index:e})}function a(e){var t=e.item,e=e.index;return(0,d.jsx)(n.default,{id:"pmOut",item:t,index:e})}try{i.displayName="renderNotifyItem",i.__docgenInfo={description:"",displayName:"renderNotifyItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/component/list/utils.tsx#renderNotifyItem"]={docgenInfo:i.__docgenInfo,name:"renderNotifyItem",path:"src/screens/rakuen/notify/component/list/utils.tsx#renderNotifyItem"})}catch(e){}try{c.displayName="renderPmInItem",c.__docgenInfo={description:"",displayName:"renderPmInItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/component/list/utils.tsx#renderPmInItem"]={docgenInfo:c.__docgenInfo,name:"renderPmInItem",path:"src/screens/rakuen/notify/component/list/utils.tsx#renderPmInItem"})}catch(e){}try{a.displayName="renderPmOutItem",a.__docgenInfo={description:"",displayName:"renderPmOutItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/component/list/utils.tsx#renderPmOutItem"]={docgenInfo:a.__docgenInfo,name:"renderPmOutItem",path:"src/screens/rakuen/notify/component/list/utils.tsx#renderPmOutItem"})}catch(e){}},"./src/screens/rakuen/notify/component/tabs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tabs")},"./src/screens/rakuen/notify/component/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/notify/ds.ts"),i=s("./src/screens/rakuen/notify/component/tabs/utils.tsx"),c=s("./src/screens/rakuen/notify/component/tabs/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.page;return(0,a.jsx)(o.TabsV2,{style:n._.mt._sm,routes:d.TABS,page:s,backgroundColor:n._.colorPlain,renderItem:i.renderItem,onChange:t.onTabsChange},n._.orientation)},c.COMPONENT);try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/component/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/rakuen/notify/component/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/rakuen/notify/component/tabs/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/rakuen/notify/component/list/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return(0,n.jsx)(o.default,{id:e.key})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"enum",value:[{value:'"notify"'},{value:'"pmIn"'},{value:'"pmOut"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/component/tabs/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/notify/component/tabs/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/notify/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_PAGE=t.TABS=t.STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts");t.COMPONENT="Notify",t.STATE={visibleBottom:s._.window.height,page:0,_loaded:!1},t.TABS=[{key:"notify",title:"提醒"},{key:"pmIn",title:"收件箱"},{key:"pmOut",title:"已发送"}],t.TYPE_PAGE={pm:1,out:2}},"./src/screens/rakuen/notify/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/notify/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/notify/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/rakuen/notify/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,a.jsx)(o.Header,{title:"电波提醒",hm:["notify/all","Notify"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("电波提醒.右上角菜单",{key:e}),(0,n.open)((0,i.HTML_NOTIFY)()))},children:(0,a.jsx)(o.Heatmap,{id:"电波提醒.右上角菜单"})})}})},c.COMPONENT)},"./src/screens/rakuen/notify/hooks.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.useNotifyPage=function(e){var t=e.$;(0,d.useRunAfter)((0,n.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:t.doClearNotify();case 3:case"end":return e.stop()}},e)})))},o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=s("./src/utils/hooks/index.ts")},"./src/screens/rakuen/notify/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/notify/component/heatmaps/index.tsx")),c=r(s("./src/screens/rakuen/notify/component/tabs/index.tsx")),a=r(s("./src/screens/rakuen/notify/header/index.tsx")),u=s("./src/screens/rakuen/notify/hooks.ts"),r=r(s("./src/screens/rakuen/notify/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){(0,u.useNotifyPage)(t);var s=t.$;return(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-notify",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(o.Page,{loaded:s.state._loaded,children:(0,l.jsx)(c.default,{})}),(0,l.jsx)(i.default,{})]})})});try{notify.displayName="notify",notify.__docgenInfo={description:"",displayName:"notify",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/notify/index.tsx#notify"]={docgenInfo:notify.__docgenInfo,name:"notify",path:"src/screens/rakuen/notify/index.tsx#notify"})}catch(e){}},"./src/screens/rakuen/notify/store.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.repeat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),y=s("./src/screens/rakuen/notify/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b;t.default=(s=r.default,(0,i.default)(h,s),b=_(h),(0,n.default)(h,[{key:"notify",get:function(){return m.rakuenStore.notify}},{key:"mergeNotify",get:function(){try{var s=this.notify.list,r=[];return s.forEach(function(e,t){t=s[t-1];t&&t.userId===e.userId&&t.title===e.title&&t.message===e.message&&t.message2===e.message2?r[r.length-1].repeat+=1:r.push(Object.assign({},e,{repeat:0}))}),Object.assign({},this.notify,{list:r})}catch(e){return this.notify}}},{key:"pmIn",get:function(){return m.userStore.pmIn}},{key:"pmOut",get:function(){return m.userStore.pmOut}}]),(0,l.default)((t=h).prototype,"notify",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"notify"),t.prototype),(0,l.default)(t.prototype,"mergeNotify",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"mergeNotify"),t.prototype),(0,l.default)(t.prototype,"pmIn",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"pmIn"),t.prototype),(0,l.default)(t.prototype,"pmOut",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"pmOut"),t.prototype),t);function h(){var t;(0,o.default)(this,h);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=b.call.apply(b,[this].concat(s)),(0,u.default)((0,d.default)(t),"params",void 0),(0,u.default)((0,d.default)(t),"state",(0,p.observable)(y.STATE)),(0,u.default)((0,d.default)(t),"init",function(){var e=t.params.type;return t.setState({page:y.TYPE_PAGE[e]||0,_loaded:!0}),(0,j.queue)([function(){return t.fetchNotify()},function(){return t.fetchPM(!0,"pmIn")},function(){return t.fetchPM(!0,"pmOut")}])}),(0,u.default)((0,d.default)(t),"fetchNotify",function(){return m.rakuenStore.fetchNotify(!0)}),(0,u.default)((0,d.default)(t),"fetchPM",function(){return m.userStore.fetchPM(0<arguments.length&&void 0!==arguments[0]&&arguments[0],1<arguments.length?arguments[1]:void 0)}),(0,u.default)((0,d.default)(t),"onTabsChange",function(e){t.setState({page:e})}),(0,u.default)((0,d.default)(t),"onScroll",f.updateVisibleBottom.bind((0,d.default)(t))),(0,u.default)((0,d.default)(t),"doClearNotify",function(){(0,j.t)("电波提醒.清除"),m.rakuenStore.doClearNotify()}),t}},"./src/screens/rakuen/reviews/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/reviews/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/reviews/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/reviews/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/rakuen/reviews/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/rakuen/reviews/component/item/ds.ts"),j=s("./src/screens/rakuen/reviews/component/item/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.id,r=e.title,o=e.replies,n=e.time,d=e.content,i=e.avatar,c=e.userId,e=e.userName,a=t.navigation;return(0,f.getIsBlockedUser)(m.rakuenStore.blockUserIds,e,c,"Reviews|"+s)?null:(t=(0,j.memoStyles)(),(0,y.jsx)(l.Touchable,{style:t.item,animate:!0,onPress:function(){a.push("Blog",{blogId:s})},children:(0,y.jsxs)(l.Flex,{style:t.wrap,align:"start",children:[(0,y.jsx)(u.default,{style:m._.mr.sm,children:(0,y.jsx)(p.Avatar,{navigation:a,userId:c,name:e,src:i})}),(0,y.jsxs)(l.Flex.Item,{children:[(0,y.jsxs)(l.Text,{size:15,children:[(0,f.HTMLDecode)(r),"+0"!==o&&(0,y.jsxs)(l.Text,{type:"main",size:12,lineHeight:15,bold:!0,children:[" ",o]})]}),(0,y.jsxs)(l.Text,{style:m._.mt.sm,type:"sub",size:12,children:[(0,f.correctAgo)(n)," /"," ",(0,y.jsx)(p.Name,{userId:c,showFriend:!0,type:"sub",size:12,bold:!0,children:e})]}),(0,y.jsx)(l.Text,{style:m._.mt.sm,size:13,lineHeight:15,numberOfLines:4,children:d})]})]})}))},o.COMPONENT)},"./src/screens/rakuen/reviews/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind-r._._wind+r._.md},wrap:{paddingVertical:r._.md,paddingRight:r._.wind-r._._wind+r._.md}}})},"./src/screens/rakuen/reviews/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/reviews/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/rakuen/reviews/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/reviews/component/list/utils.tsx"),i=s("./src/screens/rakuen/reviews/component/list/ds.ts"),c=s("./src/screens/rakuen/reviews/component/list/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;t.navigation;var r=(t=s.reviews).list;return t._loaded&&!r.length?(0,a.jsxs)(o.Flex,{style:c.styles.empty,direction:"column",justify:"center",children:[(0,a.jsx)(o.Mesume,{}),(0,a.jsx)(o.Text,{style:n._.mt.sm,type:"sub",children:"好像什么都没有"})]}):(0,a.jsx)(o.ListView,{keyExtractor:d.keyExtractor,contentContainerStyle:n._.container.bottom,data:s.reviews,renderItem:d.renderItem,onHeaderRefresh:s.onHeaderRefresh,onFooterRefresh:s.fetchReviews})},i.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/reviews/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/reviews/component/list/index.tsx#list"})}catch(e){}},"./src/screens/rakuen/reviews/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({empty:{minHeight:240}})},"./src/screens/rakuen/reviews/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e,t){return String(e.id||t)},t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/rakuen/reviews/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){e=e.item;return(0,n.jsx)(o.default,Object.assign({},e))}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/reviews/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/reviews/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/reviews/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Reviews"},"./src/screens/rakuen/reviews/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/reviews/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/reviews/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/reviews/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,i.jsx)(o.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的影评":"影评",alias:"影评",hm:[s.url,"Reviews"],headerRight:function(){return(0,i.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&(0,n.open)(s.url)}})}})},d.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/reviews/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/rakuen/reviews/header/index.tsx#header"})}catch(e){}},"./src/screens/rakuen/reviews/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/reviews/component/list/index.tsx")),c=r(s("./src/screens/rakuen/reviews/header/index.tsx")),r=r(s("./src/screens/rakuen/reviews/store/index.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-reviews",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)(o.Page,{loaded:s.reviews._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{reviews.displayName="reviews",reviews.__docgenInfo={description:"",displayName:"reviews",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/reviews/index.tsx#reviews"]={docgenInfo:reviews.__docgenInfo,name:"reviews",path:"src/screens/rakuen/reviews/index.tsx#reviews"})}catch(e){}},"./src/screens/rakuen/reviews/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./src/stores/index.ts"),r=r(s("./src/screens/rakuen/reviews/store/fetch.ts"));function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var m;t.default=(s=r.default,(0,i.default)(f,s),m=p(f),(0,o.default)(f));function f(){var e;(0,n.default)(this,f);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=m.call.apply(m,[this].concat(s)),(0,u.default)((0,d.default)(e),"onItemPress",function(e,t){return l.rakuenStore.updateTopicReaded(e,t)}),e}},"./src/screens/rakuen/reviews/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),l=s("./src/stores/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/reviews/store/state.ts")),m=s("./src/screens/rakuen/reviews/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var j;t.default=(s=r.default,(0,d.default)(y,s),j=f(y),(0,n.default)(y,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"key",get:function(){return m.NAMESPACE+"|"+this.subjectId}},{key:"reviews",get:function(){var e=l.rakuenStore.reviews(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):p.LIST_EMPTY}},{key:"url",get:function(){return(0,p.HTML_REVIEWS)(this.subjectId)}},{key:"readed",value:function(e){return(0,u.computed)(function(){return l.rakuenStore.readed(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"reviews_"+this.subjectId}}]),(0,a.default)((t=y).prototype,"subjectId",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,a.default)(t.prototype,"key",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"key"),t.prototype),(0,a.default)(t.prototype,"reviews",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"reviews"),t.prototype),(0,a.default)(t.prototype,"url",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"ota",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,a.default)(t.prototype,"thirdPartyKey",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function y(){return(0,o.default)(this,y),j.apply(this,arguments)}},"./src/screens/rakuen/reviews/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=void 0;s=s("./src/screens/rakuen/reviews/ds.ts");t.NAMESPACE="Screen"+s.COMPONENT,t.STATE={history:[],ota:{},_loaded:!1}},"./src/screens/rakuen/reviews/store/fetch.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),y=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/reviews/store/computed.ts"));function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b,h=[];t.default=(s=r.default,(0,a.default)(x,s),b=_(x),(0,d.default)(x));function x(){var r;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,p.default)((0,c.default)(r),"initFetch",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,r.fetchReviews(!0);case 3:return(t=e.sent).list.length&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,(0,f.getTimestamp)()-s>=y.D7)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"onHeaderRefresh",function(){return r.fetchReviews(!0)}),(0,p.default)((0,c.default)(r),"fetchReviews",(0,n.default)(o.mark(function e(){var t,s=arguments;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<s.length&&void 0!==s[0]&&s[0],e.abrupt("return",m.rakuenStore.fetchReviews(r.subjectId,t));case 2:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"fetchThirdParty",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.reviews._loaded){e.next=8;break}return e.next=3,(0,j.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,p.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,p.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,f.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(r),"updateThirdParty",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,j.update)(r.thirdPartyKey,{list:r.reviews.list}),h.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),r}},"./src/screens/rakuen/reviews/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=r(s("./src/screens/rakuen/reviews/store/action.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,a.default)(j,s),f=m(j);var f,r=(0,d.default)(j);function j(){var t;(0,i.default)(this,j);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=f.call.apply(f,[this].concat(s)),(0,p.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(t.key);case 5:return e.t3=e.sent,e.t4={ota:{},_loaded:!0},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),e.abrupt("return",t.initFetch());case 10:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/rakuen/reviews/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),p=s("./src/screens/rakuen/reviews/store/ds.ts");function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(j,s),f=m(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,d.default)(e),"params",void 0),(0,u.default)((0,d.default)(e),"state",(0,l.observable)(p.STATE)),e}},"./src/screens/rakuen/setting/component/base/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Base")},"./src/screens/rakuen/setting/component/base/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=r(s("./src/screens/user/setting/component/block/index.tsx")),u=r(s("./src/screens/user/setting/component/tip/index.tsx")),l=s("./src/screens/rakuen/setting/component/styles.ts"),r=s("./src/screens/rakuen/setting/component/base/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)(function(){var e=d.rakuenStore.setting,t=e.filterDelete,s=e.isBlockDefaultUser,r=e.isMarkOldTopic;return(0,p.jsxs)(a.default,{children:[(0,p.jsx)(u.default,{children:"列表"}),(0,p.jsx)(n.ItemSetting,{hd:"过滤用户删除的楼层",ft:(0,p.jsx)(o.SwitchPro,{style:l.styles.switch,value:t,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"过滤删除",checked:!t}),d.rakuenStore.switchSetting("filterDelete")}}),withoutFeedback:!0}),(0,p.jsx)(n.ItemSetting,{hd:"屏蔽疑似广告姬",information:"屏蔽默认头像发布且回复数小于 4 的帖子",ft:(0,p.jsx)(o.SwitchPro,{style:l.styles.switch,value:s,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"屏蔽广告",checked:!s}),d.rakuenStore.switchSetting("isBlockDefaultUser")}}),withoutFeedback:!0}),(0,p.jsx)(n.ItemSetting,{information:"标记发布时间大于 1 年的帖子",hd:"标记坟贴",ft:(0,p.jsx)(o.SwitchPro,{style:l.styles.switch,value:r,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"坟贴",checked:!r}),d.rakuenStore.switchSetting("isMarkOldTopic")}}),withoutFeedback:!0})]})},r.COMPONENT)},"./src/screens/rakuen/setting/component/blocked-keyword/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"BlockedKeyword")},"./src/screens/rakuen/setting/component/blocked-keyword/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.trim.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=h(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),i=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),u=s("./src/utils/dev/index.ts"),l=s("./src/utils/hooks/index.ts"),p=r(s("./src/screens/user/setting/component/block/index.tsx")),m=r(s("./src/screens/user/setting/component/tip/index.tsx")),f=r(s("./src/screens/rakuen/setting/component/history/index.tsx")),j=s("./src/screens/rakuen/setting/component/blocked-keyword/utils.ts"),y=s("./src/screens/rakuen/setting/component/blocked-keyword/ds.ts"),_=s("./src/screens/rakuen/setting/component/blocked-keyword/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");function h(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(h=function(e){return e?s:t})(e))}function o(){(0,u.r)(y.COMPONENT);var e=(0,d.useState)(""),e=(0,n.default)(e,2),t=e[0],s=e[1],r=(0,d.useCallback)(function(e){s(e.trim())},[]),o=(0,d.useCallback)(function(){t.length?(c.rakuenStore.addBlockKeyword(t),s("")):(0,a.info)("不能为空")},[t]);return(0,l.useObserver)(function(){return(0,b.jsxs)(p.default,{children:[(0,b.jsx)(m.default,{children:"屏蔽关键字（对超展开标题、帖子正文生效）"}),(0,b.jsx)(f.default,{data:c.rakuenStore.setting.blockKeywords,onDelete:function(e){return(0,j.handleDeleteKeyword)(e)}}),(0,b.jsxs)(i.Flex,{style:_.styles.section,children:[(0,b.jsx)(i.Flex.Item,{children:(0,b.jsx)(i.Input,{style:_.styles.input,value:t,placeholder:"输入关键字",returnKeyType:"search",returnKeyLabel:"添加",onChangeText:r,onSubmitEditing:o})}),(0,b.jsx)(i.Touchable,{style:c._.ml.md,onPress:o,children:(0,b.jsx)(i.Flex,{style:_.styles.icon,justify:"center",children:(0,b.jsx)(i.Iconfont,{name:"md-add",size:24})})})]})]})})}t.default=o;try{o.displayName="BlockedKeyword",o.__docgenInfo={description:"屏蔽关键字",displayName:"BlockedKeyword",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/component/blocked-keyword/index.tsx#BlockedKeyword"]={docgenInfo:o.__docgenInfo,name:"BlockedKeyword",path:"src/screens/rakuen/setting/component/blocked-keyword/index.tsx#BlockedKeyword"})}catch(e){}},"./src/screens/rakuen/setting/component/blocked-keyword/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{width:36,height:36},section:{paddingVertical:s._.sm,paddingRight:s._.sm,paddingLeft:s._._wind},input:{height:44,paddingVertical:0}})},"./src/screens/rakuen/setting/component/blocked-keyword/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.handleDeleteKeyword=function(e){(0,o.t)("超展开设置.取消关键字",{item:e}),r.rakuenStore.deleteBlockKeyword(e),setTimeout(function(){r.rakuenStore.uploadSetting()},1e3)};var r=s("./src/stores/index.ts"),o=s("./src/utils/fetch/index.ts")},"./src/screens/rakuen/setting/component/blocked-users/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"BlockedUsers")},"./src/screens/rakuen/setting/component/blocked-users/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.trim.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),a=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),l=s("./src/utils/dev/index.ts"),p=s("./src/utils/hooks/index.ts"),m=r(s("./src/constants/i18n/index.ts")),f=r(s("./src/screens/user/setting/component/block/index.tsx")),j=r(s("./src/screens/user/setting/component/tip/index.tsx")),y=r(s("./src/screens/rakuen/setting/component/history/index.tsx")),_=s("./src/screens/rakuen/setting/component/blocked-users/utils.ts"),b=s("./src/screens/rakuen/setting/component/blocked-users/ds.ts"),h=s("./src/screens/rakuen/setting/component/blocked-users/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}function o(e){var t=e.navigation,s=e.onNavigate,e=((0,l.r)(b.COMPONENT),(0,c.useState)("")),e=(0,i.default)(e,2),r=e[0],o=e[1],n=(0,c.useCallback)(function(e){o(e.trim())},[]),d=(0,c.useCallback)(function(){(0,_.handleBlockUser)(r,function(){o("")})},[r]);return(0,p.useObserver)(function(){return(0,x.jsxs)(f.default,{children:[(0,x.jsx)(j.default,{children:"与以下用户绝交（不再看到用户的所有话题、评论、日志、私信、提醒）"}),u.userStore.isWebLogin?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.default,{navigation:t,data:u.rakuenStore.blockedUsers.list,onNavigate:s,onDelete:_.handleDeleteBlockUser}),(0,x.jsxs)(a.Flex,{style:h.styles.section,children:[(0,x.jsx)(a.Flex.Item,{children:(0,x.jsx)(a.Input,{style:h.styles.input,value:r,placeholder:"输入用户 ID 或用户名",returnKeyType:"search",returnKeyLabel:"添加",onChangeText:n,onSubmitEditing:d})}),(0,x.jsx)(a.Touchable,{style:u._.ml.md,onPress:d,children:(0,x.jsx)(a.Flex,{style:h.styles.icon,justify:"center",children:(0,x.jsx)(a.Iconfont,{name:"md-add",size:24})})})]})]}):(0,x.jsx)(a.Flex,{style:h.styles.section,children:(0,x.jsxs)(a.Text,{children:["需要",m.default.login()]})})]})})}t.default=o;try{o.displayName="BlockedUsers",o.__docgenInfo={description:"用户绝交",displayName:"BlockedUsers",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/component/blocked-users/index.tsx#BlockedUsers"]={docgenInfo:o.__docgenInfo,name:"BlockedUsers",path:"src/screens/rakuen/setting/component/blocked-users/index.tsx#BlockedUsers"})}catch(e){}},"./src/screens/rakuen/setting/component/blocked-users/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{width:36,height:36},section:{paddingVertical:s._.sm,paddingRight:s._.sm,paddingLeft:s._._wind},input:{height:44,paddingVertical:0}})},"./src/screens/rakuen/setting/component/blocked-users/utils.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlockUser=function(e,t){e.length?d.rakuenStore.doBlockUser({keyword:e.trim()},(0,n.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.t)("超展开设置.绝交"),e.next=3,d.rakuenStore.fetchPrivacy();case 3:(0,i.feedback)(),t();case 5:case"end":return e.stop()}},e)})),function(){(0,i.info)("添加失败, 可能不存在此用户或者授权信息过期")}):(0,i.info)("不能为空")},t.handleDeleteBlockUser=function(e){(0,i.confirm)("取消绝交 "+e.userName+", 确定?",function(){d.rakuenStore.doCancelBlockUser({url:""+a.HOST+e.href},(0,n.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.t)("超展开设置.取消绝交"),e.next=3,d.rakuenStore.fetchPrivacy();case 3:(0,i.feedback)();case 4:case"end":return e.stop()}},e)})),function(){(0,i.info)("取消失败, 可能授权信息过期")})})},o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts")},"./src/screens/rakuen/setting/component/blockeds/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Blockeds")},"./src/screens/rakuen/setting/component/blockeds/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/user/setting/component/block/index.tsx")),c=r(s("./src/screens/user/setting/component/tip/index.tsx")),a=r(s("./src/screens/rakuen/setting/component/blocked-keyword/index.tsx")),u=r(s("./src/screens/rakuen/setting/component/blocked-users/index.tsx")),l=r(s("./src/screens/rakuen/setting/component/history/index.tsx")),p=s("./src/screens/rakuen/setting/component/blockeds/utils.ts"),r=s("./src/screens/rakuen/setting/component/blockeds/ds.ts"),m=s("./src/screens/rakuen/setting/component/blockeds/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ob)(function(e){var t=e.navigation,e=e.onNavigate,s=(0,m.memoStyles)();return(0,f.jsxs)(o.default,{style:s.container,children:[(0,f.jsx)(u.default,{navigation:t,onNavigate:e}),(0,f.jsx)(a.default,{}),(0,f.jsxs)(i.default,{children:[(0,f.jsx)(c.default,{children:"屏蔽小组 / 条目（对帖子所属小组名生效）"}),(0,f.jsx)(l.default,{data:n.rakuenStore.setting.blockGroups,onDelete:function(e){return(0,p.handleDeleteBlockGroup)(e)}})]})]})},r.COMPONENT);try{blockeds.displayName="blockeds",blockeds.__docgenInfo={description:"",displayName:"blockeds",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/component/blockeds/index.tsx#blockeds"]={docgenInfo:blockeds.__docgenInfo,name:"blockeds",path:"src/screens/rakuen/setting/component/blockeds/index.tsx#blockeds"})}catch(e){}},"./src/screens/rakuen/setting/component/blockeds/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingBottom:.32*r._.window.height}}})},"./src/screens/rakuen/setting/component/blockeds/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.handleDeleteBlockGroup=function(e){(0,o.t)("超展开设置.取消屏蔽小组",{item:e}),r.rakuenStore.deleteBlockGroup(e),setTimeout(function(){r.rakuenStore.uploadSetting()},1e3)};var r=s("./src/stores/index.ts"),o=s("./src/utils/fetch/index.ts")},"./src/screens/rakuen/setting/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/setting/component/history/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"History")},"./src/screens/rakuen/setting/component/history/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),n=s("./src/screens/rakuen/setting/component/history/ds.ts"),y=s("./src/screens/rakuen/setting/component/history/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var d=e.navigation,t=e.style,s=e.data,r=e.showAvatar,i=void 0!==r&&r,c=e.onNavigate,a=void 0===(r=e.onDelete)?function(){}:r,u=(0,y.memoStyles)();return s.length?(0,_.jsx)(l.default,{style:(0,o.stl)(u.container,t),children:s.map(function(t){function e(){d&&("function"==typeof c?c("Zone",{userId:r}):d.push("Zone",{userId:r}))}var s,r="",o="",o="object"==typeof t?(r=t.userId,t.userName+"@"+r):t,n=0;try{r?n=f.rakuenStore.blockedUsersTrack(r):"string"!=typeof t||(n=f.rakuenStore.blockedTrack(t))||(s=Object.keys(f.rakuenStore.state.blockedTrack).find(function(e){return e.includes(t)}))&&(n=f.rakuenStore.blockedTrack(s))}catch(e){}return(0,_.jsx)(l.default,{style:u.item,children:(0,_.jsxs)(p.Flex,{style:u.content,children:[i&&!!r&&(0,_.jsx)(l.default,{style:f._.mr.sm,children:(0,_.jsx)(m.Avatar,{src:(0,j.API_AVATAR)(r),size:28,onPress:e})}),(0,_.jsxs)(p.Flex.Item,{children:[(0,_.jsx)(p.Text,{size:n?13:14,bold:!0,onPress:e,children:o}),!!n&&(0,_.jsxs)(p.Text,{style:f._.mt.xxs,size:10,type:"sub",bold:!0,children:["已屏蔽 ",n," 次"]})]}),(0,_.jsx)(p.Touchable,{style:[u.touch,f._.ml.md],onPress:function(){return a(t)},children:(0,_.jsx)(p.Flex,{style:u.icon,justify:"center",children:(0,_.jsx)(p.Iconfont,{name:"md-close",size:20})})})]})},o)})}):(0,_.jsx)(l.default,{style:(0,o.stl)(u.container,t),children:(0,_.jsx)(l.default,{style:u.item,children:(0,_.jsx)(p.Flex,{style:u.content,children:(0,_.jsx)(p.Text,{type:"title",size:15,bold:!0,children:"空"})})})})},n.COMPONENT);try{history.displayName="history",history.__docgenInfo={description:"",displayName:"history",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[] | BlockedUsersItem[]"}},showAvatar:{defaultValue:null,description:"",name:"showAvatar",required:!1,type:{name:"boolean"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!1,type:{name:"Fn"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/component/history/index.tsx#history"]={docgenInfo:history.__docgenInfo,name:"history",path:"src/screens/rakuen/setting/component/history/index.tsx#history"})}catch(e){}},"./src/screens/rakuen/setting/component/history/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._._wind,paddingBottom:r._.sm},item:{paddingRight:r._.sm},content:{marginTop:r._.sm},touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}}})},"./src/screens/rakuen/setting/component/likes/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Likes")},"./src/screens/rakuen/setting/component/likes/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=r(s("./src/screens/user/setting/component/block/index.tsx")),u=r(s("./src/screens/user/setting/component/tip/index.tsx")),l=s("./src/screens/rakuen/setting/component/styles.ts"),p=s("./src/screens/rakuen/setting/component/utils.ts"),r=s("./src/screens/rakuen/setting/component/likes/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)(function(){var e=d.rakuenStore.setting.likes;return(0,m.jsxs)(a.default,{children:[(0,m.jsx)(u.default,{children:"贴贴"}),(0,m.jsx)(n.ItemSetting,{hd:"贴贴模块",information:"近期新增的帖子回复上面贴表情的功能\n长按数字按钮展开贴过的用户列表\n因在网页版随处可见，不建议关闭",ft:(0,m.jsx)(o.SwitchPro,{style:l.styles.switch,value:e,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"贴贴模块",checked:!e}),d.rakuenStore.switchSetting("likes")}}),thumb:(0,p.getYuqueThumbs)(["0/2023/png/386799/1684389118526-fa7066b5-5c37-4280-abe0-0325e05aa4c7.png","0/2023/png/386799/1688332532626-a8958a19-e023-4cf8-bba6-4ca94f71752c.png"]),withoutFeedback:!0})]})},r.COMPONENT)},"./src/screens/rakuen/setting/component/media/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Media")},"./src/screens/rakuen/setting/component/media/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=r(s("./src/screens/user/setting/component/block/index.tsx")),u=r(s("./src/screens/user/setting/component/tip/index.tsx")),l=s("./src/screens/rakuen/setting/component/styles.ts"),p=s("./src/screens/rakuen/setting/component/utils.ts"),r=s("./src/screens/rakuen/setting/component/media/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)(function(){var e=d.rakuenStore.setting,t=e.acSearch,s=e.acSearchPopable,r=e.matchLink;return(0,m.jsxs)(a.default,{children:[(0,m.jsx)(u.default,{children:"媒体信息块"}),(0,m.jsx)(n.ItemSetting,{hd:"楼层链接显示成信息块",information:"若楼层出现特定页面链接，使用不同的 UI 代替",ft:(0,m.jsx)(o.SwitchPro,{style:l.styles.switch,value:r,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"显示信息块",checked:!r}),d.rakuenStore.switchSetting("matchLink")}}),withoutFeedback:!0,thumb:(0,p.getYuqueThumbs)(["0/2022/png/386799/1661155814563-74ea244f-c48c-49d2-8fa0-be0bc220724e.png","0/2022/png/386799/1661155854261-970ecf62-6eaa-4b0f-b280-347233ada8f1.png"])}),(0,m.jsx)(n.ItemSetting,{hd:"楼层内容猜测条目",information:"使用条目词库对楼层文字进行猜测匹配，若匹配成功文字下方显示下划线，点击直接去到条目页面",ft:(0,m.jsx)(o.SwitchPro,{style:l.styles.switch,value:t,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"猜测条目",checked:!t}),d.rakuenStore.switchSetting("acSearch")}}),withoutFeedback:!0,thumb:(0,p.getYuqueThumbs)(["0/2022/png/386799/1661156697962-47872ab9-dd71-40e7-84c6-842d014fa85e.png","0/2022/png/386799/1661156404852-5419bd25-408e-49b3-9e0a-57b480b54ecf.png"])}),(0,m.jsx)(n.ItemSetting,{hd:"猜测条目先显示缩略信息",information:"若猜测命中关键字，为了不打断阅读，会在图层上方先显示缩略信息，再次点击才会进入条目页面",ft:(0,m.jsx)(o.SwitchPro,{style:l.styles.switch,value:s,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"猜测条目",checked:!t}),d.rakuenStore.switchSetting("acSearchPopable")}}),withoutFeedback:!0,thumb:(0,p.getYuqueThumbs)(["0/2022/png/386799/1661157003238-c24ee52e-85ba-43b1-81fb-71e2596c6562.png","0/2022/png/386799/1661157009090-307ff23e-1734-4914-8c8e-1537faa7e9f9.png"])}),(0,m.jsxs)(o.Flex,{style:l.styles.acSearchPopable,children:[(0,m.jsx)(o.Text,{size:13,children:"试一试∶"}),(0,m.jsxs)(o.Text,{size:13,children:[(0,m.jsx)(o.Text,{size:13,bold:!0,underline:!0,onPress:function(){d.uiStore.showPopableSubject({subjectId:364450})},children:"石蒜"}),"物语是什么鬼翻译[bgm38]"]})]})]})},r.COMPONENT)},"./src/screens/rakuen/setting/component/scroll/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Scroll")},"./src/screens/rakuen/setting/component/scroll/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=b(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),n=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/dev/index.ts"),a=r(s("./src/screens/rakuen/setting/component/base/index.tsx")),u=r(s("./src/screens/rakuen/setting/component/blockeds/index.tsx")),l=r(s("./src/screens/rakuen/setting/component/likes/index.tsx")),p=r(s("./src/screens/rakuen/setting/component/media/index.tsx")),m=r(s("./src/screens/rakuen/setting/component/slider/index.tsx")),f=r(s("./src/screens/rakuen/setting/component/topic/index.tsx")),j=s("./src/screens/rakuen/setting/component/scroll/ds.ts"),y=s("./src/screens/rakuen/setting/component/scroll/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function b(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(b=function(e){return e?s:t})(e))}function h(e){var t=e.navigation,s=((0,c.r)(j.COMPONENT),(0,o.useCallback)(function(){i.uiStore.closePopableSubject()},[]));return(0,n.useObserver)(function(){return(0,_.jsx)(d.Page,{style:i._.select(i._.container.bg,i._.container.plain),children:(0,_.jsxs)(d.ScrollView,{contentContainerStyle:y.styles.container,onScroll:s,children:[(0,_.jsx)(l.default,{}),(0,_.jsx)(f.default,{}),(0,_.jsx)(m.default,{}),(0,_.jsx)(p.default,{}),(0,_.jsx)(a.default,{}),(0,_.jsx)(u.default,{navigation:t})]})})})}t.default=h;try{h.displayName="Scroll",h.__docgenInfo={description:"",displayName:"Scroll",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/component/scroll/index.tsx#Scroll"]={docgenInfo:h.__docgenInfo,name:"Scroll",path:"src/screens/rakuen/setting/component/scroll/index.tsx#Scroll"})}catch(e){}},"./src/screens/rakuen/setting/component/scroll/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{paddingTop:s._.sm,paddingBottom:s._.bottom}})},"./src/screens/rakuen/setting/component/slider/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Slider")},"./src/screens/rakuen/setting/component/slider/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),u=r(s("./src/screens/user/setting/component/block/index.tsx")),l=r(s("./src/screens/user/setting/component/tip/index.tsx")),p=s("./src/screens/rakuen/setting/component/styles.ts"),m=s("./src/screens/rakuen/setting/component/utils.ts"),r=s("./src/screens/rakuen/setting/component/slider/ds.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)(function(){var e=d.rakuenStore.setting,t=e.switchSlider,s=e.sliderAnimated,r=e.scrollDirection;return(0,f.jsxs)(u.default,{children:[(0,f.jsx)(l.default,{children:"楼层跳转"}),(0,f.jsx)(n.ItemSetting,{hd:"跳转滚动动画",information:"频繁跳动可能会产生视觉疲劳，若您经常使用跳转功能，建议关闭",ft:(0,f.jsx)(o.SwitchPro,{style:p.styles.switch,value:s,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"楼层跳转滚动动画",checked:!s}),d.rakuenStore.switchSetting("sliderAnimated")}}),withoutFeedback:!0}),(0,f.jsx)(n.ItemSetting,{hd:"交换跳转按钮",information:"为了方便左手持机用户，启用后左侧按钮为下一楼，右侧按钮为上一楼",ft:(0,f.jsx)(o.SwitchPro,{style:p.styles.switch,value:t,onSyncPress:function(){(0,c.t)("超展开设置.切换",{title:"交换楼层跳转按钮",checked:!t}),d.rakuenStore.switchSetting("switchSlider")}}),thumb:(0,m.getYuqueThumbs)(["0/2023/png/386799/1684388975121-fbe54014-9b5b-4b08-94e4-f7ad9a463e71.png","0/2023/png/386799/1684388990177-37b68af2-7d66-4e0b-827d-3c390410a943.png"]),withoutFeedback:!0}),(0,f.jsx)(n.ItemSetting,{hd:"楼层直达条",ft:(0,f.jsx)(o.SegmentedControl,{style:p.styles.segmentedControl,backgroundColor:d._.select(d._.colorBg,d._.colorPlain),size:12,values:a.RAKUEN_SCROLL_DIRECTION.map(function(e){return e.label}),selectedIndex:a.RAKUEN_SCROLL_DIRECTION.findIndex(function(e){return e.value===r}),onValueChange:function(e){(0,c.t)("超展开设置.切换",{title:"楼层导航条方向",value:e}),d.rakuenStore.setScrollDirection(a.MODEL_RAKUEN_SCROLL_DIRECTION.getValue(e))}}),thumb:(0,m.getYuqueThumbs)(["0/2022/png/386799/1661159480188-a1279dab-0af3-4985-ba54-cda3581a5cbf.png"])})]})},r.COMPONENT)},"./src/screens/rakuen/setting/component/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({switch:{marginRight:-4,transform:[{scale:s._.device(.8,1.12)}]},segmentedControl:{height:s._.r(32),width:s._.r(184)},acSearchPopable:{paddingTop:s._.sm,paddingBottom:s._.md,paddingLeft:s._._wind}})},"./src/screens/rakuen/setting/component/topic/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Topic")},"./src/screens/rakuen/setting/component/topic/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),u=s("./src/constants/index.ts"),l=r(s("./src/screens/user/setting/component/block/index.tsx")),p=r(s("./src/screens/user/setting/component/tip/index.tsx")),m=s("./src/screens/rakuen/setting/component/styles.ts"),f=s("./src/screens/rakuen/setting/component/utils.ts"),r=s("./src/screens/rakuen/setting/component/topic/ds.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){var e=c.rakuenStore.setting,t=e.autoLoadImage,s=e.quote,r=e.quoteAvatar,o=e.subExpand,n=e.wide;return(0,j.jsxs)(l.default,{children:[(0,j.jsx)(p.default,{children:"帖子"}),(0,j.jsx)(i.ItemSetting,{hd:"楼层中图片自动加载",information:"对于大于 2M 的图片开启后依然不会自动加载\n不推荐使用，因为观察到用户使用的图床都很慢，而且不压缩图片很大",ft:(0,j.jsx)(d.SwitchPro,{style:m.styles.switch,value:t,onSyncPress:function(){(0,a.t)("超展开设置.切换",{title:"楼层中图片自动加载",checked:!t}),c.rakuenStore.switchSetting("autoLoadImage")}}),withoutFeedback:!0}),(0,j.jsx)(i.ItemSetting,{hd:"展开引用",information:"展开子回复中上一级的回复内容",ft:(0,j.jsx)(d.SwitchPro,{style:m.styles.switch,value:s,onSyncPress:function(){(0,a.t)("超展开设置.切换",{title:"展开引用",checked:!s}),c.rakuenStore.switchSetting("quote")}}),withoutFeedback:!0,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661157694142-917c49b1-96f4-4d51-9cdc-a39ea80a4de5.png","0/2022/png/386799/1661157697155-91a59c53-a075-423b-8116-717583a7f5f2.png"])}),s&&(0,j.jsx)(i.ItemSetting,{hd:"显示引用头像",ft:(0,j.jsx)(d.SwitchPro,{style:m.styles.switch,value:r,onSyncPress:function(){(0,a.t)("超展开设置.切换",{title:"显示引用头像",checked:!r}),c.rakuenStore.switchSetting("quoteAvatar")}}),withoutFeedback:!0,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661157853356-0ecf0000-acd2-4faf-acfb-9804498ee85c.png","0/2022/png/386799/1661157856095-60c6b420-8aba-406b-8c82-97a8360c84c1.png"])}),(0,j.jsx)(i.ItemSetting,{hd:"楼层内容加宽展示",ft:(0,j.jsx)(d.SwitchPro,{style:m.styles.switch,value:n,onSyncPress:function(){(0,a.t)("超展开设置.切换",{title:"加宽展示",checked:!n}),c.rakuenStore.switchSetting("wide")}}),withoutFeedback:!0,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661327786769-cd143b43-e267-4648-af34-179efbe052af.png","0/2022/png/386799/1661327416446-79d19833-ed5c-4a44-a86e-06c00e83f12d.png"])}),(0,j.jsx)(i.ItemSetting,{hd:"子楼层折叠",information:"子回复超过此值后折叠，需手动展开。0 代表一直折叠，因性能问题暂不提供不折叠。",ft:(0,j.jsx)(d.SegmentedControl,{style:m.styles.segmentedControl,backgroundColor:c._.select(c._.colorBg,c._.colorPlain),size:12,values:u.RAKUEN_SUB_EXPAND.map(function(e){return e.label}),selectedIndex:u.RAKUEN_SUB_EXPAND.findIndex(function(e){return e.value===o}),onValueChange:function(e){(0,a.t)("超展开设置.切换",{title:"子楼层折叠",value:e}),c.rakuenStore.setSubExpand(u.MODEL_RAKUEN_SUB_EXPAND.getValue(e))}})})]})},r.COMPONENT)},"./src/screens/rakuen/setting/component/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getYuqueThumbs=function(e){return e.map(function(e){return{url:"https://cdn.nlark.com/yuque/"+e}})}},"./src/screens/rakuen/setting/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="RakuenSetting"},"./src/screens/rakuen/setting/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/setting/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/setting/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/rakuen/setting/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js"),u=["浏览器查看"];t.default=(0,r.ob)(function(){return(0,a.jsx)(o.Header,{title:"超展开设置",hm:["rakuen/settings","RakuenSetting"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:u,onSelect:function(e){(0,d.t)("超展开设置.右上角菜单",{key:e}),"浏览器查看"===e&&(0,n.open)((0,i.HTML_PRIVACY)())}})}})},c.COMPONENT)},"./src/screens/rakuen/setting/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useRakuenSettingPage=function(){var e=(0,n.useIsFocused)();(0,r.useEffect)(function(){e||o.uiStore.closePopableSubject()},[e]),(0,n.useMount)(function(){o.userStore.isWebLogin&&(o.rakuenStore.downloadSetting(),o.rakuenStore.fetchPrivacy())})};var r=s("./node_modules/react/index.js"),o=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts")},"./src/screens/rakuen/setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/setting/component/scroll/index.tsx")),c=r(s("./src/screens/rakuen/setting/header/index.tsx")),a=s("./src/screens/rakuen/setting/hooks.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=function(e){var t=e.navigation;return(0,a.useRakuenSettingPage)(),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-rakuen-setting",children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(n.TapListener,{children:(0,u.jsx)(i.default,{navigation:t})})]})})};try{setting.displayName="setting",setting.__docgenInfo={description:"超展开设置",displayName:"setting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/setting/index.tsx#setting"]={docgenInfo:setting.__docgenInfo,name:"setting",path:"src/screens/rakuen/setting/index.tsx#setting"})}catch(e){}},"./src/screens/rakuen/topic/component/bottom/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.MARKS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Bottom"),t.MARKS=["+1","mark","(bgm38)"]},"./src/screens/rakuen/topic/component/bottom/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/bottom/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/rakuen/topic/component/bottom/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),i=s("./src/utils/dev/index.ts"),c=s("./src/utils/hooks/index.ts"),a=s("./src/screens/rakuen/topic/component/bottom/extra/ds.ts"),u=s("./src/screens/rakuen/topic/component/bottom/extra/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");function o(e){var t=e.onDirect,s=((0,i.r)(a.COMPONENT),(0,u.memoStyles)()),r=d.rakuenStore.setting.switchSlider,o=d._.ios("height","bottom");return(0,c.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.SafeAreaBottom,{style:s.left,type:o,children:(0,l.jsx)(n.Touchable,{useRN:!0,onPress:function(){return t(!!r)},onLongPress:function(){return t(!!r,20)},children:(0,l.jsx)(n.Flex,{style:s.btn,justify:"center",children:(0,l.jsx)(n.Iconfont,{style:d._.mr.md,name:r?"md-navigate-next":"md-navigate-before",size:24})})})}),(0,l.jsx)(n.SafeAreaBottom,{style:s.center,type:o,pointerEvents:"none",children:(0,l.jsx)(n.Flex,{style:s.btn,justify:"center",children:(0,l.jsx)(n.Iconfont,{name:"md-edit",size:15})})}),(0,l.jsx)(n.SafeAreaBottom,{style:s.right,type:o,children:(0,l.jsx)(n.Touchable,{useRN:!0,onPress:function(){return t(!r)},onLongPress:function(){return t(!r,20)},children:(0,l.jsx)(n.Flex,{style:s.btn,justify:"center",children:(0,l.jsx)(n.Iconfont,{style:d._.ml.md,name:r?"md-navigate-before":"md-navigate-next",size:24})})})})]})})}t.default=o;try{o.displayName="Extra",o.__docgenInfo={description:"",displayName:"Extra",props:{onDirect:{defaultValue:null,description:"",name:"onDirect",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/bottom/extra/index.tsx#Extra"]={docgenInfo:o.__docgenInfo,name:"Extra",path:"src/screens/rakuen/topic/component/bottom/extra/index.tsx#Extra"})}catch(e){}},"./src/screens/rakuen/topic/component/bottom/extra/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.ios(36,"auto");return{left:{position:"absolute",zIndex:1002,left:0,bottom:0,height:e,paddingRight:r._.md},center:{position:"absolute",zIndex:1001,left:r._.window.width/3,bottom:0,height:e},right:{position:"absolute",zIndex:1002,right:0,bottom:0,height:e},btn:{width:r._.window.width/3,height:48}}})},"./src/screens/rakuen/topic/component/bottom/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/rakuen/topic/component/bottom/extra/index.tsx")),u=s("./src/screens/rakuen/topic/component/bottom/ds.ts"),l=s("./src/screens/rakuen/topic/component/bottom/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r=e.fixedTextareaRef,e=e.onDirect,o=t.$,n=t.navigation;return!o.isWebLogin||o.isLimit?null:(t=(0,l.memoStyles)(),(void 0===(s=o.topic.tip)?"":s).includes("半公开")?(0,p.jsx)(d.SafeAreaBottom,{style:t.fixedBottom,type:i._.ios("height","bottom"),children:(0,p.jsxs)(d.Flex,{children:[(0,p.jsx)(d.Text,{children:"半公开小组只有成员才能发言, "}),(0,p.jsx)(d.Text,{type:"main",onPress:function(){return(0,c.appNavigate)(o.groupHref,n)},children:"点击加入"})]})}):(s=o.topic.close)?(0,p.jsx)(d.SafeAreaBottom,{style:t.fixedBottom,type:i._.ios("height","bottom"),children:(0,p.jsxs)(d.Flex,{children:[(0,p.jsx)(d.Text,{children:"主题已被关闭"}),!!s&&(0,p.jsxs)(d.Text,{type:"sub",children:[": ",s]})]})}):(s=(t=o.state).placeholder,t=t.value,(0,p.jsx)(d.FixedTextarea,{ref:r,placeholder:s||void 0,value:t,source:!0,marks:u.MARKS,extraComponent:(0,p.jsx)(a.default,{onDirect:e}),onChange:o.onChange,onClose:o.closeFixedTextarea,onSubmit:o.doSubmit})))},u.COMPONENT)},"./src/screens/rakuen/topic/component/bottom/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{fixedBottom:Object.assign({position:"absolute",zIndex:1,right:0,bottom:0,left:0,height:r._.ios(32,"auto"),paddingVertical:16,paddingHorizontal:r._.wind,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1)},o.IOS?{shadowColor:r._.colorShadow,shadowOffset:{width:1,height:-2},shadowOpacity:.06,shadowRadius:6}:{elevation:8})}})},"./src/screens/rakuen/topic/component/content/content.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/rakuen/topic/component/content/ds.ts"),j=s("./src/screens/rakuen/topic/component/content/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.topicId,s=e.html,r=e.isEp,o=e.id,n=e.formhash,d=e.likeType,i=e.translateResult,c=e.doTranslate,e=e.onLinkPress,a=t.includes("group/");return(0,y.jsxs)(u.default,{style:j.styles.html,children:[a&&!s&&(0,y.jsx)(l.Flex,{style:j.styles.loading,justify:"center",children:(0,y.jsx)(l.Loading,{})}),i.length?(0,y.jsx)(u.default,{children:i.map(function(e,t){return(0,y.jsxs)(u.default,{children:[(0,y.jsx)(l.Text,{style:m._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,y.jsx)(l.Text,{style:m._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},t)})}):!!s&&(0,y.jsxs)(y.Fragment,{children:[r&&!(0,f.isChineseParagraph)((0,f.removeURLs)((0,f.removeHTMLTag)(s)))&&(0,y.jsxs)(u.default,{style:j.styles.iconTranslate,children:[(0,y.jsx)(p.IconTouchable,{name:"md-g-translate",size:18,onPress:c}),(0,y.jsx)(l.Heatmap,{id:"帖子.翻译内容"})]}),(0,y.jsxs)(u.default,{style:m._.mt.md,children:[(0,y.jsx)(l.RenderHtml,{html:s,matchLink:!0,onLinkPress:e}),(0,y.jsx)(l.Heatmap,{bottom:133,id:"帖子.跳转",to:"Blog",alias:"日志",transparent:!0}),(0,y.jsx)(l.Heatmap,{bottom:100,id:"帖子.跳转",to:"CatalogDetail",alias:"目录",transparent:!0}),(0,y.jsx)(l.Heatmap,{bottom:67,id:"帖子.跳转",to:"Topic",alias:"帖子",transparent:!0}),(0,y.jsx)(l.Heatmap,{bottom:34,id:"帖子.跳转",to:"Mono",alias:"人物",transparent:!0}),(0,y.jsx)(l.Heatmap,{id:"帖子.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]})]}),(0,y.jsx)(p.Likes,{show:!0,topicId:t,id:o,formhash:n,likeType:d,onLongPress:m.uiStore.showLikesUsers})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`subject/${string}` | `subject/${number}` | `group/${string}` | `group/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}` | `crt/${string}` | `crt/${number}`"}},html:{defaultValue:null,description:"",name:"html",required:!0,type:{name:"string"}},isEp:{defaultValue:null,description:"",name:"isEp",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},formhash:{defaultValue:null,description:"",name:"formhash",required:!0,type:{name:"string"}},likeType:{defaultValue:null,description:"",name:"likeType",required:!0,type:{name:"string"}},translateResult:{defaultValue:null,description:"",name:"translateResult",required:!0,type:{name:"any[]"}},doTranslate:{defaultValue:null,description:"",name:"doTranslate",required:!0,type:{name:"() => Promise<void>"}},onLinkPress:{defaultValue:null,description:"",name:"onLinkPress",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/content/content.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/rakuen/topic/component/content/content.tsx#content"})}catch(e){}},"./src/screens/rakuen/topic/component/content/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Content");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={topicId:"",html:"",isEp:!1,id:"",formhash:"",likeType:"",translateResult:[],doTranslate:o.FN,onLinkPress:o.FN}},"./src/screens/rakuen/topic/component/content/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/rakuen/topic/component/content/content.tsx")),r=s("./src/screens/rakuen/topic/component/content/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");function a(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(a=function(e){return e?s:t})(e))}t.default=(0,o.obc)(function(e,t){var s,r=t.$,o=t.navigation,t=(0,n.useCallback)(function(e){(0,d.appNavigate)(e,o,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{id:"帖子.跳转",data:{from:"#1",topicId:r.topicId}})},[r.topicId,o]);return(0,c.jsx)(i.default,{topicId:r.topicId,html:r.html,isEp:r.isEp,id:null==(s=r.topic)?void 0:s.id,formhash:null==(s=r.topic)?void 0:s.formhash,likeType:null==(s=r.topic)?void 0:s.likeType,translateResult:r.state.translateResult.slice(),doTranslate:r.doTranslate,onLinkPress:t})},r.COMPONENT);try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/rakuen/topic/component/content/index.tsx#content"})}catch(e){}},"./src/screens/rakuen/topic/component/content/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({html:{minHeight:s._.r(120)},loading:{height:s._.r(120)},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}})},"./src/screens/rakuen/topic/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/topic/component/ep/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Ep")},"./src/screens/rakuen/topic/component/ep/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),u=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/rakuen/topic/component/ep/ds.ts"),m=s("./src/screens/rakuen/topic/component/ep/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d,i=t.$,c=t.navigation;return null!=(t=i.groupHref)&&t.includes("/subject/")&&(t=Number(i.groupHref.replace("/subject/","")),null!=(r=l.subjectStore.subject(t).eps))&&r.length&&(s=[],-1!==(t=(s=1e3<=r.length?[].concat((0,a.default)(r),(0,a.default)(l.subjectStore.epV2(t).list)).filter(function(e){return 0===e.type}):r.filter(function(e){return 0===e.type})).findIndex(function(e){return null==(e=e.url)?void 0:e.includes(i.topicId)})))&&(r=(0,m.memoStyles)(),0<=t-1&&(o=s[t-1]),t+1<=s.length-1&&(n=s[t+1]),o||n)?(d=function(e){var t;c.replace("Topic",{topicId:"ep/"+(null==(t=e.url)?void 0:t.split("/ep/")[1]),_title:(1===e.type?"sp":"ep")+e.sort+"."+(0,p.cnjp)(e.name_cn,e.name)})},(0,f.jsxs)(u.Flex,{style:r.container,children:[(0,f.jsx)(u.Flex.Item,{children:o&&(0,f.jsxs)(u.Touchable,{style:r.item,animate:!0,onPress:function(){return d(o)},children:[(0,f.jsxs)(u.Flex,{children:[(0,f.jsx)(u.Iconfont,{style:r.left,name:"md-navigate-before",size:18,color:l._.colorDesc}),(0,f.jsxs)(u.Text,{size:16,bold:!0,children:[1===o.type?"sp":"ep",o.sort]})]}),(0,f.jsx)(u.Text,{style:l._.mt.xs,size:12,type:"sub",numberOfLines:1,children:(0,p.HTMLDecode)((0,p.cnjp)(o.name_cn,o.name))})]})}),(0,f.jsx)(u.Flex.Item,{style:l._.ml.md,children:n&&(0,f.jsxs)(u.Touchable,{style:r.item,animate:!0,onPress:function(){return d(n)},children:[(0,f.jsxs)(u.Flex,{justify:"end",children:[(0,f.jsxs)(u.Text,{size:16,bold:!0,align:"right",children:[1===n.type?"sp":"ep",n.sort]}),(0,f.jsx)(u.Iconfont,{style:r.right,name:"md-navigate-next",size:18,color:l._.colorDesc})]}),(0,f.jsx)(u.Text,{style:l._.mt.xs,size:12,type:"sub",align:"right",numberOfLines:1,children:(0,p.HTMLDecode)((0,p.cnjp)(n.name_cn,n.name))})]})})]})):null},o.COMPONENT);try{ep.displayName="ep",ep.__docgenInfo={description:"",displayName:"ep",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/ep/index.tsx#ep"]={docgenInfo:ep.__docgenInfo,name:"ep",path:"src/screens/rakuen/topic/component/ep/index.tsx#ep"})}catch(e){}},"./src/screens/rakuen/topic/component/ep/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingHorizontal:r._.wind,marginRight:r._.xs},item:{paddingTop:r._.sm,paddingBottom:r._.sm+4,paddingHorizontal:r._.md,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusSm},left:{marginTop:2,marginLeft:-2},right:{marginTop:2,marginRight:-2}}})},"./src/screens/rakuen/topic/component/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMG_WIDTH=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"HeaderTitle");t.COMPONENT_MAIN=(0,r.rc)(s),t.IMG_WIDTH=28,t.DEFAULT_PROPS={navigation:{},avatar:"",userId:"",userName:"",title:"",group:""}},"./src/screens/rakuen/topic/component/header-title/header-title.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/screens/rakuen/topic/component/header-title/ds.ts"),l=s("./src/screens/rakuen/topic/component/header-title/styles.ts"),p=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.avatar,r=e.userId,o=e.userName,n=e.title,e=e.group,d=[o||e,e].filter(function(e){return!!e}).join(" · ");return(0,p.jsxs)(i.Flex,{style:l.styles.container,children:[!!s&&(0,p.jsx)(i.UserStatus,{userId:r,children:(0,p.jsx)(c.Avatar,{navigation:t,size:u.IMG_WIDTH,src:s,userId:r,name:o})}),(0,p.jsxs)(i.Flex.Item,{style:a._.ml.sm,children:[(0,p.jsx)(i.Text,{size:13,numberOfLines:1,children:n}),!!d&&(0,p.jsx)(c.VerticalAlign,{type:"sub",text:o||e,size:10,lineHeight:12,bold:!0,numberOfLines:1,children:d})]})]})},u.DEFAULT_PROPS,u.COMPONENT_MAIN);t.default=s;try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},group:{defaultValue:null,description:"",name:"group",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/header-title/header-title.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/rakuen/topic/component/header-title/header-title.tsx#headertitle"})}catch(e){}},"./src/screens/rakuen/topic/component/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=s("./src/constants/index.ts"),d=r(s("./src/screens/rakuen/topic/component/header-title/header-title.tsx")),r=s("./src/screens/rakuen/topic/component/header-title/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t=e.$,e=e.navigation;return(0,i.jsx)(d.default,{navigation:e,avatar:t.avatar===n.IMG_DEFAULT_AVATAR?t.groupThumb:t.avatar,userId:t.userId,userName:t.userName,title:t.title,group:t.group})},r.COMPONENT);try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenTopic"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/rakuen/topic/component/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/rakuen/topic/component/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{marginTop:s._.platforms(4,-8,-10,-14,-8),marginLeft:-s._.sm,marginRight:s._.lg}})},"./src/screens/rakuen/topic/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Heatmap,{right:2,bottom:160,id:"帖子.楼层跳转",transparent:!0}),(0,n.jsx)(o.Heatmap,{right:76,bottom:84,id:"帖子.删除回复",transparent:!0}),(0,n.jsx)(o.Heatmap,{right:76,bottom:51,id:"帖子.回复",transparent:!0}),(0,n.jsx)(o.Heatmap,{right:119,bottom:51,id:"帖子.回复失败",transparent:!0}),(0,n.jsx)(o.Heatmap,{right:76,bottom:18,id:"帖子.显示评论框",transparent:!0}),(0,n.jsx)(o.Heatmap,{id:"帖子",screen:"Topic"})]})})},"./src/screens/rakuen/topic/component/icon/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Icon")},"./src/screens/rakuen/topic/component/icon/favor.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/rakuen/topic/component/icon/ds.ts"),a=s("./src/screens/rakuen/topic/component/icon/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){return e=e.$,(0,u.jsxs)(o.default,{style:e.favorCount?a.styles.withCollect:i._.mr.xs,children:[(0,u.jsx)(d.IconHeader,{name:e.isFavor?"md-star":"md-star-outline",color:e.isFavor?i._.colorYellow:i._.colorDesc,onPress:e.setFavor,children:(0,u.jsx)(n.Heatmap,{right:33,bottom:7,id:"帖子.设置收藏"})}),!!e.favorCount&&(0,u.jsx)(n.Text,{style:a.styles.num,size:10,bold:!0,children:e.favorCount})]})},c.COMPONENT);try{favor.displayName="favor",favor.__docgenInfo={description:"",displayName:"favor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenTopic"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/icon/favor.tsx#favor"]={docgenInfo:favor.__docgenInfo,name:"favor",path:"src/screens/rakuen/topic/component/icon/favor.tsx#favor"})}catch(e){}},"./src/screens/rakuen/topic/component/icon/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({withCollect:{paddingRight:s._.sm},num:{position:"absolute",right:7,bottom:5}})},"./src/screens/rakuen/topic/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.PRE_RENDER_INDEX=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.PRE_RENDER_INDEX=8},"./src/screens/rakuen/topic/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/rakuen/topic/component/item/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.item,o=e.index,e=e.onShowFixedTextarea;return!(t=t.$).postId&&!t.state.rendered&&o>i.PRE_RENDER_INDEX-1?null:(s={id:"帖子.跳转",data:{topicId:t.topicId}},(0,c.jsx)(n.ItemPost,Object.assign({inViewY:.8*d._.window.height,index:o,postId:t.postId,authorId:t.topic.userId},r,{matchLink:!0,event:s,showFixedTextare:e})))},i.COMPONENT)},"./src/screens/rakuen/topic/component/list/ds.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.LISTVIEW_PROPS=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0,s("./src/utils/index.ts")),n=s("./src/utils/dev/index.ts"),d=s("./src/constants/index.ts"),i=s("./src/screens/rakuen/topic/component/ds.ts"),r=r(s("./src/screens/rakuen/topic/component/top/index.tsx")),s=s("./node_modules/react/jsx-runtime.js"),i=t.COMPONENT=(0,n.rc)(i.COMPONENT,"List");t.COMPONENT_MAIN=(0,n.rc)(i),t.LISTVIEW_PROPS={keyExtractor:o.keyExtractor,scrollEventThrottle:4,initialNumToRender:120,maxToRenderPerBatch:120,updateCellsBatchingPeriod:120,scrollToTop:!0,keyboardDismissMode:"on-drag",ListHeaderComponent:(0,s.jsx)(r.default,{})},t.DEFAULT_PROPS={forwardRef:d.FN,data:d.LIST_EMPTY,postId:"",onScroll:d.FN,onScrollToIndexFailed:d.FN,onHeaderRefresh:d.FN,onShowFixedTextarea:d.FN}},"./src/screens/rakuen/topic/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/rakuen/topic/component/list/list.tsx")),r=s("./src/screens/rakuen/topic/component/list/ds.tsx"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.forwardRef,r=e.onShowFixedTextarea,e=e.onScrollToIndexFailed,t=t.$;return(0,d.jsx)(n.default,{forwardRef:s,data:t.comments,postId:t.postId,onScroll:t.onScroll,onScrollToIndexFailed:e,onHeaderRefresh:t.fetchTopic,onShowFixedTextarea:r})},r.COMPONENT)},"./src/screens/rakuen/topic/component/list/list.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),a=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),m=r(s("./src/screens/rakuen/topic/component/item/index.tsx")),f=s("./src/screens/rakuen/topic/component/list/ds.tsx"),j=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}r=(0,o.memo)(function(e){var t=e.forwardRef,s=e.data,r=e.postId,o=e.onScroll,n=e.onScrollToIndexFailed,d=e.onHeaderRefresh,i=e.onShowFixedTextarea,e=(0,c.useCallback)(function(e){var t=e.item,e=e.index;return(0,j.jsx)(m.default,{item:t,index:e,onShowFixedTextarea:i})},[i]),r=Object.assign({},f.LISTVIEW_PROPS,{keyExtractor:p.keyExtractor,style:l._.container.content,contentContainerStyle:l._.container.bottom,lazy:r?void 0:4,progressViewOffset:l._.ios(l._.statusBarHeight,0),removeClippedSubviews:!1,renderItem:e,onScroll:o,onScrollToIndexFailed:n,onHeaderRefresh:d}),e=s.list;return e.length<=80?(0,j.jsx)(a.ListView,Object.assign({},r,{ref:t,data:s})):(0,j.jsx)(u.PaginationList2,Object.assign({},r,{forwardRef:t,data:e,limit:24}))},f.DEFAULT_PROPS,f.COMPONENT_MAIN);t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!0,type:{name:"Fn"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:'{ list: any[]; pagination: { page: number; pageTotal: number; }; _list: any[]; _loaded: number | boolean; } | { list: any[] | { floor: string; avatar: Avatar<"s">; message: string; userId: UserId; ... 6 more ...; sub: CommentsItem[]; }[]; pagination?: { ...; }; _list?: { ...; }[]; _loaded?: Loaded; }'}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"string"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onScrollToIndexFailed:{defaultValue:null,description:"",name:"onScrollToIndexFailed",required:!0,type:{name:"Fn"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"Fn"}},onShowFixedTextarea:{defaultValue:null,description:"",name:"onShowFixedTextarea",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/rakuen/topic/component/list/list.tsx#list"})}catch(e){}},"./src/screens/rakuen/topic/component/milestone/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Milestone")},"./src/screens/rakuen/topic/component/milestone/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./node_modules/react-native-webview/index.js"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/topic/component/milestone/ds.ts"),i=s("./src/screens/rakuen/topic/component/milestone/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r;return"group/366561"!==(t=t.$).topicId?null:(r='<!DOCTYPE html><html lang=en><head><meta charset="UTF-8"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Bangumi Open Source</title><style>*{padding:0;margin:0}::-webkit-scrollbar{display:none}body{overflow:hidden;background:#000}</style><body><div style=position:relative;width:'+(s=(0,i.memoStyles)()).body.width+"px;height:"+s.body.height+"px><canvas id=canvas_matrix style=display:block;background-color:transparent;position:absolute;left:0;top:0;width:"+s.body.width+"px;height:"+s.body.height+"px width=300 height=150></canvas><canvas id=canvas_matrix_2 style=display:block;background-color:transparent;position:absolute;left:0;top:0;width:"+s.body.width+"px;height:"+s.body.height+'px;border-radius:15px width=300 height=150></canvas><div style="font-family:Courier New,serif;position:absolute;width:100%;height:100%;text-align:center;top:45%;font-size:20px;color:#fff;text-shadow:0 0 15px #0f0,0 0 9px #56b000,0 0 15px #006400,0 0 5px #006400">Bangumi Open Source</div></div><script>function m(t,e){return Math.floor(Math.random()*(e-t)+t)}function v(t,e){return Math.random()*(e-t)+t}function d(t,e){this.x=t,this.y=e}var t=document.getElementById("canvas_matrix"),n=t.getContext("2d"),i=document.getElementById("canvas_matrix_2"),s=i.getContext("2d"),a=t.width,h=t.height,r=["b","a","n","g","u","m","i","o","p","e","n","s","o","u","r","c","e"],e=10,u=[],o=10,c=10,f=a/o;t.width=i.width=a,t.height=i.height=h,d.prototype.t=function(t){this.value=r[m(0,r.length-1)].toUpperCase(),this.speed=v(.5,1.5),s.fillStyle="rgba(255,255,255,0.3)",s.font=c+"px san-serif",s.fillText(this.value,this.x,this.y),t.fillStyle="#0F0",t.font=c+"px san-serif",t.fillText(this.value,this.x,this.y),this.y+=this.speed,this.y>h&&(this.y=v(-100,10),this.speed=v(.5,3))};for(var x=0;f>x;x++)u.push(new d(x*o,v(-500,0)));var b=function(){n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,a,h),s.clearRect(0,0,a,h);for(var t=u.length;t--;){u[t].t(n);{u[t]}}requestAnimationFrame(b)};b();<\/script>',(0,c.jsx)(o.default,{style:s.container,children:!t.state.showHeaderTitle&&(0,c.jsx)(n.WebView,{style:s.body,source:{html:r},scrollEnabled:!1,androidHardwareAccelerationDisabled:!0,androidLayerType:"software"})}))},d.COMPONENT);try{milestone.displayName="milestone",milestone.__docgenInfo={description:"",displayName:"milestone",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/milestone/index.tsx#milestone"]={docgenInfo:milestone.__docgenInfo,name:"milestone",path:"src/screens/rakuen/topic/component/milestone/index.tsx#milestone"})}catch(e){}},"./src/screens/rakuen/topic/component/milestone/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.contentWidth-(r._.wind-r._._wind);return{container:{height:160,marginTop:-r._.md,marginBottom:r._.md,borderRadius:r._.radiusMd,overflow:"hidden"},body:{width:e,height:160,backgroundColor:"#000",opacity:.99}}})},"./src/screens/rakuen/topic/component/section-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SectionTitle")},"./src/screens/rakuen/topic/component/section-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.reverse.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/rakuen/topic/component/segment/index.tsx")),r=s("./src/screens/rakuen/topic/component/section-title/ds.ts"),a=s("./src/screens/rakuen/topic/component/section-title/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var t=t.$,s=(0,a.memoStyles)(),r=t.comments.list,o=0;return(void 0===r?[]:r).forEach(function(e){o+=1,e.sub&&(o+=e.sub.length)}),(0,u.jsxs)(d.SectionTitle,{style:s.title,right:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(d.IconReverse,{style:t.state.reverse?s.reverse:void 0,iconStyle:s.reverseIcon,color:t.state.reverse?i._.colorMain:i._.colorIcon,size:18,onPress:t.toggleReverseComments,children:(0,u.jsx)(n.Heatmap,{right:10,bottom:29,id:"帖子.吐槽倒序"})})]}),children:["吐槽"," ",!!o&&(0,u.jsx)(n.Text,{size:12,type:"sub",lineHeight:24,children:o})]})},r.COMPONENT);try{sectiontitle.displayName="sectiontitle",sectiontitle.__docgenInfo={description:"",displayName:"sectiontitle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/section-title/index.tsx#sectiontitle"]={docgenInfo:sectiontitle.__docgenInfo,name:"sectiontitle",path:"src/screens/rakuen/topic/component/section-title/index.tsx#sectiontitle"})}catch(e){}},"./src/screens/rakuen/topic/component/section-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{title:{paddingHorizontal:r._.wind,marginTop:r._.lg,marginBottom:r._.md},reverse:{transform:[{rotateX:"180deg"}]},reverseIcon:{marginRight:4,marginLeft:r._.md}}})},"./src/screens/rakuen/topic/component/segment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Segement")},"./src/screens/rakuen/topic/component/segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/rakuen/topic/component/segment/ds.ts"),a=s("./src/screens/rakuen/topic/component/segment/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o=t.$,t=["全部"];return o.state.filterPost?t.push("跳转"):(i.rakuenStore.setting.likes&&(s=(null==(s=o.likesFloorIds)?void 0:s.length)||0)&&t.push("贴贴 "+s),(s=!!o.myId)&&o.commentMeCount&&t.push("我 "+o.commentMeCount),s&&o.commentFriendsCount&&t.push("好友 "+o.commentFriendsCount)),t.length<=1?null:(s=0,o.state.filterPost?s=t.length-1:1<t.length&&("likes"===(r=o.state.filterType)?s=t.findIndex(function(e){return e.includes("贴贴")}):"me"===r?s=t.findIndex(function(e){return e.includes("我")}):"friends"===r&&(s=t.findIndex(function(e){return e.includes("好友")}))),-1===s&&(s=0),(0,u.jsxs)(n.default,{children:[(0,u.jsx)(d.SegmentedControl,{style:[a.styles.segmentedControl,{width:t.length*i._.r(56)}],size:11,values:t,selectedIndex:s,onValueChange:function(e){var t;o.state.filterPost?((0,c.info)("取消仅显示跳转楼层"),(0,c.feedback)(),setTimeout(function(){o.clearFilterPost()},0)):(t=o.state.filterType,e.includes("贴贴")&&"likes"!==t?o.onFilterLikes():e.includes("我")&&"me"!==t?o.onFilterMe():e.includes("好友")&&"friends"!==t?o.onFilterFriends():o.onFilterClear())}},s),(0,u.jsx)(d.Heatmap,{right:74,bottom:24,id:"帖子.好友相关"}),(0,u.jsx)(d.Heatmap,{right:24,bottom:24,id:"帖子.与我相关"})]}))},o.COMPONENT);try{segment.displayName="segment",segment.__docgenInfo={description:"",displayName:"segment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/segment/index.tsx#segment"]={docgenInfo:segment.__docgenInfo,name:"segment",path:"src/screens/rakuen/topic/component/segment/index.tsx#segment"})}catch(e){}},"./src/screens/rakuen/topic/component/segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segmentedControl:{height:s._.r(28)}})},"./src/screens/rakuen/topic/component/top/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Top");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},topicId:"",title:"",subTitle:"",time:"",replies:"",group:"",groupHref:"",groupThumb:"",groupThumbFallback:"",avatar:"",userId:"",userName:"",userSign:"",filterPost:"",monoId:"",isMono:!1,delete:!1}},"./src/screens/rakuen/topic/component/top/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),d=s("./src/utils/index.ts"),i=s("./src/utils/app/ds.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),a=r(s("./src/screens/rakuen/topic/component/top/top.tsx")),r=s("./src/screens/rakuen/topic/component/top/ds.ts"),u=s("./src/screens/rakuen/topic/component/top/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,t=t.navigation,r=(0,d.getGroupThumbStatic)(s.groupThumb),o=(n.systemStore.setting.cdn&&"magma"===n.systemStore.setting.cdnOrigin&&"string"==typeof r&&r.includes(i.HOST_IMAGE)&&(r=(0,c.CDN_OSS_MAGMA_PIC)(r)),(0,u.memoStyles)());return(0,l.jsx)(a.default,{navigation:t,styles:o,topicId:s.topicId,title:s.title,subTitle:s.subTitle,time:s.time,replies:s.params._replies,group:s.group,groupHref:s.groupHref,groupThumb:r,groupThumbFallback:s.groupThumb,avatar:s.avatar,userId:s.userId,userName:s.userName,userSign:s.userSign,filterPost:s.state.filterPost,monoId:s.monoId,isMono:s.isMono,delete:s.topic.delete})},r.COMPONENT);try{top.displayName="top",top.__docgenInfo={description:"",displayName:"top",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/top/index.tsx#top"]={docgenInfo:top.__docgenInfo,name:"top",path:"src/screens/rakuen/topic/component/top/index.tsx#top"})}catch(e){}},"./src/screens/rakuen/topic/component/top/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.sm,paddingHorizontal:r._.wind},groupWrap:{minHeight:r._.r(32),marginTop:r._.sm,marginBottom:r._.xs},groupLabel:{overflow:"hidden",maxWidth:"100%",padding:4,paddingRight:10,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs},group:{maxWidth:.6*r._.window.contentWidth,marginLeft:r._.sm},userWrap:{height:r._.r(42),marginTop:r._.sm},katakana:{marginTop:-12},loading:{height:r._.r(240)}}})},"./src/screens/rakuen/topic/component/top/top.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),k=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),T=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),P=s("./src/components/index.ts"),N=s("./src/screens/_/index.ts"),E=s("./src/stores/index.ts"),C=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),I=s("./src/constants/index.ts"),R=r(s("./src/screens/rakuen/topic/component/content/index.tsx")),M=r(s("./src/screens/rakuen/topic/component/ep/index.tsx")),w=r(s("./src/screens/rakuen/topic/component/milestone/index.tsx")),A=r(s("./src/screens/rakuen/topic/component/section-title/index.tsx")),r=s("./src/screens/rakuen/topic/component/top/ds.ts"),D=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}s=(0,o.memo)(function(e){var t=e.navigation,s=e.styles,r=e.topicId,o=e.title,n=e.subTitle,d=e.time,i=e.replies,c=e.group,a=e.groupHref,u=e.groupThumb,l=e.groupThumbFallback,p=e.avatar,m=e.userId,f=e.userName,j=e.userSign,y=e.filterPost,_=e.monoId,b=e.isMono,e=e.delete,h=(0,S.useState)(1),h=(0,k.default)(h,2),x=h[0],g=h[1],h=(0,S.useCallback)(function(){return g(2)},[]),v={id:"帖子.跳转",data:{from:"#1",topicId:r}},O=r.includes("group/"),r=r.includes("ep/");return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(P.HeaderPlaceholder,{}),(0,D.jsxs)(T.default,{style:s.container,children:[(0,D.jsx)(w.default,{}),(0,D.jsxs)(P.Text,{type:"title",size:20,bold:!0,selectable:!0,children:[o,!!i&&(0,D.jsx)(P.Text,{type:"main",size:12,lineHeight:26,bold:!0,children:"  "+(i.includes("+")?"":"+")+i.trim()})]}),!!n&&(0,D.jsx)(P.Text,{style:E._.mv.sm,type:"sub",size:14,bold:!0,selectable:!0,children:n}),(0,D.jsxs)(P.Flex,{style:s.groupWrap,children:[!!c&&(0,D.jsx)(P.Flex,{style:s.groupLabel,children:(0,D.jsx)(P.Touchable,{animate:!0,onPress:function(){b?(0,C.appNavigate)(I.HOST+"/"+_,t,{},v):(0,C.appNavigate)(a,t,{_jp:c},v)},children:(0,D.jsxs)(P.Flex,{children:[(0,D.jsx)(P.Cover,{size:r?40:20,src:u||E._.select(I.IMG_EMPTY,I.IMG_EMPTY_DARK),radius:E._.radiusXs,priority:"high",fallback:r,fallbackSrc:r?String(l).replace("/r/100x100",""):void 0}),(0,D.jsx)(P.Text,{style:s.group,size:13,numberOfLines:1,children:(0,C.HTMLDecode)((0,C.findSubjectCn)(c))})]})})}),!!d&&(0,D.jsx)(P.Flex.Item,{children:(0,D.jsx)(P.Text,{type:"sub",size:13,children:(0,C.simpleTime)(d)})}),(0,D.jsx)(P.Heatmap,{right:74,id:"帖子.跳转",to:"Group",alias:"小组"}),(0,D.jsx)(P.Heatmap,{id:"帖子.跳转",to:"Subject",alias:"条目",transparent:!0})]}),O&&(0,D.jsxs)(P.Flex,{style:s.userWrap,children:[!!p&&(0,D.jsx)(P.UserStatus,{userId:m,children:(0,D.jsx)(P.Avatar,{navigation:t,event:v,size:40,src:p,userId:m,name:f,priority:"high"})}),!!m&&(0,D.jsxs)(P.Flex.Item,{style:E._.ml.sm,children:[(0,D.jsx)(N.Name,{userId:m,numberOfLines:1,bold:!0,children:f}),(0,D.jsxs)(P.Text,{style:E._.mt.xs,type:"sub",size:12,numberOfLines:x,onPress:h,children:["@",m,!!j&&" ("+j.slice(1,j.length-1)+")"]})]}),(0,D.jsx)(P.Heatmap,{id:"帖子.跳转",to:"Zone",alias:"空间"})]}),y?(0,D.jsx)(P.Expand,{ratio:1.28,children:(0,D.jsx)(R.default,{})}):(0,D.jsx)(R.default,{}),!!e&&(0,D.jsxs)(P.Text,{style:E._.mb.md,size:15,lineHeight:18,bold:!0,align:"center",children:["数据库中没有查询到指定话题","\n","话题可能正在审核或已被删除"]})]}),(0,D.jsx)(P.Divider,{}),(0,D.jsx)(M.default,{}),(0,D.jsx)(A.default,{})]})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);t.default=s;try{top.displayName="top",top.__docgenInfo={description:"",displayName:"top",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { paddingVertical: number; paddingHorizontal: number; }; groupWrap: { minHeight: number; marginTop: number; marginBottom: number; }; groupLabel: { overflow: "hidden"; maxWidth: string; ... 4 more ...; borderRadius: number; }; group: { ...; }; userWrap: { ...; }; katakana: { ...; }; loading: { ...; }; }'}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`subject/${string}` | `subject/${number}` | `group/${string}` | `group/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}` | `crt/${string}` | `crt/${number}`"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},replies:{defaultValue:null,description:"",name:"replies",required:!0,type:{name:"string"}},group:{defaultValue:null,description:"",name:"group",required:!0,type:{name:"string"}},groupHref:{defaultValue:null,description:"",name:"groupHref",required:!0,type:{name:"string"}},groupThumb:{defaultValue:null,description:"",name:"groupThumb",required:!0,type:{name:"string"}},groupThumbFallback:{defaultValue:null,description:"",name:"groupThumbFallback",required:!0,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},userSign:{defaultValue:null,description:"",name:"userSign",required:!0,type:{name:"string"}},filterPost:{defaultValue:null,description:"",name:"filterPost",required:!0,type:{name:"string"}},monoId:{defaultValue:null,description:"",name:"monoId",required:!0,type:{name:"string"}},isMono:{defaultValue:null,description:"",name:"isMono",required:!0,type:{name:"boolean"}},delete:{defaultValue:null,description:"",name:"delete",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/top/top.tsx#top"]={docgenInfo:top.__docgenInfo,name:"top",path:"src/screens/rakuen/topic/component/top/top.tsx#top"})}catch(e){}},"./src/screens/rakuen/topic/component/touch-scroll/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/rakuen/topic/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"TouchScroll");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={styles:{},list:[],readedTime:0,scrollDirection:o.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("右侧"),directFloor:"",isWebLogin:!1,onPress:function(){}},t.HIT_SLOP={top:0,right:2,bottom:0,left:2}},"./src/screens/rakuen/topic/component/touch-scroll/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=s("./src/constants/index.ts"),n=s("./src/screens/rakuen/topic/component/touch-scroll/touch-scroll.tsx"),d=s("./src/screens/rakuen/topic/component/touch-scroll/ds.ts"),i=s("./src/screens/rakuen/topic/component/touch-scroll/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var e=e.onPress,s=(t=t.$).setting.scrollDirection;return s!==o.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("隐藏")&&t.comments.list.length?(0,c.jsx)(n.TouchScroll,{styles:(0,i.memoStyles)(),list:t.comments.list,readedTime:t.readed._time,scrollDirection:s,directFloor:t.state.directFloor,isWebLogin:t.isWebLogin,onPress:e}):null},d.COMPONENT)},"./src/screens/rakuen/topic/component/touch-scroll/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{containerRight:{position:"absolute",top:r._.headerHeight,right:0,bottom:r._.ios(64,46),width:16,backgroundColor:r._.colorPlain},containerLeft:{position:"absolute",top:r._.headerHeight,left:0,bottom:r._.ios(64,46),width:16,backgroundColor:r._.colorPlain},containerBottom:{position:"absolute",left:0,right:0,bottom:40,width:"100%",height:24,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1)},notLogin:{bottom:0,height:32,paddingBottom:8},itemVertical:{width:16,height:"100%"},itemHorizontal:{width:"100%",height:"100%"},itemNew:{borderRightWidth:6,borderColor:r._.select(r._.colorMainLightBorder,"rgb(59, 48, 51)")},itemText:{minHeight:16},dot:{width:4,height:4,backgroundColor:r._.colorIcon,borderRadius:4}}})},"./src/screens/rakuen/topic/component/touch-scroll/touch-scroll.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.TouchScroll=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/TouchableWithoutFeedback/index.js"))),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=s("./src/components/index.ts"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),b=s("./src/screens/rakuen/topic/component/touch-scroll/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=t.TouchScroll=(0,r.memo)(function(e){var n=e.styles,d=e.list,i=e.readedTime,t=e.scrollDirection,s=e.directFloor,r=e.isWebLogin,c=e.onPress,a=s?Number((null==(e=s.match(/\d+/))?void 0:e[0])||0):0,u=[Math.floor(.33333*d.length)-1,Math.floor(.66666*d.length)-1,d.length-1],l=t===_.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("右侧")||t===_.MODEL_RAKUEN_SCROLL_DIRECTION.getValue("左侧"),s={hitSlop:b.HIT_SLOP};return _.IOS?s.onPress=function(){return c(-1)}:s.onPressIn=function(){return c(-1)},(0,h.jsxs)(f.Flex,{style:(0,y.stl)(n["container"+(0,y.titleCase)(t)],!r&&!l&&n.notLogin),direction:l?"column":void 0,children:[(0,h.jsx)(f.Flex.Item,{style:n.itemText,flex:l?1:3,children:(0,h.jsx)(p.default,Object.assign({},s,{children:(0,h.jsx)(f.Flex,{style:l?n.itemVertical:n.itemHorizontal,children:(0,h.jsx)(f.Text,{style:j._.container.block,size:8,type:"icon",align:"center",children:"1"})})}))}),d.map(function(e,t){var s=a&&"#"+a===e.floor,r=!1,e=(!i||(r=(0,y.getTimestamp)(e.time)>i||r)||e.sub&&e.sub.forEach(function(e){(0,y.getTimestamp)(e.time)>i&&(r=!0)}),u.includes(t)),o={hitSlop:b.HIT_SLOP};return _.IOS?o.onPress=function(){return c(t)}:o.onPressIn=function(){return c(t)},(0,h.jsx)(f.Flex.Item,{style:e&&n.itemText,flex:!l&&e?3:1,children:(0,h.jsx)(p.default,Object.assign({},o,{children:(0,h.jsx)(f.Flex,{style:(0,y.stl)(l?n.itemVertical:n.itemHorizontal,r&&n.itemNew),justify:"center",children:e?(0,h.jsx)(f.Text,{style:j._.container.block,size:8,type:r?j._.select("plain","icon"):"icon",bold:s,align:"center",children:String((null==(o=d[t])?void 0:o.floor)||"").replace("#","")}):s?(0,h.jsx)(m.default,{style:n.dot}):null})}))},t)})]})},b.DEFAULT_PROPS,b.COMPONENT_MAIN,function(e){return Object.assign({},e,{list:e.list.length})});try{s.displayName="TouchScroll",s.__docgenInfo={description:"",displayName:"TouchScroll",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ containerRight: { position: "absolute"; top: number; right: number; bottom: number; width: number; backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; }; containerLeft: { position: "absolute"; ... 4 more ...; backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; }; ... 6 more ...; dot: { ...; }; }'}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:'any[] | { floor: string; avatar: Avatar<"s">; message: string; userId: UserId; id: Id; time: string; userName: string; replySub: string; userSign: string; erase: string; sub: CommentsItem[]; }[]'}},readedTime:{defaultValue:null,description:"",name:"readedTime",required:!0,type:{name:"number"}},scrollDirection:{defaultValue:null,description:"",name:"scrollDirection",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"none"'},{value:'"bottom"'}]}},directFloor:{defaultValue:null,description:"",name:"directFloor",required:!0,type:{name:"string"}},isWebLogin:{defaultValue:null,description:"",name:"isWebLogin",required:!0,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/component/touch-scroll/touch-scroll.tsx#TouchScroll"]={docgenInfo:s.__docgenInfo,name:"TouchScroll",path:"src/screens/rakuen/topic/component/touch-scroll/touch-scroll.tsx#TouchScroll"})}catch(e){}},"./src/screens/rakuen/topic/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.PRE_OFFSET=t.COMPONENT=void 0;s=s("./src/stores/index.ts");t.COMPONENT="Topic",t.PRE_OFFSET=.2*s._.window.height},"./src/screens/rakuen/topic/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_SHARE=t.TEXT_REPORT=t.TEXT_COPY=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/rakuen/topic/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_SPA="网页版查看",t.TEXT_COPY="复制链接",t.TEXT_SHARE="复制分享",t.TEXT_REPORT="举报",t.DATA=["复制链接","复制分享","举报"]);o.STORYBOOK||r.unshift("网页版查看")},"./src/screens/rakuen/topic/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),u=r(s("./src/screens/rakuen/topic/component/header-title/index.tsx")),l=r(s("./src/screens/rakuen/topic/component/icon/favor.tsx")),p=s("./src/screens/rakuen/topic/header/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r=t.$,t=t.navigation,o=(null==(s=r.params)?void 0:s._url)||a.HOST+"/rakuen/topic/"+r.topicId;return(0,m.jsx)(d.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:r.state.fixed,title:r.topic.title,alias:"帖子",hm:[o,"Topic"],headerTitle:(0,m.jsx)(u.default,{$:r,navigation:t}),headerRight:function(){return(0,m.jsxs)(d.Flex,{children:[(0,m.jsx)(l.default,{$:r}),(0,m.jsx)(d.Header.Popover,{data:["帖子 · "+r.topicId].concat((0,n.default)(p.DATA)),onSelect:function(e){switch((0,c.t)("帖子.右上角菜单",{key:e.includes("帖子")?"浏览器查看":e}),e){case p.TEXT_SPA:(0,i.open)(a.URL_SPA+"/"+(0,i.getSPAParams)("Topic",{topicId:r.topicId}));break;case p.TEXT_COPY:(0,i.copy)(o,"已复制链接");break;case p.TEXT_SHARE:(0,i.copy)("【链接】"+r.title+" | Bangumi番组计划\n"+o,"已复制分享文案");break;case p.TEXT_REPORT:(0,i.open)(a.HOST+"/group/forum");break;default:(0,i.open)(o)}},children:(0,m.jsx)(d.Heatmap,{id:"帖子.右上角菜单"})})]})}})},p.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/rakuen/topic/header/index.tsx#header"})}catch(e){}},"./src/screens/rakuen/topic/hooks.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.useTopicPage=function(e){var p=e.$,t=(0,g.useIsFocused)(),s=(0,g.useIsFocusedRef)(),m=(0,j.useRef)(null),r=(0,j.useRef)(null),o=(0,j.useRef)(0),n=(0,j.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;try{var t,s,r,o=p.comments.list[e];if((0,b.info)(null==o?void 0:o.floor,.8),v.STORYBOOK)return-1===e?void(0,h.scrollToTop)():void((r=null==(s=document.querySelector('item-post[data-key="'+o.id+'"]'))?void 0:s.offsetTop)&&(0,h.scrollToTop)(r-_._.headerHeight));null!=(t=m.current)&&t.scrollToIndex({animated:!1,index:e,viewOffset:0})}catch(e){console.error("topic/index.js","scrollTo",e)}},[p.comments]),u=(0,j.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{(0,x.t)("帖子.楼层跳转",{topicId:p.topicId,index:e});var r,o,n,d,i,c=_.rakuenStore.setting.sliderAnimated;-1===e?(t&&(0,b.info)("#1",.8),v.STORYBOOK?(0,h.scrollToTop)():null!=(r=m.current)&&r.scrollToOffset({animated:!!c||t,offset:0-_._.headerHeight}),(0,b.feedback)(!0),p.updateDirection(-1,"")):(o=p.comments.list[e],t&&(0,b.info)(null==o?void 0:o.floor,.8),v.STORYBOOK?(d=null==(n=document.querySelector('item-post[data-key="'+o.id+'"]'))?void 0:n.offsetTop)&&(0,h.scrollToTop)(d-_._.headerHeight):null!=(i=m.current)&&i.scrollToIndex({animated:!!c||t,index:e,viewOffset:0+_._.headerHeight+s}),(0,b.feedback)(!0))}catch(e){console.error("topic/index.js","onScrollTo",e);try{var a,u,l=null==(a=String(e).match(/but maximum is (\d+)/))?void 0:a[1];l&&(t&&(0,b.info)("#"+l,.5),null!=(u=m.current))&&u.scrollToIndex({animated:t,index:Number(l),viewOffset:0+_._.headerHeight})}catch(e){}}},[p]),e=(0,j.useCallback)(function(e){var t=e.highestMeasuredFrameIndex,s=e.index;try{n(t),setTimeout(function(){8<=o.current||(o.current+=1,n(s))},100)}catch(e){console.error("topic/index.js","onScrollToIndexFailed",e)}},[n]),d=(0,j.useCallback)(function(e){console.info("onJumpTo",e);var s=e||p.postId;if(s){var r,e=p.comments,t=e.list;if(e._loaded)try{t.forEach(function(e,t){r||(e.id===s?(r=t,console.info("scrollIndex",r)):e.sub&&e.sub.forEach(function(e){e.id===s&&(r=t,console.info("scrollIndex sub",r))}))}),void 0!==r&&n(r)}catch(e){console.error("topic/index.js","onJumpTo",e)}}},[p.comments,p.postId,n]),i=(0,j.useCallback)(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;try{u(t);var e=p.directItems.findIndex(function(e){return e.floor==="#"+(t+1)});e&&-1!==e&&p.updateDirection(e)}catch(e){console.error("topic/index.js","onFloorPress",e)}},[p,u]),c=(0,j.useCallback)(function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;try{var t,r,o,n,d,i,c,a=p.directItems.length;p.directItems.length&&(t=p.state.directIndex,r=Math.min(a-1,Math.max(0,t+(e?1:-1)*s)),0===t&&0===r||-1===t&&0===r&&!e?u(-1,!1):(o=p.directItems[r])&&(n=o.index,d=o.floor,i=O.PRE_OFFSET,1===n.length?(u(n[0],!1,i),1<s&&(0,b.info)(d,.8)):(c=_.rakuenStore.setting.subExpand,n[1]>Number(c)-1&&p.onExpand(o.pid),setTimeout(function(){var e=o.pid,t=o.sibling;i=(i+=O.PRE_OFFSET)-(y.layoutHeightMap.get(e)||0),t.forEach(function(e){i-=y.layoutHeightMap.get(e)||0}),u(n[0],!1,i),1<s&&(0,b.info)(d,.8)},40)),p.updateDirection(r,d)))}catch(e){console.error("topic/index.js","onDirect",e)}},[p,u]),a=(0,j.useCallback)(function(){try{var e;null!=(e=r.current)&&e.onFocus()}catch(e){console.error("topic/index.js","onShowFixedTextarea",e)}},[]);return(0,g.useRunAfter)((0,f.default)(l.mark(function e(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,b.androidKeyboardAdjust)("setAdjustResize"),setTimeout(function(){s.current&&p.setRendered(!0)},400),e.next=4,p.init();case 4:p.postId&&d();case 5:case"end":return e.stop()}},e)}))),(0,g.useKeyboardAdjustResize)(),(0,j.useEffect)(function(){t||(_.uiStore.closePopableSubject(),_.uiStore.closeLikesGrid())},[t]),(0,g.useMount)(function(){return function(){setTimeout(function(){p.setState({fixed:!1})},480)}}),{fixedTextareaRef:r,forwardRef:m,onDirect:c,onFloorPress:i,onJumpTo:d,onScrollToIndexFailed:e,onShowFixedTextarea:a}},r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),j=s("./node_modules/react/index.js"),y=s("./src/screens/_/item/post/utils.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),h=s("./src/utils/dom/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/hooks/index.ts"),v=s("./src/constants/index.ts"),O=s("./src/screens/rakuen/topic/ds.ts")},"./src/screens/rakuen/topic/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/rakuen/topic/component/bottom/index.tsx")),p=r(s("./src/screens/rakuen/topic/component/heatmaps/index.tsx")),m=r(s("./src/screens/rakuen/topic/component/list/index.tsx")),f=r(s("./src/screens/rakuen/topic/component/touch-scroll/index.tsx")),j=r(s("./src/screens/rakuen/topic/header/index.tsx")),y=s("./src/screens/rakuen/topic/hooks.ts"),r=r(s("./src/screens/rakuen/topic/store/index.ts")),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var t=(0,y.useTopicPage)(t),s=t.forwardRef,r=t.fixedTextareaRef,o=t.onFloorPress,n=t.onShowFixedTextarea,d=t.onScrollToIndexFailed,i=t.onDirect;return(0,u.useObserver)(function(){return(0,_.jsxs)(c.Component,{id:"screen-topic",children:[(0,_.jsx)(a.TapListener,{children:(0,_.jsxs)(c.Page,{statusBarEvent:!1,children:[(0,_.jsx)(m.default,{forwardRef:s,onScrollToIndexFailed:d,onShowFixedTextarea:n}),(0,_.jsx)(f.default,{onPress:o})]})}),(0,_.jsx)(j.default,{}),(0,_.jsx)(l.default,{fixedTextareaRef:r,onDirect:i}),(0,_.jsx)(p.default,{})]})})});try{topic.displayName="topic",topic.__docgenInfo={description:"",displayName:"topic",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/topic/index.tsx#topic"]={docgenInfo:topic.__docgenInfo,name:"topic",path:"src/screens/rakuen/topic/index.tsx#topic"})}catch(e){}},"./src/screens/rakuen/topic/store/action.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),p=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),j=s("./src/components/header/utils.tsx"),y=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),b=r(s("./src/utils/cache-manager/index.ts")),h=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),g=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),v=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/topic/store/fetch.ts")),O=s("./src/screens/rakuen/topic/store/ds.ts");function k(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,p.default)(this,e)}}var S;t.default=(s=r.default,(0,u.default)(T,s),S=k(T),(0,o.default)(T));function T(){var u;(0,c.default)(this,T);for(var s,r,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return u=S.call.apply(S,[this].concat(t)),(0,f.default)((0,a.default)(u),"cacheAvatars",function(){u.comments.list.forEach(function(e){var t="avatar|"+e.userId;b.default.has(t)||b.default.set(t,e.avatar),e.sub.forEach(function(e){var t="avatar|"+e.userId;b.default.has(t)||b.default.set(e.userId,e.avatar)})})}),(0,f.default)((0,a.default)(u),"toggleReverseComments",function(){var e=u.state.reverse;(0,h.t)("帖子.吐槽倒序",{topicId:u.topicId,reverse:!e}),u.setState({reverse:!e}),u.setStorage(O.NAMESPACE)}),(0,f.default)((0,a.default)(u),"onFilterClear",function(){u.setState({filterType:"",filterPost:""}),u.save(),(0,_.feedback)()}),(0,f.default)((0,a.default)(u),"onFilterLikes",function(){(0,h.t)("帖子.贴贴相关",{topicId:u.topicId}),u.setState({filterType:"likes",filterPost:""}),u.save(),(0,_.feedback)()}),(0,f.default)((0,a.default)(u),"onFilterMe",function(){(0,h.t)("帖子.与我相关",{topicId:u.topicId}),u.setState({filterType:"me",filterPost:""}),u.save(),(0,_.feedback)()}),(0,f.default)((0,a.default)(u),"onFilterFriends",function(){(0,h.t)("帖子.好友相关",{topicId:u.topicId}),u.setState({filterType:"friends",filterPost:""}),u.save(),(0,_.feedback)()}),(0,f.default)((0,a.default)(u),"clearFilterPost",function(){u.setState({filterPost:""})}),(0,f.default)((0,a.default)(u),"showFixedTextarea",function(e,t,s,r){(0,h.t)("帖子.显示评论框",{topicId:u.topicId});e=e?"回复 "+e+"：":"";r&&(e+=r=64<=(r=(0,_.HTMLDecode)((0,_.removeHTMLTag)(r,!1))).length?r.slice(0,64)+"...":r),u.setState({placeholder:e,replySub:t,message:s})}),(0,f.default)((0,a.default)(u),"closeFixedTextarea",function(){u.setState({placeholder:"",replySub:"",message:"",editPostId:""})}),(0,f.default)((0,a.default)(u),"showFixedTextareaEdit",(s=(0,i.default)(d.mark(function e(t,s){var r,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.rakuenStore.fetchTopicEdit(t,null==(r=String(u.topicId).split("/"))?void 0:r[0]);case 2:if(!0===(o=e.sent))return(0,_.info)("此楼层不再允许修改，可能已被回复过"),e.abrupt("return");e.next=6;break;case 6:if(o){e.next=9;break}return(0,_.info)("未能获取到回复内容，可能授权过期了"),e.abrupt("return");case 9:u.setState({value:""}),setTimeout(function(){u.setState({editPostId:t,value:o}),s()},0);case 11:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),(0,f.default)((0,a.default)(u),"onChange",function(e){u.setState({value:e})}),(0,f.default)((0,a.default)(u),"recoveryContent",function(e){(0,h.t)("帖子.回复失败",{topicId:u.topicId}),(0,_.info)("回复失败，可能是cookie失效了"),u.setState({value:""}),setTimeout(function(){u.setState({value:e})},160)}),(0,f.default)((0,a.default)(u),"setFavor",(0,i.default)(d.mark(function e(){var t,s,r;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!u.isFavor,e.next=3,y.rakuenStore.setFavorV2(u.topicId,t);case 3:200===(null==(s=e.sent)?void 0:s.code)&&((0,h.t)("帖子.设置收藏",{topicId:u.topicId,isFavor:t}),t)&&(s={avatar:u.avatar,userId:u.userId,userName:u.userName,title:u.title,group:u.group,time:u.time},null!=(r=s.avatar)&&r.includes("icon.jpg")&&(s.avatar=u.groupThumb),u.topicId.includes("ep/")&&(r=null==(r=String(u.epFormHTML).match(/\/ 首播:(.+?)<\/span>/))?void 0:r[1])&&(s.time="首播:"+r),(0,x.update)("favor_"+u.topicId.replace("/","_"),s));case 5:case"end":return e.stop()}},e)}))),(0,f.default)((0,a.default)(u),"updateShowHeaderTitle",function(e){u.setState({showHeaderTitle:e})}),(0,f.default)((0,a.default)(u),"toggleExpand",function(t){var e=u.state.expands;u.setState({expands:e.includes(t)?e.filter(function(e){return e!==t}):[].concat((0,n.default)(e),[t])}),u.save()}),(0,f.default)((0,a.default)(u),"onExpand",function(e){u.state.expands.includes(String(e))||u.toggleExpand(String(e))}),(0,f.default)((0,a.default)(u),"updateDirection",function(e){u.setState({directIndex:e,directFloor:1<arguments.length&&void 0!==arguments[1]?arguments[1]:""}),u.save()}),(0,f.default)((0,a.default)(u),"updateVisibleBottom",_.updateVisibleBottom.bind((0,a.default)(u))),(0,f.default)((0,a.default)(u),"onScrollY",0),(0,f.default)((0,a.default)(u),"onScroll",function(e){u.updateVisibleBottom(e),y.uiStore.closePopableSubject(),y.uiStore.closeLikesGrid();var e=e.nativeEvent.contentOffset.y,t=(u.onScrollY=e,u.state.fixed);t&&e>j.HEADER_TRANSITION_HEIGHT||!t&&e<=j.HEADER_TRANSITION_HEIGHT||u.setState({fixed:e>j.HEADER_TRANSITION_HEIGHT})}),(0,f.default)((0,a.default)(u),"setRendered",function(e){u.setState({rendered:e})}),(0,f.default)((0,a.default)(u),"doSubmit",function(e){var t;if(u.topicId.includes("group/"))t="group/topic";else if(u.topicId.includes("subject/"))t="subject/topic";else if(u.topicId.includes("ep/"))t="subject/ep";else if(u.topicId.includes("crt/"))t="character";else{if(!u.topicId.includes("prsn/"))return;t="person"}var s=u.state,r=s.replySub,s=s.editPostId;s?u.doEditReply(s,e):r?u.doReplySub(e,t):u.doReply(e,t)}),(0,f.default)((0,a.default)(u),"doEditReply",function(e,t){(0,h.t)("帖子.编辑回复",{topicId:u.topicId,postId:e});var s=u.topic.formhash;y.rakuenStore.doEditReply({postId:e,topicType:null==(e=String(u.topicId).split("/"))?void 0:e[0],content:t,formhash:s},(0,i.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.setState({value:"",editPostId:""}),e.next=3,u.fetchTopic();case 3:(0,_.feedback)();case 4:case"end":return e.stop()}},e)})))}),(0,f.default)((0,a.default)(u),"doReply",function(s,e){(0,h.t)("帖子.回复",{topicId:u.topicId,sub:!1});var t=u.topic.formhash;y.rakuenStore.doReply({type:e,topicId:u.topicId.match(/\d+/g)[0],content:s,formhash:t},function(e){var t={};try{t=JSON.parse(e)}catch(e){}v.IOS&&"ok"!==t.status?u.recoveryContent(s):u.setState({value:""}),(0,_.feedback)(),u.fetchTopic()})}),(0,f.default)((0,a.default)(u),"doReplySub",function(s,e){(0,h.t)("帖子.回复",{topicId:u.topicId,sub:!0});var t=u.state,r=t.placeholder,o=t.replySub,t=t.message,n=u.topic.formhash,o=o.split(","),o=(0,l.default)(o,6),d=o[1],i=o[2],c=o[4],o=o[5],a=s;t&&(t=(0,g.default)(t).replace(/<div class="quote"><q>.*<\/q><\/div>/,""),a="[quote][b]"+r+"[/b] 说: "+(0,_.removeHTMLTag)(t,!1)+"[/quote]\n"+s),y.rakuenStore.doReply({type:e,content:a,formhash:n,topicId:String(d||"").trim(),related:String(i||"").trim(),sub_reply_uid:String(c||"").trim(),post_uid:String(o||"").trim()},function(e){var t={};try{t=JSON.parse(e)}catch(e){}v.IOS&&"ok"!==t.status?u.recoveryContent(s):u.setState({value:""}),(0,_.feedback)(),u.fetchTopic()})}),(0,f.default)((0,a.default)(u),"doDeleteReply",function(e){e&&((0,h.t)("帖子.删除回复",{topicId:u.topicId}),y.rakuenStore.doDeleteReply({url:v.HOST+"/"+e},function(){(0,_.feedback)(),(0,_.info)("已删除"),u.fetchTopic()}))}),(0,f.default)((0,a.default)(u),"doTranslate",(0,i.default)(d.mark(function e(){var t,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.state.translateResult.length)return e.abrupt("return");e.next=2;break;case 2:return(0,h.t)("帖子.翻译内容",{topicId:u.topicId}),e.prev=3,t=(0,_.loading)(),e.next=7,(0,h.baiduTranslate)(String(u.title+"\n"+u.html).replace(/<br \/>/g,"\n").replace(/<\/?[^>]*>/g,""));case 7:if(s=e.sent,t(),s=JSON.parse(s),s=s.trans_result,Array.isArray(s))return u.setState({translateResult:s}),e.abrupt("return");e.next=13;break;case 13:(0,_.info)("翻译失败, 请重试"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),t&&t(),(0,_.info)("翻译失败, 请重试");case 20:case"end":return e.stop()}},e,null,[[3,16]])}))),(0,f.default)((0,a.default)(u),"doTranslateFloor",(r=(0,i.default)(d.mark(function e(t,s){var r,o,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=u.state.translateResultFloor)[t])return e.abrupt("return");e.next=3;break;case 3:return(0,h.t)("帖子.翻译内容",{floorId:t}),e.prev=4,o=(0,_.loading)(),e.next=8,(0,h.baiduTranslate)((0,_.removeHTMLTag)(s.replace(/<br>/g,"\n"),!1));case 8:if(n=e.sent,o(),n=JSON.parse(n),n=n.trans_result,Array.isArray(n))return u.setState({translateResultFloor:Object.assign({},r,(0,f.default)({},t,n.map(function(e){return e.dst}).join("\n")))}),e.abrupt("return");e.next=14;break;case 14:(0,_.info)("翻译失败, 请重试"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),o&&o(),(0,_.info)("翻译失败, 请重试");case 21:case"end":return e.stop()}},e,null,[[4,17]])})),function(e,t){return r.apply(this,arguments)})),u}},"./src/screens/rakuen/topic/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),i=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),_=r(s("./src/utils/cache-manager/index.ts")),b=s("./src/constants/index.ts"),r=r(s("./src/screens/rakuen/topic/store/state.ts")),h=s("./src/screens/rakuen/topic/store/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var g;t.default=(s=r.default,(0,a.default)(v,s),g=x(v),(0,n.default)(v,[{key:"topicId",get:function(){var e=this.params.topicId,e=void 0===e?"":e;return e?(null==(e=e.split("#"))?void 0:e[0])||"":"0"}},{key:"postId",get:function(){var e=this.params.topicId;return null==(e=(void 0===e?"":e).split("#post_"))?void 0:e[1]}},{key:"namespace",get:function(){return h.NAMESPACE+"|"+this.topicId}},{key:"topic",get:function(){return j.rakuenStore.topic(this.topicId)}},{key:"topicFormCDN",get:function(){var e=this.state.topic;return e._loaded?e:j.rakuenStore.topicFormCDN(this.topicId.replace("group/",""))}},{key:"comments",get:function(){var e,t,s,r,o,n=this;return this.state.filterPost?(t=j.rakuenStore.comments(this.topicId),Object.assign({},t,{list:t.list.filter(function(e){var t;return e.id===n.state.filterPost||(t=!1,e.sub.forEach(function(e){e.id===n.state.filterPost&&(t=!0)}),t)}),pagination:{page:1,pageTotal:1}})):(e=(t=this.state).reverse,t=t.filterType,r=(s=(s=j.rakuenStore.comments(this.topicId))._loaded?s:this.state.comments).list,e&&(r=s.list.slice().reverse()),j.systemStore.setting.filterDefault&&(r=r.filter(function(e){return!(null!=(e=e.avatar)&&e.includes(b.URL_DEFAULT_AVATAR))}).map(function(e){return Object.assign({},e,{sub:e.sub.filter(function(e){return!(null!=(e=e.avatar)&&e.includes(b.URL_DEFAULT_AVATAR))})})})),"likes"===t?(o=(0,i.default)(this.likesFloorIds||[])).length?Object.assign({},s,{list:r.filter(function(e){var t;return!!o.includes(e.id)||(t=!1,e.sub.forEach(function(e){o.includes(e.id)&&(t=!0)}),t)}),pagination:{page:1,pageTotal:1}}):Object.assign({},s,{list:r}):"me"===t?Object.assign({},s,{list:r.filter(function(e){return-1!==e.sub.findIndex(function(e){return e.userId===n.myId})||e.userId===n.myId}),pagination:{page:1,pageTotal:1}}):"friends"===t?Object.assign({},s,{list:r.filter(function(e){return-1!==e.sub.findIndex(function(e){return n.myFriendsMap[e.userId]})||n.myFriendsMap[e.userId]}),pagination:{page:1,pageTotal:1}}):Object.assign({},s,{list:r}))}},{key:"commentMeCount",get:function(){var t=this;return j.rakuenStore.comments(this.topicId).list.filter(function(e){return-1!==e.sub.findIndex(function(e){return e.userId===t.myId})||e.userId===t.myId}).length}},{key:"commentFriendsCount",get:function(){var t=this;return j.rakuenStore.comments(this.topicId).list.filter(function(e){return-1!==e.sub.findIndex(function(e){return t.myFriendsMap[e.userId]})||t.myFriendsMap[e.userId]}).length}},{key:"likesFloorIds",get:function(){return Object.keys(j.rakuenStore.likes(this.topicId))}},{key:"directItems",get:function(){var n,e="directItems|"+this.topicId+"|"+this.comments._loaded;return _.default.get(e)?_.default.get(e):(n=[],this.comments.list.forEach(function(s,r){n.push({id:Number(s.id),floor:s.floor,index:[r]});var o=[];s.sub.forEach(function(e,t){o.push(Number(e.id)),n.push({pid:Number(s.id),id:Number(e.id),floor:e.floor,index:[r,t],sibling:[].concat(o)})})}),n.sort(function(e,t){return(0,y.asc)(e.id,t.id)}),_.default.set(e,n))}},{key:"isEp",get:function(){return 0===this.topicId.indexOf("ep/")}},{key:"isMono",get:function(){return 0===this.topicId.indexOf("prsn/")||0===this.topicId.indexOf("crt/")}},{key:"monoId",get:function(){return 0===this.topicId.indexOf("prsn/")?this.topicId.replace("prsn/","person/"):0===this.topicId.indexOf("crt/")?this.topicId.replace("crt/","character/"):this.topicId}},{key:"epFormHTML",get:function(){var e=this.topicId.replace("ep/","");return j.subjectStore.epFormHTML(e)}},{key:"isWebLogin",get:function(){return j.userStore.isWebLogin}},{key:"readed",get:function(){return j.rakuenStore.readed(this.topicId)}},{key:"myId",get:function(){return j.userStore.myId}},{key:"myFriendsMap",get:function(){return j.usersStore.myFriendsMap}},{key:"isUGCAgree",get:function(){return j.systemStore.isUGCAgree}},{key:"isFavor",get:function(){return j.rakuenStore.favorV2(this.topicId)}},{key:"favorCount",get:function(){return j.rakuenStore.favorCount(this.topicId)}},{key:"setting",get:function(){return j.rakuenStore.setting}},{key:"isLimit",get:function(){return j.userStore.isLimit}},{key:"filterDelete",get:function(){return j.rakuenStore.setting.filterDelete}},{key:"postUsersMap",get:function(){var t={};return j.rakuenStore.comments(this.topicId).list.forEach(function(e){t[e.userName]||(t[e.userName]={userId:e.userId,userName:e.userName,avatar:e.avatar}),e.sub.forEach(function(e){t[e.userName]||(t[e.userName]={userId:e.userId,userName:e.userName,avatar:e.avatar})})}),t}},{key:"isBlockUser",value:function(r,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return(0,f.computed)(function(){return-1!==j.rakuenStore.blockUserIds.findIndex(function(e){var e=e.split("@"),e=(0,d.default)(e,2),t=e[0],e=e[1];if("undefined"===e)return t===o;if(n){var s=n.split(",");if(7===s.length&&e==s[5])return!0}return e==r||t===o})}).get()}},{key:"title",get:function(){return(0,y.HTMLDecode)(("undefined"===this.topic.title?"":this.topic.title)||this.params._title||this.topicFormCDN.title||"")}},{key:"subTitle",get:function(){var e;return!this.topicId.includes("ep/")||(e=(0,y.HTMLDecode)(this.params._title||""))===this.title?"":e}},{key:"group",get:function(){return this.isMono?this.topic.title||this.params._title:this.topic.group||this.params._group||this.topicFormCDN.group||""}},{key:"groupThumb",get:function(){var e=this.params,t=e._group,e=e._groupThumb;return e||(t?j.rakuenStore.groupThumb(t):this.topic.groupThumb||this.topicFormCDN.groupThumb||"")}},{key:"groupHref",get:function(){return this.topic.groupHref||this.topicFormCDN.groupHref||""}},{key:"time",get:function(){return this.topic.time||this.topicFormCDN.time||""}},{key:"avatar",get:function(){return this.topic.avatar||this.params._avatar||this.topicFormCDN.avatar||""}},{key:"userId",get:function(){return this.topic.userId||this.params._userId||this.topicFormCDN.userId||""}},{key:"userName",get:function(){return(0,y.HTMLDecode)(this.topic.userName||this.params._userName||this.topicFormCDN.userName||"")}},{key:"userSign",get:function(){return this.topic.userSign||this.topicFormCDN.userSign||""}},{key:"html",get:function(){return this.isEp?this.epFormHTML||this.params._desc:(this.topic.message||this.topicFormCDN.message||"").replace(/(<br\s*\/?>){3,}/g,"<br><br>")}}]),(0,m.default)((t=v).prototype,"topicId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"topicId"),t.prototype),(0,m.default)(t.prototype,"postId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"postId"),t.prototype),(0,m.default)(t.prototype,"namespace",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"namespace"),t.prototype),(0,m.default)(t.prototype,"topic",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"topic"),t.prototype),(0,m.default)(t.prototype,"topicFormCDN",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"topicFormCDN"),t.prototype),(0,m.default)(t.prototype,"comments",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"comments"),t.prototype),(0,m.default)(t.prototype,"commentMeCount",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"commentMeCount"),t.prototype),(0,m.default)(t.prototype,"commentFriendsCount",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"commentFriendsCount"),t.prototype),(0,m.default)(t.prototype,"likesFloorIds",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"likesFloorIds"),t.prototype),(0,m.default)(t.prototype,"directItems",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"directItems"),t.prototype),(0,m.default)(t.prototype,"isEp",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isEp"),t.prototype),(0,m.default)(t.prototype,"isMono",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isMono"),t.prototype),(0,m.default)(t.prototype,"monoId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoId"),t.prototype),(0,m.default)(t.prototype,"epFormHTML",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"epFormHTML"),t.prototype),(0,m.default)(t.prototype,"isWebLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isWebLogin"),t.prototype),(0,m.default)(t.prototype,"readed",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"readed"),t.prototype),(0,m.default)(t.prototype,"myId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"myId"),t.prototype),(0,m.default)(t.prototype,"myFriendsMap",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"myFriendsMap"),t.prototype),(0,m.default)(t.prototype,"isUGCAgree",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isUGCAgree"),t.prototype),(0,m.default)(t.prototype,"isFavor",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isFavor"),t.prototype),(0,m.default)(t.prototype,"favorCount",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"favorCount"),t.prototype),(0,m.default)(t.prototype,"setting",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"setting"),t.prototype),(0,m.default)(t.prototype,"isLimit",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),(0,m.default)(t.prototype,"filterDelete",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterDelete"),t.prototype),(0,m.default)(t.prototype,"postUsersMap",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"postUsersMap"),t.prototype),(0,m.default)(t.prototype,"title",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"title"),t.prototype),(0,m.default)(t.prototype,"subTitle",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subTitle"),t.prototype),(0,m.default)(t.prototype,"group",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"group"),t.prototype),(0,m.default)(t.prototype,"groupThumb",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"groupThumb"),t.prototype),(0,m.default)(t.prototype,"groupHref",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"groupHref"),t.prototype),(0,m.default)(t.prototype,"time",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"time"),t.prototype),(0,m.default)(t.prototype,"avatar",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"avatar"),t.prototype),(0,m.default)(t.prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,m.default)(t.prototype,"userName",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userName"),t.prototype),(0,m.default)(t.prototype,"userSign",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userSign"),t.prototype),(0,m.default)(t.prototype,"html",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"html"),t.prototype),t);function v(){var e;(0,o.default)(this,v);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=g.call.apply(g,[this].concat(s)),(0,p.default)((0,c.default)(e),"save",function(){return e.saveStorage(e.namespace,h.EXCLUDE_STATE)}),e}},"./src/screens/rakuen/topic/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),s=(t.NAMESPACE="ScreenTopic",t.EXCLUDE_STATE={fixed:!1,rendered:s.STORYBOOK,visibleBottom:r._.window.height,showHeaderTitle:!1,placeholder:"",value:"",replySub:"",editPostId:"",message:"",translateResult:[],translateResultFloor:{},topic:{_loaded:0},comments:{list:[],pagination:{page:0,pageTotal:0},_list:[],_loaded:0},filterPost:""});t.STATE=Object.assign({},s,{expands:[],filterType:"",reverse:!1,favor:{favored:!1,count:0,_loaded:0},directIndex:-1,directFloor:"",_loaded:!1})},"./src/screens/rakuen/topic/store/fetch.ts":(e,t,s)=>{var c=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),y=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),r=r(s("./src/screens/rakuen/topic/store/computed.ts"));function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b;t.default=(s=r.default,(0,i.default)(h,s),b=_(h),(0,n.default)(h));function h(){var i;(0,d.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=b.call.apply(b,[this].concat(t)),(0,p.default)((0,a.default)(i),"fetchTopic",function(){return m.rakuenStore.fetchTopic({topicId:i.topicId})}),(0,p.default)((0,a.default)(i),"fetchEpFormHTML",function(){var e=i.topicId.replace("ep/","");return m.subjectStore.fetchEpFormHTML(e)}),(0,p.default)((0,a.default)(i),"fetchTopicFromOSS",(0,o.default)(c.mark(function e(){var t,s,r,o,n,d;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.topic._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,j.get)("topic_"+i.topicId.replace("/","_"));case 5:if(t=e.sent){e.next=9;break}return i.updateTopicThirdParty(),e.abrupt("return");case 9:s=t.ts,d=t.topic,r=t.comments,o=(0,f.getTimestamp)(),"object"==typeof d&&"object"==typeof r&&(d={topic:Object.assign({},d,{_loaded:o})},null!=r&&null!=(n=r.list)&&null!=(n=n[0])&&n.floor&&!(2<=r.list.length&&1===r.list[0].floor.localeCompare(r.list[1].floor))&&(d.comments=Object.assign({},r,{_loaded:o})),i.setState(d)),14400<=o-s&&i.updateTopicThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,p.default)((0,a.default)(i),"updateTopicThirdParty",function(){setTimeout(function(){var e=i.topic,t=e._loaded,e=e.formhash;if(t&&e)try{(0,j.update)("topic_"+i.topicId.replace("/","_"),{topic:(0,f.omit)(i.topic,["formhash","lastview","close","_loaded"]),comments:Object.assign({},i.comments,{list:i.comments.list.filter(function(e,t){return t<16}).map(function(e){return Object.assign({},(0,f.omit)(e,["replySub","erase","message","sub"]),{message:(0,y.default)(e.message),sub:e.sub.filter(function(e,t){return t<8}).map(function(e){return Object.assign({},(0,f.omit)(e,["replySub","erase","message"]),{message:(0,y.default)(e.message)})})})})})})}catch(e){}},1e4)}),i}},"./src/screens/rakuen/topic/store/index.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=r(s("./src/screens/rakuen/topic/store/action.ts")),j=s("./src/screens/rakuen/topic/store/ds.ts");function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var _,b=!1,r=(s=r.default,(0,d.default)(h,s),_=y(h),(0,n.default)(h));function h(){var d;(0,c.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=_.call.apply(_,[this].concat(t)),(0,p.default)((0,a.default)(d),"init",(0,o.default)(i.mark(function e(){var t,s,r,o,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state._loaded,s=(0,f.getTimestamp)(),r=!t||60<s-Number(t),e.next=5,d.getStorage(j.NAMESPACE);case 5:return o=e.sent,e.prev=6,e.t0=Object,e.t1={},e.next=11,d.getStorage(d.namespace);case 11:if(e.t2=e.sent,e.t3=j.EXCLUDE_STATE,e.t4={reverse:o.reverse,_loaded:r?s:t},n=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3,e.t4),d.postId&&(n.filterType="",n.filterPost=d.postId),d.setState(n),d.fetchTopicFromOSS(),b||(m.rakuenStore.getFavor(),b=!0),!r){e.next=28;break}if(d.isEp?d.fetchEpFormHTML():m.rakuenStore.checkIsFavor(d.topicId),m.usersStore.updateFriendsMap(),d.params._noFetch){e.next=28;break}return e.next=26,d.fetchTopic();case 26:return setTimeout(function(){d.cacheAvatars()},0),e.abrupt("return",!0);case 28:e.next=33;break;case 30:e.prev=30,e.t5=e.catch(6),d.setState(Object.assign({},j.EXCLUDE_STATE,{reverse:o.reverse,_loaded:r?s:t}));case 33:return e.abrupt("return",!0);case 34:case"end":return e.stop()}},e,null,[[6,30]])}))),d}t.default=r},"./src/screens/rakuen/topic/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),p=s("./src/screens/rakuen/topic/store/ds.ts");function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(j,s),f=m(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,d.default)(e),"params",void 0),(0,u.default)((0,d.default)(e),"state",(0,l.observable)(p.STATE)),e}},"./src/screens/rakuen/v2/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/rakuen/v2/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/rakuen/v2/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/rakuen/v2/component/heapmaps/index.tsx")),r=s("./src/screens/rakuen/v2/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Track,{title:"超展开",hm:["rakuen","Rakuen"]}),(0,i.jsx)(d.default,{})]})},r.COMPONENT)},"./src/screens/rakuen/v2/component/heapmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/rakuen/v2/component/heapmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/v2/component/heapmaps/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Heatmap,{right:n._.wind+62,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"超展开.标签页切换",transparent:!0}),(0,i.jsx)(o.Heatmap,{right:n._.wind,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"超展开.标签页点击",transparent:!0}),(0,i.jsx)(o.Heatmap,{bottom:n._.bottom,id:"超展开",screen:"Rakuen"})]})},d.COMPONENT)},"./src/screens/rakuen/v2/component/icon/group.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation;return(0,a.jsx)(n.IconTabsHeader,{style:(0,i.stl)(u.icon,d._.isPad&&u.iconPad),name:"md-filter-none",size:18,onPress:function(){(0,c.t)("超展开.跳转",{to:"Mine"}),s.push("Mine")},children:(0,a.jsx)(o.Heatmap,{right:-40,id:"超展开.跳转",to:"Mine",alias:"我的小组"})})});var u=d._.create({icon:{marginBottom:0,marginLeft:d._.xs,borderRadius:40,overflow:"hidden"},iconPad:{height:52}});try{group.displayName="group",group.__docgenInfo={description:"",displayName:"group",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/icon/group.tsx#group"]={docgenInfo:group.__docgenInfo,name:"group",path:"src/screens/rakuen/v2/component/icon/group.tsx#group"})}catch(e){}},"./src/screens/rakuen/v2/component/icon/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var e=e.style,s=t.navigation,t=[];return a.STORYBOOK||t.push("小组搜索"),t.push("超展开设置","添加新讨论"),(0,u.jsxs)(o.Flex,{style:d._.mr.xs,children:[!a.STORYBOOK&&(0,u.jsx)(o.Touchable,{style:{marginRight:-2},onPress:function(){s.push("RakuenHistory")},children:(0,u.jsx)(o.Flex,{style:l.icon,justify:"center",children:(0,u.jsx)(o.Iconfont,{name:"md-inbox",color:d._.colorTitle,size:20})})}),(0,u.jsxs)(n.Popover,{style:(0,i.stl)(l.touch,e),data:t,onSelect:function(e){switch((0,c.t)("超展开.右上角菜单",{key:e}),e){case"小组搜索":s.push("RakuenSearch");break;case"超展开设置":s.push("RakuenSetting");break;case"添加新讨论":s.push("WebBrowser",{url:(0,a.HTML_NEW_TOPIC)(),title:"添加新讨论",desc:"发帖组件复杂并没有重新开发实装。若你看见的不是发帖页面，请先在此页面进行登录。请务必刷新一下验证码再登录。成功后点击右上方刷新页面。",injectedViewport:!0})}},children:[(0,u.jsx)(o.Flex,{style:l.icon,justify:"center",children:(0,u.jsx)(o.Iconfont,{name:"md-more-horiz",color:d._.colorTitle})}),(0,u.jsx)(o.Heatmap,{id:"超展开.右上角菜单"}),(0,u.jsx)(o.Heatmap,{right:57,bottom:-32,id:"超展开.取消预读取"}),(0,u.jsx)(o.Heatmap,{bottom:-32,id:"超展开.预读取"})]})]})});var l=d._.create({touch:{marginRight:d._.xs,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}})},"./src/screens/rakuen/v2/component/item/avatar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=void 0;t.EVENT={id:"超展开.跳转"}},"./src/screens/rakuen/v2/component/item/avatar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/rakuen/v2/component/item/avatar/ds.ts"),c=s("./src/screens/rakuen/v2/component/item/avatar/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.avatar,r=e.userName,o=e.userId,e=e.priority,t=t.navigation;return(0,a.jsx)(n.default,{style:c.styles.avatar,children:(0,a.jsx)(d.Avatar,{navigation:t,src:s,name:r,userId:o,priority:e,event:i.EVENT})})})},"./src/screens/rakuen/v2/component/item/avatar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({avatar:{marginTop:s._.md-5}})},"./src/screens/rakuen/v2/component/item/btn-popover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),j=s("./src/screens/rakuen/v2/ds.ts"),y=s("./src/screens/rakuen/v2/component/item/btn-popover/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.groupCn,o=e.groupHref,n=e.href,d=e.topicId,i=e.userId,c=e.userName,e=e.isGroup,a=t.$,u=t.navigation;return f.SHARE_MODE?(0,_.jsx)(l.default,{style:y.styles.placeholder}):(t=d.includes("subject/"),s=["进入"+(s=e?"小组":t||d.includes("ep/")?"条目":"人物"),"屏蔽"+s],(e||t)&&s.push(j.TEXT_IGNORE_USER),(0,_.jsx)(m.Popover,{style:y.styles.touch,data:s,onSelect:function(e){a.onExtraSelect(e,{topicId:d,href:n,groupCn:r,groupHref:o,userId:i,userName:c},u)},children:(0,_.jsx)(p.Flex,{style:y.styles.icon,justify:"center",children:(0,_.jsx)(p.Iconfont,{name:"md-more-vert",size:18})})}))})},"./src/screens/rakuen/v2/component/item/btn-popover/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({placeholder:{minWidth:s._._wind},touch:{marginRight:2,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}})},"./src/screens/rakuen/v2/component/item/content/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/rakuen/v2/component/item/detail/index.tsx")),u=r(s("./src/screens/rakuen/v2/component/item/title/index.tsx")),l=s("./src/screens/rakuen/v2/component/item/content/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e){var t=e.groupCn,s=e.replyCount,r=e.time,o=e.title,n=e.topicId,d=e.userId,i=e.userName,e=e.isGroup;return(0,p.jsxs)(c.default,{style:l.styles.item,children:[(0,p.jsx)(u.default,{topicId:n,title:o,replyCount:s,isGroup:e}),(0,p.jsx)(a.default,{time:r,groupCn:t,userName:i,userId:d})]})});try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{groupCn:{defaultValue:null,description:"",name:"groupCn",required:!0,type:{name:"any"}},replyCount:{defaultValue:null,description:"",name:"replyCount",required:!0,type:{name:"any"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"any"}},isGroup:{defaultValue:null,description:"",name:"isGroup",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/item/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/rakuen/v2/component/item/content/index.tsx#content"})}catch(e){}},"./src/screens/rakuen/v2/component/item/content/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({item:{paddingTop:s._.md-s._.web(7,3),paddingBottom:s._.md-4,paddingLeft:s._.sm+1,marginTop:-3,borderRadius:s._.radiusXs,overflow:"hidden"}})},"./src/screens/rakuen/v2/component/item/detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),u=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),f=s("./src/utils/hooks/index.ts"),j=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}function o(e){var t=e.time,s=e.groupCn,r=e.userName,o=e.userId,e=(0,a.useState)(r),e=(0,c.default)(e,2),n=e[0],d=e[1],i=(0,a.useCallback)(function(e){d(e)},[n,d]);return(0,f.useObserver)(function(){return(0,j.jsxs)(l.VerticalAlign,{text:r,style:p._.mt.xs,size:11,lineHeight:13,numberOfLines:1,onHit:i,children:[(0,j.jsxs)(u.Text,{type:"sub",size:11,lineHeight:13,children:[t?(0,m.correctAgo)(t):"",s&&t?" / ":""]}),(0,j.jsx)(u.Text,{type:"sub",size:11,lineHeight:13,children:s}),!!n&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(u.Text,{type:"sub",size:11,lineHeight:13,children:[" ","/"," "]}),(0,j.jsx)(l.Name,{type:"sub",size:11,lineHeight:13,userId:o,showFriend:!0,disabled:!0,children:n})]})]})})}t.default=o;try{o.displayName="Detail",o.__docgenInfo={description:"",displayName:"Detail",props:{time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},groupCn:{defaultValue:null,description:"",name:"groupCn",required:!0,type:{name:"any"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/item/detail/index.tsx#Detail"]={docgenInfo:o.__docgenInfo,name:"Detail",path:"src/screens/rakuen/v2/component/item/detail/index.tsx#Detail"})}catch(e){}},"./src/screens/rakuen/v2/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LIMIT_HEAVY=t.ITEM_HEIGHT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=t.AD_REPLIES_COUNT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/rakuen/v2/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item");t.COMPONENT_MAIN=(0,o.rc)(s),t.LIMIT_HEAVY=r._.device(12,20),t.ITEM_HEIGHT=60,t.AD_REPLIES_COUNT=4,t.DEFAULT_PROPS={styles:{},index:0,avatar:"",userId:"",userName:"",groupHref:"",groupCn:"",href:"",title:"",time:"",topicId:"",replyCount:"",isGroup:!1,onPress:n.FN}},"./src/screens/rakuen/v2/component/item/icon-favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/v2/component/item/icon-favor/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return e=e.topicId,t.$.isFavor(e)?(0,i.jsx)(o.Iconfont,{style:d.styles.icon,size:15,name:"md-star",color:n._.colorYellow}):null})},"./src/screens/rakuen/v2/component/item/icon-favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{position:"absolute",right:13,bottom:14}})},"./src/screens/rakuen/v2/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),_=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),b=r(s("./src/screens/rakuen/v2/component/item/item.tsx")),h=s("./src/screens/rakuen/v2/component/item/utils.ts"),x=s("./src/screens/rakuen/v2/component/item/ds.ts"),g=s("./src/screens/rakuen/v2/component/item/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r,o,n=e.index,d=e.avatar,i=e.userId,c=e.userName,a=e.group,u=e.groupHref,l=e.href,p=e.title,m=e.time,e=e.replies,f=t.$,j=t.navigation;return n>=x.LIMIT_HEAVY&&!f.state._mounted||(s=(0,h.getTopicId)(l),t=(0,_.findSubjectCn)(a),r=i||(0,h.getUserId)(d),o=(0,h.getReplyCount)(e),(0,_.getIsBlocked)(y.rakuenStore.setting.blockKeywords,p,e="Rakuen|"+s+"|"+n))||(0,_.getIsBlocked)(y.rakuenStore.setting.blockGroups,t,e)||(0,_.getIsBlockedUser)(y.rakuenStore.blockUserIds,c,r,e)||(0,h.getIsAd)(y.rakuenStore.setting.isBlockDefaultUser,d,o)?null:(0,v.jsx)(b.default,{styles:(0,g.memoStyles)(),index:n,avatar:d,userId:r,userName:c,groupHref:u,groupCn:t,href:l,title:p,time:m,topicId:s,replyCount:o,isGroup:(0,h.getIsGroup)(s),onPress:function(){(0,h.handlePress)(j,f.onItemPress,{avatar:d,group:a,href:l,replyCount:o,time:m,title:p,topicId:s,userId:i,userName:c})}})},x.COMPONENT)},"./src/screens/rakuen/v2/component/item/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),j=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),y=r(s("./src/screens/rakuen/v2/component/item/avatar/index.tsx")),_=r(s("./src/screens/rakuen/v2/component/item/btn-popover/index.tsx")),b=r(s("./src/screens/rakuen/v2/component/item/content/index.tsx")),h=r(s("./src/screens/rakuen/v2/component/item/icon-favor/index.tsx")),x=r(s("./src/screens/rakuen/v2/component/item/readed/index.tsx")),g=s("./src/screens/rakuen/v2/component/item/ds.ts"),v=s("./node_modules/react/jsx-runtime.js"),r=(0,o.memo)(function(e){var t=e.styles,s=e.index,r=e.avatar,o=e.userId,n=e.userName,d=e.groupHref,i=e.groupCn,c=e.href,a=e.title,u=e.time,l=e.topicId,p=e.replyCount,m=e.isGroup,e=e.onPress;return(0,v.jsx)(f.Touchable,{animate:!0,onPress:e,children:(0,v.jsxs)(x.default,{topicId:l,children:[(0,v.jsxs)(f.Flex,{align:"start",children:[(0,v.jsx)(f.UserStatus,{userId:o,children:(0,v.jsx)(j.InView,{style:t.inView,index:s,y:g.ITEM_HEIGHT*s+1,children:(0,v.jsx)(y.default,{avatar:r,userName:n,userId:o,priority:s<10?"high":"normal"})})}),(0,v.jsx)(f.Flex.Item,{style:t.wrap,children:(0,v.jsxs)(f.Flex,{align:"start",children:[(0,v.jsx)(f.Flex.Item,{children:(0,v.jsx)(b.default,{groupCn:i,title:a,time:u,topicId:l,replyCount:p,userId:o,userName:n,isGroup:m})}),(0,v.jsx)(_.default,{groupCn:i,groupHref:d,href:c,topicId:l,userId:o,userName:n,isGroup:m})]})})]}),(0,v.jsx)(h.default,{topicId:l})]})})},g.DEFAULT_PROPS,g.COMPONENT_MAIN,function(e,t,s){return Object.assign({},e,{index:Math.min(t.index,s.index),time:e.time.slice(0,4)})});t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ inView: { minWidth: number; minHeight: number; }; wrap: { paddingRight: number; marginTop: number; }; }"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},groupHref:{defaultValue:null,description:"",name:"groupHref",required:!0,type:{name:"string"}},groupCn:{defaultValue:null,description:"",name:"groupCn",required:!0,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"string"}},replyCount:{defaultValue:null,description:"",name:"replyCount",required:!0,type:{name:"string | number"}},isGroup:{defaultValue:null,description:"",name:"isGroup",required:!0,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/rakuen/v2/component/item/item.tsx#item"})}catch(e){}},"./src/screens/rakuen/v2/component/item/readed/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/rakuen/v2/component/item/readed/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.topicId,e=e.children,t=t.$,r=(0,d.memoStyles)();return(0,i.jsx)(o.default,{style:(0,n.stl)(r.container,t.readed(s).time&&r.readed),children:e})})},"./src/screens/rakuen/v2/component/item/readed/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"100%",paddingLeft:r._.wind,backgroundColor:r._.colorPlain},readed:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)}}})},"./src/screens/rakuen/v2/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{inView:{minWidth:40,minHeight:40},wrap:{paddingRight:r._.wind-r._._wind,marginTop:2}}})},"./src/screens/rakuen/v2/component/item/title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.OLD_GROUP_ID=void 0;t.OLD_GROUP_ID=374218},"./src/screens/rakuen/v2/component/item/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.parse-int.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/rakuen/v2/component/item/title/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.topicId,o=e.title,n=e.replyCount,e=e.isGroup,d=(t=t.$).readed(r).time,i="+"+n,t=(d&&n>(t=t.readed(r)).replies&&(s="+"+(n-t.replies)),!1);return e&&parseInt(r.substring(6))<a.OLD_GROUP_ID&&(t=!0),(0,u.jsxs)(c.Text,{lineHeight:14,bold:!0,children:[o,!!n&&(0,u.jsxs)(c.Text,{type:d?"sub":"main",size:11,lineHeight:14,bold:!0,children:[" ",i]}),!!s&&(0,u.jsxs)(c.Text,{type:"main",size:11,lineHeight:14,bold:!0,children:[" ",s]}),t&&(0,u.jsxs)(c.Text,{size:11,lineHeight:14,type:"sub",children:[" ","旧帖"]})]})})},"./src/screens/rakuen/v2/component/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAd=function(e,t,s){return e&&t===j.IMG_DEFAULT_AVATAR&&s<n.AD_REPLIES_COUNT},t.getIsBlockedUser=function(e,s,r){return-1!==e.findIndex(function(e){var e=e.split("@"),e=(0,o.default)(e,2),t=e[0],e=e[1];return e&&"undefined"!==e?e===r:t===s})},t.getIsGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return null==e?void 0:e.includes("group/")},t.getReplyCount=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return Number(String(e).match(/\d+/g))},t.getTopicId=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace("/rakuen/topic/","")},t.getUserId=function(e){var t,e=null==e?void 0:e.match(/\/(\d+).jpg/);e&&(t=e[1]);return t},t.handlePress=function(e,t,s){function r(){(0,m.appNavigate)(d,e,{_title:a,_replies:"+"+i,_group:n,_time:c,_avatar:o,_userName:p,_userId:l},{id:"超展开.跳转"}),setTimeout(function(){t(u,i)},400)}var o=s.avatar,n=s.group,d=s.href,i=s.replyCount,c=s.time,a=s.title,u=s.topicId,l=s.userId,p=s.userName;i>j.LIMIT_TOPIC_PUSH?(0,m.confirm)("帖子内容基于网页分析, 帖子回复数过大可能会导致闪退, 仍使用 App 打开?",r,void 0,function(){var e=""+j.HOST+d;(0,f.t)("超展开.跳转",{to:"WebBrowser",url:e}),setTimeout(function(){(0,m.open)(e)},800)}):r()},r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),m=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),n=s("./src/screens/rakuen/v2/component/item/ds.ts")},"./src/screens/rakuen/v2/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ENTERING_EXITING_ANIMATIONS_NUM=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.ENTERING_EXITING_ANIMATIONS_NUM=8},"./src/screens/rakuen/v2/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/dev/index.ts"),u=s("./src/utils/hooks/index.ts"),l=r(s("./src/constants/i18n/index.ts")),p=s("./src/screens/rakuen/v2/component/list/utils.tsx"),m=s("./src/screens/rakuen/v2/component/list/ds.ts"),f=s("./src/screens/rakuen/v2/component/list/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function y(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(y=function(e){return e?s:t})(e))}t.default=(0,o.c)(function(e,t){var s=e.index,r=t.$,o=((0,a.r)(m.COMPONENT),(0,n.useCallback)(function(e){return r.connectRef(e,s)},[s]));return(0,u.useObserver)(function(){var e,t=r.type(s);return"hot"!==t||c.userStore.isWebLogin?(e=r.rakuen(t))._loaded?(0,j.jsx)(d.ListView,{ref:o,skipEnteringExitingAnimations:m.ENTERING_EXITING_ANIMATIONS_NUM,keyExtractor:p.keyExtractor,contentContainerStyle:f.styles.contentContainerStyle,progressViewOffset:f.styles.contentContainerStyle.paddingTop,data:e,renderItem:p.renderItem,scrollEventThrottle:4,onScroll:r.onScroll,onHeaderRefresh:r.onHeaderRefresh},t):(0,j.jsx)(d.Loading,{}):(0,j.jsx)(i.Login,{text:"热门帖子需"+l.default.login()+"才能显示",btnText:"去"+l.default.login()})})})},"./src/screens/rakuen/v2/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/screens/rakuen/v2/ds.ts");t.styles=r._.create({contentContainerStyle:{paddingTop:r._.headerHeight+s.H_TABBAR,paddingBottom:r._.bottom}})},"./src/screens/rakuen/v2/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e,t){return e.href+"|"+(t<n.ENTERING_EXITING_ANIMATIONS_NUM)},t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/rakuen/v2/component/item/index.tsx"))),n=s("./src/screens/rakuen/v2/component/list/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,d.jsx)(o.default,Object.assign({index:e},t))}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/rakuen/v2/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/rakuen/v2/component/tab/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tab")},"./src/screens/rakuen/v2/component/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/screens/rakuen/v2/ds.ts"),a=r(s("./src/screens/rakuen/v2/component/tab/renderScene.tsx")),u=r(s("./src/screens/rakuen/v2/component/tab/tab-bar/index.tsx")),r=s("./src/screens/rakuen/v2/component/tab/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return(t=t.$).state._loaded?(0,l.jsxs)(n.BlurViewRoot,{children:[(0,l.jsx)(o.TabView,{style:d._.mt._sm,lazy:!0,lazyPreloadDistance:0,navigationState:t.navigationState,renderTabBar:p,renderBackground:(0,l.jsx)(n.BlurViewTab,{length:c.TABS.length}),renderScene:a.default,onIndexChange:t.onChange},d._.orientation),(0,l.jsx)(n.BlurViewBottomTab,{})]}):null},r.COMPONENT);function p(e){return(0,l.jsx)(u.default,Object.assign({},e))}try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/rakuen/v2/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/rakuen/v2/component/tab/label/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/tab/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Label")},"./src/screens/rakuen/v2/component/tab/label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),o=s("./src/screens/rakuen/v2/component/tab/label/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.focused,s=e.model,r=e.label,o=e.value,e=e.onSelect;return(0,a.jsx)(d.Popover,{style:i._.container.block,data:s.data.map(function(e){return e.label}),onSelect:e,children:(0,a.jsxs)(n.Flex,{style:i._.container.block,justify:"center",children:[(0,a.jsx)(n.Text,{type:"title",size:13,bold:t,noWrap:!0,children:r}),!c.STORYBOOK&&(0,a.jsxs)(n.Text,{size:10,lineHeight:13,type:"sub",noWrap:!0,children:[" ",s.getLabel(o)," "]})]})})},o.COMPONENT);try{label.displayName="label",label.__docgenInfo={description:"",displayName:"label",props:{focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"any"}},model:{defaultValue:null,description:"",name:"model",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/tab/label/index.tsx#label"]={docgenInfo:label.__docgenInfo,name:"label",path:"src/screens/rakuen/v2/component/tab/label/index.tsx#label"})}catch(e){}},"./src/screens/rakuen/v2/component/tab/renderScene.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.index-of.js");function r(e,t){return function(){return(0,a.jsx)(c.default,{index:t})}}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/defineProperty.js"))),d=(o(s("./node_modules/react/index.js")),s("./node_modules/react-native-tab-view/lib/module/index.js")),i=s("./src/screens/rakuen/v2/ds.ts"),c=o(s("./src/screens/rakuen/v2/component/list/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.SceneMap)(i.TABS.reduce(function(e,t){return Object.assign({},e,(0,n.default)({},t.key,r(0,i.TABS.indexOf(t))))},{}));try{r.displayName="renderScene",r.__docgenInfo={description:"",displayName:"renderScene",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"Layout"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"AnimatedNode<number>"}},jumpTo:{defaultValue:null,description:"",name:"jumpTo",required:!0,type:{name:"(key: string) => void"}},route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/tab/renderScene.tsx#renderScene"]={docgenInfo:r.__docgenInfo,name:"renderScene",path:"src/screens/rakuen/v2/component/tab/renderScene.tsx#renderScene"})}catch(e){}},"./src/screens/rakuen/v2/component/tab/tab-bar-label/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/tab/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"TabBarLabel")},"./src/screens/rakuen/v2/component/tab/tab-bar-label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/rakuen/v2/ds.ts"),a=r(s("./src/screens/rakuen/v2/component/tab/label/index.tsx")),r=s("./src/screens/rakuen/v2/component/tab/tab-bar-label/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=e.route,e=e.focused,t=t.$;return"小组"===s.title&&"小组"===c.TABS[t.state.page].title?(0,u.jsx)(a.default,{focused:e,model:i.MODEL_RAKUEN_TYPE_GROUP,label:"小组",value:t.state.group,onSelect:t.onGroupMenuPress}):"人物"===s.title&&"人物"===c.TABS[t.state.page].title?(0,u.jsx)(a.default,{focused:e,model:i.MODEL_RAKUEN_TYPE_MONO,label:"人物",value:t.state.mono,onSelect:t.onMonoMenuPress}):(0,u.jsx)(o.Flex,{style:n._.container.block,justify:"center",children:(0,u.jsx)(o.Text,{type:"title",size:13,bold:e,noWrap:!0,children:s.title})})},r.COMPONENT)},"./src/screens/rakuen/v2/component/tab/tab-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/component/tab/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"TabBar")},"./src/screens/rakuen/v2/component/tab/tab-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/rakuen/v2/component/tab/tab-bar-label/index.tsx")),r=s("./src/screens/rakuen/v2/component/tab/tab-bar/ds.ts"),i=s("./src/screens/rakuen/v2/component/tab/tab-bar/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=(0,i.memoStyles)();return(0,c.jsx)(o.TabBar,Object.assign({},e,{style:t.tabBar,tabStyle:t.tab,labelStyle:t.label,indicatorStyle:t.indicator,pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:a}))},r.COMPONENT);function a(e){var t=e.route,e=e.focused;return(0,c.jsx)(d.default,{route:t,focused:e})}try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/component/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/rakuen/v2/component/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/rakuen/v2/component/tab/tab-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.width/5,t=r._.r(16);return{tabBar:{position:"absolute",zIndex:2,top:r._.headerHeight,right:0,left:0,paddingLeft:0,backgroundColor:"transparent",borderBottomWidth:0,elevation:0},tab:{width:e,height:r._.r(48)},label:{padding:0},labelText:{width:"100%"},indicator:{width:t,height:4,marginLeft:(e-t)/2+0,backgroundColor:r._.colorMain,borderRadius:4}}})},"./src/screens/rakuen/v2/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_IGNORE_USER=t.TEXT_BLOCK_USER=t.TABS=t.PREFETCH_COUNT=t.H_TABBAR=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.COMPONENT="Rakuen",t.H_TABBAR=48+(s.IOS&&s.PAD?r._.statusBarHeight:0),t.TABS=s.RAKUEN_TYPE.map(function(e){return{title:e.label,key:e.value}}).filter(function(e){return!!e.title}),t.PREFETCH_COUNT=20,t.TEXT_BLOCK_USER="屏蔽用户",t.TEXT_IGNORE_USER="绝交"},"./src/screens/rakuen/v2/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/rakuen/v2/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/rakuen/v2/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/rakuen/v2/component/icon/group.tsx")),c=r(s("./src/screens/rakuen/v2/component/icon/more.tsx")),r=s("./src/screens/rakuen/v2/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ob)(function(){return(0,a.jsx)(o.LogoHeader,{left:(0,a.jsx)(i.default,{}),right:(0,a.jsx)(c.default,{style:n._.ml.sm})})},r.COMPONENT)},"./src/screens/rakuen/v2/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useRakuenPage=function(e){var t=e.$,s=e.navigation;(0,r.useRunAfter)(function(){t.init(),s.addListener(o.EVENT_APP_TAB_PRESS+"|Rakuen",function(){t.onRefreshThenScrollTop()})})};var r=s("./src/utils/hooks/index.ts"),o=s("./src/navigations/tab-bar/index.tsx")},"./src/screens/rakuen/v2/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/rakuen/v2/component/extra/index.tsx")),c=r(s("./src/screens/rakuen/v2/component/tab/index.tsx")),a=r(s("./src/screens/rakuen/v2/header/index.tsx")),u=s("./src/screens/rakuen/v2/hooks.ts"),r=r(s("./src/screens/rakuen/v2/store/index.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){return(0,u.useRakuenPage)(t),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-rakuen",children:[(0,l.jsxs)(o.Page,{children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(c.default,{})]}),(0,l.jsx)(i.default,{})]})})});try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/rakuen/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/rakuen/v2/index.tsx#v2"})}catch(e){}},"./src/screens/rakuen/v2/store/action.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js");function c(e,t){var s,r,o,n,d="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(d)return r=!(s=!0),{s:function(){d=d.call(e)},n:function(){var e=d.next();return s=e.done,e},e:function(e){r=!0,o=e},f:function(){try{s||null==d.return||d.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(d=function(e,t){var s;if(e)return"string"==typeof e?a(e,t):"Map"===(s="Object"===(s=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:s)||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return d&&(e=d),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.symbol.description.js"),s("./node_modules/core-js/modules/es.symbol.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.is-array.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),p=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),j=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/rakuen/v2/ds.ts"),r=r(s("./src/screens/rakuen/v2/store/fetch.ts")),x=s("./src/screens/rakuen/v2/store/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,p.default)(this,e)}}var v;t.default=(s=r.default,(0,d.default)(O,s),v=g(O),(0,o.default)(O));function O(){var d;(0,u.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=v.call.apply(v,[this].concat(t)),(0,f.default)((0,l.default)(d),"onChange",function(e){(0,_.t)("超展开.标签页切换",{page:e}),d.setState({page:e}),d.shouldFetchRakuen(e)}),(0,f.default)((0,l.default)(d),"shouldFetchRakuen",function(e){var e=d.rakuen(d.type(e)),t=e._loaded,e=e.list;t&&0!==e.length||d.fetchRakuen(),d.save()}),(0,f.default)((0,l.default)(d),"onGroupMenuPress",function(e){(0,_.t)("超展开.小组菜单点击",{title:e}),d.setState({group:b.MODEL_RAKUEN_TYPE_GROUP.getValue(e)}),d.fetchRakuen(),d.save()}),(0,f.default)((0,l.default)(d),"onMonoMenuPress",function(e){(0,_.t)("超展开.人物菜单点击",{title:e}),d.setState({mono:b.MODEL_RAKUEN_TYPE_MONO.getValue(e)}),d.fetchRakuen(),d.save()}),(0,f.default)((0,l.default)(d),"onItemPress",function(e,t){j.rakuenStore.updateTopicReaded(e,t)}),(0,f.default)((0,l.default)(d),"onExtraSelect",function(e,t,s){var r,o="超展开.项额外点击";switch(e){case"进入小组":r=t.groupHref.replace("/group/",""),(0,_.t)(o,{title:e,groupId:r}),s.push("Group",{groupId:r,_title:t.groupCn});break;case"进入条目":r=t.groupHref.replace("/subject/",""),(0,_.t)(o,{title:e,subjectId:r}),s.push("Subject",{subjectId:r});break;case"进入人物":r=t.topicId.replace("prsn/","person/").replace("crt/","character/"),(0,_.t)(o,{title:e,monoId:r}),s.push("Mono",{monoId:r});break;case"屏蔽小组":case"屏蔽条目":case"屏蔽人物":(0,y.confirm)("确定"+e+"?",function(){(0,_.t)(o,{title:e,groupCn:t.groupCn}),j.rakuenStore.addBlockGroup(t.groupCn),(0,y.info)("已屏蔽 "+t.groupCn)});break;case h.TEXT_BLOCK_USER:(0,y.confirm)("屏蔽来自 "+(null==t?void 0:t.userName)+"@"+(null==t?void 0:t.userId)+" 的包括条目评论、时间胶囊、超展开相关信息，确定?",function(){(0,_.t)(o,{title:e,userName:t.userName}),j.rakuenStore.addBlockUser(t.userName+"@"+t.userId),(0,y.info)("已屏蔽 "+t.userName)});break;case h.TEXT_IGNORE_USER:(0,y.confirm)("与 "+t.userName+" 绝交（不再看到用户的所有话题、评论、日志、私信、提醒）?",(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.rakuenStore.formhash){e.next=3;break}return e.next=3,j.rakuenStore.fetchPrivacy();case 3:j.rakuenStore.doBlockUser({keyword:String(t.userId)},(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,_.t)("空间.绝交"),(0,y.info)("已添加绝交"),(0,y.feedback)(),j.rakuenStore.fetchPrivacy();case 4:case"end":return e.stop()}},e)})),function(){(0,y.info)("添加失败, 可能授权信息过期")});case 4:case"end":return e.stop()}},e)})))}}),(0,f.default)((0,l.default)(d),"getUnreadTopicIds",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],s=j.rakuenStore.state.topic,r=[];return e.forEach(function(e){try{var t;parseInt(String(e.replies||"0").replace(/\(\+|\)/g,""))<=b.LIMIT_TOPIC_PUSH&&(t=String(e.href).replace("/rakuen/topic/",""),s[t]||r.push(t))}catch(e){}}),r}),(0,f.default)((0,l.default)(d),"prefetchConfirm",function(){var e=d.state.page,e=d.type(e),e=d.rakuen(e).list,t=d.getUnreadTopicIds(e);t.length?(0,y.confirm)("当前 "+t.length+" 个未读帖子, 1次操作最多预读前 "+h.PREFETCH_COUNT+" 个, 建议在WIFI下进行, 确定?",function(){return d.prefetch(t)},"预读取未读帖子"):(0,y.info)("当前没有未读取数据的帖子")}),(0,f.default)((0,l.default)(d),"prefetch",(0,n.default)(i.mark(function e(){var t,s,r,o,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=0<n.length&&void 0!==n[0]?n[0]:[]).length){e.next=3;break}return e.abrupt("return");case 3:(0,_.t)("超展开.预读取",{length:t.length}),r=t.filter(function(e,t){return t<h.PREFETCH_COUNT}),s=0,d.setState({prefetching:!0,prefetchTotal:r.length,prefetchCurrent:s}),r=c(r),e.prev=8,r.s();case 10:if((o=r.n()).done)e.next=21;else{if(o=o.value,d.state.prefetching)return(0,y.info)("预读中... "+s),e.next=17,j.rakuenStore.fetchTopic({topicId:o});e.next=19}break;case 17:s+=1,d.setState({prefetchCurrent:s});case 19:e.next=10;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(8),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:d.setState(Object.assign({},x.INIT_PREFETCH_STATE)),(0,y.info)("预读取完毕");case 31:case"end":return e.stop()}},e,null,[[8,23,26,29]])}))),(0,f.default)((0,l.default)(d),"cancelPrefetch",function(){(0,_.t)("超展开.取消预读取"),d.setState(Object.assign({},x.INIT_PREFETCH_STATE))}),(0,f.default)((0,l.default)(d),"scrollToIndex",{}),(0,f.default)((0,l.default)(d),"connectRef",function(e,t){d.scrollToIndex[t]=null==e?void 0:e.scrollToIndex}),(0,f.default)((0,l.default)(d),"onRefreshThenScrollTop",(0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=d.state.page,"function"==typeof d.scrollToIndex[t])return(0,_.t)("其他.刷新到顶",{screen:"Rakuen"}),d.scrollToIndex[t]({animated:!0,index:0,viewOffset:8e3}),e.next=7,d.onHeaderRefresh();e.next=8;break;case 7:(0,y.feedback)();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Rakuen","onRefreshThenScrollTop",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))),(0,f.default)((0,l.default)(d),"onScroll",y.updateVisibleBottom.bind((0,l.default)(d))),d}},"./src/screens/rakuen/v2/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),l=s("./src/stores/index.ts"),p=s("./src/constants/index.ts"),m=s("./src/screens/rakuen/v2/ds.ts"),r=r(s("./src/screens/rakuen/v2/store/state.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var j;t.default=(s=r.default,(0,d.default)(y,s),j=f(y),(0,n.default)(y,[{key:"navigationState",get:function(){return{index:this.state.page,routes:m.TABS}}},{key:"backgroundColor",get:function(){return l._.select(l._.colorPlain,l._._colorDarkModeLevel1)}},{key:"rakuen",value:function(s){var n=this;return(0,u.computed)(function(){var e="hot"===s?l.rakuenStore.hot:l.rakuenStore.rakuen(n.state.scope,s),t=l.systemStore.setting,r=t.filterDefault,o=t.filter18x;return r||o||l.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){var t,s;return!((r||l.userStore.isLimit)&&null!=e&&null!=(t=e.avatar)&&t.includes(p.URL_DEFAULT_AVATAR)||(o||l.userStore.isLimit)&&(s=String(e.group).toLocaleLowerCase(),["gal","性","癖","里番"].some(function(e){return s.includes(e)})))})}):e}).get()}},{key:"readed",value:function(e){return(0,u.computed)(function(){return l.rakuenStore.readed(e)}).get()}},{key:"type",value:function(s){var r=this;return(0,u.computed)(function(){var e,t=m.TABS[s].title;return"小组"===t?(e=r.state.group,e=p.MODEL_RAKUEN_TYPE_GROUP.getLabel(e),p.MODEL_RAKUEN_TYPE_GROUP.getValue(e)):"人物"===t?(e=r.state.mono,e=p.MODEL_RAKUEN_TYPE_MONO.getLabel(e),p.MODEL_RAKUEN_TYPE_MONO.getValue(e)):p.MODEL_RAKUEN_TYPE.getValue(t)}).get()}},{key:"title",get:function(){return m.TABS[this.state.page].title}},{key:"characterId",value:function(e){return e.includes("/crt/")?e.split("/crt/")[1]:0}},{key:"isFavor",value:function(e){return(0,u.computed)(function(){return l.rakuenStore.favorV2(e)}).get()}}]),(0,a.default)((t=y).prototype,"navigationState",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"navigationState"),t.prototype),(0,a.default)(t.prototype,"backgroundColor",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"backgroundColor"),t.prototype),(0,a.default)(t.prototype,"title",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"title"),t.prototype),t);function y(){return(0,o.default)(this,y),j.apply(this,arguments)}},"./src/screens/rakuen/v2/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.INIT_PREFETCH_STATE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/rakuen/v2/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.INIT_PREFETCH_STATE={prefetching:!1,prefetchTotal:0,prefetchCurrent:0}),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,isFocused:!0,_mounted:o.STORYBOOK};t.STATE=Object.assign({scope:o.MODEL_RAKUEN_SCOPE.getValue("全局聚合"),page:1,group:o.MODEL_RAKUEN_TYPE_GROUP.getValue("全部"),mono:o.MODEL_RAKUEN_TYPE_MONO.getValue("全部")},s,r,{_loaded:!1})},"./src/screens/rakuen/v2/store/fetch.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=s("./src/stores/index.ts"),r=r(s("./src/screens/rakuen/v2/store/computed.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var j;t.default=(s=r.default,(0,a.default)(y,s),j=f(y),(0,d.default)(y));function y(){var s;(0,i.default)(this,y);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=j.call.apply(j,[this].concat(t)),(0,p.default)((0,c.default)(s),"fetchRakuen",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.type(s.state.page),e.abrupt("return","hot"===t?m.rakuenStore.fetchRakuenHot():m.rakuenStore.fetchRakuen({scope:s.state.scope,type:t}));case 2:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(s),"onHeaderRefresh",function(){return s.fetchRakuen()}),s}},"./src/screens/rakuen/v2/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=r(s("./src/screens/rakuen/v2/store/action.ts")),m=s("./src/screens/rakuen/v2/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,a.default)(y,s),j=f(y);var j,r=(0,d.default)(y);function y(){var t;(0,i.default)(this,y);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=j.call.apply(j,[this].concat(s)),(0,p.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(m.NAMESPACE);case 5:return e.t3=e.sent,e.t4=m.INIT_PREFETCH_STATE,e.t5=m.EXCLUDE_STATE,e.t6={_loaded:!0},e.t7=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6),e.t0.setState.call(e.t0,e.t7),t.fetchRakuen(),setTimeout(function(){t.setState({_mounted:!0})},80),e.abrupt("return",!0);case 14:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/rakuen/v2/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),p=s("./src/screens/rakuen/v2/store/ds.ts");function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(j,s),f=m(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,d.default)(e),"state",(0,l.observable)(p.STATE)),(0,u.default)((0,d.default)(e),"save",function(){return e.saveStorage(p.NAMESPACE,p.EXCLUDE_STATE)}),e}}}]);