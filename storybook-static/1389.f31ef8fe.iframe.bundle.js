(self.webpackChunkweb=self.webpackChunkweb||[]).push([[1389],{"./src/screens/discovery/adv/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/adv/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Component")},"./src/screens/discovery/adv/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/adv/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemGrid"),t.EVENT={id:"ADV.跳转"}},"./src/screens/discovery/adv/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/adv/component/item-grid/ds.ts"),a=s("./src/screens/discovery/adv/component/item-grid/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var s=e.pickIndex,r=e.index,l=e.num,m=t.navigation,f=d.otaStore.advSubjectId(s),p=d.otaStore.adv(f),v=p.id,y=p.title,j=p.cover,_=p.score,h=p.rank,b=p.date;if(!v){var x=d._.grid(l);return(0,u.jsx)(o.Flex,{style:{width:x.width,height:i.IMG_HEIGHT_LG,marginBottom:x.marginLeft+d._.xs,marginLeft:x.marginLeft},justify:"center",children:(0,u.jsx)(o.Loading.Raw,{})})}var O=(0,a.memoStyles)();return(0,u.jsx)(n.ItemCollectionsGrid,{style:(d._.isPad||d._.isLandscape)&&!(r%l)&&O.left,navigation:m,num:l,id:v,cover:j?"https://lain.bgm.tv/pic/cover/m/"+j+".jpg":i.IMG_DEFAULT,nameCn:y,score:_,rank:h,airtime:b,collection:d.collectionStore.collect(v),event:c.EVENT})}),c.COMPONENT)},"./src/screens/discovery/adv/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{left:{marginLeft:r._.wind}}}))},"./src/screens/discovery/adv/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),n=s("./src/screens/discovery/adv/component/ds.ts"),d=(t.COMPONENT=(0,o.rc)(n.COMPONENT,"Item"),t.THUMB_WIDTH=r._.device(114,Math.floor(.4*r._.window.contentWidth)));t.THUMB_HEIGHT=Math.floor(.56*d)},"./src/screens/discovery/adv/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),n=s("./src/components/index.ts"),d=s("./src/components/cover/utils.ts"),l=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),a=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),f=s("./src/screens/discovery/adv/component/item/utils.ts"),p=s("./src/screens/discovery/adv/component/item/ds.ts"),v=s("./src/screens/discovery/adv/component/item/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,a.obc)((function(e,t){var s=e.index,r=e.pickIndex,a=t.navigation,j=(0,v.memoStyles)(),_=i.otaStore.advSubjectId(r),h=i.otaStore.adv(_),b=h.id,x=h.title,O=h.cover,T=h.date,g=h.score,E=h.rank,M=h.total,C=h.length,N=h.dev,P=h.time,A=h.cn;if(!b)return(0,y.jsx)(n.Flex,{style:j.loading,justify:"center",children:(0,y.jsx)(n.Loading.Raw,{})});var I=(0,c.HTMLDecode)(x),S=I.length>=20?13:I.length>=14?14:15,R=O?"https://lain.bgm.tv/pic/cover/m/"+O+".jpg":m.IMG_DEFAULT,D=(0,f.getThumbs)(b,C),L=(0,f.getThumbs)(b,C,!1),w=[T,N,(0,c.formatPlaytime)(P),A?"汉化":""].filter((function(e){return!!e})).join(" / "),H=i.collectionStore.collect(b);return(0,y.jsxs)(n.Touchable,{style:j.container,animate:!0,onPress:(0,u.withT)((function(){a.push("Subject",{subjectId:b,_cn:x,_image:(0,d.getCoverSrc)(R,m.IMG_WIDTH_LG),_type:"游戏"})}),"ADV.跳转",{subjectId:b}),children:[(0,y.jsxs)(n.Flex,{style:j.wrap,align:"start",children:[(0,y.jsx)(l.Cover,{src:R,width:m.IMG_WIDTH_LG,height:m.IMG_HEIGHT_LG,radius:!0,cdn:!(0,c.x18)(b)}),(0,y.jsxs)(n.Flex,{style:j.content,direction:"column",align:"start",children:[(0,y.jsx)(o.default,{style:j.body,children:(0,y.jsxs)(n.Flex,{style:i._.container.block,align:"start",children:[(0,y.jsxs)(n.Flex.Item,{children:[(0,y.jsx)(n.Text,{size:S,bold:!0,numberOfLines:3,children:I}),(0,y.jsx)(n.Text,{style:i._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:w}),(0,y.jsxs)(n.Flex,{style:i._.mt.md,wrap:"wrap",children:[(0,y.jsx)(l.Rank,{value:E}),(0,y.jsx)(l.Stars,{style:i._.mr.xs,value:g,simple:!0}),!!M&&(0,y.jsxs)(n.Text,{style:i._.mr.sm,type:"sub",size:11,bold:!0,children:["(",M,")"]})]})]}),(0,y.jsx)(l.Manage,{subjectId:b,collection:H,typeCn:"游戏",onPress:function(){i.uiStore.showManageModal({subjectId:b,title:x,status:m.MODEL_COLLECTION_STATUS.getValue(H),action:"玩"},"找游戏")}})]})}),!!D.length&&(0,y.jsx)(o.default,{style:j.thumbs,children:(0,y.jsx)(n.HorizontalList,{data:D.filter((function(e,t){return t<3})),renderItem:function(e,t){return(0,y.jsx)(n.Image,{style:(0,c.stl)(!!t&&i._.ml.sm,t===D.length-1&&i._.mr.md),src:e,size:p.THUMB_WIDTH,height:p.THUMB_HEIGHT,radius:i._.radiusSm,errorToHide:!0,onPress:function(){(0,c.showImageViewer)(L.map((function(e){return{url:e}})),t)}},e)},renderNums:L.length>3&&function(){return(0,y.jsx)(n.Touchable,{onPress:function(){(0,c.showImageViewer)(L.map((function(e){return{url:e}})),3)},children:(0,y.jsx)(n.Flex,{style:j.nums,justify:"center",children:(0,y.jsxs)(n.Text,{size:15,bold:!0,children:["+ ",L.length]})})})}})})]})]}),0===s&&(0,y.jsx)(n.Heatmap,{id:"ADV.跳转"})]})}),p.COMPONENT)},"./src/screens/discovery/adv/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/adv/component/item/ds.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:o.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:n.THUMB_HEIGHT},nums:{width:n.THUMB_HEIGHT,height:n.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:o.IMG_HEIGHT_LG}}}))},"./src/screens/discovery/adv/component/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"!=typeof t||-1===t?[]:new Array(t).fill("").map((function(t,o){return(0,r.CDN_ADV)(e,o,s)}))};var r=s("./src/constants/index.ts")},"./src/screens/discovery/adv/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/adv/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"List")},"./src/screens/discovery/adv/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("react")),m=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),v=s("./src/utils/decorators/index.ts"),y=s("./src/utils/dev/index.ts"),j=s("./src/constants/index.ts"),_=s("./src/screens/discovery/adv/ds.ts"),h=r(s("./src/screens/discovery/adv/component/item/index.tsx")),b=r(s("./src/screens/discovery/adv/component/item-grid/index.tsx")),x=s("./src/screens/discovery/adv/component/list/utils.ts"),O=s("./src/screens/discovery/adv/component/list/ds.ts"),T=s("./node_modules/react/jsx-runtime.js");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}var E=function(e){(0,l.default)(s,e);var t=g(s);function s(){var e;(0,o.default)(this,s);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,a.default)((0,d.default)(e),"connectRef",(function(t){var s=e.context.$;t&&t.scrollToOffset&&(s.scrollToOffset=t.scrollToOffset)})),(0,a.default)((0,d.default)(e),"renderItem",(function(t){var s=t.item,r=t.index;return e.context.$.isList?(0,T.jsx)(h.default,{pickIndex:s,index:r}):(0,T.jsx)(b.default,{pickIndex:s,index:r,num:e.num})})),e}return(0,n.default)(s,[{key:"num",get:function(){return p._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,T.jsx)(f.Filter,{filterDS:_.filterDS,title:"频道　",name:"ADV",type:"ADV",lastUpdate:j.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录，使用了作者手动编写的代码在 vndb 中自动匹配，均不作检验仅供参考。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+_.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){(0,y.r)(O.COMPONENT);var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,o=t.data;if(!s&&!o._loaded)return(0,T.jsxs)(T.Fragment,{children:[this.renderFilter(),(0,T.jsx)(m.Loading,{})]});var n=e.isList?void 0:this.num;return(0,T.jsx)(f.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:p._.container.bottom,keyExtractor:x.keyExtractor,numColumns:n,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,onPage:e.onPage},""+r+n)}}]),s}(u.default.Component);t.default=(0,v.obc)(E);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/adv/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/adv/component/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e){return String(e)}},"./src/screens/discovery/adv/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/adv/index.ts"),o=s("./src/utils/subject/adv/ds.ts"),n=(t.COMPONENT="ADV",t.ADVANCE_LIMIT=60,[[],[]]);r.ADV_DEV.forEach((function(e,t){return n[t%2?1:0].push(e)}));t.filterDS=[{title:"首字　",type:"first",data:r.ADV_FIRST},{title:"发行　",type:"year",data:r.ADV_YEAR,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"时长　",type:"playtime",data:o.ADV_PLAYTIME},{title:"汉化　",type:"cn",data:o.ADV_CN},{title:"排序　",type:"sort",data:r.ADV_SORT,always:!0},{title:"收藏　",type:"collected",data:r.ADV_COLLECTED}]},"./src/screens/discovery/adv/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/anime/header/index.tsx")),i=r(s("./src/screens/discovery/adv/component/list/index.tsx")),c=r(s("./src/screens/discovery/adv/store/index.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(c.default,(function(e,t){var s=t.$;return(0,d.useRunAfter)((function(){s.init()})),(0,d.useObserver)((function(){return(0,a.jsxs)(o.Component,{id:"screen-adv",children:[(0,a.jsx)(l.default,{title:"找 Gal",alias:"ADV",hm:["adv","ADV"]}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(i.default,{})})]})}))}));try{adv.displayName="adv",adv.__docgenInfo={description:"",displayName:"adv",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/index.tsx#adv"]={docgenInfo:adv.__docgenInfo,name:"adv",path:"src/screens/discovery/adv/index.tsx#adv"})}catch(e){}},"./src/screens/discovery/adv/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/stores/index.ts"),m=s("./src/utils/fetch/index.ts"),f=r(s("./src/screens/discovery/adv/store/fetch.ts"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,l.default)(s,e);var t=p(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,a.default)((0,d.default)(e),"onSelect",(function(t,s){e.setState({query:Object.assign({},e.state.query,(0,a.default)({},t,s))}),setTimeout((function(){e.search(),e.save(),(0,m.t)("ADV.选择",{type:t,value:s})}),0)})),(0,a.default)((0,d.default)(e),"scrollToOffset",null),(0,a.default)((0,d.default)(e),"scrollToTop",(function(){"function"==typeof e.scrollToOffset&&(e.scrollToOffset({x:0,y:0,animated:!0}),(0,m.t)("ADV.到顶"))})),(0,a.default)((0,d.default)(e),"switchLayout",(function(){var t=e.isList?"grid":"list";e.setState({layout:t}),e.save(),(0,m.t)("ADV.切换布局",{layout:t})})),(0,a.default)((0,d.default)(e),"onExpand",(function(){e.setState({expand:!e.state.expand}),e.save()})),(0,a.default)((0,d.default)(e),"onPage",(function(e,t){return t&&t%5==0&&(0,m.t)("ADV.更多",{page:t}),u.otaStore.onADVPage(e)})),e}return(0,o.default)(s)}(f.default)},"./src/screens/discovery/adv/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),f=s("./src/screens/discovery/adv/ds.ts"),p=r(s("./src/screens/discovery/adv/store/state.ts"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=(o=function(e){(0,l.default)(s,e);var t=v(s);function s(){return(0,n.default)(this,s),t.apply(this,arguments)}return(0,d.default)(s,[{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,s=e.query,r=t.list;return"隐藏"===s.collected&&(r=r.filter((function(e){var t=m.otaStore.advSubjectId(e);return!m.collectionStore.collect(t)}))),m.systemStore.advance||(r=r.filter((function(e,t){return t<f.ADVANCE_LIMIT}))),r}}]),s}(p.default),(0,a.default)(o.prototype,"isList",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"isList"),o.prototype),(0,a.default)(o.prototype,"total",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"total"),o.prototype),(0,a.default)(o.prototype,"list",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"list"),o.prototype),o)},"./src/screens/discovery/adv/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=void 0;var r=s("./src/utils/subject/adv/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/adv/ds.ts");t.NAMESPACE="Screen"+n.COMPONENT,t.STATE={query:{first:"",year:r.ADV_YEAR[0],dev:"",playtime:"",cn:"",sort:"评分人数",collected:""},data:o.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1}},"./src/screens/discovery/adv/store/fetch.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/subject/adv/index.ts"),m=r(s("./src/screens/discovery/adv/store/computed.ts"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,l.default)(s,e);var t=f(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,a.default)((0,d.default)(e),"search",(function(){setTimeout((function(){e.setState({data:(0,u.search)(e.state.query)})}),80)})),e}return(0,o.default)(s)}(m.default)},"./src/screens/discovery/adv/store/index.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),p=s("./src/utils/subject/adv/index.ts"),v=o(s("./src/screens/discovery/adv/store/action.ts")),y=s("./src/screens/discovery/adv/store/ds.ts");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,a.default)(this,s)}}var _=!1,h=function(e){(0,c.default)(s,e);var t=j(s);function s(){var e;(0,l.default)(this,s);for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];return e=t.call.apply(t,[this].concat(d)),(0,m.default)((0,i.default)(e),"init",(0,n.default)(r.mark((function t(){var s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStorage(y.NAMESPACE);case 2:if(s=t.sent,e.setState(Object.assign({},s,{_loaded:_})),_){t.next=7;break}return t.next=7,(0,p.init)();case 7:_=!0,f.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),e.search(),setTimeout((function(){e.setState({_loaded:!0})}),120);case 11:case"end":return t.stop()}}),t)})))),e}return(0,d.default)(s)}(v.default);t.default=h},"./src/screens/discovery/adv/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),m=r(s("./src/utils/store/index.ts")),f=s("./src/screens/discovery/adv/store/ds.ts");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,l.default)(s,e);var t=p(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),(0,a.default)((0,d.default)(e),"state",(0,u.observable)(f.STATE)),(0,a.default)((0,d.default)(e),"save",(function(){return e.setStorage(f.NAMESPACE)})),e}return(0,o.default)(s)}(m.default)},"./src/screens/discovery/anime/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Component")},"./src/screens/discovery/anime/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Extra")},"./src/screens/discovery/anime/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o,n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/anime/component/extra/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)((function(e){var t=e.$,s=e.title,r=void 0===s?"Anime":s;t&&(o=null==t?void 0:t.isList);var i=void 0!==o||void 0!==(null==t?void 0:t.isList),c=void 0===(null==t?void 0:t.isList)?o:null==t?void 0:t.isList;return(0,a.jsxs)(n.Flex,{style:l._.mr.xs,children:[i&&(0,a.jsx)(d.IconLayout,{style:l._.mr.xs,list:c,onPress:(null==t?void 0:t.switchLayout)||function(){},children:(0,a.jsx)(n.Heatmap,{right:30,id:r+".切换布局"})}),(0,a.jsx)(d.IconHeader,{name:"md-vertical-align-top",onPress:(null==t?void 0:t.scrollToTop)||function(){},children:(0,a.jsx)(n.Heatmap,{id:r+".到顶"})})]})}),c.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenAnime"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"游戏"'},{value:'"Anime"'},{value:'"ADV"'},{value:'"Manga"'},{value:'"Hentai"'},{value:'"NSFW"'},{value:'"文库"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/anime/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/anime/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/anime/index.ts"),o=(t.COMPONENT="Anime",t.ADVANCE_LIMIT=80,[[],[]]);r.ANIME_TAGS.forEach((function(e,t){return o[t%2?1:0].push(e)}));var n=[[],[]];r.ANIME_OFFICIAL.forEach((function(e,t){return n[t%2?1:0].push(e)}));t.filterDS=[{title:"地区",type:"area",data:r.ANIME_AREA},{title:"版本",type:"type",data:r.ANIME_TYPE},{title:"首字",type:"first",data:r.ANIME_FIRST},{title:"年份",type:"year",data:r.ANIME_YEAR,always:!0},{title:"季度",type:"begin",data:r.ANIME_BEGIN,always:!0},{title:"状态",type:"status",data:r.ANIME_STATUS},{title:"类型",type:"tags",data:o,multiple:!0,multiSelect:!0},{title:"制作",type:"official",data:n,multiple:!0},{title:"排序",type:"sort",data:r.ANIME_SORT,always:!0},{title:"收藏",type:"collected",data:r.ANIME_COLLECTED}]},"./src/screens/discovery/anime/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Header")},"./src/screens/discovery/anime/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/anime/component/extra/index.tsx")),l=s("./src/screens/discovery/anime/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)((function(e,t){var s=e.title,r=void 0===s?"找番剧":s,n=e.alias,l=void 0===n?"Anime":n,c=e.hm,a=t.$;return(0,i.jsx)(o.Header,{title:r,alias:l,hm:c||["anime","Anime"],headerRight:function(){return(0,i.jsx)(d.default,{$:a,title:l})}})}),l.COMPONENT)}}]);