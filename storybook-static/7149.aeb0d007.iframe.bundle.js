(self.webpackChunkweb=self.webpackChunkweb||[]).push([[7149],{"./src/screens/discovery/channel/component/blog/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/component/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Blog")},"./src/screens/discovery/channel/component/blog/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),i=t("./src/screens/discovery/channel/component/blog/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=s.$,n=t.channel.blog,c=void 0===n?[]:n;return(0,a.jsxs)(r.default,{style:d._.mt.lg,children:[(0,a.jsx)(o.SectionTitle,{style:d._.container.wind,children:"最近日志"}),(0,a.jsx)(r.default,{style:d._.mt.sm,children:c.map((function(e){return(0,a.jsx)(o.ItemBlog,Object.assign({},e,{event:{id:"频道.跳转",data:{from:"blog",type:t.type}}}),e.id)}))})]})}),i.COMPONENT);try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/channel/component/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/channel/component/discuss/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/component/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Discuss")},"./src/screens/discovery/channel/component/discuss/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),u=t("./src/screens/discovery/channel/component/discuss/ds.ts"),p=t("./src/screens/discovery/channel/component/discuss/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=s.$,n=s.navigation,a=(0,p.memoStyles)(),u=t.channel.discuss,y=void 0===u?[]:u;return(0,m.jsxs)(r.default,{style:c._.mt.lg,children:[(0,m.jsx)(d.SectionTitle,{style:c._.container.wind,children:"最新讨论"}),(0,m.jsx)(r.default,{style:c._.mt.sm,children:y.map((function(e){return(0,m.jsx)(o.Touchable,{style:a.item,animate:!0,onPress:function(){(0,l.t)("频道.跳转",{to:"Topic",from:"discuss",type:t.type,topicId:e.id}),n.push("Topic",{topicId:e.id,_title:e.title,_replies:e.replies,_userName:e.userName,_userId:e.userId,_time:e.time})},children:(0,m.jsx)(r.default,{style:a.wrap,children:(0,m.jsxs)(o.Flex,{style:a.content,children:[(0,m.jsxs)(o.Flex.Item,{children:[(0,m.jsxs)(o.Text,{size:15,bold:!0,children:[e.title," ","+0"!==e.replies&&(0,m.jsx)(o.Text,{type:"main",size:12,lineHeight:14,bold:!0,children:e.replies})]}),(0,m.jsx)(o.Katakana.Provider,{style:c._.mt.sm,itemStyle:a.katakanas,size:12,children:(0,m.jsx)(o.Katakana,{type:"sub",size:12,children:(0,i.findSubjectCn)(e.subjectName)})})]}),(0,m.jsxs)(r.default,{style:c._.ml.md,children:[(0,m.jsx)(o.Text,{size:12,align:"right",bold:!0,children:e.userName}),(0,m.jsx)(o.Text,{style:c._.mt.xs,type:"sub",size:12,align:"right",children:e.time})]})]})})},e.id)}))})]})}),u.COMPONENT);try{discuss.displayName="discuss",discuss.__docgenInfo={description:"",displayName:"discuss",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/discuss/index.tsx#discuss"]={docgenInfo:discuss.__docgenInfo,name:"discuss",path:"src/screens/discovery/channel/component/discuss/index.tsx#discuss"})}catch(e){}},"./src/screens/discovery/channel/component/discuss/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var n=t("./src/stores/index.ts");s.memoStyles=n._.memoStyles((function(){return{item:{paddingLeft:n._.wind},wrap:{paddingRight:n._.wind-n._._wind},content:{paddingVertical:n._.md,paddingRight:n._._wind},katakanas:{marginTop:-4}}}))},"./src/screens/discovery/channel/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Component")},"./src/screens/discovery/channel/component/friends/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/component/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Friends")},"./src/screens/discovery/channel/component/friends/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),u=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/channel/component/rank/ds.ts"),m=t("./src/screens/discovery/channel/component/friends/ds.ts"),y=t("./src/screens/discovery/channel/component/friends/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$,n=s.navigation,l=t.channel.friends,m=void 0===l?[]:l;if(!m.length)return null;var _=(0,y.memoStyles)();return(0,h.jsxs)(r.default,{style:i._.mt.lg,children:[(0,h.jsx)(c.SectionTitle,{style:i._.container.wind,children:"好友最近关注"}),(0,h.jsx)(o.Flex,{style:_.container,wrap:"wrap",children:m.map((function(e,s){return(0,h.jsx)(r.default,{style:(0,a.stl)(_.item,s%2!=0&&_.itemMarginLeft),children:(0,h.jsx)(o.Touchable,{animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"friends",type:t.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_jp:e.name,_image:(0,d.getCoverSrc)(e.cover,p.COVER_WIDTH_SM),_type:t.typeCn})},children:(0,h.jsxs)(o.Flex,{align:"start",children:[(0,h.jsx)(r.default,{style:_.image,children:(0,h.jsx)(c.Cover,{src:e.cover,width:p.COVER_WIDTH_SM,height:p.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:t.typeCn})}),(0,h.jsxs)(o.Flex.Item,{style:"音乐"===t.typeCn?i._.ml.md:i._.ml.sm,children:[(0,h.jsx)(o.Katakana.Provider,{numberOfLines:2,children:(0,h.jsx)(o.Katakana,{bold:!0,numberOfLines:2,size:13,children:(0,a.findSubjectCn)(e.name,e.id)})}),(0,h.jsxs)(o.Text,{style:i._.mt.xs,size:11,numberOfLines:2,children:[(0,h.jsx)(o.Text,{size:11,type:"sub",bold:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Zone",from:"friends",type:t.type,userId:e.userId}),n.push("Zone",{userId:e.userId,_name:e.userName})},children:e.userName})," ",e.action]})]})]})})},""+e.id+e.userId)}))})]})}),m.COMPONENT);try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/discovery/channel/component/friends/index.tsx#friends"})}catch(e){}},"./src/screens/discovery/channel/component/friends/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var n=t("./src/stores/index.ts"),r=t("./src/screens/discovery/channel/component/rank/ds.ts");s.memoStyles=n._.memoStyles((function(){return{container:{width:"100%",paddingHorizontal:n._.wind,marginTop:n._.sm},item:{width:"47.5%",paddingVertical:n._.sm,marginBottom:4},itemMarginLeft:{marginLeft:"5%"},image:{width:r.COVER_WIDTH_SM}}}))},"./src/screens/discovery/channel/component/rank/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COVER_WIDTH_SM=s.COVER_WIDTH=s.COVER_HEIGHT_SM=s.COVER_HEIGHT=s.COMPONENT=void 0;var n=t("./src/stores/index.ts"),r=t("./src/utils/dev/index.ts"),o=t("./src/constants/index.ts"),d=t("./src/screens/discovery/channel/component/ds.ts"),c=(s.COMPONENT=(0,r.rc)(d.COMPONENT,"Rank"),s.COVER_WIDTH=1.2*o.IMG_WIDTH,s.COVER_HEIGHT=1.2*o.IMG_HEIGHT,s.COVER_WIDTH_SM=n._.r(72));s.COVER_HEIGHT_SM=1.28*c},"./src/screens/discovery/channel/component/rank/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),u=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/channel/component/rank/ds.ts"),m=t("./src/screens/discovery/channel/component/rank/styles.ts"),y=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$,n=s.navigation,l=(0,m.memoStyles)(),h=t.channel,_=h.rankTop,f=void 0===_?[]:_,j=h.rank,x=void 0===j?[]:j;return(0,y.jsxs)(r.default,{style:i._.mt.md,children:[(0,y.jsx)(c.SectionTitle,{style:i._.container.wind,children:"关注榜"}),(0,y.jsxs)(r.default,{style:i._.mt.sm,children:[f.map((function(e,s){var m=t.userCollectionsMap[e.id];return(0,y.jsx)(o.Touchable,{style:l.itemLg,animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:t.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_jp:e.name,_image:(0,d.getCoverSrc)(e.cover,p.COVER_WIDTH),_type:t.typeCn})},children:(0,y.jsxs)(o.Flex,{align:"start",children:[(0,y.jsx)(c.Cover,{src:e.cover,width:p.COVER_WIDTH,height:p.COVER_HEIGHT,radius:!0,shadow:!0,type:t.typeCn}),(0,y.jsx)(o.Flex.Item,{style:i._.ml.md,children:(0,y.jsxs)(o.Flex,{style:i._.mt.xs,align:"start",children:[(0,y.jsx)(o.Flex.Item,{children:(0,y.jsxs)(o.Flex,{style:l.content,direction:"column",justify:"between",align:"start",children:[(0,y.jsxs)(r.default,{children:[(0,y.jsx)(o.Katakana.Provider,{size:15,lineHeight:i._.device(15,18),numberOfLines:2,children:(0,y.jsx)(o.Katakana,{size:15,lineHeight:i._.device(15,18),bold:!0,numberOfLines:2,children:(0,a.findSubjectCn)((0,a.HTMLDecode)(e.name),e.id)})}),(0,y.jsx)(o.Text,{style:i._.mt.xs,size:13,type:"sub",children:e.follow})]}),(0,y.jsx)(r.default,{children:!!m&&(0,y.jsx)(c.Tag,{value:m})})]})}),(0,y.jsx)(o.Text,{style:i._.ml.md,type:0===s?"danger":"main",size:15,bold:!0,children:s+1})]})})]})},e.id)})),(0,y.jsx)(o.Flex,{style:l.container,wrap:"wrap",children:x.map((function(e,s){var m=t.userCollectionsMap[e.id];return(0,y.jsx)(r.default,{style:(0,a.stl)(l.item,s%2!=0&&l.itemMarginLeft),children:(0,y.jsx)(o.Touchable,{animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:t.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_image:(0,d.getCoverSrc)(e.cover,p.COVER_WIDTH_SM),_jp:e.name,_type:t.typeCn})},children:(0,y.jsxs)(o.Flex,{align:"start",children:[(0,y.jsx)(c.Cover,{src:e.cover,width:p.COVER_WIDTH_SM,height:p.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:t.typeCn}),(0,y.jsx)(o.Flex.Item,{style:"音乐"===t.typeCn?i._.ml.md:i._.ml.sm,children:(0,y.jsxs)(o.Flex,{align:"start",children:[(0,y.jsx)(o.Flex.Item,{children:(0,y.jsxs)(o.Flex,{style:l.contentSm,direction:"column",justify:"between",align:"start",children:[(0,y.jsxs)(r.default,{children:[(0,y.jsx)(o.Katakana.Provider,{size:12,lineHeight:i._.device(12,18),numberOfLines:3,children:(0,y.jsx)(o.Katakana,{size:12,lineHeight:i._.device(12,18),bold:!0,numberOfLines:3,children:(0,a.findSubjectCn)((0,a.HTMLDecode)(e.name),e.id)})}),(0,y.jsx)(o.Text,{style:i._.mt.xxs,size:11,type:"sub",children:e.follow})]}),(0,y.jsx)(r.default,{children:!!m&&(0,y.jsx)(c.Tag,{value:m})})]})}),(0,y.jsx)(o.Text,{style:i._.ml.xs,type:"warning",size:13,bold:!0,children:s+4})]})})]})})},e.id)}))})]})]})}),p.COMPONENT);try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/channel/component/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/channel/component/rank/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var n=t("./src/stores/index.ts"),r=t("./src/screens/discovery/channel/component/rank/ds.ts");s.memoStyles=n._.memoStyles((function(){return{container:{width:"100%",paddingHorizontal:n._.wind},itemLg:{width:"100%",paddingVertical:n._.sm,paddingHorizontal:n._.wind,marginBottom:4},image:{width:r.COVER_WIDTH},item:{width:"48%",paddingVertical:n._.sm,marginBottom:4},content:{height:r.COVER_HEIGHT-2*n._.xs},imageSm:{width:r.COVER_WIDTH_SM},contentSm:{height:r.COVER_HEIGHT_SM},itemMarginLeft:{marginLeft:"4%"}}}))},"./src/screens/discovery/channel/component/tags/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/component/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Tags")},"./src/screens/discovery/channel/component/tags/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),a=t("./src/utils/fetch/index.ts"),l=t("./src/screens/discovery/channel/component/tags/ds.ts"),u=t("./src/screens/discovery/channel/component/tags/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=s.$,n=s.navigation,i=(0,u.memoStyles)(),l=t.channel.tags,m=void 0===l?[]:l;return(0,p.jsxs)(r.default,{style:c._.mt.lg,children:[(0,p.jsx)(d.SectionTitle,{style:c._.container.wind,children:"标签"}),(0,p.jsx)(o.Flex,{style:i.container,wrap:"wrap",children:m.map((function(e){return(0,p.jsx)(o.Touchable,{style:i.tag,animate:!0,scale:.85,onPress:function(){(0,a.t)("频道.跳转",{to:"Tag",from:"tags",type:t.type,tag:e}),n.push("Tag",{type:t.type,tag:e})},children:(0,p.jsx)(o.Text,{type:"desc",size:13,children:e})},e)}))})]})}),l.COMPONENT);try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/channel/component/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/channel/component/tags/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var n=t("./src/stores/index.ts");s.memoStyles=n._.memoStyles((function(){return{container:{paddingHorizontal:n._.wind,marginTop:12},tag:{paddingVertical:4,paddingHorizontal:8,marginRight:8,marginBottom:12,backgroundColor:n._.select(n._.colorBg,n._._colorDarkModeLevel1),borderWidth:1,borderColor:n._.select(n._.colorBorder,n._._colorDarkModeLevel1),borderRadius:n._.radiusXs}}}))},"./src/screens/discovery/channel/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.COMPONENT=void 0;s.COMPONENT="Channel",s.STATE={type:"",ota:{}}},"./src/screens/discovery/channel/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var n=t("./src/utils/dev/index.ts"),r=t("./src/screens/discovery/channel/ds.ts");s.COMPONENT=(0,n.rc)(r.COMPONENT,"Header")},"./src/screens/discovery/channel/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/web.timers.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=n(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=(n(t("./node_modules/react/index.js")),t("./src/components/index.ts")),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),i=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),l=t("./src/screens/discovery/channel/header/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=s.$,n=s.navigation;return(0,u.jsx)(o.Header,{title:t.typeCn+"频道",alias:"频道",hm:[t.url,"Channel"],headerRight:function(){return(0,u.jsx)(o.Header.Popover,{name:"md-menu",data:[].concat((0,r.default)(a.SUBJECT_TYPE.map((function(e){return e.title}))),["浏览器查看"]),onSelect:function(e){if((0,i.t)("频道.右上角菜单",{key:e}),"浏览器查看"===e)(0,d.open)(t.url);else setTimeout((function(){n.setOptions({title:e+"频道"}),t.toggleType(a.MODEL_SUBJECT_TYPE.getLabel(e))}),40)},children:(0,u.jsx)(o.Heatmap,{id:"频道.右上角菜单"})})}})}),l.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/channel/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/channel/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;n(t("./node_modules/react/index.js"));var r=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/hooks/index.ts"),i=n(t("./src/screens/discovery/channel/component/blog/index.tsx")),a=n(t("./src/screens/discovery/channel/component/discuss/index.tsx")),l=n(t("./src/screens/discovery/channel/component/friends/index.tsx")),u=n(t("./src/screens/discovery/channel/component/rank/index.tsx")),p=n(t("./src/screens/discovery/channel/component/tags/index.tsx")),m=n(t("./src/screens/discovery/channel/header/index.tsx")),y=n(t("./src/screens/discovery/channel/store.ts")),h=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(y.default,(function(e,s){var t=s.$;return(0,c.useRunAfter)((function(){t.init()})),(0,c.useObserver)((function(){return(0,h.jsxs)(r.Component,{id:"screen-channel",children:[(0,h.jsx)(m.default,{}),(0,h.jsx)(r.Page,{loaded:t.channel._loaded,children:(0,h.jsxs)(r.ScrollView,{contentContainerStyle:o._.container.bottom,scrollToTop:!0,children:[(0,h.jsx)(u.default,{}),(0,h.jsx)(l.default,{}),(0,h.jsx)(i.default,{}),(0,h.jsx)(a.default,{}),(0,h.jsx)(p.default,{})]})})]})}))}));try{channel.displayName="channel",channel.__docgenInfo={description:"",displayName:"channel",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/index.tsx#channel"]={docgenInfo:channel.__docgenInfo,name:"channel",path:"src/screens/discovery/channel/index.tsx#channel"})}catch(e){}},"./src/screens/discovery/channel/store.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o,d=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),h=t("./node_modules/mobx/dist/mobx.esm.js"),_=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),j=t("./src/utils/kv/index.ts"),x=r(t("./src/utils/store/index.ts")),v=t("./src/constants/index.ts"),b=t("./src/screens/discovery/channel/ds.ts");function g(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,p.default)(e);if(s){var r=(0,p.default)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return(0,u.default)(this,t)}}var O=[];s.default=(o=function(e){(0,l.default)(t,e);var s=g(t);function t(){var e;(0,c.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o)),(0,m.default)((0,a.default)(e),"params",void 0),(0,m.default)((0,a.default)(e),"state",(0,h.observable)(b.STATE)),(0,m.default)((0,a.default)(e),"init",(function(){e.setState({type:e.type}),e.fetchChannel()})),(0,m.default)((0,a.default)(e),"fetchChannel",(0,d.default)(n.mark((function s(){var t,r,o;return n.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.fetchThirdParty(),s.next=3,_.discoveryStore.fetchChannel({type:e.type});case 3:return(t=s.sent)&&e.thirdPartyKey in e.state.ota&&(o=(null==(r=e.ota)?void 0:r.ts)||0,(0,f.getTimestamp)()-o>=86400&&e.updateThirdParty()),s.abrupt("return",t);case 6:case"end":return s.stop()}}),s)})))),(0,m.default)((0,a.default)(e),"fetchThirdParty",(0,d.default)(n.mark((function s(){var t;return n.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.ota||e.channel._loaded){s.next=8;break}return s.next=3,(0,j.get)(e.thirdPartyKey);case 3:if(t=s.sent){s.next=7;break}return e.setState({ota:(0,m.default)({},e.thirdPartyKey,{list:[],_loaded:0})}),s.abrupt("return");case 7:e.setState({ota:(0,m.default)({},e.thirdPartyKey,Object.assign({},t,{_loaded:(0,f.getTimestamp)()}))});case 8:case"end":return s.stop()}}),s)})))),(0,m.default)((0,a.default)(e),"updateThirdParty",(0,d.default)(n.mark((function s(){return n.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!O.includes(e.thirdPartyKey)){s.next=2;break}return s.abrupt("return");case 2:setTimeout((function(){(0,j.update)(e.thirdPartyKey,(0,f.omit)(e.channel,["friends","_loaded"])),O.push(e.thirdPartyKey)}),0);case 3:case"end":return s.stop()}}),s)})))),(0,m.default)((0,a.default)(e),"toggleType",(function(s){e.setState({type:s}),e.fetchChannel()})),e}return(0,i.default)(t,[{key:"type",get:function(){return this.state.type||this.params.type||"anime"}},{key:"typeCn",get:function(){return v.MODEL_SUBJECT_TYPE.getTitle(this.type)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"channel",get:function(){var e=_.discoveryStore.channel(this.type);return e._loaded?e:this.ota||{_loaded:0}}},{key:"url",get:function(){return(0,v.HTML_CHANNEL)(this.type)}},{key:"userCollectionsMap",get:function(){return _.collectionStore.userCollectionsMap}},{key:"thirdPartyKey",get:function(){return"channel_"+this.type}}]),t}(x.default),(0,y.default)(o.prototype,"type",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"type"),o.prototype),(0,y.default)(o.prototype,"typeCn",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"typeCn"),o.prototype),(0,y.default)(o.prototype,"ota",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"ota"),o.prototype),(0,y.default)(o.prototype,"channel",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"channel"),o.prototype),(0,y.default)(o.prototype,"url",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"url"),o.prototype),(0,y.default)(o.prototype,"userCollectionsMap",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"userCollectionsMap"),o.prototype),(0,y.default)(o.prototype,"thirdPartyKey",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"thirdPartyKey"),o.prototype),o)}}]);