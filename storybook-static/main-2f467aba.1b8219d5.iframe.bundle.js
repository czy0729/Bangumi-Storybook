(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5491],{"./src/screens/home/characters/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Characters=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/characters/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Characters",component:r.default},t.Characters=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Characters")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Characters')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/episodes/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Episodes=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/episodes/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Episodes",component:r.default},t.Episodes=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Episodes")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Episodes')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/mono/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mono=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/mono/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Mono",component:r.default},t.Mono=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Mono")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Mono')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/persons/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Persons=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/persons/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Persons",component:r.default},t.Persons=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Persons")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Persons')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/preview/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Preview=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/preview/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Preview",component:r.default},t.Preview=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Preview")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Preview')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/rating/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rating=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/rating/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Rating",component:r.default},t.Rating=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Rating")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Rating')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/subject/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Subject=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/subject/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Subject",component:r.default},t.Subject=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Subject")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Subject')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/tag/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Tag=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/tag/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Tag",component:r.default},t.Tag=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Tag")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Tag')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/typerank/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Typerank=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/typerank/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Typerank",component:r.default},t.Typerank=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Typerank")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Typerank')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/v2/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Home=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/v2/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Home",component:r.default},t.Home=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Home")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Home')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/voices/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Voices=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/voices/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Voices",component:r.default},t.Voices=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Voices")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Voices')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/wiki/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SubjectWiki=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/wiki/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/SubjectWiki",component:r.default},t.SubjectWiki=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("SubjectWiki")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('SubjectWiki')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/works/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Works=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=o(s("./src/screens/home/works/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Works",component:r.default},t.Works=function(){return(0,c.jsx)(n.StorybookSPA,{children:(0,c.jsx)(n.StorybookList,{children:(0,c.jsx)(r.default,Object.assign({},(0,n.getStorybookArgs)("Works")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Works')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/characters/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/characters/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/characters/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/characters/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/characters/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/characters/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,i.jsx)(n.Heatmap,{bottom:r._.bottom,id:"更多角色",screen:"Characters"})},c.COMPONENT)},"./src/screens/home/characters/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/characters/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List"),t.EVENT={id:"更多角色.跳转"}},"./src/screens/home/characters/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/characters/component/list/utils.tsx"),d=s("./src/screens/home/characters/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t=t.$,(0,a.jsx)(n.PaginationList2,{keyExtractor:c.keyExtractor,contentContainerStyle:r._.container.bottom,data:t.characters.list,limit:12,scrollToTop:!0,renderItem:i.renderItem,scrollEventThrottle:4,onScroll:t.onScroll})},d.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/characters/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/characters/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/screens/home/characters/component/list/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,i.jsx)(n.ItemCharacter,Object.assign({style:r._.container.item,index:e,event:c.EVENT},t))}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/home/characters/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/characters/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Characters",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height};t.STATE=Object.assign({ota:{}},s,{_loaded:!1})},"./src/screens/home/characters/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/characters/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/characters/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/characters/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的角色":"更多角色",alias:"更多角色",hm:[s.url,"Characters"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("更多角色.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"更多角色.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/characters/header/index.tsx#header"})}catch(e){}},"./src/screens/home/characters/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/characters/component/extra/index.tsx")),d=o(s("./src/screens/home/characters/component/list/index.tsx")),a=o(s("./src/screens/home/characters/header/index.tsx")),o=o(s("./src/screens/home/characters/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-characters",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(n.Page,{loaded:s.characters._loaded,children:(0,u.jsx)(d.default,{})}),(0,u.jsx)(i.default,{})]})})});try{characters.displayName="characters",characters.__docgenInfo={description:"",displayName:"characters",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/index.tsx#characters"]={docgenInfo:characters.__docgenInfo,name:"characters",path:"src/screens/home/characters/index.tsx#characters"})}catch(e){}},"./src/screens/home/characters/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),b=s("./src/utils/kv/index.ts"),o=o(s("./src/utils/store/index.ts")),_=s("./src/constants/index.ts"),y=s("./src/screens/home/characters/ds.ts");function x(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var g,v=[];t.default=(s=o.default,(0,a.default)(O,s),g=x(O),(0,i.default)(O,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"characters",get:function(){var e=j.monoStore.characters(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):_.LIST_EMPTY}},{key:"url",get:function(){return(0,_.HTML_SUBJECT_CHARACTERS)(this.subjectId)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"characters_"+this.subjectId}}]),(0,p.default)((t=O).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,p.default)(t.prototype,"characters",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"characters"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function O(){var o;(0,c.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=g.call.apply(g,[this].concat(t)),(0,m.default)((0,d.default)(o),"params",void 0),(0,m.default)((0,d.default)(o),"state",(0,f.observable)(y.STATE)),(0,m.default)((0,d.default)(o),"init",function(){return o.setState({_loaded:!0}),o.fetchCharacters()}),(0,m.default)((0,d.default)(o),"fetchCharacters",(0,r.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.fetchThirdParty(),e.next=3,j.monoStore.fetchCharacters({subjectId:o.subjectId});case 3:return(t=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(s=(null==(s=o.ota)?void 0:s.ts)||0,604800<=(0,h.getTimestamp)()-s)&&o.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"fetchThirdParty",(0,r.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.characters._loaded){e.next=8;break}return e.next=3,(0,b.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,m.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,m.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,h.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"updateThirdParty",(0,r.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,b.update)(o.thirdPartyKey,{list:o.characters.list}),v.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"onScroll",h.updateVisibleBottom.bind((0,d.default)(o))),o}},"./src/screens/home/episodes/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/episodes/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/episodes/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/episodes/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/episodes/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/episodes/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,i.jsx)(n.Heatmap,{bottom:r._.bottom,id:"章节",screen:"Episodes"})},c.COMPONENT)},"./src/screens/home/episodes/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_WIDTH=t.IMAGE_HEIGHT=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/episodes/component/ds.ts"),n=(t.COMPONENT=(0,n.rc)(s.COMPONENT,"List"),t.IMAGE_WIDTH=o._.r(128));t.IMAGE_HEIGHT=.56*n},"./src/screens/home/episodes/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./node_modules/mobx/dist/mobx.esm.js"),l=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),h=s("./src/screens/home/episodes/component/list/ds.ts"),b=s("./src/screens/home/episodes/component/list/styles.tsx"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation,n=(0,b.memoStyles)(),t=s.eps.slice().sort(function(e,t){return(0,p.desc)(e,t,function(e){return"NA"===e.status?0:e.type||10})}),r=(0,u.toJS)(s.params.epsThumbs||[]),c=(s=s.params).filterEps,i=void 0===c?0:c,d=void 0===(c=s.epsThumbsHeader)?{}:c;return(0,_.jsx)(l.ScrollView,{style:m._.container.plain,contentContainerStyle:m._.container.bottom,scrollToTop:!0,children:t.map(function(e,t){return(0,_.jsxs)(l.Touchable,{animate:!0,onPress:function(){(0,f.t)("章节.跳转",{to:"Topic",topicId:"ep/"+e.id}),o.push("Topic",{topicId:"ep/"+e.id,_title:"ep"+e.sort+"."+e.name,_desc:"时长:"+e.duration+" / 首播:"+e.airdate+"<br />"+e.desc})},children:[(0,_.jsxs)(l.Flex,{style:n.item,children:[(0,_.jsx)(l.Flex.Item,{children:(0,_.jsxs)(l.Flex,{align:"start",children:[(0,_.jsx)(a.default,{style:(0,p.stl)(n.status,"Air"===e.status&&n.statusPrimary,"Today"===e.status&&n.statusSuccess)}),(0,_.jsxs)(l.Flex.Item,{children:[(0,_.jsxs)(l.Text,{bold:!0,children:[e.sort,". ",(0,p.HTMLDecode)((0,p.cnjp)(e.name_cn,e.name)),!!e.comment&&(0,_.jsxs)(l.Text,{type:"main",size:11,lineHeight:14,children:[" ","+",e.comment]})]}),(0,_.jsxs)(l.Text,{style:m._.mt.sm,size:11,type:"sub",children:["首播: ",e.airdate||"-"," / 时长: ",e.duration||"-"]})]})]})}),!j.STORYBOOK&&!!r[t+i]&&(0,_.jsx)(a.default,{style:m._.ml.sm,children:(0,_.jsx)(l.Image,{src:r[t],size:h.IMAGE_WIDTH,height:h.IMAGE_HEIGHT,radius:!0,headers:d,onPress:function(){(0,p.showImageViewer)(r.map(function(e){return{url:e.split("@")[0],headers:d}}),t)}})})]}),!t&&(0,_.jsx)(l.Heatmap,{id:"章节.跳转"})]},e.id)})})},h.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/episodes/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/episodes/component/list/styles.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{item:{paddingVertical:o._.sm+2,paddingHorizontal:o._.wind},status:{width:6,height:6,marginTop:o._.r(6),marginRight:o._.sm,backgroundColor:o._.colorSub,borderRadius:3},statusSuccess:{backgroundColor:o._.colorSuccess},statusPrimary:{backgroundColor:o._.colorPrimary}}})},"./src/screens/home/episodes/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Episodes"},"./src/screens/home/episodes/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/episodes/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/episodes/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/episodes/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的章节":"章节",alias:"章节",hm:[s.url,"Episodes"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("章节.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"章节.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/episodes/header/index.tsx#header"})}catch(e){}},"./src/screens/home/episodes/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/episodes/component/extra/index.tsx")),d=o(s("./src/screens/home/episodes/component/list/index.tsx")),a=o(s("./src/screens/home/episodes/header/index.tsx")),o=o(s("./src/screens/home/episodes/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-episodes",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(n.Page,{loaded:s.subject._loaded,children:(0,u.jsx)(d.default,{})}),(0,u.jsx)(i.default,{})]})})});try{episodes.displayName="episodes",episodes.__docgenInfo={description:"",displayName:"episodes",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/index.tsx#episodes"]={docgenInfo:episodes.__docgenInfo,name:"episodes",path:"src/screens/home/episodes/index.tsx#episodes"})}catch(e){}},"./src/screens/home/episodes/store.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=s("./node_modules/mobx/dist/mobx.esm.js"),p=s("./src/stores/index.ts"),o=o(s("./src/utils/store/index.ts")),f=s("./src/constants/index.ts");function j(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var h;t.default=(s=o.default,(0,i.default)(b,s),h=j(b),(0,r.default)(b,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"subject",get:function(){return p.subjectStore.subject(this.subjectId)}},{key:"eps",get:function(){var e,s;return this.subject._loaded?(e=this.params.filterEps,(s=void 0===e?0:e)?(this.subject.eps||[]).filter(function(e,t){return s<t}):this.subject.eps||[]):[]}},{key:"url",get:function(){return f.HOST+"/subject/"+this.subjectId+"/ep"}}]),(0,l.default)((t=b).prototype,"subjectId",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,l.default)(t.prototype,"subject",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"subject"),t.prototype),(0,l.default)(t.prototype,"eps",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"eps"),t.prototype),(0,l.default)(t.prototype,"url",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function b(){var e;(0,n.default)(this,b);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=h.call.apply(h,[this].concat(s)),(0,u.default)((0,c.default)(e),"params",void 0),(0,u.default)((0,c.default)(e),"init",function(){return p.subjectStore.fetchSubject(e.subjectId)}),e}},"./src/screens/home/mono/component/collabs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Collabs")},"./src/screens/home/mono/component/collabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),r=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),l=s("./src/constants/index.ts"),m=s("./src/screens/home/mono/component/collabs/ds.ts"),p=s("./src/screens/home/mono/component/collabs/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return null!=(t=s.mono.collabs)&&t.length?(0,f.jsxs)(i.InView,{style:p.styles.container,children:[(0,f.jsx)(i.SectionTitle,{style:d._.container.wind,right:(0,f.jsx)(c.Flex,{children:(0,f.jsx)(c.Touchable,{style:p.styles.touch,onPress:function(){o.push("WebBrowser",{url:l.HOST+"/"+s.monoId+"/collabs",title:s.nameTop+"的合作"}),(0,u.t)("人物.跳转",{from:"合作",to:"WebBrowser",monoId:s.monoId})},children:(0,f.jsxs)(c.Flex,{children:[(0,f.jsx)(c.Text,{style:d._.ml.sm,type:"sub",children:"全部"}),(0,f.jsx)(c.Iconfont,{style:d._.ml.xs,name:"md-open-in-new",color:d._.colorSub,size:16})]})})}),children:"合作"}),(0,f.jsx)(n.default,Object.assign({style:d._.mt.md,contentContainerStyle:d._.container.wind,horizontal:!0},l.SCROLL_VIEW_RESET_PROPS,{children:t.map(function(e){return(0,f.jsx)(c.Touchable,{style:p.styles.item,animate:!0,onPress:function(){(0,a.appNavigate)(e.href,o),(0,u.t)("人物.跳转",{from:"合作",to:"Mono",monoId:s.monoId,href:e.href})},children:(0,f.jsxs)(c.Flex,{children:[(0,f.jsx)(i.Avatar,{name:e.name,src:e.cover}),(0,f.jsxs)(r.default,{style:d._.ml.sm,children:[(0,f.jsx)(c.Flex,{children:(0,f.jsx)(c.Text,{size:13,bold:!0,children:e.name})}),(0,f.jsx)(c.Text,{style:d._.mt.xs,size:10,type:"sub",bold:!0,children:e.count})]})]})},e.href)})})),(0,f.jsx)(i.PreventTouchPlaceholder,{})]}):null},m.COMPONENT);try{collabs.displayName="collabs",collabs.__docgenInfo={description:"",displayName:"collabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/collabs/index.tsx#collabs"]={docgenInfo:collabs.__docgenInfo,name:"collabs",path:"src/screens/home/mono/component/collabs/index.tsx#collabs"})}catch(e){}},"./src/screens/home/mono/component/collabs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:84,marginTop:s._.md,marginBottom:s._.lg},item:{paddingRight:s._.sm,paddingBottom:s._.xs,marginRight:s._.sm},touch:{paddingHorizontal:s._.xs,marginRight:-s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/collected/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),r=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),u=s("./src/constants/index.ts"),l=s("./src/screens/home/mono/component/collected/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return null!=(t=s.mono.collected)&&t.length?(0,m.jsxs)(i.InView,{style:l.styles.container,children:[(0,m.jsx)(i.SectionTitle,{style:d._.container.wind,right:(0,m.jsx)(c.Flex,{children:(0,m.jsx)(c.Touchable,{style:l.styles.touch,onPress:function(){o.push("WebBrowser",{url:u.HOST+"/"+s.monoId+"/collections",title:"谁收藏了"+s.nameTop}),(0,a.t)("人物.跳转",{from:"谁收藏了",to:"WebBrowser",monoId:s.monoId})},children:(0,m.jsxs)(c.Flex,{children:[(0,m.jsx)(c.Text,{style:d._.ml.sm,type:"sub",children:"全部"}),(0,m.jsx)(c.Iconfont,{style:d._.ml.xs,name:"md-open-in-new",color:d._.colorSub,size:16})]})})}),children:"谁收藏了"}),(0,m.jsx)(n.default,Object.assign({style:d._.mt.md,contentContainerStyle:d._.container.wind,horizontal:!0},u.SCROLL_VIEW_RESET_PROPS,{children:t.map(function(e){return(0,m.jsx)(c.Touchable,{style:l.styles.item,animate:!0,onPress:function(){o.push("Zone",{userId:e.userId,_name:e.name}),(0,a.t)("人物.跳转",{from:"谁收藏了",to:"Zone",monoId:s.monoId,userId:e.userId})},children:(0,m.jsxs)(c.Flex,{children:[(0,m.jsx)(c.UserStatus,{userId:e.userId,children:(0,m.jsx)(i.Avatar,{name:e.name,src:e.avatar})}),(0,m.jsxs)(r.default,{style:l.styles.body,children:[(0,m.jsx)(c.Text,{size:13,bold:!0,numberOfLines:1,children:e.name}),(0,m.jsx)(c.Text,{style:d._.mt.xs,size:10,type:"sub",numberOfLines:1,children:e.last})]})]})},e.userId)})})),(0,m.jsx)(i.PreventTouchPlaceholder,{})]}):null});try{collected.displayName="collected",collected.__docgenInfo={description:"",displayName:"collected",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/collected/index.tsx#collected"]={docgenInfo:collected.__docgenInfo,name:"collected",path:"src/screens/home/mono/component/collected/index.tsx#collected"})}catch(e){}},"./src/screens/home/mono/component/collected/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:84,marginTop:24,marginBottom:s._.md},item:{paddingRight:s._.sm,paddingBottom:s._.xs,marginRight:s._.sm},body:{maxWidth:96,marginLeft:s._.sm},touch:{paddingHorizontal:s._.xs,marginRight:-s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/content/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Content")},"./src/screens/home/mono/component/content/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/screens/home/mono/component/content/ds.ts"),u=s("./src/screens/home/mono/component/content/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return s.info?(t=s.state.translateResult).length?(0,l.jsx)(n.default,{style:u.styles.content,children:(0,l.jsx)(n.default,{children:t.map(function(e,t){return(0,l.jsxs)(n.default,{children:[(0,l.jsx)(r.Text,{style:i._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,l.jsx)(r.Text,{style:i._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},t)})})}):(0,l.jsxs)(n.default,{style:u.styles.content,children:[(0,l.jsx)(r.RenderHtml,{html:s.info,onLinkPress:function(e){return(0,d.appNavigate)(e,o)}}),!(0,d.isChineseParagraph)((0,d.removeURLs)((0,d.removeHTMLTag)(s.info)),.5)&&(0,l.jsx)(n.default,{style:u.styles.iconTranslate,children:(0,l.jsx)(c.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return s.doTranslate("translateResult",s.info)}})})]}):null},a.COMPONENT);try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/home/mono/component/content/index.tsx#content"})}catch(e){}},"./src/screens/home/mono/component/content/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({content:{paddingHorizontal:s._.xs,marginTop:s._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}})},"./src/screens/home/mono/component/cover/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Cover")},"./src/screens/home/mono/component/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=j(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),d=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),l=s("./src/utils/dev/index.ts"),m=s("./src/screens/home/mono/component/cover/ds.ts"),p=s("./src/screens/home/mono/component/cover/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");function j(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(j=function(e){return e?s:t})(e))}function n(e){var t=e.thumb,s=e.src,e=e.monoId,o=((0,l.r)(m.COMPONENT),(0,i.useState)(!1)),o=(0,c.default)(o,2),n=o[0],r=o[1];return(0,f.jsxs)(d.Flex,{style:a._.mt.md,justify:"center",children:[!n&&!!t&&(0,f.jsx)(d.Cover,{src:t,size:80,shadow:!0}),!!s&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Image,{style:!n&&p.styles.loading,src:(0,u.getCoverLarge)(s,200),autoSize:a._.r(.5*a._.window.contentWidth),shadow:!0,imageViewer:!0,imageViewerSrc:(0,u.getCoverLarge)(s),fallback:!0,event:{id:"人物.封面图查看",data:{monoId:e}},onLoadEnd:function(){r(!0)}}),(0,f.jsx)(d.Heatmap,{id:"人物.封面图查看"})]})]})}t.default=n;try{n.displayName="Cover",n.__docgenInfo={description:"",displayName:"Cover",props:{thumb:{defaultValue:null,description:"",name:"thumb",required:!0,type:{name:"any"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"any"}},monoId:{defaultValue:null,description:"",name:"monoId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/cover/index.tsx#Cover"]={docgenInfo:n.__docgenInfo,name:"Cover",path:"src/screens/home/mono/component/cover/index.tsx#Cover"})}catch(e){}},"./src/screens/home/mono/component/cover/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({loading:{position:"absolute",top:0,left:0,width:1,height:1,pointerEvents:"none",opacity:0}})},"./src/screens/home/mono/component/detail/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Detail")},"./src/screens/home/mono/component/detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/screens/home/mono/component/detail/ds.ts"),u=s("./src/screens/home/mono/component/detail/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return s.detail?(t=s.state.translateResultDetail).length?(0,l.jsx)(n.default,{style:u.styles.content,children:(0,l.jsx)(n.default,{children:t.map(function(e,t){return(0,l.jsxs)(n.default,{children:[(0,l.jsx)(r.Text,{style:i._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,l.jsx)(r.Text,{style:i._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},t)})})}):(0,l.jsxs)(n.default,{style:u.styles.content,children:[(0,l.jsx)(r.Expand,{ratio:2,children:(0,l.jsx)(r.RenderHtml,{style:i._.mt.lg,html:s.detail,onLinkPress:function(e){return(0,d.appNavigate)(e,o)}})}),!(0,d.isChineseParagraph)(s.detail)&&(0,l.jsx)(n.default,{style:u.styles.iconTranslate,children:(0,l.jsx)(c.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return s.doTranslate("translateResultDetail",s.detail)}})})]}):null},a.COMPONENT);try{detail.displayName="detail",detail.__docgenInfo={description:"",displayName:"detail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/detail/index.tsx#detail"]={docgenInfo:detail.__docgenInfo,name:"detail",path:"src/screens/home/mono/component/detail/index.tsx#detail"})}catch(e){}},"./src/screens/home/mono/component/detail/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({content:{paddingHorizontal:s._.xs,marginTop:s._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}})},"./src/screens/home/mono/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/mono/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},monoId:"",canICO:!1,icoUsers:void 0,doICO:function(){}}},"./src/screens/home/mono/component/extra/extra.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),n=s("./src/screens/home/mono/component/extra/ds.ts"),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.navigation,s=e.monoId,o=e.canICO,n=e.icoUsers,r=e.doICO;return o?(0,l.jsx)(c.Touchable,{style:[d._.container.touch,d._.mr.sm],onPress:function(){(0,a.confirm)("花费10000cc启动ICO?",function(){return r(t)})},children:(0,l.jsxs)(c.Flex,{style:d._.mr.sm,children:[(0,l.jsx)(i.IconHeader,{name:"trophy",size:18}),(0,l.jsx)(c.Text,{size:13,children:"启动ICO"})]})}):(0,l.jsxs)(i.IconHeader,{style:d._.mr.sm,name:"trophy",size:18,onPress:function(){var e=n?"TinygrailICODeal":"TinygrailDeal";(0,u.t)("人物.跳转",{to:e,monoId:s}),t.push(e,{monoId:s})},children:[(0,l.jsx)(c.Heatmap,{right:173,id:"人物.启动ICO",transparent:!0}),(0,l.jsx)(c.Heatmap,{right:109,id:"人物.跳转",to:"TinygrailICODeal",alias:"ICO",transparent:!0}),(0,l.jsx)(c.Heatmap,{right:30,id:"人物.跳转",to:"TinygrailDeal",alias:"交易"})]})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);t.default=s;try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},monoId:{defaultValue:null,description:"",name:"monoId",required:!0,type:{name:"MonoId"}},canICO:{defaultValue:null,description:"",name:"canICO",required:!0,type:{name:"boolean"}},icoUsers:{defaultValue:null,description:"",name:"icoUsers",required:!0,type:{name:"0"}},doICO:{defaultValue:null,description:"",name:"doICO",required:!0,type:{name:"(navigation: Navigation) => Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/extra/extra.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/mono/component/extra/extra.tsx#extra"})}catch(e){}},"./src/screens/home/mono/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/component/favor/index.tsx")),c=o(s("./src/screens/home/mono/component/extra/extra.tsx")),o=s("./src/screens/home/mono/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=e.$,e=e.navigation;return(0,i.jsxs)(i.Fragment,{children:[t.monoId.includes("character")&&t.tinygrail&&(0,i.jsx)(c.default,{navigation:e,monoId:t.monoId,canICO:t.canICO,icoUsers:t.chara.users,doICO:t.doICO}),(0,i.jsx)(r.default,{$:t})]})},o.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/mono/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/home/mono/component/favor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Favor")},"./src/screens/home/mono/component/favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/mono/component/favor/ds.ts"),i=s("./src/screens/home/mono/component/favor/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){return(e=e.$).mono.collectUrl?(0,d.jsxs)(n.Touchable,{style:i.styles.touch,onPress:e.doCollect,children:[(0,d.jsx)(n.Iconfont,{size:20,name:"md-favorite-outline",color:r._.colorTitle}),(0,d.jsx)(n.Heatmap,{id:"人物.收藏人物"}),(0,d.jsx)(n.Heatmap,{right:52,id:"人物.取消收藏人物",transparent:!0})]}):e.mono.eraseCollectUrl?(0,d.jsxs)(n.Touchable,{style:i.styles.touch,onPress:e.doEraseCollect,children:[(0,d.jsx)(n.Iconfont,{size:20,name:"md-favorite",color:r._.colorMain}),(0,d.jsx)(n.Heatmap,{id:"人物.取消收藏人物"})]}):null},c.COMPONENT);try{favor.displayName="favor",favor.__docgenInfo={description:"",displayName:"favor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/favor/index.tsx#favor"]={docgenInfo:favor.__docgenInfo,name:"favor",path:"src/screens/home/mono/component/favor/index.tsx#favor"})}catch(e){}},"./src/screens/home/mono/component/favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{paddingHorizontal:s._.sm,marginRight:6,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"HeaderTitle");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={tinygrail:!1,cover:"",nameTop:"",nameBottom:""}},"./src/screens/home/mono/component/header-title/header-title.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/mono/component/header-title/ds.ts"),a=s("./src/screens/home/mono/component/header-title/styles.ts"),u=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.tinygrail,s=e.cover,o=e.nameTop,e=e.nameBottom;return(0,u.jsxs)(n.Flex,{style:(0,i.stl)(a.styles.container,t&&a.styles.containerTinygrail),children:[!!s&&(0,u.jsx)(r.Cover,{size:a.styles.container.height,src:s,radius:!0}),(0,u.jsxs)(n.Flex.Item,{style:c._.ml.sm,children:[(0,u.jsx)(n.Text,{size:13,numberOfLines:1,children:o}),!!e&&(0,u.jsx)(n.Text,{type:"sub",size:10,numberOfLines:1,children:e})]})]})},d.DEFAULT_PROPS,d.COMPONENT_MAIN);t.default=s;try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{tinygrail:{defaultValue:null,description:"",name:"tinygrail",required:!0,type:{name:"boolean"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},nameTop:{defaultValue:null,description:"",name:"nameTop",required:!0,type:{name:"string"}},nameBottom:{defaultValue:null,description:"",name:"nameBottom",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/header-title/header-title.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/mono/component/header-title/header-title.tsx#headertitle"})}catch(e){}},"./src/screens/home/mono/component/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/component/header-title/header-title.tsx")),o=s("./src/screens/home/mono/component/header-title/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e){return e=e.$,(0,c.jsx)(r.default,{cover:e.thumb,tinygrail:e.tinygrail,nameTop:e.nameTop,nameBottom:e.nameBottom})},o.COMPONENT);try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/mono/component/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/home/mono/component/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{height:28,marginTop:s._.platforms(2,-6,-10,-4,-4),marginLeft:-s._.sm,marginRight:s._.lg},containerTinygrail:{marginRight:52}})},"./src/screens/home/mono/component/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Info")},"./src/screens/home/mono/component/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),l=o(s("./src/screens/home/mono/component/collabs/index.tsx")),m=o(s("./src/screens/home/mono/component/collected/index.tsx")),p=o(s("./src/screens/home/mono/component/content/index.tsx")),f=o(s("./src/screens/home/mono/component/cover/index.tsx")),j=o(s("./src/screens/home/mono/component/detail/index.tsx")),h=o(s("./src/screens/home/mono/component/jobs/index.tsx")),b=o(s("./src/screens/home/mono/component/voice/index.tsx")),_=o(s("./src/screens/home/mono/component/works/index.tsx")),o=s("./src/screens/home/mono/component/info/ds.ts"),y=s("./src/screens/home/mono/component/info/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$,o=t.navigation,t=(0,y.memoStyles)(),n=s.monoId.includes("character/"),r=s.params._count;return(0,x.jsxs)(c.default,{style:t.info,children:[(0,x.jsx)(i.HeaderPlaceholder,{}),(0,x.jsxs)(c.default,{style:t.container,children:[(0,x.jsxs)(i.Flex,{wrap:"wrap",children:[(0,x.jsxs)(i.Text,{size:20,bold:!0,children:[s.nameTop," "]}),(0,x.jsx)(i.Text,{type:"sub",lineHeight:20,bold:!0,children:s.nameBottom})]}),(0,x.jsx)(f.default,{thumb:s.thumb,src:s.cover,monoId:s.monoId}),(0,x.jsx)(p.default,{}),(0,x.jsx)(j.default,{}),!!s.cn&&(0,x.jsx)(i.Flex,{style:a._.mt.lg,justify:"end",children:(0,x.jsx)(i.Touchable,{style:t.touch,onPress:s.onMore,children:(0,x.jsxs)(i.Flex,{children:[(0,x.jsx)(i.Text,{style:a._.ml.sm,type:"sub",children:"更多资料"}),(0,x.jsx)(i.Iconfont,{style:a._.ml.xs,name:"md-open-in-new",color:a._.colorSub,size:16})]})})})]}),(0,x.jsx)(i.Divider,{}),(0,x.jsx)(b.default,{style:a._.mt.md}),(0,x.jsx)(_.default,{style:a._.mt.md}),(0,x.jsx)(h.default,{style:a._.mt.md}),(0,x.jsx)(l.default,{style:a._.mt.md}),(0,x.jsx)(m.default,{style:a._.mt.md}),(0,x.jsxs)(d.SectionTitle,{style:t.title,right:(0,x.jsxs)(i.Touchable,{style:t.touchTopic,onPress:function(){(0,u.t)("人物.跳转",{to:"Topic",from:"去吐槽",monoId:s.monoId}),o.push("Topic",{topicId:(n?"crt":"prsn")+"/"+(s.monoId||"").match(/\d+/g)[0]})},children:[(0,x.jsxs)(i.Flex,{children:[(0,x.jsx)(i.Text,{type:"sub",children:"去吐槽"}),(0,x.jsx)(i.Iconfont,{name:"md-navigate-next"})]}),(0,x.jsx)(i.Heatmap,{id:"人物.跳转",from:"去吐槽"}),(0,x.jsx)(i.Heatmap,{right:66,id:"人物.跳转",to:"Topic",alias:"帖子",transparent:!0})]}),children:["吐槽"," ",!!r&&(0,x.jsxs)(i.Text,{type:"sub",lineHeight:24,children:[r,"+"]})]})]})},o.COMPONENT);try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/home/mono/component/info/index.tsx#info"})}catch(e){}},"./src/screens/home/mono/component/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{info:{minHeight:1.2*o._.window.height},container:Object.assign({minHeight:.56*o._.window.height},o._.container.inner),loading:{minHeight:.48*o._.window.height},title:{paddingHorizontal:o._.wind,marginTop:o._.lg,marginBottom:o._.md},touch:{paddingHorizontal:o._.xs,marginRight:-o._.xs,borderRadius:o._.radiusSm,overflow:"hidden"},touchTopic:{paddingLeft:o._.xs,marginRight:-o._.sm,borderRadius:o._.radiusSm,overflow:"hidden"}}})},"./src/screens/home/mono/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_HEIGHT=t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item"),t.EVENT={id:"人物.跳转",data:{from:"吐槽"}},t.ITEM_HEIGHT=94},"./src/screens/home/mono/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/mono/component/item/ds.ts"),i=s("./src/screens/home/mono/component/item/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,o=(0,i.memoStyles)();return(0,d.jsx)(n.InView,{y:1.5*r._.window.height+c.ITEM_HEIGHT*e,children:(0,d.jsx)(n.ItemPost,Object.assign({navigation:t,contentStyle:o.contentStyle,extraStyle:o.extraStyle,index:e,event:c.EVENT,matchLink:!1,expandNums:2},s))})},c.COMPONENT)},"./src/screens/home/mono/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{contentStyle:{paddingRight:o._.wind-o._.md},extraStyle:{marginRight:-2}}})},"./src/screens/home/mono/component/jobs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Jobs");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},style:{},jobs:[]},t.EVENT={id:"人物.跳转",data:{from:"出演"}}},"./src/screens/home/mono/component/jobs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/component/jobs/jobs.tsx")),o=s("./src/screens/home/mono/component/jobs/ds.ts"),c=s("./src/screens/home/mono/component/jobs/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.jobs.length?(0,i.jsx)(r.default,{styles:(0,c.memoStyles)(),navigation:t,style:e,jobs:s.jobs}):null},o.COMPONENT)},"./src/screens/home/mono/component/jobs/jobs.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),u=s("./src/components/cover/utils.ts"),l=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),j=s("./src/screens/home/mono/ds.ts"),h=s("./src/screens/home/mono/component/jobs/ds.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var r=e.navigation,c=e.styles,t=e.style,e=e.jobs,i=m.systemStore.setting.avatarRound?j.COVER_WIDTH:m._.radiusSm;return(0,b.jsx)(l.InView,{style:c.inView,children:(0,b.jsx)(a.Expand,{ratio:2.8,children:(0,b.jsxs)(d.default,{style:(0,p.stl)(c.container,t),children:[(0,b.jsxs)(d.default,{children:[(0,b.jsx)(l.SectionTitle,{left:(0,b.jsx)(a.Text,{style:m._.ml.xs,type:"sub",lineHeight:20,children:e.length}),children:"出演"}),(0,b.jsx)(a.Heatmap,{id:"人物.跳转",from:"出演"})]}),(0,b.jsx)(d.default,{style:m._.mt.md,children:e.map(function(t,e){var s=(0,p.cnjp)(t.nameCn,t.name),o=(0,p.cnjp)(t.name,t.nameCn),n=f.MODEL_SUBJECT_TYPE.getTitle(t.type);return(0,b.jsx)(a.Touchable,{animate:!0,onPress:function(){(0,p.appNavigate)(t.href,r,{_jp:t.name,_cn:t.nameCn,_image:(0,u.getCoverSrc)(t.cover,j.COVER_WIDTH),_type:n},h.EVENT)},children:(0,b.jsxs)(a.Flex,{style:c.item,align:"start",children:[(0,b.jsx)(a.Cover,{src:t.cover,type:n,size:j.COVER_WIDTH,height:j.COVER_HEIGHT,radius:!0,shadow:!0}),!e&&(0,b.jsx)(a.Heatmap,{right:-32,id:"人物.跳转",to:"Subject",alias:"条目"}),(0,b.jsxs)(a.Flex.Item,{style:c.content,children:[(0,b.jsxs)(a.Flex,{align:"start",children:[(0,b.jsx)(a.Flex.Item,{children:(0,b.jsx)(a.Text,{size:12,bold:!0,numberOfLines:3,children:s})}),(0,b.jsx)(l.Tag,{style:c.tag,value:t.staff})]}),!!o&&o!==s&&(0,b.jsx)(a.Text,{style:m._.mt.xs,size:10,type:"sub",bold:!0,children:o}),(0,b.jsxs)(a.Flex,{style:m._.mt.md,children:[(0,b.jsxs)(a.Touchable,{animate:!0,onPress:function(){(0,p.appNavigate)(t.castHref,r,{_name:t.cast,_image:(0,p.getCoverMedium)(t.castCover)},h.EVENT)},children:[(0,b.jsxs)(a.Flex,{children:[!!t.castCover&&(0,b.jsx)(d.default,{style:m._.mr.sm,children:(0,b.jsx)(a.Cover,{size:m._.r(24),src:t.castCover,radius:i,shadow:!0})}),(0,b.jsxs)(a.Text,{size:11,bold:!0,children:[t.cast,!!t.castTag&&(0,b.jsxs)(a.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",t.castTag]})]})]}),!e&&(0,b.jsx)(a.Heatmap,{id:"人物.跳转",to:"Mono",alias:"人物"})]}),!(null==t||null==(s=t.cast2)||!s.castCover)&&(0,b.jsx)(a.Touchable,{style:c.castCover,onPress:function(){var e;return(0,p.appNavigate)(null==t||null==(e=t.cast2)?void 0:e.castHref,r,{_name:null==t||null==(e=t.cast2)?void 0:e.cast,_image:(0,p.getCoverMedium)(null==t||null==(e=t.cast2)?void 0:e.castCover)},h.EVENT)},children:(0,b.jsxs)(a.Flex,{children:[(0,b.jsx)(d.default,{style:m._.mr.xs,children:(0,b.jsx)(a.Cover,{size:m._.r(24),src:null==t||null==(o=t.cast2)?void 0:o.castCover,radius:i,shadow:!0})}),(0,b.jsxs)(a.Text,{size:11,bold:!0,children:[null==t||null==(e=t.cast2)?void 0:e.cast,!(null==t||null==(s=t.cast2)||!s.castTag)&&(0,b.jsxs)(a.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",null==t||null==(o=t.cast2)?void 0:o.castTag]})]})]})})]})]})]},t.href)})})})]})})})},h.DEFAULT_PROPS,h.COMPONENT_MAIN);t.default=s;try{jobs.displayName="jobs",jobs.__docgenInfo={description:"",displayName:"jobs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ inView: { minHeight: number; }; container: { paddingLeft: number; paddingBottom: number; }; item: { paddingVertical: number; paddingRight: number; }; content: { paddingTop: number; paddingLeft: number; }; tag: { ...; }; castCover: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},jobs:{defaultValue:null,description:"",name:"jobs",required:!0,type:{name:'DeepPartial<{ href: `/subject/${string}` | `/subject/${number}`; name: string; nameCn: string; cover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: string; cast: string; castHref: string; castTag: string; castCover: string; cast2: { cast: string; castCover: string; castHref: string; castTag: string; }; type: "1"...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/jobs/jobs.tsx#jobs"]={docgenInfo:jobs.__docgenInfo,name:"jobs",path:"src/screens/home/mono/component/jobs/jobs.tsx#jobs"})}catch(e){}},"./src/screens/home/mono/component/jobs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{inView:{minHeight:180},container:{paddingLeft:o._.wind,paddingBottom:o._.md},item:{paddingVertical:o._.md,paddingRight:o._.wind},content:{paddingTop:2,paddingLeft:o._.sm+4},tag:{marginLeft:o._.sm},castCover:{marginRight:o._.xs,marginLeft:o._.md}}})},"./src/screens/home/mono/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/mono/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),d=o(s("./src/screens/home/mono/component/info/index.tsx")),a=s("./src/screens/home/mono/component/list/utils.tsx"),o=s("./src/screens/home/mono/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return e=e.onScroll,t=t.$,(0,u.jsx)(n.PaginationList2,{contentContainerStyle:r._.container.bottom,keyExtractor:c.keyExtractor,data:t.list,limit:20,scrollEventThrottle:4,scrollToTop:!0,ListHeaderComponent:(0,u.jsx)(d.default,{}),progressViewOffset:r._.ios(r._.statusBarHeight,r._.headerHeight),removeClippedSubviews:100<=t.list.length,renderItem:a.renderItem,onScroll:e,onHeaderRefresh:t.onHeaderRefresh})},o.COMPONENT)},"./src/screens/home/mono/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=c,o(s("./src/screens/home/mono/component/item/index.tsx"))),r=s("./node_modules/react/jsx-runtime.js");function c(e){var t=e.item,e=e.index;return(0,r.jsx)(n.default,{item:t,index:e})}try{c.displayName="renderItem",c.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/list/utils.tsx#renderItem"]={docgenInfo:c.__docgenInfo,name:"renderItem",path:"src/screens/home/mono/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/mono/component/section-right/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"SectionRight")},"./src/screens/home/mono/component/section-right/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),n=s("./src/screens/home/mono/component/section-right/ds.ts"),a=s("./src/screens/home/mono/component/section-right/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.event,o=e.text,n=e.to,r=t.$,c=t.navigation;return(0,u.jsx)(i.Touchable,{style:a.styles.touch,onPress:function(){(0,d.t)(s.id,Object.assign({},s.data,{to:n,monoId:r.monoId})),c.push(n,{monoId:r.monoId,name:r.cn||r.jp})},children:(0,u.jsxs)(i.Flex,{children:[(0,u.jsx)(i.Text,{type:"sub",children:o}),(0,u.jsx)(i.Iconfont,{name:"md-navigate-next"})]})})},n.COMPONENT)},"./src/screens/home/mono/component/section-right/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{paddingLeft:s._.xs,marginRight:s._.sm,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/voice/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_WIDTH=t.EVENT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"Voice");t.COMPONENT_MAIN=(0,n.rc)(s),t.EVENT={id:"人物.跳转",data:{from:"最近演出角色"}},t.IMAGE_WIDTH=o._.r(40),t.DEFAULT_PROPS={navigation:{},styles:{},style:{},voices:[]}},"./src/screens/home/mono/component/voice/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/component/voice/voice.tsx")),o=s("./src/screens/home/mono/component/voice/ds.ts"),c=s("./src/screens/home/mono/component/voice/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.voices.length?(0,i.jsx)(r.default,{styles:(0,c.memoStyles)(),navigation:t,style:e,voices:s.voices}):null},o.COMPONENT)},"./src/screens/home/mono/component/voice/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:320,paddingLeft:o._.wind,paddingBottom:o._.md},section:{paddingRight:o._.wind-o._._wind},item:{paddingVertical:o._.md,paddingRight:o._.wind}}})},"./src/screens/home/mono/component/voice/voice.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),a=s("./src/components/cover/utils.ts"),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/screens/home/mono/ds.ts"),f=o(s("./src/screens/home/mono/component/section-right/index.tsx")),j=s("./src/screens/home/mono/component/voice/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var r=e.navigation,c=e.styles,t=e.style,e=e.voices;return(0,h.jsxs)(u.InView,{style:(0,m.stl)(c.container,t),children:[(0,h.jsx)(u.SectionTitle,{style:c.section,right:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.default,{event:j.EVENT,text:"更多角色",to:"Voices"}),(0,h.jsx)(d.Heatmap,{id:"人物.跳转",to:"Voices",alias:"更多角色"})]}),children:"最近演出角色"}),(0,h.jsxs)(i.default,{style:l._.mt.md,children:[e.map(function(e){var t=(0,m.cnjp)(e.nameCn,e.name),s=(0,m.cnjp)(e.name,e.nameCn),o=(0,m.cnjp)(e.subjectNameCn,e.subjectName),n=(0,m.cnjp)(e.subjectName,e.subjectNameCn);return(0,h.jsxs)(d.Flex,{style:c.item,align:"start",children:[(0,h.jsx)(d.Flex.Item,{children:(0,h.jsx)(d.Touchable,{animate:!0,onPress:function(){(0,m.appNavigate)(e.href,r,{_jp:e.name,_cn:e.nameCn,_image:(0,a.getCoverSrc)(e.cover,j.IMAGE_WIDTH)},j.EVENT)},children:(0,h.jsxs)(d.Flex,{align:"start",children:[(0,h.jsx)(d.Cover,{src:e.cover,size:j.IMAGE_WIDTH,radius:!0,shadow:!0}),(0,h.jsxs)(d.Flex.Item,{style:l._.ml.sm,children:[(0,h.jsx)(d.Text,{style:l._.mt.xxs,size:12,bold:!0,children:t}),!!s&&s!==t&&(0,h.jsx)(d.Text,{style:l._.mt.xs,size:10,type:"sub",bold:!0,children:s}),(0,h.jsx)(d.Flex,{style:l._.mt.xs,children:(0,h.jsx)(u.Tag,{value:e.staff})})]})]})})}),(0,h.jsx)(d.Flex.Item,{style:l._.ml.sm,flex:1.5,children:(0,h.jsx)(d.Touchable,{animate:!0,onPress:function(){(0,m.appNavigate)(e.subjectHref,r,{},j.EVENT)},children:(0,h.jsxs)(d.Flex,{align:"start",children:[(0,h.jsxs)(d.Flex.Item,{children:[(0,h.jsx)(d.Text,{style:l._.mt.xxs,size:12,align:"right",bold:!0,children:o}),!!n&&n!==o&&(0,h.jsx)(d.Text,{style:l._.mt.xs,size:10,type:"sub",align:"right",children:n})]}),!!e.subjectCover&&(0,h.jsx)(i.default,{style:l._.ml.sm,children:(0,h.jsx)(d.Cover,{src:e.subjectCover,size:.88*p.COVER_WIDTH,height:.88*p.COVER_HEIGHT,radius:!0,shadow:!0})})]})})})]},e.href)}),(0,h.jsx)(d.Heatmap,{id:"人物.跳转",from:"最近演出角色"})]})]})},j.DEFAULT_PROPS,j.COMPONENT_MAIN);t.default=o;try{voice.displayName="voice",voice.__docgenInfo={description:"",displayName:"voice",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingLeft: number; paddingBottom: number; }; section: { paddingRight: number; }; item: { paddingVertical: number; paddingRight: number; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},voices:{defaultValue:null,description:"",name:"voices",required:!0,type:{name:"DeepPartial<{ href: `/character/${string}` | `/character/${number}`; name: string; nameCn: string; cover: `//lain.bgm.tv/pic/cover/s/${string}.jpg`; subjectHref: `/subject/${string}` | `/subject/${number}`; subjectName: string; subjectNameCn: string; subjectCover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: st..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/voice/voice.tsx#voice"]={docgenInfo:voice.__docgenInfo,name:"voice",path:"src/screens/home/mono/component/voice/voice.tsx#voice"})}catch(e){}},"./src/screens/home/mono/component/works/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Works");t.COMPONENT_MAIN=(0,o.rc)(s),t.EVENT={id:"人物.跳转",data:{from:"最近参与"}},t.DEFAULT_PROPS={navigation:{},styles:{},style:{},works:[]}},"./src/screens/home/mono/component/works/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/component/works/works.tsx")),o=s("./src/screens/home/mono/component/works/ds.ts"),c=s("./src/screens/home/mono/component/works/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.works.length?(0,i.jsx)(r.default,{navigation:t,styles:(0,c.memoStyles)(),style:e,works:s.works}):null},o.COMPONENT)},"./src/screens/home/mono/component/works/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:320,paddingLeft:o._.wind,paddingBottom:o._.md},section:{paddingRight:o._.wind-o._._wind},item:{paddingVertical:o._.md,paddingRight:o._.wind},content:{marginLeft:o._.sm+4},tag:{marginTop:3,marginLeft:o._.md}}})},"./src/screens/home/mono/component/works/works.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/components/cover/utils.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),u=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),m=s("./src/screens/home/mono/ds.ts"),p=o(s("./src/screens/home/mono/component/section-right/index.tsx")),f=s("./src/screens/home/mono/component/works/ds.ts"),j=s("./node_modules/react/jsx-runtime.js"),o=(0,u.memo)(function(e){var s=e.navigation,o=e.styles,t=e.style,e=e.works;return(0,j.jsxs)(i.InView,{style:(0,a.stl)(o.container,t),children:[(0,j.jsx)(i.SectionTitle,{style:o.section,right:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.default,{event:f.EVENT,text:"更多作品",to:"Works"}),(0,j.jsx)(r.Heatmap,{id:"人物.跳转",to:"Works",alias:"更多作品"})]}),children:"最近参与"}),(0,j.jsxs)(n.default,{style:d._.mt.md,children:[e.map(function(e){var t=l.MODEL_SUBJECT_TYPE.getTitle(e.type);return(0,j.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,a.appNavigate)(e.href,s,{_jp:e.name,_image:(0,c.getCoverSrc)(e.cover,m.COVER_WIDTH),_type:t},f.EVENT)},children:(0,j.jsxs)(r.Flex,{style:o.item,align:"start",children:[(0,j.jsx)(i.Cover,{size:m.COVER_WIDTH,height:m.COVER_HEIGHT,src:e.cover,radius:!0,shadow:!0,type:t}),(0,j.jsx)(r.Flex.Item,{style:o.content,children:(0,j.jsxs)(r.Flex,{align:"start",children:[(0,j.jsx)(r.Flex.Item,{children:(0,j.jsx)(r.Text,{style:d._.mt.xs,bold:!0,size:12,children:(0,a.findSubjectCn)(e.name)})}),(0,j.jsx)(i.Tag,{style:o.tag,value:e.staff})]})})]})},e.href)}),(0,j.jsx)(r.Heatmap,{id:"人物.跳转",from:"最近参与"})]})]})},f.DEFAULT_PROPS,f.COMPONENT_MAIN);t.default=o;try{works.displayName="works",works.__docgenInfo={description:"",displayName:"works",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingLeft: number; paddingBottom: number; }; section: { paddingRight: number; }; item: { paddingVertical: number; paddingRight: number; }; content: { marginLeft: number; }; tag: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},works:{defaultValue:null,description:"",name:"works",required:!0,type:{name:'DeepPartial<{ href: `/subject/${string}` | `/subject/${number}`; name: string; cover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: string; type: "1" | "2" | "4" | "3" | "6"; }>[]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/component/works/works.tsx#works"]={docgenInfo:works.__docgenInfo,name:"works",path:"src/screens/home/mono/component/works/works.tsx#works"})}catch(e){}},"./src/screens/home/mono/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Mono",s=t.COVER_WIDTH=s._.r(64);t.COVER_HEIGHT=1.28*s},"./src/screens/home/mono/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/mono/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/mono/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/mono/component/extra/index.tsx")),a=o(s("./src/screens/home/mono/component/header-title/index.tsx")),o=s("./src/screens/home/mono/header/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var e=e.fixed,s=t.$,o=t.navigation;return(0,u.jsx)(n.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:e,title:"人物",domTitle:s.jp||s.cn,hm:[s.url,"Mono"],headerTitle:(0,u.jsx)(a.default,{$:s,navigation:o}),headerRight:function(){return(0,u.jsxs)(n.Flex,{children:[(0,u.jsx)(d.default,{$:s,navigation:o}),(0,u.jsx)(n.Header.Popover,{data:["浏览器查看","复制链接","复制分享"],onSelect:function(e){switch((0,i.t)("人物.右上角菜单",{key:e}),e){case"浏览器查看":(0,r.open)(s.url);break;case"复制链接":(0,r.copy)(s.url,"已复制链接");break;case"复制分享":(0,r.copy)("【链接】"+(0,r.cnjp)(s.cn,s.jp)+" | Bangumi番组计划\n"+s.url,"已复制分享文案")}},children:(0,u.jsx)(n.Heatmap,{id:"人物.右上角菜单"})})]})}})},o.COMPONENT)},"./src/screens/home/mono/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useMonoPage=function(e){var t=e.$,e=((0,d.useRunAfter)(function(){t.init()}),(0,d.useViewport)()),s=e.visibleBottom,o=e.onScroll,e=((0,c.useEffect)(function(){t.setState({visibleBottom:s})},[t,s]),(0,i.useOnScroll)()),n=e.fixed,r=e.onScroll,e=(0,c.useCallback)(function(e){o(e),r(e)},[r,o]);return{fixed:n,onScroll:e}};var c=s("./node_modules/react/index.js"),i=s("./src/components/header/utils.tsx"),d=s("./src/utils/hooks/index.ts")},"./src/screens/home/mono/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/mono/component/list/index.tsx")),d=o(s("./src/screens/home/mono/header/index.tsx")),a=s("./src/screens/home/mono/hooks.ts"),o=o(s("./src/screens/home/mono/store/index.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var t=(0,a.useMonoPage)(t),s=t.fixed,o=t.onScroll;return(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-mono",children:[(0,u.jsxs)(n.Page,{statusBarEvent:!1,children:[(0,u.jsx)(i.default,{onScroll:o}),(0,u.jsx)(n.Heatmap,{id:"人物",screen:"Mono"})]}),(0,u.jsx)(d.default,{fixed:s})]})})});try{mono.displayName="mono",mono.__docgenInfo={description:"",displayName:"mono",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/index.tsx#mono"]={docgenInfo:mono.__docgenInfo,name:"mono",path:"src/screens/home/mono/index.tsx#mono"})}catch(e){}},"./src/screens/home/mono/store/action.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),h=s("./src/utils/fetch/index.ts"),b=s("./src/utils/webhooks/index.ts"),_=s("./src/constants/index.ts"),o=o(s("./src/screens/home/mono/store/fetch.ts"));function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=o?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var x;t.default=(s=o.default,(0,c.default)(g,s),x=y(g),(0,n.default)(g));function g(){var c;(0,a.default)(this,g);for(var t,s,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return c=x.call.apply(x,[this].concat(o)),(0,p.default)((0,u.default)(c),"onMore",function(){return(0,h.t)("人物.更多资料",{monoId:c.monoId}),(0,j.open)("https://mzh.moegirl.org.cn/index.php?title="+encodeURIComponent(c.cn||c.jp)+"&mobileaction=toggle_view_mobile")}),(0,p.default)((0,u.default)(c),"toggleExpand",function(t){var e=c.state.expands;c.setState({expands:e.includes(t)?e.filter(function(e){return e!==t}):[].concat((0,d.default)(e),[t])})}),(0,p.default)((0,u.default)(c),"doCollect",(0,r.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.mono.collectUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,h.t)("人物.收藏人物",{monoId:c.monoId}),e.next=6,(0,h.fetchHTML)({method:"POST",url:""+_.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已收藏"),(0,b.webhookMono)(Object.assign({},c.mono,{id:c.monoId}),f.userStore.userInfo),e.abrupt("return",c.fetchMono());case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,u.default)(c),"doEraseCollect",(0,r.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.mono.eraseCollectUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,h.t)("人物.取消收藏人物",{monoId:c.monoId}),e.next=6,(0,h.fetchHTML)({method:"POST",url:""+_.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已取消收藏"),e.abrupt("return",c.fetchMono());case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,u.default)(c),"doICO",(t=(0,r.default)(i.mark(function e(t){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,h.t)("人物.启动ICO",{monoId:c.monoId}),e.next=3,f.tinygrailStore.doICO({monoId:c.monoId.replace("character/","")});case 3:if(0!==e.sent.State)return(0,j.info)("启动ICO失败"),e.abrupt("return");e.next=7;break;case 7:t.push("TinygrailICODeal",{monoId:c.monoId.replace("character/","")}),c.fetchChara();case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,u.default)(c),"doTranslate",(0,r.default)(i.mark(function e(){var t,s,o,n,r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<r.length&&void 0!==r[0]?r[0]:"translateResult",s=1<r.length?r[1]:void 0,c.state[t].length)return e.abrupt("return");e.next=4;break;case 4:return(0,h.t)("人物.翻译内容",{monoId:c.monoId}),e.prev=5,o=(0,j.loading)(),e.next=9,(0,h.baiduTranslate)(String(s).replace(/<br \/>/g,"\n").replace(/<\/?[^>]*>/g,""));case 9:if(n=e.sent,o(),n=JSON.parse(n),n=n.trans_result,Array.isArray(n))return c.setState((0,p.default)({},t,n)),e.abrupt("return");e.next=15;break;case 15:(0,j.info)("翻译失败, 请重试"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),o&&o(),(0,j.info)("翻译失败, 请重试");case 22:case"end":return e.stop()}},e,null,[[5,18]])}))),(0,p.default)((0,u.default)(c),"doTranslateFloor",(s=(0,r.default)(i.mark(function e(t,s){var o,n,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=c.state.translateResultFloor)[t])return e.abrupt("return");e.next=3;break;case 3:return(0,h.t)("人物.翻译内容",{floorId:t}),e.prev=4,n=(0,j.loading)(),e.next=8,(0,h.baiduTranslate)((0,j.removeHTMLTag)(s.replace(/<br>/g,"\n")));case 8:if(r=e.sent,n(),r=JSON.parse(r),r=r.trans_result,Array.isArray(r))return c.setState({translateResultFloor:Object.assign({},o,(0,p.default)({},t,r.map(function(e){return e.dst}).join("\n")))}),e.abrupt("return");e.next=14;break;case 14:(0,j.info)("翻译失败, 请重试"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),n&&n(),(0,j.info)("翻译失败, 请重试");case 21:case"end":return e.stop()}},e,null,[[4,17]])})),function(e,t){return s.apply(this,arguments)})),c}},"./src/screens/home/mono/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),o=o(s("./src/screens/home/mono/store/state.ts"));function f(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=o?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var j;t.default=(s=o.default,(0,c.default)(h,s),j=f(h),(0,r.default)(h,[{key:"monoId",get:function(){return this.params.monoId}},{key:"id",get:function(){var e;return(null==(e=this.monoId.split("/"))?void 0:e[1])||""}},{key:"url",get:function(){return p.HOST+"/"+this.monoId}},{key:"mono",get:function(){return l.subjectStore.mono(this.monoId)}},{key:"monoComments",get:function(){var e=l.subjectStore.monoComments(this.monoId);return e._loaded?e:this.state.comments}},{key:"list",get:function(){return this.monoComments.list}},{key:"monoFormCDN",get:function(){var e=this.state.mono;return e._loaded?e:l.subjectStore.monoFormCDN(this.monoId)}},{key:"chara",get:function(){return l.tinygrailStore.characters(this.monoId.replace("character/",""))}},{key:"tinygrail",get:function(){return l.systemStore.setting.tinygrail}},{key:"canICO",get:function(){var e=this.state.checkTinygrail;return this.monoId.includes("character/")&&e&&!this.chara._loaded}},{key:"nameTop",get:function(){return(0,m.cnjp)(this.cn,this.jp)||""}},{key:"nameBottom",get:function(){var e=(0,m.cnjp)(this.jp,this.cn);return e!==this.nameTop?e:""}},{key:"thumb",get:function(){return(0,m.getMonoCoverSmall)(this.params._image||this.cover||"")}},{key:"jp",get:function(){var e=this.params._jp;return(0,m.HTMLDecode)(this.mono.name||e||this.monoFormCDN.name)}},{key:"cn",get:function(){var e=this.params._name;return(0,m.HTMLDecode)(this.mono.nameCn||e||this.monoFormCDN.nameCn)}},{key:"cover",get:function(){return this.mono.cover||this.monoFormCDN.cover}},{key:"info",get:function(){return this.mono.info||this.monoFormCDN.info}},{key:"detail",get:function(){return this.mono.detail||this.monoFormCDN.detail}},{key:"voices",get:function(){return this.mono._loaded?this.mono.voice||[]:this.monoFormCDN.voice||[]}},{key:"works",get:function(){return this.mono._loaded?this.mono.works||[]:this.monoFormCDN.works||[]}},{key:"jobs",get:function(){return((this.mono._loaded?this.mono:this.monoFormCDN).jobs||[]).slice().sort(function(e,t){return(0,m.desc)(e,t,function(e){return 2==e.type?99:Number(e.type)})})}}]),(0,a.default)((t=h).prototype,"monoId",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoId"),t.prototype),(0,a.default)(t.prototype,"id",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"id"),t.prototype),(0,a.default)(t.prototype,"url",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"mono",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"mono"),t.prototype),(0,a.default)(t.prototype,"monoComments",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoComments"),t.prototype),(0,a.default)(t.prototype,"list",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,a.default)(t.prototype,"monoFormCDN",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoFormCDN"),t.prototype),(0,a.default)(t.prototype,"chara",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"chara"),t.prototype),(0,a.default)(t.prototype,"tinygrail",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"tinygrail"),t.prototype),(0,a.default)(t.prototype,"canICO",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"canICO"),t.prototype),(0,a.default)(t.prototype,"nameTop",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"nameTop"),t.prototype),(0,a.default)(t.prototype,"nameBottom",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"nameBottom"),t.prototype),(0,a.default)(t.prototype,"thumb",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"thumb"),t.prototype),(0,a.default)(t.prototype,"jp",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"jp"),t.prototype),(0,a.default)(t.prototype,"cn",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"cn"),t.prototype),(0,a.default)(t.prototype,"cover",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"cover"),t.prototype),(0,a.default)(t.prototype,"info",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"info"),t.prototype),(0,a.default)(t.prototype,"detail",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"detail"),t.prototype),(0,a.default)(t.prototype,"voices",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"voices"),t.prototype),(0,a.default)(t.prototype,"works",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"works"),t.prototype),(0,a.default)(t.prototype,"jobs",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"jobs"),t.prototype),t);function h(){return(0,n.default)(this,h),j.apply(this,arguments)}},"./src/screens/home/mono/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenMono",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,checkTinygrail:!1,expands:[],translateResult:[],translateResultDetail:[],translateResultFloor:{},mono:{_loaded:0},comments:{list:[],pagination:{page:0,pageTotal:0},_loaded:0}};t.STATE=Object.assign({reverse:!1},s,{_loaded:!1})},"./src/screens/home/mono/store/fetch.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),o=o(s("./src/screens/home/mono/store/computed.ts"));function h(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b;t.default=(s=o.default,(0,c.default)(_,s),b=h(_),(0,r.default)(_));function _(){var c;(0,d.default)(this,_);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return c=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(c),"fetchMono",function(){return p.subjectStore.fetchMono({monoId:c.monoId})}),(0,m.default)((0,a.default)(c),"fetchChara",(0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.monoId.includes("character/")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p.tinygrailStore.fetchCharacters([c.id]);case 4:return t=e.sent,c.setState({checkTinygrail:!0}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(c),"fetchMonoFormCDN",(0,n.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.systemStore.setting,s=c.mono._loaded,!t.cdn||s)return e.abrupt("return",!0);e.next=4;break;case 4:return e.abrupt("return",p.subjectStore.fetchMonoFormCDN(c.monoId));case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(c),"fetchMonoFromOSS",(0,n.default)(i.mark(function e(){var t,s,o,n,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.mono._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,j.get)("mono_"+c.monoId.replace("/","_"));case 5:if(t=e.sent){e.next=9;break}return c.updateMonoThirdParty(),e.abrupt("return");case 9:s=t.ts,o=t.mono,n=t.comments,r=(0,f.getTimestamp)(),"object"==typeof o&&"object"==typeof n&&c.setState({mono:Object.assign({},o,{_loaded:(0,f.getTimestamp)()}),comments:Object.assign({},n,{_loaded:(0,f.getTimestamp)()})}),25200<=r-s&&c.updateMonoThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,m.default)((0,a.default)(c),"updateMonoThirdParty",function(){setTimeout(function(){c.mono._loaded&&(0,j.update)("mono_"+c.monoId.replace("/","_"),{mono:(0,f.omit)(c.mono,["collectUrl","eraseCollectUrl","_loaded"]),comments:{list:c.monoComments.list.filter(function(e){return!!e.userId}).filter(function(e,t){return t<8}).map(function(e){return Object.assign({},(0,f.omit)(e,["replySub"]),{sub:e.sub.filter(function(e){return!!e.userId}).filter(function(e,t){return t<8}).map(function(e){return(0,f.omit)(e,["replySub"])})})}),pagination:c.monoComments.pagination}})},1e4)}),c}},"./src/screens/home/mono/store/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=o(s("./src/screens/home/mono/store/action.ts"));function l(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var m;t.default=(s=o.default,(0,i.default)(p,s),m=l(p),(0,n.default)(p));function p(){var e;(0,r.default)(this,p);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=m.call.apply(m,[this].concat(s)),(0,u.default)((0,c.default)(e),"init",function(){return e.fetchMonoFromOSS(),e.tinygrail&&e.monoId.includes("character/")?Promise.all([e.fetchMono(),e.fetchChara()]):e.fetchMono()}),(0,u.default)((0,c.default)(e),"onHeaderRefresh",function(){return e.fetchMono()}),e}},"./src/screens/home/mono/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),o=o(s("./src/utils/store/index.ts")),m=s("./src/screens/home/mono/store/ds.ts");function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var f;t.default=(s=o.default,(0,i.default)(j,s),f=p(j),(0,n.default)(j));function j(){var e;(0,r.default)(this,j);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,c.default)(e),"params",void 0),(0,u.default)((0,c.default)(e),"state",(0,l.observable)(m.STATE)),e}},"./src/screens/home/persons/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/persons/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/persons/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/persons/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/persons/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/persons/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,i.jsx)(n.Heatmap,{bottom:r._.bottom,id:"制作人员",screen:"Persons"})},c.COMPONENT)},"./src/screens/home/persons/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/persons/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List"),t.EVENT={id:"制作人员.跳转"}},"./src/screens/home/persons/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/persons/component/list/utils.tsx"),d=s("./src/screens/home/persons/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t=t.$,(0,a.jsx)(n.PaginationList2,{keyExtractor:c.keyExtractor,contentContainerStyle:r._.container.bottom,data:t.persons.list,limit:16,renderItem:i.renderItem})},d.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/persons/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/persons/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/screens/home/persons/component/list/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,i.jsx)(n.ItemCharacter,Object.assign({style:r._.container.item,index:e,event:c.EVENT,type:"person"},t))}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/home/persons/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/persons/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.COMPONENT=void 0;t.COMPONENT="Persons",t.STATE={ota:{},_loaded:!1}},"./src/screens/home/persons/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/persons/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/persons/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/persons/header/ds.ts"),d=s("./src/screens/home/persons/header/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的制作人员":"更多制作人员",alias:"制作人员",hm:[s.url,"Persons"],headerTitleStyle:d.styles.title,headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("制作人员.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"制作人员.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/persons/header/index.tsx#header"})}catch(e){}},"./src/screens/home/persons/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}})},"./src/screens/home/persons/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/persons/component/extra/index.tsx")),d=o(s("./src/screens/home/persons/component/list/index.tsx")),a=o(s("./src/screens/home/persons/header/index.tsx")),o=o(s("./src/screens/home/persons/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-persons",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(n.Page,{loaded:s.persons._loaded,children:(0,u.jsx)(d.default,{})}),(0,u.jsx)(i.default,{})]})})});try{persons.displayName="persons",persons.__docgenInfo={description:"",displayName:"persons",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/index.tsx#persons"]={docgenInfo:persons.__docgenInfo,name:"persons",path:"src/screens/home/persons/index.tsx#persons"})}catch(e){}},"./src/screens/home/persons/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),o=o(s("./src/utils/store/index.ts")),b=s("./src/utils/kv/index.ts"),_=s("./src/constants/index.ts"),y=s("./src/screens/home/persons/ds.ts");function x(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var g,v=[];t.default=(s=o.default,(0,a.default)(O,s),g=x(O),(0,i.default)(O,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"persons",get:function(){var e=j.monoStore.persons(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):_.LIST_EMPTY}},{key:"url",get:function(){return(0,_.HTML_SUBJECT_PERSONS)(this.subjectId)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"persons_"+this.subjectId}}]),(0,p.default)((t=O).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,p.default)(t.prototype,"persons",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"persons"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function O(){var o;(0,c.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=g.call.apply(g,[this].concat(t)),(0,m.default)((0,d.default)(o),"params",void 0),(0,m.default)((0,d.default)(o),"state",(0,f.observable)(y.STATE)),(0,m.default)((0,d.default)(o),"init",function(){return o.fetchPersons()}),(0,m.default)((0,d.default)(o),"fetchPersons",(0,r.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.fetchThirdParty(),e.next=3,j.monoStore.fetchPersons({subjectId:o.subjectId});case 3:return(t=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(s=(null==(s=o.ota)?void 0:s.ts)||0,604800<=(0,h.getTimestamp)()-s)&&o.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"fetchThirdParty",(0,r.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.persons._loaded){e.next=8;break}return e.next=3,(0,b.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,m.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,m.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,h.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"updateThirdParty",(0,r.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,b.update)(o.thirdPartyKey,{list:o.persons.list}),v.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),o}},"./src/screens/home/preview/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/preview/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/preview/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/preview/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/preview/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),u=(o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/preview/component/list/ds.ts"),f=s("./src/screens/home/preview/component/list/styles.tsx"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var t=t.$,s=(0,f.memoStyles)(),o=(n=t.state).epsThumbs,n=n.epsThumbsHeader,t=t.params,r=void 0===(r=t.data)?[]:r,c=void 0===(t=t.headers)?{}:t,i=o.length?o:r,t=o.length?n:c,d={};return null!=t&&t.Referer&&t.Referer.includes("douban")?(r.length&&r[0].includes("douban")&&(i=(0,a.default)(r)),o.forEach(function(e){i.includes(e)||i.push(e)}),d.autoSize=s.item.width):(d.width=s.item.width,d.height=.56*s.item.width),(0,j.jsx)(l.ScrollView,{contentContainerStyle:m._.container.bottom,scrollToTop:d.fallback=!0,children:i.map(function(e,t){return(0,j.jsx)(u.default,{style:s.item,children:(0,j.jsx)(l.Touchable,{withoutFeedback:!0,onPress:function(){(0,p.showImageViewer)(i.map(function(e){return{url:e.split("@")[0],headers:c}}),t)},children:(0,j.jsx)(l.Image,Object.assign({src:e},d,{shadow:!0,headers:c,errorToHide:!0}))})},e)})})},n.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/preview/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/preview/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/preview/component/list/styles.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{item:{width:o._.window.width-(2*o._.wind-o._._wind),marginLeft:o._.sm,marginBottom:o._.md}}})},"./src/screens/home/preview/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.COMPONENT=void 0;t.COMPONENT="Preview",t.NAMESPACE="ScreenPreview",t.STATE={epsThumbs:[],epsThumbsHeader:{},_loaded:!1}},"./src/screens/home/preview/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/preview/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/preview/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/preview/header/ds.ts"),i=s("./src/screens/home/preview/header/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var t=t.$,s=(0,r.cnjp)(null==(s=t.params)?void 0:s.cn,null==(s=t.params)?void 0:s.jp);return(0,d.jsx)(n.Header,{headerTitleStyle:i.styles.title,title:s?s+"的预览":"预览",alias:"预览",hm:[t.url,"Preview"]})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/preview/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/preview/header/index.tsx#header"})}catch(e){}},"./src/screens/home/preview/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}})},"./src/screens/home/preview/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/preview/component/list/index.tsx")),d=o(s("./src/screens/home/preview/header/index.tsx")),o=o(s("./src/screens/home/preview/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,a.jsxs)(n.Component,{id:"screen-preview",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)(n.Page,{loaded:s.state._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{preview.displayName="preview",preview.__docgenInfo={description:"",displayName:"preview",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/preview/index.tsx#preview"]={docgenInfo:preview.__docgenInfo,name:"preview",path:"src/screens/home/preview/index.tsx#preview"})}catch(e){}},"./src/screens/home/preview/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/utils/douban/index.ts"),o=o(s("./src/utils/store/index.ts")),h=s("./src/constants/index.ts"),b=s("./src/screens/home/preview/ds.ts");function _(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var y;t.default=(s=o.default,(0,a.default)(x,s),y=_(x),(0,n.default)(x,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"namespace",get:function(){return b.NAMESPACE+"|"+this.subjectId}},{key:"url",get:function(){return h.HOST+"/preview/"+this.subjectId}}]),(0,p.default)((t=x).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,p.default)(t.prototype,"namespace",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"namespace"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function x(){var n;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=y.call.apply(y,[this].concat(t)),(0,m.default)((0,d.default)(n),"params",void 0),(0,m.default)((0,d.default)(n),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,d.default)(n),"init",(0,c.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.t1=Object,e.t2={},e.next=5,n.getStorage(n.namespace);case 5:e.t3=e.sent,e.t4={_loaded:!0},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),n.state.epsThumbs.length||n.fetchMovieFromDouban();case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"fetchMovieFromDouban",(0,c.default)(r.mark(function e(){var t,s,o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.params,s=t.cn,t=t.jp,s=s||t)return e.next=5,(0,j.search)(s);e.next=11;break;case 5:return o=e.sent,o=(0,j.matchMovie)(s,o,t),e.next=9,(0,j.getPreview)(o,void 0,40);case 9:(o=e.sent).data.length&&(n.setState({epsThumbs:o.data.slice().reverse(),epsThumbsHeader:{Referer:o.referer}}),n.setStorage(n.namespace));case 11:case"end":return e.stop()}},e)}))),n}},"./src/screens/home/rating/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/rating/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Filter")},"./src/screens/home/rating/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/rating/component/filter/ds.ts"),i=s("./src/screens/home/rating/component/filter/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t=(e=e.$).state.isFriend;return(0,d.jsxs)(n.default,{children:[(0,d.jsx)(r.SegmentedControl,{style:i.styles.segment,size:11,values:["所有","好友"],selectedIndex:t?1:0,onValueChange:e.onToggleFilter},String(t)),(0,d.jsx)(r.Heatmap,{id:"用户评分.切换类型"})]})},c.COMPONENT);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenRating"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/rating/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/home/rating/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/home/rating/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(88),height:s._.r(28),marginRight:s._.xs}})},"./src/screens/home/rating/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item"),t.EVENT={id:"用户评分.跳转"}},"./src/screens/home/rating/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/screens/home/rating/component/item/ds.ts"),f=s("./src/screens/home/rating/component/item/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.id,o=e.avatar,n=e.name,r=e.time,c=e.star,e=e.comment,t=t.navigation,i=(0,f.memoStyles)();return(0,j.jsxs)(d.default,{style:i.container,children:[(0,j.jsxs)(a.Flex,{children:[(0,j.jsx)(a.UserStatus,{userId:s,children:(0,j.jsx)(u.Avatar,{navigation:t,size:36,event:p.EVENT,userId:s,src:o,radius:!0})}),(0,j.jsxs)(a.Flex.Item,{style:l._.ml.sm,children:[(0,j.jsxs)(a.Text,{size:12,bold:!0,children:[n,(0,j.jsxs)(a.Text,{size:10,lineHeight:12,type:"sub",children:["  ",(0,m.simpleTime)(r).split(" ")[0]]})]}),!!c&&(0,j.jsx)(u.Stars,{style:l._.mt.xxs,value:c,size:11})]})]}),!!e&&(0,j.jsx)(a.Flex,{style:l._.mt.xs,children:(0,j.jsx)(a.Text,{style:i.comment,size:l._.device(13,14),lineHeight:15,children:e})})]})},p.COMPONENT)},"./src/screens/home/rating/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{width:o._.portrait("50%","33%"),paddingVertical:o._.sm+2},comment:{paddingVertical:o._.xs,paddingHorizontal:o._.sm,marginTop:o._.sm,marginRight:o._.sm,backgroundColor:o._.select(o._.colorBg,o._._colorDarkModeLevel1),borderRadius:o._.radiusXs,overflow:"hidden"}}})},"./src/screens/home/rating/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/rating/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),l=s("./src/screens/home/rating/ds.ts"),r=o(s("./src/screens/home/rating/component/item/index.tsx")),o=s("./src/screens/home/rating/component/list/ds.ts"),m=s("./src/screens/home/rating/component/list/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n,r,e=e.title,c=t.$,t=u.MODEL_RATING_STATUS.getValue(e);return(t=c.rating(t))._loaded?(s=(0,m.memoStyles)(),o=(n=c.state).isFriend,n=n.page,r=d._.portrait(2,3),(0,p.jsx)(i.ListView,{style:d._.container.flex,contentContainerStyle:s.contentContainerStyle,keyExtractor:a.keyExtractor,data:t,numColumns:r,scrollToTop:l.TABS[n].title===e,renderItem:f,onEndReachedThreshold:.2,onHeaderRefresh:function(){return c.fetchRating(!0)},onFooterRefresh:c.fetchRating},(o?"1":"0")+r)):(0,p.jsx)(i.Loading,{})},o.COMPONENT);function f(e){e=e.item;return(0,p.jsx)(r.default,Object.assign({},e))}},"./src/screens/home/rating/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=o._.memoStyles(function(){var e;return n.STORYBOOK?(e=o._.window.height-(n.STORYBOOK?o._.headerHeight:0),{contentContainerStyle:{paddingHorizontal:o._.wind,paddingTop:o._.md,paddingBottom:o._.bottom,minHeight:e,maxHeight:e}}):{contentContainerStyle:{paddingHorizontal:o._.wind,paddingTop:o._.md,paddingBottom:o._.bottom}}})},"./src/screens/home/rating/component/tab/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_MAP=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Tab"),t.STATUS_MAP={wishes:"wish",collections:"collect",doings:"doing",on_hold:"onHold",dropped:"dropped"}},"./src/screens/home/rating/component/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/defineProperty.js"))),c=o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=h(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),d=s("./node_modules/react-native-tab-view/lib/module/index.js"),a=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/screens/home/rating/ds.ts"),m=o(s("./src/screens/home/rating/component/list/index.tsx")),p=s("./src/screens/home/rating/component/tab/ds.ts"),f=s("./src/screens/home/rating/component/tab/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function h(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(h=function(e){return e?s:t})(e))}t.default=(0,n.obc)(function(e,t){var n=t.$,s=(0,f.memoStyles)(),t=n.state.page,o=(0,d.SceneMap)(Object.assign.apply(Object,[{}].concat((0,c.default)(l.TABS.map(function(e){return(0,r.default)({},e.key,function(){return(0,j.jsx)(m.default,{title:e.title})})})))));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.TabView,{style:u._.mt._sm,lazyPreloadDistance:0,navigationState:{index:t,routes:l.TABS},renderTabBar:function(e){return(0,i.createElement)(a.TabBar,Object.assign({},e,{key:Object.keys(n.counts)?"1":"0",style:s.tabBar,tabStyle:s.tab,labelStyle:s.label,indicatorStyle:s.indicator,pressOpacity:1,pressColor:"transparent",renderLabel:function(e){var t=e.route,e=e.focused,s=n.counts[t.key]||n.params[p.STATUS_MAP[t.key]],o=n.params.type,t=t.title||"";return"书籍"===o?t=t.replace("看","读"):"游戏"===o?t=t.replace("看","玩"):"音乐"===o&&(t=t.replace("看","听")),(0,j.jsxs)(a.Flex,{style:u._.container.block,justify:"center",children:[(0,j.jsx)(a.Text,{type:"title",size:13,bold:e,noWrap:!0,children:t}),!!s&&(0,j.jsxs)(a.Text,{type:"sub",size:11,bold:!0,lineHeight:13,noWrap:!0,children:[" ",s," "]})]})}}))},renderScene:o,onIndexChange:n.onChange},u._.orientation),(0,j.jsx)(a.Heatmap,{right:u._.wind+62,bottom:u._.window.height-u._.tabsHeaderHeight-12,id:"用户评分.标签页切换",transparent:!0})]})},p.COMPONENT);try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/rating/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/home/rating/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/home/rating/component/tab/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),n=s("./src/screens/home/rating/ds.ts");t.memoStyles=o._.memoStyles(function(){var e=o._.window.width/n.TABS.length;return{tabBar:{backgroundColor:o._.ios("transparent",o._.select("transparent",o._.deepDark?o._._colorPlain:o._._colorDarkModeLevel1)),borderBottomWidth:o._.select(o._.ios(0,o._.hairlineWidth),o._.deepDark?0:o._.hairlineWidth),borderBottomColor:o._.colorBorder,elevation:0},tab:{width:e,height:48},label:{padding:0},indicator:{width:16,height:4,marginLeft:(e-16)/2,backgroundColor:o._.colorMain,borderRadius:4}}})},"./src/screens/home/rating/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATUS_MAP=t.STATE=t.NAMESPACE=t.COMPONENT=void 0;s=s("./src/constants/index.ts");t.COMPONENT="Rating",t.NAMESPACE="ScreenRating",t.STATE={page:2,isFriend:!1,_fetching:!1,_loaded:!1},t.STATUS_MAP={wish:0,collect:1,doing:2,doings:2,onHold:3,on_hold:3,dropped:4},t.TABS=s.RATING_STATUS.map(function(e){return{key:e.value,title:e.label}})},"./src/screens/home/rating/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/rating/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.DATA=["浏览器查看"]},"./src/screens/home/rating/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=o(s("./src/screens/home/rating/component/filter/index.tsx")),u=s("./src/screens/home/rating/header/ds.ts"),l=s("./src/screens/home/rating/header/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=t.$;return(0,m.jsx)(n.Header,{title:(null==(t=s.params)?void 0:t.name)||"用户评分",headerTitleAlign:"left",headerTitleStyle:l.styles.title,alias:"用户评分",hm:[s.url,"Rating"],headerRight:function(){return(0,m.jsxs)(n.Flex,{children:[r.userStore.isLogin&&(0,m.jsx)(a.default,{$:s}),(0,m.jsx)(n.Header.Popover,{data:u.DATA,onSelect:function(e){e===u.TEXT_BROWSER&&((0,d.t)("用户评分.右上角菜单",{key:e}),(0,c.open)(s.url))},children:(0,m.jsx)(n.Heatmap,{id:"用户评分.右上角菜单"})})]})}})},u.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/rating/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/rating/header/index.tsx#header"})}catch(e){}},"./src/screens/home/rating/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:0,paddingRight:72,marginLeft:-24}})},"./src/screens/home/rating/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=o(s("./src/screens/home/rating/component/tab/index.tsx")),a=o(s("./src/screens/home/rating/header/index.tsx")),o=o(s("./src/screens/home/rating/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.ic)(o.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-rating",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,u.jsx)(d.default,{}),(0,u.jsx)(n.Heatmap,{bottom:r._.bottom,id:"用户评分",screen:"Rating"})]})]})})});try{rating.displayName="rating",rating.__docgenInfo={description:"",displayName:"rating",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/rating/index.tsx#rating"]={docgenInfo:rating.__docgenInfo,name:"rating",path:"src/screens/home/rating/index.tsx#rating"})}catch(e){}},"./src/screens/home/rating/store.ts":(e,t,s)=>{var c=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/fetch/index.ts"),o=o(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),_=s("./src/screens/home/rating/ds.ts");function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var x;t.default=(s=o.default,(0,a.default)(g,s),x=y(g),(0,r.default)(g,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"rating",value:function(s){var o=this;return(0,f.computed)(function(){var e=o.state.isFriend,t=j.systemStore.setting.filterDefault,e=j.subjectStore.rating(o.subjectId,s,e);return t?Object.assign({},e,{list:e.list.filter(function(e){return!(e.avatar.includes(b.URL_DEFAULT_AVATAR)&&!e.comment)})}):e}).get()}},{key:"counts",get:function(){var e,t;return this._counts||(e=this.state.page,e=_.TABS[e].key,t=(e=this.rating(e)).counts,e._loaded&&(this._counts=t),t)}},{key:"url",get:function(){var e=this.state,t=e.page,e=e.isFriend,t=_.TABS[t].key;return(0,b.HTML_SUBJECT_RATING)(this.subjectId,t,e)}}]),(0,p.default)((t=g).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,p.default)(t.prototype,"counts",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"counts"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function g(){var r;(0,i.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=x.call.apply(x,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)(_.STATE)),(0,m.default)((0,d.default)(r),"init",(0,n.default)(c.mark(function e(){var t,s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(_.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(s=e.t0,(t=r.params.status)&&(s.page=_.STATUS_MAP[t]||2),r.setState(Object.assign({},s,{_fetching:!1,_loaded:!0})),t=r.state.page,s=r.rating(_.TABS[t].key),s._loaded){e.next=13;break}return e.abrupt("return",r.fetchRating(!0));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"_counts",null),(0,m.default)((0,d.default)(r),"fetchRating",(0,n.default)(c.mark(function e(){var t,s,o,n=arguments;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]&&n[0],r.state._fetching)return e.abrupt("return",!0);e.next=4;break;case 4:return s=r.state,o=s.page,s=s.isFriend,o=_.TABS[o].key,r.setState({_fetching:!0}),e.next=9,j.subjectStore.fetchRating({subjectId:r.subjectId,status:o,isFriend:s},t);case 9:return r.setState({_fetching:!1}),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"onChange",function(e){(0,h.t)("用户评分.标签页切换",{page:e}),r.setState({page:e}),r.setStorage(_.NAMESPACE);e=_.TABS[e].key;r.rating(e)._loaded||r.fetchRating(!0)}),(0,m.default)((0,d.default)(r),"onToggleFilter",function(e){var t=r.state,s=t.page,t=t.isFriend;if(e){if("所有"===e&&!t)return;if("好友"===e&&t)return}(0,h.t)("用户评分.切换类型",{isFriend:!t}),r.setState({isFriend:!t}),r.setStorage(_.NAMESPACE);e=_.TABS[s].key;r.rating(e)._loaded||r.fetchRating(!0)}),r}},"./src/screens/home/subject/component/anitabi/anitabi.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.join.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),l=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),b=s("./src/utils/hooks/index.ts"),_=s("./src/constants/index.ts"),y=s("./src/screens/home/subject/ds.ts"),x=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),g=s("./src/screens/home/subject/component/anitabi/ds.ts"),v=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var s=e.styles,t=e.showAnitabi,o=e.subjectId,n=e.data,r=e.onSwitchBlock,e=n.city,c=n.pointsLength,i=n.imagesLength,n=n.litePoints,n=(0,b.useHorizontalLazy)(n,Math.floor(f._.window.contentWidth/g.THUMB_WIDTH)+1),d=n.list,n=n.onScroll,a=d.filter(function(e){return e.image}).map(function(e){return{url:null==e||null==(e=e.image)?void 0:e.replace("h160","h360")}});return(0,v.jsxs)(p.InView,{style:(0,j.stl)(s.container,!t&&f._.short),children:[(0,v.jsx)(p.SectionTitle,{style:f._.container.wind,right:!1===t?(0,v.jsx)(x.default,{name:y.TITLE_ANITABI,value:"showAnitabi"}):-1!==t&&(0,v.jsxs)(m.Touchable,{style:s.touch,onPress:function(){(0,h.t)("条目.跳转",{to:"anitabi.cn",from:y.TITLE_ANITABI,subjectId:o}),(0,j.open)("https://anitabi.cn/map?bangumiId="+o)},children:[(0,v.jsxs)(m.Flex,{children:[(0,v.jsx)(m.Text,{type:"sub",children:"动画巡礼地图"}),(0,v.jsx)(m.Iconfont,{style:f._.ml.xs,name:"md-open-in-new",size:17})]}),(0,v.jsx)(m.Heatmap,{id:"条目.跳转",from:y.TITLE_ANITABI})]}),icon:!t&&"md-navigate-next",onPress:function(){return r("showAnitabi")},children:y.TITLE_ANITABI}),t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(m.Flex,{style:f._.container.windMtMd,children:[(0,v.jsx)(m.Text,{size:11,children:"主要取景城市: "}),(0,v.jsxs)(m.Text,{size:11,bold:!0,children:[e," "]}),(0,v.jsxs)(m.Text,{size:11,type:"sub",children:[" ","(",c," 个地标 、",i," 张截图)"]})]}),(0,v.jsx)(u.default,Object.assign({style:f._.mt.md,contentContainerStyle:f._.container.wind,horizontal:!0},_.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:8,onScroll:n,children:d.map(function(e,t){return(0,v.jsxs)(l.default,{style:f._.mr.sm,children:[(0,v.jsx)(m.Squircle,{width:g.THUMB_WIDTH,height:g.THUMB_HEIGHT,radius:f._.radiusXs,children:e.image?(0,v.jsx)(m.Image,{style:s.image,src:e.image,size:g.THUMB_WIDTH,height:g.THUMB_HEIGHT,onPress:function(){(0,j.showImageViewer)(a,Math.min(t,a.length-1))}}):(0,v.jsxs)(m.Flex,{style:s.void,direction:"column",justify:"center",children:[(0,v.jsx)(m.Text,{type:"sub",size:16,bold:!0,children:t+1}),(0,v.jsx)(m.Text,{style:f._.mt.xs,type:"sub",size:11,bold:!0,children:"尚无截图"})]})}),(0,v.jsx)(m.Text,{style:s.title,size:11,bold:!0,numberOfLines:2,children:e.cn||e.name}),e.ep||e.s?(0,v.jsxs)(m.Text,{style:s.sub,type:"sub",size:11,bold:!0,numberOfLines:1,children:[e.ep?"EP"+e.ep+" ":"",e.s?(0,j.date)("i:s",e.s):""]}):(0,v.jsxs)(m.Text,{style:s.sub,type:"sub",size:11,bold:!0,numberOfLines:1,children:["坐标 ",e.geo.join("，")]})]},e.id)})})),(0,v.jsx)(p.PreventTouchPlaceholder,{})]})]})},g.DEFAULT_PROPS,g.COMPONENT_MAIN);t.default=o;try{anitabi.displayName="anitabi",anitabi.__docgenInfo={description:"",displayName:"anitabi",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { minHeight: number; marginTop: number; }; image: { height: number; }; void: { width: number; height: number; backgroundColor: "rgb(238, 238, 240)" | "rgb(24, 24, 24)"; }; title: { width: number; paddingTop: number; }; sub: { ...; }; touch: { ...; }; layout: { ...; }; }'}},showAnitabi:{defaultValue:null,description:"",name:"showAnitabi",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AnitabiData"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/anitabi/anitabi.tsx#anitabi"]={docgenInfo:anitabi.__docgenInfo,name:"anitabi",path:"src/screens/home/subject/component/anitabi/anitabi.tsx#anitabi"})}catch(e){}},"./src/screens/home/subject/component/anitabi/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"Anitabi"),n=(t.COMPONENT_MAIN=(0,n.rc)(s),t.DEFAULT_PROPS={styles:{},showAnitabi:!0,subjectId:0,data:{},onSwitchBlock:function(){}},t.THUMB_WIDTH=o._.r(160));t.THUMB_HEIGHT=.56*n},"./src/screens/home/subject/component/anitabi/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/anitabi/anitabi.tsx")),o=s("./src/screens/home/subject/component/anitabi/ds.ts"),a=s("./src/screens/home/subject/component/anitabi/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef;return(e=t.$).showAnitabi[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_ANITABI)}}),(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),showAnitabi:r.systemStore.setting.showAnitabi,subjectId:e.subjectId,data:e.state.anitabi,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/anitabi/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),n=s("./src/screens/home/subject/component/anitabi/ds.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:200,marginTop:o._.lg},image:{height:n.THUMB_HEIGHT},void:{width:n.THUMB_WIDTH,height:n.THUMB_HEIGHT,backgroundColor:o._.colorBg},title:{width:n.THUMB_WIDTH,paddingTop:o._.sm},sub:{width:n.THUMB_WIDTH,paddingTop:o._.xs},touch:{paddingLeft:o._.xs,marginRight:-o._.sm},layout:{width:"100%",height:1}}})},"./src/screens/home/subject/component/bg/bg.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/subject/component/bg/ds.ts"),i=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.style,s=e.src,e=e.cdn,e=void 0===e||e;return(0,i.jsx)(n.BlurView,{style:t,tint:r._.select(n.BLURVIEW_TINT_LIGHT,n.BLURVIEW_TINT_DARK),src:s,intensity:80,blurRadius:32,cdn:e})},c.DEFAULT_PROPS,c.COMPONENT_MAIN);t.default=s;try{bg.displayName="bg",bg.__docgenInfo={description:"",displayName:"bg",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:'{ position: "absolute"; top: number; right: number; left: number; height: number; backgroundColor: "rgb(238, 238, 240)" | "rgb(24, 24, 24)"; } | { height: number; backgroundColor: "rgb(238, 238, 240)" | "rgb(24, 24, 24)"; }'}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},cdn:{defaultValue:null,description:"",name:"cdn",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/bg/bg.tsx#bg"]={docgenInfo:bg.__docgenInfo,name:"bg",path:"src/screens/home/subject/component/bg/bg.tsx#bg"})}catch(e){}},"./src/screens/home/subject/component/bg/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Bg");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={style:{},src:"",cdn:!0}},"./src/screens/home/subject/component/bg/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=o(s("./src/screens/home/subject/component/bg/bg.tsx")),o=s("./src/screens/home/subject/component/bg/ds.ts"),a=s("./src/screens/home/subject/component/bg/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,t=t.$,n=(0,a.memoStyles)();return i.TEXT_ONLY?i.IOS?null:(0,u.jsx)(r.default,{style:n.bg}):"string"!=typeof(t=(o=!(0,c.x18)(t.subjectId))?(0,c.getCover400)(t.coverPlaceholder||(null==(s=t.subject.images)?void 0:s.common)||t.cover):null==(s=t.subject.images)?void 0:s.common)?(0,u.jsx)(r.default,{style:n.bg}):(0,u.jsx)(d.default,{style:n.bg,src:t,cdn:o})},o.COMPONENT);try{bg.displayName="bg",bg.__docgenInfo={description:"",displayName:"bg",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/bg/index.tsx#bg"]={docgenInfo:bg.__docgenInfo,name:"bg",path:"src/screens/home/subject/component/bg/index.tsx#bg"})}catch(e){}},"./src/screens/home/subject/component/bg/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{bg:o._.ios({position:"absolute",top:0,right:0,left:0,height:Math.floor(o._.window.height/2),backgroundColor:o._.colorBg},{height:160,backgroundColor:o._.colorBg})}})},"./src/screens/home/subject/component/blog/blog.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/screens/home/subject/ds.ts"),f=o(s("./src/screens/home/subject/component/icon/blog.tsx")),j=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),o=s("./src/screens/home/subject/component/blog/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var o=e.navigation,n=e.styles,t=e.showBlog,r=e.subjectId,s=e.blog,c=e.onSwitchBlock,e=(0,m.useExpandLazy)(s),i=e.list,e=e.onExpand;return(0,h.jsxs)(a.InView,{style:(0,l.stl)(n.container,!t&&u._.short),children:[(0,h.jsx)(a.SectionTitle,{style:n.sectionTitle,right:t?(0,h.jsx)(f.default,{}):(0,h.jsx)(j.default,{name:p.TITLE_BLOG,value:"showBlog"}),icon:!t&&"md-navigate-next",onPress:function(){return c("showBlog")},children:p.TITLE_BLOG}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Expand,{style:u._.mt.sm,onExpand:e,children:i.map(function(e){var t=e.user,s=t.nickname,t=t.username;return(0,l.getIsBlockedUser)(u.rakuenStore.blockUserIds,s,t,"Subject|Blog|"+r+"|"+e.id)?null:(0,h.jsx)(a.ItemArticle,{style:n.item,navigation:o,avatar:e.user.avatar.small,title:e.title,summary:e.summary.replace(/\r\n/g,"").trim(),nickname:s,userId:t,timestamp:e.timestamp,replies:e.replies,url:e.url,event:{id:"条目.跳转",data:{from:"评论",subjectId:r}}},e.id)})},null==s?void 0:s.length),(0,h.jsx)(d.Heatmap,{id:"条目.跳转",from:"评论"})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; marginTop: number; }; sectionTitle: { paddingHorizontal: number; }; item: { paddingLeft: number; }; }"}},showBlog:{defaultValue:null,description:"",name:"showBlog",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},blog:{defaultValue:null,description:"",name:"blog",required:!0,type:{name:"Blog[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/blog/blog.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/home/subject/component/blog/blog.tsx#blog"})}catch(e){}},"./src/screens/home/subject/component/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Blog");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},showBlog:!0,subjectId:0,blog:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/blog/blog.tsx")),o=s("./src/screens/home/subject/component/blog/ds.ts"),a=s("./src/screens/home/subject/component/blog/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showBlog[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_BLOG)}}),(0,u.jsx)(d.default,{navigation:t,styles:(0,a.memoStyles)(),showBlog:r.systemStore.setting.showBlog,subjectId:e.subjectId,blog:e.filterBlog,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/blog/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:120,marginTop:o._.lg},sectionTitle:{paddingHorizontal:o._.wind},item:{paddingLeft:o._.wind}}})},"./src/screens/home/subject/component/box/box.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),h=s("./src/screens/home/subject/ds.ts"),b=o(s("./src/screens/home/subject/component/icon/close.tsx")),_=o(s("./src/screens/home/subject/component/icon/folder.tsx")),y=o(s("./src/screens/home/subject/component/box/comment/index.tsx")),x=o(s("./src/screens/home/subject/component/box/extra/index.tsx")),g=o(s("./src/screens/home/subject/component/box/flip-btn/index.tsx")),o=s("./src/screens/home/subject/component/box/ds.ts"),v=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.navigation,o=e.isLogin,n=e.status,r=e.url,c=e.showCount,i=e.showManageModel,d=e.toRating,e=e.outdate,o=o?i:function(){j.SHARE_MODE?(0,f.appNavigate)(r):s.push("LoginV2")},a=6<=(null==(i=n[n.length-1])?void 0:i.text.length)?11:12;return(0,v.jsxs)(u.default,{style:t.container,children:[(0,v.jsx)(m.SectionTitle,{style:t.sectionTitle,right:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_.default,{}),(0,v.jsx)(b.default,{})]}),children:h.TITLE_BOX}),(0,v.jsxs)(l.Flex,{style:t.btn,children:[(0,v.jsxs)(l.Flex.Item,{children:[(0,v.jsx)(g.default,{onPress:o}),(0,v.jsx)(l.Heatmap,{id:"条目.管理收藏"}),(0,v.jsx)(l.Heatmap,{right:56,transparent:!0,id:"条目.显示收藏管理"})]}),(0,v.jsx)(x.default,{})]}),(0,v.jsxs)(u.default,{style:t.bottom,children:[c&&!!n.length&&(0,v.jsxs)(u.default,{style:p._.mt.md,children:[(0,v.jsx)(l.Text,{size:a,type:"sub",children:n.map(function(e,t){return(0,v.jsx)(l.Text,{size:a,type:"sub",onPress:function(){return d(s,"收藏",e.status)},children:(t?" / ":"")+e.text},e.status)})}),(0,v.jsx)(l.Heatmap,{id:"条目.跳转",from:"收藏"})]}),e&&(0,v.jsx)(l.Touchable,{style:p._.mt.md,onPress:function(){s.push("LoginV2")},children:(0,v.jsx)(l.Text,{size:a,type:"sub",bold:!0,children:"检测到授权信息过期，点击重新登录，再进行收藏管理"})}),(0,v.jsx)(y.default,{})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN,function(e){return Object.assign({},e,{status:e.status.length})});t.default=s;try{box.displayName="box",box.__docgenInfo={description:"",displayName:"box",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { paddingTop: number; paddingHorizontal: number; }; sectionTitle: { height: number; }; btn: { marginTop: number; }; bottom: { marginTop: number; }; hide: { position: "absolute"; zIndex: number; top: number; right: number; }; }'}},isLogin:{defaultValue:null,description:"",name:"isLogin",required:!0,type:{name:"boolean"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:'{ status: "" | "dropped" | "wishes" | "collections" | "doings" | "on_hold"; text: string; }[]'}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"`https://bgm.tv/subject/${string}` | `https://bgm.tv/subject/${number}`"}},showCount:{defaultValue:null,description:"",name:"showCount",required:!0,type:{name:"LayoutValue"}},showManageModel:{defaultValue:null,description:"",name:"showManageModel",required:!0,type:{name:"() => void"}},toRating:{defaultValue:null,description:"",name:"toRating",required:!0,type:{name:'(navigation: Navigation, from?: string, status?: "" | "dropped" | "wishes" | "collections" | "doings" | "on_hold") => void'}},outdate:{defaultValue:null,description:"",name:"outdate",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/box/box.tsx#box"]={docgenInfo:box.__docgenInfo,name:"box",path:"src/screens/home/subject/component/box/box.tsx#box"})}catch(e){}},"./src/screens/home/subject/component/box/comment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/box/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Comment")},"./src/screens/home/subject/component/box/comment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=h(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),d=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/utils/dev/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/screens/home/subject/component/box/comment/ds.ts"),f=s("./src/screens/home/subject/component/box/comment/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function h(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(h=function(e){return e?s:t})(e))}t.default=(0,o.c)(function(e,t){var o=t.$,t=((0,l.r)(p.COMPONENT),(0,i.useState)(3)),n=(t=(0,c.default)(t,2))[0],r=t[1];return(0,m.useObserver)(function(){var e,t,s=o.collection.comment;return s?(t=(0,f.memoStyles)(),e=u.timelineStore.relatedId(u.userStore.userInfo.username||o.userId,o.subjectId),t=(0,j.jsx)(d.Text,{style:t.comment,size:14,lineHeight:15,numberOfLines:n,onPress:function(){r(void 0)},children:s}),(0,j.jsxs)(j.Fragment,{children:[80<=s.length?(0,j.jsx)(d.Expand,{ratio:.72,children:t}):t,!!e&&(0,j.jsx)(a.Likes,{topicId:o.subjectId,id:e,likeType:"40",formhash:u.userStore.formhash,onLongPress:u.uiStore.showLikesUsers})]})):null})});try{comment.displayName="comment",comment.__docgenInfo={description:"",displayName:"comment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/box/comment/index.tsx#comment"]={docgenInfo:comment.__docgenInfo,name:"comment",path:"src/screens/home/subject/component/box/comment/index.tsx#comment"})}catch(e){}},"./src/screens/home/subject/component/box/comment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{comment:{paddingVertical:10,paddingHorizontal:14,marginTop:o._.md,marginBottom:o._.sm,backgroundColor:o._.select(o._.colorBg,o._._colorDarkModeLevel1),borderWidth:o._.select(o._.hairlineWidth,0),borderColor:o._.colorBorder,borderRadius:o._.radiusMd,overflow:"hidden"}}})},"./src/screens/home/subject/component/box/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.RATE=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Box");t.COMPONENT_MAIN=(0,o.rc)(s),t.RATE=[1,2,3,4,5],t.DEFAULT_PROPS={navigation:{},styles:{},isLogin:!1,status:[],url:"",showCount:!0,showManageModel:function(){},toRating:function(){},outdate:!1}},"./src/screens/home/subject/component/box/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/box/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/subject/component/box/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=o(s("./src/screens/home/subject/component/icon/actions.tsx")),u=o(s("./src/screens/home/subject/component/icon/game.tsx")),l=o(s("./src/screens/home/subject/component/icon/online.tsx")),m=o(s("./src/screens/home/subject/component/icon/search.tsx")),p=o(s("./src/screens/home/subject/component/icon/search-disc.tsx")),o=s("./src/screens/home/subject/component/box/extra/ds.ts"),f=s("./src/screens/home/subject/component/box/extra/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n,t=t.$;return i.systemStore.setting.focusOrigin?(s=!!t.actions.length,i.systemStore.setting.focusAction&&s||("动画"===t.type||"三次元"===t.type?o=l.default:"书籍"===t.type?o=m.default:"游戏"===t.type?o=u.default:"音乐"===t.type&&(o=p.default),o&&(n=(0,j.jsx)(r.default,{style:f.styles.container,children:(0,j.jsx)(o,{children:(0,j.jsx)(c.Flex,{style:(0,d.stl)(f.styles.extra,!s&&f.styles.extraLg),children:(0,j.jsx)(c.Button,{style:f.styles.btn,type:i._.select("ghostPlain","plain"),extra:(0,j.jsx)(c.Iconfont,{name:"md-airplay",size:17})})})})}))),(0,j.jsxs)(j.Fragment,{children:[n,s&&(0,j.jsx)(r.default,{style:f.styles.container,children:(0,j.jsx)(a.default,{children:(0,j.jsx)(c.Flex,{style:[f.styles.extra,!n&&f.styles.extraLg],children:(0,j.jsx)(c.Button,{style:f.styles.btn,type:i._.select("ghostPlain","plain"),extra:(0,j.jsx)(c.Iconfont,{name:"md-read-more",size:25})})})})})]})):null},o.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/box/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/subject/component/box/extra/index.tsx#extra"})}catch(e){}},"./src/screens/home/subject/component/box/extra/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{marginTop:-30,marginLeft:s._.sm},extra:{width:48},extraLg:{width:64},btn:{height:44}})},"./src/screens/home/subject/component/box/flip-btn/btns.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.slice.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/screens/home/subject/component/box/ds.ts"),f=s("./src/screens/home/subject/component/box/flip-btn/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t,s=e.btnText,o=e.rating,n=e.privacy,r=e.last,e=e.onPress,c=(0,m.getType)(s,l._.select("ghostPlain","plain")),i=[],d=[],a=(o&&(i.push(f.styles.left),d.push(f.styles.right)),l.systemStore.setting.focusOrigin);return o&&(t=(0,m.getRating)(o),t=a?(i.push(f.styles.leftFocus),d.push(f.styles.rightFocus),(0,j.jsx)(u.Flex.Item,{flex:.75,children:(0,j.jsxs)(u.Button,{style:d,type:c,onPress:e,children:[t,"  ",(0,j.jsx)(u.Iconfont,{name:"ios-star",size:16,color:l._.__colorPlain__})," ",o]})})):(0,j.jsx)(u.Flex.Item,{children:(0,j.jsxs)(u.Button,{style:d,type:c,onPress:e,children:[t," ",p.RATE.map(function(e){var t=e<=o/2?"ios-star":e-.5<=o/2?"ios-star-half":"ios-star-outline";return(0,j.jsx)(u.Iconfont,{name:t,size:16,color:l._.__colorPlain__},e)})]})})),(0,j.jsxs)(u.Flex,{justify:"center",children:[(0,j.jsx)(u.Flex.Item,{children:(0,j.jsxs)(u.Button,{style:i,type:c,extra:(0,j.jsx)(j.Fragment,{children:1==n&&(0,j.jsx)(u.Iconfont,{style:l._.ml.sm,name:"md-visibility-off",color:l._.__colorPlain__,size:17})}),onPress:e,children:[s,!!r&&" · "+(a?r.slice(2):r)]})}),t]})});try{btns.displayName="btns",btns.__docgenInfo={description:"",displayName:"btns",props:{btnText:{defaultValue:null,description:"",name:"btnText",required:!0,type:{name:"any"}},rating:{defaultValue:null,description:"",name:"rating",required:!0,type:{name:"any"}},privacy:{defaultValue:null,description:"",name:"privacy",required:!0,type:{name:"any"}},last:{defaultValue:null,description:"",name:"last",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/box/flip-btn/btns.tsx#btns"]={docgenInfo:btns.__docgenInfo,name:"btns",path:"src/screens/home/subject/component/box/flip-btn/btns.tsx#btns"})}catch(e){}},"./src/screens/home/subject/component/box/flip-btn/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.PERSPECTIVE=t.COMPONENT_MAIN=t.COMPONENT=t.ANIMATED_CONFIG=void 0;var o=s("./node_modules/react-native-reanimated/lib/index.web.js"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/box/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"FlipBtn");t.COMPONENT_MAIN=(0,n.rc)(s),t.PERSPECTIVE=2400,t.ANIMATED_CONFIG={duration:480,easing:o.Easing.inOut(o.Easing.ease)}},"./src/screens/home/subject/component/box/flip-btn/flip-btn.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),x=n(s("./node_modules/react/index.js")),g=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),v=n(s("./node_modules/react-native-reanimated/lib/index.web.js")),O=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),S=s("./src/utils/dev/index.ts"),E=s("./src/utils/hooks/index.ts"),P=o(s("./src/screens/home/subject/component/box/flip-btn/btns.tsx")),I=s("./src/screens/home/subject/component/box/flip-btn/ds.ts"),C=s("./src/screens/home/subject/component/box/flip-btn/styles.ts"),N=s("./node_modules/react/jsx-runtime.js");function c(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(c=function(e){return e?s:t})(e))}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var s,o,n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=r?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]);return n.default=e,t&&t.set(e,n),n}function r(e){var t=e.animate,s=e.btnText,o=e.rating,n=e.privacy,r=e.last,c=e.onAnimated,i=e.onPress,d=((0,S.r)(I.COMPONENT_MAIN),O._.device(44,50)),a=(0,v.useSharedValue)(0),u=(0,v.useAnimatedStyle)((l._closure={withTiming:v.withTiming,activeRef:a,ANIMATED_CONFIG:I.ANIMATED_CONFIG,PERSPECTIVE:I.PERSPECTIVE,height:d},l.asString="function _f(){const{withTiming,activeRef,ANIMATED_CONFIG,PERSPECTIVE,height}=jsThis._closure;{return{opacity:withTiming(activeRef.value?0:1,ANIMATED_CONFIG),transform:[{perspective:PERSPECTIVE},{rotateX:withTiming(activeRef.value?'90deg':'0deg',ANIMATED_CONFIG)},{translateY:withTiming(-activeRef.value*height,ANIMATED_CONFIG)}]};}}",l.__workletHash=747663275286,l.__location="/Users/chen/Bangumi32/src/screens/home/subject/component/box/flip-btn/flip-btn.tsx (23:39)",l.__optimalization=2,l));function l(){return{opacity:(0,v.withTiming)(a.value?0:1,I.ANIMATED_CONFIG),transform:[{perspective:I.PERSPECTIVE},{rotateX:(0,v.withTiming)(a.value?"90deg":"0deg",I.ANIMATED_CONFIG)},{translateY:(0,v.withTiming)(-a.value*d,I.ANIMATED_CONFIG)}]}}var m=(0,v.useAnimatedStyle)((p._closure={withTiming:v.withTiming,activeRef:a,ANIMATED_CONFIG:I.ANIMATED_CONFIG,PERSPECTIVE:I.PERSPECTIVE,height:d},p.asString="function _f(){const{withTiming,activeRef,ANIMATED_CONFIG,PERSPECTIVE,height}=jsThis._closure;{return{opacity:withTiming(activeRef.value?1:0,ANIMATED_CONFIG),transform:[{perspective:PERSPECTIVE},{rotateX:withTiming(activeRef.value?'0deg':'90deg',ANIMATED_CONFIG)},{translateY:withTiming(-activeRef.value*height,ANIMATED_CONFIG)}]};}}",p.__workletHash=6903100580406,p.__location="/Users/chen/Bangumi32/src/screens/home/subject/component/box/flip-btn/flip-btn.tsx (33:38)",p.__optimalization=2,p));function p(){return{opacity:(0,v.withTiming)(a.value?1:0,I.ANIMATED_CONFIG),transform:[{perspective:I.PERSPECTIVE},{rotateX:(0,v.withTiming)(a.value?"0deg":"90deg",I.ANIMATED_CONFIG)},{translateY:(0,v.withTiming)(-a.value*d,I.ANIMATED_CONFIG)}]}}var e=(0,x.useState)({btnText:s,rating:o,privacy:n,last:r}),e=(0,y.default)(e,2),f=e[0],j=e[1],e=(0,x.useState)({btnText:s,rating:o,privacy:n,last:r}),e=(0,y.default)(e,2),h=e[0],b=e[1],_=((0,x.useEffect)(function(){t||j({btnText:s,rating:o,privacy:n,last:r})},[t,s,r,n,o]),(0,x.useRef)(!1));return(0,x.useEffect)(function(){var e;!t||_.current||a.value||(0,T.urlStringify)(e={btnText:s,rating:o,privacy:n,last:r})!==(0,T.urlStringify)(f)&&(_.current=!0,b(e),setTimeout(function(){(0,T.feedback)(),a.value=1,setTimeout(function(){c()},I.ANIMATED_CONFIG.duration)},240))},[a,f,t,s,o,n,r,c]),(0,E.useObserver)(function(){var e=(0,C.memoStyles)();return(0,N.jsxs)(g.default,{style:e.container,children:[(0,N.jsxs)(v.default.View,{style:[e.animated,u],children:[(0,N.jsx)(g.default,{style:e.placeholder}),(0,N.jsx)(P.default,Object.assign({},f,{onPress:i}))]}),(0,N.jsxs)(v.default.View,{style:[e.animated,m],children:[(0,N.jsx)(g.default,{style:e.placeholder}),(0,N.jsx)(P.default,Object.assign({},h,{onPress:i}))]})]})})}t.default=r;try{r.displayName="FlipBtn",r.__docgenInfo={description:"",displayName:"FlipBtn",props:{animate:{defaultValue:null,description:"",name:"animate",required:!0,type:{name:"any"}},btnText:{defaultValue:null,description:"",name:"btnText",required:!0,type:{name:"any"}},rating:{defaultValue:null,description:"",name:"rating",required:!0,type:{name:"any"}},privacy:{defaultValue:null,description:"",name:"privacy",required:!0,type:{name:"any"}},last:{defaultValue:null,description:"",name:"last",required:!0,type:{name:"any"}},onAnimated:{defaultValue:null,description:"",name:"onAnimated",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/box/flip-btn/flip-btn.tsx#FlipBtn"]={docgenInfo:r.__docgenInfo,name:"FlipBtn",path:"src/screens/home/subject/component/box/flip-btn/flip-btn.tsx#FlipBtn"})}catch(e){}},"./src/screens/home/subject/component/box/flip-btn/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),l=o(s("./src/screens/home/subject/component/box/flip-btn/flip-btn.tsx")),o=s("./src/screens/home/subject/component/box/flip-btn/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.onPress,s=(t=t.$).collection,o=void 0===(o=s.status)?{name:"未收藏",type:null}:o,n=void 0===(n=s.rating)?0:n,r=s.private,c=s.lasttouch,s=s._loaded,s=u.STORYBOOK?d.collectionStore.collect(t.subjectId,t.type)||"未收藏":!s&&t.params._collection||o.name,i="";return c&&["collect","on_hold","dropped"].includes(null==o?void 0:o.type)&&(i=(0,a.date)("Y.m.d",c)),(0,m.jsx)(l.default,{animate:t.state.flip,btnText:s,rating:n,privacy:r,last:i,onAnimated:t.afterFlip,onPress:e},String(t.state.flipKey))},o.COMPONENT)},"./src/screens/home/subject/component/box/flip-btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){var e=o._.device(44,50);return{container:{height:2*e+14,paddingTop:14},animated:{marginTop:-e},placeholder:{height:e}}}),t.styles=o._.create({left:{borderTopRightRadius:0,borderBottomRightRadius:0},leftFocus:{paddingLeft:o._.sm},right:{marginLeft:-o._.hairlineWidth,borderLeftWidth:0,borderTopLeftRadius:0,borderBottomLeftRadius:0},rightFocus:{paddingRight:o._.sm},open:{marginLeft:o._.sm,marginRight:-22}})},"./src/screens/home/subject/component/box/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/box/box.tsx")),o=s("./src/screens/home/subject/component/box/ds.ts"),a=s("./src/screens/home/subject/component/box/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_BOX)}}),(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),navigation:t,isLogin:e.isLogin,status:e.status,url:e.url,showCount:r.systemStore.setting.showCount,showManageModel:e.showManageModel,toRating:e.toRating,outdate:r.userStore.outdate})]})},o.COMPONENT)},"./src/screens/home/subject/component/box/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{paddingTop:o._.md,paddingHorizontal:o._.wind},sectionTitle:{height:28},btn:{marginTop:8},bottom:{marginTop:-o._.select(44,50)+o._.sm},hide:{position:"absolute",zIndex:1,top:-10,right:-o._.sm}}})},"./src/screens/home/subject/component/catalog/catalog.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),c=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/home/subject/ds.ts"),f=o(s("./src/screens/home/subject/component/icon/catalog.tsx")),j=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),h=o(s("./src/screens/home/subject/component/catalog/item/index.tsx")),o=s("./src/screens/home/subject/component/catalog/ds.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.showCatalog,o=e.catalog,n=e.onSwitchBlock,e=(0,l.useHorizontalLazy)(o),o=e.list,e=e.onScroll;return(0,b.jsxs)(d.InView,{style:(0,u.stl)(t.container,!s&&a._.short),children:[(0,b.jsx)(d.SectionTitle,{style:a._.container.wind,right:s?(0,b.jsx)(f.default,{}):(0,b.jsx)(j.default,{name:p.TITLE_CATALOG,value:"showCatalog"}),icon:!s&&"md-navigate-next",onPress:function(){return n("showCatalog")},children:p.TITLE_CATALOG}),s&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(c.default,{style:t.scrollView,children:[(0,b.jsx)(r.default,Object.assign({contentContainerStyle:t.contentContainerStyle,horizontal:!0},m.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:4,onScroll:e,children:o.map(function(e){return(0,b.jsx)(h.default,{item:e},e.id)})})),(0,b.jsx)(i.Heatmap,{id:"条目.跳转",from:"条目"})]})}),(0,b.jsx)(d.PreventTouchPlaceholder,{})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN,function(e){return Object.assign({},e,{catalog:e.catalog.length})});t.default=s;try{catalog.displayName="catalog",catalog.__docgenInfo={description:"",displayName:"catalog",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; marginTop: number; }; contentContainerStyle: { paddingTop: number; paddingHorizontal: number; paddingBottom: number; }; scrollView: { marginTop: number; marginBottom: number; }; }"}},showCatalog:{defaultValue:null,description:"",name:"showCatalog",required:!0,type:{name:"LayoutValue"}},catalog:{defaultValue:null,description:"",name:"catalog",required:!0,type:{name:'DeepPartial<{ avatar: Avatar<"l">; name: string; userId: UserId; id: Id; title: string; }>[]'}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/catalog/catalog.tsx#catalog"]={docgenInfo:catalog.__docgenInfo,name:"catalog",path:"src/screens/home/subject/component/catalog/catalog.tsx#catalog"})}catch(e){}},"./src/screens/home/subject/component/catalog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Catalog");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},showCatalog:!0,catalog:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/catalog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/catalog/catalog.tsx")),o=s("./src/screens/home/subject/component/catalog/ds.ts"),a=s("./src/screens/home/subject/component/catalog/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef;return(e=t.$).showCalalog[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_CATALOG)}}),(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),showCatalog:r.systemStore.setting.showCatalog,catalog:e.filterCatalog,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/catalog/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/components/avatar/utils.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),u=s("./src/screens/home/subject/component/catalog/item/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.item,e=t.$,o=t.navigation,t=(0,u.memoStyles)(),n=(0,d.HTMLDecode)(s.title);return(0,l.jsx)(r.Touchable,{style:t.item,animate:!0,onPress:function(){(0,a.t)("条目.跳转",{to:"CatalogDetail",from:"条目",catalogId:s.id}),o.push("CatalogDetail",{catalogId:s.id})},children:(0,l.jsxs)(r.Flex,{children:[(0,l.jsx)(r.Cover,{src:(0,c.fixedAll)(s.avatar,i._.r(40)),size:i._.r(40),radius:!0,type:"目录",cdn:!(0,d.x18)(e.subjectId)}),(0,l.jsx)(r.Flex.Item,{style:i._.ml.md,children:(0,l.jsxs)(r.Text,{style:t.text,size:11,lineHeight:12,bold:!0,numberOfLines:2,children:[n,n.length<=6?"\n":" ",(0,l.jsx)(r.Text,{size:9,lineHeight:12,type:"sub",children:(0,d.HTMLDecode)(s.name)})]})})]})})})},"./src/screens/home/subject/component/catalog/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{item:{minWidth:96,marginRight:o._.md,borderRadius:o._.radiusSm,overflow:"hidden"},text:{maxWidth:o._.r(.24*o._.window.contentWidth)}}})},"./src/screens/home/subject/component/catalog/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:92,marginTop:o._.lg},contentContainerStyle:{paddingTop:o._.sm,paddingHorizontal:o._.wind,paddingBottom:o._.md+4},scrollView:{marginTop:o._.md,marginBottom:-o._.md}}})},"./src/screens/home/subject/component/character/character.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),m=s("./src/screens/home/subject/ds.ts"),p=o(s("./src/screens/home/subject/component/icon/character.tsx")),f=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),o=s("./src/screens/home/subject/component/character/ds.ts"),j=s("./src/screens/home/subject/component/character/styles.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var n=e.navigation,t=e.showCharacter,r=e.subjectId,s=e.crt,c=e.crtCounts,o=e.onSwitchBlock;return(0,h.jsxs)(d.InView,{style:(0,u.stl)(j.styles.container,!t&&a._.short),children:[(0,h.jsx)(d.SectionTitle,{style:a._.container.wind,right:t?(0,h.jsx)(p.default,{}):(0,h.jsx)(f.default,{name:m.TITLE_CHARACTER,value:"showCharacter"}),icon:!t&&"md-navigate-next",onPress:function(){return o("showCharacter")},children:m.TITLE_CHARACTER}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.HorizontalList,{style:a._.mt.sm,data:s.map(function(t){try{var e,s,o=(null==t?void 0:t.image)||"";return null!=t&&null!=(e=t.image)&&e.includes("/r/")&&(o="https://lain.bgm.tv/pic/crt/g/"+(null==(s=t.image.split("/l/"))?void 0:s[1])||0),Object.assign({},t,{image:o})}catch(e){return t}}),counts:c,initialRenderNums:a._.device(Math.floor(a._.window.contentWidth/56)+1,8),onPress:function(e){var t=e.id,s=e.name,o=e.nameJP,e=e._image;(0,l.t)("条目.跳转",{to:"Mono",from:m.TITLE_CHARACTER,subjectId:r}),n.push("Mono",{monoId:"character/"+t,_name:s,_jp:o,_image:e,_count:c[t]||0})},onSubPress:function(e){var t=e.actorId,e=e.desc;(0,l.t)("条目.跳转",{to:"Mono",from:m.TITLE_CHARACTER,subjectId:r}),n.push("Mono",{monoId:"person/"+t,_name:e})}}),(0,h.jsx)(i.Heatmap,{id:"条目.跳转",from:m.TITLE_CHARACTER})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{character.displayName="character",character.__docgenInfo={description:"",displayName:"character",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},showCharacter:{defaultValue:null,description:"",name:"showCharacter",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},crt:{defaultValue:null,description:"",name:"crt",required:!0,type:{name:"Crt[] | DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/crt/g/${string}.jpg?r=${number}`; name: string; desc: string; }>[]"}},crtCounts:{defaultValue:null,description:"",name:"crtCounts",required:!0,type:{name:"Record<string, number>"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/character/character.tsx#character"]={docgenInfo:character.__docgenInfo,name:"character",path:"src/screens/home/subject/component/character/character.tsx#character"})}catch(e){}},"./src/screens/home/subject/component/character/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Character");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},showCharacter:!0,subjectId:0,crt:[],crtCounts:{},onSwitchBlock:function(){}}},"./src/screens/home/subject/component/character/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/character/character.tsx")),o=s("./src/screens/home/subject/component/character/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showCharacter[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_CHARACTER)}}),(0,a.jsx)(d.default,{navigation:t,showCharacter:r.systemStore.setting.showCharacter,subjectId:e.subjectId,crt:e.crt,crtCounts:e.subjectFormHTML.crtCounts,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/character/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:150,marginTop:s._.lg}})},"./src/screens/home/subject/component/comic/comic.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/components/cover/utils.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/home/subject/ds.ts"),f=s("./src/screens/home/subject/component/comic/ds.ts"),j=s("./src/screens/home/subject/component/comic/styles.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var n=e.navigation,r=e.subjectId,e=e.comic;return(0,h.jsxs)(d.InView,{style:j.styles.container,children:[(0,h.jsx)(d.SectionTitle,{style:a._.container.wind,children:p.TITLE_COMIC}),(0,h.jsx)(d.HorizontalList,{style:a._.mt.sm,data:e.map(function(e){return Object.assign({},e,{name:m.IOS?e.name:(0,u.truncateMiddle)(e.name,20)})}),width:f.COVER_WIDTH,height:f.COVER_HEIGHT,ellipsizeMode:"middle",initialRenderNums:a._.device(Math.floor(a._.window.contentWidth/f.COVER_WIDTH)+1,6),onPress:function(e,t){var s=e.id,o=e.name,e=e.image;(0,l.t)("条目.跳转",{to:"Subject",from:p.TITLE_COMIC,subjectId:r}),n.push("Subject",{subjectId:s,_jp:o,_image:(0,i.getCoverSrc)(e,f.COVER_WIDTH),_type:t})}}),(0,h.jsx)(c.Heatmap,{id:"条目.跳转",from:p.TITLE_COMIC})]})},f.DEFAULT_PROPS,f.COMPONENT_MAIN);t.default=s;try{comic.displayName="comic",comic.__docgenInfo={description:"",displayName:"comic",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},comic:{defaultValue:null,description:"",name:"comic",required:!0,type:{name:"DeepPartial<{ id: SubjectId; name: string; image: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; }>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/comic/comic.tsx#comic"]={docgenInfo:comic.__docgenInfo,name:"comic",path:"src/screens/home/subject/component/comic/comic.tsx#comic"})}catch(e){}},"./src/screens/home/subject/component/comic/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Comic");t.COMPONENT_MAIN=(0,o.rc)(s),t.COVER_WIDTH=80,t.COVER_HEIGHT=112,t.DEFAULT_PROPS={navigation:{},subjectId:0,comic:[]}},"./src/screens/home/subject/component/comic/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/comic/comic.tsx")),o=s("./src/screens/home/subject/component/comic/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showComic[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_COMIC)}}),(0,a.jsx)(d.default,{navigation:t,subjectId:e.subjectId,comic:e.comic})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/comic/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:174,marginTop:s._.lg}})},"./src/screens/home/subject/component/comment/comment.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/subject/component/icon/comment.tsx")),d=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),a=o(s("./src/screens/home/subject/component/icon/version.tsx")),u=o(s("./src/screens/home/subject/component/rate-segment/index.tsx")),l=o(s("./src/screens/home/subject/component/status-segment/index.tsx")),o=s("./src/screens/home/subject/component/comment/ds.ts"),m=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.showComment,o=e.commentLength,n=e.onSwitchBlock;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.SectionTitle,{style:s?t.container:t.hide,right:s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.default,{}),(0,m.jsx)(l.default,{}),(0,m.jsx)(u.default,{}),(0,m.jsx)(i.default,{})]}):(0,m.jsx)(d.default,{name:"吐槽",value:"showComment"}),icon:!s&&"md-navigate-next",onPress:function(){return n("showComment")},children:["吐槽"," ",(0,m.jsxs)(r.Text,{size:12,type:"sub",lineHeight:24,children:[o,"+"]})]}),(0,m.jsx)(r.Heatmap,{bottom:32,id:"条目.跳转",from:"吐槽"})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{comment.displayName="comment",comment.__docgenInfo={description:"",displayName:"comment",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingHorizontal: number; paddingBottom: number; marginTop: number; }; hide: { paddingHorizontal: number; marginTop: number; marginVertical: number; }; }"}},showComment:{defaultValue:null,description:"",name:"showComment",required:!0,type:{name:"LayoutValue"}},commentLength:{defaultValue:null,description:"",name:"commentLength",required:!0,type:{name:"number"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/comment/comment.tsx#comment"]={docgenInfo:comment.__docgenInfo,name:"comment",path:"src/screens/home/subject/component/comment/comment.tsx#comment"})}catch(e){}},"./src/screens/home/subject/component/comment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Comment");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},showComment:!0,commentLength:0,onSwitchBlock:function(){}}},"./src/screens/home/subject/component/comment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/subject/ds.ts"),a=o(s("./src/screens/home/subject/component/comment/comment.tsx")),o=s("./src/screens/home/subject/component/comment/ds.ts"),u=s("./src/screens/home/subject/component/comment/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=e.onBlockRef,e=t.$,o=-1===(t=r.systemStore.setting.showComment);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.default,{ref:function(e){return s(e,d.TITLE_COMMENT)},style:(0,c.stl)(r._.container.layout,o&&r._.mt.lg)}),!o&&(0,l.jsx)(a.default,{styles:(0,u.memoStyles)(),showComment:t,commentLength:e.commentLength,onSwitchBlock:e.onSwitchBlock})]})},o.COMPONENT)},"./src/screens/home/subject/component/comment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{paddingHorizontal:o._.wind,paddingBottom:o._.xs,marginTop:o._.lg},hide:{paddingHorizontal:o._.wind,marginTop:o._.lg,marginVertical:-o._.sm}}})},"./src/screens/home/subject/component/cover/cover.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/react/index.js")),m=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),h=s("./src/utils/dev/index.ts"),b=s("./src/constants/index.ts"),_=s("./src/screens/home/subject/component/cover/ds.ts"),y=s("./src/screens/home/subject/component/cover/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function g(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var v,O=new Map,l=(s=l.default.Component,(0,i.default)(T,s),v=g(T),(0,r.default)(T,[{key:"isLoaded",get:function(){var e=this.props.image;return"string"==typeof e&&O.get(e)||this.state.isLoaded}},{key:"event",get:function(){return{id:"条目.封面图查看",data:{subjectId:this.props.subjectId}}}},{key:"renderPlaceholder",value:function(){return!b.STORYBOOK&&this.isLoaded&&this.props.image?null:(0,x.jsx)(p.Cover,{style:[this.styles.placeholder,{opacity:this.isLoaded?0:1}],src:this.props.placeholder||b.IMG_DEFAULT,size:this.props.width,height:this.props.height,noDefault:!0,radius:!1,skeleton:!1})}},{key:"renderCover",value:function(){var e=this.props.image;return e?(0,x.jsx)(p.Cover,{src:e,size:this.props.width,height:this.props.height,noDefault:!0,radius:!1,skeleton:!1,imageViewer:!0,imageViewerSrc:(0,j.getCoverLarge)(e||this.props.placeholder),fadeDuration:0,sync:!0,event:this.event,onLoad:this.onLoad}):null}},{key:"render",value:function(){(0,h.r)(_.COMPONENT_MAIN);var e=this.props,t=e.width,e=e.height;return(0,x.jsx)(p.Squircle,{style:this.styles.container,width:t,height:e,radius:f.systemStore.coverRadius,children:(0,x.jsxs)(m.default,{style:{minWidth:t,minHeight:e},children:[b.STORYBOOK&&this.renderPlaceholder(),this.renderCover(),!b.STORYBOOK&&this.renderPlaceholder(),(0,x.jsx)(p.Heatmap,{id:"条目.封面图查看"})]})})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]),T);function T(){var t;(0,n.default)(this,T);for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return t=v.call.apply(v,[this].concat(s)),(0,u.default)((0,c.default)(t),"state",{isLoaded:!1}),(0,u.default)((0,c.default)(t),"onLoad",function(){var e=t.props.image;"string"==typeof e&&O.set(e,!0);try{setTimeout(function(){t.setState({isLoaded:!0})},800+(f.systemStore.setting.imageFadeIn?880:0))}catch(e){}}),t}t.default=(0,o.obc)(l);try{cover.displayName="cover",cover.__docgenInfo={description:"",displayName:"cover",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/cover/cover.tsx#cover"]={docgenInfo:cover.__docgenInfo,name:"cover",path:"src/screens/home/subject/component/cover/cover.tsx#cover"})}catch(e){}},"./src/screens/home/subject/component/cover/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Cover");t.COMPONENT_MAIN=(0,o.rc)(s)},"./src/screens/home/subject/component/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/subject/component/cover/cover.tsx")),o=s("./src/screens/home/subject/component/cover/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$;return t.navigation,(0,c.jsx)(r.default,{image:s.cover,placeholder:s.coverPlaceholder,width:s.imageWidth,height:s.imageHeight,subjectId:s.subjectId})},o.COMPONENT);try{cover.displayName="cover",cover.__docgenInfo={description:"",displayName:"cover",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/cover/index.tsx#cover"]={docgenInfo:cover.__docgenInfo,name:"cover",path:"src/screens/home/subject/component/cover/index.tsx#cover"})}catch(e){}},"./src/screens/home/subject/component/cover/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{position:"absolute",zIndex:1,top:o._.md+6,left:o._.wind},placeholder:{position:"absolute",zIndex:2,top:0,left:0,pointerEvents:"none"}}})},"./src/screens/home/subject/component/disc/disc.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),l=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),p=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=s("./src/components/index.ts"),j=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),_=o(s("./src/screens/home/subject/component/icon/disc.tsx")),y=o(s("./src/screens/home/subject/component/icon/search-disc.tsx")),o=s("./src/screens/home/subject/component/disc/ds.ts"),x=s("./node_modules/react/jsx-runtime.js");function c(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(c=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var o=e.navigation,n=e.styles,r=e.subjectId,t=e.disc,s=e.discTranslateResult,e=e.focusOrigin,c=(0,m.useState)(!1),c=(0,l.default)(c,2),i=c[0],d=c[1],c=(0,m.useCallback)(function(){d(!0)},[d]),a=(0,u.default)(s);return(0,x.jsxs)(p.default,{style:n.container,children:[(0,x.jsx)(j.SectionTitle,{right:(0,x.jsxs)(x.Fragment,{children:[!e&&(0,x.jsx)(y.default,{}),!s.length&&(0,x.jsx)(_.default,{})]}),children:"曲目列表"}),!!t.length&&(0,x.jsxs)(p.default,{style:h._.mt.md,children:[(0,x.jsx)(f.Expand,{onExpand:c,children:t.filter(function(e,t){return!!i||(6<=e.disc.length?t<1:t<2)}).map(function(e,t){return(0,x.jsxs)(p.default,{style:!!t&&h._.mt.md,children:[(0,x.jsx)(f.Text,{type:"sub",size:16,selectable:!0,children:e.title}),(0,x.jsx)(p.default,{style:h._.mt.sm,children:e.disc.map(function(e,t){var s="";return a.length&&(s=a.shift().dst),(0,x.jsxs)(p.default,{style:(0,b.stl)(n.item,t%2==0&&n.odd),children:[(0,x.jsx)(f.Text,{onPress:function(){(0,b.appNavigate)(e.href,o,{},{id:"条目.跳转",data:{from:"曲目列表",subjectId:r}})},children:(0,b.HTMLDecode)(e.title)}),!!s&&(0,x.jsx)(f.Text,{style:n.translate,type:"sub",size:12,children:s})]},e.href)})})]},e.title)})}),(0,x.jsx)(f.Heatmap,{id:"条目.跳转",from:"曲目列表"})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN,function(e){return Object.assign({},e,{discTranslateResult:e.discTranslateResult.length})});t.default=s;try{disc.displayName="disc",disc.__docgenInfo={description:"",displayName:"disc",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingHorizontal: number; marginTop: number; }; item: { paddingHorizontal: number; paddingVertical: number; }; odd: { backgroundColor: string; }; translate: { marginTop: number; }; }"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},disc:{defaultValue:null,description:"",name:"disc",required:!0,type:{name:"DeepPartial<{ title: string; disc: { title: string; href: `/ep/${number}`; }[]; }>[]"}},discTranslateResult:{defaultValue:null,description:"",name:"discTranslateResult",required:!0,type:{name:"any[]"}},focusOrigin:{defaultValue:null,description:"",name:"focusOrigin",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/disc/disc.tsx#disc"]={docgenInfo:disc.__docgenInfo,name:"disc",path:"src/screens/home/subject/component/disc/disc.tsx#disc"})}catch(e){}},"./src/screens/home/subject/component/disc/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Disc");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},subjectId:0,disc:[],discTranslateResult:[],focusOrigin:!1}},"./src/screens/home/subject/component/disc/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),r=s("./src/utils/decorators/index.ts"),c=o(s("./src/screens/home/subject/component/disc/disc.tsx")),o=s("./src/screens/home/subject/component/disc/ds.ts"),i=s("./src/screens/home/subject/component/disc/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=t.navigation;return(0,d.jsx)(c.default,{navigation:t,styles:(0,i.memoStyles)(),subjectId:s.subjectId,disc:s.disc,discTranslateResult:s.state.discTranslateResult,focusOrigin:n.systemStore.setting.focusOrigin})},o.COMPONENT);try{disc.displayName="disc",disc.__docgenInfo={description:"",displayName:"disc",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/disc/index.tsx#disc"]={docgenInfo:disc.__docgenInfo,name:"disc",path:"src/screens/home/subject/component/disc/index.tsx#disc"})}catch(e){}},"./src/screens/home/subject/component/disc/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:96,paddingHorizontal:o._.wind,marginTop:o._.lg},item:{paddingHorizontal:o._.sm,paddingVertical:o._.sm},odd:{backgroundColor:o._.select(o._.colorBg,o._._colorDarkModeLevel1)},translate:{marginTop:o._.xs}}})},"./src/screens/home/subject/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/subject/component/ep/book-ep/book-ep.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.parse-int.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=o(s("./node_modules/@ant-design/react-native/lib/progress/index.js")),j=s("./src/components/index.ts"),h=s("./src/screens/_/index.ts"),b=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),_=s("./src/screens/home/subject/ds.ts"),y=o(s("./src/screens/home/subject/component/icon/hd.tsx")),x=o(s("./src/screens/home/subject/component/icon/manga.tsx")),g=o(s("./src/screens/home/subject/component/icon/search.tsx")),v=o(s("./src/screens/home/subject/component/icon/wenku.tsx")),o=s("./src/screens/home/subject/component/ep/book-ep/ds.ts"),O=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.chap,o=e.vol,n=e.book,r=e.comicLength,c=e.status,i=e.focusOrigin,d=e.onChangeText,a=e.onScrollIntoViewIfNeeded,u=e.doUpdateBookEp,l=e.doUpdateNext,e=n.totalChap,m=n.totalVol,r=("??"===m&&r&&(m="?"+r),!!c.name&&"未收藏"!==c.name);return(0,O.jsxs)(p.default,{style:t.container,children:[(0,O.jsx)(h.SectionTitle,{right:(0,O.jsxs)(O.Fragment,{children:[!i&&(0,O.jsx)(g.default,{}),(0,O.jsx)(x.default,{}),(0,O.jsx)(v.default,{}),(0,O.jsx)(y.default,{})]}),children:_.TITLE_EP}),(0,O.jsxs)(j.Flex,{style:b._.mt.md,align:"start",children:[(0,O.jsxs)(j.Flex.Item,{children:[(0,O.jsxs)(j.Flex,{children:[(0,O.jsx)(j.Text,{style:t.label,align:"right",children:"Chap."}),(0,O.jsxs)(p.default,{style:t.input,children:[(0,O.jsx)(j.Input,{style:t.inputRaw,keyboardType:"numeric",value:String(s),placeholder:String(n.chap)||"0",editable:r,clearButtonMode:"never",returnKeyType:"done",returnKeyLabel:"更新",onChangeText:r?function(e){e=e.replace(/[^\d]+/,"");d("chap",e)}:void 0,onSubmitEditing:r?u:void 0,onScrollIntoViewIfNeeded:a}),!!e&&(0,O.jsxs)(j.Text,{style:t.total,type:"sub",children:["/ ",e]})]}),r&&(0,O.jsx)(j.Button,{style:t.btnPlus,styleText:t.btnText,type:"ghostPrimary",onPress:function(){return l("chap")},children:"+"})]}),!!e&&0!==Number(e)&&(0,O.jsx)(j.Flex,{style:t.progressWrap,children:(0,O.jsx)(f.default,{style:t.progress,barStyle:t.bar,percent:parseInt(String(s))/parseInt(e)*100})}),(0,O.jsxs)(j.Flex,{style:b._.mt.sm,children:[(0,O.jsx)(j.Text,{style:t.label,align:"right",children:"Vol."}),(0,O.jsxs)(p.default,{style:t.input,children:[(0,O.jsx)(j.Input,{style:t.inputRaw,keyboardType:"numeric",value:String(o),placeholder:String(n.vol)||"0",editable:r,clearButtonMode:"never",returnKeyType:"done",returnKeyLabel:"更新",onChangeText:r?function(e){e=e.replace(/[^\d]+/,"");d("vol",e)}:void 0,onSubmitEditing:r?u:void 0,onScrollIntoViewIfNeeded:a}),!!m&&0!==Number(m)&&(0,O.jsxs)(j.Text,{style:t.total,type:"sub",children:["/ ",m]})]}),r&&(0,O.jsx)(j.Button,{style:t.btnPlus,styleText:t.btnText,type:"ghostPrimary",onPress:function(){return l("vol")},children:"+"}),(0,O.jsx)(j.Heatmap,{id:"条目.更新书籍下一个章节"})]}),!!n.totalVol&&(0,O.jsx)(j.Flex,{style:t.progressWrap,children:(0,O.jsx)(f.default,{style:t.progress,barStyle:t.bar,percent:parseInt(String(o))/parseInt(n.totalVol)*100})})]}),r?(0,O.jsxs)(p.default,{style:b._.ml.md,children:[(0,O.jsx)(j.Button,{style:t.btn,type:"ghostPrimary",onPress:u,children:"更新"}),(0,O.jsx)(j.Heatmap,{id:"条目.更新书籍章节"})]}):(0,O.jsx)(j.Text,{style:b._.mt.sm,type:"sub",size:13,bold:!0,children:"收藏后才能进行管理"})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{bookep.displayName="bookep",bookep.__docgenInfo={description:"",displayName:"bookep",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { height: number; paddingHorizontal: number; marginTop: number; }; label: { width: number; }; input: { marginLeft: number; width: number; height: number; }; inputRaw: { marginRight: number; ... 8 more ...; fontWeight: "800"; } | { ...; }; ... 6 more ...; bar: { ...; }; }'}},chap:{defaultValue:null,description:"",name:"chap",required:!0,type:{name:"string | number"}},vol:{defaultValue:null,description:"",name:"vol",required:!0,type:{name:"string | number"}},book:{defaultValue:null,description:"",name:"book",required:!0,type:{name:"DeepPartial<{ chap: number; vol: number; totalChap: string; totalVol: string; }>"}},comicLength:{defaultValue:null,description:"",name:"comicLength",required:!0,type:{name:"number"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:'DeepPartial<{ type: "" | "dropped" | "collect" | "on_hold" | "wish" | "do"; name: "看过" | "想看" | "抛弃" | "在看" | "搁置" | "未收藏"; id: "1" | "2" | "4" | "3" | "5"; }>'}},focusOrigin:{defaultValue:null,description:"",name:"focusOrigin",required:!0,type:{name:"boolean"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(name: string, text: string) => void"}},onScrollIntoViewIfNeeded:{defaultValue:null,description:"",name:"onScrollIntoViewIfNeeded",required:!0,type:{name:"(y: number) => any"}},doUpdateBookEp:{defaultValue:null,description:"",name:"doUpdateBookEp",required:!0,type:{name:"() => Promise<void>"}},doUpdateNext:{defaultValue:null,description:"",name:"doUpdateNext",required:!0,type:{name:"(name: string | number) => Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/ep/book-ep/book-ep.tsx#bookep"]={docgenInfo:bookep.__docgenInfo,name:"bookep",path:"src/screens/home/subject/component/ep/book-ep/book-ep.tsx#bookep"})}catch(e){}},"./src/screens/home/subject/component/ep/book-ep/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ep/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"BookEp");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},chap:"0",vol:"0",book:{},comicLength:0,status:{name:"未收藏"},focusOrigin:!1,onChangeText:function(){},onScrollIntoViewIfNeeded:function(){},doUpdateBookEp:function(){},doUpdateNext:function(){}}},"./src/screens/home/subject/component/ep/book-ep/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),r=s("./src/utils/decorators/index.ts"),c=o(s("./src/screens/home/subject/component/ep/book-ep/book-ep.tsx")),i=s("./src/screens/home/subject/component/ep/book-ep/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return e=e.onScrollIntoViewIfNeeded,t=t.$,(0,d.jsx)(c.default,{styles:(0,i.memoStyles)(),chap:t.state.chap||"0",vol:t.state.vol||"0",book:t.subjectFormHTML.book,comicLength:t.comic.length,status:t.collection.status,focusOrigin:n.systemStore.setting.focusOrigin,onChangeText:t.changeText,onScrollIntoViewIfNeeded:e,doUpdateBookEp:t.doUpdateBookEp,doUpdateNext:t.doUpdateNext})})},"./src/screens/home/subject/component/ep/book-ep/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),n=o._.r(48),r=o._.r(120);t.memoStyles=o._.memoStyles(function(){return{container:{height:o._.r(120),paddingHorizontal:o._.wind,marginTop:o._.lg},label:{width:n},input:{marginLeft:o._.sm,width:r,height:o._.device(34,48)},inputRaw:Object.assign({height:o._.r(34),paddingVertical:0,paddingHorizontal:o._.sm+2,color:o._.colorSub,fontWeight:"800"},o._.device(o._.fontSize13,o._.fontSize15)),total:{position:"absolute",zIndex:100,top:o._.device(8,10),right:o._.r(12)},btn:{width:o._.r(56),height:o._.device(32,48)},btnPlus:{marginLeft:o._.sm,width:o._.r(40),height:o._.device(34,48)},btnText:o._.device(o._.fontSize13,o._.fontSize18),progressWrap:{width:r,marginLeft:n+o._.sm,marginBottom:4},progress:{backgroundColor:"transparent",borderRadius:4},bar:{backgroundColor:"transparent",borderBottomColor:o._.colorPrimary,borderBottomWidth:4,borderRadius:4}}})},"./src/screens/home/subject/component/ep/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WEEK_DAY_MAP=t.WEEK_DAY_DS=t.MINUTE_DS=t.HOUR_DS=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Ep");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},watchedEps:"0",totalEps:"0",onAirCustom:{},status:{name:"未收藏"},isDoing:!1,showEpInput:!0,showCustomOnair:!0,focusOrigin:!1,onChangeText:function(){},onSelectOnAir:function(){},onResetOnAirUser:function(){},onScrollIntoViewIfNeeded:function(){},doUpdateSubjectEp:function(){}},t.WEEK_DAY_DS=["周日","周一","周二","周三","周四","周五","周六"],t.WEEK_DAY_MAP={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},t.HOUR_DS=["20","21","22","23","00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19"],t.MINUTE_DS=["00","05","10","15","20","25","30","35","40","45","50","55"]},"./src/screens/home/subject/component/ep/ep.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),y=s("./src/components/index.ts"),x=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),v=s("./src/screens/home/subject/ds.ts"),O=o(s("./src/screens/home/subject/component/icon/ep.tsx")),T=o(s("./src/screens/home/subject/component/icon/ep-filter.tsx")),S=o(s("./src/screens/home/subject/component/icon/online.tsx")),E=o(s("./src/screens/home/subject/component/icon/reverse.tsx")),P=o(s("./src/screens/home/subject/component/ep/eps/index.tsx")),I=s("./src/screens/home/subject/component/ep/ds.ts"),C=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var t=e.styles,s=e.watchedEps,o=e.totalEps,n=e.onAirCustom,r=e.status,c=e.isDoing,i=e.showEpInput,d=e.showCustomOnair,a=e.focusOrigin,u=e.onChangeText,l=e.onSelectOnAir,m=e.onResetOnAirUser,p=e.onScrollIntoViewIfNeeded,e=e.doUpdateSubjectEp,r=!!r.name&&"未收藏"!==r.name,f=n.weekDay,j=n.h,h=n.m,b=n.isOnair,n=n.isCustom,d=d&&(b||c);return(0,C.jsxs)(_.default,{style:t.container,children:[(0,C.jsx)(x.SectionTitle,{right:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(T.default,{}),!a&&(0,C.jsx)(S.default,{}),(0,C.jsx)(O.default,{}),(0,C.jsx)(E.default,{})]}),children:v.TITLE_EP}),(0,C.jsxs)(_.default,{style:g._.mt.md,children:[(0,C.jsx)(P.default,{}),(0,C.jsx)(y.Heatmap,{id:"条目.章节按钮长按"}),(0,C.jsx)(y.Heatmap,{bottom:35,id:"条目.章节菜单操作"})]}),(i||d)&&(0,C.jsxs)(y.Flex,{style:g._.mt.sm,children:[(0,C.jsx)(y.Flex.Item,{children:i&&(0,C.jsxs)(y.Flex,{children:[(0,C.jsxs)(_.default,{style:t.input,children:[(0,C.jsx)(y.Input,{style:t.inputRaw,pointerEvents:"box-none",keyboardType:"numeric",value:String(s),placeholder:String(s||"0"),editable:r,clearButtonMode:"never",returnKeyType:"done",returnKeyLabel:"更新",onChangeText:function(e){return u("watchedEps",e.replace(/[^\d]+/,""))},onSubmitEditing:e,onScrollIntoViewIfNeeded:p}),!!o&&0!=o&&(0,C.jsxs)(y.Text,{style:t.total,type:"sub",size:11,bold:!0,children:["/ ",o]})]}),(0,C.jsx)(_.default,{style:g._.ml.sm,children:(0,C.jsx)(y.Button,{style:t.btn,size:"sm",type:"ghostPrimary",onPress:r?e:void 0,children:"更新"})})]})}),d&&(0,C.jsxs)(y.Flex,{children:[(0,C.jsx)(x.Popover,{data:I.WEEK_DAY_DS,onSelect:function(e){var t={};Object.keys(I.WEEK_DAY_MAP).forEach(function(e){return t[I.WEEK_DAY_MAP[e]]=e}),l(Number(t[e]||0),""+j+h)},children:(0,C.jsx)(y.Flex,{style:t.btnOnAir,justify:"center",children:(0,C.jsx)(y.Text,{size:11,bold:!0,type:"sub",children:void 0===I.WEEK_DAY_MAP[f]?"周":I.WEEK_DAY_MAP[f]})})}),(0,C.jsx)(x.Popover,{style:g._.ml.sm,data:I.HOUR_DS,onSelect:function(e){l(f,""+(e||"00")+(h||"00"))},children:(0,C.jsx)(y.Flex,{style:t.btnOnAir,justify:"center",children:(0,C.jsx)(y.Text,{size:11,bold:!0,type:"sub",children:j||"时"})})}),(0,C.jsx)(x.Popover,{style:g._.ml.sm,data:I.MINUTE_DS,onSelect:function(e){l(f,""+(j||"00")+(e||"00"))},children:(0,C.jsx)(y.Flex,{style:t.btnOnAir,justify:"center",children:(0,C.jsx)(y.Text,{size:11,bold:!0,type:"sub",children:h||"分"})})}),n&&(0,C.jsx)(_.default,{style:t.btnReset,children:(0,C.jsx)(x.IconTouchable,{style:g._.mr._xs,name:"md-refresh",size:20,onPress:m})})]},""+f+j+h),(0,C.jsx)(y.Heatmap,{id:"条目.输入框更新章节"})]})]})},I.DEFAULT_PROPS,I.COMPONENT_MAIN);t.default=o;try{ep.displayName="ep",ep.__docgenInfo={description:"",displayName:"ep",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { minHeight: number; marginTop: number; marginHorizontal: number; }; input: { width: number; height: number; }; inputRaw: { marginRight: number; fontSize: number; lineHeight: number; ... 6 more ...; fontWeight: "800"; } | { ...; }; total: { ...; }; btn: { ...; }; btnOnAir: { ...; }; btnReset: { ...; }; }'}},watchedEps:{defaultValue:null,description:"",name:"watchedEps",required:!0,type:{name:"string | number"}},totalEps:{defaultValue:null,description:"",name:"totalEps",required:!0,type:{name:"string | number"}},onAirCustom:{defaultValue:null,description:"",name:"onAirCustom",required:!0,type:{name:"{ weekDay: any; h: string; m: string; isOnair: boolean; isExist: boolean; isCustom: boolean; }"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:'DeepPartial<{ type: "" | "dropped" | "collect" | "on_hold" | "wish" | "do"; name: "看过" | "想看" | "抛弃" | "在看" | "搁置" | "未收藏"; id: "1" | "2" | "4" | "3" | "5"; }>'}},isDoing:{defaultValue:null,description:"",name:"isDoing",required:!0,type:{name:"boolean"}},showEpInput:{defaultValue:null,description:"",name:"showEpInput",required:!0,type:{name:"LayoutValue"}},showCustomOnair:{defaultValue:null,description:"",name:"showCustomOnair",required:!0,type:{name:"LayoutValue"}},focusOrigin:{defaultValue:null,description:"",name:"focusOrigin",required:!0,type:{name:"boolean"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(name: string, text: string) => void"}},onSelectOnAir:{defaultValue:null,description:"",name:"onSelectOnAir",required:!0,type:{name:"(weekDayCN: string | number, timeCN: string) => void"}},onResetOnAirUser:{defaultValue:null,description:"",name:"onResetOnAirUser",required:!0,type:{name:"() => void"}},onScrollIntoViewIfNeeded:{defaultValue:null,description:"",name:"onScrollIntoViewIfNeeded",required:!0,type:{name:"(y: number) => any"}},doUpdateSubjectEp:{defaultValue:null,description:"",name:"doUpdateSubjectEp",required:!0,type:{name:"() => Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/ep/ep.tsx#ep"]={docgenInfo:ep.__docgenInfo,name:"ep",path:"src/screens/home/subject/component/ep/ep.tsx#ep"})}catch(e){}},"./src/screens/home/subject/component/ep/eps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LAYOUT_WIDTH=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),n=s("./src/styles/index.ts"),s=s("./src/screens/home/subject/component/ep/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Eps"),t.LAYOUT_WIDTH=Math.floor(n.window.width-n.wind)-1},"./src/screens/home/subject/component/ep/eps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/subject/component/ep/eps/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation,t=!s.isLimit&&2<=s.onlinePlayActionSheetData.length;return(0,i.jsx)(n.Eps,{layoutWidth:c.LAYOUT_WIDTH,marginRight:r._.isLandscape?0:r._._wind,advance:!0,pagination:!0,login:s.isLogin,subjectId:s.params.subjectId,eps:s.toEps,userProgress:s.userProgress,canPlay:t,flip:s.state.flipEps,onFliped:s.afterEpsFlip,onSelect:function(e,t){s.doEpsSelect(e,t,o)}})},c.COMPONENT);try{eps.displayName="eps",eps.__docgenInfo={description:"",displayName:"eps",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/ep/eps/index.tsx#eps"]={docgenInfo:eps.__docgenInfo,name:"eps",path:"src/screens/home/subject/component/ep/eps/index.tsx#eps"})}catch(e){}},"./src/screens/home/subject/component/ep/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./src/screens/home/subject/ds.ts"),a=o(s("./src/screens/home/subject/component/disc/index.tsx")),u=o(s("./src/screens/home/subject/component/ep/book-ep/index.tsx")),l=o(s("./src/screens/home/subject/component/ep/ep.tsx")),o=s("./src/screens/home/subject/component/ep/ds.ts"),m=s("./src/screens/home/subject/component/ep/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n=e.onBlockRef,e=e.onScrollIntoViewIfNeeded;return(t=t.$).showEp[1]?(o=t.type||i.MODEL_SUBJECT_TYPE.getTitle(c.subjectStore.type(t.subjectId)),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.default,{style:c._.container.layout,ref:function(e){return n(e,"音乐"===o?d.TITLE_DISC:d.TITLE_EP)}}),"书籍"===o?(0,p.jsx)(u.default,{onScrollIntoViewIfNeeded:e}):"音乐"===o?(0,p.jsx)(a.default,{}):(0,p.jsx)(l.default,{styles:(0,m.memoStyles)(),watchedEps:t.state.watchedEps||"0",totalEps:t.subjectFormHTML.totalEps||"0",onAirCustom:t.onAirCustom,status:t.collection.status,isDoing:"do"===(null==(s=t.collection)||null==(s=s.status)?void 0:s.type),showEpInput:c.systemStore.setting.showEpInput,showCustomOnair:c.systemStore.setting.showCustomOnair,focusOrigin:c.systemStore.setting.focusOrigin,onChangeText:t.changeText,onSelectOnAir:t.onSelectOnAir,onResetOnAirUser:t.resetOnAirUser,onScrollIntoViewIfNeeded:e,doUpdateSubjectEp:t.doUpdateSubjectEp})]})):null},o.COMPONENT)},"./src/screens/home/subject/component/ep/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:146,marginTop:o._.lg,marginHorizontal:o._.wind},input:{width:o._.r(74),height:o._.r(32)},inputRaw:Object.assign({height:o._.r(32),paddingVertical:0,paddingHorizontal:o._.sm,color:o._.colorSub,fontWeight:"800"},o._.device(o._.fontSize12,o._.fontSize15)),total:{position:"absolute",zIndex:100,top:o._.device(9,5),right:10},btn:{width:o._.r(44),height:o._.r(32),backgroundColor:o._.select(o._.colorPrimaryLight,o._._colorDarkModeLevel2),overflow:"hidden"},btnOnAir:{width:o._.r(44),height:o._.r(32),backgroundColor:o._.select(o._.colorPrimaryLight,o._._colorDarkModeLevel2),borderColor:o._.select(o._.colorPrimaryBorder,o._._colorDarkModeLevel2),borderWidth:o._.select(1,0),borderRadius:o._.radiusXs,overflow:o._.ios(void 0,"hidden")},btnReset:{height:o._.r(32),marginTop:-8}}})},"./src/screens/home/subject/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/subject/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=o(s("./src/screens/home/subject/component/modal/index.tsx")),o=s("./src/screens/home/subject/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.default,{}),(0,i.jsx)(n.Heatmap,{id:"条目",screen:"Subject"})]})},o.COMPONENT)},"./src/screens/home/subject/component/game/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),n=(t.COMPONENT=(0,n.rc)(s.COMPONENT,"Game"),t.THUMB_WIDTH=o._.r(160));t.THUMB_HEIGHT=.56*n},"./src/screens/home/subject/component/game/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/react/index.js")),m=o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),p=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=s("./src/components/index.ts"),j=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/decorators/index.ts"),y=s("./src/utils/dev/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),v=s("./src/screens/home/subject/ds.ts"),O=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),T=o(s("./src/screens/home/subject/component/icon/ps.tsx")),S=s("./src/screens/home/subject/component/game/ds.ts"),E=s("./src/screens/home/subject/component/game/styles.ts"),P=s("./node_modules/react/jsx-runtime.js");function I(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}o=l.default.Component,(0,i.default)(N,o),C=I(N),(0,r.default)(N,[{key:"isADV",get:function(){var e;return!(null==(e=this.context.$.gameInfo)||!e.isADV)}},{key:"thumbs",get:function(){var e,s=this.context.$;return this.isADV?"number"!=typeof(e=null==(e=h.otaStore.adv(s.subjectId))?void 0:e.length)||e<=0?[]:new Array(e).fill("").map(function(e,t){return(0,g.CDN_ADV)(s.subjectId,t)}):"number"!=typeof(e=null==(e=h.otaStore.game(s.subjectId))?void 0:e.l)||e<=0?[]:new Array(e).fill("").map(function(e,t){return(0,g.CDN_GAME)(s.subjectId,t)})}},{key:"previews",get:function(){var e,s=this.context.$;return this.isADV?"number"!=typeof(e=null==(e=h.otaStore.adv(s.subjectId))?void 0:e.length)||e<=0?[]:new Array(e).fill("").map(function(e,t){return(0,g.CDN_ADV)(s.subjectId,t,!1)}):"number"!=typeof(e=null==(e=h.otaStore.game(s.subjectId))?void 0:e.l)||e<=0?[]:new Array(e).fill("").map(function(e,t){return(0,g.CDN_GAME)(s.subjectId,t,!1)})}},{key:"renderThumbs",value:function(){var e,s,o=this;return null!=(e=this.thumbs)&&e.length?(s=this.context.$,(0,P.jsx)(m.default,Object.assign({style:h._.mt.md,contentContainerStyle:h._.container.wind,horizontal:!0},g.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:8,onScroll:this.state.scrolled?void 0:this.onScroll,children:this.thumbs.map(function(e,t){return(0,P.jsx)(f.Image,{style:t?o.styles.image:o.styles.imageSide,src:e,size:S.THUMB_WIDTH,height:S.THUMB_HEIGHT,radius:h._.radiusSm,errorToHide:!0,onPress:function(){(0,x.t)("条目.游戏截图",{subjectId:s.subjectId}),(0,b.showImageViewer)(o.previews.map(function(e){return{url:e}}),t)}},e)})}))):null}},{key:"renderDetails",value:function(){var e=this,t=this.context.$,s="",o=[],n=[],r="",c="",i="",d="",a="",u=!1,l=(this.isADV?((l=h.otaStore.adv(t.subjectId)).title&&(s=l.title),l.date&&(r=l.date),l.dev&&(i=l.dev),l.time&&(a=(0,b.formatPlaytime)(l.time)),l.cn&&(u=!0)):(s=(l=h.otaStore.game(t.subjectId)).t,o=l.ta||[],n=l.pl||[],r=l.en,c=l.cn,i=l.d,d=l.p),("object"==typeof i?i:[i]).map(function(e){return String(e).trim()}).filter(function(e){return!!e})),i=("object"==typeof d?d:[d]).map(function(e){return String(e).trim()}).filter(function(e){return!!e});return(0,P.jsxs)(p.default,{style:this.styles.details,children:[!!s&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["名称∶",s]}),!(null==o||!o.length)&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["类型∶",o.join("、")]}),!(null==n||!n.length)&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["平台∶",n.join("、")]}),!!l.length&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["开发商∶",l.join("、")]}),!!i.length&&!this.isADV&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["发行商∶",i.join("、")]}),!!r&&c!==r&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["最早发售∶",r]}),!!c&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["中文发售∶",c]}),!!a&&(0,P.jsxs)(f.Text,{lineHeight:22,selectable:!0,children:["游玩时间∶",a]}),!!u&&(0,P.jsx)(f.Text,{lineHeight:22,selectable:!0,children:"汉化∶有"}),(0,P.jsx)(f.Touchable,{onPress:function(){return(0,b.open)("https://search.bilibili.com/all?keyword="+encodeURIComponent(t.jp||t.cn)+"%20"+(e.isADV?"OP":"PV")+"&order=totalrank&duration=1&tids_1=4")},children:(0,P.jsxs)(f.Flex,{children:[(0,P.jsxs)(f.Text,{type:"sub",lineHeight:22,children:["点击查找 ",this.isADV?"OP":"PV"]}),(0,P.jsx)(f.Iconfont,{style:h._.ml.xs,name:"md-open-in-new",size:16})]})})]})}},{key:"render",value:function(){(0,y.r)(S.COMPONENT);var e,t,s=this.context.$;return s.showGame[1]?(e=h.systemStore.setting.showGameInfo,t=this.props.onBlockRef,(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.default,{style:h._.container.layout,ref:function(e){return t(e,v.TITLE_GAME)}}),(0,P.jsx)(j.InView,{style:(0,b.stl)(this.styles.container,!e&&h._.short),children:(0,P.jsxs)(f.Expand,{children:[(0,P.jsx)(j.SectionTitle,{style:h._.container.wind,right:e?!this.isADV&&(0,P.jsx)(T.default,{}):(0,P.jsx)(O.default,{name:v.TITLE_GAME,value:"showGameInfo"}),icon:!e&&"md-navigate-next",onPress:function(){return s.onSwitchBlock("showGameInfo")},children:v.TITLE_GAME}),e&&(0,P.jsxs)(P.Fragment,{children:[this.renderThumbs(),this.renderDetails()]}),(0,P.jsx)(j.PreventTouchPlaceholder,{})]})})]})):null}},{key:"styles",get:function(){return(0,E.memoStyles)()}}]);var C,s=N;function N(){var e;(0,n.default)(this,N);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=C.call.apply(C,[this].concat(s)),(0,u.default)((0,c.default)(e),"state",{scrolled:!1}),(0,u.default)((0,c.default)(e),"onScroll",function(){e.state.scrolled||e.setState({scrolled:!0})}),e}t.default=(0,_.obc)(s);try{game.displayName="game",game.__docgenInfo={description:"",displayName:"game",props:{onBlockRef:{defaultValue:null,description:"",name:"onBlockRef",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/game/index.tsx#game"]={docgenInfo:game.__docgenInfo,name:"game",path:"src/screens/home/subject/component/game/index.tsx#game"})}catch(e){}},"./src/screens/home/subject/component/game/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:216,marginTop:o._.lg},image:{marginLeft:o._.sm,overflow:"hidden"},imageSide:{overflow:"hidden"},details:{paddingHorizontal:o._.wind,marginTop:o._.md}}})},"./src/screens/home/subject/component/head/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Head");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},showRelation:!1,subjectId:0,subjectPrev:void 0,subjectAfter:void 0,subjectSeries:void 0,cn:"",jp:"",release:"",year:"",imageWidth:0,imageHeight:0,titleLabel:"",hideScore:!1,rating:{},nsfw:!1,hasSeries:!1}},"./src/screens/home/subject/component/head/head.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),O=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),T=s("./src/components/index.ts"),S=s("./src/screens/_/index.ts"),E=s("./src/stores/index.ts"),P=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),I=s("./src/utils/fetch/index.ts"),C=s("./src/constants/index.ts"),N=o(s("./src/screens/home/subject/component/cover/index.tsx")),M=o(s("./src/screens/home/subject/component/series/index.tsx")),o=s("./src/screens/home/subject/component/head/ds.ts"),R=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.showRelation,o=e.subjectId,n=e.subjectPrev,r=e.subjectAfter,c=e.subjectSeries,i=e.cn,d=e.jp,a=e.release,u=e.year,l=e.imageWidth,m=e.imageHeight,p=e.titleLabel,f=e.hideScore,j=e.rating,h=e.nsfw,e=e.hasSeries,b=(0,P.cnjp)(d,i),_=(0,P.cnjp)(i,d),d=!1,y=a.includes("年"),x=a.includes("月"),g=a.includes("日"),v=(y&&x&&g?(v=""+a.replace(/年|月|日/g,"/"),v=(0,P.getTimestamp)(null==v?void 0:v.slice(0,v.length-1)),d=(0,P.getTimestamp)()<v):(y&&x&&!g||y&&!x&&!g)&&(d=!0),[]),y=(b!==_&&v.push(""+String(b).slice(0,28)+(28<=String(b).length?"...":"")),p&&v.push(p),13);32<=(v=v.join(" · ")).length?y=11:22<=v.length&&(y=12);x=(32<i.length?12:24<i.length||16<i.length?13:16)+(2===C.PAD?4:2),s&&!!(n||r||c)&&(x=Math.max(11,x-2)),g=l+E._.wind+E._.device(12,20);return(0,R.jsxs)(O.default,{style:t.container,children:[d&&(0,R.jsxs)(T.Text,{style:[t.release,{left:g}],type:"__plain__",size:10,bold:!0,children:[a," 上映"]}),(0,R.jsxs)(O.default,{style:[t.content,{minHeight:m-E._.r(20),paddingLeft:g}],children:[(0,R.jsxs)(O.default,{style:{minHeight:m-E._.r(68)},children:[(0,R.jsxs)(O.default,{children:[(0,R.jsx)(T.Katakana.Provider,{size:x,lineHeight:x+1,bold:!0,children:(0,R.jsxs)(T.Katakana,{size:x,lineHeight:x+1,bold:!0,onLongPress:function(){(0,I.t)("条目.复制标题",{subjectId:o}),(0,P.copy)(_)},children:[_,!!u&&(0,R.jsxs)(T.Text,{size:x-3,lineHeight:x+1,children:[" ","(",u,")"]})]})}),(!c||!!b&&b!==_)&&(0,R.jsx)(T.Katakana.Provider,{style:!!_&&E._.mt.xs,itemStyle:t.katakana,type:"sub",size:y,numberOfLines:e?2:4,children:(0,R.jsx)(T.Katakana,{type:"sub",size:y,numberOfLines:e?2:4,onLongPress:function(){(0,I.t)("条目.复制标题",{subjectId:o}),(0,P.copy)(b)},children:v})}),(0,R.jsx)(T.Heatmap,{id:"条目.复制标题"})]}),(0,R.jsx)(M.default,{size:x})]}),(0,R.jsx)(T.Flex,{style:E._.mt.xs,children:!f&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(T.Text,{type:"main",size:E._.device(20,24),children:[""===j.score?"-":(0,P.toFixed)(j.score,1)," "]}),""!==j.score&&(0,R.jsx)(S.ScoreTag,{style:E._.ml.sm,value:Number(j.score)}),h&&(0,R.jsx)(S.Tag,{style:E._.ml.sm,size:13,value:"NSFW"})]})})]}),(0,R.jsx)(N.default,{})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{head.displayName="head",head.__docgenInfo={description:"",displayName:"head",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { paddingTop: number; marginTop: number; }; content: { paddingTop: number; paddingRight: number; paddingBottom: number; backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; borderTopLeftRadius: number; borderTopRightRadius: number; }; release: { ...; }; katakana: { ...; }; }'}},showRelation:{defaultValue:null,description:"",name:"showRelation",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},subjectPrev:{defaultValue:null,description:"",name:"subjectPrev",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectAfter:{defaultValue:null,description:"",name:"subjectAfter",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectSeries:{defaultValue:null,description:"",name:"subjectSeries",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},cn:{defaultValue:null,description:"",name:"cn",required:!0,type:{name:"string"}},jp:{defaultValue:null,description:"",name:"jp",required:!0,type:{name:"string"}},release:{defaultValue:null,description:"",name:"release",required:!0,type:{name:"string"}},year:{defaultValue:null,description:"",name:"year",required:!0,type:{name:"string"}},imageWidth:{defaultValue:null,description:"",name:"imageWidth",required:!0,type:{name:"number"}},imageHeight:{defaultValue:null,description:"",name:"imageHeight",required:!0,type:{name:"number"}},titleLabel:{defaultValue:null,description:"",name:"titleLabel",required:!0,type:{name:"string"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},rating:{defaultValue:null,description:"",name:"rating",required:!0,type:{name:"{ count: { 1: number; 2: number; 3: number; 4: number; 5: number; 6: number; 7: number; 8: number; 9: number; 10: number; }; score: string; total: string; } | { total: string | number; score: string | number; rank?: number; count: { ...; } | DeepPartial<...>; }"}},nsfw:{defaultValue:null,description:"",name:"nsfw",required:!0,type:{name:"boolean"}},hasSeries:{defaultValue:null,description:"",name:"hasSeries",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/head/head.tsx#head"]={docgenInfo:head.__docgenInfo,name:"head",path:"src/screens/home/subject/component/head/head.tsx#head"})}catch(e){}},"./src/screens/home/subject/component/head/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/head/head.tsx")),o=s("./src/screens/home/subject/component/head/ds.ts"),a=s("./src/screens/home/subject/component/head/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,o=(t=r.systemStore.setting.subjectShowAirdayMonth)?e.yearAndMount:e.year;return o&&"book"===e.subjectTypeValue&&(t=t?e.yearAndMountEnd:e.end)&&t!==o&&(o=o.replace("-","/")+" - "+t.replace("-","/")),(0,u.jsx)(n.default,{ref:function(e){return s(e,i.TITLE_HEAD)},children:(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),showRelation:r.systemStore.setting.showRelation,subjectId:Number(e.subject.id||e.subjectId),subjectPrev:e.subjectPrev,subjectAfter:e.subjectAfter,subjectSeries:e.subjectSeries,cn:e.cn,jp:e.jp,release:e.release,year:o,imageWidth:e.imageWidth,imageHeight:e.imageHeight,titleLabel:e.titleLabel,hideScore:e.hideScore,rating:e.rating,nsfw:e.nsfw,hasSeries:e.hasSeries})})},o.COMPONENT)},"./src/screens/home/subject/component/head/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{paddingTop:o._.r(48),marginTop:o._.ios(80,-80)},content:{paddingTop:o._.r(12),paddingRight:o._.wind,paddingBottom:20,backgroundColor:o._.colorPlain,borderTopLeftRadius:o._.radiusLg,borderTopRightRadius:o._.radiusLg},release:{position:"absolute",zIndex:1,top:o._.r(28),opacity:.6},katakana:{marginTop:-4}}})},"./src/screens/home/subject/component/header-component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.TopEls=t.COMPONENT=t.BottomEls=void 0,s("./src/utils/dev/index.ts")),r=s("./src/screens/home/subject/component/ds.ts"),c=o(s("./src/screens/home/subject/component/anitabi/index.tsx")),i=o(s("./src/screens/home/subject/component/blog/index.tsx")),d=o(s("./src/screens/home/subject/component/box/index.tsx")),a=o(s("./src/screens/home/subject/component/catalog/index.tsx")),u=o(s("./src/screens/home/subject/component/character/index.tsx")),l=o(s("./src/screens/home/subject/component/comic/index.tsx")),m=o(s("./src/screens/home/subject/component/comment/index.tsx")),p=o(s("./src/screens/home/subject/component/ep/index.tsx")),f=o(s("./src/screens/home/subject/component/game/index.tsx")),j=o(s("./src/screens/home/subject/component/info/index.tsx")),h=o(s("./src/screens/home/subject/component/like/index.tsx")),b=o(s("./src/screens/home/subject/component/lock/index.tsx")),_=o(s("./src/screens/home/subject/component/rating/index.tsx")),y=o(s("./src/screens/home/subject/component/recent/index.tsx")),x=o(s("./src/screens/home/subject/component/relations/index.tsx")),g=o(s("./src/screens/home/subject/component/smb/index.tsx")),v=o(s("./src/screens/home/subject/component/staff/index.tsx")),O=o(s("./src/screens/home/subject/component/summary/index.tsx")),T=o(s("./src/screens/home/subject/component/tags/index.tsx")),S=o(s("./src/screens/home/subject/component/thumbs/index.tsx")),E=o(s("./src/screens/home/subject/component/topic/index.tsx")),o=o(s("./src/screens/home/subject/component/track-comment/index.tsx"));t.COMPONENT=(0,n.rc)(r.COMPONENT,"HeaderComponent"),t.TopEls=[b.default,d.default,p.default,g.default,T.default,O.default,S.default,j.default,f.default,_.default,u.default,v.default],t.BottomEls=[c.default,x.default,l.default,a.default,h.default,i.default,E.default,y.default,m.default,o.default]},"./src/screens/home/subject/component/header-component/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=o(s("./src/screens/home/subject/component/bg/index.tsx")),a=o(s("./src/screens/home/subject/component/head/index.tsx")),u=o(s("./src/screens/home/subject/component/loading/index.tsx")),l=s("./src/screens/home/subject/component/header-component/ds.ts"),m=s("./src/screens/home/subject/component/header-component/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.ob)(function(s){var e=(0,m.memoStyles)();return(0,p.jsxs)(p.Fragment,{children:[!i.IOS&&(0,p.jsx)(r.ErrorBoundary,{children:(0,p.jsx)(d.default,{})}),(0,p.jsx)(a.default,{onBlockRef:s.onBlockRef}),(0,p.jsxs)(n.default,{style:e.content,children:[l.TopEls.map(function(e,t){return(0,r.renderWithErrorBoundary)(e,t,s)}),l.BottomEls.map(function(e,t){return(0,r.renderWithErrorBoundary)(e,t,s)}),(0,p.jsx)(u.default,{})]})]})},l.COMPONENT);try{headercomponent.displayName="headercomponent",headercomponent.__docgenInfo={description:"",displayName:"headercomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/header-component/index.tsx#headercomponent"]={docgenInfo:headercomponent.__docgenInfo,name:"headercomponent",path:"src/screens/home/subject/component/header-component/index.tsx#headercomponent"})}catch(e){}},"./src/screens/home/subject/component/header-component/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{content:{backgroundColor:o._.colorPlain},title:{paddingHorizontal:o._.wind,marginTop:o._.lg}}})},"./src/screens/home/subject/component/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_WIDTH=t.IMAGE_HEIGHT=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"HeaderTitle");t.COMPONENT_MAIN=(0,o.rc)(s),t.IMAGE_WIDTH=28,t.IMAGE_HEIGHT=35.84,t.DEFAULT_PROPS={subjectId:0,common:"",rank:"",score:"",type:"",cn:"",jp:"",titleLabel:""}},"./src/screens/home/subject/component/header-title/header-title.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/screens/home/subject/component/header-title/ds.ts"),f=s("./src/screens/home/subject/component/header-title/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.subjectId,s=e.common,o=e.rank,n=e.score,r=e.type,c=e.cn,i=e.jp,e=e.titleLabel;return(0,j.jsxs)(a.Flex,{style:f.styles.container,children:[(0,j.jsx)(a.Cover,{src:s,size:"音乐"===r?p.IMAGE_HEIGHT:p.IMAGE_WIDTH,height:p.IMAGE_HEIGHT,radius:l._.radiusXs,cdn:!(0,m.x18)(t),fadeDuration:0}),(0,j.jsxs)(a.Flex.Item,{style:l._.ml.sm,children:[(0,j.jsx)(d.default,{style:f.styles.title,children:(0,j.jsx)(a.Katakana.Provider,{style:f.styles.itemStyle,size:12,numberOfLines:1,children:(0,j.jsxs)(a.Katakana,{size:12,numberOfLines:1,children:[(0,m.cnjp)(c,i),!!e&&(0,j.jsxs)(a.Text,{size:12,type:"sub",children:[" ","· ",e]})]})})}),n?(0,j.jsxs)(a.Flex,{style:l._.mt.xxs,children:[(0,j.jsx)(u.Rank,{style:l._.mr.xs,value:o,size:9}),(0,j.jsx)(u.Stars,{value:n})]}):(0,j.jsx)(a.Text,{style:l._.mt.xxs,size:10,type:"sub",numberOfLines:1,children:(0,m.cnjp)(i,c)})]})]})},p.DEFAULT_PROPS,p.COMPONENT_MAIN);t.default=s;try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},common:{defaultValue:null,description:"",name:"common",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},cn:{defaultValue:null,description:"",name:"cn",required:!0,type:{name:"string"}},jp:{defaultValue:null,description:"",name:"jp",required:!0,type:{name:"string"}},titleLabel:{defaultValue:null,description:"",name:"titleLabel",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/header-title/header-title.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/subject/component/header-title/header-title.tsx#headertitle"})}catch(e){}},"./src/screens/home/subject/component/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/index.ts")),r=s("./src/utils/decorators/index.ts"),c=o(s("./src/screens/home/subject/component/header-title/header-title.tsx")),o=s("./src/screens/home/subject/component/header-title/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t,e=e.$;return(0,i.jsx)(c.default,{subjectId:e.subjectId,common:(0,n.getCoverMedium)((null==(t=e.subject.images)?void 0:t.common)||e.coverPlaceholder||e.cover),rank:e.subject.rank||(null==(t=e.subjectFromOSS)||null==(t=t.rating)?void 0:t.rank)||"-",score:e.rating.score,type:e.type,cn:e.cn,jp:e.jp,titleLabel:e.titleLabel})},o.COMPONENT);try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenSubject"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/subject/component/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/home/subject/component/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{marginLeft:-s._.sm,marginRight:s._.lg,marginBottom:s._.platforms(-2,0,4,8,4)},title:{marginTop:-2},itemStyle:{marginTop:1}})},"./src/screens/home/subject/component/icon/actions.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/screens/home/subject/component/icon/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.style,e=e.children,o=t.$,n=t.navigation,t=[].concat((0,r.default)(o.actions.map(function(e){return e.name})),[u.ACTIONS_MANAGE]);return(0,l.jsx)(i.Popover,{style:(0,a.stl)(!e&&m.touch,s),data:t,hitSlop:u.HIT_SLOP,onSelect:function(e){return o.onActionsPress(e,n)},children:e||(0,l.jsx)(c.Flex,{style:m.btn,justify:"center",children:(0,l.jsx)(c.Iconfont,{name:"md-read-more",color:d._.colorIcon,size:25})})})});var m=d._.create({touch:{marginRight:4,borderRadius:20,overflow:"hidden"},btn:{width:38,height:38}})},"./src/screens/home/subject/component/icon/blog.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return r.systemStore.setting.showBlog?(0,a.jsx)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"Reviews",from:"日志",subjectId:s.subjectId}),o.push("Reviews",{subjectId:s.subjectId,name:s.cn})},children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"更多"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]})}):null});try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/blog.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/home/subject/component/icon/blog.tsx#blog"})}catch(e){}},"./src/screens/home/subject/component/icon/catalog.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/app/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return(0,a.jsxs)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"SubjectCatalogs",from:"目录",subjectId:s.subjectId}),o.push("SubjectCatalogs",{subjectId:s.subjectId,name:(0,r.cnjp)(s.cn,s.jp)})},children:[(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"更多"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]}),(0,a.jsx)(n.Heatmap,{id:"条目.跳转",from:"目录"})]})});try{catalog.displayName="catalog",catalog.__docgenInfo={description:"",displayName:"catalog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/catalog.tsx#catalog"]={docgenInfo:catalog.__docgenInfo,name:"catalog",path:"src/screens/home/subject/component/icon/catalog.tsx#catalog"})}catch(e){}},"./src/screens/home/subject/component/icon/character.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return r.systemStore.setting.showCharacter?(0,a.jsx)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"Characters",from:"角色",subjectId:s.subjectId}),o.push("Characters",{subjectId:s.subjectId,name:s.cn})},children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"更多"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]})}):null});try{character.displayName="character",character.__docgenInfo={description:"",displayName:"character",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/character.tsx#character"]={docgenInfo:character.__docgenInfo,name:"character",path:"src/screens/home/subject/component/icon/character.tsx#character"})}catch(e){}},"./src/screens/home/subject/component/icon/close.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=o(s("./src/constants/i18n/index.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=t.$;return a.SHARE_MODE?null:(0,l.jsx)(r.IconTouchable,{style:m.touch,name:"md-close",color:c._.colorIcon,hitSlop:{top:6,right:c._.device(2,4),bottom:6,left:c._.device(2,4)},onPress:function(){var e=s.collection.status;"未收藏"===(void 0===e?{name:"未收藏"}:e).name?(0,i.info)("当前未收藏"):s.subjectFormHTML.formhash?(0,i.confirm)("确定删除收藏?",function(){return s.doEraseCollection()}):(0,i.info)("无法操作, 请检查"+u.default.login()+"状态")},children:(0,l.jsx)(n.Heatmap,{id:"条目.删除收藏"})})});var m=c._.create({touch:{marginRight:-c._.sm,marginLeft:3}});try{close.displayName="close",close.__docgenInfo={description:"",displayName:"close",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/close.tsx#close"]={docgenInfo:close.__docgenInfo,name:"close",path:"src/screens/home/subject/component/icon/close.tsx#close"})}catch(e){}},"./src/screens/home/subject/component/icon/comment.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.reverse.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).subjectComments._reverse;return(0,i.jsx)(r.IconReverse,{style:s?[d.touch,d.reverse]:d.touch,color:s?c._.colorMain:c._.colorIcon,onPress:t.toggleReverseComments,children:(0,i.jsx)(n.Heatmap,{id:"条目.吐槽箱倒序"})})});var d=c._.create({touch:{marginRight:-12},reverse:{transform:[{rotateX:"180deg"}]}});try{comment.displayName="comment",comment.__docgenInfo={description:"",displayName:"comment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/comment.tsx#comment"]={docgenInfo:comment.__docgenInfo,name:"comment",path:"src/screens/home/subject/component/icon/comment.tsx#comment"})}catch(e){}},"./src/screens/home/subject/component/icon/disc.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),o=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){return t=t.$,(0,i.jsx)(r.IconTouchable,{style:d.disc,name:"md-g-translate",size:18,onPress:t.doDiscTranslate,children:(0,i.jsx)(n.Heatmap,{id:"条目.翻译曲目"})})});var d=o._.create({disc:{marginLeft:o._.sm,marginRight:-o._.sm}});try{disc.displayName="disc",disc.__docgenInfo={description:"",displayName:"disc",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/disc.tsx#disc"]={docgenInfo:disc.__docgenInfo,name:"disc",path:"src/screens/home/subject/component/icon/disc.tsx#disc"})}catch(e){}},"./src/screens/home/subject/component/icon/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ORIGINS_MANAGE=t.ICS_MANAGE=t.HIT_SLOP=t.ACTIONS_MANAGE=void 0;t.HIT_SLOP={top:8,right:8,bottom:8,left:8},t.ORIGINS_MANAGE="源头管理",t.ACTIONS_MANAGE="跳转管理",t.ICS_MANAGE="导出放送日程ICS"},"./src/screens/home/subject/component/icon/ep-filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t=t.$,(0,d.jsxs)(n.default,{children:[160<=t.eps.length&&(0,d.jsx)(c.Popover,{style:a.touch,data:t.filterEpsData,onSelect:t.updateFilterEps,children:(0,d.jsx)(r.Flex,{style:a.btn,justify:"center",children:(0,d.jsx)(r.Iconfont,{name:"md-filter-list",color:t.state.filterEps?i._.colorMain:i._.colorIcon})})}),(0,d.jsx)(r.Heatmap,{right:-6,bottom:18,id:"条目.设置章节筛选"})]})});var a=i._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{width:38,height:38}});try{epfilter.displayName="epfilter",epfilter.__docgenInfo={description:"",displayName:"epfilter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/ep-filter.tsx#epfilter"]={docgenInfo:epfilter.__docgenInfo,name:"epfilter",path:"src/screens/home/subject/component/icon/ep-filter.tsx#epfilter"})}catch(e){}},"./src/screens/home/subject/component/icon/ep.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return(0,d.jsx)(r.IconTouchable,{style:c._.ml.xs,name:"md-menu",onPress:function(){(0,i.t)("条目.跳转",{to:"Episodes",from:"章节",subjectId:s.subjectId}),o.push("Episodes",{subjectId:s.subjectId,name:s.cn||s.jp,epsThumbs:s.state.epsThumbs,epsThumbsHeader:s.state.epsThumbsHeader,filterEps:s.state.filterEps})},children:(0,d.jsx)(n.Heatmap,{right:13,id:"条目.跳转",from:"章节"})})});try{ep.displayName="ep",ep.__docgenInfo={description:"",displayName:"ep",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/ep.tsx#ep"]={docgenInfo:ep.__docgenInfo,name:"ep",path:"src/screens/home/subject/component/icon/ep.tsx#ep"})}catch(e){}},"./src/screens/home/subject/component/icon/folder.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,t=t.$;return i.SHARE_MODE?null:(s=!!t.catalogIncludes,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.Flex,{style:s&&c._.mr.xs,children:[(0,d.jsx)(r.IconTouchable,{name:"md-folder-open",size:20,color:c._.colorIcon,onPress:t.toggleFolder,children:(0,d.jsx)(n.Heatmap,{id:"条目.管理目录"})}),s&&(0,d.jsx)(n.Text,{style:a.num,size:10,type:"icon",bold:!0,children:t.catalogIncludes})]}),(0,d.jsx)(r.FolderManageModal,{id:t.subjectId,visible:t.state.folder,onClose:t.toggleFolder})]}))});var a=c._.create({num:{position:"absolute",zIndex:1,right:-2,bottom:6}});try{folder.displayName="folder",folder.__docgenInfo={description:"",displayName:"folder",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/folder.tsx#folder"]={docgenInfo:folder.__docgenInfo,name:"folder",path:"src/screens/home/subject/component/icon/folder.tsx#folder"})}catch(e){}},"./src/screens/home/subject/component/icon/game.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),o=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=s("./src/screens/home/subject/component/icon/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.style,e=e.children,o=t.$,n=t.navigation;return o.titleLabel.includes("游戏")?(t=[].concat((0,r.default)(o.onlineGameOrigins.map(function(e){return"object"==typeof e?e.name:e})),[u.ORIGINS_MANAGE]),o.actions.length||a.STORYBOOK||t.push(u.ACTIONS_MANAGE),(0,l.jsx)(i.Popover,{style:(0,d.stl)(!e&&m.touch,s),data:t,hitSlop:u.HIT_SLOP,onSelect:function(e){e===u.ORIGINS_MANAGE?n.push("OriginSetting"):e===u.ACTIONS_MANAGE?n.push("Actions",{subjectId:o.subjectId,name:o.cn||o.jp}):o.onlineGameSelected(e)},children:e||(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Flex,{style:m.btn,justify:"center",children:(0,l.jsx)(c.Iconfont,{name:"md-airplay",size:18})}),(0,l.jsx)(c.Heatmap,{right:55,bottom:-7,id:"条目.搜索源"})]})})):null});var m=o._.create({touch:{marginRight:-o._.sm,borderRadius:20,overflow:"hidden"},btn:{width:38,height:38}})},"./src/screens/home/subject/component/icon/hd.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return s.isLimit||!s.hd?null:(0,c.jsx)(n.IconTouchable,{style:r._.mr._sm,name:"md-hd",onPress:function(){o.push("HD",{cn:s.cn,subjectId:s.hd})}})});try{hd.displayName="hd",hd.__docgenInfo={description:"",displayName:"hd",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/hd.tsx#hd"]={docgenInfo:hd.__docgenInfo,name:"hd",path:"src/screens/home/subject/component/icon/hd.tsx#hd"})}catch(e){}},"./src/screens/home/subject/component/icon/hidden.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/ui/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.name,o=e.value,n=t.$;return s&&o?(0,a.jsx)(c.IconTouchable,{style:u.touch,name:"md-close",color:i._.colorIcon,onPress:function(){(0,d.confirm)("确定永久隐藏栏目["+s+"]?\n隐藏后可到右上角菜单里重置",function(){n.hiddenBlock(o),(0,d.info)("已隐藏")})},children:(0,a.jsx)(r.Heatmap,{id:"条目.删除收藏"})}):null});var u=i._.create({touch:{paddingVertical:0,marginRight:-i._.sm,marginLeft:4}})},"./src/screens/home/subject/component/icon/manga.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/subject/component/icon/styles.ts")),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s;return(t=t.$).isLimit||null==(s=t.source)||!s.mangaId?null:(0,d.jsxs)(n.Touchable,{style:i.default.icon,onPress:t.toManhuadb,children:[(0,d.jsxs)(n.Flex,{children:[(0,d.jsx)(n.Iconfont,{name:"md-visibility"}),(0,d.jsx)(n.Text,{style:r._.ml.xs,size:13,type:"sub",children:"漫画"})]}),(0,d.jsx)(n.Heatmap,{id:"条目.阅读漫画"})]})});try{manga.displayName="manga",manga.__docgenInfo={description:"",displayName:"manga",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/manga.tsx#manga"]={docgenInfo:manga.__docgenInfo,name:"manga",path:"src/screens/home/subject/component/icon/manga.tsx#manga"})}catch(e){}},"./src/screens/home/subject/component/icon/online.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),l=o(s("./src/screens/home/subject/component/icon/actions.tsx")),m=s("./src/screens/home/subject/component/icon/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.style,e=e.children,o=t.$,n=t.navigation,t=[].concat((0,r.default)(o.onlineOrigins),[m.ORIGINS_MANAGE]);return o.actions.length||u.STORYBOOK||t.push(m.ACTIONS_MANAGE),d.systemStore.setting.exportICS&&t.push(m.ICS_MANAGE),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.Popover,{style:(0,a.stl)(!e&&f.touch,s),data:t.map(function(e){return"object"==typeof e?e.name:e}),hitSlop:m.HIT_SLOP,onSelect:function(e){e===m.ORIGINS_MANAGE?n.push("OriginSetting"):e===m.ACTIONS_MANAGE?n.push("Actions",{subjectId:o.subjectId,name:o.cn||o.jp}):e===m.ICS_MANAGE?o.doExportCalenderEventICS():o.onlinePlaySelected(e)},children:e||(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.Flex,{style:f.btn,justify:"center",children:(0,p.jsx)(c.Iconfont,{name:"md-airplay",size:18})}),(0,p.jsx)(c.Heatmap,{right:55,bottom:-7,id:"条目.搜索源"})]})}),!e&&!!o.actions.length&&(0,p.jsx)(l.default,{style:f.actions})]})});var f=d._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{width:38,height:38},actions:{marginRight:4,marginLeft:2}})},"./src/screens/home/subject/component/icon/preview.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=o(s("./src/screens/home/subject/component/icon/styles.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.data,o=e.headers,n=t.$,r=t.navigation;return i.systemStore.setting.showThumbs?(0,u.jsx)(c.Touchable,{style:a.default.touch,onPress:function(){(0,d.t)("条目.跳转",{to:"Preview",from:"预览",subjectId:n.subjectId}),r.push("Preview",{subjectId:n.subjectId,cn:n.cn,jp:n.jp,data:s,headers:o})},children:(0,u.jsxs)(c.Flex,{children:[(0,u.jsx)(c.Text,{type:"sub",children:"更多"}),(0,u.jsx)(c.Iconfont,{name:"md-navigate-next"})]})}):null})},"./src/screens/home/subject/component/icon/ps.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return(t=t.$).isPS?(0,c.jsxs)(n.Touchable,{style:r._.mr._sm,onPress:t.toPSNINE,children:[(0,c.jsxs)(n.Flex,{children:[(0,c.jsx)(n.Text,{style:r._.ml.xs,size:13,type:"sub",children:"奖杯"}),(0,c.jsx)(n.Iconfont,{style:r._.ml.xs,name:"md-open-in-new",size:17})]}),(0,c.jsx)(n.Heatmap,{id:"条目.查看奖杯"})]}):null});try{ps.displayName="ps",ps.__docgenInfo={description:"",displayName:"ps",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/ps.tsx#ps"]={docgenInfo:ps.__docgenInfo,name:"ps",path:"src/screens/home/subject/component/icon/ps.tsx#ps"})}catch(e){}},"./src/screens/home/subject/component/icon/reverse.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.reverse.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.epsReverse;return(0,i.jsx)(r.IconReverse,{style:s?[d.touch,d.reverse]:d.touch,color:s?c._.colorMain:c._.colorIcon,onPress:t.toggleReverseEps,children:(0,i.jsx)(n.Heatmap,{right:-5,id:"条目.章节倒序"})})});var d=c._.create({touch:{marginRight:-c._.sm,marginLeft:4},reverse:{transform:[{rotateX:"180deg"}]}});try{reverse.displayName="reverse",reverse.__docgenInfo={description:"",displayName:"reverse",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/reverse.tsx#reverse"]={docgenInfo:reverse.__docgenInfo,name:"reverse",path:"src/screens/home/subject/component/icon/reverse.tsx#reverse"})}catch(e){}},"./src/screens/home/subject/component/icon/search-disc.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),o=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=s("./src/screens/home/subject/component/icon/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.style,e=e.children,o=t.$,n=t.navigation,t=[].concat((0,r.default)(o.onlineDiscOrigins.map(function(e){return"object"==typeof e?e.name:e})),[u.ORIGINS_MANAGE]);return o.actions.length||a.STORYBOOK||t.push(u.ACTIONS_MANAGE),(0,l.jsx)(i.Popover,{style:(0,d.stl)(!e&&m.touch,s),data:t,hitSlop:u.HIT_SLOP,onSelect:function(e){e===u.ORIGINS_MANAGE?n.push("OriginSetting"):e===u.ACTIONS_MANAGE?n.push("Actions",{subjectId:o.subjectId,name:o.cn||o.jp}):o.onlineDiscSelected(e)},children:e||(0,l.jsx)(c.Flex,{style:m.btn,justify:"center",children:(0,l.jsx)(c.Iconfont,{name:"md-airplay",size:18})})})});var m=o._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{paddingVertical:2,paddingHorizontal:8}})},"./src/screens/home/subject/component/icon/search.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),o=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=s("./src/screens/home/subject/component/icon/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.style,e=e.children,o=t.$,n=t.navigation,t=[].concat((0,r.default)(o.onlineComicOrigins.map(function(e){return"object"==typeof e?e.name:e})),[u.ORIGINS_MANAGE]);return o.actions.length||a.STORYBOOK||t.push(u.ACTIONS_MANAGE),(0,l.jsx)(i.Popover,{style:(0,d.stl)(!e&&m.touch,s),data:t,hitSlop:u.HIT_SLOP,onSelect:function(e){e===u.ORIGINS_MANAGE?n.push("OriginSetting"):e===u.ACTIONS_MANAGE?n.push("Actions",{subjectId:o.subjectId,name:o.cn||o.jp}):o.onlineComicSelected(e)},children:e||(0,l.jsx)(c.Flex,{style:m.btn,justify:"center",children:(0,l.jsx)(c.Iconfont,{name:"md-airplay",size:18})})})});var m=o._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{paddingVertical:2,paddingHorizontal:4}})},"./src/screens/home/subject/component/icon/smb.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=s("./src/constants/index.ts"),a=o(s("./src/screens/home/subject/component/icon/styles.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.navigation;return d.STORYBOOK||!r.systemStore.setting.showSMB?null:(0,u.jsx)(n.Touchable,{style:a.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"SMB",from:"本地"}),s.push("Smb")},children:(0,u.jsxs)(n.Flex,{children:[(0,u.jsx)(n.Text,{type:"sub",children:"管理"}),(0,u.jsx)(n.Iconfont,{name:"md-navigate-next"})]})})});try{smb.displayName="smb",smb.__docgenInfo={description:"",displayName:"smb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/smb.tsx#smb"]={docgenInfo:smb.__docgenInfo,name:"smb",path:"src/screens/home/subject/component/icon/smb.tsx#smb"})}catch(e){}},"./src/screens/home/subject/component/icon/staff.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return r.systemStore.setting.showStaff?(0,a.jsx)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"Persons",from:"制作人员",subjectId:s.subjectId}),o.push("Persons",{subjectId:s.subjectId,name:s.cn})},children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"更多"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]})}):null});try{staff.displayName="staff",staff.__docgenInfo={description:"",displayName:"staff",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/staff.tsx#staff"]={docgenInfo:staff.__docgenInfo,name:"staff",path:"src/screens/home/subject/component/icon/staff.tsx#staff"})}catch(e){}},"./src/screens/home/subject/component/icon/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s=s("./src/stores/index.ts");t.default=s._.create({touch:{paddingLeft:s._.xs,marginRight:-s._.sm,borderRadius:s._.radiusSm,overflow:"hidden"},icon:{padding:s._.sm,marginRight:-s._.sm,marginLeft:s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/subject/component/icon/topic.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return r.systemStore.setting.showTopic?(0,a.jsx)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"Board",from:"帖子",subjectId:s.subjectId}),o.push("Board",{subjectId:s.subjectId,name:s.cn})},children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"更多"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]})}):null});try{topic.displayName="topic",topic.__docgenInfo={description:"",displayName:"topic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/topic.tsx#topic"]={docgenInfo:topic.__docgenInfo,name:"topic",path:"src/screens/home/subject/component/icon/topic.tsx#topic"})}catch(e){}},"./src/screens/home/subject/component/icon/translate.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return e=void 0===(e=e.content)?"":e,t=t.$,!c.systemStore.setting.showSummary||t.state.translateResult.length||e&&(0,i.isChineseParagraph)(e)?null:(0,d.jsx)(r.IconTouchable,{style:c._.mr._sm,name:"md-g-translate",size:18,onPress:t.doTranslate,children:(0,d.jsx)(n.Heatmap,{id:"条目.翻译简介"})})})},"./src/screens/home/subject/component/icon/version.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s;return(t=t.$).subjectComments.version?(s=t.state.filterVersion,(0,c.jsx)(n.Touchable,{style:i.touch,onPress:t.toggleVersion,children:(0,c.jsxs)(n.Text,{type:s?"main":"icon",size:13,bold:!0,children:[s?"当前":"全部","版本"]})})):null});var i=o._.create({touch:{paddingVertical:4,paddingHorizontal:8,marginRight:4},reverse:{transform:[{rotateX:"180deg"}]}});try{version.displayName="version",version.__docgenInfo={description:"",displayName:"version",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/version.tsx#version"]={docgenInfo:version.__docgenInfo,name:"version",path:"src/screens/home/subject/component/icon/version.tsx#version"})}catch(e){}},"./src/screens/home/subject/component/icon/wenku.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/subject/component/icon/styles.ts")),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){return(t=t.$).isLimit||!t.source.wenkuId?null:(0,d.jsxs)(n.Touchable,{style:i.default.icon,onPress:t.toWenku8,children:[(0,d.jsxs)(n.Flex,{children:[(0,d.jsx)(n.Iconfont,{name:"md-visibility"}),(0,d.jsx)(n.Text,{style:r._.ml.xs,size:13,type:"sub",children:"小说"})]}),(0,d.jsx)(n.Heatmap,{id:"条目.阅读轻小说"})]})});try{wenku.displayName="wenku",wenku.__docgenInfo={description:"",displayName:"wenku",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/wenku.tsx#wenku"]={docgenInfo:wenku.__docgenInfo,name:"wenku",path:"src/screens/home/subject/component/icon/wenku.tsx#wenku"})}catch(e){}},"./src/screens/home/subject/component/icon/wiki.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=o(s("./src/screens/home/subject/component/icon/styles.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$,o=t.navigation;return r.systemStore.setting.showInfo?(0,a.jsx)(n.Touchable,{style:d.default.touch,onPress:function(){(0,i.t)("条目.跳转",{to:"SubjectWiki",from:"详情",subjectId:s.subjectId}),o.push("SubjectWiki",{subjectId:s.subjectId,name:s.cn})},children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"修订"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]})}):null});try{wiki.displayName="wiki",wiki.__docgenInfo={description:"",displayName:"wiki",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/icon/wiki.tsx#wiki"]={docgenInfo:wiki.__docgenInfo,name:"wiki",path:"src/screens/home/subject/component/icon/wiki.tsx#wiki"})}catch(e){}},"./src/screens/home/subject/component/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Info");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},subjectId:0,showInfo:!0,info:"",onSwitchBlock:function(){}}},"./src/screens/home/subject/component/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/info/info.tsx")),o=s("./src/screens/home/subject/component/info/ds.ts"),a=s("./src/screens/home/subject/component/info/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showInfo[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_INFO)}}),(0,u.jsx)(d.default,{navigation:t,styles:(0,a.memoStyles)(),subjectId:e.subjectId,showInfo:r.systemStore.setting.showInfo,info:e.info,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/info/info.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.slice.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),m=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),b=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),_=o(s("./src/screens/home/subject/component/icon/wiki.tsx")),o=s("./src/screens/home/subject/component/info/ds.ts"),y=s("./node_modules/react/jsx-runtime.js");function c(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(c=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,o=e.subjectId,n=e.showInfo,r=e.info,c=e.onSwitchBlock,e=(0,l.useState)(!1),e=(0,u.default)(e,2),i=e[0],d=e[1],e=(0,l.useCallback)(function(){d(!0)},[d]),a=r;try{a=i?decodeURIComponent(a):decodeURIComponent(a).slice(0,440)}catch(e){console.error("home/subject/info.js","Info",e)}return(0,y.jsxs)(m.default,{style:n?s.container:s.hide,children:[(0,y.jsx)(f.SectionTitle,{style:j._.container.wind,right:n?(0,y.jsx)(_.default,{}):(0,y.jsx)(b.default,{name:"详情",value:"showInfo"}),icon:!n&&"md-navigate-next",onPress:function(){return c("showInfo")},children:"详情"}),n&&(0,y.jsxs)(m.default,{children:[!!r&&(0,y.jsx)(p.Expand,{ratio:.88,checkLayout:!1,onExpand:e,children:(0,y.jsx)(p.RenderHtml,{style:s.info,html:a,onLinkPress:function(e){return(0,h.appNavigate)(e,t,{},{id:"条目.跳转",data:{from:"详情",subjectId:o}})}})}),(0,y.jsx)(p.Heatmap,{id:"条目.跳转",from:"详情"})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; marginTop: number; }; hide: { marginTop: number; marginBottom: number; }; info: { paddingVertical: number; paddingHorizontal: number; }; }"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},showInfo:{defaultValue:null,description:"",name:"showInfo",required:!0,type:{name:"LayoutValue"}},info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"string"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/info/info.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/home/subject/component/info/info.tsx#info"})}catch(e){}},"./src/screens/home/subject/component/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:210,marginTop:o._.lg},hide:{marginTop:o._.lg,marginBottom:-o._.sm},info:{paddingVertical:o._.sm,paddingHorizontal:o._.wind}}})},"./src/screens/home/subject/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.POPOVER_DATA=t.ITEM_HEIGHT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),n=s("./src/screens/home/subject/component/ds.ts"),s=s("./src/screens/home/subject/store/ds.ts");t.COMPONENT=(0,o.rc)(n.COMPONENT,"Item"),t.POPOVER_DATA={"动画":[s.TEXT_LIKES,s.TEXT_COPY_COMMENT,"特别关注TA的动画评论",s.TEXT_IGNORE_USER],"书籍":[s.TEXT_LIKES,s.TEXT_COPY_COMMENT,"特别关注TA的书籍评论",s.TEXT_IGNORE_USER],"游戏":[s.TEXT_LIKES,s.TEXT_COPY_COMMENT,"特别关注TA的游戏评论",s.TEXT_IGNORE_USER],"音乐":[s.TEXT_LIKES,s.TEXT_COPY_COMMENT,"特别关注TA的音乐评论",s.TEXT_IGNORE_USER],"三次元":[s.TEXT_LIKES,s.TEXT_COPY_COMMENT,"特别关注TA的三次元评论",s.TEXT_IGNORE_USER]},t.ITEM_HEIGHT=100},"./src/screens/home/subject/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),b=s("./src/screens/home/subject/component/item/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,o=e.index,n=e.time,r=e.avatar,c=e.userId,i=e.userName,d=e.star,a=e.comment,u=e.relatedId,l=e.action,m=e.mainId,e=e.mainName,p=t.$,t=t.navigation;return!p.state.rendered||(0,h.getIsBlockedUser)(j.rakuenStore.blockUserIds,i,c,"Subject|"+p.subjectId)?null:(s={id:"条目.跳转",data:{from:"吐槽",subjectId:p.subjectId}},(0,_.jsx)(f.InView,{y:j._.window.height+o*b.ITEM_HEIGHT,children:(0,_.jsx)(f.ItemComment,{navigation:t,event:s,time:n,avatar:r,userId:c,userName:i,star:p.hideScore?void 0:d,comment:a,subjectId:p.subjectId,relatedId:u,action:l,mainId:m,mainName:e,popoverData:b.POPOVER_DATA[p.type],onSelect:p.onTrackUsersCollection})},c))},b.COMPONENT)},"./src/screens/home/subject/component/like/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Like");t.COMPONENT_MAIN=(0,o.rc)(s),t.COVER_WIDTH=80,t.COVER_HEIGHT=112,t.DEFAULT_PROPS={navigation:{},showLike:!0,subjectId:0,like:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/like/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/like/like.tsx")),o=s("./src/screens/home/subject/component/like/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showLike[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_LIKE)}}),(0,a.jsx)(d.default,{navigation:t,showLike:r.systemStore.setting.showLike,subjectId:e.subjectId,like:e.like,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/like/like.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/components/cover/utils.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),m=s("./src/screens/home/subject/ds.ts"),p=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),f=s("./src/screens/home/subject/component/like/ds.ts"),j=s("./src/screens/home/subject/component/like/styles.ts"),h=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var n=e.navigation,t=e.showLike,r=e.subjectId,s=e.like,o=e.onSwitchBlock;return(0,h.jsxs)(d.InView,{style:(0,u.stl)(j.styles.container,!t&&a._.short),children:[(0,h.jsx)(d.SectionTitle,{style:a._.container.wind,right:!t&&(0,h.jsx)(p.default,{name:m.TITLE_LIKE,value:"showLike"}),icon:!t&&"md-navigate-next",onPress:function(){return o("showLike")},children:m.TITLE_LIKE}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.HorizontalList,{style:a._.mt.sm,data:s,width:f.COVER_WIDTH,height:f.COVER_HEIGHT,initialRenderNums:a._.device(Math.floor(a._.window.contentWidth/f.COVER_WIDTH)+1,6),onPress:function(e,t){var s=e.id,o=e.name,e=e.image;(0,l.t)("条目.跳转",{to:"Subject",from:m.TITLE_LIKE,subjectId:r}),n.push("Subject",{subjectId:s,_jp:o,_image:(0,i.getCoverSrc)(e,f.COVER_WIDTH),_type:t})}}),(0,h.jsx)(c.Heatmap,{id:"条目.跳转",from:m.TITLE_LIKE})]})]})},f.DEFAULT_PROPS,f.COMPONENT_MAIN);t.default=o;try{like.displayName="like",like.__docgenInfo={description:"",displayName:"like",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},showLike:{defaultValue:null,description:"",name:"showLike",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},like:{defaultValue:null,description:"",name:"like",required:!0,type:{name:"DeepPartial<{ id: SubjectId; name: string; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; }>[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/like/like.tsx#like"]={docgenInfo:like.__docgenInfo,name:"like",path:"src/screens/home/subject/component/like/like.tsx#like"})}catch(e){}},"./src/screens/home/subject/component/like/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:174,marginTop:s._.lg}})},"./src/screens/home/subject/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_CONTROL_PROPS=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"List"),t.REFRESH_CONTROL_PROPS={tintColor:o._.__colorPlain__,titleColor:o._.__colorPlain__}},"./src/screens/home/subject/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),d=o(s("./src/screens/home/subject/component/header-component/index.tsx")),a=s("./src/screens/home/subject/component/list/utils.tsx"),u=s("./src/screens/home/subject/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=e.forwardRef,o=e.onScrollIntoViewIfNeeded,e=e.onBlockRef,t=t.$;return(0,l.jsx)(n.ListView,{ref:s,style:r._.container.flex,contentContainerStyle:r._.container.bottom,keyExtractor:c.keyExtractor,data:t.subjectComments,scrollEventThrottle:4,scrollToTop:!0,keyboardDismissMode:"on-drag",footerEmptyDataComponent:t.footerEmptyDataComponent,refreshControlProps:u.REFRESH_CONTROL_PROPS,ListHeaderComponent:(0,l.jsx)(d.default,{onScrollIntoViewIfNeeded:o,onBlockRef:e}),renderItem:a.renderItem,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchSubjectComments})},u.COMPONENT)},"./src/screens/home/subject/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=c,o(s("./node_modules/react/index.js")),o(s("./src/screens/home/subject/component/item/index.tsx"))),r=s("./node_modules/react/jsx-runtime.js");function c(e){var t=e.item,e=e.index;return(0,r.jsx)(n.default,Object.assign({},t,{index:e}))}try{c.displayName="renderItem",c.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"{ floor: string; avatar: string; star: string | number; message: string; userId: UserId; id: Id; time: string; relatedId: string | number; userName: string; replySub: string; userSign: string; ... 4 more ...; sub: SubjectCommentsAttrs[]; }"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/list/utils.tsx#renderItem"]={docgenInfo:c.__docgenInfo,name:"renderItem",path:"src/screens/home/subject/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/subject/component/loading/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Loading")},"./src/screens/home/subject/component/loading/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/subject/component/loading/ds.ts"),c=s("./src/screens/home/subject/component/loading/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t.$.subjectComments._loaded?null:(0,i.jsx)(n.Flex,{style:c.styles.loading,justify:"center",children:(0,i.jsx)(n.Loading,{})})},r.COMPONENT);try{loading.displayName="loading",loading.__docgenInfo={description:"",displayName:"loading",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/loading/index.tsx#loading"]={docgenInfo:loading.__docgenInfo,name:"loading",path:"src/screens/home/subject/component/loading/index.tsx#loading"})}catch(e){}},"./src/screens/home/subject/component/loading/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({loading:{height:240}})},"./src/screens/home/subject/component/lock/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/subject/component/lock/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t.$.lock?(t=(0,c.memoStyles)(),(0,i.jsxs)(n.Flex,{style:t.container,children:[(0,i.jsx)(n.Mesume,{index:2,size:72}),(0,i.jsxs)(n.Flex.Item,{children:[(0,i.jsx)(n.Text,{type:"main",size:16,bold:!0,children:"条目已锁定"}),(0,i.jsx)(n.Text,{style:r._.mt.sm,type:"sub",children:"不符合收录原则，条目及相关收藏、讨论、关联等内容将会随时被移除"})]})]})):null});try{lock.displayName="lock",lock.__docgenInfo={description:"",displayName:"lock",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/lock/index.tsx#lock"]={docgenInfo:lock.__docgenInfo,name:"lock",path:"src/screens/home/subject/component/lock/index.tsx#lock"})}catch(e){}},"./src/screens/home/subject/component/lock/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{paddingVertical:o._.md,paddingRight:o._.wind,paddingLeft:o._.xs,margin:o._.wind,borderWidth:1,borderColor:o._.colorMain,borderRadius:o._.radiusSm}}})},"./src/screens/home/subject/component/modal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Modal");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={visible:!1,disabled:!1,subjectId:0,name:"",nameCn:"",action:"看",onSubmit:function(){},onClose:function(){}}},"./src/screens/home/subject/component/modal/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/subject/component/modal/modal.tsx")),o=s("./src/screens/home/subject/component/modal/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){return(t=t.$).isLogin?(0,c.jsx)(r.default,{visible:t.state.visible,disabled:t.state.disabled,subjectId:t.params.subjectId,name:t.subject.name,nameCn:t.subject.name_cn,action:t.action,onSubmit:t.doUpdateCollection,onClose:t.closeManageModal}):null},o.COMPONENT);try{modal.displayName="modal",modal.__docgenInfo={description:"",displayName:"modal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/modal/index.tsx#modal"]={docgenInfo:modal.__docgenInfo,name:"modal",path:"src/screens/home/subject/component/modal/index.tsx#modal"})}catch(e){}},"./src/screens/home/subject/component/modal/modal.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/subject/component/modal/ds.ts"),a=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.visible,s=e.disabled,o=e.subjectId,n=e.name,r=e.nameCn,c=e.action,i=e.onSubmit,e=e.onClose;return(0,a.jsx)(d.ManageModal,{visible:t,disabled:s,subjectId:o,title:r||n,desc:n,action:c,onSubmit:i,onClose:e})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);t.default=s;try{modal.displayName="modal",modal.__docgenInfo={description:"",displayName:"modal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"string"}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"enum",value:[{value:'"听"'},{value:'"看"'},{value:'"玩"'},{value:'"读"'}]}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:'(values: { subjectId: SubjectId; status?: "" | "dropped" | "wishes" | "collections" | "doings" | "on_hold"; tags?: string; comment?: string; rating?: string | number; privacy?: any; noConsole?: boolean; }) => Promise<...>'}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/modal/modal.tsx#modal"]={docgenInfo:modal.__docgenInfo,name:"modal",path:"src/screens/home/subject/component/modal/modal.tsx#modal"})}catch(e){}},"./src/screens/home/subject/component/rate-segment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SCORES_DS=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"RateSegement"),t.SCORES_DS=["全部","9-10","7-8","4-6","1-3"]},"./src/screens/home/subject/component/rate-segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/component/rate-segment/ds.ts"),d=s("./src/screens/home/subject/component/rate-segment/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.filterScores;return(0,a.jsx)(r.Popover,{style:d.styles.touch,data:i.SCORES_DS,onSelect:t.filterScores,children:(0,a.jsxs)(n.Flex,{style:d.styles.btn,justify:"center",children:[(0,a.jsx)(n.Iconfont,{name:"md-menu",size:22,color:s.length?c._.colorMain:c._.colorIcon}),!!s.length&&(0,a.jsx)(n.Text,{style:c._.ml.xs,type:"main",size:13,bold:!0,children:s.join("-")})]})})},i.COMPONENT);try{ratesegment.displayName="ratesegment",ratesegment.__docgenInfo={description:"",displayName:"ratesegment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/rate-segment/index.tsx#ratesegment"]={docgenInfo:ratesegment.__docgenInfo,name:"ratesegment",path:"src/screens/home/subject/component/rate-segment/index.tsx#ratesegment"})}catch(e){}},"./src/screens/home/subject/component/rate-segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{minWidth:38,height:38,marginRight:3,paddingHorizontal:4}})},"./src/screens/home/subject/component/rating/chart/chart.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),f=s("./src/screens/home/subject/component/rating/chart/utils.ts"),j=s("./src/screens/home/subject/component/rating/chart/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.navigation,n=e.styles,s=e.friend,r=e.rating,c=e.total,o=e.count,i=e.score,d=e.toRating,e=(0,f.getDeviation)(c,o,i),a=Object.keys(o).length?o:j.DEFAULT_RATES;return(0,h.jsxs)(h.Fragment,{children:[!!c&&(0,h.jsxs)(l.Text,{style:n.total,size:12,type:"sub",children:[c," votes"]}),(0,h.jsx)(l.Flex,{style:n.chart,children:Object.keys(a).reverse().map(function(e,t){var s=(0,f.getHeight)(c,a[e]),o=r==e;return(0,h.jsxs)(l.Flex.Item,{style:0<t&&m._.ml.xs,children:[(0,h.jsxs)(l.Flex,{style:n.item,justify:"center",align:"end",children:[(0,h.jsx)(u.default,{style:(0,p.stl)(n.itemFill,o&&n.itemFillActive,{height:s})}),(0,h.jsxs)(l.Text,{style:[n.count,{bottom:s}],size:10,type:o?"warning":"sub",align:"center",bold:!0,children:[a[e]," "]})]}),(0,h.jsx)(l.Text,{style:m._.mt.sm,size:12,type:o?"warning":"title",align:"center",children:e})]},e)})}),(0,h.jsxs)(l.Flex,{style:m._.mt.md,children:[(0,h.jsx)(l.Flex.Item,{children:(0,h.jsxs)(l.Touchable,{style:n.friend,onPress:function(){return d(t,"评分分布")},children:[(0,h.jsxs)(l.Flex,{children:[s.score?(0,h.jsxs)(l.Text,{size:12,type:"sub",children:["好友",(0,h.jsxs)(l.Text,{size:12,type:"main",children:[" ",s.score," "]}),(0,h.jsxs)(l.Text,{size:12,lineHeight:12,type:"sub",children:["(",s.total,")"]})]}):(0,h.jsx)(l.Text,{size:12,lineHeight:12,type:"sub",children:"用户评分"}),(0,h.jsx)(l.Iconfont,{name:"md-navigate-next"})]}),(0,h.jsx)(l.Heatmap,{id:"条目.跳转",from:"评分分布"})]})}),(0,h.jsx)(l.Touchable,{style:n.deviation,onPress:function(){t.push("Information",{title:"标准差",message:["0-1 异口同声","1.15 基本一致","1.3 略有分歧","1.45 莫衷一是","1.6 各执一词","1.75 你死我活"]})},children:(0,h.jsxs)(l.Flex,{children:[(0,h.jsx)(l.Text,{size:12,type:"sub",children:"标准差"}),(0,h.jsxs)(l.Text,{size:12,type:"main",children:[" ",(0,p.toFixed)(e,2)," "]}),(0,h.jsxs)(l.Text,{size:12,lineHeight:12,type:"sub",children:[(0,f.getDispute)(e)," "]}),(0,h.jsx)(l.Iconfont,{style:m._.ml.xs,name:"md-info-outline",size:16})]})})]})]})},j.DEFAULT_PROPS,j.COMPONENT_MAIN);t.default=s;try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ total: { position: "absolute"; zIndex: number; top: number; right: number; }; chart: { minHeight: number; marginTop: number; marginHorizontal: number; }; item: { height: number; paddingBottom: number; marginTop: number; }; ... 4 more ...; deviation: { ...; }; }'}},friend:{defaultValue:null,description:"",name:"friend",required:!0,type:{name:"DeepPartial<{ score: string; total: string; }>"}},rating:{defaultValue:null,description:"",name:"rating",required:!0,type:{name:"number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"string | number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"{ 1: number; 2: number; 3: number; 4: number; 5: number; 6: number; 7: number; 8: number; 9: number; 10: number; } | DeepPartial<Record<2 | 1 | 6 | 4 | 10 | 8 | 3 | 5 | 7 | 9, number>>"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},toRating:{defaultValue:null,description:"",name:"toRating",required:!0,type:{name:'(navigation: Navigation, from?: string, status?: "" | "dropped" | "wishes" | "collections" | "doings" | "on_hold") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/rating/chart/chart.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/home/subject/component/rating/chart/chart.tsx#chart"})}catch(e){}},"./src/screens/home/subject/component/rating/chart/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RATES=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/rating/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Chart");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},friend:{},rating:0,total:0,count:{},score:0,toRating:function(){}},t.DEFAULT_RATES={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0}},"./src/screens/home/subject/component/rating/chart/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),c=o(s("./src/screens/home/subject/component/rating/chart/chart.tsx")),o=s("./src/screens/home/subject/component/rating/chart/ds.ts"),i=s("./src/screens/home/subject/component/rating/chart/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$,t=t.navigation,o=(r=s.rating).total,n=r.count,r=r.score;return(0,d.jsx)(c.default,{navigation:t,styles:(0,i.memoStyles)(),friend:s.subjectFormHTML.friend,rating:s.collection.rating,total:o,count:n,score:r,toRating:s.toRating})},o.COMPONENT);try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/rating/chart/index.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/home/subject/component/rating/chart/index.tsx#chart"})}catch(e){}},"./src/screens/home/subject/component/rating/chart/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{total:{position:"absolute",zIndex:1,top:10,right:0},chart:{minHeight:144,marginTop:o._.md,marginHorizontal:-4},item:{height:144,paddingBottom:o._.xs,marginTop:-o._.md},itemFill:{position:"absolute",left:"50%",width:o._.device(6,8),marginLeft:o._.device(-3,-4),backgroundColor:o._.select(o._.colorWait,o._._colorSub),borderRadius:o._.device(6,4)},itemFillActive:{backgroundColor:o._.colorWarning},count:{position:"absolute",zIndex:1,right:0,left:0,marginBottom:4},friend:{paddingLeft:o._.xs,marginLeft:-o._.xs,borderRadius:o._.radiusSm,overflow:"hidden"},deviation:{paddingLeft:o._.xs,marginRight:-o._.xs,borderRadius:o._.radiusSm,overflow:"hidden"}}})},"./src/screens/home/subject/component/rating/chart/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviation=function(e,t,s){var o,n;return 0==e?0:(t=Object.values(t).reverse(),o=s,s=e,n=0,t.forEach(function(e,t){0!==e&&(n+=(10-t-Number(o))*(10-t-Number(o))*e)}),Math.sqrt(n/Number(s)))},t.getDispute=function(e){return 0===e?"-":e<1?"异口同声":e<1.15?"基本一致":e<1.3?"略有分歧":e<1.45?"莫衷一是":e<1.6?"各执一词":e<1.75?"你死我活":"厨黑大战"},t.getHeight=function(e,t){if(!e||!t)return 0;t/=Number(e);0<t&&t<o&&(t=o);return 100*Math.min(1.44*t||o,.9)+"%"};var o=.04},"./src/screens/home/subject/component/rating/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Rating");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},hideScore:!1,showRating:!0}},"./src/screens/home/subject/component/rating/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/rating/rating.tsx")),o=s("./src/screens/home/subject/component/rating/ds.ts"),a=s("./src/screens/home/subject/component/rating/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef;return t.$.showRating[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_RATING)}}),(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),showRating:r.systemStore.setting.showRating,hideScore:r.systemStore.setting.hideScore})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/rating/rating.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=j(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),i=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),d=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/screens/home/subject/ds.ts"),u=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),l=o(s("./src/screens/home/subject/component/rating/chart/index.tsx")),m=o(s("./src/screens/home/subject/component/rating/title/index.tsx")),p=o(s("./src/screens/home/subject/component/rating/vib/index.tsx")),o=s("./src/screens/home/subject/component/rating/ds.ts"),f=s("./node_modules/react/jsx-runtime.js");function j(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(j=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var t=e.styles,s=e.hideScore,e=e.showRating,s=(0,c.useState)(!s),s=(0,r.default)(s,2),o=s[0],n=s[1];return(0,f.jsxs)(i.default,{style:e?t.container:t.hide,children:[(0,f.jsxs)(d.Flex,{children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsx)(m.default,{showScore:o})}),!e&&(0,f.jsx)(u.default,{name:a.TITLE_RATING,value:"showRating"})]}),e&&(0,f.jsx)(i.default,{style:t.rate,children:o?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.default,{}),(0,f.jsx)(p.default,{})]}):(0,f.jsx)(d.Touchable,{onPress:function(){return n(!0)},children:(0,f.jsx)(d.Flex,{style:t.hideScore,justify:"center",children:(0,f.jsx)(d.Text,{children:"评分已隐藏, 点击显示"})})})})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{rating.displayName="rating",rating.__docgenInfo={description:"",displayName:"rating",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingHorizontal: number; marginTop: number; }; rate: { marginTop: number; }; hide: { paddingHorizontal: number; marginTop: number; marginBottom: number; }; hideScore: { ...; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},showRating:{defaultValue:null,description:"",name:"showRating",required:!0,type:{name:"LayoutValue"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/rating/rating.tsx#rating"]={docgenInfo:rating.__docgenInfo,name:"rating",path:"src/screens/home/subject/component/rating/rating.tsx#rating"})}catch(e){}},"./src/screens/home/subject/component/rating/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:200,paddingHorizontal:o._.wind,marginTop:o._.lg},rate:{marginTop:-32},hide:{paddingHorizontal:o._.wind,marginTop:o._.lg,marginBottom:-o._.sm},hideScore:{height:o._.r(144)}}})},"./src/screens/home/subject/component/rating/title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/rating/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Title")},"./src/screens/home/subject/component/rating/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=s("./src/screens/home/subject/component/rating/title/ds.ts"),a=s("./src/screens/home/subject/component/rating/title/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,e=e.showScore,o=t.$,t=(t.navigation,c.systemStore.setting.showRating);return(0,u.jsxs)(r.SectionTitle,{left:t&&(0,u.jsx)(r.Rank,{style:a.styles.rank,value:o.subject.rank||(null==(s=o.subjectFromOSS)||null==(s=s.rating)?void 0:s.rank)||"-",size:13}),icon:!t&&"md-navigate-next",onPress:function(){return o.onSwitchBlock("showRating")},children:[i.TITLE_RATING," ",e&&(0,u.jsx)(n.Text,{type:"warning",size:18,lineHeight:18,bold:!0,children:o.rating.score})]})},d.COMPONENT)},"./src/screens/home/subject/component/rating/title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({netabare:{borderRadius:s._.radiusSm,overflow:"hidden"},rate:{paddingLeft:s._.sm,marginRight:-s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"},rank:{minWidth:s._.r(44),marginLeft:s._.xs}})},"./src/screens/home/subject/component/rating/vib/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/rating/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"VIB")},"./src/screens/home/subject/component/rating/vib/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),n=s("./src/screens/home/subject/component/rating/vib/ds.ts"),u=s("./src/screens/home/subject/component/rating/vib/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation,t=(0,u.memoStyles)(),n=["VIB"];return s.vib.anidb&&n.push("AniDB"),s.vib.mal&&n.push("MAL"),"动画"===s.type&&n.push("netaba.re"),(0,l.jsx)(r.default,{style:t.vib,children:(0,l.jsx)(i.Popover,{data:n,onSelect:function(e){"VIB"===e?((0,a.t)("条目.跳转",{to:"Stats",from:"评分分布",subjectId:s.subjectId}),o.push("WebBrowser",{title:(0,d.cnjp)(s.cn,s.jp)+"的透视",url:"https://bgm.tv/subject/"+s.subjectId+"/stats"})):"netaba.re"===e?((0,a.t)("条目.跳转",{to:"Netabare",from:"评分分布",subjectId:s.subjectId}),o.push("WebBrowser",{title:(0,d.cnjp)(s.cn,s.jp)+"的趋势",url:"https://netaba.re/subject/"+s.subjectId})):"AniDB"===e?(0,d.open)("https://anidb.net/anime/?adb.search="+(s.jp||s.cn).replace(/～|、|・/g," ")+"&do.search=1"):"MAL"===e&&(0,d.open)("https://myanimelist.net/anime.php?q="+(s.jp||s.cn))},children:(0,l.jsxs)(c.Flex,{style:t.container,direction:"column",align:"end",children:[s.vib.avg?(0,l.jsxs)(c.Text,{type:"sub",size:10,lineHeight:11,children:["VIB: ",Number(s.vib.avg).toFixed(1)," (",s.vib.total,")"]}):(0,l.jsx)(c.Text,{type:"sub",size:10,lineHeight:11,children:"VIB: N/A"}),!!s.vib.anidb&&(0,l.jsxs)(c.Text,{type:"sub",size:10,lineHeight:11,children:["AniDB: ",Number(s.vib.anidb).toFixed(1)," (",s.vib.anidbTotal,")"]}),!!s.vib.mal&&(0,l.jsxs)(c.Text,{type:"sub",size:10,lineHeight:11,children:["MAL: ",Number(s.vib.mal).toFixed(1)," (",s.vib.malTotal,")"]})]})})})},n.COMPONENT);try{vib.displayName="vib",vib.__docgenInfo={description:"",displayName:"vib",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/rating/vib/index.tsx#vib"]={docgenInfo:vib.__docgenInfo,name:"vib",path:"src/screens/home/subject/component/rating/vib/index.tsx#vib"})}catch(e){}},"./src/screens/home/subject/component/rating/vib/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{vib:{position:"absolute",zIndex:1,top:34,right:-4},container:{paddingTop:4,paddingHorizontal:8,paddingBottom:6,backgroundColor:o._.select(o._.colorBg,o._.colorDarkModeLevel1),borderRadius:o._.radiusXs,overflow:"hidden"}}})},"./src/screens/home/subject/component/recent/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Recent");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},subjectId:0,showRecent:!0,who:[],hideScore:!1,onSwitchBlock:function(){}}},"./src/screens/home/subject/component/recent/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/recent/recent.tsx")),o=s("./src/screens/home/subject/component/recent/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showRecent[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_RECENT)}}),(0,a.jsx)(d.default,{navigation:t,showRecent:r.systemStore.setting.showRecent,subjectId:e.subjectId,who:e.filterRecent,hideScore:e.hideScore,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/recent/recent.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),d=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),a=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/home/subject/ds.ts"),j=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),o=s("./src/screens/home/subject/component/recent/ds.ts"),h=s("./src/screens/home/subject/component/recent/styles.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.navigation,s=e.subjectId,o=e.showRecent,n=e.who,r=e.hideScore,c=e.onSwitchBlock,e=(0,m.useHorizontalLazy)(n),n=e.list,e=e.onScroll;return(0,b.jsxs)(u.InView,{style:o?h.styles.container:h.styles.hide,children:[(0,b.jsx)(u.SectionTitle,{style:l._.container.wind,right:!o&&(0,b.jsx)(j.default,{name:f.TITLE_RECENT,value:"showRecent"}),icon:!o&&"md-navigate-next",onPress:function(){return c("showRecent")},children:f.TITLE_RECENT}),o&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.default,Object.assign({style:l._.mt.md,contentContainerStyle:l._.container.wind,horizontal:!0},p.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:4,onScroll:e,children:n.map(function(e){return(0,b.jsxs)(a.Flex,{style:h.styles.item,children:[(0,b.jsx)(a.UserStatus,{userId:e.userId,children:(0,b.jsx)(u.Avatar,{navigation:t,userId:e.userId,name:e.name,src:e.avatar,event:{id:"条目.跳转",data:{from:"用户动态",subjectId:s}}})}),(0,b.jsxs)(d.default,{style:l._.ml.sm,children:[(0,b.jsxs)(a.Flex,{children:[(0,b.jsx)(a.Text,{size:13,bold:!0,children:e.name}),!r&&(0,b.jsx)(u.Stars,{style:l._.ml.xs,value:e.star,simple:!0})]}),(0,b.jsx)(a.Text,{style:l._.mt.xs,size:10,type:"sub",children:e.status})]})]},e.userId)})})),(0,b.jsx)(a.Heatmap,{id:"条目.跳转",from:"用户动态"})]}),(0,b.jsx)(u.PreventTouchPlaceholder,{})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{recent.displayName="recent",recent.__docgenInfo={description:"",displayName:"recent",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},showRecent:{defaultValue:null,description:"",name:"showRecent",required:!0,type:{name:"LayoutValue"}},who:{defaultValue:null,description:"",name:"who",required:!0,type:{name:'DeepPartial<{ avatar: Avatar<"l">; name: string; userId: UserId; star: string; status: string; }>[]'}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/recent/recent.tsx#recent"]={docgenInfo:recent.__docgenInfo,name:"recent",path:"src/screens/home/subject/component/recent/recent.tsx#recent"})}catch(e){}},"./src/screens/home/subject/component/recent/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:84,marginTop:s._.lg,marginBottom:s._.sm},hide:{marginTop:s._.lg,marginBottom:-s._.sm},item:{paddingRight:s._.sm,paddingBottom:s._.xs,marginRight:s._.sm}})},"./src/screens/home/subject/component/relations/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Relations");t.COMPONENT_MAIN=(0,o.rc)(s),t.COVER_WIDTH=80,t.COVER_HEIGHT=112,t.DEFAULT_PROPS={navigation:{},showRelations:!0,subjectId:0,relations:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/relations/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/relations/relations.tsx")),o=s("./src/screens/home/subject/component/relations/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showRelations[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_RELATIONS)}}),(0,a.jsx)(d.default,{navigation:t,showRelations:r.systemStore.setting.showRelations,subjectId:e.subjectId,relations:e.relations,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/relations/relations.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/components/cover/utils.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),l=s("./src/screens/home/subject/ds.ts"),m=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),p=s("./src/screens/home/subject/component/relations/ds.ts"),f=s("./src/screens/home/subject/component/relations/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var n=e.navigation,t=e.showRelations,r=e.subjectId,s=e.relations,o=e.onSwitchBlock;return(0,j.jsxs)(d.InView,{style:t?f.styles.container:f.styles.hide,children:[(0,j.jsx)(d.SectionTitle,{style:a._.container.wind,right:!t&&(0,j.jsx)(m.default,{name:l.TITLE_RELATIONS,value:"showRelations"}),icon:!t&&"md-navigate-next",onPress:function(){return o("showRelations")},children:l.TITLE_RELATIONS}),t&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.HorizontalList,{style:a._.mt.sm,data:s,width:p.COVER_WIDTH,height:p.COVER_HEIGHT,findCn:!0,initialRenderNums:a._.device(Math.floor(a._.window.contentWidth/p.COVER_WIDTH)+1,6),onPress:function(e,t){var s=e.id,o=e.name,e=e.image;(0,u.t)("条目.跳转",{to:"Subject",from:"关联条目",subjectId:r}),n.push("Subject",{subjectId:s,_jp:o,_image:(0,i.getCoverSrc)(e,p.COVER_WIDTH),_type:t})}}),(0,j.jsx)(c.Heatmap,{id:"条目.跳转",from:"关联条目"})]})]})},p.DEFAULT_PROPS,p.COMPONENT_MAIN);t.default=o;try{relations.displayName="relations",relations.__docgenInfo={description:"",displayName:"relations",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},showRelations:{defaultValue:null,description:"",name:"showRelations",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},relations:{defaultValue:null,description:"",name:"relations",required:!0,type:{name:"{ id: any; image: any; name: any; desc: any; }[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/relations/relations.tsx#relations"]={docgenInfo:relations.__docgenInfo,name:"relations",path:"src/screens/home/subject/component/relations/relations.tsx#relations"})}catch(e){}},"./src/screens/home/subject/component/relations/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:188,marginTop:s._.lg},hide:{marginTop:s._.lg,marginBottom:-s._.sm}})},"./src/screens/home/subject/component/series/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"Series"),n=(t.COMPONENT_MAIN=(0,n.rc)(s),t.COVER_WIDTH=o._.r(o._.device(28,40)));t.COVER_HEIGHT=1.4*n,t.DEFAULT_PROPS={navigation:{},styles:{},showRelation:!0,size:14,subjectId:0,subjectPrev:void 0,subjectAfter:void 0,subjectSeries:void 0,subjectAnime:void 0,subjectDiff:void 0}},"./src/screens/home/subject/component/series/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),u=o(s("./src/screens/home/subject/component/series/series.tsx")),o=s("./src/screens/home/subject/component/series/ds.ts"),l=s("./src/screens/home/subject/component/series/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n,r,c,i,e=e.size,d=t.$,t=t.navigation;return d.hasSeries?(s=0,d.subjectPrev&&(o=d.subjectPrev,s+=1),d.subjectAfter&&(n=d.subjectAfter,s+=1),s<2&&d.subjectAnime&&(r=d.subjectAnime,s+=1),s<2&&d.subjectDiff&&(c=d.subjectDiff,s+=1),!s&&d.subjectSeries&&(i=d.subjectSeries),(0,m.jsx)(u.default,{navigation:t,styles:(0,l.memoStyles)(),showRelation:a.systemStore.setting.showRelation,size:e,subjectId:d.subjectId,subjectPrev:o,subjectAfter:n,subjectAnime:r,subjectDiff:c,subjectSeries:i})):null},o.COMPONENT)},"./src/screens/home/subject/component/series/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/components/cover/utils.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/home/subject/component/series/ds.ts"),f=s("./src/screens/home/subject/component/series/item/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.from,o=e.data,n=t.$,r=t.navigation,e=(0,f.memoStyles)(),c="系列"+s;return(0,j.jsxs)(i.Touchable,{style:e.touch,animate:!0,scale:.9,onPress:function(){(0,l.t)("条目.跳转",{to:"Subject",from:c,subjectId:n.subjectId}),r.push("Subject",{subjectId:o.id,_jp:o.title,_image:(0,d.getCoverSrc)(o.image,p.COVER_WIDTH)})},children:[(0,j.jsxs)(i.Flex,{children:[(0,j.jsx)(i.Squircle,{width:p.COVER_WIDTH,height:p.COVER_HEIGHT,radius:4,children:(0,j.jsx)(i.Cover,{src:o.image||m.IMG_DEFAULT,size:p.COVER_WIDTH,height:p.COVER_HEIGHT,cdn:!(0,u.x18)(n.subjectId),fadeDuration:0,skeleton:!1,noDefault:!0})}),(0,j.jsx)(i.Text,{style:a._.ml.sm,size:11,children:o.type||s})]}),(0,j.jsx)(i.Heatmap,{right:-19,id:"条目.跳转",from:c})]})})},"./src/screens/home/subject/component/series/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{touch:{paddingRight:o._.xs,marginLeft:o._.sm,borderRadius:4,overflow:"hidden"},cover:{backgroundColor:o._.select(o._.colorBg,o._.colorDarkModeLevel1)}}})},"./src/screens/home/subject/component/series/series.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/components/cover/utils.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),_=o(s("./src/screens/home/subject/component/series/item/index.tsx")),y=s("./src/screens/home/subject/component/series/ds.ts"),x=s("./node_modules/react/jsx-runtime.js"),o=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,o=e.showRelation,n=e.size,r=e.subjectId,c=e.subjectPrev,i=e.subjectAfter,d=e.subjectAnime,a=e.subjectDiff,u=e.subjectSeries;return c||i||d||a?(e=0,c&&(e+=1),i&&(e+=1),d&&(e+=1),(0,x.jsxs)(l.Flex,{style:o&&s.relation,children:[(0,x.jsx)(l.Flex.Item,{children:o&&(0,x.jsxs)(l.Flex,{children:[(0,x.jsx)(l.Iconfont,{name:"md-subdirectory-arrow-right",size:16}),!!c&&(0,x.jsx)(_.default,{data:c,from:"前传"}),!!i&&(0,x.jsx)(_.default,{data:i,from:"续集"}),e<=1&&!!d&&(0,x.jsx)(_.default,{data:d,from:"动画"}),e<=1&&!!a&&(0,x.jsx)(_.default,{data:a,from:"不同演绎"})]})}),(0,x.jsx)(p.IconTouchable,{style:s.icon,name:o?"md-keyboard-arrow-up":"md-navigate-next",size:24,onPress:function(){return f.systemStore.switchSetting("showRelation")}})]})):(0,x.jsxs)(l.Touchable,{style:s.series,onPress:function(){(0,h.t)("条目.跳转",{to:"Subject",from:"系列",subjectId:r}),t.push("Subject",{subjectId:u.id,_jp:u.title,_image:(0,m.getCoverSrc)(u.image,y.COVER_WIDTH)})},children:[(0,x.jsxs)(l.Flex,{children:[(0,x.jsx)(l.Text,{size:13,children:"⤷"}),(0,x.jsx)(l.Squircle,{style:f._.ml.sm,width:y.COVER_WIDTH,height:y.COVER_HEIGHT,radius:4,children:(0,x.jsx)(l.Cover,{src:u.image,size:y.COVER_WIDTH,height:y.COVER_HEIGHT,cdn:!(0,j.x18)(r),fadeDuration:0,skeleton:!1,noDefault:!0})}),(0,x.jsx)(l.Text,{style:f._.ml.sm,size:b.STORYBOOK?12:n,bold:!0,children:u.title})]}),(0,x.jsx)(l.Heatmap,{id:"条目.跳转",from:"系列"})]})},y.DEFAULT_PROPS,y.COMPONENT_MAIN);t.default=o;try{series.displayName="series",series.__docgenInfo={description:"",displayName:"series",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ relation: { paddingLeft: number; marginTop: number; marginBottom: number; }; series: { width: number; paddingLeft: number; paddingRight: number; marginVertical: number; borderRadius: number; overflow: "hidden"; }; icon: { ...; }; }'}},showRelation:{defaultValue:null,description:"",name:"showRelation",required:!0,type:{name:"LayoutValue"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},subjectPrev:{defaultValue:null,description:"",name:"subjectPrev",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectAfter:{defaultValue:null,description:"",name:"subjectAfter",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectSeries:{defaultValue:null,description:"",name:"subjectSeries",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectAnime:{defaultValue:null,description:"",name:"subjectAnime",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}},subjectDiff:{defaultValue:null,description:"",name:"subjectDiff",required:!0,type:{name:"DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/cover/m/${string}.jpg`; title: string; type: string; url: `//lain.bgm.tv/subject/${string}` | `//lain.bgm.tv/subject/${number}`; }>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/series/series.tsx#series"]={docgenInfo:series.__docgenInfo,name:"series",path:"src/screens/home/subject/component/series/series.tsx#series"})}catch(e){}},"./src/screens/home/subject/component/series/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{relation:{paddingLeft:2,marginTop:o._.sm+4,marginBottom:o._.sm+4},series:{width:o._.r(180),paddingLeft:2,paddingRight:o._.sm,marginVertical:o._.sm+2,borderRadius:o._.radiusSm,overflow:"hidden"},icon:{marginRight:-o._.sm}}})},"./src/screens/home/subject/component/smb/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),u=o(s("./src/screens/home/subject/component/icon/smb.tsx")),l=s("./src/screens/home/subject/component/smb/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n=t.$;return d.STORYBOOK||d.IOS||!(t=i.smbStore.subject(n.subjectId))||-1===(s=i.systemStore.setting.showSMB)?null:(o=(0,l.memoStyles)(),(0,m.jsxs)(r.default,{style:o.container,children:[(0,m.jsx)(c.SectionTitle,{right:s?(0,m.jsx)(u.default,{}):(0,m.jsx)(a.default,{name:"本地",value:"showSMB"}),icon:!s&&"md-navigate-next",onPress:function(){return n.onSwitchBlock("showSMB")},children:"本地"}),s&&(0,m.jsx)(c.FolderSMB,{smb:t.smb,folder:t.folder})]}))});try{smb.displayName="smb",smb.__docgenInfo={description:"",displayName:"smb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/smb/index.tsx#smb"]={docgenInfo:smb.__docgenInfo,name:"smb",path:"src/screens/home/subject/component/smb/index.tsx#smb"})}catch(e){}},"./src/screens/home/subject/component/smb/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{paddingTop:o._.md,paddingHorizontal:o._.wind,marginTop:o._.md}}})},"./src/screens/home/subject/component/staff/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Staff");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},showStaff:!0,subjectId:0,staff:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/staff/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/staff/staff.tsx")),o=s("./src/screens/home/subject/component/staff/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showStaff[1]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_STAFF)}}),(0,a.jsx)(d.default,{navigation:t,showStaff:r.systemStore.setting.showStaff,subjectId:e.subjectId,staff:e.staff,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/staff/staff.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),l=s("./src/screens/home/subject/ds.ts"),m=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),p=o(s("./src/screens/home/subject/component/icon/staff.tsx")),o=s("./src/screens/home/subject/component/staff/ds.ts"),f=s("./src/screens/home/subject/component/staff/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var n=e.navigation,t=e.showStaff,r=e.subjectId,s=e.staff,o=e.onSwitchBlock;return(0,j.jsxs)(i.InView,{style:(0,a.stl)(f.styles.container,!t&&d._.short),children:[(0,j.jsx)(i.SectionTitle,{style:d._.container.wind,right:t?(0,j.jsx)(p.default,{}):(0,j.jsx)(m.default,{name:l.TITLE_STAFF,value:"showStaff"}),icon:!t&&"md-navigate-next",onPress:function(){return o("showStaff")},children:l.TITLE_STAFF}),t&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.HorizontalList,{style:d._.mt.sm,data:s,quality:!1,initialRenderNums:d._.device(Math.floor(d._.window.contentWidth/56)+1,8),onPress:function(e){var t=e.id,s=e.name,o=e.nameJP,e=e._image;(0,u.t)("条目.跳转",{to:"Mono",from:l.TITLE_STAFF,subjectId:r}),n.push("Mono",{monoId:"person/"+t,_name:s,_jp:o,_image:e})}}),(0,j.jsx)(c.Heatmap,{id:"条目.跳转",from:l.TITLE_STAFF})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{staff.displayName="staff",staff.__docgenInfo={description:"",displayName:"staff",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},showStaff:{defaultValue:null,description:"",name:"showStaff",required:!0,type:{name:"LayoutValue"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},staff:{defaultValue:null,description:"",name:"staff",required:!0,type:{name:"Staff[] | DeepPartial<{ id: Id; image: `//lain.bgm.tv/pic/crt/g/${string}.jpg?r=${number}`; name: string; desc: string; }>[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/staff/staff.tsx#staff"]={docgenInfo:staff.__docgenInfo,name:"staff",path:"src/screens/home/subject/component/staff/staff.tsx#staff"})}catch(e){}},"./src/screens/home/subject/component/staff/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:140,marginTop:s._.lg}})},"./src/screens/home/subject/component/status-segment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_DS=t.COMPONENT=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=s("./src/utils/dev/index.ts"),r=s("./src/constants/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"StatusSegement"),t.STATUS_DS=["全部"].concat((0,o.default)(r.RATING_STATUS.map(function(e){return e.label})))},"./src/screens/home/subject/component/status-segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./src/screens/home/subject/component/status-segment/ds.ts"),u=s("./src/screens/home/subject/component/status-segment/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,t=s.state.filterStatus,o="看"===s.action,n=o?a.STATUS_DS:a.STATUS_DS.map(function(e){return e.replace("看",s.action)});return(0,l.jsx)(c.Popover,{style:u.styles.touch,data:n,onSelect:function(e){s.filterStatus(o?e:e.replace(s.action,"看"))},children:(0,l.jsxs)(r.Flex,{style:u.styles.btn,justify:"center",children:[(0,l.jsx)(r.Iconfont,{name:"md-filter-list",size:22,color:t?i._.colorMain:i._.colorIcon}),!!t&&(0,l.jsx)(r.Text,{style:i._.ml.xs,type:"main",size:13,bold:!0,children:t?d.MODEL_RATING_STATUS.getLabel(t).replace("看",s.action):""})]})})},a.COMPONENT);try{statussegment.displayName="statussegment",statussegment.__docgenInfo={description:"",displayName:"statussegment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/status-segment/index.tsx#statussegment"]={docgenInfo:statussegment.__docgenInfo,name:"statussegment",path:"src/screens/home/subject/component/status-segment/index.tsx#statussegment"})}catch(e){}},"./src/screens/home/subject/component/status-segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderRadius:20,overflow:"hidden"},btn:{minWidth:38,height:38,marginRight:3,paddingHorizontal:4}})},"./src/screens/home/subject/component/summary/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Summary");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={styles:{},showSummary:!0,translateResult:[],content:"",onSwitchBlock:function(){}}},"./src/screens/home/subject/component/summary/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/summary/summary.tsx")),o=s("./src/screens/home/subject/component/summary/ds.ts"),a=s("./src/screens/home/subject/component/summary/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef;return(e=t.$).showSummary[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_SUMMARY)}}),(0,u.jsx)(d.default,{styles:(0,a.memoStyles)(),showSummary:r.systemStore.setting.showSummary,translateResult:e.state.translateResult.slice(),content:e.summary.replace(/\r\n\r\n/g,"\r\n"),onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/summary/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:210,paddingHorizontal:o._.wind,marginTop:o._.sm},hide:{paddingHorizontal:o._.wind,marginTop:o._.sm,marginBottom:-o._.sm}}})},"./src/screens/home/subject/component/summary/summary.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/screens/home/subject/ds.ts"),l=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),m=o(s("./src/screens/home/subject/component/icon/translate.tsx")),p=s("./src/screens/home/subject/component/utils.ts"),o=s("./src/screens/home/subject/component/summary/ds.ts"),f=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.styles,s=e.showSummary,o=e.translateResult,n=e.content,r=e.onSwitchBlock;return(0,f.jsxs)(c.default,{style:s?t.container:t.hide,children:[(0,f.jsx)(d.SectionTitle,{right:s?(0,f.jsx)(m.default,{content:n}):(0,f.jsx)(l.default,{name:u.TITLE_SUMMARY,value:"showSummary"}),icon:!s&&"md-navigate-next",onPress:function(){return r("showSummary")},children:u.TITLE_SUMMARY}),s&&(0,f.jsx)(c.default,{children:o.length?(0,f.jsx)(c.default,{children:(0,p.fixedTranslateResult)(o,n).map(function(e,t){return(0,f.jsxs)(c.default,{style:a._.mt.sm,children:[(0,f.jsx)(i.Text,{style:a._.mt.md,type:"sub",size:12,lineHeight:14,selectable:!0,children:e.src.trim()}),(0,f.jsx)(i.Text,{style:a._.mt.sm,size:15,lineHeight:17,bold:!0,selectable:!0,children:e.dst.trim()})]},t)})}):!!n&&(0,f.jsx)(i.Expand,{ratio:.88,children:(0,f.jsx)(i.Text,{style:a._.mt.sm,size:15,lineHeight:22,selectable:!0,children:n})})})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN,function(e){return Object.assign({},e,{translateResult:e.translateResult.length})});t.default=s;try{summary.displayName="summary",summary.__docgenInfo={description:"",displayName:"summary",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingHorizontal: number; marginTop: number; }; hide: { paddingHorizontal: number; marginTop: number; marginBottom: number; }; }"}},showSummary:{defaultValue:null,description:"",name:"showSummary",required:!0,type:{name:"LayoutValue"}},translateResult:{defaultValue:null,description:"",name:"translateResult",required:!0,type:{name:"any[]"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/summary/summary.tsx#summary"]={docgenInfo:summary.__docgenInfo,name:"summary",path:"src/screens/home/subject/component/summary/summary.tsx#summary"})}catch(e){}},"./src/screens/home/subject/component/tags/block/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/tags/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Block")},"./src/screens/home/subject/component/tags/block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=s("./src/screens/home/subject/component/tags/styles.ts"),n=s("./src/screens/home/subject/component/tags/block/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,o=e.path,e=e.tags,n=t.$,r=t.navigation;return null!=e&&e.length?(s=(0,a.memoStyles)(),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.Flex,{style:[s.item,s.itemDisabled],children:(0,u.jsx)(i.Text,{size:13,type:"sub",children:"第三方标签"})}),e.map(function(e){var t="string"==typeof e?e:e.value;return"string"==typeof e||e.pressable?(0,u.jsx)(i.Touchable,{animate:!0,scale:.9,onPress:function(){(0,d.t)("条目.跳转",{to:o,from:"标签",subjectId:n.subjectId}),r.push(o,{_tags:[e]})},children:(0,u.jsx)(c.default,{style:s.item,children:(0,u.jsx)(i.Text,{size:13,bold:!0,children:t})})},t):(0,u.jsx)(c.default,{style:[s.item,s.itemDisabled],children:(0,u.jsx)(i.Text,{size:13,bold:!0,children:t})})})]})):null},n.COMPONENT)},"./src/screens/home/subject/component/tags/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Tags");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},subjectId:0,subjectType:"",showTags:!0,subjectTagsExpand:!0,subjectTagsRec:!1,rank:0,focusOrigin:!1,tag:[],tags:[],animeTags:[],gameTags:[],mangaTags:[],wenkuTags:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/tags/tags.tsx")),o=s("./src/screens/home/subject/component/tags/ds.ts"),a=s("./src/screens/home/subject/component/tags/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showTags[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_TAGS)}}),(0,u.jsx)(d.default,{navigation:t,styles:(0,a.memoStyles)(),subjectId:e.subjectId,subjectType:e.subjectType,showTags:r.systemStore.setting.showTags,subjectTagsExpand:r.systemStore.setting.subjectTagsExpand,subjectTagsRec:r.systemStore.setting.subjectTagsRec,rank:e.rank,focusOrigin:r.systemStore.setting.focusOrigin,tag:e.collection.tag,tags:e.tags,animeTags:e.animeTags,gameTags:e.gameTags,mangaTags:e.mangaTags,wenkuTags:e.wenkuTags,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/tags/rec-segment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DS=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/tags/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"RecSegement"),t.DS=["数量","排名"]},"./src/screens/home/subject/component/tags/rec-segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/subject/component/tags/rec-segment/ds.ts"),d=s("./src/screens/home/subject/component/tags/rec-segment/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,t=r.systemStore.setting.subjectTagsRec?1:0;return(0,a.jsx)(n.SegmentedControl,{style:d.styles.segment,size:11,values:i.DS,selectedIndex:t,onValueChange:function(){(0,c.t)("条目.切换标签类型",{subjectId:s.subjectId}),r.systemStore.switchSetting("subjectTagsRec")}},String(t))},i.COMPONENT);try{recsegment.displayName="recsegment",recsegment.__docgenInfo={description:"",displayName:"recsegment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/tags/rec-segment/index.tsx#recsegment"]={docgenInfo:recsegment.__docgenInfo,name:"recsegment",path:"src/screens/home/subject/component/tags/rec-segment/index.tsx#recsegment"})}catch(e){}},"./src/screens/home/subject/component/tags/rec-segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(88),height:s._.r(28),marginRight:s._.xs,marginLeft:s._.md}})},"./src/screens/home/subject/component/tags/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:96},loading:{height:96},item:{paddingVertical:o._.r(2),paddingHorizontal:o._.r(8),marginRight:o._.r(8),marginBottom:o._.r(8),backgroundColor:o._.select(o._.colorBg,o._._colorDarkModeLevel1),borderWidth:1,borderColor:o._.select(o._.colorBorder,o._._colorDarkModeLevel1),borderRadius:o._.radiusSm,overflow:"hidden"},itemDisabled:{backgroundColor:"transparent",borderColor:"transparent"},selected:{backgroundColor:o._.select(o._.colorPrimaryLight,o._._colorDarkModeLevel1),borderColor:o._.select(o._.colorPrimaryBorder,o._._colorDarkModeLevel1)},more:{paddingVertical:o._.md,paddingHorizontal:100,marginTop:-o._.sm,borderRadius:o._.radiusSm,overflow:"hidden"}}})},"./src/screens/home/subject/component/tags/tags.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js")),g=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),v=s("./src/components/index.ts"),O=s("./src/screens/_/index.ts"),T=s("./src/stores/index.ts"),S=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),E=s("./src/utils/fetch/index.ts"),P=s("./src/constants/index.ts"),I=s("./src/screens/home/subject/ds.ts"),C=o(s("./src/screens/home/subject/component/icon/game.tsx")),N=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),M=o(s("./src/screens/home/subject/component/tags/block/index.tsx")),R=o(s("./src/screens/home/subject/component/tags/rec-segment/index.tsx")),w=o(s("./src/screens/home/subject/component/tags/typerank/index.tsx")),A=s("./src/screens/home/subject/component/tags/typerank/utils.ts"),o=s("./src/screens/home/subject/component/tags/ds.ts"),k=s("./node_modules/react/jsx-runtime.js");function c(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(c=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var r=e.navigation,c=e.styles,i=e.subjectId,d=e.subjectType,t=e.showTags,s=e.subjectTagsExpand,a=e.subjectTagsRec,u=e.rank,o=e.focusOrigin,l=e.tag,n=e.tags,m=e.animeTags,p=e.gameTags,f=e.mangaTags,j=e.wenkuTags,h=e.onSwitchBlock,e=(0,x.useState)(!1),e=(0,y.default)(e,2),b=e[0],_=e[1],e=(0,k.jsxs)(k.Fragment,{children:[n.filter(function(e,t){return!!b||t<16}).map(function(e,t){var s=e.name,e=e.count,o=l.includes(s),n=!!u&&a;return(0,k.jsx)(v.Touchable,{animate:!0,scale:.9,onPress:function(){n&&(0,A.exist)(P.MODEL_SUBJECT_TYPE.getLabel(d),s)?((0,E.t)("条目.跳转",{to:"Typerank",from:I.TITLE_TAGS,subjectId:i}),r.push("Typerank",{type:P.MODEL_SUBJECT_TYPE.getLabel(d),tag:s,subjectId:i})):((0,E.t)("条目.跳转",{to:"Tag",from:I.TITLE_TAGS,subjectId:i}),r.push("Tag",{type:P.MODEL_SUBJECT_TYPE.getLabel(d),tag:s}))},children:(0,k.jsxs)(v.Flex,{style:(0,S.stl)(c.item,o&&c.selected),children:[(0,k.jsx)(v.Text,{type:T._.select("desc",o?"main":"desc"),size:13,bold:!0,children:s}),n?(0,k.jsx)(w.default,{tag:s}):(0,k.jsxs)(v.Text,{type:T._.select("sub",o?"main":"sub"),size:12,lineHeight:13,bold:!0,children:[" ",e]})]})},t)}),!b&&16<n.length&&(0,k.jsx)(v.Touchable,{animate:!0,scale:.9,onPress:function(){_(!0)},children:(0,k.jsx)(v.Flex,{style:c.item,children:(0,k.jsx)(v.Iconfont,{name:"md-more-horiz",size:16,color:T._.colorSub})})}),(0,k.jsx)(M.default,{path:"Anime",tags:m}),(0,k.jsx)(M.default,{path:"Game",tags:p}),(0,k.jsx)(M.default,{path:"Manga",tags:f}),(0,k.jsx)(M.default,{path:"Wenku",tags:j})]}),m=t&&!!n.length;return(0,k.jsxs)(g.default,{style:(0,S.stl)(T._.mt.lg,t?c.container:T._.short,!m&&T._.mb.md),children:[(0,k.jsx)(O.SectionTitle,{style:T._.container.wind,right:t?(0,k.jsxs)(k.Fragment,{children:[!o&&(0,k.jsx)(C.default,{}),!!u&&(0,k.jsx)(R.default,{})]}):(0,k.jsx)(N.default,{name:I.TITLE_TAGS,value:"showTags"}),icon:!t&&"md-navigate-next",onPress:function(){return h("showTags")},children:I.TITLE_TAGS}),m&&(0,k.jsx)(k.Fragment,{children:s?(0,k.jsxs)(g.default,{style:T._.container.windMtSm,children:[(0,k.jsx)(v.Flex,{wrap:"wrap",align:"start",children:e}),(0,k.jsx)(v.Heatmap,{id:"条目.跳转",from:I.TITLE_TAGS})]}):(0,k.jsx)(v.ScrollView,{style:T._.mt.md,contentContainerStyle:T._.container.wind,horizontal:!0,children:e})}),m&&(0,k.jsx)(g.default,{style:c.more,children:(0,k.jsx)(v.Touchable,{onPress:function(){return T.systemStore.switchSetting("subjectTagsExpand")},children:(0,k.jsx)(v.Flex,{justify:"center",children:(0,k.jsx)(v.Iconfont,{name:s?"md-keyboard-arrow-up":"md-keyboard-arrow-down",size:T._.device(24,32)})})})}),(0,k.jsx)(O.PreventTouchPlaceholder,{})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { minHeight: number; }; loading: { height: number; }; item: { paddingVertical: number; paddingHorizontal: number; marginRight: number; marginBottom: number; backgroundColor: string; borderWidth: number; borderColor: string; borderRadius: number; overflow: "hidden"; }; itemDisabled: { ...; }; selected: {...'}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},subjectType:{defaultValue:null,description:"",name:"subjectType",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"4"'},{value:'"3"'},{value:'"6"'}]}},showTags:{defaultValue:null,description:"",name:"showTags",required:!0,type:{name:"LayoutValue"}},subjectTagsExpand:{defaultValue:null,description:"",name:"subjectTagsExpand",required:!0,type:{name:"boolean"}},subjectTagsRec:{defaultValue:null,description:"",name:"subjectTagsRec",required:!0,type:{name:"boolean"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"number"}},focusOrigin:{defaultValue:null,description:"",name:"focusOrigin",required:!0,type:{name:"boolean"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string[]"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"DeepPartial<{ name: string; count: string; }>[]"}},animeTags:{defaultValue:null,description:"",name:"animeTags",required:!0,type:{name:"any[]"}},gameTags:{defaultValue:null,description:"",name:"gameTags",required:!0,type:{name:'("音乐" | "动作" | "角色扮演" | "冒险" | "射击" | "策略" | "第三人称" | "独立" | "文字" | "模拟" | "主视角" | "剧情" | "平台" | "解谜" | "多人" | "恐怖" | "格斗" | "回合制" | "科幻" | "育成" | "益智" | "生存" | "体育" | "沙箱" | "开放世界" | "竞速" | ... 20 more ... | "养成")[]'}},mangaTags:{defaultValue:null,description:"",name:"mangaTags",required:!0,type:{name:'("音乐" | "其他" | "少年" | "冒险" | "恐怖" | "格斗" | "科幻" | "生存" | "竞技" | "爱情" | "幽默" | "校园" | "少女" | "生活" | "轻改" | "奇幻" | "悬疑" | "魔幻" | "百合" | "魔法" | "神鬼" | "职场" | "热血" | "治癒" | "侦探" | "励志" | "耽美" | ... 19 more ... | "杂志")[]'}},wenkuTags:{defaultValue:null,description:"",name:"wenkuTags",required:!0,type:{name:"string[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/tags/tags.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/home/subject/component/tags/tags.tsx#tags"})}catch(e){}},"./src/screens/home/subject/component/tags/typerank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/tags/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Typerank")},"./src/screens/home/subject/component/tags/typerank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/subject/component/tags/typerank/utils.ts"),i=s("./src/screens/home/subject/component/tags/typerank/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,e=e.tag,t=t.$,e=(0,c.exist)(t.subjectTypeValue,e)?"优于"+(s=(0,c.calc)(t.subjectTypeValue,e,t.rank||9999))+"%":"--";return(0,d.jsx)(n.Text,{style:r._.ml.xs,type:90<=s?"main":"sub",size:12,lineHeight:13,bold:!0,children:e})},i.COMPONENT)},"./src/screens/home/subject/component/tags/typerank/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.calc=function(e,t,s){var o,n=e+"|"+t+"|"+s;if(p.has(n))return p.get(n);"anime"===e?o=d.default:"book"===e?o=a.default:"game"===e?o=u.default:"music"===e?o=l.default:"real"===e&&(o=m.default);var r=o[t];if(s<=o[t][0])return 99;for(var c=0,i=0;i<r.length&&!(s<r[i]);i+=1)c+=1;n=Math.max(Math.min(Math.floor(100*(1-c/r.length)),99),1);return p.set(t,n),n},t.exist=function(e,t){if(!e||!t)return!1;var s;"anime"===e?s=d.default:"book"===e?s=a.default:"game"===e?s=u.default:"music"===e?s=l.default:"real"===e&&(s=m.default);return!!s&&!!s[t]},o(s("./src/assets/json/typerank/anime.json"))),a=o(s("./src/assets/json/typerank/book.json")),u=o(s("./src/assets/json/typerank/game.json")),l=o(s("./src/assets/json/typerank/music.json")),m=o(s("./src/assets/json/typerank/real.json")),p=new Map},"./src/screens/home/subject/component/thumbs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.IMAGE_HEIGHT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Thumbs"),t.IMAGE_HEIGHT=144,t.THUMB_WIDTH=Math.floor(144/.56),t.THUMB_HEIGHT=144},"./src/screens/home/subject/component/thumbs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/react/index.js")),m=o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),p=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=s("./src/components/index.ts"),j=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/decorators/index.ts"),y=s("./src/utils/dev/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/home/subject/ds.ts"),v=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),O=o(s("./src/screens/home/subject/component/icon/preview.tsx")),T=o(s("./src/screens/home/subject/component/thumbs/preview/index.tsx")),S=o(s("./src/screens/home/subject/component/thumbs/video/index.tsx")),E=s("./src/screens/home/subject/component/thumbs/ds.ts"),P=s("./src/screens/home/subject/component/thumbs/styles.ts"),I=s("./node_modules/react/jsx-runtime.js");function C(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}o=l.default.Component,(0,i.default)(M,o),N=C(M),(0,r.default)(M,[{key:"data",get:function(){var e=this.context.$.state.epsThumbs;return this.state.scrolled?e.slice():e.filter(function(e,t){return t<5})}},{key:"videos",get:function(){return this.context.$.state.videos.slice()}},{key:"title",get:function(){var e=this.context.$;return"音乐"===e.type?"MV":"三次元"===e.type?"剧照":"预览"}},{key:"reference",get:function(){var e,t=this.context.$.state.epsThumbsHeader;return null!=t&&null!=(e=t.Referer)&&e.includes("douban.com")?"douban.com":null!=t&&null!=(e=t.Referer)&&e.includes("bilibili.com")?"bilibili.com":""}},{key:"thumbs",get:function(){var e=this.context.$.state,t=e.epsThumbs,s=e.epsThumbsHeader;return t.map(function(e){return{url:String(null==(e=e.split("@"))?void 0:e[0]).replace("img1.doubanio.com","img2.doubanio.com"),headers:Object.assign({},s)}})}},{key:"renderRight",value:function(){var e;return h.systemStore.setting.showThumbs?(e=this.context.$,"douban.com"!==this.reference||e.isLimit?null:(0,I.jsx)(O.default,{data:e.state.epsThumbs,headers:e.state.epsThumbsHeader})):(0,I.jsx)(v.default,{name:this.title,value:"showThumbs"})}},{key:"render",value:function(){var s=this;(0,y.r)(E.COMPONENT);var e,o,t,n,r=this.context.$;return r.showThumbs[1]?(e=h.systemStore.setting.showThumbs,o=r.state.epsThumbsHeader,t=this.props.onBlockRef,n=this.state.scrolled,(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.default,{style:h._.container.layout,ref:function(e){return t(e,g.TITLE_THUMBS)}}),(0,I.jsxs)(j.InView,{style:(0,b.stl)(P.styles.container,!e&&h._.short),children:[(0,I.jsx)(j.SectionTitle,{style:h._.container.wind,right:this.renderRight(),icon:!e&&"md-navigate-next",onPress:function(){return r.onSwitchBlock("showThumbs")},children:this.title}),e&&(0,I.jsxs)(m.default,Object.assign({style:h._.mt.md,contentContainerStyle:h._.container.wind,horizontal:!0},x.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:8,onScroll:n?void 0:this.onScroll,children:[this.videos.map(function(e){return(0,I.jsx)(S.default,{item:e,epsThumbsHeader:o,showTitle:"音乐"===r.type},e.cover)}),this.data.filter(function(e,t){return t<=12}).map(function(e,t){return(0,I.jsx)(T.default,{item:e,index:t,thumbs:s.thumbs,epsThumbsHeader:o},e)})]})),e&&!!this.reference&&(0,I.jsxs)(f.Flex,{style:[h._.container.wind,h._.mt.md],justify:"end",children:[(0,I.jsxs)(f.Text,{size:10,type:"icon",align:"right",onPress:function(){return(0,b.open)(o.Referer)},children:["数据来源自 ",this.reference]}),(0,I.jsx)(f.Iconfont,{style:h._.ml.xs,name:"md-open-in-new",size:10,color:h._.colorIcon})]}),(0,I.jsx)(j.PreventTouchPlaceholder,{}),(0,I.jsx)(f.Heatmap,{id:"条目.预览"})]})]})):null}}]);var N,s=M;function M(){var e;(0,n.default)(this,M);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=N.call.apply(N,[this].concat(s)),(0,u.default)((0,c.default)(e),"state",{scrolled:!1}),(0,u.default)((0,c.default)(e),"onScroll",function(){e.state.scrolled||e.setState({scrolled:!0})}),e}t.default=(0,_.obc)(s);try{thumbs.displayName="thumbs",thumbs.__docgenInfo={description:"",displayName:"thumbs",props:{onBlockRef:{defaultValue:null,description:"",name:"onBlockRef",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/thumbs/index.tsx#thumbs"]={docgenInfo:thumbs.__docgenInfo,name:"thumbs",path:"src/screens/home/subject/component/thumbs/index.tsx#thumbs"})}catch(e){}},"./src/screens/home/subject/component/thumbs/preview/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/thumbs/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Preview")},"./src/screens/home/subject/component/thumbs/preview/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),u=s("./src/screens/home/subject/component/thumbs/ds.ts"),n=s("./src/screens/home/subject/component/thumbs/preview/ds.ts"),l=s("./src/screens/home/subject/component/thumbs/preview/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.item,o=e.index,n=e.thumbs,e=e.epsThumbsHeader,r=t.$;return i.systemStore.setting.showCharacter?(0,m.jsx)(c.Touchable,{style:(0,d.stl)(l.styles.image,!o&&l.styles.side),animate:!0,withoutFeedback:!0,onPress:function(){(0,a.t)("条目.预览",{subjectId:r.subjectId}),(0,d.showImageViewer)(n.filter(function(e,t){return t<12}),o)},children:(0,m.jsx)(c.Image,{src:s.replace("img1.doubanio.com","img2.doubanio.com"),autoHeight:u.IMAGE_HEIGHT,headers:e,errorToHide:!0},s)}):null},n.COMPONENT)},"./src/screens/home/subject/component/thumbs/preview/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=s("./src/stores/index.ts"),s=s("./src/screens/home/subject/component/thumbs/ds.ts");t.styles=o._.create({image:{height:s.IMAGE_HEIGHT,marginLeft:o._.sm+2,borderRadius:o._.radiusMd,overflow:"hidden"},side:{marginLeft:0}})},"./src/screens/home/subject/component/thumbs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:210,marginTop:s._.lg}})},"./src/screens/home/subject/component/thumbs/video/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/thumbs/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Video")},"./src/screens/home/subject/component/thumbs/video/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/subject/component/thumbs/ds.ts"),a=s("./src/screens/home/subject/component/thumbs/video/ds.ts"),u=s("./src/screens/home/subject/component/thumbs/video/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t=e.item,s=e.epsThumbsHeader,e=e.showTitle;return c.systemStore.setting.showCharacter?(0,l.jsx)(n.default,{style:u.styles.video,children:(0,l.jsxs)(r.Touchable,{animate:!0,withoutFeedback:!0,onPress:function(){return(0,i.open)(t.src||t.href)},children:[(0,l.jsx)(r.Image,{src:t.cover,size:d.THUMB_WIDTH,height:d.THUMB_HEIGHT,headers:s,radius:c._.radiusMd}),(0,l.jsx)(n.default,{style:u.styles.play,children:(0,l.jsx)(n.default,{style:u.styles.touch,children:(0,l.jsx)(r.Flex,{style:u.styles.touch,justify:"center",children:(0,l.jsx)(r.Text,{style:u.styles.icon,type:"__plain__",children:"▶"})})})}),e&&!!t.title&&(0,l.jsx)(r.Text,{style:u.styles.title,size:11,bold:!0,numberOfLines:3,align:"center",children:t.title})]})}):null},a.COMPONENT);try{video.displayName="video",video.__docgenInfo={description:"",displayName:"video",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},epsThumbsHeader:{defaultValue:null,description:"",name:"epsThumbsHeader",required:!0,type:{name:"any"}},showTitle:{defaultValue:null,description:"",name:"showTitle",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/thumbs/video/index.tsx#video"]={docgenInfo:video.__docgenInfo,name:"video",path:"src/screens/home/subject/component/thumbs/video/index.tsx#video"})}catch(e){}},"./src/screens/home/subject/component/thumbs/video/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=s("./src/stores/index.ts"),s=s("./src/screens/home/subject/component/thumbs/ds.ts");t.styles=o._.create({video:{width:s.THUMB_WIDTH,marginRight:o._.sm+2},play:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},touch:{height:s.IMAGE_HEIGHT,opacity:.92},icon:{fontSize:40,lineHeight:o._.ios(52,56)},title:{padding:o._.sm,opacity:.8}})},"./src/screens/home/subject/component/topic/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Topic");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},subjectId:0,showTopic:!0,topic:[],onSwitchBlock:function(){}}},"./src/screens/home/subject/component/topic/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/subject/ds.ts"),d=o(s("./src/screens/home/subject/component/topic/topic.tsx")),o=s("./src/screens/home/subject/component/topic/ds.ts"),a=s("./src/screens/home/subject/component/topic/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.onBlockRef,e=t.$,t=t.navigation;return e.showTopic[1]?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.default,{style:r._.container.layout,ref:function(e){return s(e,i.TITLE_TOPIC)}}),(0,u.jsx)(d.default,{navigation:t,styles:(0,a.memoStyles)(),showTopic:r.systemStore.setting.showTopic,subjectId:e.subjectId,topic:e.filterTopic,onSwitchBlock:e.onSwitchBlock})]}):null},o.COMPONENT)},"./src/screens/home/subject/component/topic/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{container:{minHeight:120,marginTop:o._.lg},item:{paddingLeft:o._.wind}}})},"./src/screens/home/subject/component/topic/topic.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.small.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/screens/home/subject/ds.ts"),f=o(s("./src/screens/home/subject/component/icon/hidden.tsx")),j=o(s("./src/screens/home/subject/component/icon/topic.tsx")),o=s("./src/screens/home/subject/component/topic/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var o=e.navigation,n=e.styles,t=e.showTopic,r=e.subjectId,s=e.topic,c=e.onSwitchBlock,e=(0,m.useExpandLazy)(s,4),i=e.list,e=e.onExpand;return(0,h.jsxs)(a.InView,{style:(0,l.stl)(n.container,!t&&u._.short),children:[(0,h.jsx)(a.SectionTitle,{style:u._.container.wind,right:t?(0,h.jsx)(j.default,{}):(0,h.jsx)(f.default,{name:p.TITLE_TOPIC,value:"showTopic"}),icon:!t&&"md-navigate-next",onPress:function(){return c("showTopic")},children:p.TITLE_TOPIC}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Expand,{style:u._.mt.sm,onExpand:e,children:i.map(function(e){var t=e.user,s=t.nickname,t=t.username;return(0,l.getIsBlockedUser)(u.rakuenStore.blockUserIds,s,t,"Subject|Topic|"+r+"|"+e.id)?null:(0,h.jsx)(a.ItemArticle,{style:n.item,navigation:o,avatar:e.user.avatar.small,title:e.title,nickname:s,userId:t,timestamp:e.timestamp,replies:e.replies,url:e.url,event:{id:"条目.跳转",data:{from:"讨论版",subjectId:r}}},e.id)})},null==s?void 0:s.length),(0,h.jsx)(d.Heatmap,{id:"条目.跳转",from:"讨论版"})]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{topic.displayName="topic",topic.__docgenInfo={description:"",displayName:"topic",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; marginTop: number; }; item: { paddingLeft: number; }; }"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},showTopic:{defaultValue:null,description:"",name:"showTopic",required:!0,type:{name:"LayoutValue"}},topic:{defaultValue:null,description:"",name:"topic",required:!0,type:{name:"Topic[]"}},onSwitchBlock:{defaultValue:null,description:"",name:"onSwitchBlock",required:!0,type:{name:'(key: "s2t" | "simple" | "tinygrail" | "source" | "katakana" | "cdn" | "quality" | "hideScore" | "transition" | "showTags" | "cnFirst" | "userRemark" | "userPagination" | "discoveryMenu" | ... 89 more ... | "baiduKey") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/topic/topic.tsx#topic"]={docgenInfo:topic.__docgenInfo,name:"topic",path:"src/screens/home/subject/component/topic/topic.tsx#topic"})}catch(e){}},"./src/screens/home/subject/component/track-comment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.POPOVER_DATA=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"TrackComment"),t.POPOVER_DATA={"动画":["取消动画特别关注"],"书籍":["取消书籍特别关注"],"游戏":["取消游戏特别关注"],"音乐":["取消音乐特别关注"],"三次元":["取消三次元评别关注"]}},"./src/screens/home/subject/component/track-comment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),m=s("./src/screens/home/subject/component/track-comment/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var n,r=t.$,c=t.navigation;return r.subjectTypeValue&&null!=(t=a.systemStore.setting["comment"+(0,u.titleCase)(r.subjectTypeValue)])&&t.length&&(t=t.filter(function(e){e=a.collectionStore.usersSubjectCollection(e,r.subjectId);return!!(e._loaded&&e.update_at&&e.type)})).length?(n={id:"条目.跳转",data:{from:"特别关注",subjectId:r.subjectId}},(0,p.jsxs)(d.InView,{style:a._.mt.sm,children:[t.map(function(e){var t=a.collectionStore.usersSubjectCollection(e,r.subjectId),s=a.usersStore.usersInfo(e),o=String(l.MODEL_COLLECTION_STATUS.getLabel(t.type)||"").replace("看",r.action);return(0,p.jsx)(d.ItemComment,{navigation:c,event:n,time:(0,u.lastDate)((0,u.getTimestamp)(t.update_at)),avatar:s.avatar,userId:e,userName:s.userName,star:r.hideScore?void 0:t.rate,status:o,comment:String(t.comment).replace(/[\r\n]/g,""),popoverData:m.POPOVER_DATA[r.type],like:!0,onSelect:r.onCancelTrackUsersCollection},e)}),(0,p.jsx)(i.Divider,{})]})):null},m.COMPONENT);try{trackcomment.displayName="trackcomment",trackcomment.__docgenInfo={description:"",displayName:"trackcomment",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/component/track-comment/index.tsx#trackcomment"]={docgenInfo:trackcomment.__docgenInfo,name:"trackcomment",path:"src/screens/home/subject/component/track-comment/index.tsx#trackcomment"})}catch(e){}},"./src/screens/home/subject/component/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.starts-with.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixedTranslateResult=function(e,t){if(!(((null==e?void 0:e.length)||0)<=1)){var s=(null==(s=e[e.length-1])?void 0:s.src)||"";if(s&&t&&t.startsWith(s))return e.slice().reverse()}return e}},"./src/screens/home/subject/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TITLE_TOPIC=t.TITLE_THUMBS=t.TITLE_TAGS=t.TITLE_SUMMARY=t.TITLE_STAFF=t.TITLE_RELATIONS=t.TITLE_RECENT=t.TITLE_RATING=t.TITLE_LIKE=t.TITLE_INFO=t.TITLE_HEAD=t.TITLE_GAME=t.TITLE_EP=t.TITLE_DISC=t.TITLE_COMMENT=t.TITLE_COMIC=t.TITLE_CHARACTER=t.TITLE_CATALOG=t.TITLE_BOX=t.TITLE_BLOG=t.TITLE_ANITABI=t.COMPONENT=void 0;t.COMPONENT="Subject",t.TITLE_HEAD="头部",t.TITLE_BOX="收藏",t.TITLE_EP="章节",t.TITLE_DISC="曲目列表",t.TITLE_TAGS="标签",t.TITLE_SUMMARY="简介",t.TITLE_INFO="详情",t.TITLE_RATING="评分",t.TITLE_CHARACTER="角色",t.TITLE_STAFF="制作人员",t.TITLE_THUMBS="预览",t.TITLE_ANITABI="取景地标",t.TITLE_GAME="游戏",t.TITLE_COMIC="单行本",t.TITLE_BLOG="日志",t.TITLE_TOPIC="帖子",t.TITLE_CATALOG="目录",t.TITLE_RELATIONS="关联",t.TITLE_LIKE="猜你喜欢",t.TITLE_RECENT="动态",t.TITLE_COMMENT="吐槽"},"./src/screens/home/subject/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/subject/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=o(s("./src/screens/home/subject/component/header-title/index.tsx")),i=o(s("./src/screens/home/subject/header/menu/index.tsx")),d=o(s("./src/screens/home/subject/header/pop-to-top/index.tsx")),o=s("./src/screens/home/subject/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.onScrollTo,e=t.$;return(0,a.jsx)(n.Header,{mode:"transition",statusBarEventsType:"Subject",fixed:e.state.fixed,title:"条目",domTitle:e.jp||e.cn,hm:[e.url,"Subject"],headerLeft:(0,a.jsx)(d.default,{}),headerTitle:(0,a.jsx)(c.default,{$:e}),headerRight:function(){return(0,a.jsx)(i.default,{onScrollTo:s})}})},o.COMPONENT)},"./src/screens/home/subject/header/menu/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_WEB_SHARE=t.TEXT_SHARE=t.TEXT_SETTING=t.TEXT_POST_SHARE=t.TEXT_LAYOUT=t.TEXT_COPY=t.TEXT_APP=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/subject/header/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header"),t.TEXT_COPY="复制链接",t.TEXT_SHARE="复制分享",t.TEXT_POST_SHARE="拼图分享",t.TEXT_WEB_SHARE="APP 网页版分享",t.TEXT_LAYOUT="重置布局",t.TEXT_APP="获取 APP",t.TEXT_SETTING="设置"},"./src/screens/home/subject/header/menu/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/web.timers.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),u=s("./src/screens/home/subject/header/menu/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.onScrollTo,o=t.$,n=t.navigation,e=c._.isDark||!o.state.fixed?"#fff":"#000",t=["浏览器打开 · "+o.subjectId,u.TEXT_COPY,u.TEXT_SHARE,u.TEXT_POST_SHARE,u.TEXT_WEB_SHARE,u.TEXT_LAYOUT,u.TEXT_SETTING];return a.STORYBOOK&&t.push(u.TEXT_APP),(0,l.jsxs)(r.Flex,{children:[(0,l.jsx)(r.Header.Popover,{style:c._.mr.xs,data:o.locationDS,name:"md-menu-open",color:e,onSelect:function(e){setTimeout(function(){s(e)},0)}},String(o.locationDS.length)),(0,l.jsx)(r.Header.Popover,{data:t,color:e,onSelect:function(e){(0,d.t)("条目.右上角菜单",{subjectId:o.subjectId,key:e}),setTimeout(function(){switch(e){case u.TEXT_COPY:(0,i.copy)(o.url,"已复制链接");break;case u.TEXT_SHARE:(0,i.copy)("【链接】"+(0,i.cnjp)(o.cn,o.jp)+" | Bangumi番组计划\n"+o.url,"已复制分享文案");break;case u.TEXT_POST_SHARE:o.onPostShare(n);break;case u.TEXT_WEB_SHARE:o.onWebShare();break;case u.TEXT_LAYOUT:c.systemStore.resetSubjectLayout(),(0,i.info)("已重置");break;case u.TEXT_SETTING:n.push("Setting",{open:"Subject"});break;case u.TEXT_APP:(0,i.open)(a.URL_ABOUT);break;default:(0,i.open)(o.url)}},0)},children:(0,l.jsx)(r.Heatmap,{id:"条目.右上角菜单"})})]})})},"./src/screens/home/subject/header/pop-to-top/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;try{if(o.getState().index<4||s.state.fixed)return null}catch(e){return null}return(0,c.jsx)(n.IconTouchable,{name:"icon-home",size:19,color:r._.__colorPlain__,onPress:function(){o.popToTop()}})});try{poptotop.displayName="poptotop",poptotop.__docgenInfo={description:"",displayName:"poptotop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/header/pop-to-top/index.tsx#poptotop"]={docgenInfo:poptotop.__docgenInfo,name:"poptotop",path:"src/screens/home/subject/header/pop-to-top/index.tsx#poptotop"})}catch(e){}},"./src/screens/home/subject/hooks.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.useSubjectPage=function(e){var c=e.$,t=(0,j.useIsFocusedRef)(),i=((0,j.useRunAfter)((0,r.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout(function(){t.current&&c.setRendered()},480),e.next=3,c.init();case 3:(0,f.t)("条目.查看",{subjectId:c.subjectId,type:c.type});case 4:case"end":return e.stop()}},e)}))),(0,j.useFocusEffect)(function(){c.updateStatusBar()}),(0,j.useMount)(function(){return function(){c.setState({mounted:!1}),setTimeout(function(){c.setState({fixed:!1}),c.unRendered()},400)}}),(0,a.useRef)(null)),d=(0,a.useRef)({});return{forwardRef:(0,a.useCallback)(function(e){i.current=e},[]),onBlockRef:(0,a.useCallback)(function(e,t){setTimeout(function(){d.current[t]=e},0)},[]),onScrollIntoViewIfNeeded:(0,a.useCallback)(function(e){try{var t;"function"==typeof(null==i||null==(t=i.current)?void 0:t.scrollToOffset)&&i.current.scrollToOffset({animated:!0,offset:e+c.onScrollY})}catch(e){}},[]),onScrollTo:(0,a.useCallback)(function(n){try{var r=n.split("(")[0].trim();i.current&&d.current[r]&&(h.IOS||h.STORYBOOK?d.current[b.TITLE_HEAD].measure(function(e,t,s,o){d.current[r].measure(function(e,t){h.STORYBOOK?(0,p.scrollToTop)(t+o+116):i.current.scrollToOffset({offset:t+o-l._.headerHeight,animated:!0}),(0,m.feedback)(),(0,f.t)("条目.跳转位置",{subjectId:c.subjectId,component:n})})}):d.current[r].measureLayout((0,u.default)(i.current),function(e,t){i.current.scrollToOffset({offset:t-l._.headerHeight,animated:!0}),(0,m.feedback)(),(0,f.t)("条目.跳转位置",{subjectId:c.subjectId,component:n})}))}catch(e){}},[])}},n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=s("./node_modules/react/index.js"),u=n(s("./node_modules/react-native-web/dist/exports/findNodeHandle/index.js")),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/utils/dom/index.ts"),f=s("./src/utils/fetch/index.ts"),j=s("./src/utils/hooks/index.ts"),h=s("./src/constants/index.ts"),b=s("./src/screens/home/subject/ds.ts")},"./src/screens/home/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=s("./src/constants/index.ts"),u=o(s("./src/screens/home/subject/component/bg/index.tsx")),l=o(s("./src/screens/home/subject/component/extra/index.tsx")),m=o(s("./src/screens/home/subject/component/list/index.tsx")),p=o(s("./src/screens/home/subject/header/index.tsx")),f=s("./src/screens/home/subject/hooks.ts"),o=o(s("./src/screens/home/subject/store/index.ts")),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(o.default,function(e,t){var t=(0,f.useSubjectPage)(t),s=t.forwardRef,o=t.onBlockRef,n=t.onScrollIntoViewIfNeeded,r=t.onScrollTo;return(0,d.useObserver)(function(){return(0,j.jsxs)(c.Component,{id:"screen-subject",children:[(0,j.jsx)(i.TapListener,{children:(0,j.jsxs)(c.Page,{statusBarEvent:!1,children:[a.IOS&&(0,j.jsx)(u.default,{}),(0,j.jsx)(m.default,{forwardRef:s,onScrollIntoViewIfNeeded:n,onBlockRef:o})]})}),(0,j.jsx)(p.default,{onScrollTo:r}),(0,j.jsx)(l.default,{})]})})});try{subject.displayName="subject",subject.__docgenInfo={description:"",displayName:"subject",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/subject/index.tsx#subject"]={docgenInfo:subject.__docgenInfo,name:"subject",path:"src/screens/home/subject/index.tsx#subject"})}catch(e){}},"./src/screens/home/subject/store/action.ts":(e,t,s)=>{var f=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),h=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),b=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),_=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=s("./src/components/index.ts"),x=s("./src/components/cover/utils.ts"),g=s("./src/components/header/utils.tsx"),v=s("./src/stores/index.ts"),O=s("./src/utils/index.ts"),T=s("./src/utils/fetch/index.ts"),S=s("./src/utils/kv/index.ts"),E=o(s("./src/utils/thirdParty/axios.js")),P=s("./src/utils/thirdParty/open-cc/index.web.ts"),I=s("./src/utils/webhooks/index.ts"),C=s("./src/constants/index.ts"),N=o(s("./src/constants/i18n/index.ts")),M=s("./src/screens/user/origin-setting/utils.ts"),o=o(s("./src/screens/home/subject/store/fetch.ts")),R=s("./src/screens/home/subject/store/ds.ts");function d(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,i.default)(s);return e=o?(e=(0,i.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var w;t.default=(s=o.default,(0,r.default)(A,s),w=d(A),(0,n.default)(A));function A(){var i;(0,h.default)(this,A);for(var t,s,o,n,r,c,d,a,u,l,e=arguments.length,m=new Array(e),p=0;p<e;p++)m[p]=arguments[p];return i=w.call.apply(w,[this].concat(m)),(0,_.default)((0,b.default)(i),"updateStatusBarTimeoutId",null),(0,_.default)((0,b.default)(i),"updateStatusBar",function(){i.updateStatusBarTimeoutId||(i.updateStatusBarTimeoutId=setTimeout(function(){y.StatusBar.setBarStyle(!v._.isDark&&i.state.fixed?"dark-content":"light-content"),i.updateStatusBarTimeoutId=null},80))}),(0,_.default)((0,b.default)(i),"showManageModel",function(){(0,T.t)("条目.显示收藏管理",{subjectId:i.subjectId}),i.setState({visible:!0})}),(0,_.default)((0,b.default)(i),"closeManageModal",function(){i.setState({visible:!1})}),(0,_.default)((0,b.default)(i),"toggleReverseEps",function(){(0,T.t)("条目.章节倒序",{subjectId:i.subjectId});var e=i.state.epsReverse;i.setState({epsReverse:!e}),i.save()}),(0,_.default)((0,b.default)(i),"toggleReverseComments",function(){(0,T.t)("条目.吐槽倒序",{subjectId:i.subjectId});var e=i.subjectComments._reverse;i.fetchSubjectComments(!0,!e)}),(0,_.default)((0,b.default)(i),"changeText",function(e,t){(0,T.t)("条目.书籍章节输入框改变",{subjectId:i.subjectId});try{i.setState((0,_.default)({},e,String(t)))}catch(e){console.error(R.NAMESPACE,"changeText",e)}}),(0,_.default)((0,b.default)(i),"onlinePlaySelected",(t=(0,j.default)(f.mark(function e(t){var s,o,n,r,c;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((e.prev=0,T.t)("条目.搜索源",{type:t,subjectId:i.subjectId,subjectType:i.type}),"AGE动漫"===t&&((n=i.params._aid)?s=(0,C.SITE_AGEFANS)()+"/detail/"+n:null!=(n=v.otaStore.anime(i.subjectId))&&n.ageId&&(s=(0,C.SITE_AGEFANS)()+"/detail/"+n.ageId)),s)e.next=11;else if(o=i.onlineOrigins.find(function(e){return e.name===t})){if("萌番组"===t&&o.id)return(0,O.copy)(i.cn||i.jp),setTimeout(function(){(0,O.open)(o.url)},1600),e.abrupt("return");e.next=10}else e.next=11;break;case 10:s=(0,M.replaceOriginUrl)(o.url,{CN:i.cn||i.jp,JP:i.jp||i.cn,ID:i.subjectId});case 11:s?e.next=28:(n=i.state.bangumiInfo,r=n.sites,r=void 0===r?[]:r,e.t0=t,e.next="AGE动漫"===e.t0?17:"Anime1"===e.t0?19:"奇奇动漫"===e.t0?21:"Hanime1"===e.t0?23:25);break;case 17:return s=(0,C.SITE_AGEFANS)()+"/search?query="+encodeURIComponent(i.cn||i.jp)+"&page=1",e.abrupt("break",28);case 19:return s="https://anime1.me/?s="+encodeURIComponent((0,P.s2t)(i.cn||i.jp)),e.abrupt("break",28);case 21:return s="https://www.qiqidongman.com/vod-search-wd-"+encodeURIComponent(i.cn||i.jp)+".html",e.abrupt("break",28);case 23:return s="https://hanime1.me/search?query="+encodeURIComponent(i.jp||i.cn),e.abrupt("break",28);case 25:return(c=r.find(function(e){return e.site===t}))&&(s=(0,O.getBangumiUrl)(c)),e.abrupt("break",28);case 28:i.open(s),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),console.error(R.NAMESPACE,"onlinePlaySelected",e.t1);case 34:case"end":return e.stop()}},e,null,[[0,31]])})),function(e){return t.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"open",function(e){var t;e&&((t=v.systemStore.setting.openInfo)&&(0,O.copy)(e,"已复制地址，即将跳转"),setTimeout(function(){(0,O.open)(e)},t?C.STORYBOOK?400:1600:0))}),(0,_.default)((0,b.default)(i),"onlineComicSelected",function(t){try{(0,T.t)("条目.搜索源",{type:t,subjectId:i.subjectId,subjectType:i.type});var e,s=i.onlineComicOrigins.find(function(e){return e.name===t});s&&(e=(0,M.replaceOriginUrl)(s.url,{CN:i.cn||i.jp,JP:i.jp||i.cn,ID:i.subjectId})),i.open(e)}catch(e){console.error(R.NAMESPACE,"onlineComicSelected",e)}}),(0,_.default)((0,b.default)(i),"onlineDiscSelected",function(t){try{(0,T.t)("条目.搜索源",{type:t,subjectId:i.subjectId,subjectType:i.type});var e,s=i.onlineDiscOrigins.find(function(e){return e.name===t});s&&(e=(0,M.replaceOriginUrl)(s.url,{CN:i.cn||i.jp,JP:i.jp||i.cn,ID:i.subjectId})),i.open(e)}catch(e){console.error(R.NAMESPACE,"onlineDiscSelected",e)}}),(0,_.default)((0,b.default)(i),"onlineGameSelected",function(t){try{(0,T.t)("条目.搜索源",{type:t,subjectId:i.subjectId,subjectType:i.type});var e,s=i.onlineGameOrigins.find(function(e){return e.name===t});s&&(e=(0,M.replaceOriginUrl)(s.url,{CN:i.cn||i.jp,JP:i.jp||i.cn,ID:i.subjectId})),i.open(e)}catch(e){console.error(R.NAMESPACE,"onlineGameSelected",e)}}),(0,_.default)((0,b.default)(i),"toManhuadb",function(){var e=(i.source||{}).mangaId,e=((0,T.t)("条目.阅读漫画",{subjectId:i.subjectId,mid:e}),(0,C.SITE_MANHUADB)()+"/manhua/"+e);i.open(e)}),(0,_.default)((0,b.default)(i),"toWenku8",function(){var e=(i.source||{}).wenkuId,e=((0,T.t)("条目.阅读轻小说",{subjectId:i.subjectId,wid:e}),(0,C.SITE_WK8)()+"/novel/"+Math.floor(e/1e3)+"/"+e+"/index.htm");i.open(e)}),(0,_.default)((0,b.default)(i),"toPSNINE",function(){(0,T.t)("条目.查看奖杯",{subjectId:i.subjectId}),(0,O.open)("https://psnine.com/psngame?title="+encodeURIComponent(i.cn||i.jp))}),(0,_.default)((0,b.default)(i),"updateFilterEps",function(e){e=parseInt(e.match(/\d+/g)[0]);(0,T.t)("条目.设置章节筛选",{subjectId:i.subjectId,filterEps:e=1===e?0:e}),i.setState({filterEps:e}),i.save()}),(0,_.default)((0,b.default)(i),"filterScores",function(e){(0,T.t)("条目.筛选分数",{subjectId:i.subjectId,label:e}),i.setState({filterScores:"全部"===e?[]:e.split("-")})}),(0,_.default)((0,b.default)(i),"filterStatus",(s=(0,j.default)(f.mark(function e(t){var s;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s="全部"!==t&&C.MODEL_RATING_STATUS.getValue(t)||"")===i.state.filterStatus)return e.abrupt("return");e.next=3;break;case 3:return(0,T.t)("条目.筛选吐槽状态",{subjectId:i.subjectId,label:t}),i.setState({filterStatus:s,filterScores:[]}),i.save(),e.next=8,i.fetchSubjectComments(!0,!1);case 8:(0,O.feedback)();case 9:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"toRating",function(e,t,s){(0,T.t)("条目.跳转",{to:"Rating",from:t,subjectId:i.subjectId,status:s});var t=i.subjectCollection,o=t.wish,n=t.collect,r=t.doing,c=t.on_hold,t=t.dropped;e.push("Rating",{subjectId:i.subjectId,status:s,name:(0,O.cnjp)(i.cn,i.jp),wish:o,collect:n,doing:r,onHold:c,dropped:t,type:i.type})}),(0,_.default)((0,b.default)(i),"onSwitchBlock",function(e){(0,T.t)("条目.展开收起功能块",{key:e}),v.systemStore.switchSetting(e)}),(0,_.default)((0,b.default)(i),"hiddenBlock",function(e){(0,T.t)("条目.展开收起功能块",{key:e+" | -1"}),v.systemStore.setSetting(e,-1)}),(0,_.default)((0,b.default)(i),"setRendered",function(){i.state.rendered||i.setState({rendered:!0})}),(0,_.default)((0,b.default)(i),"unRendered",function(){i.state.rendered&&i.setState({rendered:!1})}),(0,_.default)((0,b.default)(i),"toggleFolder",function(){var e;i.isLogin?(e=i.state.folder,i.setState({folder:!e}),e||(0,T.t)("条目.管理目录",{subjectId:i.subjectId})):(0,O.info)("请先"+N.default.login())}),(0,_.default)((0,b.default)(i),"onSelectOnAir",function(e,t){(0,T.t)("条目.自定义放送",{subjectId:i.subjectId}),v.calendarStore.updateOnAirUser(i.subjectId,e,t)}),(0,_.default)((0,b.default)(i),"resetOnAirUser",function(){(0,T.t)("条目.重置放送",{subjectId:i.subjectId}),v.calendarStore.resetOnAirUser(i.subjectId)}),(0,_.default)((0,b.default)(i),"onActionsPress",function(t,e){return"跳转管理"===t?(e.push("Actions",{subjectId:i.subjectId,name:i.cn||i.jp}),!0):!!(e=i.actions.find(function(e){return e.name===t}))&&((0,O.open)(e.url,!0),(0,T.t)("其他.自定义跳转",{from:"Subject",key:i.subjectId+"|"+e.name+"|"+e.url}),!0)}),(0,_.default)((0,b.default)(i),"addBlockUser",function(e){(0,O.confirm)("屏蔽来自 "+(null==e?void 0:e.userName)+"@"+(null==e?void 0:e.userId)+" 的包括条目评论、时间胶囊、超展开相关信息，确定?",function(){(0,T.t)("条目.屏蔽用户",{userId:e.userId}),v.rakuenStore.addBlockUser(e.userName+"@"+e.userId),(0,O.info)("已屏蔽 "+e.userName)})}),(0,_.default)((0,b.default)(i),"doBlockUser",function(t){(0,O.confirm)("与 "+t.userName+" 绝交（不再看到用户的所有话题、评论、日志、私信、提醒）?",(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.rakuenStore.formhash){e.next=3;break}return e.next=3,v.rakuenStore.fetchPrivacy();case 3:v.rakuenStore.doBlockUser({keyword:String(t.userId)},(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,T.t)("条目.绝交"),(0,O.info)("已添加绝交"),(0,O.feedback)(),v.rakuenStore.fetchPrivacy();case 4:case"end":return e.stop()}},e)})),function(){(0,O.info)("添加失败, 可能授权信息过期")});case 4:case"end":return e.stop()}},e)})))}),(0,_.default)((0,b.default)(i),"onTrackUsersCollection",function(e,t,s,o){return!(null==t||!t.userId)&&(e===R.TEXT_LIKES?i.isLogin?v.uiStore.showLikesGrid(i.subjectId,o,v.userStore.formhash,C.LIKE_TYPE_TIMELINE,{recommandPosition:"top"}):((0,O.info)("请先登录"),!1):void(e===R.TEXT_COPY_COMMENT?i.onCopyComment(t,s):e===R.TEXT_BLOCK_USER?i.addBlockUser(t):e===R.TEXT_IGNORE_USER?i.doBlockUser(t):i.type&&(s=(o=t||{}).avatar,e=o.userId,t=o.userName,v.systemStore.trackUsersCollection(e,i.subjectTypeValue),v.usersStore.updateUsersInfo({avatar:s,userId:e,userName:t}),v.collectionStore.fetchUsersCollection(e,i.subjectId),(0,T.t)("条目.特别关注",{subjectId:i.subjectId,type:i.subjectTypeValue,userId:e}))))}),(0,_.default)((0,b.default)(i),"onCancelTrackUsersCollection",function(e,t){i.type&&null!=t&&t.userId&&(t=(t||{}).userId,v.systemStore.cancelTrackUsersCollection(t,i.subjectTypeValue),(0,T.t)("条目.取消特别关注",{subjectId:i.subjectId,type:i.subjectTypeValue,userId:t}))}),(0,_.default)((0,b.default)(i),"onCopyComment",function(e,t){(0,O.copy)(t,"已复制 "+(null==e?void 0:e.userName)+" 的评论"),(0,O.feedback)()}),(0,_.default)((0,b.default)(i),"onPostShare",(o=(0,j.default)(f.mark(function e(t){var s,o,n;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return s=i.subject.images,(o=(0,C.CDN_OSS_SUBJECT)((0,O.getCoverMedium)(null==s?void 0:s.common))).includes(C.HOST_CDN)||(o=(0,O.getCoverLarge)(null==s?void 0:s.common)),s=(0,O.loading)("下载封面中..."),E.default.defaults.withCredentials=!1,e.next=9,(0,E.default)({method:"get",url:o.replace("http://","https://"),responseType:"arraybuffer"});case 9:o=e.sent,n=o.request,s(),t.push("Share",{_subjectId:i.subjectId,_type:i.type,_url:C.HOST+"/subject/"+i.subjectId,_cover:"data:image/jpg;base64,"+n._response,_title:(0,O.cnjp)(i.cn,i.jp),_content:i.summary.replace(/\r\n\r\n/g,"\r\n"),_detail:i.tags.filter(function(e,t){return t<=4}).map(function(e){return e.name}).join(" · ")}),(0,T.t)("条目.拼图分享",{subjectId:i.subjectId,spa:!1});case 14:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"onWebShare",function(){var e=C.URL_SPA+"/"+(0,O.getSPAParams)("Subject",{subjectId:i.subjectId});(0,O.copy)("【链接】"+(0,O.cnjp)(i.cn,i.jp)+" | Bangumi番组计划\n"+e,"已复制 APP 网页版地址"),setTimeout(function(){(0,O.open)(e)},1600),(0,T.t)("条目.拼图分享",{subjectId:i.subjectId,spa:!0})}),(0,_.default)((0,b.default)(i),"toggleVersion",(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({filterVersion:!i.state.filterVersion}),i.save(),e.next=4,i.fetchSubjectComments(!0,!1);case 4:(0,O.feedback)();case 5:case"end":return e.stop()}},e)}))),(0,_.default)((0,b.default)(i),"prepareFlip",function(){i.setState({flip:!0})}),(0,_.default)((0,b.default)(i),"afterFlip",function(){var e=i.state.flipKey;i.setState({flip:!1}),setTimeout(function(){i.setState({flipKey:e+1})},400)}),(0,_.default)((0,b.default)(i),"prepareEpsFlip",function(){i.setState({flipEps:!0})}),(0,_.default)((0,b.default)(i),"afterEpsFlip",(0,O.debounce)(function(){i.setState({flipEps:!1})})),(0,_.default)((0,b.default)(i),"updateVisibleBottom",O.updateVisibleBottom.bind((0,b.default)(i))),(0,_.default)((0,b.default)(i),"onScrollY",0),(0,_.default)((0,b.default)(i),"closeLikesGridTimeoutId",null),(0,_.default)((0,b.default)(i),"onScroll",function(e){var t=e.nativeEvent.contentOffset.y;i.onScrollY=t,i.updateVisibleBottom(e),!i.closeLikesGridTimeoutId&&t>=2*v._.window.height&&(i.closeLikesGridTimeoutId=setTimeout(function(){v.uiStore.closeLikesGrid(),i.closeLikesGridTimeoutId=null},80)),i.state.fixed&&t>g.HEADER_TRANSITION_HEIGHT||!i.state.fixed&&t<=g.HEADER_TRANSITION_HEIGHT||(i.setState({fixed:t>g.HEADER_TRANSITION_HEIGHT}),i.updateStatusBar())}),(0,_.default)((0,b.default)(i),"doUpdateCollection",(n=(0,j.default)(f.mark(function e(t){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,T.t)("条目.管理收藏",{subjectId:i.subjectId}),e.prev=1,i.prepareFlip(),i.setState({disabled:!0}),e.next=6,v.collectionStore.doUpdateCollection(Object.assign({},t,{noConsole:!0}));case 6:v.collectionStore.fetchCollection(i.subjectId),v.collectionStore.fetchCollectionStatusQueue([i.subjectId]),t.status!==C.MODEL_COLLECTION_STATUS.getValue("在看")?v.userStore.removeCollection(t.subjectId):v.userStore.addCollection(t.subjectId),i.closeManageModal(),(0,I.webhookCollection)(t,i.subject,v.userStore.userInfo),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(R.NAMESPACE,"doUpdateCollection",e.t0);case 16:i.setState({disabled:!1});case 17:case"end":return e.stop()}},e,null,[[1,13]])})),function(e){return n.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"toEp",function(e,t){(0,T.t)("条目.章节菜单操作",{title:"本集讨论",subjectId:i.subjectId}),(0,O.appNavigate)(e.url||"/ep/"+e.id,t,{_title:"ep"+e.sort+"."+(e.name||e.name_cn),_group:i.subject.name||i.subject.name_cn,_groupThumb:(0,x.getCoverSrc)(null==(t=i.subject.images||{})?void 0:t.medium,C.IMG_WIDTH),_desc:"时长:"+e.duration+" / 首播:"+e.airdate+"<br />"+(e.desc||"").replace(/\r\n/g,"<br />")},{id:"条目.跳转",data:{from:"章节",subjectId:i.subjectId}})}),(0,_.default)((0,b.default)(i),"toPlay",function(r){setTimeout(function(){(0,O.showActionSheet)(i.onlinePlayActionSheetData,function(e){(0,T.t)("条目.章节菜单操作",{title:i.onlinePlayActionSheetData[e],subjectId:i.subjectId});var t,s=1===r.type,o=i.state.epsData,n=i.subject.eps,n=void 0===n?[]:n,e=i.onlinePlayActionSheetData[e];(t=C.SITES.includes(e)?!s&&(s=n.filter(function(e){return 0===e.type}).findIndex(function(e){return e.id===r.id}),o[e][s])||(0,O.getBangumiUrl)({id:r.id,site:e}):t)&&(0,O.open)(t)})},320)}),(0,_.default)((0,b.default)(i),"doSaveCalenderEvent",function(e){(0,O.saveCalenderEvent)(e,(0,O.cnjp)(i.cn,i.jp),i.onAirCustom),(0,T.t)("其他.添加日历",{subjectId:i.subjectId,sort:(null==e?void 0:e.sort)||0,from:"Subject"})}),(0,_.default)((0,b.default)(i),"doUpdateEpStatus",(r=(0,j.default)(f.mark(function e(t,s){var o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=C.MODEL_EP_STATUS.getValue(t),(0,T.t)("条目.章节菜单操作",{title:"更新收视进度",subjectId:i.subjectId,status:o}),i.prepareEpsFlip(),e.next=5,v.userStore.doUpdateEpStatus({id:s.id,status:o});case 5:v.userStore.fetchCollectionSingle(i.subjectId),v.userStore.fetchUserProgress(i.subjectId),(0,I.webhookEp)(Object.assign({},s,{status:o,batch:!1}),i.subject,v.userStore.userInfo);case 8:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doUpdateSubjectWatched",(c=(0,j.default)(f.mark(function e(t){var s,o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,T.t)("条目.章节菜单操作",{title:"批量更新收视进度",subjectId:i.subjectId}),s=(i.subject.eps||[]).filter(function(e){return 0===e.type}).sort(function(e,t){return(0,O.asc)(e,t,function(e){return e.sort||0})}).findIndex(function(e){return e.sort===t.sort}),o=-1!==s||(o=Number(i.subjectFormHTML.totalEps))&&t.sort>=o?s+1:t.sort,i.nsfw)return i.doUpdateEp({eps:o}),e.abrupt("return");e.next=6;break;case 6:return i.prepareEpsFlip(),e.next=9,v.userStore.doUpdateSubjectWatched({subjectId:i.subjectId,sort:o});case 9:return v.userStore.fetchCollectionSingle(i.subjectId),v.userStore.fetchUserProgress(i.subjectId),(0,I.webhookEp)(Object.assign({},t,{status:"watched",batch:!0}),i.subject,v.userStore.userInfo),e.abrupt("return");case 13:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doEpsSelect",(d=(0,j.default)(f.mark(function e(t,s,o){var n;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.includes("本集讨论")||t.includes("(+"))return i.toEp(s,o),e.abrupt("return");e.next=4;break;case 4:if("正版播放"===t)return i.toPlay(s),e.abrupt("return");e.next=7;break;case 7:if("添加提醒"===t)return i.doSaveCalenderEvent(s),e.abrupt("return");e.next=10;break;case 10:if(n=i.collection.status,"未收藏"===(void 0===n?{name:"未收藏"}:n).name)e.next=23;else{if(C.MODEL_EP_STATUS.getValue(t))return i.doUpdateEpStatus(t,s),e.abrupt("return");e.next=16}break;case 16:if("看到"!==t)e.next=22;else{if(24<(null==s?void 0:s.sort))return(0,O.confirm)("确认看到"+s.sort+"集?",function(){i.doUpdateSubjectWatched(s)}),e.abrupt("return");e.next=20}break;case 20:return i.doUpdateSubjectWatched(s),e.abrupt("return");case 22:return e.abrupt("return");case 23:(0,O.info)("收藏了才能管理哦"),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(R.NAMESPACE,"doEpsSelect",e.t0);case 29:case"end":return e.stop()}},e,null,[[0,26]])})),function(e,t,s){return d.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doUpdateNext",(a=(0,j.default)(f.mark(function e(t){var s,o,n;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,T.t)("条目.更新书籍下一个章节",{subjectId:i.subjectId}),s=i.state,n=s.chap,s=s.vol,o=String(parseInt(i.state[t]||0)+1),n=(0,_.default)({subjectId:i.subjectId,chap:n,vol:s},t,o),i.doUpdateEp({eps:n.chap,vol:n.vol},!0);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doUpdateBookEp",(0,j.default)(f.mark(function e(){var t,s;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,T.t)("条目.更新书籍章节",{subjectId:i.subjectId}),s=i.state,t=s.chap,s=s.vol,i.doUpdateEp({eps:t,vol:s},!0);case 3:case"end":return e.stop()}},e)}))),(0,_.default)((0,b.default)(i),"doUpdateSubjectEp",(0,j.default)(f.mark(function e(){var t;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,T.t)("条目.输入框更新章节",{subjectId:i.subjectId}),t=i.state.watchedEps,i.doUpdateEp({eps:t});case 3:case"end":return e.stop()}},e)}))),(0,_.default)((0,b.default)(i),"doUpdateEp",(u=(0,j.default)(f.mark(function e(t){var s,o,n,r=arguments;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=t.eps,o=t.vol,n=1<r.length&&void 0!==r[1]&&r[1];try{i.prepareEpsFlip(),v.collectionStore.doUpdateSubjectEp({subjectId:i.subjectId,watchedEps:s,watchedVols:o},(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.userStore.fetchCollectionSingle(i.subjectId),e.next=3,v.userStore.fetchUserProgress(i.subjectId);case 3:return e.next=5,i.fetchSubjectFromHTML();case 5:i.save(),i.afterEpsFlip(),n&&((0,O.info)("已提交"),(0,O.feedback)()),(0,I.webhookEp)({status:"watched",sort:s,vols:o,batch:!1},i.subject,v.userStore.userInfo);case 9:case"end":return e.stop()}},e)})))}catch(e){console.error(R.NAMESPACE,"doUpdateEp",e)}case 3:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doEpsLongPress",(l=(0,j.default)(f.mark(function e(t){var s,o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,(0,T.t)("条目.章节按钮长按",{subjectId:i.subjectId}),e.prev=2,o=i.userProgress,o=o[s]?C.MODEL_EP_STATUS.getValue("撤销"):C.MODEL_EP_STATUS.getValue("看过"),e.next=7,v.userStore.doUpdateEpStatus({id:s,status:o});case 7:(0,O.feedback)(),v.userStore.fetchCollectionSingle(i.subjectId),v.userStore.fetchUserProgress(i.subjectId),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(R.NAMESPACE,"doEpsLongPress",e.t0);case 15:case"end":return e.stop()}},e,null,[[2,12]])})),function(e){return l.apply(this,arguments)})),(0,_.default)((0,b.default)(i),"doEraseCollection",(0,j.default)(f.mark(function e(){var t;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.subjectFormHTML.formhash){e.next=3;break}return e.abrupt("return");case 3:return(0,T.t)("条目.删除收藏",{subjectId:i.subjectId}),e.prev=4,i.prepareFlip(),i.setState({disabled:!0}),e.next=9,v.userStore.doEraseCollection({subjectId:i.subjectId,formhash:t},function(){},function(){setTimeout(function(){v.collectionStore.removeStatus(i.subjectId),i.fetchCollection(),v.collectionStore.fetchCollectionStatusQueue([i.subjectId]),v.userStore.removeCollection(i.subjectId)},40)});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(R.NAMESPACE,"doEraseCollection",e.t0);case 14:i.setState({disabled:!1});case 15:case"end":return e.stop()}},e,null,[[4,11]])}))),(0,_.default)((0,b.default)(i),"doTranslate",(0,j.default)(f.mark(function e(){var t,s;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state.translateResult.length)return e.abrupt("return");e.next=2;break;case 2:return(0,T.t)("条目.翻译简介",{subjectId:i.subjectId}),e.prev=3,t=(0,O.loading)("请求中..."),e.next=7,(0,T.baiduTranslate)(i.summary);case 7:if(s=e.sent,t(),s=JSON.parse(s),s=s.trans_result,Array.isArray(s))return i.setState({translateResult:s}),e.abrupt("return");e.next=13;break;case 13:(0,O.info)("翻译失败, 请重试"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),t&&t(),(0,O.info)("翻译失败, 请重试");case 20:case"end":return e.stop()}},e,null,[[3,16]])}))),(0,_.default)((0,b.default)(i),"doDiscTranslate",(0,j.default)(f.mark(function e(){var s,t,o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state.discTranslateResult.length)return e.abrupt("return");e.next=2;break;case 2:return(0,T.t)("条目.翻译曲目",{subjectId:i.subjectId}),s=[],i.disc.forEach(function(e){e.disc.forEach(function(e,t){s.push(e.title.replace(t+1+" ",""))})}),e.prev=5,t=(0,O.loading)("请求中..."),e.next=9,(0,T.baiduTranslate)(s.join("\n"));case 9:if(o=e.sent,t(),o=JSON.parse(o),o=o.trans_result,Array.isArray(o))return i.setState({discTranslateResult:o}),e.abrupt("return");e.next=15;break;case 15:(0,O.info)("翻译失败, 请重试"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),t&&t(),(0,O.info)("翻译失败, 请重试");case 22:case"end":return e.stop()}},e,null,[[5,18]])}))),(0,_.default)((0,b.default)(i),"doExportCalenderEventICS",(0,j.default)(f.mark(function e(){var t,n,r,s;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.subject.eps||[]).filter(function(e){return 0===e.type}).length){e.next=19;break}if((t=100<=i.subject.eps.length?i.subject.eps.filter(function(e){return"NA"===e.status}):i.subject.eps).length){e.next=6;break}return(0,O.info)("没有数据"),e.abrupt("return");case 6:return n=i.onAirCustom,r=["BEGIN:VCALENDAR","PRODID:-//Bangumi//Anime Calendar//CN","VERSION:2.0","METHOD:PUBLISH","CALSCALE:GREGORIAN","X-WR-CALNAME:Bangumi放送日程","X-APPLE-CALENDAR-COLOR:#FE8A95"],t.forEach(function(e){var t=(0,O.genICSCalenderEventDate)(e,n),s=t.DTSTART,t=t.DTEND,o="https://bgm.tv/ep/"+e.id;(e.name_cn||e.name)&&(o+=" ("+(e.name_cn||e.name)+")"),r.push("BEGIN:VEVENT","UID:"+i.subjectId+"-"+e.id,"TZID:Asia/Shanghai","DTSTART:"+s,"DTEND:"+t,"SUMMARY:"+(0,O.cnjp)(i.subject.name_cn,i.subject.name)+" ep."+e.sort,"DESCRIPTION:"+o,"TRANSP:OPAQUE","END:VEVENT")}),r.push("END:VCALENDAR"),e.next=12,(0,S.temp)(i.userId+"_"+i.subjectId+".ics",r.join("\n"),-1);case 12:if(s=e.sent,null!=(s=s.data)&&s.downloadKey){e.next=17;break}return(0,O.info)("未知错误，生成ics失败，重试或联系作者"),e.abrupt("return",!1);case 17:(0,T.t)("条目.导出日程",{subjectId:i.subjectId,userId:i.userId}),(0,O.open)((0,S.download)(s.downloadKey));case 19:case"end":return e.stop()}},e)}))),i}},"./src/screens/home/subject/store/computed.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=(o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/stores/calendar/onair/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/subject/adv/index.ts"),y=s("./src/utils/subject/anime/index.ts"),x=s("./src/utils/subject/game/index.ts"),g=s("./src/utils/subject/manga/index.ts"),v=s("./src/utils/subject/wenku/index.ts"),O=s("./src/constants/index.ts"),T=s("./src/screens/home/subject/ds.ts"),S=s("./src/screens/user/origin-setting/utils.ts"),o=o(s("./src/screens/home/subject/store/state.ts")),E=s("./src/screens/home/subject/store/ds.ts"),P=s("./node_modules/react/jsx-runtime.js");function I(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=o?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var C;t.default=(s=o.default,(0,d.default)(N,s),C=I(N),(0,c.default)(N,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"namespace",get:function(){return E.NAMESPACE+"|"+this.subjectId}},{key:"nsfw",get:function(){var e;return(null==(e=this.subject)?void 0:e.v0)||(0,b.x18)(this.subjectId,this.cn||this.jp)}},{key:"onAirCustom",get:function(){return(0,b.getOnAir)(j.calendarStore.onAir[this.subjectId],j.calendarStore.onAirUser(this.subjectId))}},{key:"filterDefault",get:function(){return j.systemStore.setting.filterDefault}},{key:"showComment",get:function(){return j.systemStore.setting.showComment}},{key:"footerEmptyDataComponent",get:function(){if(-1===this.showComment)return(0,P.jsx)(p.default,{})}},{key:"url",get:function(){return O.HOST+"/subject/"+this.subjectId}},{key:"isLogin",get:function(){return j.userStore.isLogin}},{key:"userId",get:function(){return j.userStore.userInfo.id}},{key:"subject",get:function(){return j.subjectStore.subject(this.subjectId)}},{key:"subjectFormHTML",get:function(){return j.subjectStore.subjectFormHTML(this.subjectId)}},{key:"subjectFormCDN",get:function(){return j.subjectStore.subjectFormCDN(this.subjectId)}},{key:"subjectFromOSS",get:function(){return this.state.subject}},{key:"subjectComments",get:function(){var e,t,s=j.subjectStore.subjectComments(this.subjectId);return!s._loaded&&null!=(e=this.state.comments.list)&&e.length&&(s=this.state.comments),this.showComment&&-1!==this.showComment?(t=this.state.filterScores,this.filterDefault||j.userStore.isLimit?Object.assign({},s,{list:s.list.filter(function(e){return t.length?!e.avatar.includes(O.URL_DEFAULT_AVATAR)&&Number(e.star)>=Number(t[0])&&Number(e.star)<=Number(t[1]):!e.avatar.includes(O.URL_DEFAULT_AVATAR)}),version:s.version||!1}):t.length?Object.assign({},s,{list:s.list.filter(function(e){return Number(e.star)>=Number(t[0])&&Number(e.star)<=Number(t[1])}),version:s.version||!1}):s):{list:[],pagination:{page:(e=s.pagination.pageTotal)||1,pageTotal:e},version:s.version||!1,_reverse:s._reverse,_loaded:(0,b.getTimestamp)()}}},{key:"cover",get:function(){var e;return this.params._imageForce||(null!=(e=this.subject.images)&&e.common?(0,b.matchCoverUrl)(this.subject.images.common):"")||this.subjectFromOSS.image||O.IMG_DEFAULT}},{key:"collection",get:function(){return j.collectionStore.collection(this.subjectId)}},{key:"userProgress",get:function(){return j.userStore.userProgress(this.subjectId)}},{key:"type",get:function(){if(!this.subject._loaded){var e=this.params._type,e=void 0===e?"":e;if(e)return e}return O.MODEL_SUBJECT_TYPE.getTitle(this.subject.type||(null==(e=this.state)||null==(e=e.subject)?void 0:e.type))}},{key:"subjectType",get:function(){return this.subject._loaded?this.subject.type:this.subjectFromOSS.type||this.subjectFormCDN.type}},{key:"subjectTypeValue",get:function(){return O.MODEL_SUBJECT_TYPE.getLabel(this.subjectType)}},{key:"rank",get:function(){var e;return this.subject.rank||j.subjectStore.ratingRank(this.subjectId)||(null==(e=this.subjectFromOSS)||null==(e=e.rating)?void 0:e.rank)||0}},{key:"vib",get:function(){return j.subjectStore.vib(this.subjectId)}},{key:"onlinePlayActionSheetData",get:function(){var t=this.state.epsData,s=[];return O.SITES.forEach(function(e){t[e]&&Object.keys(t[e]).length&&s.push(e)}),s.push("取消"),s}},{key:"action",get:function(){switch(this.type){case"音乐":return"听";case"游戏":return"玩";case"书籍":return"读";default:return"看"}}},{key:"isLimit",get:function(){return j.userStore.isLimit}},{key:"hideScore",get:function(){return j.systemStore.setting.hideScore}},{key:"userOrigins",get:function(){return(0,S.getOriginConfig)(j.subjectStore.origin,"anime")}},{key:"actions",get:function(){var e=j.subjectStore.actions(this.subjectId);return e.length?j.subjectStore.actions(this.subjectId).slice().filter(function(e){return e.active}).sort(function(e,t){return(0,b.desc)(e.sort||0,t.sort||0)}):e}},{key:"onlineOrigins",get:function(){var e,t=[],s=(["动画"].includes(this.type)&&(null!=j.systemStore&&null!=(s=j.systemStore.ota)&&s.X18&&this.isLogin&&(e=(e=this.nsfw?!0:e)||this.tags.some(function(e){return e.name.includes("里番")}))&&(0,S.getOriginConfig)(j.subjectStore.origin,"hanime").filter(function(e){return e.active}).forEach(function(e){t.push(e)}),(0,S.getOriginConfig)(j.subjectStore.origin,"anime").filter(function(e){return e.active}).forEach(function(e){t.push(e)})),["三次元"].includes(this.type)&&(0,S.getOriginConfig)(j.subjectStore.origin,"real").filter(function(e){return e.active}).forEach(function(e){t.push(e)}),this.state.bangumiInfo.sites);return(void 0===s?[]:s).filter(function(e){return O.SITES_DS.includes(e.site)}).forEach(function(e){t.push(e.site)}),t}},{key:"onlineComicOrigins",get:function(){return(0,S.getOriginConfig)(j.subjectStore.origin,this.titleLabel.includes("小说")?"wenku":"manga").filter(function(e){return e.active})}},{key:"onlineDiscOrigins",get:function(){return(0,S.getOriginConfig)(j.subjectStore.origin,"music").filter(function(e){return e.active})}},{key:"onlineGameOrigins",get:function(){return(0,S.getOriginConfig)(j.subjectStore.origin,"game").filter(function(e){return e.active})}},{key:"isPS",get:function(){return"游戏"===this.type&&(this.info.includes("PS4")||this.info.includes("PS3")||this.info.includes("PS5"))}},{key:"animeInfo",get:function(){var e;return"动画"===this.type&&null!=(e=(0,y.findAnime)(this.subjectId))&&e.i?e:null}},{key:"animeTags",get:function(){var e,t,s,o,n=h.ON_AIR[this.subjectId];return(this.animeInfo||n)&&((t=(0,b.isArray)(null==(e=this.animeInfo)?void 0:e.t)?this.animeInfo.t.map(function(e){return y.ANIME_TAGS[e]}).filter(function(e){return!!e}):t)||n)?(s=[],o={},t&&t.forEach(function(e){s.push({pressable:!0,value:e}),o[e]=!0}),n&&(o[n.type]||s.push({pressable:!1,value:n.type}),n.origin.split("/").forEach(function(e){o[e]||s.push({pressable:!1,value:e})}),n.tag.split("/").forEach(function(e){o[e]||s.push({pressable:!1,value:e})})),s):null}},{key:"gameInfo",get:function(){var e;return"游戏"!==this.type?null:null!=(e=(0,x.findGame)(this.subjectId))&&e.i?Object.assign({},e,{isADV:!1}):null!=(e=(0,_.findADV)(this.subjectId))&&e.i?Object.assign({},e,{isADV:!0}):null}},{key:"gameTags",get:function(){var e;return!this.gameInfo||null!=(e=this.gameInfo)&&e.isADV?null:((null==(e=this.gameInfo)?void 0:e.ta)||[]).map(function(e){return x.GAME_CATE[e]})}},{key:"mangaInfo",get:function(){var e;return"书籍"===this.type&&null!=(e=(0,g.findManga)(this.subjectId))&&e.i?e:null}},{key:"mangaTags",get:function(){var e;return this.mangaInfo?((null==(e=this.mangaInfo)?void 0:e.b)||[]).map(function(e){return g.MANGA_TAGS[e]}):null}},{key:"wenkuInfo",get:function(){var e;return"书籍"===this.type&&null!=(e=(0,v.findWenku)(this.subjectId))&&e.i?e:null}},{key:"wenkuTags",get:function(){var e;return this.wenkuInfo?((null==(e=this.wenkuInfo)?void 0:e.j)||[]).map(function(e){return v.WENKU_TAGS[e]}):null}},{key:"source",get:function(){return"书籍"!==this.type?null:{mangaId:0,wenkuId:0}}},{key:"filterEpsData",get:function(){var e=["从 1 起"];if(!(this.eps.length<100))for(var t=Math.floor(this.eps.length/100),s=1;s<=t;s+=1)e.push("从 "+100*s+" 开始");return e}},{key:"status",get:function(){var e=this.subjectCollection,t=e.wish,t=void 0===t?0:t,s=e.collect,s=void 0===s?0:s,o=e.doing,o=void 0===o?0:o,n=e.on_hold,n=void 0===n?0:n,e=e.dropped,e=void 0===e?0:e,r=[];return t&&r.push({status:"wishes",text:t+"想"+this.action}),s&&r.push({status:"collections",text:""+s+this.action+"过"}),o&&r.push({status:"doings",text:o+"在"+this.action}),n&&r.push({status:"on_hold",text:n+"搁置"}),e&&r.push({status:"dropped",text:e+"抛弃"}),t+s+o+n+e&&r.push({status:"",text:"总"+(t+s+o+n+e)}),r}},{key:"release",get:function(){var e;return(null==(e=this.info.match(/<li><span>(发售日|放送开始|上映年度|上映时间): <\/span>(.+?)<\/li>/))?void 0:e[2])||""}},{key:"year",get:function(){var e=(null==(e=((null==(e=this.info.match(/<li><span>(连载开始|开始): <\/span>(.+?)<\/li>/))?void 0:e[2])||"").match(/(\d{4})/))?void 0:e[0])||"";return e||(null==(e=((null==(e=this.info.match(/<li><span>(发售日|发售日期|放送开始|上映年度|上映时间|发行日期): <\/span>(.+?)<\/li>/))?void 0:e[2])||"").match(/(\d{4})/))?void 0:e[0])||""}},{key:"yearAndMount",get:function(){try{var e,t,s,o,n=/(\d{4}[-年]\d{1,2})/,r=(null==(e=((null==(t=this.info.match(/<li><span>(连载开始|开始): <\/span>(.+?)<\/li>/))?void 0:t[2])||"").match(n))?void 0:e[0])||(null==(s=((null==(o=this.info.match(/<li><span>(发售日|发售日期|放送开始|上映年度|上映时间|发行日期): <\/span>(.+?)<\/li>/))?void 0:o[2])||"").match(n))?void 0:s[0])||"";return r?r.replace("年","-").split("-").map(function(e){return(0,b.pad)(Number(e))}).join("-"):this.year}catch(e){return this.year}}},{key:"end",get:function(){var e;return(null==(e=((null==(e=this.info.match(/<li><span>(连载结束|结束): <\/span>(.+?)<\/li>/))?void 0:e[2])||"").match(/(\d{4})/))?void 0:e[0])||""}},{key:"yearAndMountEnd",get:function(){try{var e,t,s=(null==(e=((null==(t=this.info.match(/<li><span>(连载结束|结束): <\/span>(.+?)<\/li>/))?void 0:t[2])||"").match(/(\d{4}[-年]\d{1,2})/))?void 0:e[0])||"";return s?s.replace("年","-").split("-").map(function(e){return(0,b.pad)(Number(e))}).join("-"):this.end}catch(e){return this.end}}},{key:"artist",get:function(){var e;return(0,b.removeHTMLTag)((null==(e=this.info.match(/<li><span>艺术家: <\/span>(.+?)<\/li>/))?void 0:e[1])||"")}},{key:"imageWidth",get:function(){var e=j._.isPad?1.4:1.2;return"音乐"===this.type?O.IMG_WIDTH_LG*e*1.2:(O.IMG_WIDTH_LG+16)*e}},{key:"imageHeight",get:function(){return"音乐"===this.type?this.imageWidth:1.4*this.imageWidth}},{key:"coverPlaceholder",get:function(){var e=this.params._imageForce||this.params._image;return(e="/img/no_icon_subject.png"===e?"":e)||this.subjectFromOSS.image||this.subjectFormCDN.image||(null==(e=this.subject)||null==(e=e.images)?void 0:e.medium)||""}},{key:"jp",get:function(){return(0,b.HTMLDecode)(this.subject.name||this.params._jp||this.subjectFromOSS.name||this.subjectFormCDN.name)}},{key:"cn",get:function(){return(0,b.HTMLDecode)(this.subject.name_cn||this.params._cn||this.subjectFromOSS.name_cn||(0,b.findSubjectCn)(this.jp,this.subjectId))}},{key:"rating",get:function(){return this.subject._loaded&&this.subject.rating?Object.assign({},E.INIT_RATING,this.subject.rating):this.subjectFromOSS.rating?Object.assign({},E.INIT_RATING,this.subjectFromOSS.rating):this.subjectFormCDN._loaded?Object.assign({},E.INIT_RATING,this.subjectFormCDN.rating):E.INIT_RATING}},{key:"lock",get:function(){return this.subjectFormHTML._loaded?this.subjectFormHTML.lock:this.subjectFromOSS.lock||this.subjectFormCDN.lock}},{key:"subjectCollection",get:function(){return this.subject._loaded&&this.subject.rating?this.subject.collection||{}:this.subjectFromOSS.collection||this.subjectFormCDN.collection||{}}},{key:"eps",get:function(){var e;return this.subject._loaded&&this.subject.rating?1e3<=(e=this.subject.eps||[]).length?[].concat((0,n.default)(e),(0,n.default)(j.subjectStore.epV2(this.subject.id).list)).sort(function(e,t){return(0,b.asc)(e,t,function(e){return e.type})}):e.slice().sort(function(e,t){return(0,b.asc)(e,t,function(e){return e.type})}):null!=(e=this.subjectFromOSS.eps)&&e.length?this.subjectFromOSS.eps||[]:this.subjectFormCDN.eps||[]}},{key:"toEps",get:function(){var e,s=this;return this.state.filterEps?(e=this.eps.filter(function(e,t){return t>s.state.filterEps}),this.state.epsReverse?e.slice().reverse():e):this.state.epsReverse?this.eps.map(function(e){return e}).reverse():this.eps}},{key:"disc",get:function(){var e;return this.subjectFormHTML._loaded?this.subjectFormHTML.disc||[]:null!=(e=this.subjectFromOSS.disc)&&e.length?this.subjectFromOSS.disc||[]:this.subjectFormCDN.disc||[]}},{key:"summary",get:function(){return this.subject._loaded&&this.subject.rating?this.subject.summary:this.subjectFromOSS.summary||this.subjectFormCDN.summary||this.params._summary||""}},{key:"tags",get:function(){return((this.subjectFormHTML._loaded?this.subjectFormHTML.tags:this.subjectFromOSS.tags||this.subjectFormCDN.tags)||[]).filter(function(e){return!!e.name})}},{key:"info",get:function(){return this.subjectFormHTML._loaded?this.subjectFormHTML.info:this.subjectFromOSS.info||this.subjectFormCDN.info||""}},{key:"crt",get:function(){return this.subject._loaded&&this.subject.rating?(this.subject.crt||[]).map(function(e){var t=e.id,s=e.images,s=void 0===s?{}:s,o=e.name,n=e.name_cn,r=e.role_name,e=e.actors,e=void 0===e?[]:e;return{id:t,image:null==s?void 0:s.grid,_image:null==s?void 0:s.medium,name:n||o,nameJP:o,desc:(null==e||null==(t=e[0])?void 0:t.name)||r,actorId:null==e||null==(s=e[0])?void 0:s.id}}):this.subjectFromOSS.character||this.subjectFormCDN.crt||[]}},{key:"staff",get:function(){var e,t;return this.subject._loaded&&this.subject.rating?(null==(t=this.subject.staff)||null==(e=t[0])?void 0:e.id)==this.subjectId?j.monoStore.persons(this.subjectId).list.map(function(e){return{id:e.id.replace("/person/",""),image:e.cover,_image:e.cover,name:(e.nameCn||e.name).trim(),nameJP:e.name.trim(),desc:e.position}}):(t||[]).map(function(e){var t=e.id,s=e.images,s=void 0===s?{}:s,o=e.name,n=e.name_cn,e=e.jobs;return{id:t,image:null==s?void 0:s.grid,_image:null==s?void 0:s.medium,name:n||o,nameJP:o,desc:(void 0===e?[]:e)[0]}}):this.subjectFromOSS.staff||this.subjectFormCDN.staff||[]}},{key:"relations",get:function(){return(this.subject._loaded&&this.subject.rating?(this.subjectFormHTML.relations||[]).map(function(e){return{id:e.id,image:e.image,name:e.title,desc:e.type}}):(this.subjectFromOSS.relations||this.subjectFormCDN.relations||[]).map(function(e){return{id:e.id,image:e.image,name:e.title,desc:e.type}})).slice().sort(function(e,t){return(0,b.desc)(E.SORT_RELATION_DESC[e.desc]||0,E.SORT_RELATION_DESC[t.desc]||0)})}},{key:"comic",get:function(){var e;return this.subjectFormHTML._loaded?this.subjectFormHTML.comic||[]:null!=(e=this.subjectFromOSS.comic)&&e.length?this.subjectFromOSS.comic||[]:this.subjectFormCDN.comic||[]}},{key:"like",get:function(){var e;return this.subjectFormHTML._loaded?this.subjectFormHTML.like||[]:null!=(e=this.subjectFromOSS.like)&&e.length?this.subjectFromOSS.like||[]:this.subjectFormCDN.like||[]}},{key:"titleLabel",get:function(){var e,t=O.MODEL_SUBJECT_TYPE.getTitle(this.subjectType);return"动画"===t?(e=this.state.bangumiInfo,"动画"===(e=this.subjectFormHTML.type||String(e.type).toUpperCase()||t||"TV")?"TV":"剧场版"===e?"MOVIE":e||this.subjectFromOSS.titleLabel||""):this.subjectFormHTML.type||t||this.subjectFromOSS.titleLabel||""}},{key:"catalog",get:function(){return this.subjectFormHTML._loaded?this.subjectFormHTML.catalog||[]:this.subjectFromOSS.catalog||[]}},{key:"bilibiliSite",get:function(){var e;return(null==(e=this.state.bangumiInfo)||null==(e=e.sites)?void 0:e.find(function(e){return"bilibili"===e.site}))||{}}},{key:"iqiyiSite",get:function(){var e;return(null==(e=this.state.bangumiInfo)||null==(e=e.sites)?void 0:e.find(function(e){return"iqiyi"===e.site}))||{}}},{key:"youkuSite",get:function(){var e;return(null==(e=this.state.bangumiInfo)||null==(e=e.sites)?void 0:e.find(function(e){return"youku"===e.site}))||{}}},{key:"subjectRelations",get:function(){return this.subjectFormHTML._loaded?this.subjectFormHTML.relations||[]:this.subjectFromOSS.relations||[]}},{key:"subjectPrev",get:function(){return this.subjectRelations.find(function(e){return"前传"===e.type})}},{key:"subjectAfter",get:function(){return this.subjectRelations.find(function(e){return"续集"===e.type})}},{key:"subjectSeries",get:function(){var e;return"系列"===(null==(e=this.subjectRelations)||null==(e=e[0])?void 0:e.type)?this.subjectRelations[0]:null}},{key:"subjectAnime",get:function(){var e;return(this.titleLabel||"").includes("系列")&&("动画"===(null==(e=this.subjectRelations.find(function(e){return"动画"===e.type||"其他"===e.type}))?void 0:e.type)||"其他"===(null==e?void 0:e.type)&&this.jp.includes(null==e?void 0:e.title))?e:null}},{key:"subjectDiff",get:function(){var e=this.subjectRelations.find(function(e){return"不同演绎"===e.type});return e||this.subjectRelations.find(function(e){return"主版本"===e.type})||this.subjectRelations.find(function(e){return"主线故事"===e.type})||this.subjectRelations.find(function(e){return"外传"===e.type})||null}},{key:"hasSeries",get:function(){return!!(this.subjectAfter||this.subjectPrev||this.subjectSeries||this.subjectAnime||this.subjectDiff)}},{key:"hd",get:function(){var e=(0,O.getOTA)().HD,e=void 0===e?[]:e;if(e.includes(Number(this.subjectId)))return this.subjectId;if(this.subjectSeries){var t=this.subjectSeries.id;if(e.includes(Number(t)))return t}return!1}},{key:"catalogs",get:function(){return j.usersStore.catalogs()}},{key:"catalogDetail",value:function(e){return(0,f.computed)(function(){return j.discoveryStore.catalogDetail(e)}).get()}},{key:"catalogIncludes",get:function(){var t=this,s=0;return this.catalogs.list.forEach(function(e){t.catalogDetail(e.id).list.some(function(e){return e.id==t.subjectId})&&(s+=1)}),s}},{key:"filterCatalog",get:function(){var e=this.catalog;return e=this.filterDefault||this.isLimit?e.filter(function(e){return!e.avatar.includes(O.URL_DEFAULT_AVATAR)}):e}},{key:"filterBlog",get:function(){var e=this.subject.blog||[];if(!(e=this.filterDefault||this.isLimit?e.filter(function(e){return null==e||null==(e=e.user)||null==(e=e.avatar)||!e.small.includes(O.URL_DEFAULT_AVATAR)}):e).length)try{var t,s=j.rakuenStore.reviews(this.subjectId);null!=s&&null!=(t=s.list)&&t.length&&(e=s.list.map(function(e){return{dateline:e.time,id:Number(e.id),image:"",replies:Number(e.replies.replace("+","")||0),summary:e.content,timestamp:(0,b.getTimestamp)(e.time),title:e.title,url:"//bgm.tv/blog/"+e.id,user:{avatar:{large:e.avatar,medium:e.avatar,small:e.avatar},id:e.userId,nickname:e.userName,sign:"",url:"//bgm.tv/user/"+e.userId,username:e.userId}}}))}catch(e){}return e}},{key:"filterTopic",get:function(){var t=this,e=this.subject.topic||[];if(!(e=this.filterDefault||this.isLimit?e.filter(function(e){return null==e||null==(e=e.user)||null==(e=e.avatar)||!e.small.includes(O.URL_DEFAULT_AVATAR)}):e).length)try{var s,o=j.rakuenStore.board(this.subjectId);null!=o&&null!=(s=o.list)&&s.length&&(e=o.list.map(function(e){return{id:Number(e.href.replace("/subject/topic/","")),lastpost:0,main_id:t.subjectId,replies:Number(e.replies.replace(" replies","")),timestamp:(0,b.getTimestamp)(e.time),title:e.title,url:e.href,user:{avatar:{large:"",medium:"",small:""},id:e.userId,nickname:e.userName,sign:"",url:"//bgm.tv/user/"+e.userId,username:e.userId}}}))}catch(e){}return e}},{key:"filterRecent",get:function(){var e=this.subjectFormHTML.who||[];return e=this.filterDefault||this.isLimit?e.filter(function(e){return!e.avatar.includes(O.URL_DEFAULT_AVATAR)}):e}},{key:"commentLength",get:function(){var e=this.subjectComments,t=e.list,e=e.pagination.pageTotal,e=void 0===e?0:e;return e<=1?t.length:20*(2<=e?e-1:e)}},{key:"showEp",get:function(){var e="游戏"!==this.type;return[e,e]}},{key:"showTags",get:function(){var e=j.systemStore.setting.showTags;return[!0===e,-1!==e]}},{key:"showSummary",get:function(){var e;return this.subject._loaded&&!this.summary?[!1,!1]:[!0===(e=j.systemStore.setting.showSummary),-1!==e]}},{key:"showThumbs",get:function(){var e,t,s;return!O.STORYBOOK&&-1!==(e=j.systemStore.setting.showThumbs)&&(t=(s=this.state).epsThumbs,s=s.videos,t.length||s.length)?[!0===e,!0]:[!1,!1]}},{key:"showInfo",get:function(){var e=j.systemStore.setting.showInfo;return[!0===e,-1!==e]}},{key:"showGame",get:function(){var e,t=j.systemStore.setting.showGameInfo;return-1!==t&&null!=(e=this.gameInfo)&&e.i?[!0===t,!0]:[!1,!1]}},{key:"showRating",get:function(){var e=j.systemStore.setting.showRating;return[!0===e,-1!==e]}},{key:"showCharacter",get:function(){var e;return this.crt.length?[!0===(e=j.systemStore.setting.showCharacter),-1!==e]:[!1,!1]}},{key:"showStaff",get:function(){var e;return this.staff.length?[!0===(e=j.systemStore.setting.showStaff),-1!==e]:[!1,!1]}},{key:"showAnitabi",get:function(){var e;return this.state.anitabi.pointsLength?[!0===(e=j.systemStore.setting.showAnitabi),-1!==e]:[!1,!1]}},{key:"showRelations",get:function(){var e;return this.relations.length?[!0===(e=j.systemStore.setting.showRelations),-1!==e]:[!1,!1]}},{key:"showComic",get:function(){return this.comic.length?[!0,!0]:[!1,!1]}},{key:"showCalalog",get:function(){var e=j.systemStore.setting.showCatalog;return-1!==e&&this.filterCatalog.length?[!0===e,!0]:[!1,!1]}},{key:"showLike",get:function(){var e;return this.like.length?[!0===(e=j.systemStore.setting.showLike),-1!==e]:[!1,!1]}},{key:"showBlog",get:function(){var e=j.systemStore.setting.showBlog;return-1!==e&&this.filterBlog.length?[!0===e,!0]:[!1,!1]}},{key:"showTopic",get:function(){var e=j.systemStore.setting.showTopic;return-1!==e&&this.filterTopic.length?[!0===e,!0]:[!1,!1]}},{key:"showRecent",get:function(){var e=j.systemStore.setting.showRecent;return-1!==e&&this.filterRecent.length?[!0===e,!0]:[!1,!1]}},{key:"locationDS",get:function(){var e,t,s=[T.TITLE_COMMENT];return this.showEp[0]&&s.push("音乐"===this.type?T.TITLE_DISC:T.TITLE_EP),this.showTags[0]&&s.push(T.TITLE_TAGS),this.showSummary[0]&&s.push(T.TITLE_SUMMARY),this.showThumbs[0]&&(e=(t=this.state).epsThumbs,t=t.videos,s.push(T.TITLE_THUMBS+" ("+(e.length+t.length)+")")),this.showInfo[0]&&s.push(T.TITLE_INFO),this.showGame[0]&&s.push(T.TITLE_GAME),this.showRating[0]&&s.push(T.TITLE_RATING),this.showCharacter[0]&&s.push(T.TITLE_CHARACTER),this.showStaff[0]&&s.push(T.TITLE_STAFF),this.showAnitabi[0]&&s.push(T.TITLE_ANITABI+" ("+this.state.anitabi.pointsLength+")"),this.showRelations[0]&&s.push(T.TITLE_RELATIONS+" ("+this.relations.length+")"),this.showComic[0]&&s.push(T.TITLE_COMIC+" ("+this.comic.length+")"),this.showCalalog[0]&&s.push(T.TITLE_CATALOG+" ("+this.filterCatalog.length+")"),this.showLike[0]&&s.push(T.TITLE_LIKE+" ("+this.like.length+")"),this.showBlog[0]&&s.push(T.TITLE_BLOG+" ("+this.filterBlog.length+")"),this.showTopic[0]&&s.push(T.TITLE_TOPIC+" ("+this.filterTopic.length+")"),this.showRecent[0]&&s.push(T.TITLE_RECENT+" ("+this.filterRecent.length+")"),s.push(T.TITLE_COMMENT+" ("+this.commentLength+"+)"),s}}]),(0,m.default)((t=N).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,m.default)(t.prototype,"namespace",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"namespace"),t.prototype),(0,m.default)(t.prototype,"nsfw",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"nsfw"),t.prototype),(0,m.default)(t.prototype,"onAirCustom",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onAirCustom"),t.prototype),(0,m.default)(t.prototype,"filterDefault",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterDefault"),t.prototype),(0,m.default)(t.prototype,"showComment",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showComment"),t.prototype),(0,m.default)(t.prototype,"footerEmptyDataComponent",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"footerEmptyDataComponent"),t.prototype),(0,m.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,m.default)(t.prototype,"isLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLogin"),t.prototype),(0,m.default)(t.prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,m.default)(t.prototype,"subject",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subject"),t.prototype),(0,m.default)(t.prototype,"subjectFormHTML",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectFormHTML"),t.prototype),(0,m.default)(t.prototype,"subjectFormCDN",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectFormCDN"),t.prototype),(0,m.default)(t.prototype,"subjectFromOSS",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectFromOSS"),t.prototype),(0,m.default)(t.prototype,"subjectComments",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectComments"),t.prototype),(0,m.default)(t.prototype,"cover",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cover"),t.prototype),(0,m.default)(t.prototype,"collection",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"collection"),t.prototype),(0,m.default)(t.prototype,"userProgress",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userProgress"),t.prototype),(0,m.default)(t.prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,m.default)(t.prototype,"subjectType",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectType"),t.prototype),(0,m.default)(t.prototype,"subjectTypeValue",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectTypeValue"),t.prototype),(0,m.default)(t.prototype,"rank",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"rank"),t.prototype),(0,m.default)(t.prototype,"vib",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"vib"),t.prototype),(0,m.default)(t.prototype,"onlinePlayActionSheetData",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onlinePlayActionSheetData"),t.prototype),(0,m.default)(t.prototype,"action",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"action"),t.prototype),(0,m.default)(t.prototype,"isLimit",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),(0,m.default)(t.prototype,"hideScore",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"hideScore"),t.prototype),(0,m.default)(t.prototype,"userOrigins",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userOrigins"),t.prototype),(0,m.default)(t.prototype,"actions",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"actions"),t.prototype),(0,m.default)(t.prototype,"onlineOrigins",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onlineOrigins"),t.prototype),(0,m.default)(t.prototype,"onlineComicOrigins",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onlineComicOrigins"),t.prototype),(0,m.default)(t.prototype,"onlineDiscOrigins",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onlineDiscOrigins"),t.prototype),(0,m.default)(t.prototype,"onlineGameOrigins",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"onlineGameOrigins"),t.prototype),(0,m.default)(t.prototype,"isPS",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isPS"),t.prototype),(0,m.default)(t.prototype,"animeInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"animeInfo"),t.prototype),(0,m.default)(t.prototype,"animeTags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"animeTags"),t.prototype),(0,m.default)(t.prototype,"gameInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"gameInfo"),t.prototype),(0,m.default)(t.prototype,"gameTags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"gameTags"),t.prototype),(0,m.default)(t.prototype,"mangaInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"mangaInfo"),t.prototype),(0,m.default)(t.prototype,"mangaTags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"mangaTags"),t.prototype),(0,m.default)(t.prototype,"wenkuInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"wenkuInfo"),t.prototype),(0,m.default)(t.prototype,"wenkuTags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"wenkuTags"),t.prototype),(0,m.default)(t.prototype,"source",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"source"),t.prototype),(0,m.default)(t.prototype,"filterEpsData",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterEpsData"),t.prototype),(0,m.default)(t.prototype,"status",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"status"),t.prototype),(0,m.default)(t.prototype,"release",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"release"),t.prototype),(0,m.default)(t.prototype,"year",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"year"),t.prototype),(0,m.default)(t.prototype,"yearAndMount",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"yearAndMount"),t.prototype),(0,m.default)(t.prototype,"end",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"end"),t.prototype),(0,m.default)(t.prototype,"yearAndMountEnd",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"yearAndMountEnd"),t.prototype),(0,m.default)(t.prototype,"artist",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"artist"),t.prototype),(0,m.default)(t.prototype,"imageWidth",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"imageWidth"),t.prototype),(0,m.default)(t.prototype,"imageHeight",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"imageHeight"),t.prototype),(0,m.default)(t.prototype,"coverPlaceholder",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"coverPlaceholder"),t.prototype),(0,m.default)(t.prototype,"jp",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"jp"),t.prototype),(0,m.default)(t.prototype,"cn",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cn"),t.prototype),(0,m.default)(t.prototype,"rating",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"rating"),t.prototype),(0,m.default)(t.prototype,"lock",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"lock"),t.prototype),(0,m.default)(t.prototype,"subjectCollection",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectCollection"),t.prototype),(0,m.default)(t.prototype,"eps",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"eps"),t.prototype),(0,m.default)(t.prototype,"toEps",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"toEps"),t.prototype),(0,m.default)(t.prototype,"disc",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"disc"),t.prototype),(0,m.default)(t.prototype,"summary",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"summary"),t.prototype),(0,m.default)(t.prototype,"tags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"tags"),t.prototype),(0,m.default)(t.prototype,"info",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"info"),t.prototype),(0,m.default)(t.prototype,"crt",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"crt"),t.prototype),(0,m.default)(t.prototype,"staff",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"staff"),t.prototype),(0,m.default)(t.prototype,"relations",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"relations"),t.prototype),(0,m.default)(t.prototype,"comic",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"comic"),t.prototype),(0,m.default)(t.prototype,"like",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"like"),t.prototype),(0,m.default)(t.prototype,"titleLabel",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"titleLabel"),t.prototype),(0,m.default)(t.prototype,"catalog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalog"),t.prototype),(0,m.default)(t.prototype,"bilibiliSite",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"bilibiliSite"),t.prototype),(0,m.default)(t.prototype,"iqiyiSite",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"iqiyiSite"),t.prototype),(0,m.default)(t.prototype,"youkuSite",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"youkuSite"),t.prototype),(0,m.default)(t.prototype,"subjectRelations",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectRelations"),t.prototype),(0,m.default)(t.prototype,"subjectPrev",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectPrev"),t.prototype),(0,m.default)(t.prototype,"subjectAfter",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectAfter"),t.prototype),(0,m.default)(t.prototype,"subjectSeries",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectSeries"),t.prototype),(0,m.default)(t.prototype,"subjectAnime",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectAnime"),t.prototype),(0,m.default)(t.prototype,"subjectDiff",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectDiff"),t.prototype),(0,m.default)(t.prototype,"hasSeries",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"hasSeries"),t.prototype),(0,m.default)(t.prototype,"hd",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"hd"),t.prototype),(0,m.default)(t.prototype,"catalogs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogs"),t.prototype),(0,m.default)(t.prototype,"catalogIncludes",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogIncludes"),t.prototype),(0,m.default)(t.prototype,"filterCatalog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterCatalog"),t.prototype),(0,m.default)(t.prototype,"filterBlog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterBlog"),t.prototype),(0,m.default)(t.prototype,"filterTopic",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterTopic"),t.prototype),(0,m.default)(t.prototype,"filterRecent",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"filterRecent"),t.prototype),(0,m.default)(t.prototype,"commentLength",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"commentLength"),t.prototype),(0,m.default)(t.prototype,"showEp",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showEp"),t.prototype),(0,m.default)(t.prototype,"showTags",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showTags"),t.prototype),(0,m.default)(t.prototype,"showSummary",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showSummary"),t.prototype),(0,m.default)(t.prototype,"showThumbs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showThumbs"),t.prototype),(0,m.default)(t.prototype,"showInfo",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showInfo"),t.prototype),(0,m.default)(t.prototype,"showGame",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showGame"),t.prototype),(0,m.default)(t.prototype,"showRating",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showRating"),t.prototype),(0,m.default)(t.prototype,"showCharacter",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showCharacter"),t.prototype),(0,m.default)(t.prototype,"showStaff",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showStaff"),t.prototype),(0,m.default)(t.prototype,"showAnitabi",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showAnitabi"),t.prototype),(0,m.default)(t.prototype,"showRelations",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showRelations"),t.prototype),(0,m.default)(t.prototype,"showComic",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showComic"),t.prototype),(0,m.default)(t.prototype,"showCalalog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showCalalog"),t.prototype),(0,m.default)(t.prototype,"showLike",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showLike"),t.prototype),(0,m.default)(t.prototype,"showBlog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showBlog"),t.prototype),(0,m.default)(t.prototype,"showTopic",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showTopic"),t.prototype),(0,m.default)(t.prototype,"showRecent",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"showRecent"),t.prototype),(0,m.default)(t.prototype,"locationDS",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"locationDS"),t.prototype),t);function N(){var e;(0,r.default)(this,N);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=C.call.apply(C,[this].concat(s)),(0,l.default)((0,i.default)(e),"save",function(){return e.saveStorage(e.namespace,E.EXCLUDE_STATE)}),e}},"./src/screens/home/subject/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_LIKES=t.TEXT_IGNORE_USER=t.TEXT_COPY_COMMENT=t.TEXT_BLOCK_USER=t.STATE=t.SORT_RELATION_DESC=t.NAMESPACE=t.INIT_RATING=t.EXCLUDE_STATE=void 0;s=s("./src/constants/index.ts"),t.NAMESPACE="ScreenSubject",t.INIT_RATING={count:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},score:"",total:""},s=t.EXCLUDE_STATE={fixed:!1,rendered:s.STORYBOOK,visibleBottom:0,visible:!1,disabled:!1,folder:!1,chap:"",vol:"",filterScores:[],translateResult:[],discTranslateResult:[],subject:{},comments:s.LIST_EMPTY,flip:!1,flipKey:0,flipEps:!1,mounted:!0};t.STATE=Object.assign({},s,{epsReverse:!1,watchedEps:"",filterEps:0,filterStatus:"",bangumiInfo:{sites:[],type:""},epsData:{_loaded:!1},epsThumbs:[],epsThumbsHeader:{},videos:[],anitabi:{litePoints:[],_loaded:!1},filterVersion:!1,_loaded:!1}),t.SORT_RELATION_DESC={"动画":110,"续集":100,"前传":90,"主线故事":82,"剧场版":81,"番外篇":80,"相同世界观":79,"衍生":78,"书籍":70,"片头曲":65,"片尾曲":64,"原声集":63,"角色歌":62,"游戏":40,"三次元":30,"其他":-10},t.TEXT_LIKES="贴贴",t.TEXT_COPY_COMMENT="复制评论",t.TEXT_BLOCK_USER="屏蔽用户",t.TEXT_IGNORE_USER="绝交"},"./src/screens/home/subject/store/fetch.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),p=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),f=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),j=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),b=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),y=s("./src/utils/bilibili/index.ts"),x=s("./src/utils/douban/index.ts"),g=s("./src/utils/fetch/index.ts"),v=s("./src/utils/kv/index.ts"),O=s("./src/utils/protobuf/index.web.ts"),T=s("./src/constants/index.ts"),o=o(s("./src/screens/home/subject/store/computed.tsx")),S=s("./src/screens/home/subject/store/ds.ts"),E=["ts"],P=["ts"];function d(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,i.default)(s);return e=o?(e=(0,i.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var I;t.default=(s=o.default,(0,r.default)(C,s),I=d(C),(0,n.default)(C));function C(){var u;(0,f.default)(this,C);for(var t,s,o,n,r,c,i,e=arguments.length,d=new Array(e),a=0;a<e;a++)d[a]=arguments[a];return u=I.call.apply(I,[this].concat(d)),(0,h.default)((0,j.default)(u),"fetchSubject",function(){return"large"!==u.subject._responseGroup&&(0,_.opitimize)(u.subject,60)?u.subject:b.subjectStore.fetchSubject(u.subjectId)}),(0,h.default)((0,j.default)(u),"fetchSubjectFromHTML",(0,p.default)(l.mark(function e(){var t,s,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.subjectStore.fetchSubjectFromHTML(u.subjectId);case 2:return t=e.sent,s=t.watchedEps,o=t.book,u.setState({watchedEps:s||"0",chap:o.chap||"0",vol:o.vol||"0"}),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,h.default)((0,j.default)(u),"fetchSubjectFromOSS",(0,p.default)(l.mark(function e(){var t,s,o,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.subjectFormHTML._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,v.get)("subject_"+u.subjectId);case 5:if(t=e.sent){e.next=9;break}return u.updateSubjectThirdParty(),e.abrupt("return");case 9:s=t.ts,o=(0,m.default)(t,E),n=(0,_.getTimestamp)(),"object"!=typeof o||Array.isArray(o)||u.setState({subject:Object.assign({},o,{_loaded:n})}),604800<=n-s&&u.updateSubjectThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,h.default)((0,j.default)(u),"fetchCommentsFromOSS",(0,p.default)(l.mark(function e(){var t,s,o,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.subjectComments._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,v.get)("comments_"+u.subjectId);case 5:if(t=e.sent){e.next=9;break}return u.updateCommentsThirdParty(),e.abrupt("return");case 9:s=t.ts,o=(0,m.default)(t,P),n=(0,_.getTimestamp)(),"object"==typeof o&&u.setState({comments:o}),86400<=n-s&&u.updateCommentsThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,h.default)((0,j.default)(u),"fetchThirdParty",(t=(0,p.default)(l.mark(function e(t){var s,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.decode)("bangumi-data");case 2:if((s=(0,O.get)("bangumi-data").find(function(e){return e.id==u.subjectId||e.j===(0,_.HTMLDecode)(t.name)||e.c===(0,_.HTMLDecode)(t.name)}))&&(o=(0,_.unzipBangumiData)(s),u.setState({bangumiInfo:{sites:o.sites,type:o.type}})),T.STORYBOOK)return e.abrupt("return");e.next=6;break;case 6:return e.next=8,u.getThirdParty();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:s&&setTimeout(function(){u.fetchEpsThumbs(o)},0),!s&&"动画"===u.type||"三次元"===u.type?u.fetchMovieFromDouban(u.cn,u.jp):"游戏"===u.type?u.fetchGameFromDouban(u.cn,u.jp):"音乐"===u.type&&setTimeout(function(){u.fetchMVFromBilibili(u.cn,u.jp,u.artist)},2400);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"fetchCollection",function(){return b.collectionStore.fetchCollection(u.subjectId)}),(0,h.default)((0,j.default)(u),"fetchSubjectComments",(s=(0,p.default)(l.mark(function e(t,s){var o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.subjectStore.fetchSubjectComments({subjectId:u.subjectId,interest_type:u.state.filterStatus,version:u.state.filterVersion},t,s);case 2:return o=e.sent,u.updateCommentsThirdParty(),e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"_fetchTrackUsersInfo",!1),(0,h.default)((0,j.default)(u),"fetchTrackUsersInfo",(o=(0,p.default)(l.mark(function e(t){var s,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u._fetchTrackUsersInfo||!t.length)return e.abrupt("return",!1);e.next=2;break;case 2:return e.next=4,b.usersStore.init("usersInfo");case 4:s=0;case 5:if(!(s<t.length)){e.next=16;break}if(o=t[s],b.usersStore.usersInfo(o)._loaded){e.next=13;break}return e.next=11,b.usersStore.fetchUsers({userId:o});case 11:(o=e.sent).userId&&b.usersStore.updateUsersInfo({avatar:o.avatar,userId:o.userId,userName:o.userName});case 13:s+=1,e.next=5;break;case 16:u._fetchTrackUsersInfo=!0;case 17:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"fetchTrackComments",function(){var e,s,o;return!!u.subjectTypeValue&&!(null==(e=b.systemStore.setting["comment"+(0,_.titleCase)(u.subjectTypeValue)])||!e.length)&&(s=[],o=(0,_.getTimestamp)(),e.forEach(function(e){var t=b.collectionStore.usersSubjectCollection(e,u.subjectId);(!t._loaded||3600<=o-Number(t._loaded))&&s.push(function(){return b.collectionStore.fetchUsersCollection(e,u.subjectId)})}),setTimeout(function(){u.fetchTrackUsersInfo(e)},0),(0,_.queue)(s,1))}),(0,h.default)((0,j.default)(u),"fetchEpsData",(0,p.default)(l.mark(function e(){var t,s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK||"动画"!==u.type||u.nsfw)return e.abrupt("return",!1);e.next=2;break;case 2:return e.prev=2,e.next=5,(0,g.xhrCustom)({url:(0,T.CDN_EPS)(u.subjectId)});case 5:t=e.sent,t=t._response,s={_loaded:(0,_.getTimestamp)()},T.SITES.forEach(function(e){return s[e]={}}),JSON.parse(t).eps.forEach(function(e,t){e.sites.forEach(function(e){T.SITES.includes(e.site)&&(s[e.site][t]=e.url)})}),u.setState({epsData:s}),u.save(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(S.NAMESPACE,"fetchEpsData",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}))),(0,h.default)((0,j.default)(u),"fetchPersons",function(){return b.monoStore.fetchPersons({subjectId:u.subjectId})}),(0,h.default)((0,j.default)(u),"fetchEpsThumbs",(n=(0,p.default)(l.mark(function e(t){var s,o,n,r,c,i,d,a;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK)return e.abrupt("return",!1);e.next=2;break;case 2:if(12<=u.state.epsThumbs.length)return e.abrupt("return",!1);e.next=4;break;case 4:return e.prev=4,s=null==t||null==(s=t.titleTranslate)||null==(s=s["zh-Hans"])?void 0:s[0],o=t.title,e.next=9,u.fetchMovieFromDouban(s,o);case 9:if(u.state.epsThumbs.length<12&&u.bilibiliSite.id)return o=(0,_.getBangumiUrl)(u.bilibiliSite),e.next=13,(0,g.xhrCustom)({url:o});e.next=24;break;case 13:if(n=e.sent,n=n._response,n=n.match(/"season_id":(\d+)/))return n=n[1],e.next=20,(0,g.xhrCustom)({url:"https://api.bilibili.com/pgc/web/season/section?season_id="+n});e.next=24;break;case 20:n=e.sent,c=n._response,c=JSON.parse(c),r=c.message,c=c.result,"success"===r&&null!=c&&null!=(r=c.main_section)&&r.episodes&&(u.setState({epsThumbs:Array.from(new Set(c.main_section.episodes.map(function(e){return e.cover.replace("http://","https://")+"@192w_120h_1c.jpg"}))),epsThumbsHeader:{Referer:"https://www.bilibili.com/"}}),u.save(),u.updateThirdParty());case 24:if(u.state.epsThumbs.length<12&&u.youkuSite.id)return r=(0,_.getBangumiUrl)(u.youkuSite),e.next=28,(0,g.xhrCustom)({url:r});e.next=40;break;case 28:if(c=e.sent,i=c._response,i=i.match(/showid:"(\d+)"/))return i=i[1],e.next=35,(0,g.xhrCustom)({url:"https://list.youku.com/show/module?id="+i+"&tab=point&callback=jQuery"});e.next=40;break;case 35:i=e.sent,d=i._response,u.setState({epsThumbs:Array.from(new Set((decodeURIComponent(d).replace(/\\\/>/g,"/>").replace(/(\\"|"\\)/g,'"').match(/<img.+?src=('|")?([^'"]+)('|")?(?:\s+|>)/gim)||[]).map(function(e){e=e.match(/src="(.+?)"/);return e?e[1].replace(/\\\//g,"/").replace("http://","https://"):""}).filter(function(e){return!!e}))),epsThumbsHeader:{Referer:"https://list.youku.com/"}}),u.save(),u.updateThirdParty();case 40:if(u.state.epsThumbs.length<12&&u.iqiyiSite.id)return d=(0,_.getBangumiUrl)(u.iqiyiSite),e.next=44,(0,g.xhrCustom)({url:d});e.next=48;break;case 44:a=e.sent,a=a._response,(a=(0,_.HTMLTrim)(a,!0).match(/data-jpg-img="(.+?)"/g))&&(u.setState({epsThumbs:Array.from(new Set(a.map(function(e){return"https:"+e.replace(/(data-jpg-img="|")/g,"")}).filter(function(e,t){return!!t}))),epsThumbsHeader:{Referer:"https://www.iqiyi.com/"}}),u.save(),u.updateThirdParty());case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(4),console.error("Subject","fetchEpsThumbs",e.t0);case 53:case"end":return e.stop()}},e,null,[[4,50]])})),function(e){return n.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"fetchMovieFromDouban",(r=(0,p.default)(l.mark(function e(t,s){var o,n,r;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK||u.nsfw)return e.abrupt("return",!1);e.next=2;break;case 2:if(o=t||s)return e.next=6,(0,x.search)(o);e.next=18;break;case 6:return n=e.sent,n=(0,x.matchMovie)(o,n,s,u.year),e.next=10,(0,x.getTrailer)(n);case 10:return(r=e.sent).data.length&&u.setState({videos:r.data,epsThumbsHeader:{Referer:r.referer}}),e.next=14,(0,x.getPreview)(n);case 14:(r=e.sent).data.length&&u.setState({epsThumbs:r.data.slice().reverse(),epsThumbsHeader:{Referer:r.referer}}),u.save(),u.updateThirdParty();case 18:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"fetchGameFromDouban",(c=(0,p.default)(l.mark(function e(t,s){var o,n,r;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK||u.nsfw)return e.abrupt("return",!1);e.next=2;break;case 2:if(o=t||s)return e.next=6,(0,x.search)(o,"game");e.next=18;break;case 6:return n=e.sent,n=(0,x.matchGame)(o,n),e.next=10,(0,x.getVideo)(n,"game");case 10:return(r=e.sent).data.length&&u.setState({videos:r.data,epsThumbsHeader:{Referer:r.referer}}),e.next=14,(0,x.getPreview)(n,"game");case 14:(r=e.sent).data.length&&u.setState({epsThumbs:r.data,epsThumbsHeader:{Referer:r.referer}}),u.save(),u.updateThirdParty();case 18:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"fetchMVFromBilibili",(i=(0,p.default)(l.mark(function e(t,s,o){var n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK)return e.abrupt("return",!1);e.next=2;break;case 2:return e.next=4,(0,y.search)(t||s,o);case 4:(n=e.sent).length&&(u.setState({videos:n,epsThumbsHeader:{Referer:"https://m.bilibili.com"}}),u.save(),u.updateThirdParty());case 6:case"end":return e.stop()}},e)})),function(e,t,s){return i.apply(this,arguments)})),(0,h.default)((0,j.default)(u),"getThirdParty",(0,p.default)(l.mark(function e(){var t,s,o,n,r;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.get)("douban_"+u.subjectId);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:if(s=t.ts,o=t.videos,o=void 0===o?[]:o,n=t.epsThumbs,n=void 0===n?[]:n,r=t.epsThumbsHeader,r=void 0===r?{}:r,o.length+n.length<=2||604800<=(0,_.getTimestamp)()-s||s<(0,_.getTimestamp)("2023-07-14 14:00:00"))return e.abrupt("return",!0);e.next=9;break;case 9:return u.setState({videos:o,epsThumbs:n,epsThumbsHeader:r}),u.save(),e.abrupt("return",!1);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}))),(0,h.default)((0,j.default)(u),"updateSubjectThirdParty",function(){setTimeout(function(){var e=u.subjectFormHTML,t=e._loaded,e=e.formhash;t&&e&&(0,v.update)("subject_"+u.subjectId,Object.assign({},(0,_.omit)(u.subjectFormHTML,["type","watchedEps","friend","who","formhash","_loaded"]),{id:u.subjectId,type:u.subject.type,name:u.jp,name_cn:u.cn,image:null==(t=u.subject.images)?void 0:t.common,eps:u.eps,collection:u.subjectCollection,summary:u.summary,rating:u.rating,rank:u.subject.rank||"",character:u.crt,staff:u.staff,titleLabel:u.titleLabel}))},1e4)}),(0,h.default)((0,j.default)(u),"updateCommentsThirdParty",function(){""===u.state.filterStatus&&setTimeout(function(){var e,t=u.subjectComments;if(null==t||null==(e=t.list)||!e.length||null==t||!t._loaded||null!=t&&t.version||null!=t&&t._reverse)return!1;(0,v.update)("comments_"+u.subjectId,{list:t.list.slice(0,40),pagination:{page:1,pageTotal:1},_loaded:t._loaded,_reverse:!1})},1e4)}),(0,h.default)((0,j.default)(u),"updateThirdParty",function(){setTimeout(function(){(0,v.update)("douban_"+u.subjectId,{videos:u.state.videos,epsThumbs:u.state.epsThumbs,epsThumbsHeader:u.state.epsThumbsHeader})},0)}),(0,h.default)((0,j.default)(u),"fetchOTA",function(){var e;"动画"===u.type?null!=(e=u.animeInfo)&&e.i&&b.otaStore.fetchAnime(u.animeInfo.i):"游戏"===u.type&&null!=(e=u.gameInfo)&&e.i&&b.otaStore.fetchGame(u.gameInfo.i)}),(0,h.default)((0,j.default)(u),"fetchAnitabi",(0,p.default)(l.mark(function e(){var t,s,o,n,r,c;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("动画"!==u.type||u.nsfw)return e.abrupt("return",!1);e.next=2;break;case 2:if(-1!==(t=b.systemStore.setting.showAnitabi)&&t){e.next=5;break}return e.abrupt("return",!1);case 5:if((t=u.state.anitabi._loaded)&&(0,_.getTimestamp)()-Number(t)<=86400)return e.abrupt("return",!0);e.next=8;break;case 8:return e.prev=8,o="anitabi_"+u.subjectId,e.next=12,(0,v.get)(o);case 12:if(null!=(n=e.sent)&&n._loaded&&(0,_.getTimestamp)()-Number(null==n?void 0:n._loaded)<=86400)return u.setState({anitabi:n}),e.abrupt("return",!0);e.next=16;break;case 16:return e.next=18,(0,g.xhrCustom)({url:(0,T.API_ANITABI)(u.subjectId)});case 18:return n=e.sent,r=n._response,null!=(r=r.length?JSON.parse(r):{})&&null!=(s=r.litePoints)&&s.length?c=Object.assign({},r,{_loaded:(0,_.getTimestamp)()}):(c={_loaded:(0,_.getTimestamp)()},u.setState({anitabi:{_loaded:(0,_.getTimestamp)()}})),u.setState({anitabi:c}),u.save(),setTimeout(function(){(0,v.update)(o,c)},0),e.abrupt("return",!0);case 28:return e.prev=28,e.t0=e.catch(8),e.abrupt("return",!1);case 31:case"end":return e.stop()}},e,null,[[8,28]])}))),(0,h.default)((0,j.default)(u),"fetchVIB",(0,p.default)(l.mark(function e(){var t,s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.systemStore.setting.hideScore||!0!==b.systemStore.setting.showRating)return e.abrupt("return",!1);e.next=2;break;case 2:if((0,_.opitimize)(u.vib,43200))return e.abrupt("return",u.vib);e.next=4;break;case 4:return e.prev=4,t="vib_"+u.subjectId,e.next=8,(0,v.get)(t);case 8:if(null!=(s=e.sent)&&s._loaded&&(0,_.getTimestamp)()-Number(null==s?void 0:s._loaded)<=86400)return b.subjectStore.updateVIB(u.subjectId,s),null!=s&&s.avg||setTimeout(function(){b.subjectStore.fetchVIB(u.subjectId)},0),e.abrupt("return",!0);e.next=13;break;case 13:return e.next=15,b.subjectStore.fetchVIB(u.subjectId);case 15:if("动画"===u.type)return e.next=18,b.subjectStore.fetchMAL(u.subjectId,u.jp||u.cn);e.next=20;break;case 18:return e.next=20,b.subjectStore.fetchAniDB(u.subjectId,u.jp||u.cn);case 20:return u.vib._loaded&&(0,v.update)(t,u.vib),e.abrupt("return",!0);case 24:e.prev=24,e.t0=e.catch(4);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,null,[[4,24]])}))),u}},"./src/screens/home/subject/store/index.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),o=o(s("./src/screens/home/subject/store/action.ts")),b=s("./src/screens/home/subject/store/ds.ts");function _(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=o.default,(0,a.default)(x,s),y=_(x);var y,o=(0,c.default)(x);function x(){var o;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=y.call.apply(y,[this].concat(t)),(0,m.default)((0,d.default)(o),"_initDone",!1),(0,m.default)((0,d.default)(o),"init",(0,r.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,f.getTimestamp)(),t=!o._initDone||!o.state._loaded||300<s-Number(o.state._loaded),s=t?s:o.state._loaded,e.prev=3,e.t0=o,e.t1=Object,e.t2={},e.next=9,o.getStorage(o.namespace);case 9:if(e.t3=e.sent,e.t4=b.EXCLUDE_STATE,e.t5={_loaded:s},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),o.fetchSubjectFromOSS(),t){e.next=17;break}return e.abrupt("return",!0);case 17:return p.collectionStore.fetchCollectionStatusQueue([o.subjectId]),e.abrupt("return",o.onHeaderRefresh());case 21:e.prev=21,e.t7=e.catch(3);case 23:return o.setState(Object.assign({},b.EXCLUDE_STATE,{_loaded:s})),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,null,[[3,21]])}))),(0,m.default)((0,d.default)(o),"onHeaderRefresh",(0,r.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,j.queue)([function(){if(o.state.mounted&&!h.SHARE_MODE)return o.fetchCollection()},function(){if(o.state.mounted&&!h.SHARE_MODE)return p.userStore.isStorybookLogin?p.userStore.fetchUserProgressV0(o.subjectId):p.userStore.fetchUserProgress(o.subjectId)}],1),o.state.mounted){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o.fetchSubject();case 5:return t=e.sent,(0,j.queue)([function(){if(o.state.mounted)return o.fetchOTA()},function(){if(o.state.mounted)return o.fetchThirdParty(t)},function(){if(o.state.mounted)return o.fetchAnitabi()},function(){if(o.state.mounted)return h.STORYBOOK?o.fetchCommentsFromOSS():void setTimeout(function(){o.state.mounted&&o.fetchCommentsFromOSS()},6400)},function(){if(o.state.mounted)return o.fetchTrackComments()},function(){if(o.state.mounted)return o.fetchSubjectComments(!0)},function(){if(o.state.mounted)return o.fetchSubjectFromHTML()},function(){if(o.state.mounted)return o.setRendered()},function(){if(o.state.mounted)return o.fetchVIB()},function(){if(o.state.mounted)return o.fetchEpsData()},function(){var e;return o.state.mounted&&1e3<=(null==(e=o.subject.eps)?void 0:e.length)?p.subjectStore.fetchSubjectEpV2(o.subjectId):void 0},function(){return o.state.mounted&&404===(null==t?void 0:t.code)?o.fetchPersons():void 0},function(){return o.state.mounted&&null!=t&&t.v0?p.rakuenStore.fetchReviews(o.subjectId,!0):void 0},function(){return o.state.mounted&&null!=t&&t.v0?p.rakuenStore.fetchBoard({subjectId:o.subjectId}):void 0},function(){o.state.mounted&&(o._initDone=!0)}],2),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),o}t.default=o},"./src/screens/home/subject/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),o=o(s("./src/utils/store/index.ts")),m=s("./src/screens/home/subject/store/ds.ts");function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var f;t.default=(s=o.default,(0,i.default)(j,s),f=p(j),(0,n.default)(j));function j(){var e;(0,r.default)(this,j);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,c.default)(e),"params",void 0),(0,u.default)((0,c.default)(e),"state",(0,l.observable)(m.STATE)),e}},"./src/screens/home/tag/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/tag/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/tag/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/tag/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/tag/component/list/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),u={id:"用户标签.跳转",data:{type:"grid"}};t.default=(0,o.obc)(function(e,t){var s=e.item,o=e.index,e=e.numColumns,n=t.$,t=t.navigation,n=n.state.airtime,r=String(s.id).replace("/subject/",""),r=i.collectionStore.collect(r);return(0,a.jsx)(c.ItemCollectionsGrid,Object.assign({navigation:t,style:(i._.isPad||i._.isLandscape)&&!(o%e)&&i._.container.left,index:o,event:u,collection:r,num:e},s,{airtime:""===n&&(0,d.matchYear)(s.tip),isCollect:s.collected}))})},"./src/screens/home/tag/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=o(s("./src/screens/home/tag/component/tool-bar/index.tsx")),l=o(s("./src/screens/home/tag/component/list/grid/index.tsx")),m=o(s("./src/screens/home/tag/component/list/list/index.tsx")),o=s("./src/screens/home/tag/component/list/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s,o=t.$;return!o.list._loaded||o.state.hide?(0,p.jsxs)(p.Fragment,{children:[!o.state.fixed&&(0,p.jsx)(u.default,{}),(0,p.jsx)(n.Loading,{})]}):(s=o.state.list?void 0:c._.portrait(3,5),(0,p.jsx)(n.ListView,{keyExtractor:i.keyExtractor,contentContainerStyle:c._.container.bottom,numColumns:s,data:o.list,scrollToTop:!0,footerEmptyDataText:(0,i.x18s)(o.params.tag)?a.TEXT_18X:void 0,ListHeaderComponent:(0,p.jsxs)(p.Fragment,{children:[!o.state.fixed&&(0,p.jsx)(u.default,{}),"rank"===o.state.order&&(0,p.jsx)(r.Notice,{children:"因标签为用户自行添加， 「按排名」排序在关联条目过多情况下可能毫无意义，推荐「按标注」排序。"})]}),renderItem:function(e){var t=e.item,e=e.index;return o.state.list?(0,p.jsx)(m.default,{item:t,index:e}):(0,p.jsx)(l.default,{item:t,index:e,numColumns:s})},scrollEventThrottle:4,onScroll:o.onScroll,onHeaderRefresh:o.onHeaderRefresh,onFooterRefresh:o.onFooterRefresh},""+c._.orientation+s))},o.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/tag/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/tag/component/list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js"),i={id:"用户标签.跳转",data:{type:"list"}};t.default=(0,o.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,o=String(s.id).replace("/subject/",""),o=r.collectionStore.collect(o);return(0,c.jsx)(n.ItemSearch,Object.assign({style:r._.container.item,navigation:t,index:e,event:i,collection:o},s))})},"./src/screens/home/tag/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/tag/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ToolBar")},"./src/screens/home/tag/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/tag/component/tool-bar/month.tsx")),d=o(s("./src/screens/home/tag/component/tool-bar/more.tsx")),a=o(s("./src/screens/home/tag/component/tool-bar/sort.tsx")),u=o(s("./src/screens/home/tag/component/tool-bar/year.tsx")),o=s("./src/screens/home/tag/component/tool-bar/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){return t=t.$,(0,l.jsxs)(n.ToolBar,{style:!t.state.list&&r._.mb.sm,children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(u.default,{}),(0,l.jsx)(i.default,{}),(0,l.jsx)(d.default,{})]})},o.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/home/tag/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/home/tag/component/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.month;return(0,c.jsx)(n.ToolBar.Popover,{data:r.DATA_MONTH,text:s?s+"月":"月",type:s?"desc":"sub",heatmap:"用户标签.月选择",onSelect:t.onMonthSelect})});try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/home/tag/component/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/home/tag/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=(t=s.state).fixed,n=t.list,t=t.collected;return(0,i.jsx)(r.ToolBar.Popover,{data:["选项 · "+(o?"锁定上方":"浮动"),"布局 · "+(n?"列表":"网格"),"收藏 · "+(t?"显示":"隐藏")],icon:"md-more-vert",iconColor:c._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleFixed():e.includes("布局")?s.onToggleList():e.includes("收藏")?s.onToggleCollected():void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/home/tag/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/home/tag/component/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.order;return(0,i.jsx)(n.ToolBar.Popover,{data:c.TAG_ORDERBY.map(function(e){return e.label}),icon:"md-sort",iconColor:r._.colorDesc,text:s?c.MODEL_TAG_ORDERBY.getLabel(s):"名称",type:"desc",heatmap:"用户标签.排序选择",onSelect:t.onOrderSelect})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/home/tag/component/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/home/tag/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,c.jsx)(n.ToolBar.Popover,{data:r.DATA_AIRTIME,text:s||"年",type:s?"desc":"sub",heatmap:"用户标签.年选择",onSelect:t.onAirdateSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/home/tag/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/home/tag/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Tag"},"./src/screens/home/tag/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,o=(t=s.params).type,t=t.tag,o=i.MODEL_SUBJECT_TYPE.getTitle(o)||"动画";return(0,d.jsx)(n.Header,{title:t?o+" · "+t:o+"标签",alias:"用户标签",hm:[s.url,"Tag"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("用户标签.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"用户标签.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/tag/header/index.tsx#header"})}catch(e){}},"./src/screens/home/tag/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/tag/component/list/index.tsx")),d=o(s("./src/screens/home/tag/component/tool-bar/index.tsx")),a=o(s("./src/screens/home/tag/header/index.tsx")),o=o(s("./src/screens/home/tag/store/index.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-tag",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{children:[s.state.fixed&&(0,u.jsx)(d.default,{}),s.state._loaded&&(0,u.jsx)(i.default,{})]})]})})});try{tag.displayName="tag",tag.__docgenInfo={description:"",displayName:"tag",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/tag/index.tsx#tag"]={docgenInfo:tag.__docgenInfo,name:"tag",path:"src/screens/home/tag/index.tsx#tag"})}catch(e){}},"./src/screens/home/tag/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.function.bind.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./src/utils/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),o=o(s("./src/screens/home/tag/store/fetch.ts"));function f(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var j;t.default=(s=o.default,(0,i.default)(h,s),j=f(h),(0,n.default)(h));function h(){var t;(0,r.default)(this,h);for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return t=j.call.apply(j,[this].concat(s)),(0,u.default)((0,c.default)(t),"resetScrollView",function(){t.setState({hide:!0}),setTimeout(function(){t.setState({hide:!1}),t.save()},0)}),(0,u.default)((0,c.default)(t),"onOrderSelect",function(e){t.resetScrollView(),(0,m.t)("用户标签.排序选择",{label:e}),t.setState({order:p.MODEL_TAG_ORDERBY.getValue(e)}),t.fetchTag(!0)}),(0,u.default)((0,c.default)(t),"onAirdateSelect",function(e){t.resetScrollView(),(0,m.t)("用户标签.年选择",{airtime:e}),t.setState({airtime:"全部"===e?"":e,month:""}),t.fetchTag(!0)}),(0,u.default)((0,c.default)(t),"onMonthSelect",function(e){""===t.state.airtime?(0,l.info)("请先选择年"):(t.resetScrollView(),(0,m.t)("用户标签.月选择",{month:e}),t.setState({month:"全部"===e?"":e}),t.fetchTag(!0))}),(0,u.default)((0,c.default)(t),"onToggleList",function(){t.resetScrollView();var e=t.state.list;(0,m.t)("用户标签.切换布局",{list:!e}),t.setState({list:!e})}),(0,u.default)((0,c.default)(t),"onToggleFixed",function(){var e=t.state.fixed;t.setState({fixed:!e}),t.save()}),(0,u.default)((0,c.default)(t),"onToggleCollected",function(){var e=t.state.collected;t.setState({collected:!e}),t.save()}),(0,u.default)((0,c.default)(t),"onScroll",l.updateVisibleBottom.bind((0,c.default)(t))),t}},"./src/screens/home/tag/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),l=s("./src/stores/index.ts"),m=s("./src/constants/index.ts"),o=o(s("./src/screens/home/tag/store/state.ts"));function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=o?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var f;t.default=(s=o.default,(0,c.default)(j,s),f=p(j),(0,r.default)(j,[{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"tag",get:function(){var e=this.params,t=e.type,e=e.tag,s=this.state,o=s.airtime,s=s.month;return l.tagStore.tag(e,t,s?o+"-"+s:o)}},{key:"list",get:function(){return this.tag._loaded?this.state.collected?this.tag:Object.assign({},this.tag,{list:this.tag.list.filter(function(e){return!e.collected})}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):m.LIST_EMPTY}},{key:"url",get:function(){var e=this.params,t=e.type,e=e.tag,s=this.state,o=s.order,o=void 0===o?"collects":o,n=s.airtime,s=s.month;return(0,m.HTML_TAG)(encodeURIComponent(e),t,o,1,s?n+"-"+s:n)}},{key:"thirdPartyKey",get:function(){var e=this.params,t=e.type,e=e.tag,s=this.state,o=s.airtime,s=s.month;return"tag_"+[e,t,s?o+"-"+s:o].join("_")}},{key:"subject",value:function(e){return(0,u.computed)(function(){return l.subjectStore.subject(e)}).get()}}]),(0,a.default)((t=j).prototype,"ota",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,a.default)(t.prototype,"tag",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"tag"),t.prototype),(0,a.default)(t.prototype,"list",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,a.default)(t.prototype,"url",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"thirdPartyKey",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function j(){return(0,n.default)(this,j),f.apply(this,arguments)}},"./src/screens/home/tag/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var o=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/home/tag/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.EXCLUDE_STATE={visibleBottom:o._.window.height,airtime:"",month:"",hide:!1,ota:{}});t.STATE=Object.assign({order:n.MODEL_TAG_ORDERBY.getValue("标注数"),list:!0,fixed:!1,collected:!0},s,{_loaded:!1})},"./src/screens/home/tag/store/fetch.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),r=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),h=s("./src/utils/kv/index.ts"),b=s("./src/constants/index.ts"),o=o(s("./src/screens/home/tag/store/computed.ts")),_=["collected"];function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=o?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var x,g=[];t.default=(s=o.default,(0,d.default)(v,s),x=y(v),(0,c.default)(v));function v(){var d;(0,i.default)(this,v);for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return d=x.call.apply(x,[this].concat(s)),(0,p.default)((0,u.default)(d),"fetchTag",(t=(0,r.default)(a.mark(function e(t){var s,o,n,r,c,i;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&d.fetchThirdParty(),c=d.params,i=c.type,c=c.tag,n=d.state,s=n.order,o=n.airtime,n=n.month,e.next=5,f.tagStore.fetchTag({text:c,type:i,order:s,airtime:n?o+"-"+n:o},t);case 5:return(r=e.sent).list.length&&d.thirdPartyKey in d.state.ota&&(i=(null==(c=d.ota)?void 0:c.ts)||0,(0,j.getTimestamp)()-i>=b.D7)&&d.updateThirdParty(),setTimeout(function(){f.collectionStore.fetchCollectionStatusQueue(r.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",r);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,u.default)(d),"fetchThirdParty",(0,r.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.tagStore.init("tag");case 2:setTimeout((0,r.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.ota||d.tag._loaded){e.next=8;break}return e.next=3,(0,h.get)(d.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return d.setState({ota:(0,p.default)({},d.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:d.setState({ota:(0,p.default)({},d.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)})),80);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,u.default)(d),"updateThirdParty",(0,r.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.includes(d.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,h.update)(d.thirdPartyKey,{list:d.tag.list.map(function(e){e.collected;return(0,n.default)(e,_)})}),g.push(d.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,u.default)(d),"onHeaderRefresh",function(){return d.fetchTag(!0)}),(0,p.default)((0,u.default)(d),"onFooterRefresh",function(){return!(d.tag.list.length<24)&&d.fetchTag()}),d}},"./src/screens/home/tag/store/index.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=o(s("./src/screens/home/tag/store/action.ts")),p=s("./src/screens/home/tag/store/ds.ts");function f(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=o.default,(0,a.default)(h,s),j=f(h);var j,o=(0,c.default)(h);function h(){var o;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=j.call.apply(j,[this].concat(t)),(0,m.default)((0,d.default)(o),"init",(0,r.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(p.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return"rank"===(t=e.t0).order&&(t.order="collects"),t=Object.assign({},t,p.EXCLUDE_STATE,{_loaded:!0}),(s=o.params.airtime)&&(t.airtime=s),o.setState(t),e.abrupt("return",o.fetchTag(!0));case 12:case"end":return e.stop()}},e)}))),o}t.default=o},"./src/screens/home/tag/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),o=o(s("./src/utils/store/index.ts")),m=s("./src/screens/home/tag/store/ds.ts");function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var f;t.default=(s=o.default,(0,i.default)(j,s),f=p(j),(0,n.default)(j));function j(){var e;(0,r.default)(this,j);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,c.default)(e),"params",void 0),(0,u.default)((0,c.default)(e),"state",(0,l.observable)(m.STATE)),(0,u.default)((0,c.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/home/typerank/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/typerank/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/typerank/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/typerank/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item"),t.EVENT={id:"分类排行.跳转"}},"./src/screens/home/typerank/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/typerank/component/item/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.index,o=t.$,t=t.navigation;return(0,c.jsx)(n.ItemSubject,{navigation:t,event:r.EVENT,index:e,subjectId:s,type:o.type,subject:o.subject(s),oss:o.subjectOSS(s),active:o.subjectId==s})})},"./src/screens/home/typerank/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/typerank/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List"),t.SORT=[{key:"top",title:"最受好评",desc:"分数超过 8分, 看过人数超过 10000 的作品"},{key:"pop",title:"近年流行",desc:"近年来的流行作品，收藏数的排名在前 20%"},{key:"tv",title:"TV",desc:"通常的 tv 动画"},{key:"old_tv",title:"老 TV",desc:"06 年及以前的老动画"},{key:"movie",title:"剧场版",desc:"动画电影 / 剧场版"},{key:"old_movie",title:"老剧场版",desc:"06 年及以前动画电影 / 剧场版"},{key:"nsfw",title:"NSFW",desc:"绝大多数是里番"}]},"./src/screens/home/typerank/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/typerank/component/list/utils.tsx"),d=s("./src/screens/home/typerank/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return(t=t.$).ids.length?t.state.searching?(0,a.jsx)(n.Loading,{style:c._.container.flex}):(0,a.jsx)(r.PaginationList2,{keyExtractor:i.keyExtractor,contentContainerStyle:c._.container.bottom,data:t.ids,limit:12,renderItem:i.renderItem,onScroll:t.onScroll,onPage:t.fetchSubjectsFromOSS}):(0,a.jsx)(n.Empty,{text:"此标签没有足够的列表数据"})},d.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/typerank/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/typerank/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/typerank/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=c,t.renderItem=i,o(s("./node_modules/react/index.js")),o(s("./src/screens/home/typerank/component/item/index.tsx"))),r=s("./node_modules/react/jsx-runtime.js");function c(e){return String(e)}function i(e){var t=e.item,e=e.index;return(0,r.jsx)(n.default,{subjectId:t,index:e})}try{c.displayName="keyExtractor",c.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/typerank/component/list/utils.tsx#keyExtractor"]={docgenInfo:c.__docgenInfo,name:"keyExtractor",path:"src/screens/home/typerank/component/list/utils.tsx#keyExtractor"})}catch(e){}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/typerank/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/home/typerank/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/typerank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Typerank",t.NAMESPACE="ScreenTyperank",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,searching:!1};t.STATE=Object.assign({},s,{subjects:{},_loaded:!1})},"./src/screens/home/typerank/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/typerank/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/typerank/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/constants/index.ts"),c=s("./src/screens/home/typerank/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.Header,{title:"分类排行 · "+r.MODEL_SUBJECT_TYPE.getTitle(t.type)+" · "+t.tag+" ("+t.ids.length+")",hm:["typerank","Typerank"],headerTitleAlign:"left"})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/typerank/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/typerank/header/index.tsx#header"})}catch(e){}},"./src/screens/home/typerank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/typerank/component/list/index.tsx")),d=o(s("./src/screens/home/typerank/header/index.tsx")),o=o(s("./src/screens/home/typerank/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,a.jsxs)(n.Component,{id:"screen-typerank",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)(n.Page,{children:s.state._loaded&&(0,a.jsx)(i.default,{})})]})})});try{typerank.displayName="typerank",typerank.__docgenInfo={description:"",displayName:"typerank",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/typerank/index.tsx#typerank"]={docgenInfo:typerank.__docgenInfo,name:"typerank",path:"src/screens/home/typerank/index.tsx#typerank"})}catch(e){}},"./src/screens/home/typerank/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.entries.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=s("./node_modules/mobx/dist/mobx.esm.js"),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/kv/index.ts"),o=o(s("./src/utils/store/index.ts")),y=s("./src/screens/home/typerank/utils.ts"),x=s("./src/screens/home/typerank/ds.ts");function g(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=o?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var v;t.default=(s=o.default,(0,u.default)(O,s),v=g(O),(0,r.default)(O,[{key:"tag",get:function(){return this.params.tag||""}},{key:"type",get:function(){return this.params.type||"anime"}},{key:"subjectId",get:function(){return this.params.subjectId||0}},{key:"ids",get:function(){return(0,y.getIds)(this.type,this.tag)}},{key:"subject",value:function(e){return(0,j.computed)(function(){return h.subjectStore.subjectV2(e)}).get()}},{key:"subjectOSS",value:function(e){var t=this;return(0,j.computed)(function(){return t.state.subjects["subject_"+e]||{}}).get()}}]),(0,f.default)((t=O).prototype,"tag",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"tag"),t.prototype),(0,f.default)(t.prototype,"type",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,f.default)(t.prototype,"subjectId",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,f.default)(t.prototype,"ids",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"ids"),t.prototype),t);function O(){var r;(0,c.default)(this,O);for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return r=v.call.apply(v,[this].concat(s)),(0,p.default)((0,i.default)(r),"params",void 0),(0,p.default)((0,i.default)(r),"state",(0,j.observable)(x.STATE)),(0,p.default)((0,i.default)(r),"init",(0,n.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:t=e.sent,r.setState(Object.assign({},t,x.EXCLUDE_STATE,{_loaded:!0}));case 4:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(r),"fetchSubjects",(0,n.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(r),"fetchSubjectsFromOSS",(t=(0,n.default)(d.mark(function e(t){var s,o,n,c,i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",!0);case 2:if(s=r.state.subjects,o=(0,b.getTimestamp)(),n=[],t.forEach(function(e){var t;r.subject(e).id||(!(t=(s[e]||{})._loaded)||86400<=o-Number(t))&&(!(t=r.subjectOSS(e)._loaded)||86400<=o-Number(t))&&n.push("subject_"+e)}),n.length){e.next=8;break}return e.abrupt("return",!0);case 8:return e.prev=8,console.info("fetchSubjectsFromOSS",n),c=["name","name_cn","image","rank","rating","totalEps","info","staff","tags"],e.next=13,(0,_.gets)(n,c);case 13:i=e.sent,Object.entries(i).forEach(function(e){var t,s,o,n,e=(0,a.default)(e,2),r=e[0],e=e[1];try{i[r]=(0,b.pick)(e,c),i[r].info&&(i[r].date=(null==(t=i[r].info.match(/<li><span>(发售日|放送开始|上映年度|上映时间): <\/span>(.+?)<\/li>/))?void 0:t[2])||""),delete i[r].info,!i[r].date&&Array.isArray(i[r].tags)&&((s=i[r].tags.find(function(e){return/^\d+年\d+月$/.test(e.name)}))&&(i[r].date=s.name),s=i[r].tags.find(function(e){return/^\d{4}$/.test(e.name)}))&&(i[r].date=s.name),delete i[r].tags,Array.isArray(i[r].staff)&&(o=i[r].staff.find(function(e){return"原作"===e.desc}),i[r].origin=(null==o?void 0:o.name)||(null==o?void 0:o.nameJP)||"",n=i[r].staff.find(function(e){return"导演"===e.desc}),i[r].director=(null==n?void 0:n.name)||(null==n?void 0:n.nameJP)||"",i[r].director||(n=i[r].staff.find(function(e){return"作者"===e.desc||"开发"===e.desc||"音乐"===e.desc}),i[r].director=(null==n?void 0:n.name)||(null==n?void 0:n.nameJP)||"")),delete i[r].staff,i[r]._loaded=(0,b.getTimestamp)()}catch(e){}}),r.setState({subjects:i}),r.setStorage(x.NAMESPACE),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:h.collectionStore.fetchCollectionStatusQueue(t);case 22:case"end":return e.stop()}},e,null,[[8,19]])})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,i.default)(r),"onScroll",b.updateVisibleBottom.bind((0,i.default)(r))),r}},"./src/screens/home/typerank/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.getIds=function(e,t){var s;if(!e||!t)return[];"anime"===e?s=n.default:"book"===e?s=r.default:"game"===e?s=c.default:"music"===e?s=i.default:"real"===e&&(s=d.default);return(null==(e=s)?void 0:e[t])||[]},o(s("./src/assets/json/typerank/anime-ids.json"))),r=o(s("./src/assets/json/typerank/book-ids.json")),c=o(s("./src/assets/json/typerank/game-ids.json")),i=o(s("./src/assets/json/typerank/music-ids.json")),d=o(s("./src/assets/json/typerank/real-ids.json"))},"./src/screens/home/v2/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/v2/component/empty/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.FOOTER_EMPTY_TEXT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Empty"),t.FOOTER_EMPTY_TEXT={"全部":"当前没有可管理的条目哦","动画":"当前没有在追的番组哦","书籍":"当前没有在读的书籍哦","三次元":"当前没有在追的电视剧哦","游戏":"当前没有在玩的游戏哦"}},"./src/screens/home/v2/component/empty/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/components/mesume/utils.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=s("./src/screens/home/v2/component/empty/ds.ts"),u=s("./src/screens/home/v2/component/empty/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.title,e=e.length,o=t.$,n=t.navigation,t=(0,u.memoStyles)(),r=o.state.filter;return(0,l.jsxs)(c.Flex,{style:e?t.top:t.empty,direction:"column",justify:"center",children:[(0,l.jsx)(c.Mesume,{size:80}),(0,l.jsx)(c.Text,{style:t.text,type:"sub",size:13,align:"center",children:e?(0,i.randomSpeech)():a.FOOTER_EMPTY_TEXT[s]}),!!r&&e<=3&&(0,l.jsx)(c.Button,{style:t.btn,type:"ghostMain",onPress:function(){(0,d.t)("首页.再搜索",{type:s,value:r}),n.push("Search",{_type:"全部"===s?"条目":s,_value:r})},children:"前往搜索"})]})},a.COMPONENT)},"./src/screens/home/v2/component/empty/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{empty:{minHeight:320},top:{minHeight:280},text:Object.assign({marginTop:o._.md,maxWidth:o._.window.contentWidth-2*o._.md},o._.fontSize(14)),btn:{marginTop:o._.lg,width:120}}})},"./src/screens/home/v2/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Extra")},"./src/screens/home/v2/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./src/screens/home/v2/component/extra/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,t=t.navigation;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Track,{title:"首页",hm:s.hm}),(0,d.jsx)(r.ErrorNotice,{}),!c.STORYBOOK&&(0,d.jsx)(r.LoginNotice,{navigation:t})]})},i.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/v2/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/home/v2/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Filter")},"./src/screens/home/v2/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/react/index.js")),m=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),f=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),h=s("./src/screens/home/v2/component/filter/ds.ts"),b=s("./src/screens/home/v2/component/filter/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}s=l.default.Component,(0,i.default)(g,s),x=y(g),(0,r.default)(g,[{key:"show",get:function(){return f.systemStore.setting.homeFilter}},{key:"filter",get:function(){var e=this.context.$,t=e.state.filterPage;return 0<=t&&t<=e.tabs.length&&this.props.title===e.tabs[t].title?e.state.filter:""}},{key:"render",value:function(){var e;return(0,j.r)(h.COMPONENT),this.show?(e=this.context.$,(0,_.jsxs)(m.default,{style:this.styles.filter,children:[(0,_.jsx)(p.Input,{style:this.styles.input,clearButtonMode:"never",defaultValue:this.filter,onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:e.onFilterChange}),!this.state.focus&&!this.filter&&(0,_.jsxs)(p.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:[e.state.progress.fetching&&(0,_.jsx)(m.default,{style:this.styles.loading,children:(0,_.jsx)(p.Loading.Medium,{color:f._.colorSub,size:16})}),this.props.length?(0,_.jsx)(p.Text,{type:"icon",bold:!0,size:15,children:this.props.length}):(0,_.jsx)(p.Iconfont,{name:"md-search",size:18})]})]})):null}},{key:"styles",get:function(){return(0,b.memoStyles)()}}]);var x,l=g;function g(){var e;(0,n.default)(this,g);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=x.call.apply(x,[this].concat(s)),(0,u.default)((0,c.default)(e),"state",{focus:!1}),(0,u.default)((0,c.default)(e),"onFocus",function(){e.setState({focus:!0})}),(0,u.default)((0,c.default)(e),"onBlur",function(){e.setState({focus:!1})}),e}t.default=(0,o.obc)(l);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"游戏"'},{value:'"三次元"'},{value:'"全部"'}]}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/home/v2/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/home/v2/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:o._.wind,backgroundColor:o._.colorBg},input:Object.assign({height:40,paddingVertical:0},o._.fontSize16,{fontWeight:"800",textAlign:"center",backgroundColor:o._.select(o._.colorBorder,o._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},loading:{position:"absolute",zIndex:2,top:24,right:14,width:44,height:44}}})},"./src/screens/home/v2/component/grid-info/book-next-btn/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BookNextBtn")},"./src/screens/home/v2/component/grid-info/book-next-btn/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/grid-info/book-next-btn/ds.ts"),i=s("./src/screens/home/v2/component/grid-info/book-next-btn/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.epStatus,n=e.volStatus,r=t.$;return(0,d.jsx)(c.Touchable,{style:i.styles.touchable,onPress:function(){return r.doUpdateNext(s,o,n)},children:(0,d.jsx)(c.Flex,{justify:"center",children:(0,d.jsx)(c.Iconfont,{style:i.styles.icon,name:"md-check-circle-outline",size:18})})})},n.COMPONENT)},"./src/screens/home/v2/component/grid-info/book-next-btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{marginBottom:-1},touchable:{padding:s._.sm}})},"./src/screens/home/v2/component/grid-info/btn-next-ep/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BtnNextEp")},"./src/screens/home/v2/component/grid-info/btn-next-ep/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/grid-info/btn-next-ep/ds.ts"),i=s("./src/screens/home/v2/component/grid-info/btn-next-ep/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=t.$;return(e=o.nextWatchEp(s).sort)?(0,d.jsx)(r.Touchable,{style:i.styles.touchable,onPress:function(){o.doWatchedNextEp(s)},children:(0,d.jsxs)(r.Flex,{justify:"center",children:[(0,d.jsx)(r.Iconfont,{style:i.styles.icon,name:"md-check-circle-outline",size:18}),(0,d.jsx)(n.default,{style:i.styles.placeholder,children:(0,d.jsx)(r.Text,{type:"sub",children:e})})]})}):null},c.COMPONENT)},"./src/screens/home/v2/component/grid-info/btn-next-ep/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{marginBottom:-1},touchable:{padding:s._.sm},placeholder:{marginBottom:-1.5,marginLeft:s._.sm}})},"./src/screens/home/v2/component/grid-info/count/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Count")},"./src/screens/home/v2/component/grid-info/count/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=o(s("./src/screens/home/v2/component/grid-info/book-next-btn/index.tsx")),o=s("./src/screens/home/v2/component/grid-info/count/ds.ts"),u=s("./src/screens/home/v2/component/grid-info/count/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.subjectId,o=void 0===(o=e.subject)?{}:o,n=e.epStatus,e=e.tip,r=(t=t.$).subject(s);return"游戏"===(r=d.MODEL_SUBJECT_TYPE.getTitle((null==r?void 0:r.type)||(null==o?void 0:o.type)))?(0,l.jsx)(c.Text,{style:i._.mt.xs,type:"sub",size:12,lineHeight:13,children:e}):"书籍"===r?(r=(e=(void 0===(o=t.collection.list)?[]:o).find(function(e){return e.subject_id===s})).ep_status,o=e.vol_status,(0,l.jsxs)(c.Flex,{style:u.styles.book,justify:"end",children:[(0,l.jsxs)(c.Text,{type:"primary",size:20,children:[(0,l.jsxs)(c.Text,{type:"primary",size:12,lineHeight:20,children:["Chap."," "]}),r]}),(0,l.jsx)(a.default,{subjectId:s,epStatus:r+1,volStatus:o}),(0,l.jsxs)(c.Text,{style:i._.ml.md,type:"primary",size:20,children:[(0,l.jsxs)(c.Text,{type:"primary",size:12,lineHeight:20,children:["Vol."," "]}),o]}),(0,l.jsx)(a.default,{subjectId:s,epStatus:r,volStatus:o+1})]})):(0,l.jsxs)(c.Text,{type:"primary",size:18,children:[t.countFixed(s,n)||"0",(0,l.jsxs)(c.Text,{type:"sub",lineHeight:18,children:[" ","/ ",t.countRight(s)]})]})},o.COMPONENT)},"./src/screens/home/v2/component/grid-info/count/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({book:{marginBottom:-4}})},"./src/screens/home/v2/component/grid-info/cover/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Cover")},"./src/screens/home/v2/component/grid-info/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/v2/component/grid-item/styles.ts"),n=s("./src/screens/home/v2/component/grid-info/cover/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=void 0===(o=e.subject)?{}:o,e=e.onPress,t=t.$.subject(s),n=(0,i.memoStyles)(),n=c._.isMobileLanscape?60:n.item.width;return(0,d.jsx)(r.Cover,{size:n,height:1.4*n,src:(null==t||null==(n=t.images)?void 0:n.medium)||(null==o||null==(t=o.images)?void 0:t.medium)||"",radius:!0,shadow:!0,onPress:e},s)},n.COMPONENT)},"./src/screens/home/v2/component/grid-info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"GridInfo")},"./src/screens/home/v2/component/grid-info/eps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Eps")},"./src/screens/home/v2/component/grid-info/eps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/grid-info/eps/ds.ts"),d=s("./src/screens/home/v2/component/grid-info/eps/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=t.$,n=t.navigation,e=i.systemStore.setting.homeGridEpAutoAdjust,t=o.eps(s);return(0,a.jsx)(r.default,{style:d.styles.eps,children:(0,a.jsx)(c.Eps,{grid:!0,numbersOfLine:i._.isMobileLanscape?12:e?i._.device(o.epsCount(s,!1)<=18?6:7,8):i._.device(7,8),lines:i._.isMobileLanscape?1:3,login:o.isLogin,subjectId:s,eps:t,userProgress:o.userProgress(s),flip:o.state.flip===s,onFliped:o.afterFlipEps,onSelect:function(e,t){o.doEpsSelect(e,t,s,n)}})})},n.COMPONENT)},"./src/screens/home/v2/component/grid-info/eps/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({eps:{paddingRight:s._.xs,marginTop:s._.xs}})},"./src/screens/home/v2/component/grid-info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),u=s("./src/components/cover/utils.ts"),l=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=s("./src/constants/index.ts"),j=o(s("./src/screens/home/v2/component/grid-info/count/index.tsx")),h=o(s("./src/screens/home/v2/component/grid-info/cover/index.tsx")),b=o(s("./src/screens/home/v2/component/grid-info/eps/index.tsx")),_=o(s("./src/screens/home/v2/component/grid-info/onair/index.tsx")),y=o(s("./src/screens/home/v2/component/grid-info/title/index.tsx")),x=o(s("./src/screens/home/v2/component/grid-info/tool-bar/index.tsx")),o=s("./src/screens/home/v2/component/grid-info/ds.ts"),g=s("./src/screens/home/v2/component/grid-info/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=void 0===(n=e.subjectId)?0:n,o=void 0===(n=e.subject)?{}:n,n=void 0===(n=e.epStatus)?"":n,r=void 0===(r=e.tip)?"":r,e=void 0===(e=e.time)?"":e,c=t.$,i=t.navigation,t=(0,g.memoStyles)(),c=-1!==c.state.top.indexOf(s);return(0,v.jsxs)(a.Flex,{style:t.item,align:"start",children:[(0,v.jsxs)(d.default,{children:[(0,v.jsx)(h.default,{subjectId:s,subject:o,onPress:function(){var e;(0,p.t)("首页.跳转",{to:"Subject",from:"grid",subjectId:s}),i.push("Subject",{subjectId:s,_jp:o.name,_cn:o.name_cn,_image:(0,u.getCoverSrc)((null==o||null==(e=o.images)?void 0:e.medium)||"",f.IMG_WIDTH_SM)})}}),(0,v.jsx)(_.default,{subjectId:s})]}),(0,v.jsxs)(a.Flex.Item,{style:t.info,children:[(0,v.jsx)(y.default,{subjectId:s,subject:o}),(0,v.jsxs)(a.Flex,{style:(0,m.stl)(l._.mt.sm,l._.isPad&&l._.mb.xs),children:[(0,v.jsx)(a.Flex.Item,{children:(0,v.jsx)(j.default,{subjectId:s,subject:o,epStatus:n,tip:r})}),(0,v.jsx)(x.default,{subjectId:s,subject:o})]}),(0,v.jsx)(b.default,{subjectId:s}),!!e&&(0,v.jsxs)(a.Text,{style:l._.mt.md,size:12,type:"sub",children:[e," 在玩"]})]}),c&&(0,v.jsx)(d.default,{style:t.dot})]})},o.COMPONENT)},"./src/screens/home/v2/component/grid-info/onair/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Onair")},"./src/screens/home/v2/component/grid-info/onair/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/grid-info/onair/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,o,e=e.subjectId,t=t.$,n=c._.isMobileLanscape?c._.mt.xs:c._.mt.md;return t.isToday(e)?(s=(o=t.onAirCustom(e)).h,o=o.m,(0,i.jsxs)(r.Text,{style:n,type:"success",align:"center",size:13,bold:!0,children:[s,":",o]})):t.isNextDay(e)?(o=(s=t.onAirCustom(e)).h,t=s.m,(0,i.jsxs)(r.Text,{style:n,type:"sub",align:"center",size:13,bold:!0,children:["明天 ",o,":",t]})):null},n.COMPONENT)},"./src/screens/home/v2/component/grid-info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),n=s("./src/screens/home/v2/component/grid-item/styles.ts");t.memoStyles=o._.memoStyles(function(){var e=(0,n.memoStyles)();return{item:{paddingVertical:o._.device(16,32),paddingHorizontal:o._.wind},info:{marginLeft:o._.device(e.item.marginLeft,o._.md)},dot:{position:"absolute",top:6,right:0,borderWidth:o._.r(8),borderTopColor:"transparent",borderBottomColor:"transparent",borderRightColor:"transparent",borderLeftColor:o._.colorIcon,transform:[{rotate:"-45deg"}],opacity:.8}}})},"./src/screens/home/v2/component/grid-info/title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Title")},"./src/screens/home/v2/component/grid-info/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/grid-info/title/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=void 0===(e=e.subject)?{}:e,o=(t=t.$).subject(s),o=(0,r.HTMLDecode)((0,r.cnjp)((null==o?void 0:o.name_cn)||(null==e?void 0:e.name_cn),(null==o?void 0:o.name)||(null==e?void 0:e.name)));return(0,i.jsx)(n.Text,{size:15,numberOfLines:14<=t.eps(s).length?1:2,bold:!0,children:o})},c.COMPONENT)},"./src/screens/home/v2/component/grid-info/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-info/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ToolBar")},"./src/screens/home/v2/component/grid-info/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.index-of.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),l=o(s("./src/screens/home/v2/component/item/btn-origin/index.tsx")),m=o(s("./src/screens/home/v2/component/grid-info/btn-next-ep/index.tsx")),o=s("./src/screens/home/v2/component/grid-info/tool-bar/ds.ts"),p=s("./src/screens/home/v2/component/grid-info/tool-bar/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.subjectId,e=void 0===(e=e.subject)?{}:e,o=t.$,t=o.subject(s),n=u.MODEL_SUBJECT_TYPE.getTitle(t.type||(null==e?void 0:e.type)),r=(0,a.cnjp)((null==t?void 0:t.name_cn)||(null==e?void 0:e.name_cn),(null==t?void 0:t.name)||(null==e?void 0:e.name)),c=(0,a.cnjp)((null==t?void 0:t.name)||(null==e?void 0:e.name),(null==t?void 0:t.name_cn)||(null==e?void 0:e.name_cn));return(0,f.jsxs)(i.Flex,{style:d._.mt.xs,children:[("动画"===n||"三次元"===n)&&(0,f.jsx)(l.default,{subjectId:s,isTop:-1!==o.state.top.indexOf(s)}),(0,f.jsx)(m.default,{subjectId:s}),(0,f.jsx)(i.Touchable,{style:p.styles.touchable,onPress:function(){o.showManageModal(s,{title:r,desc:c})},children:(0,f.jsx)(i.Iconfont,{name:"md-star-outline",size:19})})]})},o.COMPONENT)},"./src/screens/home/v2/component/grid-info/tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touchable:{padding:s._.sm,marginLeft:s._.sm}})},"./src/screens/home/v2/component/grid-item/cover/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Cover")},"./src/screens/home/v2/component/grid-item/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./src/screens/home/v2/component/grid-item/styles.ts"),n=s("./src/screens/home/v2/component/grid-item/cover/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.subject,n=e.epStatus,r=t.$,e=(0,a.memoStyles)(),t=d.MODEL_SETTING_HOME_GRID_COVER_LAYOUT.getLabel(i.systemStore.setting.homeGridCoverLayout);return(0,u.jsx)(c.Touchable,{animate:!0,onPress:function(){r.selectGirdSubject(s,{subject_id:s,subject:o,ep_status:n})},children:(0,u.jsx)(c.Cover,{size:e.item.width,height:e.item.width*("长方形"===t?1.4:1),src:(null==o||null==(e=o.images)?void 0:e.medium)||"",shadow:!0,radius:!0,delay:!1})})},n.COMPONENT)},"./src/screens/home/v2/component/grid-item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"GridItem")},"./src/screens/home/v2/component/grid-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),j=o(s("./src/screens/home/v2/component/grid-item/cover/index.tsx")),h=o(s("./src/screens/home/v2/component/grid-item/opacity/index.tsx")),o=s("./src/screens/home/v2/component/grid-item/ds.ts"),b=s("./src/screens/home/v2/component/grid-item/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n=void 0===(n=e.subject)?{}:n,r=void 0===(r=e.subjectId)?0:r,e=e.epStatus,t=t.$,c=(0,b.memoStyles)(),e=Math.max(Number(e)||0,t.epStatus(r)),i=m.systemStore.setting.homeGridTitle,d="游戏"===f.MODEL_SUBJECT_TYPE.getTitle(n.type);return d||(s=t.epsCount(r))<(o=t.currentOnAir(r))&&(o=t.epsNoSp(r).filter(function(e){return"Air"===e.status}).length),(0,_.jsxs)(a.default,{style:c.item,children:[(0,_.jsx)(h.default,{subjectId:r,children:(0,_.jsx)(j.default,{subjectId:r,subject:n,epStatus:e})}),!d&&(0,_.jsx)(l.OnairProgress,{epStatus:e,total:s,current:o}),i&&(0,_.jsx)(u.Text,{style:c.title,size:11,bold:!0,numberOfLines:3,align:"center",children:(0,p.cnjp)(n.name_cn,n.name)})]})},o.COMPONENT)},"./src/screens/home/v2/component/grid-item/opacity/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid-item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Opacity")},"./src/screens/home/v2/component/grid-item/opacity/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/v2/component/grid-item/opacity/ds.ts"),c=s("./src/screens/home/v2/component/grid-item/opacity/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.children,t=(t.$.state.grid||{}).subject_id;return(0,i.jsx)(n.default,{style:t===s&&c.styles.active,children:e})},r.COMPONENT)},"./src/screens/home/v2/component/grid-item/opacity/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({active:{opacity:.64}})},"./src/screens/home/v2/component/grid-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){var e=o._.isMobileLanscape?9:o._.device(4,5);return{item:{width:(o._.window.contentWidth-10*(e-1))/e,marginLeft:10,marginBottom:10},active:{opacity:.5},title:{paddingHorizontal:o._.sm,marginTop:o._.sm,marginBottom:o._.xs}}})},"./src/screens/home/v2/component/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Grid")},"./src/screens/home/v2/component/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/v2/component/grid/info/index.tsx")),d=o(s("./src/screens/home/v2/component/grid/linear/index.tsx")),a=o(s("./src/screens/home/v2/component/grid/list/index.tsx")),o=s("./src/screens/home/v2/component/grid/ds.ts"),u=s("./src/screens/home/v2/component/grid/styles.ts"),l=s("./node_modules/react/jsx-runtime.js"),m={};t.default=(0,c.obc)(function(e,t){var s,e=void 0===(e=e.title)?"全部":e;return(t=t.$).tabsLabel===e&&(m[e]=!0),t.tabsLabel===e||m[e]?t.collection._loaded?(s=(0,u.memoStyles)(),(0,l.jsxs)(n.default,{style:[s.container,{paddingTop:t.listPaddingTop}],children:[(0,l.jsx)(i.default,{title:e}),(0,l.jsxs)(n.default,{children:[(0,l.jsx)(d.default,{}),(0,l.jsx)(a.default,{title:e})]})]})):(0,l.jsx)(r.Loading,{}):null},o.COMPONENT)},"./src/screens/home/v2/component/grid/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.PREV_TEXT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Info"),t.PREV_TEXT={"全部":"条目","动画":"番组","书籍":"书籍","三次元":"电视剧","游戏":"游戏"}},"./src/screens/home/v2/component/grid/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),m=s("./src/screens/home/v2/component/grid/styles.ts"),p=o(s("./src/screens/home/v2/component/grid-info/index.tsx")),f=s("./src/screens/home/v2/component/grid/info/ds.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,o,n,r,c,i,d,e=e.title;return(t=t.$).collection._loaded?(s=(0,m.memoStyles)(),n=t.state,o=n.current,n=n.grid,r="游戏"===e,d=t.currentCollection(e).list,i=r?n:d.find(function(e){return e.subject_id===o}),c="","全部"===e&&!i&&l.systemStore.setting.showGame?(i=d.find(function(e){return e.id==o}))&&(c=(null==i?void 0:i.tip)||"",i=n):r&&(c=(null==(d=t.games.list.find(function(e){return e.id==o}))?void 0:d.tip)||""),(0,j.jsx)(a.default,{style:r?s.gameInfo:s.info,children:i?(0,j.jsx)(p.default,{subjectId:i.subject_id,subject:i.subject,epStatus:i.ep_status,tip:c,time:r?null==(n=i.subject)?void 0:n.time:""}):(0,j.jsxs)(u.Flex,{style:s.noSelect,justify:"center",direction:"column",children:[(0,j.jsx)(u.Mesume,{size:80}),(0,j.jsxs)(u.Text,{style:l._.mt.sm,type:"sub",align:"center",children:["请先点击下方",f.PREV_TEXT[e]]})]})})):(0,j.jsx)(u.Loading,{})},f.COMPONENT)},"./src/screens/home/v2/component/grid/linear/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Linear")},"./src/screens/home/v2/component/grid/linear/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./node_modules/expo-linear-gradient/build/LinearGradient.js")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/grid/linear/ds.ts"),i=s("./src/screens/home/v2/component/grid/linear/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return r._.isDark?(0,d.jsx)(n.LinearGradient,{style:i.styles.linear,colors:r._.ios(["rgba("+r._.colorBgRaw.join()+", 1)","rgba("+r._.colorBgRaw.join()+", 0.8)","rgba("+r._.colorBgRaw.join()+", 0.24)","rgba("+r._.colorBgRaw.join()+", 0)"],["rgba("+r._.colorPlainRaw.join()+", 1)","rgba("+r._.colorPlainRaw.join()+", 0.8)","rgba("+r._.colorPlainRaw.join()+", 0.24)","rgba("+r._.colorPlainRaw.join()+", 0)"])}):null},c.COMPONENT)},"./src/screens/home/v2/component/grid/linear/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({linear:{position:"absolute",zIndex:1,right:0,top:0,left:0,height:24}})},"./src/screens/home/v2/component/grid/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/grid/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/v2/component/grid/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/v2/component/grid/styles.ts"),d=s("./src/screens/home/v2/component/grid/list/utils.tsx"),n=s("./src/screens/home/v2/component/grid/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var e=e.title,t=t.$,s=(0,i.memoStyles)(),o=c.systemStore.setting.homeGridCoverLayout,n=c._.isMobileLanscape?9:c._.device(4,5);return(0,a.jsx)(r.PaginationList2,{keyExtractor:d.keyExtractor,contentContainerStyle:s.contentContainerStyle,data:t.currentCollection(e).list,progressViewOffset:20,limit:"square"===o?20:16,numColumns:n,renderItem:d.renderItem,onHeaderRefresh:t.onHeaderRefresh},""+c._.orientation+n)},n.COMPONENT)},"./src/screens/home/v2/component/grid/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=i,t.renderItem=d,o(s("./node_modules/react/index.js")),s("./src/constants/index.ts")),r=o(s("./src/screens/home/v2/component/grid-item/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");function i(e){return String(e.subject_id||e.id)}function d(e){e=e.item;return(0,c.jsx)(r.default,{subjectId:e.subject_id||e.id,subject:e.subject||{id:e.id,images:{common:e.cover,grid:e.cover,large:e.cover,medium:e.cover,small:e.cover},name:e.name,name_cn:e.nameCn,summary:"",type:n.MODEL_SUBJECT_TYPE.getValue("游戏"),url:"",time:e.time},epStatus:e.ep_status})}try{i.displayName="keyExtractor",i.__docgenInfo={description:"",displayName:"keyExtractor",props:{subject_id:{defaultValue:null,description:"",name:"subject_id",required:!0,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/grid/list/utils.tsx#keyExtractor"]={docgenInfo:i.__docgenInfo,name:"keyExtractor",path:"src/screens/home/v2/component/grid/list/utils.tsx#keyExtractor"})}catch(e){}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/grid/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/home/v2/component/grid/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/v2/component/grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){var e=o._.isMobileLanscape?132:244;return{container:{flex:1,overflow:"hidden"},info:{zIndex:1e3,width:"100%",height:e,overflow:"hidden"},gameInfo:{width:"100%",height:160},noSelect:{width:"100%",height:"100%"},contentContainerStyle:{paddingTop:16,paddingBottom:o._.tabBarHeight+o._.lg+e,paddingLeft:o._.wind-o._.sm-2,overflow:"hidden"}}})},"./src/screens/home/v2/component/item/btn-book-next/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BtnBookNext")},"./src/screens/home/v2/component/item/btn-book-next/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/item/btn-book-next/ds.ts"),i=s("./src/screens/home/v2/component/item/btn-book-next/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.epStatus,n=e.volStatus,r=t.$;return(0,d.jsx)(c.Touchable,{style:i.styles.touch,onPress:function(){return r.doUpdateNext(s,o,n)},children:(0,d.jsx)(c.Flex,{style:i.styles.btn,justify:"center",children:(0,d.jsx)(c.Iconfont,{style:i.styles.icon,name:"md-check-circle-outline",size:18})})})},n.COMPONENT)},"./src/screens/home/v2/component/item/btn-book-next/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{marginLeft:s._.device(0,4),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34},icon:{marginBottom:-1}})},"./src/screens/home/v2/component/item/btn-ep-next/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BtnEpNext")},"./src/screens/home/v2/component/item/btn-ep-next/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/components/index.ts"),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/item/btn-ep-next/ds.ts"),i=s("./src/screens/home/v2/component/item/btn-ep-next/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.epStatus,e=e.isFirst,n=t.$;return(t=n.nextWatchEp(s).sort)?(0,d.jsxs)(c.Touchable,{style:i.styles.touch,onPress:function(){return n.doWatchedNextEp(s)},children:[(0,d.jsxs)(c.Flex,{style:i.styles.btn,justify:"center",children:[(0,d.jsx)(c.Iconfont,{style:i.styles.icon,name:"md-check-circle-outline",size:19}),(0,d.jsx)(r.default,{style:i.styles.text,children:(0,d.jsx)(c.Text,{type:"sub",children:Math.max(t,n.countFixed(s,o)+1)})})]}),e&&(0,d.jsx)(c.Heatmap,{right:26,id:"首页.观看下一章节"})]}):null},n.COMPONENT)},"./src/screens/home/v2/component/item/btn-ep-next/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{marginRight:4,borderRadius:20,overflow:"hidden"},btn:{height:34,paddingHorizontal:s._.device(s._.sm,s._.md)},next:{paddingLeft:s._.sm,paddingRight:2},icon:{marginTop:2},text:{marginBottom:-2,marginLeft:s._.xs}})},"./src/screens/home/v2/component/item/btn-favor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BtnEpNext")},"./src/screens/home/v2/component/item/btn-favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/item/btn-favor/ds.ts"),i=s("./src/screens/home/v2/component/item/btn-favor/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.name,n=e.name_cn,e=e.isFirst,r=t.$;return(0,d.jsxs)(c.Touchable,{style:i.styles.touch,onPress:function(){r.showManageModal(s,{title:n||o,desc:o})},children:[(0,d.jsx)(c.Flex,{style:i.styles.btn,justify:"center",children:(0,d.jsx)(c.Iconfont,{name:"md-star-outline",size:19.5})}),e&&(0,d.jsx)(c.Heatmap,{id:"首页.显示收藏管理"})]})},n.COMPONENT)},"./src/screens/home/v2/component/item/btn-favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{marginRight:s._.device(2,4),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34}})},"./src/screens/home/v2/component/item/btn-origin/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BtnOrigin")},"./src/screens/home/v2/component/item/btn-origin/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.array.some.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=(o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),n=s("./src/screens/home/v2/component/item/btn-origin/ds.ts"),l=s("./src/screens/home/v2/component/item/btn-origin/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,o,n=e.subjectId,r=t.$;return-1===a.systemStore.setting.homeOrigin?null:(e=(0,c.default)(r.actions(n).map(function(e){return e.name})),!0===a.systemStore.setting.homeOrigin&&e.push.apply(e,(0,c.default)(r.onlineOrigins(n).map(function(e){return"object"==typeof e?e.name:e}))),t=r.subject(n),o=u.MODEL_SUBJECT_TYPE.getTitle(t.type),s=[].concat((0,c.default)(e),[-1!==r.state.top.indexOf(n)?"取消置顶":"置顶"]),["动画","三次元"].includes(o)&&(s.push("全部展开","全部收起"),null!=t&&null!=(o=t.eps)&&o.length&&t.eps.some(function(e){return 0===e.type&&"NA"===e.status})&&s.push("一键添加提醒"),a.systemStore.setting.exportICS)&&null!=t&&null!=(o=t.eps)&&o.length&&s.push("导出放送日程ICS"),(0,m.jsxs)(d.Popover,{style:l.styles.touch,data:s,onSelect:function(e){r.onPopover(e,n)},children:[(0,m.jsx)(i.Flex,{style:l.styles.btn,justify:"center",children:(0,m.jsx)(i.Iconfont,{style:l.styles.icon,name:e.length?"md-airplay":"md-menu",size:e.length?17:21})}),(0,m.jsx)(i.Heatmap,{right:55,bottom:-7,id:"首页.搜索源"})]},n))},n.COMPONENT)},"./src/screens/home/v2/component/item/btn-origin/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{marginRight:s._.device(10,s._.sm),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34},icon:{marginBottom:-1}})},"./src/screens/home/v2/component/item/collapsible/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Collapsible")},"./src/screens/home/v2/component/item/collapsible/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/base/eps/ds.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/v2/component/item/eps/index.tsx")),o=s("./src/screens/home/v2/component/item/collapsible/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=e.subjectId,e=e.isFirst,t=t.$;return(0,d.jsx)(n.Collapsible,{collapsed:!t.$Item(s).expand,children:(0,d.jsx)(i.default,{subjectId:s,isFirst:e})},String(Math.floor(Number(t.epsCount(s))/r.numbersOfLine)))},o.COMPONENT)},"./src/screens/home/v2/component/item/container-content/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ContainerContent")},"./src/screens/home/v2/component/item/container-content/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/container-content/ds.ts"),i=s("./src/screens/home/v2/component/item/container-content/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){return e=e.children,(0,d.jsx)(n.Flex,{style:r.systemStore.setting.homeListCompact?i.styles.compact:i.styles.content,children:e})},c.COMPONENT);try{containercontent.displayName="containercontent",containercontent.__docgenInfo={description:"",displayName:"containercontent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/item/container-content/index.tsx#containercontent"]={docgenInfo:containercontent.__docgenInfo,name:"containercontent",path:"src/screens/home/v2/component/item/container-content/index.tsx#containercontent"})}catch(e){}},"./src/screens/home/v2/component/item/container-content/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({content:{height:s._.r(40)},compact:{height:s._.r(32)}})},"./src/screens/home/v2/component/item/container-touchable/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TITLE_HIT_SLOPS=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"ContainerTouchable"),t.TITLE_HIT_SLOPS={top:o._.device(8,4),right:o._.device(8,4),bottom:o._.device(2,4),left:o._.device(8,4)}},"./src/screens/home/v2/component/item/container-touchable/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),u=s("./src/components/cover/utils.ts"),l=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/home/v2/component/item/container-touchable/ds.ts"),j=s("./src/screens/home/v2/component/item/container-touchable/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.typeCn,n=e.name,r=e.name_cn,c=e.image,e=e.children,i=t.navigation;return(0,h.jsx)(d.default,{style:l.systemStore.setting.homeListCompact?j.styles.compact:j.styles.touch,children:(0,h.jsx)(a.Touchable,{withoutFeedback:!0,hitSlop:f.TITLE_HIT_SLOPS,onPress:function(){(0,m.t)("首页.跳转",{to:"Subject",from:"list"}),i.push("Subject",{subjectId:s,_jp:n,_cn:r,_image:(0,u.getCoverSrc)(c,p.IMG_WIDTH),_collection:"在看",_type:o})},children:e})})},f.COMPONENT)},"./src/screens/home/v2/component/item/container-touchable/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{minHeight:s._.r(60)},compact:{minHeight:s._.r(28)}})},"./src/screens/home/v2/component/item/container/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Container")},"./src/screens/home/v2/component/item/container/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/container/ds.ts"),i=s("./src/screens/home/v2/component/item/container/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.children,t=t.$,o=(0,i.memoStyles)();return(0,d.jsx)(n.default,{style:r.systemStore.setting.heatMap&&t.$Item(s).expand?o.heatMap:o.item,children:e})},c.COMPONENT)},"./src/screens/home/v2/component/item/container/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){var e=o._.isMobileLanscape||o._.isPad;return{item:{paddingVertical:o._.r(o._._wind),paddingRight:e?o._.wind-o._._wind:0,paddingLeft:e?o._.wind:o._._wind,backgroundColor:o._.colorPlain,borderBottomWidth:8,borderBottomColor:o._.colorBg},heatMap:{paddingTop:o._.r(o._._wind),paddingRight:e?o._.wind-o._._wind:0,paddingBottom:o._.r(o._._wind+4),paddingLeft:e?o._.wind:o._._wind,backgroundColor:o._.colorPlain,borderBottomWidth:8,borderBottomColor:o._.colorBg}}})},"./src/screens/home/v2/component/item/count-book/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"CountBook")},"./src/screens/home/v2/component/item/count-book/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/v2/component/item/btn-book-next/index.tsx")),o=s("./src/screens/home/v2/component/item/count-book/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.subjectId,e=e.isFirst,t=t.$,o=(n=(void 0===(n=t.collection.list)?[]:n).find(function(e){return e.subject_id===s})||{}).ep_status,n=n.vol_status,t=t.subject(s).eps_count||0;return(0,d.jsxs)(r.Flex,{children:[(0,d.jsxs)(r.Text,{type:"primary",size:16,children:[(0,d.jsxs)(r.Text,{type:"primary",size:10,lineHeight:16,children:["Chap."," "]}),o,!!t&&(0,d.jsxs)(r.Text,{type:"sub",size:12,lineHeight:16,children:[" ","/ ",t]})]}),(0,d.jsx)(i.default,{subjectId:s,epStatus:o+1,volStatus:n}),(0,d.jsxs)(r.Text,{style:c._.device(c._.ml.sm,c._.ml.md),type:"primary",size:16,children:[(0,d.jsxs)(r.Text,{type:"primary",size:10,lineHeight:16,children:["Vol."," "]}),n]}),(0,d.jsx)(i.default,{subjectId:s,epStatus:o,volStatus:n+1}),e&&(0,d.jsx)(r.Heatmap,{right:40,id:"首页.更新书籍下一个章节"})]})},o.COMPONENT)},"./src/screens/home/v2/component/item/count-video/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"CountVideo")},"./src/screens/home/v2/component/item/count-video/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/count-video/ds.ts"),i=s("./src/screens/home/v2/component/item/count-video/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.epStatus,o=(t=t.$).$Item(s).expand;return(0,d.jsxs)(n.Flex,{style:i.styles.count,children:[(0,d.jsxs)(n.Text,{type:"primary",size:20,children:[t.countFixed(s,e),(0,d.jsxs)(n.Text,{type:"sub",lineHeight:20,children:[" ","/ ",t.countRight(s)]})]}),(0,d.jsx)(r.IconExpand,{style:i.styles.icon,expand:o})]})},c.COMPONENT)},"./src/screens/home/v2/component/item/count-video/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({count:{marginTop:-2},icon:{marginTop:5}})},"./src/screens/home/v2/component/item/count/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Count")},"./src/screens/home/v2/component/item/count/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),d=o(s("./src/screens/home/v2/component/item/count-book/index.tsx")),a=o(s("./src/screens/home/v2/component/item/count-video/index.tsx")),o=s("./src/screens/home/v2/component/item/count/ds.ts"),u=s("./src/screens/home/v2/component/item/count/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.subjectId,o=e.typeCn,n=e.epStatus,e=e.isFirst,r=t.$;return"游戏"===o?null:"书籍"===o?(0,l.jsx)(c.default,{style:u.styles.count,children:(0,l.jsx)(d.default,{subjectId:s,isFirst:e})}):(0,l.jsxs)(i.Touchable,{style:u.styles.count,onPress:function(){return r.itemToggleExpand(s)},children:[(0,l.jsx)(a.default,{epStatus:n,subjectId:s}),e&&(0,l.jsx)(i.Heatmap,{right:44,bottom:5,id:"首页.展开或收起条目"})]})},o.COMPONENT)},"./src/screens/home/v2/component/item/count/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({count:{minHeight:24,paddingHorizontal:s._.sm,marginHorizontal:-s._.sm,borderRadius:s._.radiusSm,overflow:"hidden"}})},"./src/screens/home/v2/component/item/cover/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_HEIGHT_COMPACT=t.ITEM_HEIGHT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Cover"),t.ITEM_HEIGHT=142,t.ITEM_HEIGHT_COMPACT=100},"./src/screens/home/v2/component/item/cover/heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/cover/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/home/v2/component/item/cover/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/v2/component/item/cover/heatmaps/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Heatmap,{bottom:68,id:"首页.全部展开",transparent:!0}),(0,c.jsx)(n.Heatmap,{bottom:34,id:"首页.全部关闭",transparent:!0}),(0,c.jsx)(n.Heatmap,{id:"首页.跳转",to:"Subject",alias:"条目"})]})},r.COMPONENT)},"./src/screens/home/v2/component/item/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),j=o(s("./src/screens/home/v2/component/item/cover/heatmaps/index.tsx")),o=s("./src/screens/home/v2/component/item/cover/ds.ts"),h=s("./src/screens/home/v2/component/item/cover/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.index,o=e.subjectId,n=e.typeCn,r=e.name,c=e.name_cn,i=e.image,d=t.navigation,a=(e=m.systemStore.setting.homeListCompact?h.styles.inViewCompact:h.styles.inView).minWidth,t=e.minHeight;return(0,b.jsxs)(u.Touchable,{animate:!0,onPress:function(){(0,f.t)("首页.跳转",{to:"Subject",from:"list"}),d.push("Subject",{subjectId:o,_jp:r,_cn:c,_image:(0,u.getCoverSrc)(i,a),_collection:"在看",_type:n})},children:[(0,b.jsx)(l.InView,{style:e,y:t*s+m._.headerHeight,children:(0,b.jsx)(u.Cover,{src:i,size:a,height:t,type:n,radius:!0,cdn:!(0,p.x18)(o),priority:s<4?"high":"normal"})}),0===s&&(0,b.jsx)(j.default,{})]})},o.COMPONENT)},"./src/screens/home/v2/component/item/cover/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=o._.create({inView:{minWidth:s.IMG_WIDTH,minHeight:s.IMG_HEIGHT},inViewCompact:{minWidth:s.IMG_WIDTH-8,minHeight:s.IMG_WIDTH-8}})},"./src/screens/home/v2/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WEEK_DAY_MAP=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item");t.COMPONENT_MAIN=(0,o.rc)(s),t.WEEK_DAY_MAP={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},t.DEFAULT_PROPS={index:0,title:"",subjectId:0,type:"2",image:"",name:"",name_cn:"",doing:0,epStatus:"",time:""}},"./src/screens/home/v2/component/item/eps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Eps")},"./src/screens/home/v2/component/item/eps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/styles/index.ts"),n=s("./src/screens/home/v2/component/item/eps/ds.ts"),a=s("./src/screens/home/v2/component/item/eps/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.isFirst,o=t.$,n=t.navigation;return(0,u.jsxs)(r.default,{style:a.styles.eps,children:[(0,u.jsx)(i.Eps,{layoutWidth:d.window.contentWidth,login:o.isLogin,subjectId:s,eps:o.eps(s),userProgress:o.userProgress(s),flip:o.state.flip===s,onFliped:o.afterFlipEps,onSelect:function(e,t){return o.doEpsSelect(e,t,s,n)}}),e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Heatmap,{right:72,id:"首页.跳转",to:"Topic",alias:"章节讨论",transparent:!0}),(0,u.jsx)(c.Heatmap,{bottom:35,id:"首页.章节按钮长按",transparent:!0}),(0,u.jsx)(c.Heatmap,{id:"首页.章节菜单操作"})]})]})},n.COMPONENT)},"./src/screens/home/v2/component/item/eps/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({eps:{marginTop:s._._wind}})},"./src/screens/home/v2/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),c=o(s("./src/screens/home/v2/component/item/item.tsx")),o=s("./src/screens/home/v2/component/item/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.index,o=void 0===(o=e.subjectId)?0:o,n=void 0===(n=e.subject)?{}:n,r=e.title,e=e.epStatus,t=t.$;return(0,i.jsx)(c.default,{index:void 0===s?0:s,title:r,subjectId:o,type:n.type,image:n.images.medium,name:n.name,name_cn:n.name_cn,doing:null==(s=n.collection)?void 0:s.doing,time:n.time,epStatus:Math.max(Number(void 0===e?"":e)||0,t.epStatus(o))})},o.COMPONENT)},"./src/screens/home/v2/component/item/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),j=o(s("./src/screens/home/v2/component/time/index.tsx")),h=o(s("./src/screens/home/v2/component/item/collapsible/index.tsx")),b=o(s("./src/screens/home/v2/component/item/container/index.tsx")),_=o(s("./src/screens/home/v2/component/item/container-content/index.tsx")),y=o(s("./src/screens/home/v2/component/item/container-touchable/index.tsx")),x=o(s("./src/screens/home/v2/component/item/count/index.tsx")),g=o(s("./src/screens/home/v2/component/item/cover/index.tsx")),v=o(s("./src/screens/home/v2/component/item/loading/index.tsx")),O=o(s("./src/screens/home/v2/component/item/onair/index.tsx")),T=o(s("./src/screens/home/v2/component/item/progress/index.tsx")),S=o(s("./src/screens/home/v2/component/item/title/index.tsx")),E=o(s("./src/screens/home/v2/component/item/tool-bar/index.tsx")),P=o(s("./src/screens/home/v2/component/item/top/index.tsx")),o=s("./src/screens/home/v2/component/item/ds.ts"),I=s("./src/screens/home/v2/component/item/styles.ts"),C=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.index,s=e.title,o=e.subjectId,n=e.type,r=e.image,c=e.name,i=e.name_cn,d=e.time,a=e.doing,e=e.epStatus,n=f.MODEL_SUBJECT_TYPE.getTitle(n),u="游戏"===n||"游戏"===s,l=0===t;return(0,C.jsxs)(b.default,{subjectId:o,children:[(0,C.jsxs)(p.Flex,{style:I.styles.hd,children:[(0,C.jsx)(g.default,{index:t,subjectId:o,typeCn:n,name:c,name_cn:i,image:r}),(0,C.jsxs)(p.Flex.Item,{style:I.styles.content,children:[(0,C.jsx)(y.default,{subjectId:o,typeCn:n,name:c,name_cn:i,image:r,children:(0,C.jsxs)(p.Flex,{align:"start",children:[(0,C.jsx)(p.Flex.Item,{children:(0,C.jsx)(S.default,{subjectId:o,typeCn:n,title:s,name:c,name_cn:i,doing:a})}),(0,C.jsx)(v.default,{subjectId:o}),(0,C.jsx)(O.default,{subjectId:o,typeCn:n})]})}),(0,C.jsxs)(m.default,{children:[(0,C.jsxs)(_.default,{children:[(0,C.jsx)(x.default,{subjectId:o,typeCn:n,epStatus:e,isFirst:l}),(0,C.jsx)(p.Flex.Item,{}),(0,C.jsx)(E.default,{subjectId:o,typeCn:n,epStatus:e,name:c,name_cn:i,isFirst:l})]}),u?(0,C.jsx)(j.default,{value:d}):(0,C.jsx)(T.default,{subjectId:o,epStatus:e})]})]}),l&&(0,C.jsx)(m.default,{children:(0,C.jsx)(p.Heatmap,{id:"首页.置顶或取消置顶"})})]}),(0,C.jsx)(h.default,{subjectId:o,isFirst:l}),(0,C.jsx)(P.default,{subjectId:o})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"游戏"'},{value:'"三次元"'},{value:'"全部"'}]}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"4"'},{value:'"3"'},{value:'"6"'}]}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"`//lain.bgm.tv/pic/cover/m/${string}.jpg`"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},name_cn:{defaultValue:null,description:"",name:"name_cn",required:!0,type:{name:"string"}},doing:{defaultValue:null,description:"",name:"doing",required:!0,type:{name:"number"}},epStatus:{defaultValue:null,description:"看到多少集",name:"epStatus",required:!0,type:{name:"string | number"}},time:{defaultValue:null,description:"收藏时间 (游戏才有)",name:"time",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/home/v2/component/item/item.tsx#item"})}catch(e){}},"./src/screens/home/v2/component/item/loading/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Loading")},"./src/screens/home/v2/component/item/loading/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/loading/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return e=e.subjectId,(t=t.$.state.progress).fetchingSubjectId1!==e&&t.fetchingSubjectId2!==e?null:(0,i.jsx)(n.Loading.Medium,{color:r._.colorSub,size:16})},c.COMPONENT)},"./src/screens/home/v2/component/item/onair/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"OnAir")},"./src/screens/home/v2/component/item/onair/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.join.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/ds.ts"),i=s("./src/screens/home/v2/component/item/onair/ds.ts"),d=s("./src/screens/home/v2/component/item/onair/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.typeCn,t=t.$;if("动画"===e||"三次元"===e){var e=t.currentOnAir(s);if(8<=e&&!r.systemStore.setting.homeOnAir){var o=t.epsCount(s);if(8<=o&&e===o)return null}if(t.isToday(s))return o=[(e=t.onAirCustom(s)).h,e.m].filter(function(e){return!!e}),(0,a.jsxs)(n.Text,{style:d.styles.onAir,type:"success",size:13,lineHeight:14,bold:!0,children:["今天 ",o.join(":")]});if(t.isNextDay(s))return o=[(e=t.onAirCustom(s)).h,e.m].filter(function(e){return!!e}),(0,a.jsxs)(n.Text,{style:d.styles.onAir,type:"sub",size:13,lineHeight:14,bold:!0,children:["明天 ",o.join(":")]});if(r.systemStore.setting.homeOnAir){var e=t.onAirCustom(s),o=e.weekDay,t=e.h,s=e.m;if(c.WEEK_DAY_MAP[o]&&t&&s)return e="周"+c.WEEK_DAY_MAP[o],o=[t,s].filter(function(e){return!!e}),(0,a.jsxs)(n.Text,{style:d.styles.onAir,type:"sub",size:13,lineHeight:14,bold:!0,children:[e," ",o.join(":")]})}}return null},i.COMPONENT)},"./src/screens/home/v2/component/item/onair/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({onAir:{marginTop:-1,marginLeft:s._.sm}})},"./src/screens/home/v2/component/item/progress/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Progress")},"./src/screens/home/v2/component/item/progress/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/item/progress/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,e=e.epStatus,o=(t=t.$).epsCount(s),n=t.currentOnAir(s);return o<n&&(n=t.epsNoSp(s).filter(function(e){return"Air"===e.status}).length),(0,i.jsx)(r.OnairProgress,{epStatus:e,total:o,current:n,height:c.systemStore.setting.homeListCompact?5:6})},n.COMPONENT)},"./src/screens/home/v2/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({hd:{paddingRight:s._._wind},content:{marginLeft:12}})},"./src/screens/home/v2/component/item/title/doing/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/title/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Doing")},"./src/screens/home/v2/component/item/title/doing/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/item/ds.ts"),i=s("./src/screens/home/v2/component/item/title/doing/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.subjectId,o=e.typeCn,e=e.doing,t=t.$;return!r.systemStore.setting.homeListCompact&&(e=e||(null==(e=t.subject(s))||null==(e=e.collection)?void 0:e.doing)||0)?(s=(t=t.onAirCustom(s)).weekDay,t=t.isOnair,t=!r.systemStore.setting.homeOnAir&&t?" · 周"+c.WEEK_DAY_MAP[s]:"",(0,d.jsxs)(n.Text,{style:r._.mt.xs,type:"sub",size:12,children:[e," 人在","书籍"===o?"读":"游戏"===o?"玩":"看",t]})):null},i.COMPONENT)},"./src/screens/home/v2/component/item/title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Title")},"./src/screens/home/v2/component/item/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=o(s("./src/screens/home/v2/component/item/title/doing/index.tsx")),o=s("./src/screens/home/v2/component/item/title/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.subjectId,o=e.typeCn,n=e.title,r=e.name,c=e.name_cn,e=e.doing,t=t.$,r=(0,d.HTMLDecode)((0,d.cnjp)(c||(null==(c=t.subject(s))?void 0:c.name_cn),r||(null==(c=t.subject(s))?void 0:c.name))),c="",n=(t.isFilter(n)&&(c=(0,d.getPinYinFilterValue)(r,t.filter)),28<r.length?12:18<r.length?13:15);return(0,u.jsxs)(u.Fragment,{children:[c?(0,u.jsx)(i.Highlight,{size:n,numberOfLines:2,bold:!0,value:c,children:r}):(0,u.jsx)(i.Katakana.Provider,{size:n,numberOfLines:2,bold:!0,children:(0,u.jsx)(i.Katakana,{size:n,numberOfLines:2,bold:!0,children:r})}),(0,u.jsx)(a.default,{subjectId:s,typeCn:o,doing:e})]})},o.COMPONENT)},"./src/screens/home/v2/component/item/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ToolBar")},"./src/screens/home/v2/component/item/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),d=o(s("./src/screens/home/v2/component/item/btn-ep-next/index.tsx")),a=o(s("./src/screens/home/v2/component/item/btn-favor/index.tsx")),u=o(s("./src/screens/home/v2/component/item/btn-origin/index.tsx")),o=s("./src/screens/home/v2/component/item/tool-bar/ds.ts"),l=s("./src/screens/home/v2/component/item/tool-bar/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=e.subjectId,s=e.typeCn,o=e.epStatus,n=e.name,r=e.name_cn,e=e.isFirst;return(0,m.jsxs)(c.Flex,{style:(0,i.stl)(l.styles.toolBar,"游戏"===s&&{marginBottom:-38}),children:[(0,m.jsx)(u.default,{subjectId:t}),(0,m.jsx)(d.default,{subjectId:t,epStatus:o,isFirst:e}),(0,m.jsx)(a.default,{subjectId:t,name:n,name_cn:r,isFirst:e})]})},o.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},epStatus:{defaultValue:null,description:"",name:"epStatus",required:!0,type:{name:"string | number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},name_cn:{defaultValue:null,description:"",name:"name_cn",required:!0,type:{name:"string"}},isFirst:{defaultValue:null,description:"",name:"isFirst",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/item/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/home/v2/component/item/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/home/v2/component/item/tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({toolBar:{marginRight:-s._._wind/2-3}})},"./src/screens/home/v2/component/item/top/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/item/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Top")},"./src/screens/home/v2/component/item/top/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.index-of.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/v2/component/item/top/ds.ts"),c=s("./src/screens/home/v2/component/item/top/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return e=e.subjectId,-1===t.$.state.top.indexOf(e)?null:(t=(0,c.memoStyles)(),(0,i.jsx)(n.default,{style:t.top}))},r.COMPONENT)},"./src/screens/home/v2/component/item/top/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{top:{position:"absolute",top:o._.r(4),right:o._.r(-2),borderWidth:o._.r(8),borderTopColor:"transparent",borderBottomColor:"transparent",borderRightColor:"transparent",borderLeftColor:o._.colorIcon,transform:[{rotate:"-45deg"}],opacity:.8}}})},"./src/screens/home/v2/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ENTERING_EXITING_ANIMATIONS_NUM=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),r=s("./src/constants/index.ts"),s=s("./src/screens/home/v2/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"List");t.COMPONENT_MAIN=(0,n.rc)(s),t.DEFAULT_PROPS={style:{paddingTop:0,paddingBottom:o._.bottom},forwardRef:function(){},data:r.LIST_EMPTY,title:"",scrollToTop:!1,showItem:!r.IOS,onScroll:function(){},onHeaderRefresh:function(){},onFooterRefresh:void 0},t.ENTERING_EXITING_ANIMATIONS_NUM=4},"./src/screens/home/v2/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=o(s("./src/screens/home/v2/component/grid/index.tsx")),a=o(s("./src/screens/home/v2/component/list/list.tsx")),o=s("./src/screens/home/v2/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=void 0===(e=e.title)?"全部":e,o=t.$;return o.collection._loaded?r.systemStore.setting.homeLayout===i.MODEL_SETTING_HOME_LAYOUT.getValue("网格")?(0,u.jsx)(d.default,{title:s}):(e=o.showItem(s))?(0,u.jsx)(a.default,{forwardRef:function(e){return o.forwardRef(e,s)},style:{paddingTop:o.listPaddingTop,paddingBottom:r._.bottom},data:o.currentCollection(s),title:s,scrollToTop:o.scrollToTop(s),showItem:e,onScroll:o.onScroll,onHeaderRefresh:o.onHeaderRefresh,onFooterRefresh:"游戏"===s?o.onFooterRefresh:void 0}):null:(0,u.jsx)(n.Loading,{})},o.COMPONENT)},"./src/screens/home/v2/component/list/list.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js"))),f=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),j=o(s("./src/screens/home/v2/component/empty/index.tsx")),h=o(s("./src/screens/home/v2/component/filter/index.tsx")),b=s("./src/screens/home/v2/component/list/utils.tsx"),o=s("./src/screens/home/v2/component/list/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");function c(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(c=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var t=e.forwardRef,s=e.style,o=e.data,n=e.title,r=e.scrollToTop,c=e.showItem,i=e.onScroll,d=e.onHeaderRefresh,e=e.onFooterRefresh,a=o.list.length,u=(0,_.jsx)(j.default,{title:n,length:a}),l=(0,p.useCallback)(function(e){var t=e.item,e=e.index;return c?(0,b.renderItem)({item:t,index:e,title:n}):null},[n,c]),m=(0,p.useMemo)(function(){return(0,_.jsx)(h.default,{title:n,length:a})},[n,a]);return(0,_.jsx)(f.PaginationList2,{forwardRef:t,contentContainerStyle:s,progressViewOffset:s.paddingTop,keyExtractor:b.keyExtractor,data:o.list,limit:20,scrollToTop:r,keyboardDismissMode:"on-drag",ListHeaderComponent:m,renderItem:l,footerEmptyDataComponent:u,footerNoMoreDataComponent:u,footerNoMoreDataText:"",scrollEventThrottle:4,onScroll:i,onHeaderRefresh:d,onFooterRefresh:e})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"{ paddingTop: number; paddingBottom: number; }"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!0,type:{name:"(ref: any) => void"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"游戏"'},{value:'"三次元"'},{value:'"全部"'}]}},scrollToTop:{defaultValue:null,description:"",name:"scrollToTop",required:!0,type:{name:"boolean"}},showItem:{defaultValue:null,description:"",name:"showItem",required:!0,type:{name:"boolean"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"() => Promise<{ list: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; pagination?: { ...; }; _list?: { ...; }[]; _loaded?: Loaded; } | { ...; }> | Promise<...>"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"() => Promise<{ list: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; pagination?: { ...; }; _list?: { ...; }[]; _loaded?: Loaded; } | { ...; }>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/v2/component/list/list.tsx#list"})}catch(e){}},"./src/screens/home/v2/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=i,t.renderItem=d,o(s("./node_modules/react/index.js")),s("./src/constants/index.ts")),r=o(s("./src/screens/home/v2/component/item/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");function i(e){return String(e.subject_id||e.id)}function d(e){var t=e.item,s=e.index,e=e.title;return(0,c.jsx)(r.default,{index:s,subjectId:t.subject_id||t.id,subject:t.subject||{id:t.id,images:{common:t.cover,grid:t.cover,large:t.cover,medium:t.cover,small:t.cover},name:t.name,name_cn:t.nameCn,summary:"",type:n.MODEL_SUBJECT_TYPE.getValue("游戏"),url:"",time:t.time},epStatus:t.ep_status,title:e})}try{i.displayName="keyExtractor",i.__docgenInfo={description:"",displayName:"keyExtractor",props:{subject_id:{defaultValue:null,description:"",name:"subject_id",required:!0,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/list/utils.tsx#keyExtractor"]={docgenInfo:i.__docgenInfo,name:"keyExtractor",path:"src/screens/home/v2/component/list/utils.tsx#keyExtractor"})}catch(e){}try{d.displayName="renderItem",d.__docgenInfo={description:"游戏标签页和其他类型数据源和结构都不一样, 需要构造",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/home/v2/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/v2/component/modal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Modal")},"./src/screens/home/v2/component/modal/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/v2/component/modal/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=(t=t.$).state.subjectId,o=(n=t.subject(s)).name,n=n.name_cn;return(0,c.jsx)(r.ManageModal,{visible:t.state.visible,subjectId:s,title:n||o||t.state.modal.title,desc:o||t.state.modal.desc,onSubmit:t.doUpdateCollection,onClose:t.closeManageModal})},n.COMPONENT);try{modal.displayName="modal",modal.__docgenInfo={description:"",displayName:"modal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/modal/index.tsx#modal"]={docgenInfo:modal.__docgenInfo,name:"modal",path:"src/screens/home/v2/component/modal/index.tsx#modal"})}catch(e){}},"./src/screens/home/v2/component/tab/blur-view/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/tab/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"BlurView")},"./src/screens/home/v2/component/tab/blur-view/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/v2/component/tab/blur-view/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){return e=e.children,(0,c.jsxs)(n.BlurViewRoot,{children:[e,(0,c.jsx)(n.BlurViewBottomTab,{})]})},r.COMPONENT);try{blurview.displayName="blurview",blurview.__docgenInfo={description:"",displayName:"blurview",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tab/blur-view/index.tsx#blurview"]={docgenInfo:blurview.__docgenInfo,name:"blurview",path:"src/screens/home/v2/component/tab/blur-view/index.tsx#blurview"})}catch(e){}},"./src/screens/home/v2/component/tab/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT_MAIN=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"Tab");t.COMPONENT_MAIN=(0,o.rc)(s)},"./src/screens/home/v2/component/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/react/index.js"))),r=s("./node_modules/react-native-tab-view/lib/module/index.js"),c=s("./src/screens/_/index.ts"),i=s("./src/utils/dev/index.ts"),d=s("./src/screens/home/v2/ds.ts"),a=o(s("./src/screens/home/v2/component/list/index.tsx")),u=o(s("./src/screens/home/v2/component/tab/blur-view/index.tsx")),l=o(s("./src/screens/home/v2/component/tab/tab.tsx")),m=s("./src/screens/home/v2/component/tab/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");function f(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(f=function(e){return e?s:t})(e))}function j(e){var s=e.keys,e=((0,i.r)(m.COMPONENT),(0,n.useMemo)(function(){var t={};return s.forEach(function(e){t[e]=function(){return(0,p.jsx)(a.default,{title:d.TABS_ITEM[e].title})}}),(0,r.SceneMap)(t)},[s])),t=s.length;return(0,p.jsx)(u.default,{children:2<=t?(0,p.jsx)(l.default,{renderScene:e}):1===t?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.default,{title:d.TABS_ITEM[s[0]].title}),(0,p.jsx)(c.BlurViewTab,{})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.default,{title:"动画"}),(0,p.jsx)(c.BlurViewTab,{})]})})}t.default=j;try{j.displayName="TabWrap",j.__docgenInfo={description:"因为本组件使用 useMemo 后不能用 mobx@4 去 observer\n所以只能在上面把 routes 的 length 传下来监听刷新",displayName:"TabWrap",props:{keys:{defaultValue:null,description:"",name:"keys",required:!0,type:{name:'("all" | "anime" | "book" | "game" | "real")[]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tab/index.tsx#TabWrap"]={docgenInfo:j.__docgenInfo,name:"TabWrap",path:"src/screens/home/v2/component/tab/index.tsx#TabWrap"})}catch(e){}},"./src/screens/home/v2/component/tab/tab-bar-label/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/tab/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"TabBarLabel")},"./src/screens/home/v2/component/tab/tab-bar-label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/tab/tab-bar-label/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t=e.focused,e=e.route;return(0,i.jsx)(n.Flex,{style:r._.container.block,justify:"center",children:(0,i.jsx)(n.Text,{type:"title",size:13,bold:t,noWrap:!0,children:e.title})})},c.COMPONENT);try{tabbarlabel.displayName="tabbarlabel",tabbarlabel.__docgenInfo={description:"",displayName:"tabbarlabel",props:{focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"any"}},route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tab/tab-bar-label/index.tsx#tabbarlabel"]={docgenInfo:tabbarlabel.__docgenInfo,name:"tabbarlabel",path:"src/screens/home/v2/component/tab/tab-bar-label/index.tsx#tabbarlabel"})}catch(e){}},"./src/screens/home/v2/component/tab/tab-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/tab/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"TabBar")},"./src/screens/home/v2/component/tab/tab-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),i=o(s("./src/screens/home/v2/component/tab/tab-bar-label/index.tsx")),o=s("./src/screens/home/v2/component/tab/tab-bar/ds.ts"),d=s("./src/screens/home/v2/component/tab/tab-bar/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.ob)(function(e){var t=(0,d.memoStyles)(),s=r._.window.width/e.navigationState.routes.length;return(0,a.jsx)(n.TabBar,Object.assign({},e,{style:t.tabBar,tabStyle:[t.tab,{width:s}],labelStyle:t.label,indicatorStyle:[t.indicator,{marginLeft:(s-t.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:u}))},o.COMPONENT);function u(e){var t=e.route,e=e.focused;return(0,a.jsx)(i.default,{route:t,focused:e})}try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/home/v2/component/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/home/v2/component/tab/tab-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts");t.memoStyles=o._.memoStyles(function(){return{tabBar:{position:"absolute",zIndex:2,top:o._.headerHeight,right:0,left:0,backgroundColor:"transparent",elevation:0},tab:{height:48},label:{padding:0},indicator:{width:16,height:4,backgroundColor:o._.colorMain,borderRadius:4}}})},"./src/screens/home/v2/component/tab/tab.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/v2/component/tab/utils.tsx"),d=s("./src/screens/home/v2/component/tab/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return e=e.renderScene,t=t.$,(0,a.jsx)(n.TabView,{style:c._.mt._sm,lazy:!0,lazyPreloadDistance:1,navigationState:t.navigationState,renderTabBar:i.renderTabBar,renderBackground:(0,a.jsx)(r.BlurViewTab,{length:t.tabs.length}),renderScene:e,onIndexChange:t.onChange},c._.orientation)},d.COMPONENT_MAIN)},"./src/screens/home/v2/component/tab/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderTabBar=c,o(s("./src/screens/home/v2/component/tab/tab-bar/index.tsx"))),r=s("./node_modules/react/jsx-runtime.js");function c(e){return(0,r.jsx)(n.default,Object.assign({},e))}try{c.displayName="renderTabBar",c.__docgenInfo={description:"",displayName:"renderTabBar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tab/utils.tsx#renderTabBar"]={docgenInfo:c.__docgenInfo,name:"renderTabBar",path:"src/screens/home/v2/component/tab/utils.tsx#renderTabBar"})}catch(e){}},"./src/screens/home/v2/component/time/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Time")},"./src/screens/home/v2/component/time/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/v2/component/time/ds.ts"),i=s("./src/screens/home/v2/component/time/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){return e=e.value,(0,d.jsxs)(n.Text,{style:[i.styles.time,{bottom:r.systemStore.setting.homeListCompact?4:8}],type:"sub",size:12,children:[e," 在玩"]})},c.COMPONENT);try{time.displayName="time",time.__docgenInfo={description:"",displayName:"time",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/time/index.tsx#time"]={docgenInfo:time.__docgenInfo,name:"time",path:"src/screens/home/v2/component/time/index.tsx#time"})}catch(e){}},"./src/screens/home/v2/component/time/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({time:{zIndex:1,left:0}})},"./src/screens/home/v2/component/tips/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Tips")},"./src/screens/home/v2/component/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),r=s("./src/screens/home/v2/component/tips/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return t=t.$,(0,c.jsx)(n.Progress,{show:t.state.progress.fetching,message:t.state.progress.message,current:t.state.progress.current,total:t.state.progress.total})},r.COMPONENT);try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/component/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/home/v2/component/tips/index.tsx#tips"})}catch(e){}},"./src/screens/home/v2/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_ITEM=t.H_TABBAR=t.COMPONENT=void 0;t.COMPONENT="Home",t.TABS_ITEM={all:{key:"all",title:"全部"},anime:{key:"anime",title:"动画"},book:{key:"book",title:"书籍"},real:{key:"real",title:"三次元"},game:{key:"game",title:"游戏"}},t.H_TABBAR=48},"./src/screens/home/v2/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/v2/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header"),t.EVENT={id:"首页.跳转"}},"./src/screens/home/v2/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=s("./src/screens/discovery/index/ds.ts"),u=s("./src/screens/home/v2/header/ds.ts"),l=s("./src/screens/home/v2/header/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.navigation,o=a.MENU_MAP[i.systemStore.setting.homeTopLeftCustom],n=a.MENU_MAP[i.systemStore.setting.homeTopRightCustom];return(0,m.jsx)(c.LogoHeader,{left:(0,m.jsxs)(c.IconNotify,{style:l.styles.icon,navigation:s,event:u.EVENT,children:[(0,m.jsx)(r.Heatmap,{right:-39,id:"首页.跳转",to:"Notify",alias:"电波提醒"}),(0,m.jsx)(r.Heatmap,{right:-92,id:"其他.切换主题",transparent:!0})]}),right:(0,m.jsxs)(r.Flex,{style:i._.mr.xs,children:[!!o&&(0,m.jsx)(c.IconTabsHeader,{style:l.styles.icon,name:o.icon,text:o.text,size:(o.size||23)-1,onPress:function(){(0,d.t)("首页.跳转",{to:o.key}),s.push(o.key)}}),!!n&&(0,m.jsx)(c.IconTabsHeader,{style:l.styles.iconRight,name:n.icon,text:n.text,size:(n.size||23)-1,onPress:function(){(0,d.t)("首页.跳转",{to:n.key}),s.push(n.key)}})]})})},u.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/v2/header/index.tsx#header"})}catch(e){}},"./src/screens/home/v2/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{marginBottom:0,marginLeft:s._.xs,borderRadius:40,overflow:"hidden"},iconRight:{marginHorizontal:s._.xs,marginBottom:0,borderRadius:40,overflow:"hidden"}})},"./src/screens/home/v2/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useHomePage=function(e){var t=e.$,s=e.navigation;(0,o.useRunAfter)(function(){t.updateInitialPage(s),s.addListener(n.EVENT_APP_TAB_PRESS+"|Home",function(){t.onRefreshThenScrollTop()})}),(0,o.useFocusEffect)(function(){t.init()})};var o=s("./src/utils/hooks/index.ts"),n=s("./src/navigations/tab-bar/index.tsx")},"./src/screens/home/v2/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=o(s("./src/screens/home/v2/component/extra/index.tsx")),u=o(s("./src/screens/home/v2/component/modal/index.tsx")),l=o(s("./src/screens/home/v2/component/tab/index.tsx")),m=o(s("./src/screens/home/v2/component/tips/index.tsx")),p=o(s("./src/screens/home/v2/header/index.tsx")),f=s("./src/screens/home/v2/hooks.ts"),o=o(s("./src/screens/home/v2/store/index.ts")),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(o.default,function(e,t){(0,f.useHomePage)(t);var s=t.$;return(0,d.useObserver)(function(){return(0,j.jsxs)(n.Component,{id:"screen-home",children:[(0,j.jsx)(n.Page,{style:c._.ios(c._.container.bg,c._.container.plain),loaded:s.state._loaded,children:s.isLogin?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.default,{}),s.state._loaded&&(0,j.jsx)(l.default,{keys:s.tabs.map(function(e){return e.key})}),(0,j.jsx)(m.default,{}),(0,j.jsx)(u.default,{})]}):(0,j.jsx)(r.Auth,{})}),(0,j.jsx)(a.default,{})]})})});try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/home/v2/index.tsx#v2"})}catch(e){}},"./src/screens/home/v2/store/action.ts":(e,t,s)=>{var p=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.splice.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),j=o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),h=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),b=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),_=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=s("./src/components/cover/utils.ts"),x=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),v=s("./src/utils/calendar/index.ts"),O=s("./src/utils/fetch/index.ts"),T=s("./src/utils/kv/index.ts"),S=s("./src/utils/webhooks/index.ts"),E=s("./src/constants/index.ts"),P=s("./src/screens/user/origin-setting/utils.ts"),o=o(s("./src/screens/home/v2/store/fetch.ts")),I=s("./src/screens/home/v2/store/ds.ts");function d(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,i.default)(s);return e=o?(e=(0,i.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var C;t.default=(s=o.default,(0,r.default)(N,s),C=d(N),(0,n.default)(N));function N(){var l;(0,h.default)(this,N);for(var t,s,o,n,r,c,i,d,a,e=arguments.length,u=new Array(e),m=0;m<e;m++)u[m]=arguments[m];return l=C.call.apply(C,[this].concat(u)),(0,_.default)((0,b.default)(l),"onChange",function(e){(0,O.t)("首页.标签页切换",{page:e});var t=(0,j.default)(l.state.renderedTabsIndex),t=(t.includes(e)||t.push(e),{page:e,renderedTabsIndex:t});"game"===(null==(e=l.tabs[e])?void 0:e.key)&&(t.grid=I.STATE.grid),l.setState(t),l.save()}),(0,_.default)((0,b.default)(l),"showManageModal",function(e,t){(0,O.t)("首页.显示收藏管理",{subjectId:e}),l.setState({visible:!0,subjectId:e,modal:t||I.EXCLUDE_STATE.modal})}),(0,_.default)((0,b.default)(l),"closeManageModal",function(){l.setState({visible:!1,modal:I.EXCLUDE_STATE.modal})}),(0,_.default)((0,b.default)(l),"itemToggleExpand",function(e){(0,O.t)("首页.展开或收起条目",{subjectId:e});var t=l.$Item(e),s=t.expand;l.setState({item:(0,_.default)({},e,Object.assign({},t,{expand:!s}))}),l.save(),s||(l.fetchSubject(e),l.fetchUserProgress(e))}),(0,_.default)((0,b.default)(l),"itemToggleTop",function(e,t){(0,O.t)("首页.置顶或取消置顶",{subjectId:e,isTop:t});var s=l.state.top,s=(0,j.default)(s),o=s.indexOf(e);-1!==o&&(s.splice(o,1),!t)||s.push(e),l.setState({top:s}),l.save()}),(0,_.default)((0,b.default)(l),"expandAll",function(){(0,O.t)("首页.全部展开");var s={};l.collection.list.forEach(function(e){var t=e.subject_id,e=e.subject;"书籍"!==E.MODEL_SUBJECT_TYPE.getTitle(e.type)&&(s[t]={expand:!0,doing:!1})}),l.setState({item:s}),l.save()}),(0,_.default)((0,b.default)(l),"closeAll",function(){(0,O.t)("首页.全部关闭"),l.clearState("item"),l.save()}),(0,_.default)((0,b.default)(l),"selectGirdSubject",function(e,t){(0,O.t)("首页.格子布局条目选择",{subjectId:e}),l.setState({current:e,grid:t||I.STATE.grid}),l.fetchSubject(e),l.fetchUserProgress(e),l.save()}),(0,_.default)((0,b.default)(l),"scrollToIndex",{}),(0,_.default)((0,b.default)(l),"forwardRef",function(e,t){var s=l.tabs.findIndex(function(e){return e.title===t});!l.scrollToIndex[s]&&null!=e&&e.scrollToIndex&&(l.scrollToIndex[s]=null==e?void 0:e.scrollToIndex)}),(0,_.default)((0,b.default)(l),"onlinePlaySelected",function(t,e){var s,o,n,r,c,i=l.subject(e),d=i.name_cn,a=i.name,i=i.type;(0,O.t)("首页.搜索源",{type:t,subjectId:e,subjectType:i});try{if(!s){var u=l.onlineOrigins(e).find(function(e){return"object"==typeof e&&e.name===t});if(u){if("萌番组"===t&&u.id)return(0,g.copy)((0,g.HTMLDecode)(d||a)),void setTimeout(function(){(0,g.open)(u.url)},1600);s=(0,P.replaceOriginUrl)(u.url,{CN:(0,g.HTMLDecode)(d||a),JP:(0,g.HTMLDecode)(a||d),ID:e})}}s||(n=void 0===(o=l.bangumiInfo(e).sites)?[]:o,r=(0,g.HTMLDecode)(d||a),"AGE动漫"===t?s=(0,E.SITE_AGEFANS)()+"/search?query="+encodeURIComponent(r)+"&page=1":(c=n.find(function(e){return e.site===t}))&&(s=(0,g.getBangumiUrl)(c))),s&&(0,g.open)(s)}catch(e){console.error(I.NAMESPACE,"onlinePlaySelected",e)}}),(0,_.default)((0,b.default)(l),"onFilterChange",(0,g.debounce)(function(e){var t=l.state.page;l.setState({filter:e.trim(),filterPage:t})},800)),(0,_.default)((0,b.default)(l),"onPopover",function(t,e){var s=l.actions(e);if(s.length){s=s.find(function(e){return e.name===t});if(s)return(0,g.open)(s.url,!0),void(0,O.t)("其他.自定义跳转",{from:"HomeTab",key:e+"|"+s.name+"|"+s.url})}switch(t){case"置顶":l.itemToggleTop(e,!0);break;case"取消置顶":l.itemToggleTop(e,!1);break;case"全部展开":l.expandAll();break;case"全部收起":l.closeAll();break;case"一键添加提醒":l.doBatchSaveCalenderEvent(e);break;case"导出放送日程ICS":l.doExportCalenderEventICS(e);break;default:l.onlinePlaySelected(t,e)}}),(0,_.default)((0,b.default)(l),"prepareEpsFlip",function(e){l.setState({flip:e})}),(0,_.default)((0,b.default)(l),"afterFlipEps",(0,g.debounce)(function(){l.setState({flip:0})})),(0,_.default)((0,b.default)(l),"onScroll",g.updateVisibleBottom.bind((0,b.default)(l))),(0,_.default)((0,b.default)(l),"doUpdateCollection",(t=(0,f.default)(p.mark(function e(t){return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,O.t)("首页.管理收藏",{subjectId:t.subjectId}),e.next=3,x.collectionStore.doUpdateCollection(t);case 3:(0,g.feedback)(),t.status!==E.MODEL_COLLECTION_STATUS.getValue("在看")&&x.userStore.removeCollection(t.subjectId),l.closeManageModal(),(0,S.webhookCollection)(t,l.subject(t.subjectId),x.userStore.userInfo);case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doWatchedNextEp",(s=(0,f.default)(p.mark(function e(t){var s,o;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=l.$Item(t)).doing)return setTimeout(function(){var e=l.$Item(t);e.doing&&l.setState({item:(0,_.default)({},t,Object.assign({},e,{doing:!1}))})},2e3),e.abrupt("return");e.next=4;break;case 4:return l.setState({item:(0,_.default)({},t,Object.assign({},s,{doing:!0}))}),e.next=7,l.fetchUserProgress(t);case 7:return(0,O.t)("首页.观看下一章节",{subjectId:t}),l.prepareEpsFlip(t),o=l.nextWatchEp(t),o=o.id,e.next=12,x.userStore.doUpdateEpStatus({id:o,status:E.MODEL_EP_STATUS.getValue("看过")});case 12:l.setState({item:(0,_.default)({},t,Object.assign({},s,{doing:!1}))}),x.userStore.fetchCollectionSingle(t,void 0,!0),s.expand?(l.fetchUserProgress(t),e.next=21):e.next=18;break;case 18:return e.next=20,l.fetchUserProgress(t);case 20:(0,g.feedback)();case 21:(0,S.webhookEp)({status:"watched",id:o,batch:!1},l.subject(t),x.userStore.userInfo);case 22:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doUpdateNext",function(e,t,s){(0,O.t)("首页.更新书籍下一个章节",{subjectId:e}),x.collectionStore.doUpdateSubjectEp({subjectId:e,watchedEps:t,watchedVols:s},function(){(0,g.feedback)(),x.userStore.fetchCollectionSingle(e),(0,S.webhookEp)({status:"watched",sort:t,vols:s,batch:!1},l.subject(e),x.userStore.userInfo)})}),(0,_.default)((0,b.default)(l),"doUpdateEp",(o=(0,f.default)(p.mark(function e(t,s,o){return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{l.prepareEpsFlip(o),x.collectionStore.doUpdateSubjectEp({subjectId:o,watchedEps:t},function(){x.userStore.fetchCollectionSingle(o),l.fetchUserProgress(o),(0,S.webhookEp)(Object.assign({},s,{status:"watched",batch:!0}),l.subject(o),x.userStore.userInfo)})}catch(e){console.error(I.NAMESPACE,"doUpdateEp",e)}case 1:case"end":return e.stop()}},e)})),function(e,t,s){return o.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doUpdateEpStatus",(n=(0,f.default)(p.mark(function e(t,s,o){var n;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.MODEL_EP_STATUS.getValue(t),(0,O.t)("首页.章节菜单操作",{title:"更新收视进度",subjectId:o,status:n}),l.prepareEpsFlip(o),e.next=5,x.userStore.doUpdateEpStatus({id:s.id,status:n});case 5:x.userStore.fetchCollectionSingle(o,void 0,"看过"===t),l.fetchUserProgress(o),(0,S.webhookEp)(Object.assign({},s,{status:n,batch:!1}),l.subject(o),x.userStore.userInfo);case 8:case"end":return e.stop()}},e)})),function(e,t,s){return n.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doUpdateSubjectWatched",(r=(0,f.default)(p.mark(function e(t,s){var o,n,r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,O.t)("首页.章节菜单操作",{title:"批量更新收视进度",subjectId:s}),n=(l.eps(s)||[]).slice().sort(function(e,t){return(0,g.asc)(e,t,function(e){return e.sort||0})}),-1===(n=(null==n||null==(n=n[0])?void 0:n.sort)<10?Math.max(t.sort,0):10<(null==(n=l.epsNoSp(s))||null==(r=n[0])?void 0:r.sort)?n.findIndex(function(e){return e.sort===t.sort}):null==(r=n.find(function(e){return e.sort===t.sort}))?void 0:r.sort)?n=t.sort:1!==(null==(o=l.epsNoSp(s))||null==(o=o[0])?void 0:o.sort)&&(n+=1),null!=(o=l.subject(s))&&o.v0)return l.doUpdateEp(n,t,s),e.abrupt("return");e.next=7;break;case 7:return l.prepareEpsFlip(s),e.next=10,x.userStore.doUpdateSubjectWatched({subjectId:s,sort:n});case 10:x.userStore.fetchCollectionSingle(s),l.fetchUserProgress(s),(0,S.webhookEp)(Object.assign({},t,{status:"watched",batch:!0}),l.subject(s),x.userStore.userInfo);case 13:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"toEp",function(e,t,s){(0,O.t)("首页.章节菜单操作",{title:"本集讨论",subjectId:t});t=l.subject(t);(0,g.appNavigate)(e.url||"/ep/"+e.id,s,{_title:"ep"+e.sort+"."+(e.name||e.name_cn),_group:t.name||t.name_cn,_groupThumb:(0,y.getCoverSrc)(null==(s=t.images||{})?void 0:s.medium,E.IMG_WIDTH),_desc:"时长:"+e.duration+" / 首播:"+e.airdate+"<br />"+(e.desc||"").replace(/\r\n/g,"<br />")},{id:"首页.跳转"})}),(0,_.default)((0,b.default)(l),"doEpsSelect",(c=(0,f.default)(p.mark(function e(t,s,o,n){return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.MODEL_EP_STATUS.getValue(t))return l.doUpdateEpStatus(t,s,o),e.abrupt("return");e.next=4;break;case 4:if("看到"!==t)e.next=10;else{if(24<(null==s?void 0:s.sort))return(0,g.confirm)("确认看到"+s.sort+"集?",function(){l.doUpdateSubjectWatched(s,o)}),e.abrupt("return");e.next=8}break;case 8:return l.doUpdateSubjectWatched(s,o),e.abrupt("return");case 10:if(t.includes("本集讨论")||t.includes("(+"))return l.toEp(s,o,n),e.abrupt("return");e.next=13;break;case 13:if("添加提醒"===t)return l.doSaveCalenderEvent(s,o),e.abrupt("return");e.next=16;break;case 16:case"end":return e.stop()}},e)})),function(e,t,s,o){return c.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doEpsLongPress",(i=(0,f.default)(p.mark(function e(t,s){var o,n;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.id,(0,O.t)("首页.章节按钮长按",{subjectId:s}),n=l.userProgress(s),n=n[o]?E.MODEL_EP_STATUS.getValue("撤销"):E.MODEL_EP_STATUS.getValue("看过"),e.next=6,x.userStore.doUpdateEpStatus({id:o,status:n});case 6:(0,g.feedback)(),x.userStore.fetchCollectionSingle(s),l.fetchUserProgress(s);case 9:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doSaveCalenderEvent",function(e,t){var s=l.subject(t);(0,g.saveCalenderEvent)(e,(0,g.cnjp)(s.name_cn,s.name),l.onAirCustom(t)),(0,O.t)("其他.添加日历",{subjectId:t,sort:(null==e?void 0:e.sort)||0,from:"Home"})}),(0,_.default)((0,b.default)(l),"doBatchSaveCalenderEvent",(d=(0,f.default)(p.mark(function e(r){var t,c,i;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.epsNoSp(r).length){e.next=15;break}if(t=l.subject(r),(c=t.eps.filter(function(e){return"NA"===e.status})).length){e.next=7;break}return(0,g.info)("已没有未放送的章节"),e.abrupt("return");case 7:return e.next=9,(0,v.calendarEventsRequestPermissions)();case 9:if("authorized"!==e.sent)return(0,g.info)("权限不足"),e.abrupt("return");e.next=13;break;case 13:i=(0,g.cnjp)(t.name_cn,t.name),(0,g.confirm)("「"+i+"」\n是否一键添加 "+c.length+" 个章节的提醒?",(0,f.default)(p.mark(function e(){var s,o,t,n;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.onAirCustom(r),o=[],t=(0,g.loading)(),e.next=5,(0,v.calendarGetEventsAsync)();case 5:return n=e.sent,c.forEach(function(t){n.includes((0,g.getCalenderEventTitle)(t,i))||o.push((0,f.default)(p.mark(function e(){return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.sleep)(E.IOS?80:480);case 2:return(0,g.saveCalenderEvent)(t,i,s,!1),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)})))}),e.next=9,(0,g.queue)(o,1);case 9:t(),(0,g.info)("已完成"),(0,g.feedback)(),(0,O.t)("其他.批量添加日历",{subjectId:r,length:o.length});case 13:case"end":return e.stop()}},e)})),"一键添加放送提醒");case 15:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)})),(0,_.default)((0,b.default)(l),"doExportCalenderEventICS",(a=(0,f.default)(p.mark(function e(n){var r,t,c,i,s;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.epsNoSp(n).length){e.next=20;break}if(r=l.subject(n),(t=100<=r.eps.length?r.eps.filter(function(e){return"NA"===e.status}):r.eps).length){e.next=7;break}return(0,g.info)("没有数据"),e.abrupt("return");case 7:return c=l.onAirCustom(n),i=["BEGIN:VCALENDAR","PRODID:-//Bangumi//Anime Calendar//CN","VERSION:2.0","METHOD:PUBLISH","CALSCALE:GREGORIAN","X-WR-CALNAME:Bangumi放送日程","X-APPLE-CALENDAR-COLOR:#FE8A95"],t.forEach(function(e){var t=(0,g.genICSCalenderEventDate)(e,c),s=t.DTSTART,t=t.DTEND,o="https://bgm.tv/ep/"+e.id;(e.name_cn||e.name)&&(o+=" ("+(e.name_cn||e.name)+")"),i.push("BEGIN:VEVENT","UID:"+n+"-"+e.id,"TZID:Asia/Shanghai","DTSTART:"+s,"DTEND:"+t,"SUMMARY:"+(0,g.cnjp)(r.name_cn,r.name)+" ep."+e.sort,"DESCRIPTION:"+o,"TRANSP:OPAQUE","END:VEVENT")}),i.push("END:VCALENDAR"),e.next=13,(0,T.temp)(l.userId+"_"+n+".ics",i.join("\n"),-1);case 13:if(s=e.sent,null!=(s=s.data)&&s.downloadKey){e.next=18;break}return(0,g.info)("未知错误，生成ics失败，重试或联系作者"),e.abrupt("return",!1);case 18:(0,O.t)("首页.导出日程",{subjectId:n,userId:l.userId}),(0,g.open)((0,T.download)(s.downloadKey));case 20:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})),l}},"./src/screens/home/v2/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),h=o(s("./src/utils/cache-manager/index.ts")),b=s("./src/constants/index.ts"),_=s("./src/screens/user/origin-setting/utils.ts"),y=s("./src/screens/home/v2/ds.ts"),o=o(s("./src/screens/home/v2/store/state.ts")),x=s("./src/screens/home/v2/store/ds.ts");function g(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=o?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var v;t.default=(s=o.default,(0,d.default)(O,s),v=g(O),(0,c.default)(O,[{key:"getTopMap",value:function(){var s={};return this.state.top.forEach(function(e,t){return s[e]=t+1}),s}},{key:"tabs",get:function(){var t=[];return f.systemStore.setting.homeTabs.forEach(function(e){y.TABS_ITEM[e]&&t.push(y.TABS_ITEM[e])}),f.systemStore.setting.showGame&&t.push(y.TABS_ITEM.game),t}},{key:"navigationState",get:function(){var e=this.state.page;return{index:e>this.tabs.length-1?0:e,routes:this.tabs}}},{key:"listPaddingTop",get:function(){return f._.headerHeight+(this.tabs.length<=1?f._.sm:y.H_TABBAR)+(b.IOS&&b.PAD?f._.statusBarHeight:0)}},{key:"myUserId",get:function(){return f.userStore.myUserId}},{key:"userId",get:function(){return f.userStore.userInfo.username||f.userStore.myUserId}},{key:"usersInfo",get:function(){return f.userStore.usersInfo(this.myUserId)}},{key:"tabsLabel",get:function(){var e;return null==(e=this.tabs[this.state.page])?void 0:e.title}},{key:"$Item",value:function(e){var t=this;return(0,p.computed)(function(){return t.state.item[e]||x.INIT_ITEM}).get()}},{key:"isLogin",get:function(){return b.STORYBOOK?f.userStore.isStorybookLogin:f.userStore.isLogin}},{key:"userInfo",get:function(){return f.userStore.userInfo}},{key:"collection",get:function(){return f.userStore.isLimit?Object.assign({},f.userStore.collection,{list:f.userStore.collection.list.filter(function(e){return!(0,j.x18)(e.subject_id)})}):f.userStore.collection}},{key:"filter",get:function(){return(0,j.t2s)(this.state.filter.toUpperCase())}},{key:"currentCollection",value:function(o){var n=this;return(0,p.computed)(function(){var e,t,s=x.NAMESPACE+"|"+o;if(n.state.progress.fetching&&h.default.get(s))return h.default.get(s);return"游戏"===o?h.default.set(s,n.games):(e=Object.assign({},n.collection),(t=b.MODEL_SUBJECT_TYPE.getValue(o))&&(e.list=e.list.filter(function(e){return(null==e||null==(e=e.subject)?void 0:e.type)==t})),n.isFilter(o)&&(e.list=e.list.filter(function(e){var t;return!n.state.filter.length||!!(e=(n.subject(e.subject_id).name_cn||(null==e||null==(t=e.subject)?void 0:t.name_cn)||e.name||(null==e||null==(t=e.subject)?void 0:t.name)||"").toUpperCase()).includes(n.filter)||(0,j.getPinYinFilterValue)(e,n.filter)})),"全部"===o&&f.systemStore.setting.showGame?e.list=[].concat((0,r.default)(n.sortList(e.list)),(0,r.default)(n.games.list)):e.list=n.sortList(e.list),b.STORYBOOK&&(e.list=e.list.slice(0,50)),h.default.set(s,e))}).get()}},{key:"isFilter",value:function(t){var s=this;return(0,p.computed)(function(){var e=s.state.filterPage;return 0<=e&&e<=s.tabs.length&&(null==(e=s.tabs[e])?void 0:e.title)===t&&!!s.state.filter}).get()}},{key:"games",get:function(){var t=this,e=f.collectionStore.userCollections(this.usersInfo.username||this.userId,b.MODEL_SUBJECT_TYPE.getLabel("游戏"),b.MODEL_COLLECTION_STATUS.getValue("在看")),s=this.getTopMap();return Object.assign({},e,{list:e.list.filter(function(e){return!t.filter.length||!!(e=(e.nameCn||e.name||"").toUpperCase()).includes(t.filter)||(0,j.getPinYinFilterValue)(e,t.filter)}).sort(function(e,t){return(0,j.desc)(e,t,function(e){return s[e.id]||0})})})}},{key:"userProgress",value:function(e){return(0,p.computed)(function(){return f.userStore.userProgress(e)}).get()}},{key:"subject",value:function(e){return(0,p.computed)(function(){return f.subjectStore.subject(e)}).get()}},{key:"epsNoSp",value:function(e){var t=this;return(0,p.computed)(function(){return(t.subject(e).eps||[]).filter(function(e){return 0===e.type})}).get()}},{key:"eps",value:function(r){var c=this;return(0,p.computed)(function(){try{var t,e,s,o=c.epsNoSp(r),n=o.length;return n>(f.systemStore.setting.homeLayout===b.MODEL_SETTING_HOME_LAYOUT.getValue("网格")?x.PAGE_LIMIT_GRID:x.PAGE_LIMIT_LIST)?(t=c.userProgress(r),-1===(e=o.findIndex(function(e){return"看过"!==t[e.id]}))?o.slice(n-x.PAGE_LIMIT_LIST-1,n-1):f.systemStore.setting.homeEpStartAtLastWathed?(s="function"==typeof o.findLastIndex?o.findLastIndex(function(e){return"看过"===t[e.id]}):(0,j.findLastIndex)(o,function(e){return"看过"===t[e.id]}),o.slice(Math.max(s,0),s+x.PAGE_LIMIT_LIST)):o.slice(Math.max(e-1,0),e+x.PAGE_LIMIT_LIST-1)):o}catch(e){return console.error(x.NAMESPACE,"eps",e),[]}}).get()}},{key:"nextWatchEp",value:function(o){var n=this;try{return(0,p.computed)(function(){var e=n.epsNoSp(o),t=n.userProgress(o),s=e.findIndex(function(e){return"看过"!==t[e.id]});return-1===s?{}:e[s]}).get()}catch(e){return console.error(x.NAMESPACE,"nextWatchEp",e),{}}}},{key:"currentOnAir",value:function(e){try{var t,s=this.epsNoSp(e).slice().reverse(),o=!1,n=(s.length&&0===s[s.length-1].sort&&(o=!0),(null==(t=s.find(function(e){return"Air"===e.status}))?void 0:t.sort)||0);return o&&n?n+1:n}catch(e){return console.error(x.NAMESPACE,"nextWatchEp",e),0}}},{key:"totalEps",value:function(e){try{var t,s,o=this.epsNoSp(e);return Math.max((null==(t=this.subject(e))?void 0:t.eps_count)||0,(null==o||null==(s=o[o.length-1])?void 0:s.sort)||0)||"??"}catch(e){return console.error(x.NAMESPACE,"totalEps",e),"??"}}},{key:"countFixed",value:function(r,c){var i=this;return(0,p.computed)(function(){var t,s,e=i.eps(r).filter(function(e){return 1!==e.type}).reverse(),o=i.userProgress(r),n=e.find(function(e){return"看过"===o[e.id]});return n?e.length&&0===e[e.length-1].sort?n.sort+1:n.sort:(t={},i.eps(r).forEach(function(e){1!==e.type&&(t[e.id]=!0)}),s=0,Object.keys(i.userProgress(r)).forEach(function(e){t[e]&&"看过"===i.userProgress(r)[e]&&(s+=1)}),Number(1==c?s||c:c||s))}).get()}},{key:"epStatus",value:function(e){var s=this;return(0,p.computed)(function(){var t=s.userProgress(e);return s.epsNoSp(e).filter(function(e){return"看过"===t[e.id]}).length}).get()}},{key:"sortOnAir",get:function(){return f.systemStore.setting.homeSorting===b.MODEL_SETTING_HOME_SORTING.getValue("放送")}},{key:"onAirCustom",value:function(e){return(0,p.computed)(function(){return(0,j.getOnAir)(f.calendarStore.onAir[e],f.calendarStore.onAirUser(e))}).get()}},{key:"isToday",value:function(s){var o=this;return(0,p.computed)(function(){var e=o.onAirCustom(s),t=e.weekDay;return!!e.isOnair&&t===(new Date).getDay()}).get()}},{key:"isNextDay",value:function(s){var o=this;return(0,p.computed)(function(){var e=o.onAirCustom(s),t=e.weekDay;return!!e.isOnair&&(6===(e=(new Date).getDay())?0===t:e===t-1)}).get()}},{key:"bangumiInfo",value:function(e){return{title:"",type:"tv",sites:[],titleTranslate:{"zh-Hans":[]}}}},{key:"onlineOrigins",value:function(s){var o=this;return(0,p.computed)(function(){var e=o.subject(s).type,t=[];2===Number(e)&&(0,_.getOriginConfig)(f.subjectStore.origin,"anime").filter(function(e){return e.active}).forEach(function(e){t.push(e)}),6===Number(e)&&(0,_.getOriginConfig)(f.subjectStore.origin,"real").filter(function(e){return e.active}).forEach(function(e){t.push(e)});e=o.bangumiInfo(s).sites;return(void 0===e?[]:e).filter(function(e){return b.SITES_DS.includes(e.site)}).forEach(function(e){t.push(e.site)}),t}).get()}},{key:"hasNewEp",value:function(e){var s=this;return(0,p.computed)(function(){var t=s.userProgress(e);return s.epsNoSp(e).some(function(e){return!("Air"!==e.status&&"Today"!==e.status||e.id in t)})}).get()}},{key:"showItem",value:function(t){var s=this;return(0,p.computed)(function(){var e;return!b.IOS||s.tabs.length<=1||(e=s.tabs.findIndex(function(e){return e.title===t}),s.state.renderedTabsIndex.includes(e))}).get()}},{key:"epsCount",value:function(s){var o=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return(0,p.computed)(function(){var t=o.subject(s);try{if(null!=t&&t.eps&&"object"==typeof t.eps){var e=t.eps.filter(function(e){if(n)return 0===e.type&&0!=e.sort;e.type}).length;if(e)return e}return null!=t&&t.eps_count?t.eps_count:0}catch(e){return(null==t?void 0:t.eps_count)||0}}).get()}},{key:"countRight",value:function(o){var n=this;return(0,p.computed)(function(){var e=n.currentOnAir(o),t=n.totalEps(o),s=("??"!==t&&Number(e)>Number(t)&&(t=e),"");switch(f.systemStore.setting.homeCountView){case"B":s=""+e,t!==e&&(s+=" ("+t+")");break;case"C":s=""+t,t!==e&&(s+=" ("+e+")");break;case"D":s=""+e,t!==e&&(s+=" / "+t);break;default:s=""+t}return s}).get()}},{key:"actions",value:function(t){return(0,p.computed)(function(){var e=f.subjectStore.actions(t);return e.length?f.subjectStore.actions(t).filter(function(e){return e.active}).sort(function(e,t){return(0,j.desc)(e.sort||0,t.sort||0)}):e}).get()}},{key:"scrollToTop",value:function(e){return!1}},{key:"hm",get:function(){return this.isLogin?["?id="+this.userId,"Home"]:["?id="+this.userId+"&login=0","Home"]}}]),(0,m.default)((t=O).prototype,"tabs",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"tabs"),t.prototype),(0,m.default)(t.prototype,"navigationState",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"navigationState"),t.prototype),(0,m.default)(t.prototype,"listPaddingTop",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"listPaddingTop"),t.prototype),(0,m.default)(t.prototype,"myUserId",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"myUserId"),t.prototype),(0,m.default)(t.prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,m.default)(t.prototype,"usersInfo",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"usersInfo"),t.prototype),(0,m.default)(t.prototype,"tabsLabel",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"tabsLabel"),t.prototype),(0,m.default)(t.prototype,"isLogin",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLogin"),t.prototype),(0,m.default)(t.prototype,"userInfo",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"userInfo"),t.prototype),(0,m.default)(t.prototype,"collection",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"collection"),t.prototype),(0,m.default)(t.prototype,"filter",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"filter"),t.prototype),(0,m.default)(t.prototype,"games",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"games"),t.prototype),(0,m.default)(t.prototype,"sortOnAir",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"sortOnAir"),t.prototype),(0,m.default)(t.prototype,"hm",[p.computed],Object.getOwnPropertyDescriptor(t.prototype,"hm"),t.prototype),t);function O(){var r;(0,n.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,l.default)((0,i.default)(r),"sortList",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,p.computed)(function(){if(!t.length)return[];var s=r.getTopMap();if(f.systemStore.setting.homeSorting===b.MODEL_SETTING_HOME_SORTING.getValue("网页"))return t.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return s[e.subject_id]||0})});try{var o,n={};return r.sortOnAir?(o=(new Date).getDay(),t.forEach(function(e){var e=e.subject_id,t=r.onAirCustom(e),s=t.weekDay;t.isOnair?r.isToday(e)?n[e]=1001:r.isNextDay(e)?n[e]=1e3:n[e]=0===o||o<=s?100-s:10-s:n[e]=1,f.systemStore.setting.homeSortSink&&!r.hasNewEp(e)&&(n[e]=n[e]-1e4)}),t.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return n[e.subject_id]})}).sort(function(e,t){return(0,j.desc)(e,t,function(e){return s[e.subject_id]||0})})):(t.forEach(function(e){var e=e.subject_id,t=r.userProgress(e),s=0;Object.keys(t).forEach(function(e){"看过"===t[e]&&(s+=1)});var o=(f.calendarStore.onAir[e]||{}).air,o=void 0===o?0:o;r.isToday(e)?n[e]=s<o?1e5:1e4:r.isNextDay(e)?n[e]=s<o?1e3:100:n[e]=s<o?10:1,f.systemStore.setting.homeSortSink&&!r.hasNewEp(e)&&(n[e]=n[e]-100001)}),t.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return n[e.subject_id]})}).sort(function(e,t){return(0,j.desc)(e,t,function(e){return s[e.subject_id]||0})}))}catch(e){return t.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return r.isToday(e.subject_id)})}).sort(function(e,t){return(0,j.desc)(e,t,function(e){return s[e.subject_id]||0})})}}).get()}),r}},"./src/screens/home/v2/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.PAGE_LIMIT_LIST=t.PAGE_LIMIT_GRID=t.NAMESPACE=t.INIT_ITEM=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenHomeV2",t.INIT_ITEM={expand:!1,doing:!1},s=t.EXCLUDE_STATE={visible:!1,visibleBottom:s._.window.height,modal:{title:"",desc:""},progress:{fetching:!1,fetchingSubjectId1:0,fetchingSubjectId2:0,message:"",current:0,total:0},filter:"",filterPage:-1,isFocused:!0,renderedTabsIndex:[],flip:0,loadedBangumiData:!1};t.STATE=Object.assign({subjectId:0,page:0,top:[],item:{},current:0,grid:{subject_id:0,subject:{},ep_status:""},boot:0},s,{_loaded:!1}),t.PAGE_LIMIT_LIST=32,t.PAGE_LIMIT_GRID=24},"./src/screens/home/v2/store/fetch.ts":(e,t,s)=>{var u=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/protobuf/index.web.ts"),h=s("./src/constants/index.ts"),o=o(s("./src/screens/home/v2/store/computed.ts")),b=s("./src/screens/home/v2/store/ds.ts");function _(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var y;t.default=(s=o.default,(0,d.default)(x,s),y=_(x),(0,r.default)(x));function x(){var a;(0,c.default)(this,x);for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return a=y.call.apply(y,[this].concat(s)),(0,m.default)((0,i.default)(a),"fetchBangumiData",(0,n.default)(u.mark(function e(){return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.loadedBangumiData)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,(0,j.decode)("bangumi-data");case 4:a.setState({loadedBangumiData:!0});case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(a),"fetchSubject",(t=(0,n.default)(u.mark(function e(t){var s,o,n,r,c,i,d=arguments;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=1<d.length&&void 0!==d[1]?d[1]:0,o=2<d.length&&void 0!==d[2]&&d[2],n=!1,r=a.subject(t),"number"!=typeof(c=r._loaded)&&(c=0),n="large"!==(null==r?void 0:r._responseGroup)||(0,f.getTimestamp)()-c>=h.H6*(s+1)?!0:n){if(i=a.state.progress.fetchingSubjectId2?"fetchingSubjectId1":"fetchingSubjectId2",a.setState({progress:(0,m.default)({},i,t)}),o)return e.next=13,a.fetchUserProgress(t);e.next=13}else e.next=17;break;case 13:return e.next=15,p.subjectStore.fetchSubject(t);case 15:return a.setState({progress:(0,m.default)({},i,0)}),e.abrupt("return",!0);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,i.default)(a),"fetchSubjectsQueue",(0,n.default)(u.mark(function e(){var t,s,o=arguments;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<o.length&&void 0!==o[0]?o[0]:[],a.state.progress.fetching)return e.abrupt("return",!1);e.next=3;break;case 3:return(s=a.sortList(t).map(function(e,t){var s=e.subject_id;return function(){return a.fetchSubject(s,t,!0)}})).length&&a.setState({progress:{fetching:!0}}),e.next=7,(0,f.queue)(s,2);case 7:return a.setState({progress:b.EXCLUDE_STATE.progress}),e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(a),"fetchUserProgress",function(e){return p.userStore.fetchUserProgress(e)}),(0,m.default)((0,i.default)(a),"fetchDoingGames",function(e){return p.collectionStore.fetchUserCollections({userId:a.usersInfo.username||a.userId,subjectType:h.MODEL_SUBJECT_TYPE.getLabel("游戏"),type:h.MODEL_COLLECTION_STATUS.getValue("在看"),order:h.MODEL_COLLECTIONS_ORDERBY.getValue("收藏时间"),tag:""},e)}),a}},"./src/screens/home/v2/store/index.ts":(e,t,s)=>{var o,c,i=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),r=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),m=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),j=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=T(t);if(t&&t.has(e))return t.get(e);var s,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}return o.default=e,t&&t.set(e,o),o}(s("./node_modules/expo-device/build/Device.js")),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),y=s("./src/utils/kv/index.ts"),x=s("./src/utils/protobuf/index.web.ts"),g=s("./src/constants/index.ts"),v=s("./config.ts"),n=n(s("./src/screens/home/v2/store/action.ts")),O=s("./src/screens/home/v2/store/ds.ts");function T(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(T=function(e){return e?s:t})(e))}function S(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(s);return e=o?(e=(0,p.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,m.default)(this,e)}}s=n.default,(0,l.default)(P,s),E=S(P);var E,n=(0,r.default)(P);function P(){var r;(0,a.default)(this,P);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=E.call.apply(E,[this].concat(t)),(0,f.default)((0,u.default)(r),"init",(0,d.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o)return e.abrupt("return");e.next=2;break;case 2:return r.isLogin&&(r.initUser(),o=!0,setTimeout(function(){r.initFetch()},4e3)),e.next=5,r.initStore();case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(r),"initStore",(0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(O.NAMESPACE);case 2:t=e.sent,r.setState(Object.assign({},t,O.EXCLUDE_STATE,{renderedTabsIndex:[(null==t?void 0:t.page)||0],loadedBangumiData:!(null==(t=(0,x.get)("bangumi-data"))||!t.length),_loaded:(0,b.getTimestamp)()}));case 4:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(r),"initFetch",(0,d.default)(i.mark(function e(){var t,s,o,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]&&n[0],r.state.progress.fetching)return(0,b.info)("正在刷新条目信息"),e.abrupt("return");e.next=5;break;case 5:if(s=t,"number"!=typeof(o=r.collection._loaded)&&(o=0),s=518400<(0,b.getTimestamp)()-o||!r.collection.list.length||s)return e.next=12,r.initQueue();e.next=25;break;case 12:if(e.sent)return e.abrupt("return",!0);e.next=14;break;case 14:if(!h.userStore.isWebLogin){e.next=25;break}if(c){e.next=25;break}return c=!0,e.next=19,h.userStore.reOauth();case 19:if(e.sent)return(c=!1,b.info)("重新授权成功"),(0,_.t)("其他.重新授权"),e.abrupt("return",r.initQueue());e.next=24;break;case 24:c=!1;case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(r),"initQueue",(0,d.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.userStore.fetchCollection()]);case 2:if(null!=(s=e.sent)&&null!=(t=s[0])&&null!=(t=t.list)&&t.length)return e.abrupt("return",r.fetchSubjectsQueue(s[0].list));e.next=5;break;case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(r),"initUser",function(){o||setTimeout(function(){if(!r.userId||!g.DEVICE_MODEL_NAME)return!1;var e=r.state.boot+1;r.setState({boot:e}),r.save(),(0,y.update)("u_"+r.userId,{b:j.brand,y:j.deviceYearClass,i:j.modelId,d:j.modelName,o:j.osVersion,m:Math.floor(j.totalMemory/1e3/1e3/1e3)+"G",v:g.VERSION_GITHUB_RELEASE,a:h.systemStore.advance,n:e,l:{statusBar:h._.statusBarHeight,header:h._.headerHeight,tarBar:h._.tabBarHeight,isDark:h._.isDark,deepDark:h._.deepDark},s:(0,b.pick)(h.systemStore.setting,["androidBlur","avatarRound","cdn","cdnAvatarV2","cnFirst","customFontFamily","heatMap","homeLayout","homeListCompact","homeRenderTabs","homeSorting","homeTabs","homeTopLeftCustom","homeTopRightCustom","initialPage","katakana","live2D","onlineStatus","s2t","showGame","squircle","tinygrail","vibration","webhook"]),e:(0,b.sortObject)(h.systemStore.t),t:(0,b.date)("Y-m-d H:i:s",(0,b.getTimestamp)()),ipa:v.IOS_IPA})},8e3)}),(0,f.default)((0,u.default)(r),"onHeaderRefresh",function(){return"游戏"===r.tabsLabel?r.fetchDoingGames(!0):r.initFetch(!0)}),(0,f.default)((0,u.default)(r),"onFooterRefresh",function(){return r.fetchDoingGames()}),(0,f.default)((0,u.default)(r),"onRefreshThenScrollTop",function(){try{var e=r.state.page;"function"==typeof r.scrollToIndex[e]&&((0,_.t)("其他.刷新到顶",{screen:"Home"}),r.scrollToIndex[e]({animated:!0,index:0,viewOffset:8e3}),setTimeout(function(){(0,b.feedback)()},400),r.onHeaderRefresh())}catch(e){console.error("Home","onRefreshThenScrollTop",e)}}),(0,f.default)((0,u.default)(r),"updateInitialPage",function(e){var t=h.systemStore.setting,s=t.initialPage,t=t.homeRenderTabs;s===g.MODEL_SETTING_INITIAL_PAGE.getValue("进度")?r.init():s!==g.MODEL_SETTING_INITIAL_PAGE.getValue("小圣杯")||t.includes("Tinygrail")||e.push("Tinygrail")}),r}t.default=n},"./src/screens/home/v2/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),o=o(s("./src/utils/store/index.ts")),m=s("./src/screens/home/v2/store/ds.ts");function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var f;t.default=(s=o.default,(0,i.default)(j,s),f=p(j),(0,n.default)(j));function j(){var e;(0,r.default)(this,j);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=f.call.apply(f,[this].concat(s)),(0,u.default)((0,c.default)(e),"state",(0,l.observable)(m.STATE)),(0,u.default)((0,c.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/home/voices/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/voices/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/voices/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/voices/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item"),t.EVENT={id:"角色.跳转"}},"./src/screens/home/voices/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/screens/home/voices/component/item/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation;return(0,i.jsx)(n.ItemVoice,Object.assign({style:r._.container.item,navigation:t,event:c.EVENT,index:e},s))},c.COMPONENT)},"./src/screens/home/voices/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/voices/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/voices/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/voices/component/list/utils.tsx"),a=s("./src/screens/home/voices/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){return(t=t.$).monoVoices._loaded?(0,u.jsx)(r.PaginationList2,{contentContainerStyle:c._.container.bottom,keyExtractor:i.keyExtractor,data:t.monoVoices.list,limit:5,scrollToTop:!0,renderItem:d.renderItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh}):(0,u.jsx)(n.Loading,{})},a.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/voices/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/voices/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/voices/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=c,o(s("./node_modules/react/index.js")),o(s("./src/screens/home/voices/component/item/index.tsx"))),r=s("./node_modules/react/jsx-runtime.js");function c(e){var t=e.item,e=e.index;return(0,r.jsx)(n.default,{item:t,index:e})}try{c.displayName="renderItem",c.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/voices/component/list/utils.tsx#renderItem"]={docgenInfo:c.__docgenInfo,name:"renderItem",path:"src/screens/home/voices/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/voices/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/voices/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ToolBar")},"./src/screens/home/voices/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),n=s("./src/screens/home/voices/component/tool-bar/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var o=t.$,n=o.state.position,t=void 0===(t=o.monoVoices.filters)?[]:t;return(0,c.jsxs)(r.ToolBar,{children:[t.map(function(t){var e=t.data.map(function(e){return e.title}),s=t.data.find(function(e){return e.value===n})||{title:"全部"};return(0,c.jsx)(r.ToolBar.Popover,{data:e,text:"全部"!==s.title&&s.title||t.title,type:"全部"!==s.title?"desc":"sub",onSelect:function(e){return o.onFilterSelect(e,t.data)}},t.title)}),(0,c.jsx)(r.Heatmap,{id:"角色.职位选择"})]})},n.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/voices/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/home/voices/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/home/voices/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Voices",t.NAMESPACE="ScreenVoices",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,position:"",ota:{}};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/home/voices/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/voices/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/voices/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/voices/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的角色":"角色",alias:"角色",hm:[s.url,"Voices"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("角色.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"角色.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/voices/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/voices/header/index.tsx#header"})}catch(e){}},"./src/screens/home/voices/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/voices/component/list/index.tsx")),d=o(s("./src/screens/home/voices/component/tool-bar/index.tsx")),a=o(s("./src/screens/home/voices/header/index.tsx")),o=o(s("./src/screens/home/voices/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-voices",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{children:[(0,u.jsx)(d.default,{}),(0,u.jsx)(i.default,{})]})]})})});try{voices.displayName="voices",voices.__docgenInfo={description:"",displayName:"voices",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/voices/index.tsx#voices"]={docgenInfo:voices.__docgenInfo,name:"voices",path:"src/screens/home/voices/index.tsx#voices"})}catch(e){}},"./src/screens/home/voices/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),b=s("./src/utils/fetch/index.ts"),_=s("./src/utils/kv/index.ts"),o=o(s("./src/utils/store/index.ts")),y=s("./src/constants/index.ts"),x=s("./src/screens/home/voices/ds.ts");function g(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var v,O=[];t.default=(s=o.default,(0,a.default)(T,s),v=g(T),(0,n.default)(T,[{key:"monoId",get:function(){return this.params.monoId}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){var e=this.state.position;return("voices_"+[this.monoId,e].join("_")).replace("/","_")}},{key:"monoVoices",get:function(){var e=j.subjectStore.monoVoices(this.monoId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):y.LIST_EMPTY}},{key:"url",get:function(){var e=this.state.position;return(0,y.HTML_MONO_VOICES)(this.monoId,e)}}]),(0,p.default)((t=T).prototype,"monoId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoId"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),(0,p.default)(t.prototype,"monoVoices",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoVoices"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function T(){var n;(0,i.default)(this,T);for(var s,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n=v.call.apply(v,[this].concat(t)),(0,m.default)((0,d.default)(n),"params",void 0),(0,m.default)((0,d.default)(n),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,d.default)(n),"init",(0,c.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(x.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,n.setState(Object.assign({},t,x.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",n.fetchMonoVoices());case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"onHeaderRefresh",function(){return n.fetchMonoVoices()}),(0,m.default)((0,d.default)(n),"save",function(){return n.saveStorage(x.NAMESPACE,x.EXCLUDE_STATE)}),(0,m.default)((0,d.default)(n),"fetchMonoVoices",(0,c.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.fetchThirdParty(),t=n.state.position,e.next=4,j.subjectStore.fetchMonoVoices({monoId:n.monoId,position:t});case 4:return(t=e.sent).list.length&&n.thirdPartyKey in n.state.ota&&(s=(null==(s=n.ota)?void 0:s.ts)||0,604800<=(0,h.getTimestamp)()-s)&&n.updateThirdParty(),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"fetchThirdParty",(0,c.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ota||n.monoVoices._loaded){e.next=8;break}return e.next=3,(0,_.get)(n.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return n.setState({ota:(0,m.default)({},n.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:n.setState({ota:(0,m.default)({},n.thirdPartyKey,Object.assign({},t,{_loaded:(0,h.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"updateThirdParty",(0,c.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O.includes(n.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(n.thirdPartyKey,{list:n.monoVoices.list.slice(0,24)}),O.push(n.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"onFilterSelect",(s=(0,c.default)(r.mark(function e(t,s){var o;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,b.t)("角色.职位选择",{label:t.split(" ")[0]}),o=s.find(function(e){return e.title===t})||{},o=o.value,o=void 0===o?"":o,n.setState({position:o}),n.fetchMonoVoices(),n.save();case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),(0,m.default)((0,d.default)(n),"onScroll",h.updateVisibleBottom.bind((0,d.default)(n))),n}},"./src/screens/home/wiki/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/wiki/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/wiki/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),r=s("./src/constants/index.ts"),s=s("./src/screens/home/wiki/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"List"),t.COVER_WIDTH=o._.r(1.28*r.IMG_WIDTH),t.COVER_HEIGHT=o._.r(1.28*r.IMG_HEIGHT)},"./src/screens/home/wiki/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.sub.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=o(s("./node_modules/react/index.js")),u=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),l=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),h=s("./src/constants/index.ts"),b=s("./src/screens/home/wiki/component/list/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=o?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}s=a.default.Component,(0,c.default)(g,s),x=y(g),(0,r.default)(g,[{key:"renderCovers",value:function(){var e=this.context,t=e.$,r=e.navigation,c=t.wiki.covers;return null!=c&&c.length?(0,_.jsx)(l.HorizontalList,{style:[p._.mt.md,p._.mb.md],contentContainerStyle:p._.container.wind,data:c,initialRenderNums:p._.device(4,8),renderItem:function(e,t){var s=e.cover,o=e.userId,n=e.userName;return(0,_.jsxs)(u.default,{style:(0,f.stl)({width:b.COVER_WIDTH},!!t&&p._.ml.md),children:[(0,_.jsx)(m.Cover,{src:s,size:b.COVER_WIDTH,height:b.COVER_HEIGHT,radius:!0,onPress:function(){(0,f.showImageViewer)(c.map(function(e){return{url:"https:"+(0,f.getCoverLarge)(e.cover)}}),t)}}),(0,_.jsxs)(l.Flex,{style:p._.mt.sm,children:[!h.STORYBOOK&&(0,_.jsx)(m.Avatar,{navigation:r,userId:o,src:(0,h.API_AVATAR)(o),size:20}),(0,_.jsx)(l.Flex.Item,{style:p._.ml.sm,children:(0,_.jsx)(l.Text,{size:11,bold:!0,numberOfLines:1,onPress:function(){r.push("Zone",{userId:o,_name:n})},children:n||o})})]})]},s)}}):null}},{key:"renderEdits",value:function(){var e=this.context,t=e.$,d=e.navigation,a=t.wiki.edits;return null!=a&&a.length?(0,_.jsx)(u.default,{style:p._.container.wind,children:a.map(function(e,t){var s=e.id,o=e.comment,n=e.sub,r=e.time,c=e.userId,i=e.userName;return(0,_.jsxs)(u.default,{style:p._.mt.sm,children:[(0,_.jsxs)(l.Text,{lineHeight:15,bold:!0,children:["[",a.length-t,"] ",o||"N/A",!!n&&(0,_.jsxs)(l.Text,{size:13,lineHeight:15,bold:!0,children:[" ","(",n,")"]})]}),!(!i&&!c)&&(0,_.jsxs)(l.Flex,{style:p._.mt.sm,children:[(0,_.jsx)(l.Text,{style:p._.ml.sm,size:12,lineHeight:13,bold:!0,children:(0,f.simpleTime)(r)}),(0,_.jsx)(l.Text,{style:p._.ml.xs,type:"sub",size:12,lineHeight:13,children:"by"}),!h.STORYBOOK&&(0,_.jsx)(u.default,{style:p._.ml.sm,children:(0,_.jsx)(m.Avatar,{navigation:d,userId:c,src:(0,h.API_AVATAR)(c),size:20})}),(0,_.jsx)(l.Text,{style:p._.ml.sm,size:12,lineHeight:13,bold:!0,onPress:function(){d.push("Zone",{userId:c,_name:i})},children:i||c})]}),(0,_.jsx)(l.Divider,{style:p._.mt.xs})]},s)})}):null}},{key:"render",value:function(){return(0,j.r)(b.COMPONENT),(0,_.jsxs)(l.ScrollView,{contentContainerStyle:p._.container.bottom,scrollToTop:!0,children:[this.renderCovers(),this.renderEdits()]})}}]);var x,a=g;function g(){return(0,n.default)(this,g),x.apply(this,arguments)}t.default=(0,o.obc)(a);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/wiki/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/wiki/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/wiki/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="SubjectWiki"},"./src/screens/home/wiki/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/wiki/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/wiki/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/wiki/header/ds.ts"),d=s("./src/screens/home/wiki/header/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的修订历史":"修订历史",alias:"修订历史",hm:[s.url,"SubjectWiki"],headerTitleStyle:d.styles.title,headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("修订历史.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"修订历史.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/wiki/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/wiki/header/index.tsx#header"})}catch(e){}},"./src/screens/home/wiki/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}})},"./src/screens/home/wiki/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/wiki/component/list/index.tsx")),d=o(s("./src/screens/home/wiki/header/index.tsx")),o=o(s("./src/screens/home/wiki/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,a.jsxs)(n.Component,{id:"screen-subject-wiki",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)(n.Page,{children:(0,a.jsx)(i.default,{})})]})})});try{wiki.displayName="wiki",wiki.__docgenInfo={description:"",displayName:"wiki",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/wiki/index.tsx#wiki"]={docgenInfo:wiki.__docgenInfo,name:"wiki",path:"src/screens/home/wiki/index.tsx#wiki"})}catch(e){}},"./src/screens/home/wiki/store.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=s("./node_modules/mobx/dist/mobx.esm.js"),p=s("./src/stores/index.ts"),o=o(s("./src/utils/store/index.ts")),f=s("./src/constants/index.ts");function j(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var h;t.default=(s=o.default,(0,i.default)(b,s),h=j(b),(0,r.default)(b,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"subject",get:function(){return p.subjectStore.subject(this.subjectId)}},{key:"wiki",get:function(){return p.subjectStore.wiki(this.subjectId)}},{key:"url",get:function(){return f.HOST+"/subject/"+this.subjectId+"/edit"}}]),(0,l.default)((t=b).prototype,"subjectId",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,l.default)(t.prototype,"subject",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"subject"),t.prototype),(0,l.default)(t.prototype,"wiki",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"wiki"),t.prototype),(0,l.default)(t.prototype,"url",[m.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function b(){var e;(0,n.default)(this,b);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=h.call.apply(h,[this].concat(s)),(0,u.default)((0,c.default)(e),"params",void 0),(0,u.default)((0,c.default)(e),"init",function(){return p.subjectStore.fetchWiki({subjectId:e.subjectId})}),e}},"./src/screens/home/works/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/works/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Component")},"./src/screens/home/works/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/works/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"List")},"./src/screens/home/works/component/list/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),u=s("./node_modules/react/jsx-runtime.js"),l={id:"作品.跳转",data:{type:"grid"}};t.default=(0,o.obc)(function(e,t){var s=e.item,o=e.index,e=e.numColumns,t=t.navigation,n=String(s.id).replace("/subject/",""),r=i.collectionStore.collect(n);return(0,u.jsx)(c.ItemCollectionsGrid,Object.assign({style:(0,d.stl)((i._.isPad||i._.isLandscape)&&!(o%e)&&i._.container.left,o<e&&i._.mt.sm),navigation:t,num:e,event:l},s,{airtime:(0,d.matchYear)(s.tip),id:n,collection:r,typeCn:a.MODEL_SUBJECT_TYPE.getTitle(s.type)}))})},"./src/screens/home/works/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),d=o(s("./src/screens/home/works/component/tool-bar/index.tsx")),a=s("./src/screens/home/works/component/list/utils.tsx"),o=s("./src/screens/home/works/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s;return(t=t.$).list._loaded?(s=t.state.list?void 0:r._.portrait(3,5),(0,u.jsx)(n.ListView,{keyExtractor:c.keyExtractor,contentContainerStyle:r._.container.bottom,data:t.list,numColumns:s,scrollToTop:!0,ListHeaderComponent:!t.state.fixed&&(0,u.jsx)(d.default,{}),renderItem:t.state.list?a.renderListItem:a.renderGridItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchMonoWorks},""+r._.orientation+s)):(0,u.jsxs)(u.Fragment,{children:[!t.state.fixed&&(0,u.jsx)(d.default,{}),(0,u.jsx)(n.Loading,{})]})},o.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/works/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/works/component/list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js"),a={id:"作品.跳转",data:{type:"list"}};t.default=(0,o.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,o=String(s.id).replace("/subject/",""),o=r.collectionStore.collect(o);return(0,d.jsx)(n.ItemSearch,Object.assign({style:r._.container.item,navigation:t,event:a,index:e},s,{tip:(0,c.HTMLDecode)(s.tip),typeCn:i.MODEL_SUBJECT_TYPE.getTitle(s.type),collection:o}))})},"./src/screens/home/works/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderGridItem=a,t.renderListItem=d,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),r=o(s("./src/screens/home/works/component/list/grid/index.tsx")),c=o(s("./src/screens/home/works/component/list/list/index.tsx")),i=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,i.jsx)(c.default,{item:t,index:e})}function a(e){var t=e.item,e=e.index;return(0,i.jsx)(r.default,{item:t,index:e,numColumns:n._.portrait(3,5)})}try{d.displayName="renderListItem",d.__docgenInfo={description:"",displayName:"renderListItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/component/list/utils.tsx#renderListItem"]={docgenInfo:d.__docgenInfo,name:"renderListItem",path:"src/screens/home/works/component/list/utils.tsx#renderListItem"})}catch(e){}try{a.displayName="renderGridItem",a.__docgenInfo={description:"",displayName:"renderGridItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/component/list/utils.tsx#renderGridItem"]={docgenInfo:a.__docgenInfo,name:"renderGridItem",path:"src/screens/home/works/component/list/utils.tsx#renderGridItem"})}catch(e){}},"./src/screens/home/works/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/works/component/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"ToolBar")},"./src/screens/home/works/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),n=s("./src/screens/home/works/component/tool-bar/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var o=t.$,s=(t=o.state).order,n=t.position,r=t.list,c=t.fixed,t=t.collected,i=o.monoWorks.filters;return(0,l.jsxs)(d.ToolBar,{children:[(0,l.jsx)(d.ToolBar.Popover,{data:u.MONO_WORKS_ORDERBY.map(function(e){return e.label}),icon:"md-sort",iconColor:a._.colorDesc,text:u.MODEL_MONO_WORKS_ORDERBY.getLabel(s),type:"desc",heatmap:"作品.排序选择",onSelect:o.onOrderSelect}),i.map(function(t){var e=t.data.map(function(e){return e.title}),s=t.data.find(function(e){return e.value===n})||{title:"全部"};return(0,l.jsx)(d.ToolBar.Popover,{data:e,text:"全部"!==s.title&&s.title||t.title,type:"全部"===s.title?void 0:"desc",heatmap:"作品.职位选择",onSelect:function(e){return o.onFilterSelect(e,t.data)}},t.title)}),(0,l.jsx)(d.ToolBar.Popover,{data:["选项 · "+(c?"锁定上方":"浮动"),"布局 · "+(r?"列表":"网格"),"收藏 · "+(t?"显示":"不显示")],icon:"md-more-vert",iconColor:a._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?o.onToggleToolbar("fixed"):e.includes("布局")?o.onToggleList():e.includes("收藏")?o.onToggleToolbar("collected"):void 0}})]})},n.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/home/works/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/home/works/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;var o=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),o=(t.COMPONENT="Works",t.NAMESPACE="ScreenWorks",t.EXCLUDE_STATE={visibleBottom:o._.window.height,position:"",ota:{}});t.STATE=Object.assign({order:s.MODEL_MONO_WORKS_ORDERBY.getValue("日期"),list:!0,fixed:!1,collected:!0},o,{_loaded:!1})},"./src/screens/home/works/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var o=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/works/ds.ts");t.COMPONENT=(0,o.rc)(s.COMPONENT,"Header")},"./src/screens/home/works/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/works/header/ds.ts"),d=s("./src/screens/home/works/header/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的作品":"更多作品",alias:"作品",hm:[s.url,"Works"],headerTitleStyle:d.styles.title,headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,c.t)("作品.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"作品.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/works/header/index.tsx#header"})}catch(e){}},"./src/screens/home/works/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}})},"./src/screens/home/works/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),i=o(s("./src/screens/home/works/component/list/index.tsx")),d=o(s("./src/screens/home/works/component/tool-bar/index.tsx")),a=o(s("./src/screens/home/works/header/index.tsx")),o=o(s("./src/screens/home/works/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ic)(o.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-works",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{children:[s.state.fixed&&(0,u.jsx)(d.default,{}),(0,u.jsx)(i.default,{})]})]})})});try{works.displayName="works",works.__docgenInfo={description:"",displayName:"works",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/works/index.tsx#works"]={docgenInfo:works.__docgenInfo,name:"works",path:"src/screens/home/works/index.tsx#works"})}catch(e){}},"./src/screens/home/works/store.ts":(e,t,s)=>{var c=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=s("./node_modules/mobx/dist/mobx.esm.js"),h=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),y=s("./src/utils/kv/index.ts"),o=o(s("./src/utils/store/index.ts")),x=s("./src/constants/index.ts"),g=s("./src/screens/home/works/ds.ts"),v=["collected"];function O(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=o?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var T,S=[];t.default=(s=o.default,(0,u.default)(E,s),T=O(E),(0,r.default)(E,[{key:"monoId",get:function(){return this.params.monoId}},{key:"monoWorks",get:function(){return h.subjectStore.monoWorks(this.monoId)}},{key:"list",get:function(){return this.monoWorks._loaded?this.state.collected?this.monoWorks:Object.assign({},this.monoWorks,{list:this.monoWorks.list.filter(function(e){return!e.collected})}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):x.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.position,e=e.order;return(0,x.HTML_MONO_WORKS)(this.monoId,t,e)}},{key:"subject",value:function(e){return(0,j.computed)(function(){return h.subjectStore.subject(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.order,e=e.position;return("works_"+[this.monoId,t,e].join("_")).replace("/","_")}}]),(0,f.default)((t=E).prototype,"monoId",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoId"),t.prototype),(0,f.default)(t.prototype,"monoWorks",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"monoWorks"),t.prototype),(0,f.default)(t.prototype,"list",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,f.default)(t.prototype,"url",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,f.default)(t.prototype,"ota",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,f.default)(t.prototype,"thirdPartyKey",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function E(){var r;(0,d.default)(this,E);for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return r=T.call.apply(T,[this].concat(s)),(0,p.default)((0,a.default)(r),"params",void 0),(0,p.default)((0,a.default)(r),"state",(0,j.observable)(g.STATE)),(0,p.default)((0,a.default)(r),"init",(0,i.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Object,e.t2={},e.next=5,r.getStorage(g.NAMESPACE);case 5:if(e.t3=e.sent,e.t3){e.next=8;break}e.t3={};case 8:return e.t4=e.t3,e.t5=g.EXCLUDE_STATE,e.t6={_loaded:!0},e.t7=e.t1.assign.call(e.t1,e.t2,e.t4,e.t5,e.t6),e.t0.setState.call(e.t0,e.t7),e.abrupt("return",r.fetchMonoWorks(!0));case 14:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(r),"onHeaderRefresh",function(){return r.fetchMonoWorks(!0)}),(0,p.default)((0,a.default)(r),"save",function(){return r.saveStorage(g.NAMESPACE,g.EXCLUDE_STATE)}),(0,p.default)((0,a.default)(r),"fetchMonoWorks",(t=(0,i.default)(c.mark(function e(t){var s,o,n;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),n=r.state,o=n.position,n=n.order,e.next=4,h.subjectStore.fetchMonoWorks({monoId:r.monoId,position:o,order:n},t);case 4:return(s=e.sent).list.length&&r.thirdPartyKey in r.state.ota&&(n=(null==(o=r.ota)?void 0:o.ts)||0,604800<=(0,b.getTimestamp)()-n)&&r.updateThirdParty(),setTimeout(function(){h.collectionStore.fetchCollectionStatusQueue(s.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,a.default)(r),"fetchThirdParty",(0,i.default)(c.mark(function e(){var t;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.monoWorks._loaded){e.next=8;break}return e.next=3,(0,y.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,p.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,p.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,b.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(r),"updateThirdParty",(0,i.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,y.update)(r.thirdPartyKey,{list:r.monoWorks.list.map(function(e){e.collected;return(0,n.default)(e,v)})}),S.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(r),"onOrderSelect",function(e){(0,_.t)("作品.排序选择",{label:e}),r.setState({order:x.MODEL_MONO_WORKS_ORDERBY.getValue(e)}),r.fetchMonoWorks(!0),r.save()}),(0,p.default)((0,a.default)(r),"onFilterSelect",function(t,e){(0,_.t)("作品.职位选择",{label:t.split(" ")[0]});e=(e.find(function(e){return e.title===t})||{}).value;r.setState({position:void 0===e?"":e}),r.fetchMonoWorks(!0),r.save()}),(0,p.default)((0,a.default)(r),"onToggleList",function(){var e=r.state.list;(0,_.t)("作品.切换布局",{list:!e}),r.setState({list:!e}),r.save()}),(0,p.default)((0,a.default)(r),"onToggleToolbar",function(e){r.setState((0,p.default)({},e,!r.state[e])),r.save()}),(0,p.default)((0,a.default)(r),"onScroll",b.updateVisibleBottom.bind((0,a.default)(r))),r}}}]);