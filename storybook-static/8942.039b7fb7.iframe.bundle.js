(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8942],{"./src/screens/home/mono/component/collabs/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Collabs")},"./src/screens/home/mono/component/collabs/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),r=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),c=o("./src/components/index.ts"),d=o("./src/screens/_/index.ts"),l=o("./src/stores/index.ts"),i=o("./src/utils/index.ts"),a=o("./src/utils/decorators/index.ts"),u=o("./src/utils/fetch/index.ts"),m=o("./src/constants/index.ts"),p=o("./src/screens/home/mono/component/collabs/ds.ts"),j=o("./src/screens/home/mono/component/collabs/styles.ts"),f=o("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var o=s.$,t=s.navigation,a=o.mono.collabs;return null!=a&&a.length?(0,f.jsxs)(d.InView,{style:j.styles.container,children:[(0,f.jsx)(d.SectionTitle,{style:l._.container.wind,right:(0,f.jsx)(c.Flex,{children:(0,f.jsx)(c.Touchable,{style:j.styles.touch,onPress:function(){t.push("WebBrowser",{url:m.HOST+"/"+o.monoId+"/collabs",title:o.nameTop+"的合作"}),(0,u.t)("人物.跳转",{from:"合作",to:"WebBrowser",monoId:o.monoId})},children:(0,f.jsxs)(c.Flex,{children:[(0,f.jsx)(c.Text,{style:l._.ml.sm,type:"sub",children:"全部"}),(0,f.jsx)(c.Iconfont,{style:l._.ml.xs,name:"md-open-in-new",color:l._.colorSub,size:16})]})})}),children:"合作"}),(0,f.jsx)(n.default,Object.assign({style:l._.mt.md,contentContainerStyle:l._.container.wind,horizontal:!0},m.SCROLL_VIEW_RESET_PROPS,{children:a.map((function(e){return(0,f.jsx)(c.Touchable,{style:j.styles.item,animate:!0,onPress:function(){(0,i.appNavigate)(e.href,t),(0,u.t)("人物.跳转",{from:"合作",to:"Mono",monoId:o.monoId,href:e.href})},children:(0,f.jsxs)(c.Flex,{children:[(0,f.jsx)(d.Avatar,{name:e.name,src:e.cover}),(0,f.jsxs)(r.default,{style:l._.ml.sm,children:[(0,f.jsx)(c.Flex,{children:(0,f.jsx)(c.Text,{size:13,bold:!0,children:e.name})}),(0,f.jsx)(c.Text,{style:l._.mt.xs,size:10,type:"sub",bold:!0,children:e.count})]})]})},e.href)}))})),(0,f.jsx)(d.PreventTouchPlaceholder,{})]}):null}),p.COMPONENT)},"./src/screens/home/mono/component/collabs/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({container:{minHeight:84,marginTop:t._.md,marginBottom:t._.lg},item:{paddingRight:t._.sm,paddingBottom:t._.xs,marginRight:t._.sm},touch:{paddingHorizontal:t._.xs,marginRight:-t._.xs,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/collected/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),r=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),c=o("./src/components/index.ts"),d=o("./src/screens/_/index.ts"),l=o("./src/stores/index.ts"),i=o("./src/utils/decorators/index.ts"),a=o("./src/utils/fetch/index.ts"),u=o("./src/constants/index.ts"),m=o("./src/screens/home/mono/component/collected/styles.ts"),p=o("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var o=s.$,t=s.navigation,i=o.mono.collected;return null!=i&&i.length?(0,p.jsxs)(d.InView,{style:m.styles.container,children:[(0,p.jsx)(d.SectionTitle,{style:l._.container.wind,right:(0,p.jsx)(c.Flex,{children:(0,p.jsx)(c.Touchable,{style:m.styles.touch,onPress:function(){t.push("WebBrowser",{url:u.HOST+"/"+o.monoId+"/collections",title:"谁收藏了"+o.nameTop}),(0,a.t)("人物.跳转",{from:"谁收藏了",to:"WebBrowser",monoId:o.monoId})},children:(0,p.jsxs)(c.Flex,{children:[(0,p.jsx)(c.Text,{style:l._.ml.sm,type:"sub",children:"全部"}),(0,p.jsx)(c.Iconfont,{style:l._.ml.xs,name:"md-open-in-new",color:l._.colorSub,size:16})]})})}),children:"谁收藏了"}),(0,p.jsx)(n.default,Object.assign({style:l._.mt.md,contentContainerStyle:l._.container.wind,horizontal:!0},u.SCROLL_VIEW_RESET_PROPS,{children:i.map((function(e){return(0,p.jsx)(c.Touchable,{style:m.styles.item,animate:!0,onPress:function(){t.push("Zone",{userId:e.userId,_name:e.name}),(0,a.t)("人物.跳转",{from:"谁收藏了",to:"Zone",monoId:o.monoId,userId:e.userId})},children:(0,p.jsxs)(c.Flex,{children:[(0,p.jsx)(c.UserStatus,{userId:e.userId,children:(0,p.jsx)(d.Avatar,{name:e.name,src:e.avatar})}),(0,p.jsxs)(r.default,{style:m.styles.body,children:[(0,p.jsx)(c.Text,{size:13,bold:!0,numberOfLines:1,children:e.name}),(0,p.jsx)(c.Text,{style:l._.mt.xs,size:10,type:"sub",numberOfLines:1,children:e.last})]})]})},e.userId)}))})),(0,p.jsx)(d.PreventTouchPlaceholder,{})]}):null}))},"./src/screens/home/mono/component/collected/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({container:{minHeight:84,marginTop:40,marginBottom:t._.md},item:{paddingRight:t._.sm,paddingBottom:t._.xs,marginRight:t._.sm},body:{maxWidth:96,marginLeft:t._.sm},touch:{paddingHorizontal:t._.xs,marginRight:-t._.xs,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/content/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Content")},"./src/screens/home/mono/component/content/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.string.trim.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/screens/_/index.ts"),d=o("./src/stores/index.ts"),l=o("./src/utils/index.ts"),i=o("./src/utils/decorators/index.ts"),a=o("./src/screens/home/mono/component/content/ds.ts"),u=o("./src/screens/home/mono/component/content/styles.ts"),m=o("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var o=s.$,t=s.navigation;if(!o.info)return null;var i=o.state.translateResult;return i.length?(0,m.jsx)(n.default,{style:u.styles.content,children:(0,m.jsx)(n.default,{children:i.map((function(e,s){return(0,m.jsxs)(n.default,{children:[(0,m.jsx)(r.Text,{style:d._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,m.jsx)(r.Text,{style:d._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},s)}))})}):(0,m.jsxs)(n.default,{style:u.styles.content,children:[(0,m.jsx)(r.RenderHtml,{baseFontStyle:d._.baseFontStyle.md,html:o.info,onLinkPress:function(e){return(0,l.appNavigate)(e,t)}}),!(0,l.isChineseParagraph)((0,l.removeURLs)((0,l.removeHTMLTag)(o.info)),.5)&&(0,m.jsx)(n.default,{style:u.styles.iconTranslate,children:(0,m.jsx)(c.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return o.doTranslate("translateResult",o.info)}})})]})}),a.COMPONENT)},"./src/screens/home/mono/component/content/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({content:{paddingHorizontal:t._.xs,marginTop:t._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}})},"./src/screens/home/mono/component/cover/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Cover")},"./src/screens/home/mono/component/cover/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=t(o("./node_modules/@babel/runtime/helpers/slicedToArray.js")),r=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(s);if(o&&o.has(e))return o.get(e);var t={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=n?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(t,r,c):t[r]=e[r]}return t.default=e,o&&o.set(e,t),t}(o("react")),c=o("./src/components/index.ts"),d=o("./src/stores/index.ts"),l=o("./src/utils/index.ts"),i=o("./src/utils/dev/index.ts"),a=o("./src/screens/home/mono/component/cover/ds.ts"),u=o("./src/screens/home/mono/component/cover/styles.ts"),m=o("./node_modules/react/jsx-runtime.js");function p(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:s})(e)}s.default=function(e){var s=e.thumb,o=e.src,t=e.monoId;(0,i.r)(a.COMPONENT);var p=(0,r.useState)(!1),j=(0,n.default)(p,2),f=j[0],h=j[1],_=(0,r.useMemo)((function(){return{id:"人物.封面图查看",data:{monoId:t}}}),[t]),x=(0,r.useCallback)((function(){h(!0)}),[h]);return(0,m.jsxs)(c.Flex,{style:u.styles.cover,justify:"center",children:[!!s&&!f&&(0,m.jsx)(c.Cover,{src:s,size:80,shadow:!0}),!!o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Image,{style:!f&&u.styles.loading,src:(0,l.getCoverLarge)(o,200),autoSize:d._.r(.52*d._.window.contentWidth),imageViewer:!0,imageViewerSrc:(0,l.getCoverLarge)(o),fallback:!0,shadow:!0,event:_,onLoadEnd:x}),(0,m.jsx)(c.Heatmap,{id:"人物.封面图查看"})]})]})}},"./src/screens/home/mono/component/cover/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({cover:{marginTop:28,marginBottom:16},loading:{position:"absolute",top:0,left:0,width:1,height:1,pointerEvents:"none",opacity:0}})},"./src/screens/home/mono/component/detail/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Detail")},"./src/screens/home/mono/component/detail/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.string.trim.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/screens/_/index.ts"),d=o("./src/stores/index.ts"),l=o("./src/utils/index.ts"),i=o("./src/utils/decorators/index.ts"),a=o("./src/screens/home/mono/component/detail/ds.ts"),u=o("./src/screens/home/mono/component/detail/styles.ts"),m=o("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var o=s.$,t=s.navigation;if(!o.detail)return null;var i=o.state.translateResultDetail;return i.length?(0,m.jsx)(n.default,{style:u.styles.content,children:(0,m.jsx)(n.default,{children:i.map((function(e,s){return(0,m.jsxs)(n.default,{children:[(0,m.jsx)(r.Text,{style:d._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,m.jsx)(r.Text,{style:d._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},s)}))})}):(0,m.jsxs)(n.default,{style:u.styles.content,children:[(0,m.jsx)(c.HTML,{navigation:t,style:d._.mt.lg,ratio:1.2,msg:o.detail,length:400,matchLink:!1}),!(0,l.isChineseParagraph)(o.detail)&&(0,m.jsx)(n.default,{style:u.styles.iconTranslate,children:(0,m.jsx)(c.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return o.doTranslate("translateResultDetail",o.detail)}})})]})}),a.COMPONENT)},"./src/screens/home/mono/component/detail/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({content:{paddingHorizontal:t._.xs,marginTop:t._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}})},"./src/screens/home/mono/component/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Component")},"./src/screens/home/mono/component/extra/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts"),r=s.COMPONENT=(0,t.rc)(n.COMPONENT,"Extra");s.COMPONENT_MAIN=(0,t.rc)(r),s.DEFAULT_PROPS={navigation:{},monoId:"",canICO:!1,icoUsers:void 0,doICO:function(){}}},"./src/screens/home/mono/component/extra/extra.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/screens/_/index.ts"),c=o("./src/stores/index.ts"),d=o("./src/utils/index.ts"),l=o("./src/utils/decorators/index.ts"),i=o("./src/utils/fetch/index.ts"),a=o("./src/screens/home/mono/component/extra/ds.ts"),u=o("./node_modules/react/jsx-runtime.js"),m=(0,l.memo)((function(e){var s=e.navigation,o=e.monoId,t=e.canICO,l=e.icoUsers,a=e.doICO;return t?(0,u.jsx)(n.Touchable,{style:[c._.container.touch,c._.mr.sm],onPress:function(){(0,d.confirm)("花费10000cc启动ICO?",(function(){return a(s)}))},children:(0,u.jsxs)(n.Flex,{style:c._.mr.sm,children:[(0,u.jsx)(r.IconHeader,{name:"trophy",size:18}),(0,u.jsx)(n.Text,{size:13,children:"启动ICO"})]})}):(0,u.jsxs)(r.IconHeader,{style:c._.mr.sm,name:"trophy",size:18,onPress:function(){var e=l?"TinygrailICODeal":"TinygrailDeal";(0,i.t)("人物.跳转",{to:e,monoId:o}),s.push(e,{monoId:o})},children:[(0,u.jsx)(n.Heatmap,{right:173,id:"人物.启动ICO",transparent:!0}),(0,u.jsx)(n.Heatmap,{right:109,id:"人物.跳转",to:"TinygrailICODeal",alias:"ICO",transparent:!0}),(0,u.jsx)(n.Heatmap,{right:30,id:"人物.跳转",to:"TinygrailDeal",alias:"交易"})]})}),a.DEFAULT_PROPS,a.COMPONENT_MAIN);s.default=m},"./src/screens/home/mono/component/extra/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/utils/decorators/index.ts"),r=t(o("./src/screens/home/mono/component/favor/index.tsx")),c=t(o("./src/screens/home/mono/component/extra/extra.tsx")),d=o("./src/screens/home/mono/component/extra/ds.ts"),l=o("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.$,o=e.navigation;return(0,l.jsxs)(l.Fragment,{children:[s.monoId.includes("character")&&s.tinygrail&&(0,l.jsx)(c.default,{navigation:o,monoId:s.monoId,canICO:s.canICO,icoUsers:s.chara.users,doICO:s.doICO}),(0,l.jsx)(r.default,{$:s})]})}),d.COMPONENT)},"./src/screens/home/mono/component/favor/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Favor")},"./src/screens/home/mono/component/favor/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/stores/index.ts"),c=o("./src/utils/decorators/index.ts"),d=o("./src/screens/home/mono/component/favor/ds.ts"),l=o("./src/screens/home/mono/component/favor/styles.ts"),i=o("./node_modules/react/jsx-runtime.js");s.default=(0,c.ob)((function(e){var s=e.$;return s.mono.collectUrl?(0,i.jsxs)(n.Touchable,{style:l.styles.touch,onPress:s.doCollect,children:[(0,i.jsx)(n.Iconfont,{size:20,name:"md-favorite-outline",color:r._.colorTitle}),(0,i.jsx)(n.Heatmap,{id:"人物.收藏人物"}),(0,i.jsx)(n.Heatmap,{right:52,id:"人物.取消收藏人物",transparent:!0})]}):s.mono.eraseCollectUrl?(0,i.jsxs)(n.Touchable,{style:l.styles.touch,onPress:s.doEraseCollect,children:[(0,i.jsx)(n.Iconfont,{size:20,name:"md-favorite",color:r._.colorMain}),(0,i.jsx)(n.Heatmap,{id:"人物.取消收藏人物"})]}):null}),d.COMPONENT)},"./src/screens/home/mono/component/favor/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({touch:{paddingHorizontal:t._.sm,marginRight:6,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/header-title/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts"),r=s.COMPONENT=(0,t.rc)(n.COMPONENT,"HeaderTitle");s.COMPONENT_MAIN=(0,t.rc)(r),s.DEFAULT_PROPS={tinygrail:!1,cover:"",nameTop:"",nameBottom:""}},"./src/screens/home/mono/component/header-title/header-title.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/screens/_/index.ts"),c=o("./src/stores/index.ts"),d=o("./src/utils/index.ts"),l=o("./src/utils/decorators/index.ts"),i=o("./src/screens/home/mono/component/header-title/ds.ts"),a=o("./src/screens/home/mono/component/header-title/styles.ts"),u=o("./node_modules/react/jsx-runtime.js"),m=(0,l.memo)((function(e){var s=e.tinygrail,o=e.cover,t=e.nameTop,l=e.nameBottom;return(0,u.jsxs)(n.Flex,{style:(0,d.stl)(a.styles.container,s&&a.styles.containerTinygrail),children:[!!o&&(0,u.jsx)(r.Cover,{size:a.styles.container.height,src:o,radius:!0}),(0,u.jsxs)(n.Flex.Item,{style:c._.ml.sm,children:[(0,u.jsx)(n.Text,{size:13,numberOfLines:1,children:t}),!!l&&(0,u.jsx)(n.Text,{type:"sub",size:10,numberOfLines:1,children:l})]})]})}),i.DEFAULT_PROPS,i.COMPONENT_MAIN);s.default=m},"./src/screens/home/mono/component/header-title/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/utils/decorators/index.ts"),r=t(o("./src/screens/home/mono/component/header-title/header-title.tsx")),c=o("./src/screens/home/mono/component/header-title/ds.ts"),d=o("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e){var s=e.$;return(0,d.jsx)(r.default,{cover:s.thumb,tinygrail:s.tinygrail,nameTop:s.nameTop,nameBottom:s.nameBottom})}),c.COMPONENT)},"./src/screens/home/mono/component/header-title/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({container:{height:28,marginTop:t._.platforms(2,-6,-10,-4,-4),marginLeft:-t._.sm,marginRight:t._.lg},containerTinygrail:{marginRight:52}})},"./src/screens/home/mono/component/info/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Info")},"./src/screens/home/mono/component/info/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/stores/index.ts"),d=o("./src/utils/decorators/index.ts"),l=t(o("./src/screens/home/mono/component/collabs/index.tsx")),i=t(o("./src/screens/home/mono/component/collected/index.tsx")),a=t(o("./src/screens/home/mono/component/content/index.tsx")),u=t(o("./src/screens/home/mono/component/cover/index.tsx")),m=t(o("./src/screens/home/mono/component/detail/index.tsx")),p=t(o("./src/screens/home/mono/component/jobs/index.tsx")),j=t(o("./src/screens/home/mono/component/section-title/index.tsx")),f=t(o("./src/screens/home/mono/component/voice/index.tsx")),h=t(o("./src/screens/home/mono/component/works/index.tsx")),_=o("./src/screens/home/mono/component/info/ds.ts"),x=o("./src/screens/home/mono/component/info/styles.ts"),y=o("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var o=s.$,t=(0,x.memoStyles)();return(0,y.jsxs)(n.default,{style:t.info,children:[(0,y.jsx)(r.HeaderPlaceholder,{}),(0,y.jsxs)(n.default,{style:t.container,children:[(0,y.jsxs)(r.Flex,{wrap:"wrap",children:[(0,y.jsxs)(r.Text,{size:20,bold:!0,children:[o.nameTop," "]}),(0,y.jsx)(r.Text,{type:"sub",lineHeight:20,bold:!0,children:o.nameBottom})]}),(0,y.jsx)(u.default,{thumb:o.thumb,src:o.cover,monoId:o.monoId}),(0,y.jsx)(a.default,{}),(0,y.jsx)(m.default,{}),!!o.cn&&(0,y.jsx)(r.Flex,{style:c._.mt.lg,justify:"end",children:(0,y.jsx)(r.Touchable,{style:t.touch,onPress:o.onMore,children:(0,y.jsxs)(r.Flex,{children:[(0,y.jsx)(r.Text,{style:c._.ml.sm,type:"sub",children:"更多资料"}),(0,y.jsx)(r.Iconfont,{style:c._.ml.xs,name:"md-open-in-new",color:c._.colorSub,size:16})]})})})]}),(0,y.jsx)(r.Divider,{}),(0,y.jsx)(f.default,{style:c._.mt.md}),(0,y.jsx)(h.default,{style:c._.mt.md}),(0,y.jsx)(p.default,{style:c._.mt.md}),(0,y.jsx)(l.default,{style:c._.mt.md}),(0,y.jsx)(i.default,{style:c._.mt.md}),(0,y.jsx)(j.default,{})]})}),_.COMPONENT)},"./src/screens/home/mono/component/info/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{info:{minHeight:1.2*t._.window.height},container:Object.assign({minHeight:.56*t._.window.height},t._.container.inner),loading:{minHeight:.48*t._.window.height},touch:{paddingHorizontal:t._.xs,marginRight:-t._.xs,borderRadius:t._.radiusSm,overflow:"hidden"}}}))},"./src/screens/home/mono/component/item/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.EVENT=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"Item"),s.EVENT={id:"人物.跳转",data:{from:"吐槽"}},s.ITEM_HEIGHT=94},"./src/screens/home/mono/component/item/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/screens/_/index.ts"),r=o("./src/stores/index.ts"),c=o("./src/utils/decorators/index.ts"),d=o("./src/screens/home/mono/component/item/ds.ts"),l=o("./src/screens/home/mono/component/item/styles.ts"),i=o("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var o=e.item,t=e.index,c=s.navigation,a=(0,l.memoStyles)();return(0,i.jsx)(n.InView,{y:1.5*r._.window.height+d.ITEM_HEIGHT*t,children:(0,i.jsx)(n.ItemPost,Object.assign({navigation:c,contentStyle:a.contentStyle,extraStyle:a.extraStyle,index:t,event:d.EVENT,matchLink:!1,expandNums:2},o))})}),d.COMPONENT)},"./src/screens/home/mono/component/item/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{contentStyle:{paddingRight:t._.wind-t._.md},extraStyle:{marginRight:-2}}}))},"./src/screens/home/mono/component/jobs/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts"),r=s.COMPONENT=(0,t.rc)(n.COMPONENT,"Jobs");s.COMPONENT_MAIN=(0,t.rc)(r),s.DEFAULT_PROPS={navigation:{},styles:{},style:{},jobs:[]},s.EVENT={id:"人物.跳转",data:{from:"出演"}}},"./src/screens/home/mono/component/jobs/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/utils/decorators/index.ts"),r=t(o("./src/screens/home/mono/component/jobs/jobs.tsx")),c=o("./src/screens/home/mono/component/jobs/ds.ts"),d=o("./src/screens/home/mono/component/jobs/styles.ts"),l=o("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var o=e.style,t=s.$,n=s.navigation;return t.jobs.length?(0,l.jsx)(r.default,{styles:(0,d.memoStyles)(),navigation:n,style:o,jobs:t.jobs}):null}),c.COMPONENT)},"./src/screens/home/mono/component/jobs/jobs.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/components/cover/utils.ts"),d=o("./src/screens/_/index.ts"),l=o("./src/stores/index.ts"),i=o("./src/utils/index.ts"),a=o("./src/utils/decorators/index.ts"),u=o("./src/constants/index.ts"),m=o("./src/screens/home/mono/ds.ts"),p=o("./src/screens/home/mono/component/jobs/ds.ts"),j=o("./node_modules/react/jsx-runtime.js"),f=(0,a.memo)((function(e){var s=e.navigation,o=e.styles,t=e.style,a=e.jobs,f=l.systemStore.setting.avatarRound?m.COVER_WIDTH:l._.radiusSm;return(0,j.jsx)(d.InView,{style:o.inView,children:(0,j.jsx)(r.Expand,{ratio:2.8,children:(0,j.jsxs)(n.default,{style:(0,i.stl)(o.container,t),children:[(0,j.jsxs)(n.default,{children:[(0,j.jsx)(d.SectionTitle,{left:(0,j.jsx)(r.Text,{style:l._.ml.xs,type:"sub",lineHeight:20,children:a.length}),children:"出演"}),(0,j.jsx)(r.Heatmap,{id:"人物.跳转",from:"出演"})]}),(0,j.jsx)(n.default,{style:l._.mt.md,children:a.map((function(e,t){var a,h,_,x,y,b=(0,i.cnjp)(e.nameCn,e.name),v=(0,i.cnjp)(e.name,e.nameCn),g=u.MODEL_SUBJECT_TYPE.getTitle(e.type);return(0,j.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,i.appNavigate)(e.href,s,{_jp:e.name,_cn:e.nameCn,_image:(0,c.getCoverSrc)(e.cover,m.COVER_WIDTH),_type:g},p.EVENT)},children:(0,j.jsxs)(r.Flex,{style:o.item,align:"start",children:[(0,j.jsx)(r.Cover,{src:e.cover,type:g,size:m.COVER_WIDTH,height:m.COVER_HEIGHT,radius:!0}),!t&&(0,j.jsx)(r.Heatmap,{right:-32,id:"人物.跳转",to:"Subject",alias:"条目"}),(0,j.jsxs)(r.Flex.Item,{style:o.content,children:[(0,j.jsxs)(r.Flex,{align:"start",children:[(0,j.jsx)(r.Flex.Item,{children:(0,j.jsx)(r.Text,{size:12,bold:!0,numberOfLines:3,children:b})}),(0,j.jsx)(d.Tag,{style:o.tag,value:e.staff})]}),!!v&&v!==b&&(0,j.jsx)(r.Text,{style:l._.mt.xs,size:10,type:"sub",bold:!0,children:v}),(0,j.jsxs)(r.Flex,{style:l._.mt.md,children:[(0,j.jsxs)(r.Touchable,{animate:!0,onPress:function(){(0,i.appNavigate)(e.castHref,s,{_name:e.cast,_image:(0,i.getCoverMedium)(e.castCover)},p.EVENT)},children:[(0,j.jsxs)(r.Flex,{children:[!!e.castCover&&(0,j.jsx)(n.default,{style:l._.mr.sm,children:(0,j.jsx)(r.Cover,{size:l._.r(24),src:e.castCover,radius:f,shadow:!0})}),(0,j.jsxs)(r.Text,{size:11,bold:!0,children:[e.cast,!!e.castTag&&(0,j.jsxs)(r.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",e.castTag]})]})]}),!t&&(0,j.jsx)(r.Heatmap,{id:"人物.跳转",to:"Mono",alias:"人物"})]}),!(null==e||null==(a=e.cast2)||!a.castCover)&&(0,j.jsx)(r.Touchable,{style:o.castCover,onPress:function(){var o,t,n;return(0,i.appNavigate)(null==e||null==(o=e.cast2)?void 0:o.castHref,s,{_name:null==e||null==(t=e.cast2)?void 0:t.cast,_image:(0,i.getCoverMedium)(null==e||null==(n=e.cast2)?void 0:n.castCover)},p.EVENT)},children:(0,j.jsxs)(r.Flex,{children:[(0,j.jsx)(n.default,{style:l._.mr.xs,children:(0,j.jsx)(r.Cover,{size:l._.r(24),src:null==e||null==(h=e.cast2)?void 0:h.castCover,radius:f,shadow:!0})}),(0,j.jsxs)(r.Text,{size:11,bold:!0,children:[null==e||null==(_=e.cast2)?void 0:_.cast,!(null==e||null==(x=e.cast2)||!x.castTag)&&(0,j.jsxs)(r.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",null==e||null==(y=e.cast2)?void 0:y.castTag]})]})]})})]})]})]})},e.href)}))})]})})})}),p.DEFAULT_PROPS,p.COMPONENT_MAIN);s.default=f},"./src/screens/home/mono/component/jobs/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{inView:{minHeight:180},container:{paddingLeft:t._.wind,paddingBottom:t._.md},item:{paddingVertical:t._.md,paddingRight:t._.wind},content:{paddingTop:2,paddingLeft:t._.sm+4},tag:{marginLeft:t._.sm},castCover:{marginRight:t._.xs,marginLeft:t._.md}}}))},"./src/screens/home/mono/component/list/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"List")},"./src/screens/home/mono/component/list/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/screens/_/index.ts"),r=o("./src/stores/index.ts"),c=o("./src/utils/index.ts"),d=o("./src/utils/decorators/index.ts"),l=t(o("./src/screens/home/mono/component/info/index.tsx")),i=o("./src/screens/home/mono/component/list/utils.tsx"),a=o("./src/screens/home/mono/component/list/ds.ts"),u=o("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var o=e.onScroll,t=s.$;return(0,u.jsx)(n.PaginationList2,{contentContainerStyle:r._.container.bottom,keyExtractor:c.keyExtractor,data:t.list,limit:20,scrollEventThrottle:16,scrollToTop:!0,ListHeaderComponent:(0,u.jsx)(l.default,{}),progressViewOffset:r._.ios(r._.statusBarHeight,r._.headerHeight),removeClippedSubviews:t.list.length>=100,renderItem:i.renderItem,onScroll:o,onHeaderRefresh:t.onHeaderRefresh})}),a.COMPONENT)},"./src/screens/home/mono/component/list/utils.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.renderItem=function(e){var s=e.item,o=e.index;return(0,r.jsx)(n.default,{item:s,index:o})};var n=t(o("./src/screens/home/mono/component/item/index.tsx")),r=o("./node_modules/react/jsx-runtime.js")},"./src/screens/home/mono/component/section-right/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"SectionRight")},"./src/screens/home/mono/component/section-right/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/utils/decorators/index.ts"),c=o("./src/utils/fetch/index.ts"),d=o("./src/screens/home/mono/component/section-right/ds.ts"),l=o("./src/screens/home/mono/component/section-right/styles.ts"),i=o("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)((function(e,s){var o=e.event,t=e.text,r=e.to,d=s.$,a=s.navigation;return(0,i.jsx)(n.Touchable,{style:l.styles.touch,onPress:function(){(0,c.t)(o.id,Object.assign({},o.data,{to:r,monoId:d.monoId})),a.push(r,{monoId:d.monoId,name:d.cn||d.jp})},children:(0,i.jsxs)(n.Flex,{children:[(0,i.jsx)(n.Text,{type:"sub",children:t}),(0,i.jsx)(n.Iconfont,{name:"md-navigate-next"})]})})}),d.COMPONENT)},"./src/screens/home/mono/component/section-right/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=o("./src/stores/index.ts");s.styles=t._.create({touch:{paddingLeft:t._.xs,marginRight:t._.sm,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/home/mono/component/section-title/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts");s.COMPONENT=(0,t.rc)(n.COMPONENT,"SectionTitle")},"./src/screens/home/mono/component/section-title/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.regexp.exec.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/screens/_/index.ts"),c=o("./src/utils/decorators/index.ts"),d=o("./src/utils/fetch/index.ts"),l=o("./src/screens/home/mono/component/section-title/ds.ts"),i=o("./src/screens/home/mono/component/section-title/styles.ts"),a=o("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var o=s.$,t=s.navigation,c=(0,i.memoStyles)();return(0,a.jsxs)(r.SectionTitle,{style:c.title,right:(0,a.jsxs)(n.Touchable,{style:c.touch,onPress:function(){var e=o.monoId.includes("character/");t.push("Topic",{topicId:(e?"crt":"prsn")+"/"+(o.monoId||"").match(/\d+/g)[0]}),(0,d.t)("人物.跳转",{to:"Topic",from:"去吐槽",monoId:o.monoId})},children:[(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Text,{type:"sub",children:"去吐槽"}),(0,a.jsx)(n.Iconfont,{name:"md-navigate-next"})]}),(0,a.jsx)(n.Heatmap,{id:"人物.跳转",from:"去吐槽"}),(0,a.jsx)(n.Heatmap,{right:66,id:"人物.跳转",to:"Topic",alias:"帖子",transparent:!0})]}),children:["吐槽",!!o.commentLength&&(0,a.jsxs)(n.Text,{size:12,type:"sub",lineHeight:24,children:[" ",o.commentLength,"+"]})]})}),l.COMPONENT)},"./src/screens/home/mono/component/section-title/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{title:{paddingHorizontal:t._.wind,marginTop:t._.lg,marginBottom:t._.md},touch:{paddingLeft:t._.xs,marginRight:t._.web(-t._.xs,-t._.sm),borderRadius:t._.radiusSm,overflow:"hidden"}}}))},"./src/screens/home/mono/component/voice/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.IMAGE_WIDTH=s.EVENT=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var t=o("./src/stores/index.ts"),n=o("./src/utils/dev/index.ts"),r=o("./src/screens/home/mono/component/ds.ts"),c=s.COMPONENT=(0,n.rc)(r.COMPONENT,"Voice");s.COMPONENT_MAIN=(0,n.rc)(c),s.EVENT={id:"人物.跳转",data:{from:"最近演出角色"}},s.IMAGE_WIDTH=t._.r(40),s.DEFAULT_PROPS={navigation:{},styles:{},style:{},voices:[]}},"./src/screens/home/mono/component/voice/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/utils/decorators/index.ts"),r=t(o("./src/screens/home/mono/component/voice/voice.tsx")),c=o("./src/screens/home/mono/component/voice/ds.ts"),d=o("./src/screens/home/mono/component/voice/styles.ts"),l=o("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var o=e.style,t=s.$,n=s.navigation;return t.voices.length?(0,l.jsx)(r.default,{styles:(0,d.memoStyles)(),navigation:n,style:o,voices:t.voices}):null}),c.COMPONENT)},"./src/screens/home/mono/component/voice/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{container:{minHeight:320,paddingLeft:t._.wind,paddingBottom:t._.md},section:{paddingRight:t._.wind-t._._wind},item:{paddingVertical:t._.md,paddingRight:t._.wind}}}))},"./src/screens/home/mono/component/voice/voice.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/components/cover/utils.ts"),d=o("./src/screens/_/index.ts"),l=o("./src/stores/index.ts"),i=o("./src/utils/index.ts"),a=o("./src/utils/decorators/index.ts"),u=o("./src/screens/home/mono/ds.ts"),m=t(o("./src/screens/home/mono/component/section-right/index.tsx")),p=o("./src/screens/home/mono/component/voice/ds.ts"),j=o("./node_modules/react/jsx-runtime.js"),f=(0,a.memo)((function(e){var s=e.navigation,o=e.styles,t=e.style,a=e.voices;return(0,j.jsxs)(d.InView,{style:(0,i.stl)(o.container,t),children:[(0,j.jsx)(d.SectionTitle,{style:o.section,right:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.default,{event:p.EVENT,text:"更多角色",to:"Voices"}),(0,j.jsx)(r.Heatmap,{id:"人物.跳转",to:"Voices",alias:"更多角色"})]}),children:"最近演出角色"}),(0,j.jsxs)(n.default,{style:l._.mt.md,children:[a.map((function(e){var t=(0,i.cnjp)(e.nameCn,e.name),a=(0,i.cnjp)(e.name,e.nameCn),m=(0,i.cnjp)(e.subjectNameCn,e.subjectName),f=(0,i.cnjp)(e.subjectName,e.subjectNameCn);return(0,j.jsxs)(r.Flex,{style:o.item,align:"start",children:[(0,j.jsx)(r.Flex.Item,{children:(0,j.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,i.appNavigate)(e.href,s,{_jp:e.name,_cn:e.nameCn,_image:(0,c.getCoverSrc)(e.cover,p.IMAGE_WIDTH)},p.EVENT)},children:(0,j.jsxs)(r.Flex,{align:"start",children:[(0,j.jsx)(r.Cover,{src:e.cover,size:p.IMAGE_WIDTH,radius:!0,shadow:!0}),(0,j.jsxs)(r.Flex.Item,{style:l._.ml.sm,children:[(0,j.jsx)(r.Text,{style:l._.mt.xxs,size:12,bold:!0,children:t}),!!a&&a!==t&&(0,j.jsx)(r.Text,{style:l._.mt.xs,size:10,type:"sub",bold:!0,children:a}),(0,j.jsx)(r.Flex,{style:l._.mt.xs,children:(0,j.jsx)(d.Tag,{value:e.staff})})]})]})})}),(0,j.jsx)(r.Flex.Item,{style:l._.ml.sm,flex:1.5,children:(0,j.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,i.appNavigate)(e.subjectHref,s,{},p.EVENT)},children:(0,j.jsxs)(r.Flex,{align:"start",children:[(0,j.jsxs)(r.Flex.Item,{children:[(0,j.jsx)(r.Text,{style:l._.mt.xxs,size:12,align:"right",bold:!0,children:m}),!!f&&f!==m&&(0,j.jsx)(r.Text,{style:l._.mt.xs,size:10,type:"sub",align:"right",children:f})]}),!!e.subjectCover&&(0,j.jsx)(n.default,{style:l._.ml.sm,children:(0,j.jsx)(r.Cover,{src:e.subjectCover,size:.88*u.COVER_WIDTH,height:.88*u.COVER_HEIGHT,radius:!0,shadow:!0})})]})})})]},e.href)})),(0,j.jsx)(r.Heatmap,{id:"人物.跳转",from:"最近演出角色"})]})]})}),p.DEFAULT_PROPS,p.COMPONENT_MAIN);s.default=f},"./src/screens/home/mono/component/works/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/screens/home/mono/component/ds.ts"),r=s.COMPONENT=(0,t.rc)(n.COMPONENT,"Works");s.COMPONENT_MAIN=(0,t.rc)(r),s.EVENT={id:"人物.跳转",data:{from:"最近参与"}},s.DEFAULT_PROPS={navigation:{},styles:{},style:{},works:[]}},"./src/screens/home/mono/component/works/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/utils/decorators/index.ts"),r=t(o("./src/screens/home/mono/component/works/works.tsx")),c=o("./src/screens/home/mono/component/works/ds.ts"),d=o("./src/screens/home/mono/component/works/styles.ts"),l=o("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var o=e.style,t=s.$,n=s.navigation;return t.works.length?(0,l.jsx)(r.default,{navigation:n,styles:(0,d.memoStyles)(),style:o,works:t.works}):null}),c.COMPONENT)},"./src/screens/home/mono/component/works/styles.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=o("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{container:{minHeight:320,paddingLeft:t._.wind,paddingBottom:t._.md},section:{paddingRight:t._.wind-t._._wind},item:{paddingVertical:t._.md,paddingRight:t._.wind},content:{marginLeft:t._.sm+4},tag:{marginTop:3,marginLeft:t._.md}}}))},"./src/screens/home/mono/component/works/works.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=t(o("./node_modules/react-native-web/dist/exports/View/index.js")),r=o("./src/components/index.ts"),c=o("./src/components/cover/utils.ts"),d=o("./src/screens/_/index.ts"),l=o("./src/stores/index.ts"),i=o("./src/utils/index.ts"),a=o("./src/utils/decorators/index.ts"),u=o("./src/constants/index.ts"),m=o("./src/screens/home/mono/ds.ts"),p=t(o("./src/screens/home/mono/component/section-right/index.tsx")),j=o("./src/screens/home/mono/component/works/ds.ts"),f=o("./node_modules/react/jsx-runtime.js"),h=(0,a.memo)((function(e){var s=e.navigation,o=e.styles,t=e.style,a=e.works;return(0,f.jsxs)(d.InView,{style:(0,i.stl)(o.container,t),children:[(0,f.jsx)(d.SectionTitle,{style:o.section,right:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.default,{event:j.EVENT,text:"更多作品",to:"Works"}),(0,f.jsx)(r.Heatmap,{id:"人物.跳转",to:"Works",alias:"更多作品"})]}),children:"最近参与"}),(0,f.jsxs)(n.default,{style:l._.mt.md,children:[a.map((function(e){var t=u.MODEL_SUBJECT_TYPE.getTitle(e.type);return(0,f.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,i.appNavigate)(e.href,s,{_jp:e.name,_image:(0,c.getCoverSrc)(e.cover,m.COVER_WIDTH),_type:t},j.EVENT)},children:(0,f.jsxs)(r.Flex,{style:o.item,align:"start",children:[(0,f.jsx)(d.Cover,{size:m.COVER_WIDTH,height:m.COVER_HEIGHT,src:e.cover,radius:!0,shadow:!0,type:t}),(0,f.jsx)(r.Flex.Item,{style:o.content,children:(0,f.jsxs)(r.Flex,{align:"start",children:[(0,f.jsx)(r.Flex.Item,{children:(0,f.jsx)(r.Text,{style:l._.mt.xs,bold:!0,size:12,children:(0,i.findSubjectCn)(e.name)})}),(0,f.jsx)(d.Tag,{style:o.tag,value:e.staff})]})})]})},e.href)})),(0,f.jsx)(r.Heatmap,{id:"人物.跳转",from:"最近参与"})]})]})}),j.DEFAULT_PROPS,j.COMPONENT_MAIN);s.default=h},"./src/screens/home/mono/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COVER_WIDTH=s.COVER_HEIGHT=s.COMPONENT=void 0;var t=o("./src/stores/index.ts"),n=(s.COMPONENT="Mono",s.COVER_WIDTH=t._.r(64));s.COVER_HEIGHT=1.28*n},"./src/screens/home/mono/header/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DATA=s.COMPONENT=void 0;var t=o("./src/utils/dev/index.ts"),n=o("./src/constants/index.ts"),r=o("./src/screens/home/mono/ds.ts");s.COMPONENT=(0,t.rc)(r.COMPONENT,"Header"),s.DATA=[n.TEXT_MENU_BROWSER,n.TEXT_MENU_COPY_LINK,n.TEXT_MENU_COPY_SHARE]},"./src/screens/home/mono/header/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.string.fixed.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/screens/_/index.ts"),c=o("./src/utils/index.ts"),d=o("./src/utils/decorators/index.ts"),l=o("./src/utils/fetch/index.ts"),i=o("./src/constants/index.ts"),a=t(o("./src/screens/home/mono/component/extra/index.tsx")),u=t(o("./src/screens/home/mono/component/header-title/index.tsx")),m=o("./src/screens/home/mono/header/ds.ts"),p=o("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var o=e.fixed,t=s.$,d=s.navigation;return(0,p.jsx)(n.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:o,title:"人物",domTitle:t.jp||t.cn,hm:[t.url,"Mono"],headerTitle:(0,p.jsx)(u.default,{$:t,navigation:d}),headerRight:function(){return(0,p.jsxs)(n.Flex,{children:[(0,p.jsx)(r.IconWordCloud,{onPress:function(){d.push("WordCloud",{monoId:t.monoId})}}),(0,p.jsx)(a.default,{$:t,navigation:d}),(0,p.jsx)(n.Header.Popover,{data:m.DATA,onSelect:function(e){switch((0,l.t)("人物.右上角菜单",{key:e}),e){case i.TEXT_MENU_BROWSER:(0,c.open)(t.url);break;case i.TEXT_MENU_COPY_LINK:(0,c.copy)(t.url,"已复制链接");break;case i.TEXT_MENU_COPY_SHARE:(0,c.copy)("【链接】"+(0,c.cnjp)(t.cn,t.jp)+" | Bangumi番组计划\n"+t.url,"已复制分享文案")}},children:(0,p.jsx)(n.Heatmap,{id:"人物.右上角菜单"})})]})}})}),m.COMPONENT)},"./src/screens/home/mono/hooks.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.string.fixed.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useMonoPage=function(e){var s=e.$;(0,r.useRunAfter)((function(){s.init()}));var o=(0,r.useViewport)(),c=o.visibleBottom,d=o.onScroll;(0,t.useEffect)((function(){s.setState({visibleBottom:c})}),[s,c]);var l=(0,n.useOnScroll)(),i=l.fixed,a=l.onScroll,u=(0,t.useCallback)((function(e){d(e),a(e)}),[a,d]);return{fixed:i,onScroll:u}};var t=o("react"),n=o("./src/components/header/utils.tsx"),r=o("./src/utils/hooks/index.ts")},"./src/screens/home/mono/index.tsx":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.string.fixed.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(o("react"));var n=o("./src/components/index.ts"),r=o("./src/utils/decorators/index.ts"),c=o("./src/utils/hooks/index.ts"),d=t(o("./src/screens/home/mono/component/list/index.tsx")),l=t(o("./src/screens/home/mono/header/index.tsx")),i=o("./src/screens/home/mono/hooks.ts"),a=t(o("./src/screens/home/mono/store/index.ts")),u=o("./node_modules/react/jsx-runtime.js");s.default=(0,r.ic)(a.default,(function(e,s){var o=(0,i.useMonoPage)(s),t=o.fixed,r=o.onScroll;return(0,c.useObserver)((function(){return(0,u.jsxs)(n.Component,{id:"screen-mono",children:[(0,u.jsxs)(n.Page,{statusBarEvent:!1,children:[(0,u.jsx)(d.default,{onScroll:r}),(0,u.jsx)(n.Heatmap,{id:"人物",screen:"Mono"})]}),(0,u.jsx)(l.default,{fixed:t})]})}))}))},"./src/screens/home/mono/store/action.ts":(e,s,o)=>{var t=o("./node_modules/@babel/runtime/regenerator/index.js");o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.reflect.construct.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.array.is-array.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.map.js");var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=n(o("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),d=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(o("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),j=o("./src/stores/index.ts"),f=o("./src/utils/index.ts"),h=o("./src/utils/fetch/index.ts"),_=o("./src/utils/webhooks/index.ts"),x=o("./src/constants/index.ts"),y=n(o("./src/screens/home/mono/store/fetch.ts"));function b(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=(0,m.default)(e);if(s){var n=(0,m.default)(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return(0,u.default)(this,o)}}s.default=function(e){(0,a.default)(o,e);var s=b(o);function o(){var e,n,d;(0,l.default)(this,o);for(var a=arguments.length,u=new Array(a),m=0;m<a;m++)u[m]=arguments[m];return e=s.call.apply(s,[this].concat(u)),(0,p.default)((0,i.default)(e),"onMore",(function(){return(0,h.t)("人物.更多资料",{monoId:e.monoId}),(0,f.open)("https://mzh.moegirl.org.cn/index.php?title="+encodeURIComponent(e.cn||e.jp)+"&mobileaction=toggle_view_mobile")})),(0,p.default)((0,i.default)(e),"toggleExpand",(function(s){var o=e.state.expands;e.setState({expands:o.includes(s)?o.filter((function(e){return e!==s})):[].concat((0,c.default)(o),[s])})})),(0,p.default)((0,i.default)(e),"doCollect",(0,r.default)(t.mark((function s(){var o;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=e.mono.collectUrl){s.next=3;break}return s.abrupt("return",!1);case 3:return(0,h.t)("人物.收藏人物",{monoId:e.monoId}),s.next=6,(0,h.fetchHTML)({method:"POST",url:""+x.HOST+o});case 6:return(0,f.feedback)(),(0,f.info)("已收藏"),(0,_.webhookMono)(Object.assign({},e.mono,{id:e.monoId}),j.userStore.userInfo),s.abrupt("return",e.fetchMono());case 10:case"end":return s.stop()}}),s)})))),(0,p.default)((0,i.default)(e),"doEraseCollect",(0,r.default)(t.mark((function s(){var o;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=e.mono.eraseCollectUrl){s.next=3;break}return s.abrupt("return",!1);case 3:return(0,h.t)("人物.取消收藏人物",{monoId:e.monoId}),s.next=6,(0,h.fetchHTML)({method:"POST",url:""+x.HOST+o});case 6:return(0,f.feedback)(),(0,f.info)("已取消收藏"),s.abrupt("return",e.fetchMono());case 9:case"end":return s.stop()}}),s)})))),(0,p.default)((0,i.default)(e),"doICO",(n=(0,r.default)(t.mark((function s(o){return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return(0,h.t)("人物.启动ICO",{monoId:e.monoId}),s.next=3,j.tinygrailStore.doICO({monoId:e.monoId.replace("character/","")});case 3:if(0===s.sent.State){s.next=7;break}return(0,f.info)("启动ICO失败"),s.abrupt("return");case 7:o.push("TinygrailICODeal",{monoId:e.monoId.replace("character/","")}),e.fetchChara();case 9:case"end":return s.stop()}}),s)}))),function(e){return n.apply(this,arguments)})),(0,p.default)((0,i.default)(e),"doTranslate",(0,r.default)(t.mark((function s(){var o,n,r,c,d,l,i=arguments;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=i.length>0&&void 0!==i[0]?i[0]:"translateResult",n=i.length>1?i[1]:void 0,!e.state[o].length){s.next=4;break}return s.abrupt("return");case 4:return(0,h.t)("人物.翻译内容",{monoId:e.monoId}),s.prev=5,r=(0,f.loading)(),s.next=9,(0,h.baiduTranslate)(String(n).replace(/<br \/>/g,"\n").replace(/<\/?[^>]*>/g,""));case 9:if(c=s.sent,r(),d=JSON.parse(c),l=d.trans_result,!Array.isArray(l)){s.next=15;break}return e.setState((0,p.default)({},o,l)),s.abrupt("return");case 15:(0,f.info)("翻译失败, 请重试"),s.next=22;break;case 18:s.prev=18,s.t0=s.catch(5),r&&r(),(0,f.info)("翻译失败, 请重试");case 22:case"end":return s.stop()}}),s,null,[[5,18]])})))),(0,p.default)((0,i.default)(e),"doTranslateFloor",(d=(0,r.default)(t.mark((function s(o,n){var r,c,d,l,i;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(r=e.state.translateResultFloor)[o]){s.next=3;break}return s.abrupt("return");case 3:return(0,h.t)("人物.翻译内容",{floorId:o}),s.prev=4,c=(0,f.loading)(),s.next=8,(0,h.baiduTranslate)((0,f.removeHTMLTag)(n.replace(/<br>/g,"\n")));case 8:if(d=s.sent,c(),l=JSON.parse(d),i=l.trans_result,!Array.isArray(i)){s.next=14;break}return e.setState({translateResultFloor:Object.assign({},r,(0,p.default)({},o,i.map((function(e){return e.dst})).join("\n")))}),s.abrupt("return");case 14:(0,f.info)("翻译失败, 请重试"),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(4),c&&c(),(0,f.info)("翻译失败, 请重试");case 21:case"end":return s.stop()}}),s,null,[[4,17]])}))),function(e,s){return d.apply(this,arguments)})),e}return(0,d.default)(o)}(y.default)},"./src/screens/home/mono/store/computed.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.reflect.construct.js"),o("./node_modules/core-js/modules/es.string.split.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.array.sort.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=t(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=t(o("./node_modules/@babel/runtime/helpers/createClass.js")),d=t(o("./node_modules/@babel/runtime/helpers/inherits.js")),l=t(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=t(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=t(o("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=o("./node_modules/mobx/dist/mobx.esm.js"),m=o("./src/stores/index.ts"),p=o("./src/utils/index.ts"),j=o("./src/constants/index.ts"),f=t(o("./src/screens/home/mono/store/state.ts"));function h(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return(0,l.default)(this,o)}}s.default=(n=function(e){(0,d.default)(o,e);var s=h(o);function o(){return(0,r.default)(this,o),s.apply(this,arguments)}return(0,c.default)(o,[{key:"monoId",get:function(){return this.params.monoId}},{key:"id",get:function(){var e;return(null==(e=this.monoId.split("/"))?void 0:e[1])||""}},{key:"url",get:function(){return j.HOST+"/"+this.monoId}},{key:"mono",get:function(){return m.subjectStore.mono(this.monoId)}},{key:"monoComments",get:function(){var e=m.subjectStore.monoComments(this.monoId);return e._loaded?e:this.state.comments}},{key:"list",get:function(){return this.monoComments.list}},{key:"monoFormCDN",get:function(){var e=this.state.mono;return e._loaded?e:m.subjectStore.monoFormCDN(this.monoId)}},{key:"chara",get:function(){return m.tinygrailStore.characters(this.monoId.replace("character/",""))}},{key:"tinygrail",get:function(){return m.systemStore.setting.tinygrail}},{key:"canICO",get:function(){return this.monoId.includes("character/")&&this.state.checkTinygrail&&!this.chara._loaded}},{key:"nameTop",get:function(){return(0,p.cnjp)(this.cn,this.jp)||""}},{key:"nameBottom",get:function(){var e=(0,p.cnjp)(this.jp,this.cn);return e!==this.nameTop?e:""}},{key:"thumb",get:function(){return(0,p.getMonoCoverSmall)(this.params._image||this.cover||"")}},{key:"commentLength",get:function(){var e=this.params._count;if(e)return e;var s=this.monoComments,o=s.list,t=s.pagination.pageTotal,n=void 0===t?0:t;return n<=1?o.length:20*(n>=2?n-1:n)}},{key:"jp",get:function(){return(0,p.HTMLDecode)(this.mono.name||this.params._jp||this.monoFormCDN.name)}},{key:"cn",get:function(){return(0,p.HTMLDecode)(this.mono.nameCn||this.params._name||this.monoFormCDN.nameCn)}},{key:"cover",get:function(){return this.mono.cover||this.monoFormCDN.cover}},{key:"info",get:function(){return this.mono.info||this.monoFormCDN.info}},{key:"detail",get:function(){return this.mono.detail||this.monoFormCDN.detail}},{key:"voices",get:function(){return(this.mono._loaded?this.mono.voice:this.monoFormCDN.voice)||j.FROZEN_ARRAY}},{key:"works",get:function(){return(this.mono._loaded?this.mono.works:this.monoFormCDN.works)||j.FROZEN_ARRAY}},{key:"jobs",get:function(){return((this.mono._loaded?this.mono.jobs:this.monoFormCDN.jobs)||j.FROZEN_ARRAY).slice().sort((function(e,s){return(0,p.desc)(e,s,(function(e){return 2==e.type?99:Number(e.type)}))}))}}]),o}(f.default),(0,a.default)(n.prototype,"monoId",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"monoId"),n.prototype),(0,a.default)(n.prototype,"id",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"id"),n.prototype),(0,a.default)(n.prototype,"url",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"url"),n.prototype),(0,a.default)(n.prototype,"mono",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"mono"),n.prototype),(0,a.default)(n.prototype,"monoComments",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"monoComments"),n.prototype),(0,a.default)(n.prototype,"list",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"list"),n.prototype),(0,a.default)(n.prototype,"monoFormCDN",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"monoFormCDN"),n.prototype),(0,a.default)(n.prototype,"chara",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"chara"),n.prototype),(0,a.default)(n.prototype,"tinygrail",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"tinygrail"),n.prototype),(0,a.default)(n.prototype,"canICO",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"canICO"),n.prototype),(0,a.default)(n.prototype,"nameTop",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"nameTop"),n.prototype),(0,a.default)(n.prototype,"nameBottom",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"nameBottom"),n.prototype),(0,a.default)(n.prototype,"thumb",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"thumb"),n.prototype),(0,a.default)(n.prototype,"commentLength",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"commentLength"),n.prototype),(0,a.default)(n.prototype,"jp",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"jp"),n.prototype),(0,a.default)(n.prototype,"cn",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"cn"),n.prototype),(0,a.default)(n.prototype,"cover",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"cover"),n.prototype),(0,a.default)(n.prototype,"info",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"info"),n.prototype),(0,a.default)(n.prototype,"detail",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"detail"),n.prototype),(0,a.default)(n.prototype,"voices",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"voices"),n.prototype),(0,a.default)(n.prototype,"works",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"works"),n.prototype),(0,a.default)(n.prototype,"jobs",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"jobs"),n.prototype),n)},"./src/screens/home/mono/store/ds.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var t=o("./src/stores/index.ts"),n=(s.NAMESPACE="ScreenMono",s.EXCLUDE_STATE={visibleBottom:t._.window.height,checkTinygrail:!1,expands:[],translateResult:[],translateResultDetail:[],translateResultFloor:{},mono:{_loaded:0},comments:{list:[],pagination:{page:0,pageTotal:0},_loaded:0}});s.STATE=Object.assign({reverse:!1},n,{_loaded:!1})},"./src/screens/home/mono/store/fetch.ts":(e,s,o)=>{var t=o("./node_modules/@babel/runtime/regenerator/index.js");o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.reflect.construct.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/web.timers.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.string.sub.js");var n=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=n(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=n(o("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=n(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=n(o("./node_modules/@babel/runtime/helpers/inherits.js")),a=n(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o("./src/stores/index.ts"),j=o("./src/utils/index.ts"),f=o("./src/utils/kv/index.ts"),h=n(o("./src/screens/home/mono/store/computed.ts"));function _(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=(0,u.default)(e);if(s){var n=(0,u.default)(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return(0,a.default)(this,o)}}s.default=function(e){(0,i.default)(o,e);var s=_(o);function o(){var e;(0,d.default)(this,o);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=s.call.apply(s,[this].concat(c)),(0,m.default)((0,l.default)(e),"fetchMono",(function(){return p.subjectStore.fetchMono({monoId:e.monoId})})),(0,m.default)((0,l.default)(e),"fetchChara",(0,r.default)(t.mark((function s(){var o;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.monoId.includes("character/")){s.next=2;break}return s.abrupt("return",!1);case 2:return s.next=4,p.tinygrailStore.fetchCharacters([e.id]);case 4:return o=s.sent,e.setState({checkTinygrail:!0}),s.abrupt("return",o);case 7:case"end":return s.stop()}}),s)})))),(0,m.default)((0,l.default)(e),"fetchMonoFormCDN",(0,r.default)(t.mark((function s(){var o,n;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=p.systemStore.setting,n=e.mono._loaded,o.cdn&&!n){s.next=4;break}return s.abrupt("return",!0);case 4:return s.abrupt("return",p.subjectStore.fetchMonoFormCDN(e.monoId));case 5:case"end":return s.stop()}}),s)})))),(0,m.default)((0,l.default)(e),"fetchMonoFromOSS",(0,r.default)(t.mark((function s(){var o,n,r,c,d;return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.mono._loaded){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,(0,f.get)("mono_"+e.monoId.replace("/","_"));case 5:if(o=s.sent){s.next=9;break}return e.updateMonoThirdParty(),s.abrupt("return");case 9:n=o.ts,r=o.mono,c=o.comments,d=(0,j.getTimestamp)(),"object"==typeof r&&"object"==typeof c&&e.setState({mono:Object.assign({},r,{_loaded:(0,j.getTimestamp)()}),comments:Object.assign({},c,{_loaded:(0,j.getTimestamp)()})}),d-n>=25200&&e.updateMonoThirdParty(),s.next=17;break;case 15:s.prev=15,s.t0=s.catch(2);case 17:case"end":return s.stop()}}),s,null,[[2,15]])})))),(0,m.default)((0,l.default)(e),"updateMonoThirdParty",(function(){setTimeout((function(){e.mono._loaded&&(0,f.update)("mono_"+e.monoId.replace("/","_"),{mono:(0,j.omit)(e.mono,["collectUrl","eraseCollectUrl","_loaded"]),comments:{list:e.monoComments.list.filter((function(e){return!!e.userId})).filter((function(e,s){return s<8})).map((function(e){return Object.assign({},(0,j.omit)(e,["replySub"]),{sub:e.sub.filter((function(e){return!!e.userId})).filter((function(e,s){return s<8})).map((function(e){return(0,j.omit)(e,["replySub"])}))})})),pagination:e.monoComments.pagination}})}),1e4)})),e}return(0,c.default)(o)}(h.default)},"./src/screens/home/mono/store/index.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.reflect.construct.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=t(o("./node_modules/@babel/runtime/helpers/createClass.js")),r=t(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=t(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=t(o("./node_modules/@babel/runtime/helpers/inherits.js")),l=t(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=t(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=t(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t(o("./src/screens/home/mono/store/action.ts"));function m(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return(0,l.default)(this,o)}}s.default=function(e){(0,d.default)(o,e);var s=m(o);function o(){var e;(0,r.default)(this,o);for(var t=arguments.length,n=new Array(t),d=0;d<t;d++)n[d]=arguments[d];return e=s.call.apply(s,[this].concat(n)),(0,a.default)((0,c.default)(e),"init",(function(){return e.fetchMonoFromOSS(),e.tinygrail&&e.monoId.includes("character/")?Promise.all([e.fetchMono(),e.fetchChara()]):e.fetchMono()})),(0,a.default)((0,c.default)(e),"onHeaderRefresh",(function(){return e.fetchMono()})),e}return(0,n.default)(o)}(u.default)},"./src/screens/home/mono/store/state.ts":(e,s,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.reflect.construct.js"),o("./node_modules/core-js/modules/es.array.concat.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=t(o("./node_modules/@babel/runtime/helpers/createClass.js")),r=t(o("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=t(o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=t(o("./node_modules/@babel/runtime/helpers/inherits.js")),l=t(o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=t(o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=t(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=o("./node_modules/mobx/dist/mobx.esm.js"),m=t(o("./src/utils/store/index.ts")),p=o("./src/screens/home/mono/store/ds.ts");function j(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;o=Reflect.construct(t,arguments,n)}else o=t.apply(this,arguments);return(0,l.default)(this,o)}}s.default=function(e){(0,d.default)(o,e);var s=j(o);function o(){var e;(0,r.default)(this,o);for(var t=arguments.length,n=new Array(t),d=0;d<t;d++)n[d]=arguments[d];return e=s.call.apply(s,[this].concat(n)),(0,a.default)((0,c.default)(e),"params",void 0),(0,a.default)((0,c.default)(e),"state",(0,u.observable)(p.STATE)),e}return(0,n.default)(o)}(m.default)}}]);