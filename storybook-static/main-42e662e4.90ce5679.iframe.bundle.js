(self.webpackChunkweb=self.webpackChunkweb||[]).push([[506],{"./src/screens/_/index.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(s,"__esModule",{value:!0});var r=t("./src/screens/_/base/index.ts");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===r[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=t("./src/screens/_/icon/index.ts");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===o[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return o[e]}}))}));var n=t("./src/screens/_/item/index.ts");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))}))},"./src/screens/_/item/article/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.date.to-string.js"),t("./node_modules/core-js/modules/es.array.slice.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.Y=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts"),n=(s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemArticle"),new Date);s.Y=String(n.getFullYear()).slice(2,4)},"./src/screens/_/item/article/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/23/22/232224.jpg?r=1675082191&hd=1",title:"会觉的进击的巨人好看与不好看的分割线？",summary:"变身巨人是一次？马莱篇是一次？2000年的谜底是一次？感觉我就像艾伦一样知道墙外还存在其他人类就失望了，当然不同于艾伦的绝望感，而是作为观众失去了兴趣。",nickname:"みたいなっ",userId:"a10100wo",timestamp:1678214315,replies:10,url:"http://bgm.tv/blog/318750"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/72/47/724780.jpg?r=1662563435",title:"若是死后都能相见，你还会惧怕死亡吗？",summary:"开头即结尾，三笠的“行ってらっしゃい”真的是字字诛心。不过还是要挑刺、尽管3D画面做的很棒、但mappa还是一如既往的人物方面不如第一季的wit studio（尽管第二季开始走下坡路了，真的有个梦想就是wit按照第一季的功力做完整部巨人---那样的话无疑也是一部旷世 ...",nickname:"lamenter",userId:"724780",timestamp:1678119734,replies:0,url:"http://bgm.tv/blog/318712"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/76/46/764666.jpg?r=1675303293&hd=1",title:"好",nickname:"tisezy",userId:"764666",timestamp:1678107524,replies:0,url:"http://bgm.tv/subject/topic/24911"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/41/59/415905.jpg?r=1671763059&hd=1",title:"我想了两年没想明白",nickname:"蜡烛泽君",userId:"415905",timestamp:1678043105,replies:48,url:"http://bgm.tv/subject/topic/24904"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/61/30/613037.jpg?r=1673155267&hd=1",title:"你别说，还真有可能风评好转",nickname:"奔涌的沧浪",userId:"613037",timestamp:1677986600,replies:3,url:"http://bgm.tv/subject/topic/24898"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/50/84/508427.jpg?r=1590764581",title:"想问问，看到这里，还有纯动画党么",nickname:"Sh1Ki847",userId:"508427",timestamp:1677944346,replies:33,url:"http://bgm.tv/subject/topic/24890"}]},"./src/screens/_/item/article/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/article/index.tsx"),i=t("./src/screens/_/item/article/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemArticle",component:n.ItemArticle};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemArticle,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemArticle,Object.assign({},e),e.timestamp)}))})})}},"./src/screens/_/item/article/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemArticle=void 0,Object.defineProperty(s,"ItemArticleProps",{enumerable:!0,get:function(){return p.Props}}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/base/index.ts"),u=t("./src/screens/_/item/article/ds.ts"),m=t("./src/screens/_/item/article/styles.ts"),p=t("./src/screens/_/item/article/types.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=s.ItemArticle=(0,c.ob)((function(e){var s=e.navigation,t=e.style,r=e.avatar,c=e.title,p=e.summary,f=e.nickname,_=e.userId,b=e.timestamp,x=e.replies,v=e.url,y=e.event,g=void 0===y?l.EVENT:y,h=(0,m.memoStyles)(),O=(0,d.date)("y-m-d",b);return-1!==O.indexOf(u.Y+"-")&&(O=O.replace(u.Y+"-","")),(0,j.jsx)(n.Component,{id:"item-article","data-key":v,children:(0,j.jsx)(n.Touchable,{style:t,animate:!0,onPress:function(){return(0,d.appNavigate)(v,s,{},g)},children:(0,j.jsxs)(n.Flex,{align:"start",children:[(0,j.jsx)(o.default,{style:h.cover,children:(0,j.jsx)(n.UserStatus,{userId:_,children:(0,j.jsx)(n.Avatar,{navigation:s,userId:_,name:f,src:r,event:g})})}),(0,j.jsxs)(n.Flex.Item,{style:h.item,children:[(0,j.jsx)(n.Text,{lineHeight:16,bold:!0,children:(0,d.HTMLDecode)(c)}),(0,j.jsxs)(n.Flex,{style:i._.mt.xs,children:[(0,j.jsx)(a.Name,{size:12,bold:!0,userId:_,showFriend:!0,children:(0,d.HTMLDecode)(f)}),(0,j.jsxs)(n.Text,{type:"sub",style:i._.ml.xs,size:12,children:["/ ",O,x?" / +"+x:""]})]}),!!p&&(0,j.jsx)(n.Text,{style:i._.mt.sm,size:13,lineHeight:15,numberOfLines:3,children:(0,d.HTMLDecode)(p.replace(/\r\n\r\n/g,"\r\n"))})]})]})})})}),u.COMPONENT);s.default=f},"./src/screens/_/item/article/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{cover:{marginTop:r._.md-4},item:{paddingVertical:r._.md-4,paddingRight:r._.wind,marginLeft:r._.sm}}}))},"./src/screens/_/item/article/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/bangumi-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemBangumiList")},"./src/screens/_/item/bangumi-list/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{subjectId:323651,images:{large:"//lain.bgm.tv/pic/cover/l/4c/ee/323651_gE7eZ.jpg",common:"//lain.bgm.tv/pic/cover/c/4c/ee/323651_gE7eZ.jpg",medium:"//lain.bgm.tv/pic/cover/m/4c/ee/323651_gE7eZ.jpg",small:"//lain.bgm.tv/pic/cover/s/4c/ee/323651_gE7eZ.jpg",grid:"//lain.bgm.tv/pic/cover/g/4c/ee/323651_gE7eZ.jpg"},name:"熊熊勇闯异世界 Punch!"},{subjectId:378862,images:{large:"//lain.bgm.tv/pic/cover/l/7e/ca/378862_24TnR.jpg",common:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",medium:"//lain.bgm.tv/pic/cover/m/7e/ca/378862_24TnR.jpg",small:"//lain.bgm.tv/pic/cover/s/7e/ca/378862_24TnR.jpg",grid:"//lain.bgm.tv/pic/cover/g/7e/ca/378862_24TnR.jpg"},name:"别当欧尼酱了！"},{subjectId:395714,images:{large:"//lain.bgm.tv/pic/cover/l/fd/3c/395714_5EeZx.jpg",common:"//lain.bgm.tv/pic/cover/c/fd/3c/395714_5EeZx.jpg",medium:"//lain.bgm.tv/pic/cover/m/fd/3c/395714_5EeZx.jpg",small:"//lain.bgm.tv/pic/cover/s/fd/3c/395714_5EeZx.jpg",grid:"//lain.bgm.tv/pic/cover/g/fd/3c/395714_5EeZx.jpg"},name:"转生公主与天才千金的魔法革命"},{subjectId:302766,images:{large:"//lain.bgm.tv/pic/cover/l/a5/3c/302766_Vqzpu.jpg",common:"//lain.bgm.tv/pic/cover/c/a5/3c/302766_Vqzpu.jpg",medium:"//lain.bgm.tv/pic/cover/m/a5/3c/302766_Vqzpu.jpg",small:"//lain.bgm.tv/pic/cover/s/a5/3c/302766_Vqzpu.jpg",grid:"//lain.bgm.tv/pic/cover/g/a5/3c/302766_Vqzpu.jpg"},name:"因为太怕痛就全点防御力了。2"},{subjectId:320839,images:{large:"//lain.bgm.tv/pic/cover/l/44/09/320839_3sL1e.jpg",common:"//lain.bgm.tv/pic/cover/c/44/09/320839_3sL1e.jpg",medium:"//lain.bgm.tv/pic/cover/m/44/09/320839_3sL1e.jpg",small:"//lain.bgm.tv/pic/cover/s/44/09/320839_3sL1e.jpg",grid:"//lain.bgm.tv/pic/cover/g/44/09/320839_3sL1e.jpg"},name:"虚构推理 第二季"},{subjectId:349317,images:{large:"//lain.bgm.tv/pic/cover/l/46/88/349317_JKzh6.jpg",common:"//lain.bgm.tv/pic/cover/c/46/88/349317_JKzh6.jpg",medium:"//lain.bgm.tv/pic/cover/m/46/88/349317_JKzh6.jpg",small:"//lain.bgm.tv/pic/cover/s/46/88/349317_JKzh6.jpg",grid:"//lain.bgm.tv/pic/cover/g/46/88/349317_JKzh6.jpg"},name:"新人炼金术师的店铺经营"},{subjectId:329906,images:{large:"//lain.bgm.tv/pic/cover/l/de/4a/329906_hmtVD.jpg",common:"//lain.bgm.tv/pic/cover/c/de/4a/329906_hmtVD.jpg",medium:"//lain.bgm.tv/pic/cover/m/de/4a/329906_hmtVD.jpg",small:"//lain.bgm.tv/pic/cover/s/de/4a/329906_hmtVD.jpg",grid:"//lain.bgm.tv/pic/cover/g/de/4a/329906_hmtVD.jpg"},name:"间谍过家家"},{subjectId:328609,images:{large:"//lain.bgm.tv/pic/cover/l/e2/e7/328609_2EHLJ.jpg",common:"//lain.bgm.tv/pic/cover/c/e2/e7/328609_2EHLJ.jpg",medium:"//lain.bgm.tv/pic/cover/m/e2/e7/328609_2EHLJ.jpg",small:"//lain.bgm.tv/pic/cover/s/e2/e7/328609_2EHLJ.jpg",grid:"//lain.bgm.tv/pic/cover/g/e2/e7/328609_2EHLJ.jpg"},name:"孤独摇滚！"},{subjectId:331445,images:{large:"//lain.bgm.tv/pic/cover/l/ba/28/331445_cUsfp.jpg",common:"//lain.bgm.tv/pic/cover/c/ba/28/331445_cUsfp.jpg",medium:"//lain.bgm.tv/pic/cover/m/ba/28/331445_cUsfp.jpg",small:"//lain.bgm.tv/pic/cover/s/ba/28/331445_cUsfp.jpg",grid:"//lain.bgm.tv/pic/cover/g/ba/28/331445_cUsfp.jpg"},name:"少女手工"},{subjectId:385541,images:{large:"//lain.bgm.tv/pic/cover/l/63/c9/385541_Q3dp6.jpg",common:"//lain.bgm.tv/pic/cover/c/63/c9/385541_Q3dp6.jpg",medium:"//lain.bgm.tv/pic/cover/m/63/c9/385541_Q3dp6.jpg",small:"//lain.bgm.tv/pic/cover/s/63/c9/385541_Q3dp6.jpg",grid:"//lain.bgm.tv/pic/cover/g/63/c9/385541_Q3dp6.jpg"},name:"PUI PUI 天竺鼠车车 驾校篇"},{subjectId:290980,images:{large:"//lain.bgm.tv/pic/cover/l/64/5a/290980_Jju6q.jpg",common:"//lain.bgm.tv/pic/cover/c/64/5a/290980_Jju6q.jpg",medium:"//lain.bgm.tv/pic/cover/m/64/5a/290980_Jju6q.jpg",small:"//lain.bgm.tv/pic/cover/s/64/5a/290980_Jju6q.jpg",grid:"//lain.bgm.tv/pic/cover/g/64/5a/290980_Jju6q.jpg"},name:"向山进发 Next Summit"},{subjectId:351712,images:{large:"//lain.bgm.tv/pic/cover/l/62/53/351712_8QlFI.jpg",common:"//lain.bgm.tv/pic/cover/c/62/53/351712_8QlFI.jpg",medium:"//lain.bgm.tv/pic/cover/m/62/53/351712_8QlFI.jpg",small:"//lain.bgm.tv/pic/cover/s/62/53/351712_8QlFI.jpg",grid:"//lain.bgm.tv/pic/cover/g/62/53/351712_8QlFI.jpg"},name:"名侦探柯南 犯人犯泽先生"},{subjectId:339326,images:{large:"//lain.bgm.tv/pic/cover/l/1a/75/339326_v466V.jpg",common:"//lain.bgm.tv/pic/cover/c/1a/75/339326_v466V.jpg",medium:"//lain.bgm.tv/pic/cover/m/1a/75/339326_v466V.jpg",small:"//lain.bgm.tv/pic/cover/s/1a/75/339326_v466V.jpg",grid:"//lain.bgm.tv/pic/cover/g/1a/75/339326_v466V.jpg"},name:"异世界舅舅"},{subjectId:349084,images:{large:"//lain.bgm.tv/pic/cover/l/df/b7/349084_N5Zvo.jpg",common:"//lain.bgm.tv/pic/cover/c/df/b7/349084_N5Zvo.jpg",medium:"//lain.bgm.tv/pic/cover/m/df/b7/349084_N5Zvo.jpg",small:"//lain.bgm.tv/pic/cover/s/df/b7/349084_N5Zvo.jpg",grid:"//lain.bgm.tv/pic/cover/g/df/b7/349084_N5Zvo.jpg"},name:"影宅 2nd Season"},{subjectId:333664,images:{large:"//lain.bgm.tv/pic/cover/l/41/49/333664_d4Py9.jpg",common:"//lain.bgm.tv/pic/cover/c/41/49/333664_d4Py9.jpg",medium:"//lain.bgm.tv/pic/cover/m/41/49/333664_d4Py9.jpg",small:"//lain.bgm.tv/pic/cover/s/41/49/333664_d4Py9.jpg",grid:"//lain.bgm.tv/pic/cover/g/41/49/333664_d4Py9.jpg"},name:"相合之物"}]},"./src/screens/_/item/bangumi-list/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/bangumi-list/index.tsx"),i=t("./src/screens/_/item/bangumi-list/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemBangumiList",component:n.ItemBangumiList};(s.Item=function(e){return(0,d.jsx)(n.ItemBangumiList,Object.assign({},e))}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookGrid,{space:!0,children:i.list.map((function(e){return(0,d.jsx)(n.ItemBangumiList,Object.assign({},e),e.subjectId)}))})})}},"./src/screens/_/item/bangumi-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemBangumiList=void 0,Object.defineProperty(s,"ItemBangumiListProps",{enumerable:!0,get:function(){return p.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/components/cover/utils.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/_/item/bangumi-list/ds.ts"),m=t("./src/screens/_/item/bangumi-list/styles.ts"),p=t("./src/screens/_/item/bangumi-list/types.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=s.ItemBangumiList=(0,c.ob)((function(e){var s=e.navigation,t=e.style,r=e.subjectId,c=e.image,u=e.name,p=e.event,f=void 0===p?a.EVENT:p,_=(0,m.memoStyles)(),b=_.item.width;return(0,j.jsx)(o.Component,{id:"item-bangumi-list","data-key":r,style:(0,d.stl)(_.item,t),children:(0,j.jsxs)(o.Touchable,{animate:!0,scale:.9,onPress:function(){var e=f.id,t=f.data,o=void 0===t?{}:t;(0,l.t)(e,Object.assign({to:"Subject",subjectId:r},o)),s.push("Subject",{subjectId:r,_cn:u,_image:(0,n.getCoverSrc)(c,b)})},children:[(0,j.jsx)(o.Cover,{size:b,src:c,radius:!0,cdn:!(0,d.x18)(r)}),(0,j.jsx)(o.Text,{style:i._.mt.sm,size:11,bold:!0,numberOfLines:3,children:(0,d.HTMLDecode)(u)})]})})}),u.COMPONENT);s.default=f},"./src/screens/_/item/bangumi-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.portrait(5,7),s=r._.grid(e),t=s.width,o=s.marginLeft;return{item:{width:t,marginBottom:r._.md,marginLeft:o}}}))},"./src/screens/_/item/bangumi-list/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/blog/btn-popover/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DATA_BOOKMARKS_UNSAVE=s.DATA_BOOKMARKS_SAVED=void 0;s.DATA_BOOKMARKS_UNSAVE=["加入书签"],s.DATA_BOOKMARKS_SAVED=["移出书签"]},"./src/screens/_/item/blog/btn-popover/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),c=t("./src/screens/_/base/index.ts"),l=t("./src/screens/_/item/blog/btn-popover/ds.ts"),a=t("./src/screens/_/item/blog/btn-popover/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.id,t=e.title,r=d.HOST+"/blog/"+s,i=n.rakuenStore.bookmarksSaved(r);return(0,u.jsx)(c.Popover,{style:a.styles.touch,data:i?l.DATA_BOOKMARKS_SAVED:l.DATA_BOOKMARKS_UNSAVE,onSelect:function(){n.rakuenStore.toggleBookmarks(r,t)},children:(0,u.jsxs)(o.Flex,{style:a.styles.body,justify:"end",children:[i&&(0,u.jsx)(o.Iconfont,{style:n._.mr.md,name:"md-bookmark-outline",size:20}),(0,u.jsx)(o.Iconfont,{name:"md-more-vert",size:20})]})})}))},"./src/screens/_/item/blog/btn-popover/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{paddingLeft:r._.sm,marginTop:-4,marginRight:-4},body:{minWidth:28,height:28}})},"./src/screens/_/item/blog/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemBlog")},"./src/screens/_/item/blog/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319726",cover:"//lain.bgm.tv/pic/user/l/000/53/46/534642.jpg?r=1672395278&hd=1",title:"性转和权力",content:"你的名字。中，泷借着三叶的身体展现男子力。\n而举例来说，Onimai 之中得到了女性身体的真 ...",username:"だるくvan",time:"1小时23分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319724",cover:"//lain.bgm.tv/pic/user/l/000/53/46/534642.jpg?r=1672395278&hd=1",title:"口音",content:"Suzume 的口音好难听。要么是口音本身难听，要么是声优做得不到位\n还是三叶的口音好听，像 ...",username:"だるくvan",time:"1小时47分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319723",cover:"//lain.bgm.tv/pic/cover/s/7c/ce/1048_3JCz0.jpg",title:"...",content:"你不如去鲨了我 (+0)...",username:"荒荒子",subject:"君が望む永遠",time:"4小时30分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319722",cover:"//lain.bgm.tv/pic/cover/s/d9/03/362577_Ku9z8.jpg",title:"恭祝诚哥再创新高",content:"铃芽之旅超过你的名字，创国内引进日影票房记录 (+1)...",username:"古道边",subject:"すずめの戸締まり",time:"5小时42分钟前",replies:"+1",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319717",cover:"//lain.bgm.tv/pic/cover/s/9e/4b/402223_xN4rh.jpg",title:"期待第四季OVA",content:"我要看精灵小姐涩涩！ (+0)...",username:"沧水",subject:"ダンジョンに出会いを求めるのは間違っているだろうか Ⅳ 深章 厄災編",time:"8小时30分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319715",cover:"//lain.bgm.tv/pic/cover/s/c9/1b/407713_jHaH4.jpg",title:"2023年还整这一出",content:"属于是吃二手答辩都吃不到热的，看看隔壁打A看管人脑子坏掉的赤坂是如何做的 ...",username:"逆天酱",subject:"絆のアリル",time:"9小时42分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319714",cover:"//lain.bgm.tv/pic/photo/l/a4/b0/517386_yE3Du.jpg",title:"SaGa Frontier 1：相隔十年又通了一条线",content:"2021年通关第六个游戏 Saga Frontier1（2021年7月31日）\nSF1我在2001年的时候曾经用PSP ...",username:"银河煤煤",time:"10小时2分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319712",cover:"//lain.bgm.tv/pic/photo/l/d8/d5/603159_88wT8.jpg",title:"林一蹴的动画日记VOL.10 《すずめの戸締まり》",content:"坦白的说，我认为本片是新海诚最没有想法的一部作品。在铃芽之旅当中你能看到新海诚的大 ...",username:"林一蹴",time:"10小时7分钟前",replies:"+1",tags:[]}]},"./src/screens/_/item/blog/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/blog/index.tsx"),i=t("./src/screens/_/item/blog/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemBlog",component:n.ItemBlog};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemBlog,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemBlog,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/blog/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.join.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemBlog=void 0,Object.defineProperty(s,"ItemBlogProps",{enumerable:!0,get:function(){return j.Props}}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=r(t("./src/screens/_/item/blog/btn-popover/index.tsx")),m=t("./src/screens/_/item/blog/ds.ts"),p=t("./src/screens/_/item/blog/styles.ts"),j=t("./src/screens/_/item/blog/types.ts"),f=t("./node_modules/react/jsx-runtime.js"),_=s.ItemBlog=(0,c.obc)((function(e,s){var t=e.style,r=e.id,c=e.cover,m=e.title,j=e.content,_=e.username,b=e.subject,x=e.typeCn,v=e.time,y=e.replies,g=e.tags,h=void 0===g?[]:g,O=e.event,S=void 0===O?a.EVENT:O,T=s.navigation,P=(0,p.memoStyles)(),I=i.discoveryStore.blogReaded(r),M=[];_&&M.push(_),b&&M.push((0,d.findSubjectCn)(b,r)),v&&M.push(v);var C=function(){var e=S.id,s=S.data;(0,l.t)(e,Object.assign({to:"Blog",blogId:r},s)),i.discoveryStore.updateBlogReaded(r),T.push("Blog",{blogId:r,_title:m})};return(0,f.jsx)(n.Component,{id:"item-blog","data-key":r,children:(0,f.jsx)(o.default,{style:(0,d.stl)(P.container,t,I&&P.readed),children:(0,f.jsxs)(n.Flex,{style:P.wrap,align:"start",children:[!!c&&(0,f.jsx)(o.default,{style:P.imgContainer,children:(0,f.jsx)(n.Cover,{src:c,width:a.IMG_WIDTH_SM,height:a.IMG_HEIGHT_SM,radius:!0,type:x})}),(0,f.jsxs)(n.Flex.Item,{children:[(0,f.jsxs)(n.Flex,{align:"start",children:[(0,f.jsx)(n.Flex.Item,{children:(0,f.jsxs)(n.Touchable,{onPress:C,children:[(0,f.jsxs)(n.Text,{size:14,numberOfLines:2,bold:!0,children:[(0,d.HTMLDecode)(m),"+0"!==y&&(0,f.jsxs)(n.Text,{size:12,type:"main",lineHeight:14,bold:!0,children:["  ",y]})]}),!!M.length&&(0,f.jsx)(n.Text,{style:i._.mt.xs,type:"sub",size:12,bold:!0,children:(0,d.HTMLDecode)(M.join(" · "))})]})}),(0,f.jsx)(u.default,{id:r,title:m})]}),(0,f.jsx)(n.Touchable,{style:i._.mt.sm,onPress:C,children:(0,f.jsx)(n.Text,{size:13,lineHeight:15,numberOfLines:4,children:(0,d.HTMLDecode)(j)})}),!!h.length&&(0,f.jsxs)(n.Flex,{style:i._.mt.md,children:[(0,f.jsx)(n.Flex.Item,{}),(0,f.jsxs)(n.Text,{style:(0,d.stl)(P.tags,I&&P.tagsBorder),size:13,children:["tags: ","string"==typeof h?h:h.join(" ")]})]})]})]})})})}),m.COMPONENT);s.default=_},"./src/screens/_/item/blog/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind},readed:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)},imgContainer:{width:o.IMG_WIDTH_SM,marginRight:r._._wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},tags:{paddingVertical:6,paddingHorizontal:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:r._.select(r._.hairlineWidth,0),borderColor:r._.colorBorder,borderRadius:r._.radiusXs,overflow:"hidden"},tagsBorder:{borderWidth:r._.hairlineWidth,borderColor:r._.select("rgba(0, 0, 0, 0.16)","rgba(255, 255, 255, 0.16)")}}}))},"./src/screens/_/item/blog/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/catalog/covers/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/screens/_/item/catalog/ds.ts"),l=t("./src/screens/_/item/catalog/covers/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.list,t=e.total,r=void 0===t?0:t,d=(0,l.memoStyles)();return(0,a.jsxs)(o.default,{style:d.catalog,children:[(0,a.jsx)(o.default,{style:[d.catalogLine,d.catalogLevel2,{width:c.CATALOG_WIDTH,height:c.CATALOG_WIDTH-15}]}),(0,a.jsx)(o.default,{style:[d.catalogLine,d.catalogLevel1,{width:c.CATALOG_WIDTH,height:c.CATALOG_WIDTH-7}]}),(0,a.jsxs)(n.Flex,{style:d.thumbs,align:"start",wrap:"wrap",children:[(0,a.jsx)(o.default,{style:[d.placeholder,d.placeholderTopRight],pointerEvents:"none"}),(0,a.jsx)(o.default,{style:[d.placeholder,d.placeholderBottomLeft],pointerEvents:"none"}),s.map((function(e){return(0,a.jsx)(n.Cover,{size:c.WIDTH,src:e.image,placeholder:!1,cdn:!(0,i.x18)(e.id)},e.id)})),!!s.length&&(0,a.jsx)(n.Flex,{style:d.num,justify:"center",align:"center",children:(0,a.jsxs)(n.Text,{size:13,bold:!0,children:["+",r||s.length]})})]})]})}))},"./src/screens/_/item/catalog/covers/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/catalog/ds.ts");s.memoStyles=r._.memoStyles((function(){return{catalog:{width:o.CATALOG_WIDTH,height:o.CATALOG_WIDTH},num:{width:o.WIDTH,height:o.WIDTH},catalogLine:{position:"absolute",right:0,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:1,borderRadius:2,borderColor:r._.colorBorder},catalogLevel1:{zIndex:2,top:4,marginRight:-7},catalogLevel2:{zIndex:1,top:8,marginRight:-12},thumbs:{position:"absolute",zIndex:3,top:0,left:0,width:o.CATALOG_WIDTH+2,height:o.CATALOG_WIDTH+2,backgroundColor:r._.select(r._.colorPlain,r._.colorBg),borderWidth:1,borderColor:r._.colorBorder,borderRadius:3,overflow:"hidden"},placeholder:{position:"absolute",width:o.WIDTH,height:o.WIDTH,backgroundColor:r._.select(r._.colorBg,r._.colorDarkModeLevel1)},placeholderTopRight:{top:0,right:0},placeholderBottomLeft:{bottom:0,left:0}}}))},"./src/screens/_/item/catalog/desc/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/screens/_/item/catalog/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.navigation,t=e.userId,r=e.avatar,d=e.name,a=e.date,u=e.event;return(0,l.jsxs)(n.Flex,{style:i._.mt.md,children:[(0,l.jsx)(o.default,{style:i._.mr.sm,children:(0,l.jsx)(n.UserStatus,{userId:t,children:(0,l.jsx)(n.Avatar,{navigation:s,size:c.AVATAR_WIDTH,userId:t,name:d,src:r,event:u},r)})}),(0,l.jsxs)(n.Flex.Item,{children:[!!d&&(0,l.jsx)(n.Text,{style:i._.mb.xxs,size:12,bold:!0,numberOfLines:1,children:d}),!!a&&(0,l.jsx)(n.Text,{size:10,type:"sub",children:a})]})]})}))},"./src/screens/_/item/catalog/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.WIDTH=s.ITEM_HEIGHT=s.COMPONENT=s.CATALOG_WIDTH=s.AVATAR_WIDTH=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/screens/_/item/ds.ts"),i=(s.COMPONENT=(0,o.rc)(n.COMPONENT,"ItemCatalog"),s.ITEM_HEIGHT=176,s.WIDTH=Math.floor(Math.min(r._.window.contentWidth/4,r._.r(72))));s.CATALOG_WIDTH=2*i,s.AVATAR_WIDTH=r._.r(28)},"./src/screens/_/item/catalog/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{name:"优莉雅",title:"2023年4月（共54部）",time:"创建于:2023-4-4 14:00",isUser:!0,hideScore:!1,detail:{list:[{id:"422505",image:"//lain.bgm.tv/pic/cover/c/e6/64/422505_M6ePf.jpg",title:"ちびゴジラの逆襲",type:"动画",info:"2023年4月1日 / 新海岳人 / 坂崎千春",comment:"小哥斯拉的逆袭",order:"0"},{id:"394784",image:"//lain.bgm.tv/pic/cover/c/41/c3/394784_6Zqee.jpg",title:"MIX MEISEI STORY 2ND SEASON ～二度目の夏、空の向こうへ～",type:"动画",info:"2023年4月1日 / 神谷智大 / あだち充「MIX」（小学館「ゲッサン」連載中） / 牧孝雄",comment:"MIX：明青故事 第二季 ～第二次的夏天，向着天空的另一方～",order:"0"},{id:"404804",image:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",title:"天国大魔境",type:"动画",info:"2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛",comment:"天国大魔境",isCollect:!0,order:"0"},{id:"325808",image:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_UUcCc.jpg",title:"地獄楽",type:"动画",info:"2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣",comment:"地狱乐",order:"0"}],title:"2023年4月（共54部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"0/54",nickname:"优莉雅",userId:"lilyurey",time:"2023-4-4 14:00",collect:"5",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/44079/collect?gh=7a301ee1",byeUrl:"",_loaded:1680641119}},{name:"优莉雅",title:"2023年1月（共59部）",time:"创建于:2023-1-9 16:06",isUser:!0,hideScore:!1,detail:{list:[{id:"395782",image:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",title:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",type:"动画",info:"2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭",comment:"JOJO的奇妙冒险 石之海 Part.3 | B站",order:"0"},{id:"405990",image:"//lain.bgm.tv/pic/cover/c/03/55/405990_R99SD.jpg",title:"LUPIN ZERO ルパンゼロ",type:"动画",info:"2022年12月16日 / 酒向大輔 / モンキー・パンチ / 田口麻美；副人物设定：末永宏一",comment:"鲁邦 零",order:"0"},{id:"402740",image:"//lain.bgm.tv/pic/cover/c/77/29/402740_E164d.jpg",title:"極主夫道 シーズン2",type:"动画",info:"2023年1月1日 / 今千秋 / おおのこうすけ『極主夫道』（新潮社「くらげバンチ」連載）",comment:"极主夫道 第二季",order:"0"},{id:"395714",image:"//lain.bgm.tv/pic/cover/c/fd/3c/395714_5EeZx.jpg",title:"転生王女と天才令嬢の魔法革命",type:"动画",info:"2023年1月4日 / 玉木慎吾 / 鴉ぴえろ「転生王女と天才令嬢の魔法革命」(ファンタジア文庫刊) / 井出直美；副人物设定：前田恭佑",comment:"转生公主与天才千金的魔法革命",isCollect:!0,order:"0"}],title:"2023年1月（共59部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"1/59",nickname:"优莉雅",userId:"lilyurey",time:"2023-1-9 16:06",collect:"28",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:2,joinUrl:"/index/42153/collect?gh=7a301ee1",byeUrl:"",_loaded:1680639822}},{name:"优莉雅",title:"2022年10月（共56部）",time:"创建于:2022-10-8 16:31",isUser:!0,hideScore:!1,detail:{list:[{id:"375913",image:"//lain.bgm.tv/pic/cover/c/84/a6/375913_ApBCz.jpg",title:"ジョジョの奇妙な冒険 ストーンオーシャン 第2クール",type:"动画",info:"2022年10月7日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭",comment:"JOJO的奇妙冒险 石之海 Part.2 | B站",order:"0"},{id:"396443",image:"//lain.bgm.tv/pic/cover/c/17/73/396443_l164w.jpg",title:"デュエル・マスターズWIN",type:"动画",info:"2022年9月4日 / 鈴木裕輔 / 越貴文",comment:"决斗大师WIN",order:"0"},{id:"309311",image:"//lain.bgm.tv/pic/cover/c/39/83/309311_dJU58.jpg",title:"Cyberpunk: Edgerunners",type:"动画",info:"2022年9月13日 / 今石洋之 / CD Projekt ( Cyberpunk 2077, set in a universe created by Mike Pondsmith) / 吉成曜、（副人物设定）金子雄人、芳垣祐介",comment:"赛博朋克：边缘行者",order:"0"},{id:"345980",image:"//lain.bgm.tv/pic/cover/c/39/06/345980_zE5aQ.jpg",title:"四畳半タイムマシンブルース",type:"动画",info:"2022年9月14日 / 夏目真悟 / 「四畳半タイムマシンブルース」森見登美彦著、上田誠原案（KADOKAWA刊） / 伊東伸高、西垣庄子",comment:"四叠半时光机布鲁斯 | B站",order:"0"}],title:"2022年10月（共56部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"0/56",nickname:"优莉雅",userId:"lilyurey",time:"2022-10-8 16:31",collect:"35",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/40793/collect?gh=7a301ee1",byeUrl:"",_loaded:1680641130}},{name:"优莉雅",title:"2022年7月（共47部）",time:"创建于:2022-7-6 14:30",isUser:!0,hideScore:!1,detail:{list:[{id:"277037",image:"//lain.bgm.tv/pic/cover/c/29/be/277037_hJt5Z.jpg",title:"スプリガン",type:"动画",info:"2022年6月18日 / 小林寛 / たかしげ宙、皆川亮二「スプリガン」（小学館「少年サンデーコミックス」刊） / 半田修平、副人物设定：内藤直",comment:"遗迹守护者",order:"0"},{id:"315745",image:"//lain.bgm.tv/pic/cover/c/a6/f0/315745_n981m.jpg",title:"彼女、お借りします 第2期",type:"动画",info:"2022年7月1日 / 古賀一臣 / 宮島礼吏（講談社「週刊少年マガジン」連載） / 平山寛菜",comment:"租借女友 第二季",isCollect:!0,order:"0"},{id:"359985",image:"//lain.bgm.tv/pic/cover/c/88/ce/359985_wI8c7.jpg",title:"神クズ☆アイドル",type:"动画",info:"2022年7月1日 / 福岡大生 / いそふらぼん肘樹（月刊Comic ZERO-SUM/一迅社 刊） / 細田沙織",comment:"神渣☆偶像",order:"0"},{id:"381157",image:"//lain.bgm.tv/pic/cover/c/9d/f2/381157_zsZRs.jpg",title:"iiiあいすくりん2",type:"动画",info:"2022年7月2日 / 松村樹里亜 / シンエイ動画",comment:"冰冰冰淇淋君 第二季",order:"0"}],title:"2022年7月（共47部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"2/47",nickname:"优莉雅",userId:"lilyurey",time:"2022-7-6 14:30",collect:"22",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/39516/collect?gh=7a301ee1",byeUrl:"",_loaded:1680639827}}]},"./src/screens/_/item/catalog/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/catalog/index.tsx"),i=t("./src/screens/_/item/catalog/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemCatalog",component:n.ItemCatalog};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemCatalog,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemCatalog,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/catalog/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemCatalog=void 0,Object.defineProperty(s,"ItemCatalogProps",{enumerable:!0,get:function(){return _.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/base/index.ts"),u=r(t("./src/screens/_/item/catalog/covers/index.tsx")),m=r(t("./src/screens/_/item/catalog/desc/index.tsx")),p=r(t("./src/screens/_/item/catalog/title/index.tsx")),j=t("./src/screens/_/item/catalog/ds.ts"),f=t("./src/screens/_/item/catalog/styles.ts"),_=t("./src/screens/_/item/catalog/types.ts"),b=t("./node_modules/react/jsx-runtime.js"),x=s.ItemCatalog=(0,d.obc)((function(e,s){var t,r,d,_,x,v,y=e.event,g=void 0===y?l.EVENT:y,h=e.index,O=e.id,S=e.name,T=e.userName,P=e.title,I=e.info,M=e.book,C=e.anime,E=e.music,N=e.game,k=e.real,w=e.time,A=e.last,D=e.isUser,R=e.hideScore,L=void 0!==R&&R,F=e.filter,H=e.detail,B=e.children,z=s.navigation;if(!(D||M||C||E||N||k))return null;var V,W=(0,f.memoStyles)(),q=H||n.discoveryStore.catalogDetail(O),U=n.discoveryStore.catalogDetailFromOSS(O),G=V=q._loaded&&q.list.length?q:U._loaded?U:q,K=G.list,Y=G.collect,Z=G.content,J=G.avatar,X=G.userId,$=G.time,Q=J||(null==(t=V)?void 0:t.avatar),ee=X||(null==(r=V)?void 0:r.userId),se=(0,i.HTMLDecode)(S||T||(null==(d=V)?void 0:d.nickname)),te=Y||(null==(_=V)?void 0:_.collect),re=(0,i.HTMLDecode)(P||(null==(x=V)?void 0:x.title)),oe=(0,i.HTMLDecode)((0,i.removeHTMLTag)(I||Z||(null==(v=V)?void 0:v.desc)||(null==U?void 0:U.info),!1)).replace(/\n/g," ");"undefined"===oe&&(oe="");var ne="",ie="";if(A)ne="创建于 "+A;else if(w&&!w.includes("创建于"))ne="最后更新 "+(0,i.lastDate)((0,i.getTimestamp)(w)),ie=w;else if($){var de;ne="创建于 "+(null==(de=(0,i.lastDate)((0,i.getTimestamp)($)))?void 0:de.slice(0,10))}return(0,b.jsx)(o.Component,{id:"item-catalog","data-key":O,children:(0,b.jsxs)(o.Touchable,{style:W.container,animate:!0,onPress:function(){z.push("CatalogDetail",{catalogId:O,_lastUpdate:ie,_hideScore:L}),(0,c.t)(g.id,Object.assign({to:"CatalogDetail",catalogId:O},g.data))},children:[(0,b.jsxs)(o.Flex,{style:W.wrap,align:"start",children:[(0,b.jsx)(a.InView,{style:W.inView,y:j.ITEM_HEIGHT*h+1,children:(0,b.jsx)(u.default,{list:K.filter((function(e,s){return s<3})).map((function(e){return{id:e.id,image:e.image}})),total:Math.max((null==U?void 0:U.total)||0,(null==K?void 0:K.length)||0)})}),(0,b.jsx)(o.Flex.Item,{children:(0,b.jsxs)(o.Flex,{style:W.content,direction:"column",justify:"between",align:"start",children:[(0,b.jsx)(p.default,{title:re,desc:oe,collect:te,filter:F}),(0,b.jsx)(m.default,{navigation:z,userId:ee,avatar:Q,name:se,date:ne,event:g})]})})]}),B]})})}),j.COMPONENT);s.default=x},"./src/screens/_/item/catalog/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/catalog/ds.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:o.CATALOG_WIDTH,minHeight:o.CATALOG_WIDTH},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:o.CATALOG_WIDTH,paddingVertical:r._.xs,paddingLeft:r._.r(24)}}}))},"./src/screens/_/item/catalog/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.title,t=e.desc,r=e.collect,d=e.filter;return(0,c.jsxs)(o.default,{style:i._.container.block,children:[(0,c.jsx)(n.Highlight,{bold:!0,numberOfLines:3,value:d,t2s:!1,children:s}),!!t&&t!==s&&(0,c.jsx)(n.Text,{style:i._.mt.sm,size:11,numberOfLines:(r?2:3)-(s.length>=40?1:0),children:t}),!!r&&(0,c.jsxs)(n.Text,{style:i._.mt.xs,size:10,lineHeight:14,type:"sub",bold:!0,children:[r," 人收藏"]})]})}))},"./src/screens/_/item/catalog/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/character/actors/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/screens/_/base/index.ts"),a=t("./src/screens/_/item/character/actors/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.navigation,t=e.actors,r=e.y,d=e.event;return(0,u.jsx)(o.Flex,{style:n._.mt.sm,wrap:"wrap",children:t.map((function(e){var t=(0,i.cnjp)(e.nameCn,e.name),m=(0,i.cnjp)(e.name,e.nameCn);return(0,u.jsx)(o.Touchable,{style:a.styles.touch,animate:!0,onPress:function(){var t=String(e.id).includes("person")?e.id:"person/"+e.id;s.push("Mono",{monoId:t}),(0,c.t)(d.id,{to:"Mono",monoId:t})},children:(0,u.jsxs)(o.Flex,{children:[(0,u.jsx)(l.InView,{style:a.styles.inView,y:r,children:(0,u.jsx)(o.Cover,{src:e.cover,size:n._.r(32),radius:!0})}),(0,u.jsxs)(o.Flex.Item,{style:n._.ml.sm,children:[(0,u.jsx)(o.Text,{size:12,numberOfLines:1,bold:!0,lineHeight:13,children:t}),!!m&&m!==t&&(0,u.jsx)(o.Text,{style:n._.mt.xxs,size:11,type:"sub",numberOfLines:1,children:m})]})]})},e.id)}))})}))},"./src/screens/_/item/character/actors/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{minWidth:128,marginTop:r._.sm,borderRadius:r._.radiusSm,overflow:"hidden"},inView:{minWidth:r._.r(32),minHeight:r._.r(32)}})},"./src/screens/_/item/character/content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/base/index.ts"),c=t("./src/screens/_/item/character/content/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.cn,t=e.jp,r=e.replies,i=e.info,a=e.position,u=e.onPress;return(0,l.jsxs)(o.Touchable,{style:c.styles.touch,animate:!0,onPress:u,children:[(0,l.jsx)(o.Flex,{style:n._.container.block,align:"start",children:(0,l.jsx)(o.Flex.Item,{style:n._.mr.md,children:(0,l.jsxs)(o.Text,{size:15,numberOfLines:2,bold:!0,children:[s,!!t&&t!==s&&(0,l.jsxs)(o.Text,{type:"sub",size:11,lineHeight:15,bold:!0,children:[" ",t]}),!!r&&(0,l.jsxs)(o.Text,{type:"main",size:11,lineHeight:15,bold:!0,children:["  ",r.replace(/\(|\)/g,"")]})]})})}),(0,l.jsxs)(o.Flex,{style:n._.mt.sm,wrap:"wrap",children:[a.map((function(e){return(0,l.jsx)(d.Tag,{style:c.styles.position,value:e},e)})),!!i&&(0,l.jsx)(o.Text,{size:12,children:i})]})]})}))},"./src/screens/_/item/character/content/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{paddingLeft:r._.xs,marginLeft:-r._.xs,borderRadius:r._.radiusSm,overflow:"hidden"},position:{marginTop:r._.sm,marginRight:r._.sm}})},"./src/screens/_/item/character/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.IMG_WIDTH=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,o.rc)(n.COMPONENT,"ItemCharacter"),s.IMG_WIDTH=r._.r(56),s.ITEM_HEIGHT=158},"./src/screens/_/item/character/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{type:"character",id:"64638",cover:"//lain.bgm.tv/pic/crt/g/94/bd/64638_crt_9yPuK.jpg",name:"グリッドマン",nameCn:"古立特",replies:"+19",info:"性别 男",actors:[{id:"3967",cover:"//lain.bgm.tv/pic/crt/s/ad/f7/3967_prsn_XC09F.jpg",name:"绿川光",nameCn:"緑川光"}],positions:[],position:"主角"},{type:"character",id:"64636",cover:"//lain.bgm.tv/pic/crt/g/87/b3/64636_crt_p2pPp.jpg",name:"響裕太",nameCn:"响裕太",replies:"+44",info:"性别 男 / 生日 2003年1月8日 / 血型 AB型 / 身高 160cm / 体重 52kg",actors:[{id:"20006",cover:"//lain.bgm.tv/pic/crt/s/6b/48/20006_prsn_tAC0E.jpg",name:"广濑裕也",nameCn:"広瀬裕也"}],positions:[],position:"主角"},{type:"character",id:"64639",cover:"//lain.bgm.tv/pic/crt/g/4b/84/64639_crt_LQ53Z.jpg",name:"内海将",nameCn:"内海将",replies:"+39",info:"性别 男 / 生日 2002年12月1日 / 血型 O型 / 身高 176cm / 体重 78kg",actors:[{id:"14604",cover:"//lain.bgm.tv/pic/crt/s/8c/e3/14604_prsn_kRPr7.jpg",name:"齐藤壮马",nameCn:"斉藤壮馬"}],positions:[],position:"主角"},{type:"character",id:"64640",cover:"//lain.bgm.tv/pic/crt/g/dd/be/64640_crt_R6tf5.jpg",name:"宝多六花",nameCn:"宝多六花",replies:"+185",info:"性别 女 / 生日 2002年12月5日 / 血型 O型 / 身高 155cm",actors:[{id:"5494",cover:"//lain.bgm.tv/pic/crt/s/50/20/5494_prsn_c9upP.jpg",name:"宫本侑芽",nameCn:"宮本侑芽"}],positions:[],position:"主角"},{type:"character",id:"88133",cover:"//lain.bgm.tv/pic/crt/g/e2/8f/88133_crt_1einY.jpg",name:"麻中蓬",nameCn:"麻中蓬",replies:"+63",info:"性别 男",actors:[{id:"16353",cover:"//lain.bgm.tv/pic/crt/s/d0/70/16353_prsn_O8uZj.jpg",name:"榎木淳弥",nameCn:"榎木淳弥"}],positions:[],position:"主角"},{type:"character",id:"88130",cover:"//lain.bgm.tv/pic/crt/g/55/1d/88130_crt_37H11.jpg",name:"南夢芽",nameCn:"南梦芽",replies:"+94",info:"性别 女",actors:[{id:"34866",cover:"//lain.bgm.tv/pic/crt/s/87/b9/34866_prsn_N4fr2.jpg",name:"若山诗音",nameCn:"若山詩音"}],positions:[],position:"主角"},{type:"character",id:"88134",cover:"//lain.bgm.tv/pic/crt/g/cb/50/88134_crt_Xp0MK.jpg",name:"山中暦",nameCn:"山中历",replies:"+17",info:"性别 男",actors:[{id:"15592",cover:"//lain.bgm.tv/pic/crt/s/66/57/15592_prsn_u1o76.jpg",name:"梅原裕一郎",nameCn:"梅原裕一郎"}],positions:[],position:"主角"},{type:"character",id:"88132",cover:"//lain.bgm.tv/pic/crt/g/50/0f/88132_crt_xxXkB.jpg",name:"飛鳥川ちせ",nameCn:"飞鸟川千濑",replies:"+42",info:"性别 女",actors:[{id:"11485",cover:"//lain.bgm.tv/pic/crt/s/e9/02/11485_prsn_2UXX0.jpg",name:"安济知佳",nameCn:"安済知佳"}],positions:[],position:"主角"}]},"./src/screens/_/item/character/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/character/index.tsx"),i=t("./src/screens/_/item/character/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemCharacter",component:n.ItemCharacter};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemCharacter,Object.assign({},e))})})}).args=i.list[3];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemCharacter,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/character/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemCharacter=void 0,Object.defineProperty(s,"ItemCharacterProps",{enumerable:!0,get:function(){return f.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/base/index.ts"),u=r(t("./src/screens/_/item/character/actors/index.tsx")),m=r(t("./src/screens/_/item/character/content/index.tsx")),p=t("./src/screens/_/item/character/ds.ts"),j=t("./src/screens/_/item/character/styles.ts"),f=t("./src/screens/_/item/character/types.ts"),_=t("./node_modules/react/jsx-runtime.js"),b=s.ItemCharacter=(0,d.obc)((function(e,s){var t=e.event,r=void 0===t?l.EVENT:t,d=e.index,f=e.type,b=void 0===f?"character":f,x=e.id,v=e.cover,y=e.name,g=e.nameCn,h=e.replies,O=e.info,S=e.actors,T=void 0===S?[]:S,P=e.positions,I=void 0===P?[]:P,M=e.position,C=e.children,E=s.navigation,N=(0,j.memoStyles)(),k=(0,i.cnjp)(g,y).trim(),w=(0,i.cnjp)(y,g).trim(),A=p.ITEM_HEIGHT*d+1,D=function(){var e=String(x).includes(b)?x:b+"/"+x;E.push("Mono",{monoId:e,_name:k,_jp:w,_image:v,_count:String(h||"").replace("+","")}),(0,c.t)(r.id,{to:"Mono",monoId:e})};return(0,_.jsxs)(o.Component,{id:"item-character","data-key":x,style:N.container,children:[(0,_.jsxs)(o.Flex,{style:N.wrap,align:"start",children:[(0,_.jsx)(a.InView,{style:N.inView,y:A,children:!!v&&(0,_.jsx)(o.Touchable,{animate:!0,scale:.9,onPress:D,children:(0,_.jsx)(o.Cover,{src:v,width:p.IMG_WIDTH,height:p.IMG_WIDTH,radius:!0})})}),(0,_.jsxs)(o.Flex.Item,{style:n._.ml.wind,children:[(0,_.jsx)(m.default,{cn:k,jp:w,replies:h,info:O,position:I.length?I:[M],onPress:D}),(0,_.jsx)(u.default,{navigation:E,actors:T,y:A,event:r})]})]}),C]})}),p.COMPONENT);s.default=b},"./src/screens/_/item/character/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/character/ds.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},inView:{minWidth:o.IMG_WIDTH,minHeight:o.IMG_WIDTH}}}))},"./src/screens/_/item/character/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/collections-grid/collection/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s,t=e.collection,r=e.typeCn,d=e.airtime;if(!t&&!d)return null;var l="icon",a=13;t.includes("过")?(s="md-check",l="warning",a=14):t.includes("在")?(s="ios-star",l="primary"):t.includes("想")?(s="md-favorite",l="main",a=12):t.includes("搁置")?(s="md-visibility-off",l="desc"):t.includes("抛弃")?(s="md-delete-outline",l="desc"):s="ios-star-outline";var u=t;return"音乐"===r&&(u=u.replace("看","听")),"书籍"===r&&(u=u.replace("看","读")),"游戏"===r&&(u=u.replace("看","玩")),(0,c.jsxs)(o.Flex,{style:n._.mt.xs,justify:"center",children:[!!u&&(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:s,size:a,color:n._["color"+(0,i.titleCase)(l)]}),(0,c.jsxs)(o.Text,{size:11,lineHeight:13,type:"sub",bold:!0,align:"center",children:[(0,c.jsx)(o.Text,{size:11,lineHeight:13,type:l,bold:!0,children:u}),!!u&&!!d&&" · ",d]})]})}))},"./src/screens/_/item/collections-grid/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.HIT_SLOP=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/_/item/ds.ts"),d=s.COMPONENT=(0,o.rc)(i.COMPONENT,"ItemCollectionsGrid");s.COMPONENT_MAIN=(0,o.rc)(d),s.HIT_SLOP={top:r._.device(2,4),right:r._.device(4,4),bottom:r._.device(10,4),left:r._.device(4,4)},s.DEFAULT_PROPS={navigation:{},style:{},gridStyles:{},id:0,name:"",nameCn:"",sub:"",cover:"",cdn:!0,score:"",rank:"",typeCn:"",collection:"",userCollection:"",airtime:"",aid:"",wid:"",mid:"",isCollect:!1,isRectangle:!1,event:n.EVENT}},"./src/screens/_/item/collections-grid/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{id:"/subject/296739",name:"ヴィンランド・サガ SEASON 2",nameCn:"冰海战记 第二季",cover:"//lain.bgm.tv/pic/cover/c/a4/16/296739_71dLe.jpg",typeCn:"动画",tip:"24话 / 2023年1月9日 / 籔田修平 / 幸村誠「ヴィンランド・サガ」（講談社『アフタヌーン』連載） / 阿比留隆彦；副人物设定：若狭賢史、辻村幸輝、あべたくじ（阿部卓司）、渡辺慶子、色部美穂、安食圭 ",rank:"186",score:"8.1",total:"(1132人评分)",collection:"",collected:!1},{id:"/subject/425211",name:"かぐや様は告らせたい-ファーストキッスは終わらない-",nameCn:"辉夜大小姐想让我告白-初吻不会结束-",cover:"//lain.bgm.tv/pic/cover/c/ca/79/425211_bPbra.jpg",typeCn:"动画",tip:"4话 / 2023年3月31日 / 畠山守(小俣真一) / 赤坂アカ （集英社「週刊ヤングジャンプ」連載） / 八尋裕子 ",rank:"236",score:"8.1",total:"(664人评分)",collection:"",collected:!1},{id:"/subject/404804",name:"天国大魔境",nameCn:"天国大魔境",cover:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛 ",rank:"277",score:"7.9",total:"(599人评分)",collection:"",collected:!0},{id:"/subject/376739",name:"進撃の巨人 The Final Season 完結編 前編",nameCn:"进击的巨人 最终季 完结篇 前篇",cover:"//lain.bgm.tv/pic/cover/c/4f/33/376739_KMN9x.jpg",typeCn:"动画",tip:"1话 / 2023年3月3日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋 ",rank:"431",score:"7.8",total:"(2003人评分)",collection:"",collected:!0},{id:"/subject/378862",name:"お兄ちゃんはおしまい！",nameCn:"别当欧尼酱了！",cover:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",typeCn:"动画",tip:"12话 / 2023年1月5日 / 藤井慎吾 / ねことうふ（月刊ComicREX／一迅社刊） / 今村亮 ",rank:"563",score:"7.7",total:"(5885人评分)",collection:"",collected:!0},{id:"/subject/362335",name:"グリッドマン ユニバース",nameCn:"古立特宇宙",cover:"//lain.bgm.tv/pic/cover/c/76/b8/362335_VhtRE.jpg",typeCn:"动画",tip:"1话 / 2023年3月24日 / 雨宮哲 / グリッドマン / 坂本勝 ",rank:"565",score:"8.1",total:"(68人评分)",collection:"",collected:!0},{id:"/subject/325587",name:"やはり俺の青春ラブコメはまちがっている。完 OVA",nameCn:"我的青春恋爱物语果然有问题 完 OVA",cover:"//lain.bgm.tv/pic/cover/c/df/fa/325587_P8eCb.jpg",typeCn:"动画",tip:"1话 / 2023年4月27日 / 渡航（小学館「ガガガ文庫」） ",rank:"1302",score:"7.4",total:"(377人评分)",collection:"",collected:!0},{id:"/subject/373247",name:"無職転生Ⅱ～異世界行ったら本気だす～",nameCn:"无职转生 II ～到了异世界就拿出真本事～",cover:"//lain.bgm.tv/pic/cover/c/cf/55/373247_qX53z.jpg",typeCn:"动画",tip:"2023年7月 / 理不尽な孫の手（MFブックス／KADOKAWA刊） ",rank:"1490",score:"7.3",total:"(236人评分)",collection:"",collected:!0},{id:"/subject/395782",name:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",nameCn:"JOJO的奇妙冒险 石之海 Part.3",cover:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",typeCn:"动画",tip:"14话 / 2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭 ",rank:"1886",score:"7.2",total:"(1886人评分)",collection:"",collected:!1},{id:"/subject/401960",name:"にじよん あにめーしょん",nameCn:"虹四动画",cover:"//lain.bgm.tv/pic/cover/c/31/aa/401960_nQcWc.jpg",typeCn:"动画",tip:"15话 / 2023年1月6日 / ほりうちゆうや / 矢立肇；漫画：ミヤコヒト ",rank:"2145",score:"7.1",total:"(520人评分)",collection:"",collected:!1},{id:"/subject/358660",name:"",nameCn:"中国奇谭",cover:"//lain.bgm.tv/pic/cover/c/e2/97/358660_M4986.jpg",typeCn:"动画",tip:"8话 / 2023年1月1日 / 於水（《小妖怪的夏天》），胡睿（《鹅鹅鹅》），杨木（《林林》），刘毛宁（《乡村巴士带走了王孩儿和神仙》），陈莲华、周小琳（《小满》），潘斌（《飞鸟与鱼》），顾杨、刘旷（《小卖部》），徐宁（《玉兔》） / 於水（《小妖怪的夏天》），顾杨（《小卖部》） ",rank:"2193",score:"7.1",total:"(1562人评分)",collection:"",collected:!1},{id:"/subject/325808",name:"地獄楽",nameCn:"地狱乐",cover:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_4OXIC.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣 ",rank:"2205",score:"7.0",total:"(340人评分)",collection:"",collected:!1}]},"./src/screens/_/item/collections-grid/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/collections-grid/index.tsx"),i=t("./src/screens/_/item/collections-grid/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemCollectionsGrid",component:n.ItemCollectionsGrid};(s.Item=function(e){return(0,d.jsx)(n.ItemCollectionsGrid,Object.assign({},e))}).args=i.list[2];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookGrid,{space:!0,children:i.list.map((function(e){return(0,d.jsx)(n.ItemCollectionsGrid,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/collections-grid/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.sub.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemCollectionsGrid=void 0,Object.defineProperty(s,"ItemCollectionsGridProps",{enumerable:!0,get:function(){return l.Props}}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/_/item/collections-grid/item.tsx")),c=t("./src/screens/_/item/collections-grid/ds.ts"),l=t("./src/screens/_/item/collections-grid/types.ts"),a=t("./node_modules/react/jsx-runtime.js"),u=s.ItemCollectionsGrid=(0,i.ob)((function(e){var s=e.navigation,t=e.style,r=e.num,i=void 0===r?3:r,c=e.id,l=e.name,u=e.nameCn,m=e.sub,p=e.cover,j=e.cdn,f=e.score,_=e.rank,b=e.typeCn,x=e.collection,v=e.userCollection,y=e.airtime,g=e.aid,h=e.wid,O=e.mid,S=e.isCollect,T=e.isRectangle,P=e.event;return(0,a.jsx)(d.default,{navigation:s,style:t,gridStyles:o._.grid(i),id:c,name:l,nameCn:u,sub:m,cover:p,cdn:void 0!==j?j:!(0,n.x18)(c),score:f,rank:_,typeCn:b,collection:x,userCollection:v,airtime:y,aid:g,wid:h,mid:O,isCollect:S,isRectangle:T,event:P})}),c.COMPONENT);s.default=u},"./src/screens/_/item/collections-grid/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.sub.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/components/cover/utils.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/screens/_/base/index.ts"),u=r(t("./src/screens/_/item/collections-grid/collection/index.tsx")),m=t("./src/screens/_/item/collections-grid/ds.ts"),p=t("./node_modules/react/jsx-runtime.js"),j=(0,c.memo)((function(e){var s=e.navigation,t=e.style,r=e.gridStyles,c=e.id,j=e.name,f=e.nameCn,_=e.sub,b=e.cover,x=e.cdn,v=e.score,y=e.rank,g=e.typeCn,h=e.collection,O=e.userCollection,S=e.airtime,T=e.aid,P=e.wid,I=e.mid,M=e.isRectangle,C=e.event,E=r.width;return(0,p.jsx)(o.Component,{id:"item-collections-grid","data-key":c,style:(0,d.stl)({width:E,marginBottom:r.marginLeft+i._.xs,marginLeft:r.marginLeft},t),children:(0,p.jsxs)(o.Touchable,{animate:!0,hitSlop:m.HIT_SLOP,onPress:function(){var e=C.id,t=C.data,r=String(c).replace("/subject/","");(0,l.t)(e,Object.assign({to:"Subject",subjectId:r,type:"grid"},t)),s.push("Subject",{subjectId:r,_jp:j,_cn:f,_image:(0,n.getCoverSrc)(b,E),_aid:T,_wid:P,_mid:I,_type:g,_collection:h||O})},children:[(0,p.jsx)(o.Cover,{size:E,height:M?E:r.height,src:b,radius:!0,type:g,cdn:x}),(0,p.jsx)(o.Text,{style:i._.mt.sm,size:12,lineHeight:13,numberOfLines:3,bold:!0,align:"center",children:(0,d.cnjp)(f,j)}),(0,p.jsx)(u.default,{collection:h,typeCn:g,airtime:S}),!!_&&(0,p.jsx)(o.Text,{style:i._.mt.xs,size:11,lineHeight:11,type:"sub",align:"center",bold:!0,numberOfLines:1,children:_}),!!v&&(0,p.jsxs)(o.Flex,{style:i._.mt.sm,justify:"center",children:[(0,p.jsx)(a.Rank,{style:i._.mr.xs,value:y,size:9}),(0,p.jsx)(a.Stars,{value:v,size:9})]})]})})}),m.DEFAULT_PROPS,m.COMPONENT_MAIN);s.default=j},"./src/screens/_/item/collections-grid/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/collections/bottom/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/screens/_/base/index.ts"),a=t("./src/screens/_/item/collections/bottom/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.ob)((function(e){var s,t=e.id,r=e.score,c=e.rank,m=e.total,p=e.simpleStars,j=e.time,f=e.tags,_=e.hideScore,b=e.isDo,x=e.isOnHold,v=e.isDropped,y=e.hasComment,g=!!r;(b||x||v)&&(s=Math.ceil(((0,d.getTimestamp)()-(0,d.getTimestamp)(j))/86400));var h=[];b&&h.push(s+"天"),x&&h.push("搁置"+s+"天"),v&&h.push("抛弃"+s+"天");var O=f.split(" ").filter((function(e){return!!e&&"自己可见"!==e})).filter((function(e,s){return s<4})),S=(0,a.memoStyles)(),T=!_&&!!c,P=!_&&g,I=!_&&!!m,M=!!h.length,C=f.includes("自己可见"),E=i.subjectStore.nsfw(t),N=T||P||I||M,k=C||E,w=!(null==O||!O.length);return N||k||w?(0,u.jsxs)(n.Flex,{style:i._.mt.md,children:[N&&(0,u.jsxs)(u.Fragment,{children:[T&&(0,u.jsx)(l.Rank,{value:c}),P&&(0,u.jsx)(l.Stars,{value:r,simple:p}),I&&(0,u.jsxs)(n.Text,{style:(T||P)&&i._.ml.sm,type:"sub",size:10,children:["(",m,"人评分)"]}),M&&(0,u.jsx)(n.Text,{style:(T||P||I)&&i._.ml.sm,type:"sub",size:11,lineHeight:12,numberOfLines:1,children:h})]}),k&&(0,u.jsxs)(u.Fragment,{children:[N&&(0,u.jsx)(o.default,{style:S.split}),C&&(0,u.jsx)(l.Tag,{children:(0,u.jsx)(n.Iconfont,{name:"md-visibility-off",color:i._.select(i._.colorSub,i._.colorDesc),size:12})}),E&&(0,u.jsx)(l.Tag,{style:C&&i._.ml.sm,value:"R18"})]}),w&&(0,u.jsxs)(u.Fragment,{children:[(N||k)&&(0,u.jsx)(o.default,{style:S.split}),(0,u.jsx)(l.Tags,{value:O})]})]}):y?null:(0,u.jsx)(o.default,{style:i._.mt.md})}))},"./src/screens/_/item/collections/bottom/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{split:{width:3,height:8,marginRight:8,marginLeft:r._.select(7,8),backgroundColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2),borderRadius:2,overflow:"hidden"}}}))},"./src/screens/_/item/collections/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/constants/index.ts"),n=t("./src/screens/_/item/ds.ts"),i=s.COMPONENT=(0,r.rc)(n.COMPONENT,"ItemCollections");s.COMPONENT_MAIN=(0,r.rc)(i),s.DEFAULT_PROPS={navigation:{},styles:{},index:0,inViewY:0,id:0,name:"",nameCn:"",tip:"",rank:"",score:"",total:"",simpleStars:!1,tags:"",comments:"",time:"",collection:"",cover:"",type:"",numberOfLines:2,modify:"",showLabel:!0,hideScore:!1,relatedId:0,isDo:!1,isOnHold:!1,isDropped:!1,isCollect:!1,isCatalog:!1,isEditable:!1,event:o.EVENT,filter:"",showManage:!1,onEdit:o.FROZEN_FN}},"./src/screens/_/item/collections/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{id:"376137",name:"異世界のんびり農家",nameCn:"异世界悠闲农家",tip:"12话 / 2023年1月6日 / 倉谷涼一 / 内藤騎之介「異世界のんびり農家」 / (主)齊藤佳子、(副)五十内裕輔",rank:"",score:"7",simpleStars:!0,tags:"2023年1月 异世界 轻小说改",comments:"",time:"2023-3-26",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/09/1a/376137_OjCOB.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"339326",name:"異世界おじさん",nameCn:"异世界舅舅",tip:"13话 / 2022年7月6日 / 河合滋樹 / 殆ど死んでいる(WebComicアパンダ連載/KADOKAWA刊) / 大田和寛",rank:"",score:"8",simpleStars:!0,tags:"2022年7月 漫画改 异世界",comments:"",time:"2023-3-9",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/1a/75/339326_v466V.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"77476",name:"シドニアの騎士",nameCn:"希德尼娅的骑士",tip:"12话 / 2014年4月10日",rank:"",score:"8",simpleStars:!0,tags:"2014年4月 漫画改",comments:"",time:"2023-3-7",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/57/23/77476_tv6F8.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"163046",name:"迷家-マヨイガ-",nameCn:"迷家",tip:"12话 / 2016年4月1日 / 水島努 / diomedéa・ポニーキャニオン / 井出直美",rank:"",score:"1",simpleStars:!0,tags:"2016年4月 原创 冈田麿里",comments:"补标，这么弱智的番（个人心中最弱智）是不可能看第二次的",time:"2023-2-14",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/c0/fc/163046_YU34C.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"391706",name:"機動戦士ガンダム 水星の魔女 PROLOGUE",nameCn:"机动战士高达 水星的魔女 PROLOGUE",tip:"1话 / 2022-07-14（先行）2022-09-25",rank:"",score:"9",simpleStars:!0,tags:"",comments:"预算拉满",time:"2022-10-17",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/2a/9c/391706_GzNG2.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"342200",name:"異世界薬局",nameCn:"异世界药局",tip:"12话 / 2022年7月10日 / 草川啓造 / 高山理図（MFブックス／KADOKAWA刊） / 松本麻友子；副人物设定：前田恭佑",rank:"",score:"7",simpleStars:!0,tags:"2022年7月 异世界 轻小说改",comments:"",time:"2022-9-28",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/05/43/342200_2hdHa.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"100403",name:"冴えない彼女の育てかた",nameCn:"路人女主的养成方法",tip:"13话 / 2015年1月8日 / 亀井幹太 / 丸戸史明（ファンタジア文庫／株式会社KADOKAWA 富士見書房BC） / 高瀬智章",rank:"",score:"",simpleStars:!0,tags:"2015年1月 轻小说改",comments:"",time:"2022-9-4",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/6b/01/100403_JFsXn.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"331752",name:"進撃の巨人 The Final Season Part.2",nameCn:"进击的巨人 最终季 Part.2",tip:"12话 / 2022年1月9日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋",rank:"",score:"",simpleStars:!0,tags:"2022年1月",comments:"",time:"2022-7-15",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/61/0c/331752_iRPHK.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"330055",name:"史上最強の大魔王、村人Aに転生する",nameCn:"史上最强的大魔王转生为村人A",tip:"12话 / 2022年4月6日 / 湊未來 / 下等妙人（株式会社KADOKAWA／ファンタジア文庫刊） / 野口孝行、[副人物设定]渡邊義弘（フロンティアワン）",rank:"",score:"5",simpleStars:!0,tags:"2022年4月 轻小说改",comments:"真厕纸",time:"2022-7-4",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/22/3c/330055_AHxG5.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"356756",name:"パリピ孔明",nameCn:"派对浪客诸葛孔明",tip:"12话 / 2022年4月5日 / 本間修 / 四葉夕卜・小川亮 （講談社「ヤングマガジン」連載） / 関口可奈味",rank:"",score:"8",simpleStars:!0,tags:"2022年4月 P.A.WORKS 漫画改",comments:"",time:"2022-6-21",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/93/98/356756_ro03P.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"1905",name:"サマーウォーズ",nameCn:"夏日大作战",tip:"1话 / 2009年8月1日 / 細田守 / 細田守 / 貞本義行",rank:"",score:"8",simpleStars:!0,tags:"2009 剧场版 细田守",comments:"10多年后二刷, 也太好看了",time:"2022-6-7",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/73/e0/1905_5tj44.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"326870",name:"失格紋の最強賢者",nameCn:"失格纹的最强贤者",tip:"12话 / 2022年1月8日 / 秋田谷典昭 / 進行諸島 / 大沢美奈",rank:"",score:"6",simpleStars:!0,tags:"",comments:"",time:"2022-4-27",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/62/b8/326870_NN377.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""}]},"./src/screens/_/item/collections/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/collections/index.tsx"),i=t("./src/screens/_/item/collections/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemCollections",component:n.ItemCollections};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemCollections,Object.assign({},e))})})}).args=i.list[10];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemCollections,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/collections/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemCollections=void 0,Object.defineProperty(s,"ItemCollectionsProps",{enumerable:!0,get:function(){return c.Props}}),s.default=void 0;r(t("react"));var o=t("./src/utils/decorators/index.ts"),n=r(t("./src/screens/_/item/collections/item.tsx")),i=t("./src/screens/_/item/collections/ds.ts"),d=t("./src/screens/_/item/collections/styles.ts"),c=t("./src/screens/_/item/collections/types.ts"),l=t("./node_modules/react/jsx-runtime.js"),a=s.ItemCollections=(0,o.ob)((function(e){var s=e.navigation,t=e.index,r=e.inViewY,o=e.id,i=e.name,c=e.nameCn,a=e.tip,u=e.rank,m=e.score,p=e.total,j=e.simpleStars,f=e.tags,_=e.comments,b=e.time,x=e.collection,v=e.cover,y=e.type,g=e.modify,h=e.numberOfLines,O=e.showLabel,S=e.hideScore,T=e.relatedId,P=e.isDo,I=e.isOnHold,M=e.isDropped,C=e.isCollect,E=e.isCatalog,N=e.isEditable,k=e.event,w=e.filter,A=e.showManage,D=e.onEdit;return(0,l.jsx)(n.default,{navigation:s,styles:(0,d.memoStyles)(),index:t,inViewY:r,id:o,name:i,nameCn:c,tip:a,rank:u,score:m,total:p,simpleStars:j,tags:f,comments:_,time:b,collection:x,cover:v,type:y,numberOfLines:h,modify:g,showLabel:O,hideScore:S,relatedId:T,isDo:P,isOnHold:I,isDropped:M,isCollect:C,isCatalog:E,isEditable:N,event:k,filter:w,showManage:A,onEdit:D})}),i.COMPONENT);s.default=a},"./src/screens/_/item/collections/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/components/cover/utils.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/_/base/index.ts"),m=t("./src/screens/_/icon/index.ts"),p=r(t("./src/screens/_/item/collections/bottom/index.tsx")),j=r(t("./src/screens/_/item/collections/likes/index.tsx")),f=r(t("./src/screens/_/item/collections/title/index.tsx")),_=t("./src/screens/_/item/collections/ds.ts"),b=t("./node_modules/react/jsx-runtime.js"),x=(0,c.memo)((function(e){var s,t=e.navigation,r=e.styles,c=e.index,_=e.inViewY,x=e.id,v=e.name,y=e.nameCn,g=e.tip,h=e.rank,O=e.score,S=e.total,T=e.simpleStars,P=e.tags,I=e.comments,M=e.time,C=e.collection,E=e.cover,N=e.type,k=e.modify,w=e.numberOfLines,A=e.hideScore,D=e.relatedId,R=e.isDo,L=e.isOnHold,F=e.isDropped,H=e.isCatalog,B=e.isEditable,z=e.event,V=e.filter,W=e.showManage,q=e.onEdit,U=N;H&&(I||B)||(s="between");var G=String(x).replace("/subject/",""),K=v.length+y.length,Y=1.1*a.IMG_WIDTH,Z=!!I&&"undefined"!==I;return(0,b.jsx)(o.Component,{id:"item-collections","data-key":x,children:(0,b.jsx)(o.Touchable,{style:r.container,animate:!0,onPress:function(){var e=z.id,s=z.data;(0,l.t)(e,Object.assign({to:"Subject",subjectId:x,type:"list"},s)),t.push("Subject",{subjectId:x,_jp:v,_cn:y,_image:(0,n.getCoverSrc)(E,Y),_type:N})},children:(0,b.jsxs)(o.Flex,{style:r.wrap,align:"start",children:[(0,b.jsx)(u.InView,{style:r.inView,y:156*c+_+1,children:(0,b.jsx)(o.Cover,{src:E,width:Y,height:1.1*a.IMG_HEIGHT,radius:!0,type:N,cdn:!(0,d.x18)(G),priority:c<4?"high":"normal"})}),(0,b.jsxs)(o.Flex.Item,{style:r.body,children:[(0,b.jsxs)(o.Flex,{style:!!s&&r.content,direction:"column",justify:s,align:"start",children:[(0,b.jsxs)(o.Flex,{style:i._.container.block,align:"start",children:[(0,b.jsx)(o.Flex.Item,{children:(0,b.jsx)(f.default,{name:v,nameCn:y,filter:V,numberOfLines:I?1:2})}),W&&(0,b.jsx)(u.Manage,{subjectId:G,collection:C,typeCn:U,onPress:function(){i.uiStore.showManageModal({subjectId:G,title:y,desc:v,status:a.MODEL_COLLECTION_STATUS.getValue(C),action:(0,d.getAction)(U)},"收藏")}})]}),!!g&&(0,b.jsx)(o.Text,{size:11,lineHeight:12,numberOfLines:Math.max(2,w-(K>=36?1:0)),children:(0,d.HTMLDecode)(g)}),(0,b.jsxs)(o.Flex,{children:[(0,b.jsx)(o.Flex.Item,{children:(0,b.jsx)(p.default,{id:x,score:O,rank:h,total:S,simpleStars:T,time:M,tags:P,hideScore:A,isDo:R,isOnHold:L,isDropped:F,hasComment:Z})}),B&&(0,b.jsx)(m.IconTouchable,{style:r.edit,name:"md-edit",size:18,onPress:function(){return q(k)}})]})]}),Z&&(0,b.jsx)(o.Text,{style:r.comments,size:I.length>=80?12:I.length>=40?13:14,lineHeight:16,children:I}),(0,b.jsx)(j.default,{relatedId:D,subjectId:x})]})]})})})}),_.DEFAULT_PROPS,_.COMPONENT_MAIN);s.default=x},"./src/screens/_/item/collections/likes/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/base/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.relatedId,t=e.subjectId;return s?(0,d.jsx)(i.Likes,{topicId:t,id:s,likeType:"40",formhash:o.userStore.formhash,onLongPress:o.uiStore.showLikesUsers}):null}))},"./src/screens/_/item/collections/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{flex:1,paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:1.1*o.IMG_WIDTH,minHeight:1.1*o.IMG_HEIGHT},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:1.1*o.IMG_HEIGHT-r._.xs},tip:{minHeight:40},comments:{paddingVertical:r._.sm,paddingHorizontal:12,marginTop:r._.md,marginBottom:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:r._.select(r._.hairlineWidth,0),borderColor:r._.colorBorder,borderRadius:r._.radiusXs,overflow:"hidden"},edit:{marginTop:12,marginRight:-9},tag:{width:34,height:18,paddingHorizontal:r._.xs,paddingVertical:1,marginTop:-1,marginLeft:r._.sm,marginBottom:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),borderWidth:r._.hairlineWidth,borderRadius:r._.radiusXs,borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2)},body:{marginTop:2,marginLeft:r._._wind}}}))},"./src/screens/_/item/collections/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.name,t=e.nameCn,r=e.filter,d=e.numberOfLines,l=!!s,a=(0,i.HTMLDecode)((0,i.cnjp)(t,s)),u=(0,i.HTMLDecode)((0,i.cnjp)(s,t)),m="";if(r&&(m=(0,i.getPinYinFilterValue)(a,r)),m)return(0,c.jsxs)(o.Flex,{wrap:"wrap",align:"end",children:[(0,c.jsx)(o.Highlight,{size:15,bold:!0,numberOfLines:d,value:m,children:a+" "}),l&&u!==a&&(0,c.jsx)(o.Highlight,{type:"sub",size:11,lineHeight:12,bold:!0,numberOfLines:1,value:m,children:u})]});var p=a.length,j=p>=32?12:p>=24?13:p>=12?14:15,f=u.length,_=f>=32?9:f>=24?10:f>=16?11:12;return(0,c.jsxs)(o.Flex,{style:p+f>=16&&n._.mb.xs,wrap:"wrap",align:"end",children:[(0,c.jsx)(o.Katakana.Provider,{size:j,numberOfLines:d,children:(0,c.jsxs)(o.Katakana,{size:j,bold:!0,children:[a," "]})}),l&&u!==a&&(0,c.jsx)(o.Katakana.Provider,{size:_,lineHeight:13,bold:!0,numberOfLines:1,children:(0,c.jsx)(o.Katakana,{type:"sub",size:_,lineHeight:13,bold:!0,children:u})})]})}))},"./src/screens/_/item/collections/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/comment/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/constants/index.ts"),n=t("./src/screens/_/item/ds.ts"),i=s.COMPONENT=(0,r.rc)(n.COMPONENT,"ItemComment");s.COMPONENT_MAIN=(0,r.rc)(i),s.DEFAULT_PROPS={navigation:{},styles:{},style:{},time:"",avatar:"",userId:"",userName:"",star:"",status:"",comment:"",subjectId:0,relatedId:"",mainId:"",mainName:"",event:o.EVENT,popoverData:void 0,like:!1,onSelect:void 0}},"./src/screens/_/item/comment/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{time:"1h 47m ago",avatar:"//lain.bgm.tv/pic/user/l/000/45/37/453707.jpg?r=1585863899",userId:"453707",userName:"雪",star:"5",comment:"不喜欢，全局单纯让我感觉到女主因为男主帅能抛弃一切。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 10m ago",avatar:"//lain.bgm.tv/pic/user/l/000/74/94/749455.jpg?r=1671530327",userId:"749455",userName:"Haruka",star:"6",comment:"总体来说是一部成功的商业片，是一部优缺点都很鲜明的作品。但是诚哥所给的惊艳感，还有君名和天子的个人所喜欢的故事性在本片中并没有展现出来，个人评价来说是不如前二者的。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 16m ago",avatar:"//lain.bgm.tv/pic/user/l/000/53/76/537692.jpg?r=1637892718",userId:"graydan",userName:"月ノ灰兎",star:"7",comment:"买票时看到标签只有一个爱情让我眉头一皱…仿佛用一见钟情能解释很多事情但没经验我不好说。比起爱情还是少女成长的成分更多这个地方很喜欢，发现妈妈和异世里的发型不同也许是一个伏笔。非常佩服后半段女主的体力，太恐怖了",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 29m ago",avatar:"//lain.bgm.tv/pic/user/l/000/65/52/655231.jpg?r=1655461744",userId:"655231",userName:"ArmandElric",star:"7",comment:"对场景塑造的强调 配乐加持的依赖 加上简单的脚本和世界观设计的薄弱 不过是从贩卖爱情变成了贩卖亲情 从一个俗套跳进了另一个俗套",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 34m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/04/590406.jpg?r=1654325771",userId:"590406",userName:"yyyyffff",star:"8",comment:"7.6 与君名相比还有不小差距，但比天气之子简直好了一百倍，尤其是体现在直接观感上可以说天差地别；如果以奇幻片的角度去看《铃芽》可以说是一部优秀的动画电影，但如果以爱情片的定位去审视那这一塌糊涂的感情线会把它的其他优点一并掩盖从而变得一文不值；东京大地震和结局的轮回伏笔大加分，感情线不合格，其他片段属于灾难三部曲中的中上水准，好坏与否见仁见智，于我个人而言毫无疑问是值回票价了的。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 7m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/33/593301.jpg?r=1671769787&hd=1",userId:"lovemylove",userName:"热爱所热爱",star:"6",comment:"很符合“还行”的水平。值得便宜票价看一看，值得线上看一看。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 29m ago",avatar:"//lain.bgm.tv/pic/user/l/000/27/89/278931.jpg?r=1482682477",userId:"278931",userName:"SmFuY2dr",star:"7",comment:"最没有诚哥味的诚哥电影",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 54m ago",avatar:"//lain.bgm.tv/pic/user/l/000/66/81/668154.jpg?r=1673148981&hd=1",userId:"668154",userName:"三日月",star:"6",comment:"能把各异要素做到较为顺滑的杂糅是新海诚能力的体现，但诸多生硬处理和逻辑缺失仍是硬性问题，所幸实际观影体验过程中被巧妙掩盖了（4,1）",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 1m ago",avatar:"//lain.bgm.tv/pic/user/l/000/75/21/752149.jpg?r=1672649672&hd=1",userId:"752149",userName:"一马平川地躺下",star:"6",comment:"能明白诚哥想表达的东西，但东西太多了受时长限制自然也什么都讲不好。爱情线缺情感铺垫，亲情线缺人物转变，故事线的起承转合用蹩脚的巧合和女主那bug般的体力缝补。当爱情线由诚哥创作的垫脚石变为绊脚石，三年之约成了创作的束缚，我还会为下一个三年买票吗？ʕ•̫͡•ʔ",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 19m ago",avatar:"//lain.bgm.tv/pic/user/l/000/56/88/568872.jpg?r=1640097088",userId:"love580231",userName:"丶布鲁",star:"6",comment:"感情线很突兀，对观感影响极大，作画依旧是诚哥那股子味道，音乐也还行，不过这个人设跟剧情还有这感情线，6分最多了",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 44m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/77/597797.jpg?r=1628003405",userId:"597797",userName:"怅惘的扎比",star:"7",comment:"讲人寄托于古旧事物的思念，讲亲情，讲友情，讲相互救赎都挺好。爱情既没有必要也不是重点，为什么一定要塞一点进去呢？",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 54m ago",avatar:"//lain.bgm.tv/pic/user/l/000/75/50/755076.jpg?r=1672990328&hd=1",userId:"enxore",userName:"enxore",star:"7",comment:"瑕疵很多，稍逊于君名，但观感不错。其实所谓瑕疵都是新海诚为了观感舍弃的叙事罢。",popoverData:["特别关注TA的动画评论","屏蔽用户"]}]},"./src/screens/_/item/comment/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/comment/index.tsx"),i=t("./src/screens/_/item/comment/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemComment",component:n.ItemComment};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemComment,Object.assign({},e))})})}).args=i.list[2];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemComment,Object.assign({},e),e.userId)}))})})}},"./src/screens/_/item/comment/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemComment=void 0,Object.defineProperty(s,"ItemCommentProps",{enumerable:!0,get:function(){return l.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/_/item/comment/item.tsx")),d=t("./src/screens/_/item/comment/ds.ts"),c=t("./src/screens/_/item/comment/styles.ts"),l=t("./src/screens/_/item/comment/types.ts"),a=t("./node_modules/react/jsx-runtime.js");var u=s.ItemComment=(0,n.ob)((function(e){var s=e.navigation,t=e.style,r=e.time,n=e.avatar,d=e.userId,l=e.userName,u=e.star,m=e.status,p=e.comment,j=e.subjectId,f=e.relatedId,_=e.action,b=e.mainId,x=e.mainName,v=e.event,y=e.popoverData,g=e.like,h=e.onSelect;return(0,a.jsx)(o.Component,{id:"item-comment","data-key":d,children:(0,a.jsx)(i.default,{navigation:s,styles:(0,c.memoStyles)(),style:t,time:r,avatar:n,userId:d,userName:l,star:u,status:m||_,comment:p,subjectId:j,relatedId:f,mainId:b,mainName:x,event:v,popoverData:y,like:g,onSelect:h})})}),d.COMPONENT);s.default=u},"./src/screens/_/item/comment/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),l=t("./src/screens/_/base/index.ts"),a=t("./src/screens/_/item/comment/utils.ts"),u=t("./src/screens/_/item/comment/ds.ts"),m=t("./node_modules/react/jsx-runtime.js"),p=(0,d.memo)((function(e){var s=e.navigation,t=e.styles,r=e.style,d=e.time,u=e.avatar,p=e.userId,j=e.userName,f=e.star,_=e.status,b=e.comment,x=e.subjectId,v=e.relatedId,y=e.mainId,g=e.mainName,h=e.event,O=e.popoverData,S=e.like,T=e.onSelect;return(0,m.jsxs)(o.Flex,{style:(0,i.stl)(t.item,r),align:"start",children:[(0,m.jsx)(l.UserStatusAvatar,{style:t.avatar,navigation:s,like:S,userId:p,userName:j,avatar:u,event:h}),(0,m.jsxs)(o.Flex.Item,{style:t.content,children:[(0,m.jsxs)(o.Flex,{children:[(0,m.jsx)(o.Flex.Item,{children:(0,m.jsx)(l.Name,{size:14,bold:!0,userId:p,showFriend:!0,right:(0,m.jsxs)(o.Text,{type:"sub",size:11,lineHeight:14,children:["  ",_?_+" · ":"",String(d).includes("ago")?(0,i.correctAgo)((0,a.formatTime)(d)):d]}),children:j})}),!!O&&"function"==typeof T&&(0,m.jsx)(l.Popover,{style:t.touch,data:O,onSelect:function(e){T(e,{avatar:u,userId:p,userName:j},b,v)},children:(0,m.jsx)(o.Flex,{style:t.icon,justify:"center",children:(0,m.jsx)(o.Iconfont,{style:n._.ml.md,name:"md-more-vert",size:18})})},p)]}),!(!f&&!g)&&(0,m.jsxs)(o.Flex,{style:t.stars,children:[(0,m.jsx)(l.Stars,{value:f}),!!g&&(0,m.jsxs)(m.Fragment,{children:[!!f&&(0,m.jsx)(o.Text,{type:"sub",size:11,children:" · "}),(0,m.jsx)(o.Text,{type:"sub",size:11,underline:!0,numberOfLines:1,onPress:function(){s&&y&&s.push("Subject",{subjectId:y,_jp:g})},children:g})]})]}),!!b&&(0,m.jsx)(o.Text,{style:n._.mt.xs,lineHeight:18,selectable:c.WEB,children:(0,i.HTMLDecode)(b)}),(0,m.jsx)(l.Likes,{topicId:x,id:v,likeType:c.LIKE_TYPE_TIMELINE,formhash:n.userStore.formhash,onLongPress:n.uiStore.showLikesUsers})]})]})}),u.DEFAULT_PROPS,u.COMPONENT_MAIN);s.default=p},"./src/screens/_/item/comment/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{item:{backgroundColor:r._.colorPlain},avatar:{marginTop:r._.md-4,marginLeft:r._.wind},content:{paddingVertical:r._.md-4,paddingRight:r._.wind,marginLeft:r._.sm},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},stars:{marginVertical:r._.xs},touch:{marginVertical:-8,marginRight:-2,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},favor:{position:"absolute",zIndex:1,right:-6,bottom:-2,paddingTop:1,paddingRight:2,paddingBottom:1,paddingLeft:1,backgroundColor:r._.colorPlain,borderRadius:r._.web(12,4),overflow:"hidden",pointerEvent:"none"}}}))},"./src/screens/_/item/comment/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/comment/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.formatTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(-1===e.indexOf("ago")){var s=e.length;return e.slice(2,s-5)+" "+e.slice(s-5,s)}return e.replace("d","d ").replace("h","h ").replace("m","m ").replace("s","s ")}},"./src/screens/_/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;s.COMPONENT="Item"},"./src/screens/_/item/friends/counts/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/item/friends/counts/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.wish,t=e.collect,r=e.doing,i=e.onHold,l=e.dropped;return(0,c.jsxs)(o.Flex,{style:d.styles.counts,children:[!!s&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:"md-favorite",size:12,color:n._.colorSub}),(0,c.jsx)(o.Text,{style:n._.mr.sm,size:11,type:"sub",children:s})]}),!!r&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:"md-visibility",size:14,color:n._.colorSub}),(0,c.jsx)(o.Text,{style:n._.mr.sm,size:11,type:"sub",children:r})]}),!!t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:"md-check",size:14,color:n._.colorSub}),(0,c.jsx)(o.Text,{style:n._.mr.sm,size:11,type:"sub",children:t})]}),!!i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:"md-visibility-off",size:13,color:n._.colorSub}),(0,c.jsx)(o.Text,{style:n._.mr.sm,size:11,type:"sub",children:i})]}),!!l&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Iconfont,{style:n._.mr.xs,name:"md-delete-outline",size:14,color:n._.colorSub}),(0,c.jsx)(o.Text,{size:11,type:"sub",children:l})]})]})}))},"./src/screens/_/item/friends/counts/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({counts:{marginTop:r._.sm,marginBottom:r._.xs}})},"./src/screens/_/item/friends/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemFriends")},"./src/screens/_/item/friends/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{avatar:"//lain.bgm.tv/pic/user/c/000/00/00/1.jpg?r=1671687974&hd=1",userId:"sai",userName:"Sai🖖",hobby:"15",percent:6.61,recent:"2023-4-1 12:22",doing:28,collect:225,wish:166,onHold:40,dropped:19,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/10/14/101403.jpg?r=1673256692&hd=1",userId:"vistaing",userName:"f_vistaing",hobby:"12",percent:5.29,recent:"2023-3-12 12:55",doing:27,collect:309,wish:99,onHold:32,dropped:49,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/23/54/235458.jpg?r=1552660673",userId:"lhyzf",userName:"猫苇",hobby:"54",percent:23.79,recent:"3h 36m ago",doing:17,collect:684,wish:73,onHold:15,dropped:5,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/13/50/135015.jpg?r=1523800130",userId:"moe_taiga",userName:"掌中萌虎",hobby:"44",percent:19.38,recent:"2022-10-13 21:12",doing:38,collect:623,wish:53,dropped:81,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/43/11/431197.jpg?r=1575107896",userId:"cts",userName:"影约",hobby:"47",percent:20.7,recent:"17h 39m ago",doing:30,collect:1241,wish:2425,onHold:14,dropped:57,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/29/13/291383.jpg?r=1672044593&hd=1",userId:"tttbbx",userName:"雪の宿❄️",hobby:"13",percent:5.73,recent:"4h 18m ago",doing:14,collect:437,wish:107,onHold:5,dropped:77,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/21/04/210454.jpg?r=1671770242&hd=1",userId:"mp4spig",userName:"狂犬榨汁姬艾莉丝",hobby:"23",percent:10.13,recent:"1d 4h ago",doing:49,collect:522,wish:377,onHold:34,dropped:25,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/10/21/102150.jpg?r=1464620237",userId:"xu940830",userName:"工藤龍一郎",hobby:"22",percent:9.69,recent:"1d 4h ago",doing:86,collect:485,wish:75,onHold:48,dropped:142,filter:""}]},"./src/screens/_/item/friends/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/friends/index.tsx"),i=t("./src/screens/_/item/friends/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemFriends",component:n.ItemFriends};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemFriends,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemFriends,Object.assign({},e),e.userId)}))})})}},"./src/screens/_/item/friends/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemFriends=void 0,Object.defineProperty(s,"ItemFriendsProps",{enumerable:!0,get:function(){return f.Props}}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=r(t("./node_modules/@ant-design/react-native/lib/progress/index.js")),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=r(t("./src/screens/_/item/friends/counts/index.tsx")),m=r(t("./src/screens/_/item/friends/name/index.tsx")),p=t("./src/screens/_/item/friends/ds.ts"),j=t("./src/screens/_/item/friends/styles.ts"),f=t("./src/screens/_/item/friends/types.ts"),_=t("./node_modules/react/jsx-runtime.js"),b=s.ItemFriends=(0,c.ob)((function(e){var s=e.navigation,t=e.avatar,r=e.userId,c=e.userName,p=e.hobby,f=e.percent,b=e.recent,x=e.doing,v=e.collect,y=e.wish,g=e.onHold,h=e.dropped,O=e.filter,S=e.event,T=void 0===S?a.EVENT:S,P=e.children,I=(0,j.memoStyles)(),M=d._.window.contentWidth-144;return(0,_.jsx)(i.Component,{id:"item-friends","data-key":r,children:(0,_.jsxs)(i.Touchable,{style:I.container,animate:!0,onPress:function(){var e=T.id,o=T.data,n=void 0===o?{}:o;(0,l.t)(e,Object.assign({to:"Zone",userId:r},n)),s.push("Zone",{userId:r,_name:c,_image:t})},children:[(0,_.jsxs)(i.Flex,{children:[(0,_.jsx)(o.default,{style:I.avatar,children:(0,_.jsx)(i.UserStatus,{userId:r,children:(0,_.jsx)(i.Avatar,{navigation:s,name:c,userId:r,src:t})})}),(0,_.jsxs)(i.Flex.Item,{style:I.item,children:[(0,_.jsxs)(i.Flex,{children:[(0,_.jsx)(i.Flex.Item,{children:(0,_.jsx)(m.default,{userName:c,filter:O})}),(0,_.jsx)(i.Text,{style:d._.ml.sm,size:13,children:b})]}),(0,_.jsx)(u.default,{wish:y,collect:v,doing:x,onHold:g,dropped:h}),(0,_.jsx)(n.default,{style:I.progress,barStyle:I.bar,wrapWidth:M,percent:Number(f)})]}),(0,_.jsxs)(i.Text,{style:I.hobby,size:12,type:"sub",children:[p||"-"," / ",f||"-","%"]})]}),P]})})}),p.COMPONENT);s.default=b},"./src/screens/_/item/friends/name/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.userName,t=e.filter,r=(0,n.getPinYinFilterValue)(s,t);return(0,d.jsx)(o.Highlight,{numberOfLines:1,bold:!0,value:r,children:s})}))},"./src/screens/_/item/friends/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingBottom:r._.md,backgroundColor:r._.colorPlain},avatar:{marginTop:2,marginLeft:r._.wind},item:{paddingTop:r._.md-2,paddingRight:r._.wind,paddingBottom:r._.sm+2,marginLeft:r._.md-2},progress:{position:"absolute",right:"32%",bottom:0,left:0,borderRadius:8,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),overflow:"hidden"},bar:{backgroundColor:"transparent",borderBottomColor:r._.colorPrimary,borderBottomWidth:4,borderRadius:4},hobby:{position:"absolute",right:r._.wind-r._.sm,bottom:0,paddingHorizontal:r._.sm,marginBottom:-4,backgroundColor:r._.colorPlain},count:{marginTop:r._.sm,marginBottom:r._.xs}}}))},"./src/screens/_/item/friends/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/index.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(s,"__esModule",{value:!0});var r=t("./src/screens/_/item/article/index.tsx");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===r[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=t("./src/screens/_/item/bangumi-list/index.tsx");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===o[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return o[e]}}))}));var n=t("./src/screens/_/item/blog/index.tsx");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))}));var i=t("./src/screens/_/item/catalog/index.tsx");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===i[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return i[e]}}))}));var d=t("./src/screens/_/item/character/index.tsx");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===d[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return d[e]}}))}));var c=t("./src/screens/_/item/collections/index.tsx");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===c[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=t("./src/screens/_/item/collections-grid/index.tsx");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===l[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return l[e]}}))}));var a=t("./src/screens/_/item/comment/index.tsx");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===a[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=t("./src/screens/_/item/friends/index.tsx");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===u[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return u[e]}}))}));var m=t("./src/screens/_/item/notify/index.tsx");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===m[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return m[e]}}))}));var p=t("./src/screens/_/item/pm/index.tsx");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===p[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return p[e]}}))}));var j=t("./src/screens/_/item/post/index.tsx");Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===j[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return j[e]}}))}));var f=t("./src/screens/_/item/say/index.tsx");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===f[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return f[e]}}))}));var _=t("./src/screens/_/item/search/index.tsx");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===_[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=t("./src/screens/_/item/setting/index.tsx");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===b[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return b[e]}}))}));var x=t("./src/screens/_/item/setting-block/index.tsx");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===x[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return x[e]}}))}));var v=t("./src/screens/_/item/subject/index.tsx");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===v[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=t("./src/screens/_/item/timeline/index.tsx");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===y[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=t("./src/screens/_/item/voice/index.tsx");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===g[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return g[e]}}))}))},"./src/screens/_/item/notify/avatar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/notify/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Avatar"),s.ITEM_HEIGHT=64},"./src/screens/_/item/notify/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/base/index.ts"),d=t("./src/screens/_/item/notify/avatar/ds.ts"),c=t("./src/screens/_/item/notify/avatar/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.navigation,t=e.index,r=e.avatar,n=e.userId,a=e.userName,u=e.event;return(0,l.jsx)(o.UserStatus,{userId:n,children:(0,l.jsx)(i.InView,{style:c.styles.inView,y:d.ITEM_HEIGHT*t+1,children:(0,l.jsx)(o.Avatar,{navigation:s,userId:n,name:a,src:r,event:u},String(r))})})}),d.COMPONENT)},"./src/screens/_/item/notify/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({inView:{minWidth:40,minHeight:40}})},"./src/screens/_/item/notify/content/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/notify/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Content")},"./src/screens/_/item/notify/content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/base/index.ts"),c=t("./src/screens/_/item/notify/content/ds.ts"),l=t("./src/screens/_/item/notify/content/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s,t,r=e.userId,i=e.userName,c=e.title,u=e.message,m=e.message2,p=e.href,j=(0,l.memoStyles)(),f=null==(s=String(p).split("/status/"))?void 0:s[1];if(f){var _,b=n.timelineStore.say(f);b.list.length&&(t=null==(_=b.list[0])?void 0:_.text)}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Name,{userId:r,showFriend:!0,size:13,type:"title",bold:!0,children:i}),(0,a.jsxs)(o.Text,{style:n._.mt.xxs,size:13,lineHeight:15,children:[u,(0,a.jsx)(o.Text,{size:13,lineHeight:15,type:"main",bold:!0,children:c}),m]}),!!t&&(0,a.jsx)(o.Flex,{children:(0,a.jsxs)(o.Text,{style:j.info,type:"sub",size:12,numberOfLines:1,bold:!0,children:["描述：",t]})})]})}),c.COMPONENT)},"./src/screens/_/item/notify/content/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{info:{paddingVertical:8,paddingHorizontal:12,marginTop:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"}}}))},"./src/screens/_/item/notify/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemNotify")},"./src/screens/_/item/notify/extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/notify/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Extra")},"./src/screens/_/item/notify/extra/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.string.repeat.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=o(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),d=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),c=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),u=t("./src/utils/dev/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/utils/hooks/index.ts"),j=t("./src/screens/_/base/index.ts"),f=t("./src/screens/_/item/notify/extra/ds.ts"),_=t("./src/screens/_/item/notify/extra/styles.ts"),b=t("./node_modules/react/jsx-runtime.js");function x(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(x=function(e){return e?t:s})(e)}s.default=function(e){var s=e.userId,t=e.connectUserId,o=e.repeat;(0,u.r)(f.COMPONENT);var x=(0,d.useState)(!1),v=(0,i.default)(x,2),y=v[0],g=v[1];return(0,p.useMount)((function(){function e(){return(e=(0,n.default)(r.mark((function e(){var o,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||null==l.usersStore||null==(o=l.usersStore.friendsMap)||!o[s]){e.next=3;break}return g("已处理"),e.abrupt("return");case 3:return e.next=5,(0,a.getStorage)(f.COMPONENT+"|"+t);case 5:null===(n=e.sent)?g(!0):"string"==typeof n&&g(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()})),(0,p.useObserver)((function(){return l.usersStore.myFriendsMap[s]?null:(0,b.jsxs)(c.Flex,{style:l._.ml.md,justify:"end",children:[t&&!1!==y?"string"==typeof y?(0,b.jsx)(c.Text,{size:12,type:"sub",children:y}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Button,{style:_.styles.btn,type:"ghostMain",size:"sm",onPress:function(){(0,a.confirm)("添加好友?",(0,n.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.timelineStore.doConnect(t);case 2:(0,a.feedback)(),g("已处理"),(0,a.setStorage)(f.COMPONENT+"|"+t,"已处理"),(0,m.t)("电波提醒.添加好友");case 6:case"end":return e.stop()}}),e)}))),"提醒")},children:"同意"}),(0,b.jsx)(c.Button,{style:[_.styles.btn,l._.ml.sm],type:"ghostPlain",size:"sm",onPress:function(){(0,a.confirm)("确定忽略?",(function(){g("已忽略"),(0,a.setStorage)(f.COMPONENT+"|"+t,"已忽略"),(0,m.t)("电波提醒.忽略好友")}))},children:"忽略"})]}):null,!!o&&(0,b.jsx)(j.Tag,{value:"x"+(o+1)})]})}))}},"./src/screens/_/item/notify/extra/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({btn:{width:48}})},"./src/screens/_/item/notify/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141582",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/51/65/516549.jpg?r=1675609244&hd=1",userId:"516549",userName:"希望人冇事",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141577",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/73/42/734240.jpg?r=1667519932",userId:"734240",userName:"黑色幽默",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141573",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/60/37/603776.jpg?r=1648998420",userId:"603776",userName:"哈利·波特",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141553",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/35/11/351149.jpg?r=1680257835&hd=1",userId:"351149",userName:"Otone",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/53/38/533872.jpg?r=1645015013",userId:"nofttwiq",userName:"Nofttwiq.",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141523",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/32/28/322898.jpg?r=1516957049",userId:"322898",userName:"青鸟千秋",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141517",repeat:0}]},"./src/screens/_/item/notify/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/notify/index.tsx"),i=t("./src/screens/_/item/notify/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemNotify",component:n.ItemNotify};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemNotify,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemNotify,Object.assign({},e),e.userId)}))})})}},"./src/screens/_/item/notify/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.repeat.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemNotify=void 0,Object.defineProperty(s,"ItemNotifyProps",{enumerable:!0,get:function(){return p.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),c=r(t("./src/screens/_/item/notify/avatar/index.tsx")),l=r(t("./src/screens/_/item/notify/content/index.tsx")),a=r(t("./src/screens/_/item/notify/extra/index.tsx")),u=t("./src/screens/_/item/notify/ds.ts"),m=t("./src/screens/_/item/notify/styles.ts"),p=t("./src/screens/_/item/notify/types.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=s.ItemNotify=(0,i.ob)((function(e){var s=e.navigation,t=e.index,r=e.avatar,i=e.userId,u=e.userName,p=e.title,f=e.message,_=e.message2,b=e.href,x=e.repeat,v=e.event,y=void 0===v?d.EVENT:v,g=e.children,h=(0,m.memoStyles)(),O=0;f.includes("请求与你成为好友")&&(O=(0,n.getUserIdFromAvatar)(r));var S=(0,j.jsxs)(o.Flex,{style:h.container,align:"start",children:[(0,j.jsx)(c.default,{navigation:s,index:t,avatar:r,userId:i,userName:u,event:y}),(0,j.jsx)(o.Flex.Item,{style:h.content,children:(0,j.jsxs)(o.Flex,{children:[(0,j.jsx)(o.Flex.Item,{children:(0,j.jsx)(l.default,{userId:i,userName:u,title:p,message:f,message2:_,href:b})}),(0,j.jsx)(a.default,{userId:i,connectUserId:O,repeat:x})]})}),g]});return(0,j.jsx)(o.Component,{id:"item-notify","data-key":b,children:O?S:(0,j.jsx)(o.Touchable,{animate:!0,onPress:function(){(0,n.appNavigate)(b,s,{_title:p},y)},children:S})})}),u.COMPONENT);s.default=f},"./src/screens/_/item/notify/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},content:{paddingTop:1,paddingLeft:r._.sm}}}))},"./src/screens/_/item/notify/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/pm/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemPM"),s.ITEM_HEIGHT=98},"./src/screens/_/item/pm/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemPM=void 0,Object.defineProperty(s,"ItemPMProps",{enumerable:!0,get:function(){return j.Props}}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/_/base/index.ts"),m=t("./src/screens/_/item/pm/ds.ts"),p=t("./src/screens/_/item/pm/styles.ts"),j=t("./src/screens/_/item/pm/types.ts"),f=t("./node_modules/react/jsx-runtime.js"),_=s.ItemPM=(0,c.ob)((function(e){var s=e.navigation,t=e.event,r=void 0===t?a.EVENT:t,c=e.index,j=e.id,_=e.title,b=e.content,x=e.avatar,v=e.name,y=e.userId,g=e.time,h=e.new,O=e.onRefresh,S=void 0===O?a.FROZEN_FN:O,T=(0,p.memoStyles)();return(0,f.jsx)(n.Component,{id:"item-pm","data-key":j,children:(0,f.jsx)(n.Touchable,{animate:!0,onPress:function(){(0,l.t)(r.id,Object.assign({to:"PM"},r.data)),s.push("PM",{id:j}),h&&setTimeout((function(){S()}),4e3)},children:(0,f.jsxs)(n.Flex,{style:T.container,align:"start",children:[(0,f.jsx)(o.default,{style:T.avatar,children:(0,f.jsx)(u.InView,{style:T.inView,y:m.ITEM_HEIGHT*c+1,children:(0,f.jsx)(n.Avatar,{navigation:s,userId:y,name:v,src:x,event:r})})}),(0,f.jsx)(n.Flex.Item,{style:T.item,children:(0,f.jsxs)(n.Flex,{children:[(0,f.jsxs)(n.Flex.Item,{children:[(0,f.jsx)(u.Name,{userId:y,showFriend:!0,size:13,type:"title",bold:!0,right:(0,f.jsxs)(n.Text,{size:11,lineHeight:13,type:"sub",children:["  ",g]}),children:v}),(0,f.jsx)(n.Text,{style:i._.mt.xs,type:"main",bold:!0,children:_}),(0,f.jsx)(n.Flex,{children:(0,f.jsx)(o.default,{style:T.info,children:(0,f.jsx)(n.Text,{size:13,lineHeight:15,children:(0,d.HTMLDecode)(b)})})})]}),h&&(0,f.jsx)(n.Text,{style:i._.ml.sm,type:"danger",children:"new"})]})})]})})})}),m.COMPONENT);s.default=_},"./src/screens/_/item/pm/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},avatar:{marginTop:r._.sm-2},inView:{minWidth:40,minHeight:40},item:{paddingTop:r._.sm,paddingRight:r._.wind,paddingBottom:r._.md,marginLeft:r._.sm},info:{paddingTop:4,paddingBottom:7,paddingHorizontal:10,marginTop:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"}}}))},"./src/screens/_/item/pm/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/post/avatar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.AVATAR_SIZE=void 0;s.AVATAR_SIZE=36,s.ITEM_HEIGHT=100},"./src/screens/_/item/post/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/base/index.ts"),d=t("./src/screens/_/item/post/avatar/ds.ts"),c=t("./src/screens/_/item/post/avatar/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=e.index,r=e.inViewY,n=e.userId,a=e.userName,u=e.avatar,m=e.event,p=s.navigation;return(0,l.jsx)(i.InView,{style:c.styles.inView,y:d.ITEM_HEIGHT*t+r+1,children:(0,l.jsx)(i.UserStatusAvatar,{navigation:p,like:o.rakuenStore.commentTracked(n),userId:n,userName:a,avatar:u,size:d.AVATAR_SIZE,event:m})})}))},"./src/screens/_/item/post/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/post/avatar/ds.ts");s.styles=r._.create({inView:{minWidth:o.AVATAR_SIZE,minHeight:o.AVATAR_SIZE}})},"./src/screens/_/item/post/collapsed-html/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COLLAPSED_HTML=void 0;s.COLLAPSED_HTML='<span class="tip_collapsed">回复被折叠</span>'},"./src/screens/_/item/post/collapsed-html/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),d=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),l=t("./src/screens/_/base/index.ts"),a=t("./src/screens/_/item/post/collapsed-html/ds.ts"),u=t("./node_modules/react/jsx-runtime.js"),m=["msg"];function p(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(p=function(e){return e?t:s})(e)}s.default=function(e){var s=e.msg,t=(0,n.default)(e,m),r=(0,i.useState)(s&&s.includes(a.COLLAPSED_HTML)),p=(0,o.default)(r,2),j=p[0],f=p[1];return j?(0,u.jsx)(d.Touchable,{style:c._.mt.sm,onPress:function(){f(!1)},children:(0,u.jsx)(d.Text,{underline:!0,children:"回复被折叠"})}):(0,u.jsx)(l.HTML,Object.assign({msg:s.replace(a.COLLAPSED_HTML,"")},t))}},"./src/screens/_/item/post/container-layout/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/screens/_/item/post/utils.ts"),l=t("./src/screens/_/item/post/container-layout/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.id,t=e.subLength,r=e.isJump,d=e.children,u=(0,l.memoStyles)();return(0,a.jsx)(o.Flex,{style:(0,i.stl)(n._.container.item,r&&u.itemJump),align:"start",onLayout:t?function(e){c.layoutHeightMap.set(Number(s),e.nativeEvent.layout.height)}:void 0,children:d})}))},"./src/screens/_/item/post/container-layout/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{itemJump:{borderBottomWidth:1,borderColor:r._.colorSuccess}}}))},"./src/screens/_/item/post/container/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/item/post/container/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.id,t=e.subLength,r=e.children,i=(0,d.memoStyles)();return(0,c.jsx)(o.Component,{id:"item-post","data-key":s,style:(0,n.stl)(i.item,t&&i.itemWithSub),children:r})}))},"./src/screens/_/item/post/container/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{item:{width:r._.window.width,paddingTop:r._.sm,paddingBottom:r._.md,paddingHorizontal:r._.wind},itemWithSub:{paddingBottom:r._.sm}}}))},"./src/screens/_/item/post/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.REG_MARK=s.IMAGES_MAX_WIDTH_SUB=s.IMAGES_MAX_WIDTH=s.EXPAND_NUMS=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/_/item/ds.ts"),d=s.COMPONENT=(0,o.rc)(i.COMPONENT,"ItemPost");s.COMPONENT_MAIN=(0,o.rc)(d),s.IMAGES_MAX_WIDTH=r._.window.width-2*r._.wind-32-r._.sm,s.IMAGES_MAX_WIDTH_SUB=r._.window.width-2*r._.wind-64-2*r._.sm,s.EXPAND_NUMS=3,s.REG_MARK=/mark|mrak|cy|码|马|眼/i,s.DEFAULT_PROPS={inViewY:0,index:0,contentStyle:{},extraStyle:{},topicId:"",authorId:"",avatar:"",erase:"",floor:"",directFloor:!1,id:0,isAuthor:!1,isExpand:!1,isFriend:!1,isJump:!1,isNew:!1,matchLink:!1,msg:"",postId:"",readedTime:"",replySub:"",expandNums:void 0,sub:[],time:"",translate:"",url:"",userId:"",userName:"",userSign:"",formhash:"",likeType:"",event:n.EVENT,onJumpTo:n.FROZEN_FN,onLikesLongPress:n.FROZEN_FN,onShowFixedTextare:n.FROZEN_FN,onToggleExpand:n.FROZEN_FN}},"./src/screens/_/item/post/floor-direct/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/item/post/floor-direct/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(){var e=(0,i.memoStyles)();return(0,d.jsx)(o.default,{style:e.direct,pointerEvents:"none"})}))},"./src/screens/_/item/post/floor-direct/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{direct:{position:"absolute",top:2-r._._wind,right:0,bottom:-r._.sm-2,left:-r._._wind,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}}))},"./src/screens/_/item/post/floor-main/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/screens/_/item/post/ds.ts"),l=t("./src/screens/_/base/index.ts"),a=r(t("./src/screens/_/item/post/collapsed-html/index.tsx")),u=r(t("./src/screens/_/item/post/floor-text/index.tsx")),m=r(t("./src/screens/_/item/post/icon-extra/index.tsx")),p=r(t("./src/screens/_/item/post/user-label/index.tsx")),j=t("./src/screens/_/item/post/floor-main/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.contentStyle,r=e.extraStyle,d=e.topicId,_=e.erase,b=e.floor,x=e.id,v=e.isAuthor,y=e.isFriend,g=e.matchLink,h=e.msg,O=e.replySub,S=e.time,T=e.translate,P=e.url,I=e.userId,M=e.userName,C=e.userSign,E=e.formhash,N=e.likeType,k=e.event,w=e.onJumpTo,A=e.onLikesLongPress,D=e.onShowFixedTextare,R=s.navigation,L=(0,j.memoStyles)();return(0,f.jsxs)(n.Flex.Item,{style:(0,i.stl)(L.content,t),children:[(0,f.jsxs)(n.Flex,{align:"start",children:[(0,f.jsx)(n.Flex.Item,{children:(0,f.jsx)(l.Name,{userId:I,size:M.length>10?12:14,lineHeight:14,bold:!0,right:(0,f.jsx)(p.default,{isAuthor:v,isFriend:y,userSign:C}),children:(0,i.HTMLDecode)(M)})}),(0,f.jsx)(m.default,{style:r,topicId:d,id:x,formhash:E,likeType:N,msg:h,replySub:O,erase:_,userId:I,userName:M,onJumpTo:w,onShowFixedTextare:D})]}),(0,f.jsx)(u.default,{time:S,floor:b}),(0,f.jsxs)(o.default,{style:L.html,children:[(0,f.jsx)(a.default,{navigation:R,id:x,msg:h,url:P,imagesMaxWidth:c.IMAGES_MAX_WIDTH,matchLink:g,event:k}),(0,f.jsx)(l.Likes,{topicId:d,id:x,formhash:E,likeType:N,onLongPress:A})]}),!!T&&(0,f.jsx)(n.Text,{style:L.translate,size:11,lineHeight:13,children:T})]})}))},"./src/screens/_/item/post/floor-main/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{content:{paddingLeft:r._.sm},html:{paddingRight:r._.sm,marginTop:r._.sm},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"}}}))},"./src/screens/_/item/post/floor-new/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/assets/images/index.web.ts"),l=t("./src/screens/_/item/post/floor-new/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.mini,t=(0,l.memoStyles)();return(0,a.jsx)(o.default,{style:(0,i.stl)(t.image,s&&t.mini),children:(0,a.jsx)(n.Image,{src:c.GROUP_THUMB_MAP.circle,size:s?64:80,resizeMode:"contain",placeholder:!1,skeleton:!1})})}))},"./src/screens/_/item/post/floor-new/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{image:{position:"absolute",top:-14,left:-16,pointerEvents:"none"},mini:{top:-8,left:-2}}}))},"./src/screens/_/item/post/floor-sub/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.sub.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/_/item/post/sub/index.tsx")),c=t("./src/screens/_/item/post/floor-sub/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.extraStyle,t=e.authorId,r=e.id,i=e.isExpand,a=e.matchLink,u=e.postId,m=e.readedTime,p=e.expandNums,j=e.sub,f=e.url,_=e.userId,b=e.event,x=e.onJumpTo,v=e.onLikesLongPress,y=e.onShowFixedTextare,g=e.onToggleExpand;return j.length?(0,l.jsxs)(n.Flex,{children:[(0,l.jsx)(o.default,{style:c.styles.left}),(0,l.jsxs)(n.Flex.Item,{style:c.styles.sub,children:[(0,l.jsx)(n.Flex,{wrap:"wrap",children:j.filter((function(e,s){return!!i||s<p})).map((function(e){return(0,l.jsx)(d.default,{extraStyle:s,id:e.id,message:e.message,userId:e.userId,userName:e.userName,avatar:e.avatar,floor:e.floor,erase:e.erase,replySub:e.replySub,time:e.time,postId:u,authorId:t,uid:_,url:f,readedTime:m,matchLink:a,event:b,onJumpTo:x,onLikesLongPress:v,onShowFixedTextare:y},e.id)}))}),j.length>p&&(0,l.jsx)(n.Touchable,{style:c.styles.expandContainer,onPress:function(){return g(r)},children:(0,l.jsx)(n.Text,{style:c.styles.expand,type:i?"sub":"main",size:12,align:"center",bold:!0,children:i?"收起楼层":"展开 "+(j.length-p)+" 条回复"})})]})]}):null}))},"./src/screens/_/item/post/floor-sub/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({left:{width:r._.r(36)},sub:{paddingTop:r._.md},expandContainer:{marginTop:-r._.sm},expand:{paddingVertical:r._.sm,marginLeft:44}})},"./src/screens/_/item/post/floor-text/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/item/post/floor-text/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.time,t=e.floor,r=(0,d.memoStyles)();return(0,c.jsxs)(o.Text,{style:r.container,type:"sub",size:11,lineHeight:12,children:[(0,n.simpleTime)(s),"  ","#",String(t).replace("#","")]})}))},"./src/screens/_/item/post/floor-text/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{opacity:r._.select(1,.8)}}}))},"./src/screens/_/item/post/icon-extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ACTION_UNTRACK=s.ACTION_TRANSLATE=s.ACTION_TRACK=s.ACTION_REPLY=s.ACTION_LIKES=s.ACTION_IGNORE=s.ACTION_EDIT=s.ACTION_DELETE=s.ACTION_COPY_URL=s.ACTION_COPY=s.ACTION_BLOCK=void 0;s.ACTION_LIKES="贴贴",s.ACTION_REPLY="回复",s.ACTION_EDIT="编辑",s.ACTION_COPY="复制",s.ACTION_COPY_URL="复制楼层链接",s.ACTION_TRANSLATE="翻译",s.ACTION_BLOCK="屏蔽",s.ACTION_IGNORE="绝交",s.ACTION_DELETE="删除",s.ACTION_TRACK="特别关注TA的回复",s.ACTION_UNTRACK="取消特别关注TA"},"./src/screens/_/item/post/icon-extra/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=(o(t("react")),t("./src/components/index.ts")),d=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),a=t("./src/utils/fetch/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/_/base/index.ts"),p=t("./src/screens/_/item/post/icon-extra/ds.ts"),j=t("./src/screens/_/item/post/icon-extra/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,o=e.topicId,l=e.id,_=e.formhash,b=e.likeType,x=e.replySub,v=e.erase,y=e.userId,g=e.userName,h=e.message,O=void 0===h?"":h,S=e.msg,T=e.onJumpTo,P=e.onShowFixedTextare,I=s.$,M=[v&&(null==I?void 0:I.doDeleteReply)&&p.ACTION_EDIT,d.rakuenStore.setting.likes&&b&&p.ACTION_LIKES,x&&!d.userStore.isLimit&&(null==I?void 0:I.showFixedTextarea)&&p.ACTION_REPLY,p.ACTION_COPY,p.ACTION_COPY_URL,d.rakuenStore.commentTracked(y)?p.ACTION_UNTRACK:p.ACTION_TRACK,(null==I?void 0:I.doTranslateFloor)&&!(0,c.isChineseParagraph)((0,c.removeURLs)((0,c.removeHTMLTag)(S)),.5)&&p.ACTION_TRANSLATE,!v&&d.userStore.isWebLogin&&p.ACTION_IGNORE,v&&(null==I?void 0:I.doDeleteReply)&&p.ACTION_DELETE];return(0,f.jsx)(m.Popover,{style:(0,c.stl)(j.styles.touch,t),data:M.filter((function(e){return!!e})),onSelect:function(e){switch(e){case p.ACTION_LIKES:d.uiStore.showLikesGrid(o,l,_,b,{recommandPosition:"top"});break;case p.ACTION_REPLY:null==I||null==I.showFixedTextarea||I.showFixedTextarea(g,x,O,S),"function"==typeof P&&P();break;case p.ACTION_EDIT:null==I||null==I.showFixedTextareaEdit||I.showFixedTextareaEdit(l,P,T);break;case p.ACTION_COPY:(0,c.copy)((0,c.getCommentPlainText)(S),"已复制 "+g+" 的回复"),(0,a.t)("帖子.复制回复");break;case p.ACTION_COPY_URL:if("string"==typeof o){var s;if(o.includes("blog"))(0,c.copy)((0,u.HTML_BLOG)(null==(s=o.split("/"))?void 0:s[1],l),"已复制");else(0,c.copy)((0,u.HTML_TOPIC)(o,l),"已复制");(0,a.t)("帖子.复制楼层链接")}break;case p.ACTION_TRACK:d.rakuenStore.trackUsersComment(y),(0,a.t)("帖子.特别关注",{userId:y});break;case p.ACTION_UNTRACK:d.rakuenStore.cancelTrackUsersComment(y),(0,a.t)("帖子.取消特别关注",{userId:y});break;case p.ACTION_TRANSLATE:null==I||null==I.doTranslateFloor||I.doTranslateFloor(l,S);break;case p.ACTION_IGNORE:(0,c.confirm)("与 "+g+" 绝交（不再看到用户的所有话题、评论、日志、私信、提醒）?",(0,n.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.rakuenStore.formhash){e.next=3;break}return e.next=3,d.rakuenStore.fetchPrivacy();case 3:d.rakuenStore.doBlockUser({keyword:String(y)},(0,n.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,c.info)("已添加绝交"),(0,c.feedback)(),d.rakuenStore.fetchPrivacy(),(0,a.t)("帖子.绝交");case 4:case"end":return e.stop()}}),e)}))),(function(){(0,c.info)("添加失败, 可能授权信息过期")}));case 4:case"end":return e.stop()}}),e)}))));break;case p.ACTION_DELETE:(0,c.confirm)("确定删除回复?",(function(){return null==I||null==I.doDeleteReply?void 0:I.doDeleteReply(v)}))}},children:(0,f.jsx)(i.Flex,{style:j.styles.icon,justify:"center",children:(0,f.jsx)(i.Iconfont,{style:d._.ml.md,name:"md-more-vert",size:18})})})}))},"./src/screens/_/item/post/icon-extra/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{marginVertical:-8,marginRight:4,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:r._.web(r._.sm,0)}})},"./src/screens/_/item/post/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",userId:"426934",userName:"火龙果汁",replySub:"subReply('group', 379989, 2292543, 0, 456208, 426934, 0)",message:"在单位领导永远不知道我在做什么的能力",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#2-1",id:"2292601",message:"在水bangumi（确信",replySub:"subReply('group',379989,2292543,2292601,426934,329030, 1)",time:"2023-4-4 17:04",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/75/49/754951.jpg?r=1677802277&hd=1",floor:"#2-2",id:"2292622",message:"奶奶的我领导也不知道我在做什么，所以我经常在马桶上接到死亡语音通话。",replySub:"subReply('group',379989,2292543,2292622,426934,754951, 1)",time:"2023-4-4 17:32",userId:"animevaluator",userName:"冷冻水产鉴定员"},{avatar:"//lain.bgm.tv/pic/user/s/000/30/42/304246.jpg?r=1493888995",floor:"#2-3",id:"2292656",message:"压力马斯内",replySub:"subReply('group',379989,2292543,2292656,426934,304246, 1)",time:"2023-4-4 18:06",userId:"304246",userName:"Rくん"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/78/517847.jpg?r=1593354131",floor:"#2-4",id:"2292947",message:"这不是可以无限摸鱼？",replySub:"subReply('group',379989,2292543,2292947,426934,517847, 1)",time:"2023-4-4 22:29",userId:"517847",userName:"mini"},{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",floor:"#2-5",id:"2292949",message:'<div class="quote"><q><span style="font-weight:bold;">mini</span> 说: 这不是可以无限摸鱼？</q></div>但是领导会知道我什么事还没做<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292543,2292949,426934,426934, 1)",time:"2023-4-4 22:30",userId:"426934",userName:"火龙果汁"}],id:"2292543",authorId:"329030",time:"2023-4-4 16:30",floor:"#2",userSign:"(低级趣味无罪)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/43/79/437965.jpg?r=1537852802",userId:"nyanpasspass",userName:"喵帕斯帕斯~",replySub:"subReply('group', 379989, 2292544, 0, 456208, 437965, 0)",message:'耳朵可以动算吗<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#3-1",id:"2292623",message:"意思是你的耳朵很敏感吗？",replySub:"subReply('group',379989,2292544,2292623,437965,765083, 1)",time:"2023-4-4 17:32",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/87/518766.jpg?r=1671898550&hd=1",floor:"#3-2",id:"2292659",message:'自从初中发现自己耳朵会动后,都好久没动了,你不说我都忘了, 刚刚动了下,还是这么自然<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292544,2292659,437965,518766, 1)",time:"2023-4-4 18:09",userId:"klove",userName:"klion"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#3-3",id:"2292662",message:"不算、这个大火都会",replySub:"subReply('group',379989,2292544,2292662,437965,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"}],id:"2292544",authorId:"329030",time:"2023-4-4 16:30",floor:"#3",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/55/22/552259.jpg?r=1671751582&hd=1",userId:"wspr",userName:"Wspr",replySub:"subReply('group', 379989, 2292565, 0, 456208, 552259, 0)",message:"总能抖到机灵",sub:[],id:"2292565",authorId:"329030",time:"2023-4-4 16:45",floor:"#4",userSign:"(你还活着，我为你祝贺)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/35/13/351390.jpg?r=1672240450&hd=1",userId:"lostpig",userName:"𝙇𝙤𝙨𝙩 𝙋𝙞𝙜 🎉",replySub:"subReply('group', 379989, 2292577, 0, 456208, 351390, 0)",message:"我总能找到出路。",sub:[],id:"2292577",authorId:"329030",time:"2023-4-4 16:48",floor:"#5",userSign:"(被遗忘的小猪会被遗忘吗？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/72/99/729908.jpg?r=1678202566&hd=1",userId:"alanyi",userName:"idew",replySub:"subReply('group', 379989, 2292578, 0, 456208, 729908, 0)",message:"体育好",sub:[],id:"2292578",authorId:"329030",time:"2023-4-4 16:50",floor:"#6",userSign:"(人生若只如初见)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/53/34/533424.jpg?r=1657627604",userId:"533424",userName:"Kamikaze",replySub:"subReply('group', 379989, 2292584, 0, 456208, 533424, 0)",message:"削苹果皮极快",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#7-1",id:"2292599",message:"羡慕，不会削",replySub:"subReply('group',379989,2292584,2292599,533424,329030, 1)",time:"2023-4-4 17:02",userId:"329030",userName:"YURI VIOLET"}],id:"2292584",authorId:"329030",time:"2023-4-4 16:52",floor:"#7",userSign:"(坚守正义)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/56/89/568999.jpg?r=1609677640",userId:"didhdifed",userName:"既不是熊也不是猫",replySub:"subReply('group', 379989, 2292589, 0, 456208, 568999, 0)",message:"饭量很大",sub:[],id:"2292589",authorId:"329030",time:"2023-4-4 16:56",floor:"#8",userSign:"(丧钟为谁而鸣？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/70/84/708416.jpg?r=1676045215&hd=1",userId:"708416",userName:"导来也",replySub:"subReply('group', 379989, 2292590, 0, 456208, 708416, 0)",message:"一天导十五发",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#9-1",id:"2292597",message:"？",replySub:"subReply('group',379989,2292590,2292597,708416,329030, 1)",time:"2023-4-4 17:01",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#9-2",id:"2292625",message:"这确实是优势呀，快找个富婆",replySub:"subReply('group',379989,2292590,2292625,708416,765083, 1)",time:"2023-4-4 17:33",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/74/92/749240.jpg?r=1671584659",floor:"#9-3",id:"2292636",message:"今日导五管，明日导十管，然后得一夕安寝，后面忘了",replySub:"subReply('group',379989,2292590,2292636,708416,749240, 1)",time:"2023-4-4 17:46",userId:"749240",userName:"Yuki256"},{avatar:"//lain.bgm.tv/pic/user/s/000/77/24/772497.jpg?r=1680349036&hd=1",floor:"#9-4",id:"2292642",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>这题我会，后日导十五管<span class="text_mask" style="background-color:#555;color:#555;border:1px solid #555;">然后猝死</span>',replySub:"subReply('group',379989,2292590,2292642,708416,772497, 1)",time:"2023-4-4 17:51",userId:"skdsretard",userName:"skdsretard"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#9-5",id:"2292663",message:"导给我吃",replySub:"subReply('group',379989,2292590,2292663,708416,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"},{avatar:"//lain.bgm.tv/pic/user/s/000/70/45/704500.jpg?r=1674046193&hd=1",floor:"#9-6",id:"2292687",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>起视小弟，而牛牛又立起',replySub:"subReply('group',379989,2292590,2292687,708416,704500, 1)",time:"2023-4-4 18:58",userId:"704500",userName:"Saussurea"},{avatar:"//lain.bgm.tv/pic/user/s/000/32/13/321399.jpg?r=1579839352",floor:"#9-7",id:"2292695",message:"不当男优可惜了，汁男也行",replySub:"subReply('group',379989,2292590,2292695,708416,321399, 1)",time:"2023-4-4 19:12",userId:"josh",userName:"娇尸"},{avatar:"//lain.bgm.tv/pic/user/s/000/72/91/729174.jpg?r=1666191422",floor:"#9-8",id:"2292990",message:"？",replySub:"subReply('group',379989,2292590,2292990,708416,729174, 1)",time:"2023-4-4 23:03",userId:"wlx321",userName:"wlx321"},{avatar:"//lain.bgm.tv/pic/user/s/000/29/56/295606.jpg?r=1510443424",floor:"#9-9",id:"2293068",message:"什麼超導體",replySub:"subReply('group',379989,2292590,2293068,708416,295606, 1)",time:"2023-4-4 23:45",userId:"295606",userName:"absurd"}],id:"2292590",authorId:"329030",time:"2023-4-4 16:56",floor:"#9",userSign:"(胶遁！。。。哎，什么来着？)",rendered:!1}]},"./src/screens/_/item/post/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/post/index.tsx"),i=t("./src/screens/_/item/post/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemPost",component:n.ItemPost};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemPost,Object.assign({},e))})})}).args=i.list[7];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemPost,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/post/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.sub.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemPost=void 0,Object.defineProperty(s,"ItemPostProps",{enumerable:!0,get:function(){return f.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=r(t("./src/utils/thirdParty/html-entities-decoder.ts")),l=t("./src/constants/index.ts"),a=r(t("./src/screens/_/item/post/item.tsx")),u=r(t("./src/screens/_/item/post/plus-one/index.tsx")),m=t("./src/screens/_/item/post/utils.ts"),p=t("./src/screens/_/item/post/ds.ts"),j=t("./src/screens/_/item/post/styles.web.ts"),f=t("./src/screens/_/item/post/types.ts"),_=t("./node_modules/react/jsx-runtime.js"),b=s.ItemPost=(0,d.obc)((function(e,s){var t,r,d,p,f,b,x=e.inViewY,v=e.index,y=e.contentStyle,g=e.extraStyle,h=e.avatar,O=e.userId,S=e.userName,T=e.replySub,P=e.message,I=e.sub,M=e.id,C=e.authorId,E=e.postId,N=e.time,k=e.floor,w=e.userSign,A=e.erase,D=e.rendered,R=e.matchLink,L=e.expandNums,F=e.event,H=e.showFixedTextare,B=e.onJumpTo,z=s.$;if(!O)return null;var V="Topic|"+M;if((0,m.isBlockUser)(O,S,T,V))return null;var W=(0,c.default)(P),q=W.includes("删除了回复");if(q&&n.rakuenStore.setting.filterDelete)return null;var U=(0,j.memoStyles)(),G=(null==z||null==(t=z.params)?void 0:t._url)||l.HOST+"/rakuen/topic/"+(null==z?void 0:z.topicId),K=(null==z||null==(r=z.state)?void 0:r.directFloor)===k,Y=C===O,Z=null==z||null==(d=z.myFriendsMap)?void 0:d[O],J=!I.length&&W.length<=10&&(W.toLocaleLowerCase().includes("mark")||W.includes("+1"));if(q||J)return(0,_.jsx)(o.Component,{id:"item-post","data-key":M,"data-type":"plus-one",style:U.delete,children:(0,_.jsx)(u.default,{id:M,message:P,userId:O,userName:S,avatar:h,url:G,floor:k,directFloor:K,isAuthor:Y,isFriend:Z,event:F})});var X,$=(null==z?void 0:z.state)||{},Q=$.expands,ee=$.translateResultFloor,se=Number(L||n.rakuenStore.setting.subExpand);X=void 0===se||(I.length<=se||I.length>se&&(null==Q?void 0:Q.includes(M)));var te=null==z||null==(p=z.readed)?void 0:p._time,re=!!te&&(0,i.getTimestamp)(N)>te,oe=!!E&&E===M;return(0,i.getIsBlocked)(n.rakuenStore.setting.blockKeywords,W,V)&&(W='<span style="color:#999;font-size:13px">已屏蔽</span>'),(0,_.jsx)(a.default,{inViewY:x,index:v,contentStyle:y,extraStyle:g,topicId:(null==z?void 0:z.topicId)||(null!=z&&z.blogId?"blog/"+(null==z?void 0:z.blogId):void 0),authorId:C,avatar:h,erase:A,floor:k,directFloor:K,id:M,isAuthor:Y,isExpand:X,isFriend:Z,isJump:oe,isNew:re,matchLink:void 0===R?D:R,msg:W,postId:E,readedTime:te,replySub:T,expandNums:se,sub:I,time:N,translate:null==ee?void 0:ee[M],url:G,userId:O,userName:S,userSign:w,formhash:null==z||null==(f=z.topic)?void 0:f.formhash,likeType:null==z||null==(b=z.topic)?void 0:b.likeType,event:F,onJumpTo:B,onLikesLongPress:n.uiStore.showLikesUsers,onShowFixedTextare:H,onToggleExpand:null==z?void 0:z.toggleExpand})}),p.COMPONENT);s.default=b},"./src/screens/_/item/post/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.sub.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/utils/decorators/index.ts"),n=t("./src/utils/dev/index.ts"),i=r(t("./src/screens/_/item/post/avatar/index.tsx")),d=r(t("./src/screens/_/item/post/container/index.tsx")),c=r(t("./src/screens/_/item/post/container-layout/index.tsx")),l=r(t("./src/screens/_/item/post/floor-direct/index.tsx")),a=r(t("./src/screens/_/item/post/floor-main/index.tsx")),u=r(t("./src/screens/_/item/post/floor-new/index.tsx")),m=r(t("./src/screens/_/item/post/floor-sub/index.tsx")),p=t("./src/screens/_/item/post/ds.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=(0,o.memo)((function(e){var s=e.inViewY,t=e.index,r=e.contentStyle,o=e.extraStyle,f=e.topicId,_=e.authorId,b=e.avatar,x=e.erase,v=e.floor,y=e.directFloor,g=e.id,h=e.isAuthor,O=e.isExpand,S=e.isFriend,T=e.isJump,P=e.isNew,I=e.matchLink,M=e.msg,C=e.postId,E=e.readedTime,N=e.replySub,k=e.expandNums,w=e.sub,A=e.time,D=e.translate,R=e.url,L=e.userId,F=e.userName,H=e.userSign,B=e.formhash,z=e.likeType,V=e.event,W=e.onJumpTo,q=e.onLikesLongPress,U=e.onShowFixedTextare,G=e.onToggleExpand;return(0,n.r)(p.COMPONENT_MAIN),(0,j.jsxs)(d.default,{id:g,subLength:w.length,children:[(0,j.jsxs)(c.default,{id:g,subLength:w.length,isJump:T,children:[P&&(0,j.jsx)(u.default,{}),(0,j.jsx)(i.default,{index:t,inViewY:s,userId:L,userName:F,avatar:b,event:V}),(0,j.jsx)(a.default,{contentStyle:r,extraStyle:o,topicId:f,erase:x,floor:v,id:g,isAuthor:h,isFriend:S,matchLink:I,msg:M,replySub:N,time:A,translate:D,url:R,userId:L,userName:F,userSign:H,formhash:B,likeType:z,event:V,onJumpTo:W,onLikesLongPress:q,onShowFixedTextare:U}),y&&(0,j.jsx)(l.default,{})]}),(0,j.jsx)(m.default,{extraStyle:o,authorId:_,id:g,isExpand:O,matchLink:I,postId:C,readedTime:E,expandNums:k,sub:w,url:R,userId:L,event:V,onJumpTo:W,onLikesLongPress:q,onShowFixedTextare:U,onToggleExpand:G})]})}),p.DEFAULT_PROPS);s.default=f},"./src/screens/_/item/post/mark/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/screens/_/base/index.ts"),a=t("./src/screens/_/item/post/mark/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=e.style,r=void 0===t?void 0:t,c=e.id,m=e.message,p=e.userId,j=e.userName,f=e.avatar,_=e.url,b=e.directFloor,x=e.event,v=s.navigation,y=(0,a.memoStyles)(),g=i.systemStore.setting.avatarRound,h=i._.window.width-i._.wind-20-i._.sm;return(0,u.jsxs)(n.Flex,{style:r?[y.item,r]:y.item,children:[(0,u.jsxs)(n.Flex,{style:g?y.round:y.rectangle,children:[(0,u.jsx)(o.default,{style:i._.mr.sm,children:(0,u.jsx)(n.UserStatus,{userId:p,mini:!0,children:(0,u.jsx)(n.Avatar,{navigation:v,size:20,userId:p,name:j,src:f,event:x})})}),(0,u.jsx)(l.Name,{userId:p,size:10,bold:!0,children:(0,d.HTMLDecode)(j)})]}),(0,u.jsx)(n.RenderHtml,{style:i._.ml.sm,baseFontStyle:i._.baseFontStyle.sm,imagesMaxWidth:h,html:m,onLinkPress:function(e){(0,d.appNavigate)(e,v,{},x)},onImageFallback:function(){return(0,d.open)(_+"#post_"+c)}}),b&&(0,u.jsx)(o.default,{style:y.direct,pointerEvents:"none"})]})}))},"./src/screens/_/item/post/mark/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{item:{paddingRight:r._.sm+2,paddingTop:r._.sm},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm},direct:{position:"absolute",top:-3,right:0,bottom:-10,left:4-r._._wind,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}}))},"./src/screens/_/item/post/plus-one/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/screens/_/base/index.ts"),a=r(t("./src/screens/_/item/post/user-label/index.tsx")),u=t("./src/screens/_/item/post/plus-one/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=e.id,r=e.message,c=e.userId,p=e.userName,j=e.avatar,f=e.url,_=e.floor,b=e.directFloor,x=e.isAuthor,v=e.isFriend,y=e.isLayer,g=e.event,h=s.navigation,O=(0,u.memoStyles)(),S=i.systemStore.setting.avatarRound,T=i._.window.width-2*i._.wind-40-2*i._.sm;return(0,m.jsxs)(o.default,{style:O.item,children:[(0,m.jsxs)(n.Flex,{children:[(0,m.jsxs)(n.Flex,{style:S?O.round:O.rectangle,children:[(0,m.jsx)(o.default,{style:i._.mr.xs,children:(0,m.jsx)(n.UserStatus,{userId:c,mini:!0,children:(0,m.jsx)(n.Avatar,{navigation:h,size:20,userId:c,name:p,src:j,radius:S?void 0:6,event:g})})}),(0,m.jsx)(l.Name,{userId:c,size:10,bold:!0,children:(0,d.HTMLDecode)(p)}),(0,m.jsx)(a.default,{isAuthor:x,isFriend:v,isLayer:y,lineHeight:10})]}),(0,m.jsxs)(n.Flex,{style:O.html,align:"end",children:[(0,m.jsx)(n.RenderHtml,{style:i._.ml.sm,baseFontStyle:i._.baseFontStyle.sm,imagesMaxWidth:T,html:r,onLinkPress:function(e){(0,d.appNavigate)(e,h,{},g)},onImageFallback:function(){return(0,d.open)(f+"#post_"+t)}}),!!_&&(0,m.jsxs)(n.Text,{type:"sub",size:11,lineHeight:14,children:["  ",_]})]})]}),b&&(0,m.jsx)(o.default,{style:O.direct,pointerEvents:"none"})]})}))},"./src/screens/_/item/post/plus-one/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{item:{marginBottom:r._.md},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm},html:{marginTop:-4},direct:{position:"absolute",top:-10,right:-12,bottom:-10,left:-12,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}}))},"./src/screens/_/item/post/styles.main.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{delete:{paddingBottom:r._.sm,paddingHorizontal:r._.wind}}}))},"./src/screens/_/item/post/styles.web.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"memoStyles",{enumerable:!0,get:function(){return r.memoStyles}}),t("./src/screens/_/item/post/index.scss");var r=t("./src/screens/_/item/post/styles.main.ts")},"./src/screens/_/item/post/sub/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.REG_PLUS=s.REG_BGM=s.DEFAULT_PROPS=s.AVATAR_WIDTH=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.DEFAULT_PROPS={navigation:{},styles:{},extraStyle:{},topicId:"",authorId:"",avatar:"",blockKeywords:[],erase:"",filterDelete:!0,floor:"",directFloor:!1,id:0,isBlockUser:!1,matchLink:!1,message:"",myFriendsMap:{},postId:"",postUsersMap:{},quote:!0,quoteAvatar:!0,wide:!1,readedTime:"",replySub:"",time:"",translate:"",uid:"",url:"",userId:"",userName:"",formhash:"",like:!1,likeType:"",event:o.EVENT,onJumpTo:o.FROZEN_FN,onLikesLongPress:o.FROZEN_FN,onShowFixedTextare:o.FROZEN_FN},s.REG_BGM=/^<img src="\/img\/smiles\/tv\/\d+\.gif" smileid="\d+" alt="\(bgm\d+\)">$/,s.REG_PLUS=/\+\d/,s.AVATAR_WIDTH=r._.r(32)},"./src/screens/_/item/post/sub/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/item/post/utils.ts"),d=r(t("./src/screens/_/item/post/sub/item.tsx")),c=t("./src/screens/_/item/post/sub/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t,r,n,a=e.extraStyle,u=e.authorId,m=e.avatar,p=e.erase,j=e.floor,f=e.id,_=e.matchLink,b=e.message,x=e.postId,v=e.readedTime,y=e.replySub,g=e.time,h=e.uid,O=e.url,S=e.userId,T=e.userName,P=e.event,I=e.onJumpTo,M=e.onShowFixedTextare,C=s.$,E=s.navigation;if(!S)return null;if((0,i.isBlockUser)(S,T,y))return null;var N=((null==C?void 0:C.state)||{}).translateResultFloor,k=o.rakuenStore.setting,w=k.blockKeywords,A=k.quote,D=k.quoteAvatar,R=k.wide;return(0,l.jsx)(d.default,{navigation:E,styles:(0,c.memoStyles)(),extraStyle:a,topicId:(null==C?void 0:C.topicId)||(null!=C&&C.blogId?"blog/"+(null==C?void 0:C.blogId):void 0),authorId:u,avatar:m,blockKeywords:w,erase:p,filterDelete:o.rakuenStore.setting.filterDelete,floor:j,directFloor:(null==C||null==(t=C.state)?void 0:t.directFloor)===j,id:f,isBlockUser:null==C?void 0:C.isBlockUser,matchLink:_,message:b,myFriendsMap:null==C?void 0:C.myFriendsMap,postId:x,postUsersMap:null==C?void 0:C.postUsersMap,quote:A,quoteAvatar:D,wide:R,readedTime:v,replySub:y,time:g,translate:null==N?void 0:N[f],uid:h,url:O,userId:S,userName:T,formhash:null==C||null==(r=C.topic)?void 0:r.formhash,like:o.rakuenStore.commentTracked(S),likeType:null==C||null==(n=C.topic)?void 0:n.likeType,event:P,onJumpTo:I,onLikesLongPress:null==C?void 0:C.showLikesUsers,onShowFixedTextare:M})}))},"./src/screens/_/item/post/sub/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=r(t("./src/utils/thirdParty/html-entities-decoder.ts")),a=t("./src/screens/_/item/post/ds.ts"),u=t("./src/screens/_/base/index.ts"),m=r(t("./src/screens/_/item/post/collapsed-html/index.tsx")),p=r(t("./src/screens/_/item/post/floor-new/index.tsx")),j=r(t("./src/screens/_/item/post/floor-text/index.tsx")),f=r(t("./src/screens/_/item/post/icon-extra/index.tsx")),_=r(t("./src/screens/_/item/post/mark/index.tsx")),b=r(t("./src/screens/_/item/post/plus-one/index.tsx")),x=r(t("./src/screens/_/item/post/user-label/index.tsx")),v=t("./src/screens/_/item/post/utils.ts"),y=t("./src/screens/_/item/post/sub/ds.ts"),g=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.memo)((function(e){var s,t=e.navigation,r=e.styles,c=e.extraStyle,h=e.topicId,O=e.authorId,S=e.avatar,T=e.blockKeywords,P=e.erase,I=e.filterDelete,M=e.floor,C=e.directFloor,E=e.id,N=e.isBlockUser,k=e.matchLink,w=e.message,A=e.myFriendsMap,D=e.postId,R=e.postUsersMap,L=e.quote,F=e.quoteAvatar,H=e.wide,B=e.readedTime,z=e.replySub,V=e.time,W=e.translate,q=e.uid,U=e.url,G=e.userId,K=e.userName,Y=e.formhash,Z=e.like,J=e.likeType,X=e.event,$=e.onJumpTo,Q=e.onLikesLongPress,ee=e.onShowFixedTextare,se=(0,l.default)(w),te=(0,d.removeHTMLTag)(se),re=te.includes("删除了回复");if(I&&re)return null;var oe=O===G,ne=!oe&&q===G,ie=A[G];if(re||te.length<=10&&y.REG_PLUS.test(te)||y.REG_BGM.test(se.trim()))return(0,g.jsx)(n.Component,{id:"item-post-sub","data-key":E,"data-type":"plus-one",children:(0,g.jsx)(b.default,{id:E,message:w,userId:G,userName:K,avatar:S,url:U,directFloor:C,isAuthor:oe,isFriend:ie,isLayer:ne,event:X})});if(te.length<=8&&a.REG_MARK.test(te))return(0,g.jsx)(n.Component,{id:"item-post-sub","data-key":E,"data-type":"mark",children:(0,g.jsx)(_.default,{id:E,message:se,userId:G,userName:K,avatar:S,url:U,directFloor:C,event:X})});var de=null==(s=te.match(/^(.+?)说:/))?void 0:s[1],ce=de?R[de]:"";if(ce){var le=(0,d.matchUserIdFromAvatar)(ce.avatar);if(le&&"function"==typeof N&&N(le,de))return null}(0,d.getIsBlocked)(T,te,"Topic|"+E)&&(w='<span style="color:#999;font-size:12px">已屏蔽</span>');var ae=!!B&&(0,d.getTimestamp)(V)>B,ue=!!D&&D===E,me=L&&F&&!!ce;return(0,g.jsxs)(n.Component,{id:"item-post-sub","data-key":E,style:i._.container.block,children:[ae&&(0,g.jsx)(p.default,{mini:!0}),(0,g.jsxs)(n.Flex,{style:r.item,align:"start",onLayout:function(e){try{v.layoutHeightMap.set(Number(E),Math.max(1,e.nativeEvent.layout.height))}catch(e){}},children:[(0,g.jsx)(u.UserStatusAvatar,{navigation:t,like:Z,userId:G,userName:K,avatar:S,size:36,event:X}),(0,g.jsxs)(n.Flex.Item,{style:r.content,children:[(0,g.jsxs)(n.Flex,{align:"start",children:[(0,g.jsx)(n.Flex.Item,{children:(0,g.jsx)(u.Name,{userId:G,size:K.length>10?12:14,lineHeight:14,bold:!0,right:(0,g.jsx)(x.default,{isAuthor:oe,isFriend:ie,isLayer:ne}),children:(0,d.HTMLDecode)(K)})}),(0,g.jsx)(f.default,{style:c,topicId:h,id:E,formhash:Y,likeType:J,replySub:z,erase:P,userId:G,userName:K,message:w,msg:se,onJumpTo:$,onShowFixedTextare:ee})]}),(0,g.jsx)(j.default,{time:V,floor:M}),(0,g.jsxs)(o.default,{style:r.html,children:[(0,g.jsx)(m.default,{navigation:t,style:H&&r.wide,id:E,msg:se,url:U,imagesMaxWidth:a.IMAGES_MAX_WIDTH_SUB,matchLink:k,event:X}),!!W&&(0,g.jsx)(n.Text,{style:r.translate,size:11,lineHeight:13,children:W}),me&&(0,g.jsxs)(n.Flex,{style:(0,d.stl)(r.quoteUserRound,H&&r.quoteUserRoundWide),children:[(0,g.jsx)(n.Avatar,{navigation:t,size:13,userId:ce.userId,name:ce.userName,src:ce.avatar,radius:i.systemStore.setting.avatarRound?void 0:4,event:X}),(0,g.jsxs)(n.Text,{type:i._.select("desc","sub"),size:12,bold:!0,children:[" ",ce.userName,":"]})]}),(0,g.jsx)(u.Likes,{style:H&&r.likesWide,topicId:h,id:E,formhash:Y,likeType:J,onLongPress:Q})]})]}),C?(0,g.jsx)(o.default,{style:r.direct,pointerEvents:"none"}):ue?(0,g.jsx)(o.default,{style:[r.direct,r.directJump],pointerEvents:"none"}):null]})]})}),y.DEFAULT_PROPS)},"./src/screens/_/item/post/sub/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/post/sub/ds.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.sm,s=-(o.AVATAR_WIDTH+e+4);return{item:{width:"100%",paddingLeft:r._.sm},content:{paddingBottom:r._.md,marginLeft:e},html:{paddingRight:r._.sm,marginTop:r._.xs},quoteUserRound:{position:"absolute",top:11,left:10.5,zIndex:1,padding:2,backgroundColor:r._.colorBg},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"},wide:{paddingRight:r._.sm,marginTop:4,marginLeft:s},quoteUserRoundWide:{top:15,left:11,marginLeft:s},likesWide:{marginLeft:s},direct:{position:"absolute",top:-8,right:0,bottom:8,left:-2,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},directJump:{borderWidth:1,borderColor:r._.colorSuccess}}}))},"./src/screens/_/item/post/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/post/user-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.slice.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.isAuthor,t=void 0!==s&&s,r=e.isFriend,n=void 0!==r&&r,d=e.isLayer,c=void 0!==d&&d,l=e.userSign,a=void 0===l?void 0:l,u=e.lineHeight,m=void 0===u?14:u;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)(o.Text,{type:"main",size:10,lineHeight:m,bold:!0,children:[" ","作者"]}),n&&!t&&(0,i.jsxs)(o.Text,{type:"warning",size:10,lineHeight:m,bold:!0,children:[" ","好友"]}),c&&!t&&!n&&(0,i.jsxs)(o.Text,{type:"primary",size:10,lineHeight:m,bold:!0,children:[" ","层主"]}),!!a&&(0,i.jsxs)(o.Text,{type:"sub",size:10,lineHeight:m,children:[" ","(",null==a?void 0:a.slice(1,(null==a?void 0:a.length)-1),")"]})]})}))},"./src/screens/_/item/post/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.isBlockUser=function(e,s){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,d=-1!==n.rakuenStore.blockUserIds.findIndex((function(r){var n=r.split("@"),i=(0,o.default)(n,2),d=i[0],c=i[1];if("undefined"===c)return d===s;if(t){var l=t.split(",");if(7===l.length&&c==l[5])return!0}return c==e||d===s}));if(d&&r){var c=e+"|"+r;i.has(c)||(i.set(c,!0),setTimeout((function(){n.rakuenStore.trackBlockedUser(e)}),0))}return d},s.layoutHeightMap=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=t("./src/stores/index.ts"),i=(s.layoutHeightMap=new Map,new Map)},"./src/screens/_/item/say/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemSay")},"./src/screens/_/item/say/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{position:"right",avatar:"https://api.bgm.tv/v0/users/sukaretto/avatar?type=large",showName:!0,name:"咕咕子❶",text:"今日咖啡：辛鹿 3号 神奇樱桃蜜柚",id:"sukaretto",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/casserole/avatar?type=large",showName:!0,name:"Casserole",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;Myanimelist&#x540C;&#x6B65;",id:"casserole",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/772257/avatar?type=large",showName:!0,name:"Armin",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#x6240;&#x6709;&#x7684;&#x6536;&#x85CF;&#x90FD;&#x8BBE;&#x4E3A;&#x79C1;&#x5BC6;&#xFF0C;&#x5305;&#x62EC;&#x5728;&#x770B;&#x548C;&#x770B;&#x8FC7;&#x4E5F;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#xFF0C;&#x8C22;&#x8C22;&#xFF01;",id:"772257",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/516549/avatar?type=large",showName:!0,name:"希望人冇事",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5DF2;&#x5B8C;&#x7ED3;&#x7684;&#x756A;&#x5267;&#x4ECD;&#x7136;&#x663E;&#x793A;&#x660E;&#x65E5;(bgm34) <a href="https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg" class="l" rel="nofollow external noopener noreferrer" target="_blank">https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg</a>',id:"516549",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/569814/avatar?type=large",showName:!0,name:"标签贰零零壹",text:"bug&#x540C;&#x4E0A;",id:"569814",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/498672/avatar?type=large",showName:!0,name:"川上晴生",text:"&#x60F3;&#x95EE;&#x4E0B;&#x6CA1;&#x6709;&#x9ED1;&#x540D;&#x5355;&#x529F;&#x80FD;&#x5417;&#xFF1F;&#x73B0;&#x5728;&#x7684;&#x5C4F;&#x853D;&#x611F;&#x89C9;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#x7528;&#xFF0C;&#x6362;&#x8BBE;&#x5907;&#x53C8;&#x4F1A;&#x770B;&#x5230;&#x4E86;",id:"498672",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/jin100497/avatar?type=large",showName:!0,name:"100497",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5E0C;&#x671B;&#x589E;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x56FE;&#x7247;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#xFF0C;&#x8C22;&#x8C22;',id:"jin100497",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/734240/avatar?type=large",showName:!0,name:"黑色幽默",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x52A0;&#x8F7D;&#x52A8;&#x753B;&#x53EF;&#x4EE5;&#x8BBE;&#x8BA1;&#x6210;&#x70B9;&#x70B9;&#x70B9;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8FD9;&#x4E2A;BGM&#x5A18;&#x7728;&#x773C;&#x775B;&#xFF0C;&#x4ED6;&#x8FD9;&#x4E2A;&#x6D41;&#x5149;&#x8BBE;&#x8BA1;&#x4E0D;&#x662F;&#x5F88;&#x660E;&#x663E;',id:"734240",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/re0_sjz/avatar?type=large",showName:!0,name:"Re:0_SJZ",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a>\n&#x80FD;&#x4E0D;&#x80FD;&#x6DFB;&#x52A0; &#x8D85;&#x5408;&#x91D1;&#x7EC4;&#x4EF6;&#x91CC;&#x7684;\n&#x70B9;&#x51FB;&#x770B;&#x8FC7;&#x65F6;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;\n&#x5728;&#x7AE0;&#x8282;&#x9875;&#x9762;&#x5185;&#x4FEE;&#x6539;&#x6536;&#x85CF;&#x72B6;&#x6001;&#x4E3A;&#x770B;&#x8FC7;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x7684;&#x96C6;&#x6570;&#xFF0C;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;&#xFF0E; sp &#x8FDB;&#x5EA6;&#x4F1A;&#x4FDD;&#x7559;&#x539F;&#x6837;&#x4E66;&#x7C4D;&#x548C;&#x52A8;&#x753B;&#x4EE5;&#x53CA;&#x4E09;&#x6B21;&#x5143;&#x5747;&#x6709;&#x6548;&#xFF0E;..',id:"re0_sjz",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/a4paper/avatar?type=large",showName:!0,name:"nodame",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x66F4;&#x65B0;&#x6700;&#x65B0;&#x7248;&#x540E;&#xFF0C;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#xFF0C;CDN&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED;',id:"a4paper",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/nofttwiq/avatar?type=large",showName:!0,name:"Nofttwiq.",text:"&#x53CD;&#x9988;&#xFF0C;&#x5B89;&#x5353;&#x8FDB;&#x5EA6;&#x91CC;&#x7684;&#x81EA;&#x52A8;&#x8C03;&#x8282;&#x7AE0;&#x8282;&#x6309;&#x94AE;&#x5927;&#x5C0F;&#x5173;&#x95ED;&#x4E4B;&#x540E;&#xFF0C;&#x9000;&#x51FA;&#x5E94;&#x7528;&#xFF0C;&#x540E;&#x53F0;&#x6E05;&#x7406;&#x540E;&#xFF0C;&#x56DE;&#x5230;&#x5E94;&#x7528;&#x9009;&#x9879;&#x4F1A;&#x518D;&#x6B21;&#x6253;&#x5F00;&#xFF0C;&#x6BCF;&#x8FDB;&#x4E00;&#x6B21;&#x5C31;&#x8981;&#x91CD;&#x65B0;&#x8FDB;&#x8BBE;&#x7F6E;&#x8C03;&#x4E00;&#x6B21;",id:"nofttwiq",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/ilris/avatar?type=large",showName:!0,name:"Sisbell",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> [&#x7591;&#x4F3C;BUG]&#x67E5;&#x770B;&#x6761;&#x76EE;&#x4E0B;&#x4EBA;&#x7269;&#x5410;&#x69FD;&#x533A;&#x65F6;&#x5076;&#x7136;&#x53D1;&#x73B0;&#xFF0C;&#x5410;&#x69FD;&#x52A0;&#x8F7D;&#x697C;&#x5C42;&#x6570;&#x4F3C;&#x4E4E;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;22&#x5C42;&#xFF0C;&#x8D85;&#x8FC7;&#x4FBF;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x4E14;&#x6301;&#x7EED;&#x663E;&#x793A;&#x52A0;&#x8F7D;&#x4E2D;&#x3002;&#x6682;&#x4E0D;&#x6E05;&#x695A;&#x4ECE;&#x4EC0;&#x4E48;&#x7248;&#x672C;&#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x5E94;&#x8BE5;&#x4E5F;&#x6CA1;&#x95EE;&#x9898;&#x3002;(bgm38)',id:"ilris",format:!0}]},"./src/screens/_/item/say/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/screens/_/item/say/index.tsx"),d=t("./src/screens/_/item/say/index.mock.tsx"),c=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemSay",component:i.ItemSay};(s.Item=function(e){return(0,c.jsx)(o.StorybookPage,{children:(0,c.jsx)(o.Flex.Item,{children:(0,c.jsx)(i.ItemSay,Object.assign({},e))})})}).args=d.list[0];s.List=function(){return(0,c.jsx)(o.StorybookPage,{children:(0,c.jsx)(o.StorybookList,{style:n._.container.wind,children:d.list.map((function(e){return(0,c.jsx)(i.ItemSay,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/say/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemSay=void 0,Object.defineProperty(s,"ItemSayProps",{enumerable:!0,get:function(){return j.Props}}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/base/index.ts"),u=t("./src/screens/_/item/say/utils.ts"),m=t("./src/screens/_/item/say/ds.ts"),p=t("./src/screens/_/item/say/styles.ts"),j=t("./src/screens/_/item/say/types.ts"),f=t("./node_modules/react/jsx-runtime.js"),_=s.ItemSay=(0,c.obc)((function(e,s){var t=e.event,r=void 0===t?l.EVENT:t,c=e.position,m=void 0===c?"left":c,j=e.avatar,_=e.showName,b=e.name,x=e.text,v=e.id,y=e.time,g=e.format,h=void 0===g||g,O=e.onLongPress,S=void 0===O?l.FROZEN_FN:O,T=s.navigation,P=(0,p.memoStyles)();return"right"===m?(0,f.jsx)(n.Component,{id:"item-say","data-type":"right",children:(0,f.jsxs)(n.Flex,{style:_?i._.mt.md:i._.mt.sm,align:"start",children:[(0,f.jsx)(n.Flex.Item,{style:P.contentRight,children:(0,f.jsxs)(n.Flex,{direction:"column",align:"end",children:[_&&(0,f.jsxs)(n.Text,{style:i._.mr.sm,size:11,type:"title",bold:!0,children:[!!y&&(0,f.jsxs)(n.Text,{type:"sub",size:11,bold:!0,children:[y," · "]}),b]}),(0,f.jsx)(o.default,{style:[P.text,P.textActive,i._.mt.xs],children:(0,f.jsx)(n.RenderHtml,{baseFontStyle:P.baseFontStyleRight,linkStyle:P.linkStyleRight,html:h?(0,u.getBgmHtml)(x):x,onLinkPress:function(e){return(0,d.appNavigate)(e,T,{},r)}})})]})}),(0,f.jsx)(n.Flex,{style:P.avatarWrapRight,justify:"center",children:(0,f.jsx)(n.UserStatus,{userId:v,children:(0,f.jsx)(n.Avatar,{navigation:T,src:j,size:34,userId:v,name:b,borderWidth:0,event:r})})})]})}):(0,f.jsx)(n.Component,{id:"item-say","data-type":"left",children:(0,f.jsxs)(n.Flex,{style:_?i._.mt.md:i._.mt.sm,align:"start",children:[(0,f.jsx)(n.Flex,{style:P.avatarWrapLeft,justify:"center",children:(0,f.jsx)(n.UserStatus,{userId:v,children:(0,f.jsx)(n.Avatar,{navigation:T,src:j,size:34,userId:v,name:b,borderWidth:0,event:r,onLongPress:S})})}),(0,f.jsx)(n.Flex.Item,{style:P.contentLeft,children:(0,f.jsxs)(n.Flex,{direction:"column",align:"start",children:[_&&(0,f.jsx)(o.default,{style:i._.ml.sm,children:(0,f.jsx)(a.Name,{userId:v,showFriend:!0,size:11,type:"title",bold:!0,right:!!y&&(0,f.jsxs)(n.Text,{type:"sub",size:11,bold:!0,children:[" · ",y]}),children:b})}),(0,f.jsx)(o.default,{style:[P.text,i._.mt.xs],children:(0,f.jsx)(n.RenderHtml,{baseFontStyle:P.baseFontStyle,html:h?(0,u.getBgmHtml)(x):x,onLinkPress:function(e){return(0,d.appNavigate)(e,T,{},r)}})})]})})]})})}),m.COMPONENT);s.default=_},"./src/screens/_/item/say/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{avatarWrapLeft:{position:"absolute",zIndex:1,left:0,bottom:0,width:40,height:40},avatarWrapRight:{position:"absolute",zIndex:1,right:0,bottom:0,width:40,height:40},contentLeft:{maxWidth:"88%",marginBottom:24,marginLeft:24},contentRight:{maxWidth:"88%",marginLeft:"12%",marginBottom:24,marginRight:24},text:{maxWidth:"100%",paddingVertical:12,paddingHorizontal:16,marginRight:24,backgroundColor:r._.colorPlain,borderRadius:16},textActive:{marginRight:0,marginLeft:24,backgroundColor:r._.colorPrimary,borderTopLeftRadius:16},baseFontStyle:{fontSize:14+r._.fontSizeAdjust,lineHeight:22},baseFontStyleRight:{fontSize:14+r._.fontSizeAdjust,lineHeight:22,color:r._.__colorPlain__},linkStyleRight:{color:r._.__colorPlain__,textDecorationColor:r._.__colorPlain__}}}))},"./src/screens/_/item/say/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/say/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.string.replace.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getBgmHtml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=e.match(/\(bgm\d+\)/g)||[];s.length&&s.forEach((function(s){var t=parseInt(s.match(/\d+/g)[0]);e=e.replace(s,'<img smileid alt="(bgm~~~'+t+')" />')}));return e.replace(/~~~/g,"")}},"./src/screens/_/item/search/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/constants/index.ts"),n=t("./src/screens/_/item/ds.ts"),i=s.COMPONENT=(0,r.rc)(n.COMPONENT,"ItemSearch");s.COMPONENT_MAIN=(0,r.rc)(i),s.DEFAULT_PROPS={navigation:{},styles:{},style:{},index:0,id:"",name:"",nameCn:"",cover:"",typeCn:"",tip:"",rank:"",score:"",total:"",comments:"",collection:"",collected:!1,showManage:!0,position:[],screen:"",event:o.EVENT}},"./src/screens/_/item/search/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{id:"/subject/296739",name:"ヴィンランド・サガ SEASON 2",nameCn:"冰海战记 第二季",cover:"//lain.bgm.tv/pic/cover/c/a4/16/296739_71dLe.jpg",typeCn:"动画",tip:"24话 / 2023年1月9日 / 籔田修平 / 幸村誠「ヴィンランド・サガ」（講談社『アフタヌーン』連載） / 阿比留隆彦；副人物设定：若狭賢史、辻村幸輝、あべたくじ（阿部卓司）、渡辺慶子、色部美穂、安食圭 ",rank:"186",score:"8.1",total:"(1132人评分)",collection:"",collected:!1},{id:"/subject/425211",name:"かぐや様は告らせたい-ファーストキッスは終わらない-",nameCn:"辉夜大小姐想让我告白-初吻不会结束-",cover:"//lain.bgm.tv/pic/cover/c/ca/79/425211_bPbra.jpg",typeCn:"动画",tip:"4话 / 2023年3月31日 / 畠山守(小俣真一) / 赤坂アカ （集英社「週刊ヤングジャンプ」連載） / 八尋裕子 ",rank:"236",score:"8.1",total:"(664人评分)",collection:"搁置",collected:!1},{id:"/subject/404804",name:"天国大魔境",nameCn:"天国大魔境",cover:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛 ",rank:"277",score:"7.9",total:"(599人评分)",collection:"在看",collected:!0},{id:"/subject/376739",name:"進撃の巨人 The Final Season 完結編 前編",nameCn:"进击的巨人 最终季 完结篇 前篇",cover:"//lain.bgm.tv/pic/cover/c/4f/33/376739_KMN9x.jpg",typeCn:"动画",tip:"1话 / 2023年3月3日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋 ",rank:"431",score:"7.8",total:"(2003人评分)",collection:"想看",collected:!0},{id:"/subject/378862",name:"お兄ちゃんはおしまい！",nameCn:"别当欧尼酱了！",cover:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",typeCn:"动画",tip:"12话 / 2023年1月5日 / 藤井慎吾 / ねことうふ（月刊ComicREX／一迅社刊） / 今村亮 ",rank:"563",score:"7.7",total:"(5885人评分)",collection:"看过",collected:!0},{id:"/subject/362335",name:"グリッドマン ユニバース",nameCn:"古立特宇宙",cover:"//lain.bgm.tv/pic/cover/c/76/b8/362335_VhtRE.jpg",typeCn:"动画",tip:"1话 / 2023年3月24日 / 雨宮哲 / グリッドマン / 坂本勝 ",rank:"565",score:"8.1",total:"(68人评分)",collection:"",collected:!0},{id:"/subject/325587",name:"やはり俺の青春ラブコメはまちがっている。完 OVA",nameCn:"我的青春恋爱物语果然有问题 完 OVA",cover:"//lain.bgm.tv/pic/cover/c/df/fa/325587_P8eCb.jpg",typeCn:"动画",tip:"1话 / 2023年4月27日 / 渡航（小学館「ガガガ文庫」） ",rank:"1302",score:"7.4",total:"(377人评分)",collection:"",collected:!0},{id:"/subject/373247",name:"無職転生Ⅱ～異世界行ったら本気だす～",nameCn:"无职转生 II ～到了异世界就拿出真本事～",cover:"//lain.bgm.tv/pic/cover/c/cf/55/373247_qX53z.jpg",typeCn:"动画",tip:"2023年7月 / 理不尽な孫の手（MFブックス／KADOKAWA刊） ",rank:"1490",score:"7.3",total:"(236人评分)",collection:"",collected:!0},{id:"/subject/395782",name:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",nameCn:"JOJO的奇妙冒险 石之海 Part.3",cover:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",typeCn:"动画",tip:"14话 / 2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭 ",rank:"1886",score:"7.2",total:"(1886人评分)",collection:"",collected:!1},{id:"/subject/401960",name:"にじよん あにめーしょん",nameCn:"虹四动画",cover:"//lain.bgm.tv/pic/cover/c/31/aa/401960_nQcWc.jpg",typeCn:"动画",tip:"15话 / 2023年1月6日 / ほりうちゆうや / 矢立肇；漫画：ミヤコヒト ",rank:"2145",score:"7.1",total:"(520人评分)",collection:"",collected:!1},{id:"/subject/358660",name:"",nameCn:"中国奇谭",cover:"//lain.bgm.tv/pic/cover/c/e2/97/358660_M4986.jpg",typeCn:"动画",tip:"8话 / 2023年1月1日 / 於水（《小妖怪的夏天》），胡睿（《鹅鹅鹅》），杨木（《林林》），刘毛宁（《乡村巴士带走了王孩儿和神仙》），陈莲华、周小琳（《小满》），潘斌（《飞鸟与鱼》），顾杨、刘旷（《小卖部》），徐宁（《玉兔》） / 於水（《小妖怪的夏天》），顾杨（《小卖部》） ",rank:"2193",score:"7.1",total:"(1562人评分)",collection:"",collected:!1},{id:"/subject/325808",name:"地獄楽",nameCn:"地狱乐",cover:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_4OXIC.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣 ",rank:"2205",score:"7.0",total:"(340人评分)",collection:"",collected:!1}]},"./src/screens/_/item/search/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/search/index.tsx"),i=t("./src/screens/_/item/search/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemSearch",component:n.ItemSearch};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemSearch,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemSearch,Object.assign({},e),e.id)}))})})}},"./src/screens/_/item/search/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemSearch=void 0,Object.defineProperty(s,"ItemSearchProps",{enumerable:!0,get:function(){return l.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/_/item/search/item.tsx")),d=t("./src/screens/_/item/search/ds.ts"),c=t("./src/screens/_/item/search/styles.ts"),l=t("./src/screens/_/item/search/types.ts"),a=t("./node_modules/react/jsx-runtime.js"),u=s.ItemSearch=(0,n.ob)((function(e){var s=e.navigation,t=e.style,r=e.index,n=e.id,d=e.name,l=e.nameCn,u=e.cover,m=e.typeCn,p=e.tip,j=e.rank,f=e.score,_=e.total,b=e.comments,x=e.collection,v=e.collected,y=e.showManage,g=e.position,h=e.screen,O=e.event;return(0,a.jsx)(o.Component,{id:"item-search","data-key":n,children:(0,a.jsx)(i.default,{navigation:s,styles:(0,c.memoStyles)(),style:t,index:r,id:n,name:d,nameCn:l,cover:u,typeCn:m,tip:p,rank:j,score:f,total:_,comments:b,collection:x,collected:v,showManage:y,position:g,screen:h,event:O})})}),d.COMPONENT);s.default=u},"./src/screens/_/item/search/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/components/cover/utils.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/_/base/index.ts"),m=r(t("./src/screens/_/item/search/title/index.tsx")),p=t("./src/screens/_/item/search/ds.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=(0,l.memo)((function(e){var s=e.navigation,t=e.styles,r=e.style,l=e.index,p=e.id,f=e.name,_=e.nameCn,b=e.cover,x=e.typeCn,v=e.tip,y=e.rank,g=e.score,h=e.total,O=e.comments,S=e.collection,T=e.position,P=e.showManage,I=e.screen,M=e.event,C=!String(p).includes("/subject/"),E="音乐"===x,N=v||T.length?"between":"start",k=String(p).replace("/subject/",""),w=C?a.IMG_WIDTH:a.IMG_WIDTH_LG,A=C?a.IMG_WIDTH:E?a.IMG_WIDTH_LG:a.IMG_HEIGHT_LG;return(0,j.jsx)(n.Touchable,{style:(0,c.stl)(t.container,r),animate:!0,onPress:function(){(0,c.appNavigate)(String(p),s,{_jp:f,_cn:_,_image:(0,i.getCoverSrc)(b,w),_type:x,_collection:S},M)},children:(0,j.jsxs)(n.Flex,{style:t.wrap,align:"start",children:[(0,j.jsx)(u.InView,{style:{minWidth:w,minHeight:A},y:A*l+1,children:(0,j.jsx)(n.Cover,{src:b,placeholder:!C,width:w,height:A,type:x,cdn:!(0,c.x18)(k),priority:l<4?"high":"normal",radius:!0})}),(0,j.jsxs)(n.Flex,{style:(0,c.stl)(t.content,!!O&&t.flux,E&&t.musicContent),direction:"column",justify:N,align:"start",children:[(0,j.jsxs)(n.Flex,{style:t.title,align:"start",children:[(0,j.jsx)(n.Flex.Item,{children:(0,j.jsx)(m.default,{name:f,nameCn:_,comments:O})}),P&&!C&&(0,j.jsx)(o.default,{style:t.manage,children:(0,j.jsx)(u.Manage,{subjectId:k,collection:S,typeCn:x,onPress:function(){d.uiStore.showManageModal({subjectId:k,title:(0,c.cnjp)(_,f),desc:(0,c.cnjp)(f,_),status:a.MODEL_COLLECTION_STATUS.getValue(S),action:(0,c.getAction)(x)},I)}})})]}),!!v&&(0,j.jsx)(n.Text,{style:E&&d._.mt.xs,size:11,lineHeight:14,numberOfLines:E?2:3,children:(0,c.HTMLDecode)(v)}),!!T.length&&(0,j.jsx)(n.Flex,{style:d._.mt.sm,wrap:"wrap",children:T.map((function(e){return(0,j.jsx)(u.Tag,{style:d._.mr.sm,value:e},e)}))}),(0,j.jsxs)(n.Flex,{style:d._.mt.md,children:[(0,j.jsx)(u.Rank,{value:y}),(0,j.jsx)(u.Stars,{value:g}),(0,j.jsx)(n.Text,{style:d._.ml.xxs,type:"sub",size:11,children:h})]})]})]})})}),p.DEFAULT_PROPS,p.COMPONENT_MAIN);s.default=f},"./src/screens/_/item/search/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{flex:1,height:o.IMG_HEIGHT_LG,marginLeft:r._._wind},flux:{height:"auto",minHeight:o.IMG_HEIGHT_LG},musicContent:{height:"auto",minHeight:o.IMG_WIDTH_LG-8},title:{width:"100%",paddingRight:40},manage:{position:"absolute",zIndex:1,top:0,right:0}}}))},"./src/screens/_/item/search/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/item/search/title/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.name,t=e.nameCn,r=e.comments,i=(0,n.cnjp)(t,s),l=(0,n.cnjp)(s,t),a=!!l&&l!==i,u=(i||l).length,m=u>=28?12:u>=20?13:u>=12?14:15,p=l.length,j=p>=32?9:p>=24?10:p>=16?11:12;return(0,c.jsxs)(c.Fragment,{children:[!(!i&&!l)&&(0,c.jsxs)(o.Katakana.Provider,{size:m,numberOfLines:a?2:3,bold:!0,children:[(0,c.jsx)(o.Katakana,{size:m,bold:!0,children:i||l}),!!r&&(0,c.jsxs)(o.Text,{type:"main",lineHeight:m,children:[" ",r]})]}),a&&(0,c.jsx)(o.Katakana.Provider,{itemStyle:d.styles.itemStyle,type:"sub",size:j,lineHeight:13,bold:!0,numberOfLines:1,children:(0,c.jsx)(o.Katakana,{type:"sub",size:j,lineHeight:13,bold:!0,numberOfLines:1,children:l})})]})}))},"./src/screens/_/item/search/title/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({itemStyle:{marginTop:-5}})},"./src/screens/_/item/search/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/setting-block/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemSettingBlock")},"./src/screens/_/item/setting-block/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"字体",information:"开启后会强制使用 Resource Han Rounded (思源幼圆) 字体，以便在各设备达到设计上面的 UI 统一",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070600959-cfe3b7a7-696b-4325-a81e-fe3f58f99edf.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070607888-446ff81c-6acf-4416-8a73-e2aca67932db.png"}]},{style:{marginTop:8},show:!0,title:"封面拟物",information:"能确定类型的条目封面拟物化，增加区分度",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071481482-cb9d38b1-1f09-4188-a13d-c10f5b6bbf75.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071487013-ae69bffd-7e68-40be-a3d7-2ded444e7d3c.png"}]},{style:{marginTop:8},show:!0,title:"图片圆角",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071928529-37497a51-74f6-4024-adec-b7d3c7a06e8c.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071931109-1464ee05-7d82-43a8-9fe1-14f214de16a3.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071933774-201d5370-7fd0-4e97-91ac-cda5b4be45f7.png"}]},{style:{marginTop:8},show:!0,title:"看板娘吐槽",information:"通常在列表尾部出现表示已到底",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661072680253-59856506-ac70-44d7-bba3-fd34fb8ffef3.png"}]},{style:{marginTop:8},show:!0,title:"头像",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073314717-f67e17c1-0ae4-4e19-b61a-4fdaf2eb4bdd.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073326148-8687046a-026a-4217-a3b3-1209dc3470e2.png"}]},{style:{marginTop:8,marginRight:-16},show:!0,title:"字号",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073553895-58817e4e-68c6-4236-9d4b-aef6a2d2eb6b.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073556659-29544f2b-ddef-443f-8d0f-b8f562536bc6.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073559152-353bcac8-6cd2-475b-8826-98288110e9cc.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073561929-ef4508fd-a12b-4c38-bb93-a7d9b0021965.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073564431-15d38cf2-04d1-4514-96cb-2f1c8ddea115.png"}]}]},"./src/screens/_/item/setting-block/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/setting-block/index.tsx"),i=t("./src/screens/_/item/setting-block/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemSettingBlock",component:n.ItemSettingBlock};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemSettingBlock,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{space:!0,children:i.list.map((function(e,s){return(0,d.jsx)(n.ItemSettingBlock,Object.assign({},e),s)}))})})}},"./src/screens/_/item/setting-block/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"IItemSettingBlock",{enumerable:!0,get:function(){return m.IItemSettingBlock}}),s.ItemSettingBlock=void 0,Object.defineProperty(s,"ItemSettingBlockItemProps",{enumerable:!0,get:function(){return m.ItemSettingBlockItemProps}}),Object.defineProperty(s,"ItemSettingBlockProps",{enumerable:!0,get:function(){return m.ItemSettingBlockProps}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),l=r(t("./src/screens/_/item/setting-block/item.tsx")),a=t("./src/screens/_/item/setting-block/ds.ts"),u=t("./src/screens/_/item/setting-block/styles.ts"),m=t("./src/screens/_/item/setting-block/types.ts"),p=t("./node_modules/react/jsx-runtime.js"),j=s.ItemSettingBlock=(0,d.ob)((function(e){var s=e.style,t=e.show,r=void 0===t||t,d=e.title,l=e.information,a=e.informationType,m=void 0===a?"sub":a,j=e.size,f=void 0===j?16:j,_=e.filter,b=e.thumb,x=e.url,v=e.align,y=e.children;if(!r)return null;var g=(0,u.memoStyles)();return(0,p.jsxs)(o.Component,{id:"item-setting-block","data-key":d,style:(0,i.stl)(g.container,s),children:[!!d&&(0,p.jsxs)(o.Flex,{children:[(0,p.jsx)(o.Highlight,{type:"title",size:f,bold:!0,value:_,children:d}),!!b&&(0,p.jsx)(o.Touchable,{style:g.icon,onPress:function(){if(c.STORYBOOK){var e=(0,i.navigationReference)();if(e)return void e.push("Information",{title:d,message:[l],images:b.map((function(e){return e.url}))})}(0,i.showImageViewer)(b,0,!0)},children:(0,p.jsx)(o.Iconfont,{name:"md-info-outline",size:16})}),!!x&&(0,p.jsx)(o.Touchable,{style:g.icon,onPress:function(){(0,i.open)(x)},children:(0,p.jsx)(o.Iconfont,{name:"md-open-in-new",size:16})})]}),!!l&&(0,p.jsx)(o.Highlight,{style:n._.mt.xs,type:m,size:12,lineHeight:14,value:_,children:l}),(0,p.jsx)(o.Flex,{style:n._.mt.md,align:v,children:y})]})}),a.COMPONENT);j.Item=l.default;s.default=j},"./src/screens/_/item/setting-block/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/item/setting-block/styles.ts"),u=t("./node_modules/react/jsx-runtime.js"),m=(0,c.ob)((function(e){var s=e.style,t=e.itemStyle,r=e.show,c=void 0===r||r,m=e.active,p=void 0!==m&&m,j=e.icon,f=e.iconStyle,_=e.iconColor,b=e.title,x=e.information,v=e.informationType,y=void 0===v?"sub":v,g=e.filter,h=e.children,O=e.onPress,S=void 0===O?l.FROZEN_FN:O;if(!c)return null;var T=(0,a.memoStyles)();return(0,u.jsx)(n.Flex.Item,{style:s,children:(0,u.jsx)(n.Touchable,{animate:!0,onPress:S,children:(0,u.jsx)(o.default,{style:(0,d.stl)(T.touch,p&&T.active),children:(0,u.jsxs)(n.Flex,{style:(0,d.stl)(T.body,t),direction:"column",justify:"center",align:"center",children:[!!j&&(0,u.jsx)(n.Iconfont,{style:(0,d.stl)(i._.mb.sm,f),name:j,color:_||i._.colorSub,size:20}),(0,u.jsx)(n.Highlight,{size:15,align:"center",value:g,children:b}),!!x&&(0,u.jsx)(n.Highlight,{style:i._.mt.xs,type:y,size:10,lineHeight:11,align:"center",value:g,children:x}),h]})})})})}));s.default=m},"./src/screens/_/item/setting-block/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingHorizontal:r._._wind,paddingBottom:r._.md},touch:{minWidth:r._.window.contentWidth/5,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},icon:{paddingHorizontal:r._.sm},active:{borderColor:r._.colorSuccess},body:{height:76,paddingHorizontal:r._.xs}}}))},"./src/screens/_/item/setting-block/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemSetting")},"./src/screens/_/item/setting/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{show:!0,hd:"版本",ft:"7.11.1",arrow:!0,arrowStyle:[{marginLeft:8},{marginRight:2}],arrowIcon:"md-open-in-new",arrowSize:18,informationType:"sub",filter:""},{show:!0,hd:"主题",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"画面",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"定制",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"CDN",ft:"开启",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"底栏",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"屏蔽",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"其他",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""}]},"./src/screens/_/item/setting/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/setting/index.tsx"),i=t("./src/screens/_/item/setting/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemSetting",component:n.ItemSetting};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemSetting,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{space:!0,children:i.list.map((function(e,s){return(0,d.jsx)(n.ItemSetting,Object.assign({},e),s)}))})})}},"./src/screens/_/item/setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemSetting=void 0,Object.defineProperty(s,"ItemSettingProps",{enumerable:!0,get:function(){return p.Props}}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),n=(r(t("react")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/_/item/setting/ds.ts"),m=t("./src/screens/_/item/setting/styles.ts"),p=t("./src/screens/_/item/setting/types.ts"),j=t("./node_modules/react/jsx-runtime.js"),f=["style","contentStyle","show","hd","hdSize","ft","arrow","arrowStyle","arrowIcon","arrowSize","information","informationType","thumb","filter","children","onInfoPress","onPress"],_=s.ItemSetting=(0,l.ob)((function(e){var s=e.style,t=e.contentStyle,r=e.show,l=void 0===r||r,u=e.hd,p=e.hdSize,_=void 0===p?a.WEB?14:15:p,b=e.ft,x=e.arrow,v=e.arrowStyle,y=e.arrowIcon,g=void 0===y?"md-navigate-next":y,h=e.arrowSize,O=void 0===h?22:h,S=e.information,T=e.informationType,P=void 0===T?"sub":T,I=e.thumb,M=e.filter,C=e.children,E=e.onInfoPress,N=e.onPress,k=(0,o.default)(e,f);if(!l)return null;var w=(0,m.memoStyles)(),A=(0,j.jsxs)(n.default,{style:(0,c.stl)(w.item,t),children:[(0,j.jsxs)(i.Flex,{children:[(0,j.jsx)(i.Flex.Item,{children:(0,j.jsxs)(i.Flex,{children:[(0,j.jsx)(i.Highlight,{type:"title",size:_,lineHeight:_+1,bold:!0,value:M,children:u}),!!I&&(0,j.jsx)(i.Touchable,{style:d._.ml.xs,onPress:function(){if(a.WEB){var e=(0,c.navigationReference)();if(e)return void e.push("Information",{title:String(u),message:[S],images:I.map((function(e){return e.url}))})}(0,c.showImageViewer)(I,0,!0)},children:(0,j.jsx)(i.Iconfont,{name:"md-info-outline",size:16})}),!!E&&(0,j.jsx)(i.Touchable,{style:d._.ml.xs,onPress:E,children:(0,j.jsx)(i.Iconfont,{name:"md-info-outline",size:16})})]})}),"string"==typeof b?(0,j.jsx)(i.Text,{type:"sub",children:b}):b,x&&(0,j.jsx)(i.Iconfont,{style:(0,c.stl)(d._.ml.xs,v),name:g,size:O})]}),(0,j.jsx)(i.Flex,{children:!!S&&(0,j.jsx)(i.Highlight,{style:w.information,type:P,size:12,lineHeight:13,value:M,children:S})}),C]});return N?(0,j.jsx)(i.Component,{id:"item-setting","data-type":"press",children:(0,j.jsx)(i.Touchable,Object.assign({style:(0,c.stl)(w.touchable,s),onPress:N},k,{children:A}))}):(0,j.jsx)(i.Component,Object.assign({id:"item-setting",style:(0,c.stl)(w.touchable,s)},k,{children:A}))}),u.COMPONENT);s.default=_},"./src/screens/_/item/setting/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{touchable:{paddingLeft:r._._wind},item:{paddingVertical:12,paddingRight:r._._wind},information:{maxWidth:"86%"}}}))},"./src/screens/_/item/setting/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/subject/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ItemSubject")},"./src/screens/_/item/subject/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ItemSubject=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),l=t("./src/screens/_/item/search/index.tsx"),a=t("./src/screens/_/item/subject/ds.ts"),u=t("./src/screens/_/item/subject/styles.ts"),m=t("./node_modules/react/jsx-runtime.js"),p=s.ItemSubject=(0,d.ob)((function(e){var s,t,r=e.navigation,d=e.event,a=e.index,p=e.subjectId,j=e.type,f=e.subject,_=e.oss,b=e.active,x=(0,u.memoStyles)(),v=f.jp||_.name||n.subjectStore.jp(p),y=f.cn||_.name_cn||n.subjectStore.cn(p);return v||y?(0,m.jsx)(o.Component,{id:"item-subject","data-key":p,style:(0,i.stl)(n._.container.item,b&&x.active),children:(0,m.jsx)(l.ItemSearch,{navigation:r,index:a,id:"/subject/"+p,typeCn:c.MODEL_SUBJECT_TYPE.getTitle(f.type||_.type||j),name:v,nameCn:y,cover:f.image||_.image||n.subjectStore.cover(p),rank:n.subjectStore.ratingRank(p)||f.rank||_.rank,score:n.subjectStore.ratingScore(p)||f.rating.score||(null==(s=_.rating)?void 0:s.score),total:"("+(n.subjectStore.ratingTotal(p)||f.rating.total||(null==(t=_.rating)?void 0:t.total)||0)+")",tip:[f.eps||_.totalEps?(f.eps||_.totalEps)+"话":"",n.subjectStore.date(p)||f.date||_.date,_.origin,_.director].filter((function(e){return!!e})).join(" / ")||"-",collection:n.collectionStore.collect(p),event:d})}):(0,m.jsx)(o.Touchable,{onPress:function(){r.push("Subject",{subjectId:p})},children:(0,m.jsxs)(o.Flex,{style:x.placeholder,direction:"column",justify:"center",children:[(0,m.jsx)(o.Text,{size:15,bold:!0,type:"sub",children:p}),!a&&(0,m.jsx)(o.Text,{style:n._.mt.md,size:12,bold:!0,type:"sub",children:"加载数据中"})]})})}),a.COMPONENT);s.default=p},"./src/screens/_/item/subject/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{placeholder:{height:o.IMG_HEIGHT_LG},active:{backgroundColor:r._.colorMainLight}}}))},"./src/screens/_/item/timeline/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/_/item/timeline/ds.ts"),c=t("./src/screens/_/item/timeline/avatar/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.navigation,t=e.p1Text,r=e.userId,i=e.avatarSrc,a=e.event,u=(0,c.memoStyles)();return(0,l.jsx)(o.default,{style:u.avatar,children:!!i&&(0,l.jsx)(n.UserStatus,{userId:r,children:(0,l.jsx)(n.Avatar,{navigation:s,size:d.AVATAR_WIDTH,userId:r,name:t,src:i,event:a})})})}))},"./src/screens/_/item/timeline/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/screens/_/item/timeline/ds.ts");s.memoStyles=r._.memoStyles((function(){return{avatar:{width:r._.r(o.AVATAR_WIDTH),marginTop:r._.r(18),marginLeft:r._.wind}}}))},"./src/screens/_/item/timeline/desc/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/screens/_/item/timeline/desc/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.ob)((function(e){var s=e.navigation,t=e.subject,r=e.subjectId,c=e.image,m=e.comment,p=e.replyContent,j=e.replyCount,f=e.event,_=f.id,b=f.data,x=void 0===b?{}:b;return(0,u.jsxs)(u.Fragment,{children:[!!t&&(0,u.jsx)(o.default,{style:i._.mt.sm,children:(0,u.jsx)(n.Katakana.Provider,{children:(0,u.jsx)(n.Katakana,{type:"main",bold:!0,onPress:function(){var e=Object.assign({to:"Subject",subjectId:r},x);if(r&&i.systemStore.setting.timelinePopable)return(0,l.t)("时间胶囊.缩略框",e),void i.uiStore.showPopableSubject({subjectId:r});(0,l.t)(_,e),s.push("Subject",{subjectId:r,_cn:(0,d.findSubjectCn)(t,r),_jp:t,_image:(0,d.getCoverMedium)(!!c.length&&c[0])})},children:(0,d.findSubjectCn)(t,r)})})}),!!(m||p||j)&&(0,u.jsx)(o.default,{style:i._.mt.sm,children:(0,u.jsx)(n.Expand,{moreStyle:a.styles.more,ratio:.64,children:(0,u.jsx)(n.Text,{lineHeight:20,children:m||p||j})})})]})}))},"./src/screens/_/item/timeline/desc/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({more:{paddingHorizontal:0}})},"./src/screens/_/item/timeline/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.LIKES_OFFSETS=s.ITEM_HEIGHT=s.HIDDEN_DS=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=s.AVATAR_WIDTH=s.AVATAR_COVER_WIDTH=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/_/item/ds.ts"),d=s.COMPONENT=(0,o.rc)(i.COMPONENT,"ItemTimeline");s.COMPONENT_MAIN=(0,o.rc)(d),s.ITEM_HEIGHT=84,s.AVATAR_WIDTH=40,s.AVATAR_COVER_WIDTH=r._.r(40),s.HIDDEN_DS=["1天不看TA","3天不看TA","7天不看TA","重置"],s.DEFAULT_PROPS={navigation:{},styles:{},style:{},full:!1,avatar:{},userId:"",p1:{},p2:{},p3:{text:[],url:[]},p4:{},image:[],comment:"",reply:{},like:{},time:"",star:"",subject:"",subjectId:0,clearHref:"",index:0,event:n.EVENT,onDelete:n.FROZEN_FN,onHidden:n.FROZEN_FN},s.LIKES_OFFSETS={x:46}},"./src/screens/_/item/timeline/images/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/_/item/timeline/ds.ts"),p=t("./src/screens/_/item/timeline/utils.ts"),j=t("./src/screens/_/item/timeline/images/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ob)((function(e){var s=e.type,t=e.image,r=e.p3Text,a=e.p3Url,_=e.onNavigate;if(t.length<=1)return null;var b=t.map((function(e,t){var o=!String(!!a.length&&a[0]).includes("subject");return(0,f.jsx)(n.default,{children:(0,f.jsx)(i.Touchable,{style:s?j.styles.type:j.styles.image,animate:!0,onPress:function(){var n=!!a.length&&a[t]||"",i=(0,p.matchSubjectId)(n);_(n,{_cn:(0,l.findSubjectCn)(!!r.length&&r[t],i),_jp:!!r.length&&r[t],_name:!!r.length&&r[t],_image:o?e:(0,d.getCoverSrc)(e,u.IMG_WIDTH_SM),_type:s})},children:(0,f.jsx)(i.Cover,{src:e,size:o?m.AVATAR_COVER_WIDTH:u.IMG_WIDTH_SM,height:o?m.AVATAR_COVER_WIDTH:u.IMG_HEIGHT_SM,radius:!0,type:s})})},e||t)}));return t.length<=3?(0,f.jsx)(i.Flex,{style:c._.mt.sm,children:b}):(0,f.jsx)(o.default,Object.assign({style:j.styles.scrollView,contentContainerStyle:j.styles.images,horizontal:!0},u.SCROLL_VIEW_RESET_PROPS,{children:b}))}))},"./src/screens/_/item/timeline/images/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.styles=r._.create({scrollView:{marginTop:r._.sm,marginRight:-40},images:{paddingTop:r._.sm,paddingRight:o.STORYBOOK?r._.sm+40:r._.sm,paddingBottom:r._.md},type:{paddingRight:r._.md-2},image:{paddingRight:r._.sm}})},"./src/screens/_/item/timeline/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["leleq"],url:["https://bgm.tv/user/44560"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/39/13/391356.jpg?r=1610550722","//lain.bgm.tv/pic/user/m/000/04/45/44560.jpg?r=1592279114"],comment:"",reply:{content:"",count:"",url:""},time:"7分54秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"想读"},p3:{text:["あかね噺","ルリドラゴン"],url:["https://bgm.tv/subject/368650","https://bgm.tv/subject/384745"]},p4:{text:"2本书"},image:["//lain.bgm.tv/pic/cover/g/23/a2/368650_L2Zad.jpg","//lain.bgm.tv/pic/cover/g/17/48/384745_lItt3.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"45分47秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/25/22/252257.jpg?r=1572229607",url:"https://bgm.tv/user/renkomei"},p1:{text:"Renkomei",url:"https://bgm.tv/user/renkomei"},p2:{text:"想看"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-","天国大魔境","便利屋斎藤さん、異世界に行く"],url:["https://bgm.tv/subject/389474","https://bgm.tv/subject/404804","https://bgm.tv/subject/366165"]},p4:{text:"3部番组"},image:["//lain.bgm.tv/pic/cover/g/ca/b6/389474_tzbrl.jpg","//lain.bgm.tv/pic/cover/g/ba/c9/404804_1sTp8.jpg","//lain.bgm.tv/pic/cover/g/5a/a2/366165_Ds2pa.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时12分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["Ayato"],url:["https://bgm.tv/user/ayato_kanzaki"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/69/47/694706.jpg?r=1653029467","//lain.bgm.tv/pic/user/m/000/39/53/395345.jpg?r=1581063492"],comment:"",reply:{content:"",count:"",url:""},time:"1时35分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/47/37/473749.jpg?r=1612928373",url:"https://bgm.tv/user/kexi"},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"完成了"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:"14 of 14 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"看过"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/37/df/115908_c0uQj.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"9",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.22 声"],url:["https://bgm.tv/subject/ep/1130196"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时50分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/52/69/526953.jpg?r=1680368709&hd=1",url:"https://bgm.tv/user/luv3c111"},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"看过"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/ca/79/425211_bPbra.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"完成了"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:"4 of 4 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.21 俺がいない"],url:["https://bgm.tv/subject/ep/1130195"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时15分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"收藏了"},p3:{text:["内田真礼","黒沢ともよ","高橋李依","内田雄馬","上田麗奈"],url:["https://bgm.tv/person/6724","https://bgm.tv/person/9560","https://bgm.tv/person/17491","https://bgm.tv/person/15390","https://bgm.tv/person/13164"]},p4:{text:"5个人物"},image:["//lain.bgm.tv/pic/crt/s/4c/23/6724_prsn_BTm9m.jpg?r=1673349167","//lain.bgm.tv/pic/crt/s/dd/f8/9560_prsn_pJTJr.jpg","//lain.bgm.tv/pic/crt/s/bd/56/17491_prsn_1PkIP.jpg?r=1642506690","//lain.bgm.tv/pic/crt/s/38/47/15390_prsn_iW2u5.jpg?r=1647787440","//lain.bgm.tv/pic/crt/s/c5/14/13164_prsn_NrGno.jpg?r=1675004027"],comment:"",reply:{content:"",count:"",url:""},time:"2时16分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"看过"},p3:{text:["ep.1 もにょっとした気持ち"],url:["https://bgm.tv/subject/ep/850084"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时25分前 · mobile",star:"",subject:"私に天使が舞い降りた！",subjectId:"249637",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"在看"},p3:{text:["私に天使が舞い降りた！"],url:["https://bgm.tv/subject/249637"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/f3/2d/249637_2r3gw.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时26分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/39/43/394354.jpg?r=1655402789",url:"https://bgm.tv/user/394354"},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"看过"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/31/aa/401960_nQcWc.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"7",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:"15 of 15 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["ダイヤのA"],url:["https://bgm.tv/subject/73083"]},p4:{text:"30 of 75 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时58分前",star:"",subject:"",subjectId:0,clearHref:""}]},"./src/screens/_/item/timeline/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/timeline/index.tsx"),i=t("./src/screens/_/item/timeline/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemTimeline",component:n.ItemTimeline};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemTimeline,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e,s){return(0,d.jsx)(n.ItemTimeline,Object.assign({},e),s)}))})})}},"./src/screens/_/item/timeline/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemTimeline=void 0,Object.defineProperty(s,"ItemTimelineProps",{enumerable:!0,get:function(){return m.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),l=r(t("./src/screens/_/item/timeline/item.tsx")),a=t("./src/screens/_/item/timeline/ds.ts"),u=t("./src/screens/_/item/timeline/styles.ts"),m=t("./src/screens/_/item/timeline/types.ts"),p=t("./node_modules/react/jsx-runtime.js"),j=s.ItemTimeline=(0,d.ob)((function(e){var s=e.navigation,t=e.style,r=e.full,d=e.avatar,a=e.p1,m=e.p2,j=e.p3,f=e.p4,_=e.image,b=e.comment,x=e.reply,v=e.like,y=e.time,g=e.star,h=e.subject,O=e.subjectId,S=e.clearHref,T=e.index,P=e.event,I=e.onDelete,M=e.onHidden,C=(0,i.matchUserId)(String((null==d?void 0:d.url)||(null==a?void 0:a.url)).replace(c.HOST,""));return C in n.timelineStore.hidden&&(0,i.getTimestamp)()<n.timelineStore.hidden[C]?null:(0,p.jsx)(o.Component,{id:"item-timeline","data-key":(null==a?void 0:a.url)+"|"+y,children:(0,p.jsx)(l.default,{navigation:s,styles:(0,u.memoStyles)(),style:t,full:r,avatar:d,userId:C,p1:a,p2:m,p3:j,p4:f,image:_,comment:b,reply:x,like:v,time:y,star:g,subject:h,subjectId:O,clearHref:S,index:T,event:P,onDelete:I,onHidden:M})})}),a.COMPONENT);s.default=j},"./src/screens/_/item/timeline/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/_/base/index.ts"),p=r(t("./src/screens/_/item/timeline/avatar/index.tsx")),j=r(t("./src/screens/_/item/timeline/desc/index.tsx")),f=r(t("./src/screens/_/item/timeline/images/index.tsx")),_=r(t("./src/screens/_/item/timeline/p/index.tsx")),b=t("./src/screens/_/item/timeline/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function v(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(v=function(e){return e?t:s})(e)}var y=(0,a.memo)((function(e){var s,t=e.navigation,r=e.styles,a=e.style,v=e.full,y=e.avatar,g=e.userId,h=e.p1,O=e.p2,S=e.p3,T=e.p4,P=e.image,I=e.comment,M=e.reply,C=e.like,E=e.time,N=e.star,k=e.subject,w=e.subjectId,A=e.clearHref,D=e.index,R=e.event,L=e.onDelete,F=e.onHidden,H=y.src,B=M.count,z=M.url,V=M.content,W=h.text,q=h.url,U=O.text,G=S.text,K=S.url,Y=T.text,Z=!!P.length&&P[0],J=!String(!!K.length&&K[0]).includes("subject"),X=P.length>=3,$=(0,o.useCallback)((function(e,s){return(0,l.appNavigate)(e,t,s,R)}),[R,t]),Q=(0,o.useCallback)((function(){(0,l.confirm)("确定删除?",(function(){return L(A)}))}),[A,L]);null!=U&&U.includes("读")||null!=Y&&Y.includes("书籍")?s="书籍":null!=U&&U.includes("听")||null!=Y&&Y.includes("音乐")?s="音乐":(null!=U&&U.includes("玩")||null!=Y&&Y.includes("游戏"))&&(s="游戏");var ee=b.ITEM_HEIGHT*(D+2);return(0,x.jsxs)(i.Flex,{style:a,align:"start",children:[v?(0,x.jsx)(n.default,{style:c._.mr.md}):(0,x.jsx)(m.InView,{style:r.inView,y:ee,children:(0,x.jsx)(p.default,{navigation:t,p1Text:W,userId:g,avatarSrc:H,event:R})},D),(0,x.jsx)(i.Flex.Item,{style:(0,l.stl)(X?r.noPR:r.content,c._.ml.sm),children:(0,x.jsxs)(i.Flex,{align:"start",children:[(0,x.jsxs)(i.Flex.Item,{children:[(0,x.jsxs)(n.default,{style:X&&r.hasPR,children:[(0,x.jsx)(_.default,{image:P,p1Text:W,p1Url:q,p2Text:U,p3Text:G,p3Url:K,p4Text:Y,userId:g,avatarSrc:H,onNavigate:$}),(0,x.jsx)(j.default,{navigation:t,subject:k,subjectId:w,image:P,comment:I,replyContent:V,replyCount:B,event:!0})]}),(0,x.jsx)(m.InView,{y:ee,children:(0,x.jsx)(f.default,{type:s,image:P,p3Text:G,p3Url:K,onNavigate:$})},D),(0,x.jsx)(m.Likes,{show:!0,topicId:C.mainId,id:C.relatedId,likeType:C.type,formhash:c.userStore.formhash,offsets:b.LIKES_OFFSETS,onLongPress:c.uiStore.showLikesUsers}),(0,x.jsxs)(i.Flex,{style:1!==P.length||I||B?c._.mt.md:c._.mt.lg,children:[!!B&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.Touchable,{animate:!0,scale:.9,onPress:function(){return $(z)},children:(0,x.jsx)(i.Text,{type:"primary",size:12,children:B})}),(0,x.jsx)(i.Text,{type:"sub",size:12,numberOfLines:1,children:" · "})]}),(0,x.jsx)(i.Text,{style:c._.mr.sm,type:"sub",size:12,numberOfLines:1,children:E}),(0,x.jsx)(m.Stars,{value:N})]})]}),(0,x.jsxs)(i.Flex,{align:"start",children:[1===P.length&&(0,x.jsx)(m.InView,{y:ee,children:(0,x.jsx)(i.Touchable,{style:r.cover,animate:!0,onPress:function(){$(!!K.length&&K[0],{_jp:!!G.length&&G[0],_name:!!G.length&&G[0],_image:J?Z:(0,d.getCoverSrc)(Z,u.IMG_WIDTH_SM),_type:s})},children:(0,x.jsx)(i.Cover,{src:Z,size:J?b.AVATAR_COVER_WIDTH:u.IMG_WIDTH_SM,height:J?b.AVATAR_COVER_WIDTH:u.IMG_HEIGHT_SM,radius:!0,type:s,cdn:!(0,l.x18)(w)})})},D),(0,x.jsx)(n.default,{style:r.menu,children:!u.SHARE_MODE&&(A?(0,x.jsx)(i.Touchable,{style:r.touch,onPress:Q,children:(0,x.jsx)(i.Flex,{style:r.extra,justify:"center",children:(0,x.jsx)(i.Iconfont,{name:"md-close",size:18})})}):(0,x.jsx)(m.Popover,{style:r.touch,data:b.HIDDEN_DS,onSelect:function(e){return F(e,g)},children:(0,x.jsx)(i.Flex,{style:r.extra,justify:"center",children:(0,x.jsx)(i.Iconfont,{name:"md-more-vert",size:18})})}))})]})]})})]})}),b.DEFAULT_PROPS,b.COMPONENT_MAIN,(function(e){return{style:e.style,styles:e.styles,time:e.time}}));s.default=y},"./src/screens/_/item/timeline/p/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/_/base/index.ts"),d=r(t("./src/screens/_/item/timeline/p3/index.tsx")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.image,t=e.p1Text,r=e.p1Url,n=e.p2Text,l=e.p3Text,a=e.p3Url,u=e.p4Text,m=e.userId,p=e.avatarSrc,j=e.onNavigate;return!!(t||n||null!=l&&l.length||u)?(0,c.jsxs)(o.Katakana.Provider,{lineHeight:16,children:[!!t&&(0,c.jsx)(i.Name,{userId:m,type:"title",lineHeight:16,bold:!0,onPress:function(){j(r,{_name:t,_image:p})},children:t}),(0,c.jsxs)(o.Text,{type:"sub",lineHeight:16,children:[!!t&&" ",n," "]}),(0,c.jsx)(d.default,{image:s,p3Text:l,p3Url:a,onNavigate:j}),!!u&&(0,c.jsxs)(o.Katakana,{type:"sub",lineHeight:16,children:[" ",u]})]}):null}))},"./src/screens/_/item/timeline/p3/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/_/item/timeline/utils.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ob)((function(e){var s=e.image,t=e.p3Text,r=e.p3Url,d=e.onNavigate,m=null;if(t.length>1)m=[],t.forEach((function(e,t){var p=(0,i.HTMLDecode)(e),j=String(r[t]),f=j.includes(l.HOST_NAME+"/subject/")&&!j.includes("/ep/"),_=f?(0,a.matchSubjectId)(j):0;m.push((0,u.jsx)(o.Katakana,{type:f?"main":"title",lineHeight:16,bold:!0,onPress:function(){if(f&&_&&n.systemStore.setting.timelinePopable)return(0,c.t)("时间胶囊.缩略框",{to:"Subject",subjectId:_}),void n.uiStore.showPopableSubject({subjectId:_});d(j,f&&{_jp:p,_cn:(0,i.findSubjectCn)(p,_),_name:p,_image:(0,i.getCoverMedium)(s[t]||"")})},children:f?(0,i.findSubjectCn)(p,_):p},p||t),(0,u.jsx)(o.Text,{lineHeight:16,type:"sub",children:"、"},p+"."))})),m.pop();else if(1===t.length){var p=(0,i.HTMLDecode)(t[0]),j=r[0],f=!!String(!!r.length&&j).includes(l.HOST_NAME+"/subject/")&&!j.includes("/ep/"),_=f?(0,a.matchSubjectId)(!!r.length&&j):0;m=(0,u.jsx)(o.Katakana,{type:f?"main":"title",lineHeight:16,bold:!0,onPress:function(){if(f&&_&&n.systemStore.setting.timelinePopable)return(0,c.t)("时间胶囊.缩略框",{to:"Subject",subjectId:_}),void n.uiStore.showPopableSubject({subjectId:_});d(!!r.length&&j,f&&{_jp:!!t.length&&p,_cn:(0,i.findSubjectCn)(!!t.length&&p,_),_name:!!t.length&&p,_image:(0,i.getCoverMedium)(!!s.length&&s[0]||"")})},children:f?(0,i.findSubjectCn)(!!t.length&&p,_):!!t.length&&p})}return m}))},"./src/screens/_/item/timeline/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{inView:{minWidth:40,minHeight:40},content:{paddingTop:r._.md,paddingRight:r._.wind-r._._wind,paddingBottom:r._.md},noPR:{paddingVertical:r._.md,paddingRight:r._.wind-r._._wind},hasPR:{paddingRight:r._._wind},menu:{minWidth:r._._wind},touch:{marginTop:-7,marginRight:r._.xs,borderRadius:20,overflow:"hidden"},cover:{paddingRight:8,marginLeft:r._.md},extra:{width:36,height:36}}}))},"./src/screens/_/item/timeline/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/_/item/timeline/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.matchSubjectId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof e)return 0;var s=e.match(/\d+/);return s&&s.length?s[0]:0}},"./src/screens/_/item/voice/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.COMPONENT=s.AVATAR_SIZE=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/screens/_/item/ds.ts");s.COMPONENT=(0,o.rc)(n.COMPONENT,"ItemVoice"),s.ITEM_HEIGHT=132,s.AVATAR_SIZE=r._.r(40)},"./src/screens/_/item/voice/index.mock.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.list=void 0;s.list=[{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"97758",name:"運命",nameCn:"命运",cover:"//lain.bgm.tv/pic/crt/s/8c/fe/97758_crt_dzdka.jpg",subject:[{id:"339227",name:"takt op. 運命は真紅き旋律の街を",nameCn:"宿命回响",cover:"//lain.bgm.tv/pic/cover/g/7c/aa/339227_9995K.jpg"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"72355",name:"イレイナ",nameCn:"伊蕾娜",cover:"//lain.bgm.tv/pic/crt/s/35/0e/72355_crt_6Z6zM.jpg",subject:[{id:"292970",name:"魔女の旅々",nameCn:"魔女之旅",cover:"//lain.bgm.tv/pic/cover/g/99/17/292970_mxMxx.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"15180",name:"ルシウス・モデストゥス",nameCn:"路西斯·慕德斯特",cover:"//lain.bgm.tv/pic/crt/s/b1/65/15180_crt_z1vFm.jpg",subject:[{id:"317692",name:"テルマエ・ロマエ ノヴァエ",nameCn:"新罗马浴场",cover:"//lain.bgm.tv/pic/cover/g/64/17/317692_c72WT.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"35956",name:"四葉こころ",nameCn:"四叶心",cover:"//lain.bgm.tv/pic/crt/s/4e/7c/35956_crt_Kr6If.jpg",subject:[{id:"137894",name:"かみさまみならい ヒミツのここたま 第1シリーズ",nameCn:"见习神明 秘密的心灵 第一部",cover:"//lain.bgm.tv/pic/cover/g/38/17/137894_3EEl6.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"36048",name:"野乃本ククル",nameCn:"野乃本库库露",cover:"//lain.bgm.tv/pic/crt/s/7a/69/36048_crt_SBU1P.jpg",subject:[{id:"130093",name:"不思議なソメラちゃん",nameCn:"不思议美眉",cover:"//lain.bgm.tv/pic/cover/g/bb/01/130093_400l0.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"38516",name:"久我山八重",nameCn:"久我山八重",cover:"//lain.bgm.tv/pic/crt/s/9c/0c/38516_crt_FnXpg.jpg",subject:[{id:"167434",name:"ガーリッシュ ナンバー",nameCn:"少女编号",cover:"//lain.bgm.tv/pic/cover/g/9a/31/167434_B0BSn.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40516",name:"煌上花音",nameCn:"煌上花音",cover:"//lain.bgm.tv/pic/crt/s/fe/d5/40516_crt_ahHpU.jpg",subject:[{id:"178624",name:"バトルガール ハイスクール",nameCn:"战斗女子高校",cover:"//lain.bgm.tv/pic/cover/g/06/67/178624_TyPcZ.jpg",staff:"主角"},{id:"120299",name:"バトルガール ハイスクール",nameCn:"战斗女子学园",cover:"//lain.bgm.tv/pic/cover/g/9f/01/120299_ikOqE.jpg",staff:"主角"},{id:"220668",name:"アリス・ギア・アイギス",nameCn:"机战少女 Alice",cover:"//lain.bgm.tv/pic/cover/g/77/83/220668_caojc.jpg",staff:"客串"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40704",name:"ユインシエル・アステリア",nameCn:"尤因谢尔·阿斯特里亚",cover:"//lain.bgm.tv/pic/crt/s/b5/dd/40704_crt_3HgHg.jpg",subject:[{id:"174519",name:"レガリア The Three Sacred Stars",nameCn:"雷加利亚三圣星",cover:"//lain.bgm.tv/pic/cover/g/51/9b/174519_ghelJ.jpg",staff:"主角"}]}]},"./src/screens/_/item/voice/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.List=s.Item=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/item/voice/index.tsx"),i=t("./src/screens/_/item/voice/index.mock.tsx"),d=t("./node_modules/react/jsx-runtime.js");s.default={title:"item/ItemVoice",component:n.ItemVoice};(s.Item=function(e){return(0,d.jsx)(o.StorybookPage,{radius:!0,children:(0,d.jsx)(o.Flex.Item,{children:(0,d.jsx)(n.ItemVoice,Object.assign({},e))})})}).args=i.list[0];s.List=function(){return(0,d.jsx)(o.StorybookPage,{children:(0,d.jsx)(o.StorybookList,{children:i.list.map((function(e){return(0,d.jsx)(n.ItemVoice,Object.assign({},e),e.name)}))})})}},"./src/screens/_/item/voice/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.ItemVoice=void 0,Object.defineProperty(s,"ItemVoiceProps",{enumerable:!0,get:function(){return f.Props}}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/components/cover/utils.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/dev/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/utils/hooks/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/_/base/index.ts"),p=t("./src/screens/_/item/voice/ds.ts"),j=t("./src/screens/_/item/voice/styles.ts"),f=t("./src/screens/_/item/voice/types.ts"),_=t("./node_modules/react/jsx-runtime.js"),b=s.ItemVoice=function(e){var s=e.style,t=e.navigation,r=e.event,f=void 0===r?u.EVENT:r,b=e.index,x=e.id,v=e.name,y=e.nameCn,g=e.cover,h=e.subject,O=void 0===h?[]:h,S=e.children;(0,c.r)(p.COMPONENT);var T=(0,a.useExpandLazy)(O,4),P=T.list,I=T.onExpand;return(0,a.useObserver)((function(){var e=(0,j.memoStyles)(),r=(0,d.cnjp)(y,v),c=(0,d.cnjp)(v,y),a=p.ITEM_HEIGHT*b+1,h=(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(o.Flex,{style:e.wrap,align:"start",children:[(0,_.jsx)(o.Flex.Item,{flex:1.8,children:(0,_.jsx)(o.Touchable,{animate:!0,onPress:function(){(0,l.t)(f.id,Object.assign({},f.data,{to:"Mono",monoId:x})),t.push("Mono",{monoId:"character/"+x,_name:y,_jp:v,_image:g})},children:(0,_.jsxs)(o.Flex,{align:"start",children:[(0,_.jsx)(m.InView,{style:e.inViewAvatar,y:a,children:(0,_.jsx)(o.Image,{size:p.AVATAR_SIZE,src:g,radius:!0,shadow:!0})}),(0,_.jsxs)(o.Flex.Item,{style:i._.ml.sm,children:[(0,_.jsx)(o.Text,{size:12,bold:!0,children:r}),!!c&&c!==r&&(0,_.jsx)(o.Text,{style:i._.mt.xs,size:11,type:"sub",lineHeight:12,bold:!0,children:c})]})]})})}),(0,_.jsx)(o.Flex.Item,{style:i._.ml.sm,flex:3.2,children:P.map((function(s,r){var c=(0,d.cnjp)(s.nameCn,s.name),p=(0,d.cnjp)(s.name,s.nameCn);return(0,_.jsx)(o.Touchable,{style:0!==r&&i._.mt.md,animate:!0,onPress:function(){(0,l.t)(f.id,Object.assign({},f.data,{to:"Subject",subjectId:s.id})),t.push("Subject",{subjectId:s.id,_jp:p,_cn:c,_image:(0,n.getCoverSrc)(s.cover,u.IMG_WIDTH_SM)})},children:(0,_.jsxs)(o.Flex,{align:"start",children:[(0,_.jsxs)(o.Flex.Item,{style:i._.mr.md,children:[(0,_.jsx)(o.Text,{align:"right",size:12,bold:!0,children:c}),(0,_.jsx)(o.Text,{style:i._.mt.xs,size:11,type:"sub",align:"right",lineHeight:12,bold:!0,children:p}),(0,_.jsx)(o.Flex,{style:i._.mt.sm,justify:"end",children:(0,_.jsx)(m.Tag,{value:s.staff})})]}),(0,_.jsx)(m.InView,{style:e.inViewCover,y:a,children:(0,_.jsx)(o.Cover,{size:u.IMG_WIDTH_SM,height:u.IMG_HEIGHT_SM,src:s.cover,radius:!0,cdn:!(0,d.x18)(s.id)})})]})},s.id)}))})]}),S]});return P.length>=4?(0,_.jsx)(o.Component,{id:"item-voice","data-key":x,"data-type":"expand",children:(0,_.jsx)(o.Expand,{style:s,ratio:1.8,onExpand:I,children:h})}):(0,_.jsx)(o.Component,{id:"item-voice","data-key":x,style:s,children:h})}))};s.default=b},"./src/screens/_/item/voice/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts"),n=t("./src/screens/_/item/voice/ds.ts");s.memoStyles=r._.memoStyles((function(){return{wrap:{paddingVertical:r._.md,paddingHorizontal:r._.wind},tag:{marginTop:2,marginLeft:r._.xs},inViewAvatar:{minWidth:n.AVATAR_SIZE,minHeight:n.AVATAR_SIZE},inViewCover:{minWidth:o.IMG_WIDTH_SM,minHeight:o.IMG_HEIGHT_SM}}}))},"./src/screens/_/item/voice/types.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0})},"./src/screens/discovery/adv/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ADV=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/ADV",component:n.ADV},s.ADV=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.ADV,Object.assign({},(0,o.getStorybookArgs)("ADV")))})})}},"./src/screens/discovery/anime/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Anime=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Anime",component:n.Anime},s.Anime=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Anime,Object.assign({},(0,o.getStorybookArgs)("Anime")))})})}},"./src/screens/discovery/anitama/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Anitama=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./node_modules/react/jsx-runtime.js"),d=function(){return(0,i.jsx)(o.Page,{children:(0,i.jsx)(o.Text,{style:n._.mt.center,align:"center",children:"网页端暂不支持此功能 (资讯)"})})};s.default={title:"screens/Anitama",component:d},s.Anitama=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(d,Object.assign({},(0,o.getStorybookArgs)("Anitama")))})})}},"./src/screens/discovery/award/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Award=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Award",component:n.Award},s.Award=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Award,Object.assign({},(0,o.getStorybookArgs)("Award")))})})}},"./src/screens/discovery/bi-weekly/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BiWeekly=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/BiWeekly",component:n.BiWeekly},s.BiWeekly=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.BiWeekly,Object.assign({},(0,o.getStorybookArgs)("BiWeekly")))})})}},"./src/screens/discovery/blog/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.DiscoveryBlog=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/DiscoveryBlog",component:n.DiscoveryBlog},s.DiscoveryBlog=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.DiscoveryBlog,Object.assign({},(0,o.getStorybookArgs)("DiscoveryBlog")))})})}},"./src/screens/discovery/browser/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Browser=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Browser",component:n.Browser},s.Browser=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Browser,Object.assign({},(0,o.getStorybookArgs)("Browser")))})})}},"./src/screens/discovery/calendar/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Calendar=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Calendar",component:n.Calendar},s.Calendar=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Calendar,Object.assign({},(0,o.getStorybookArgs)("Calendar")))})})}},"./src/screens/discovery/catalog-detail/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CatalogDetail=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/CatalogDetail",component:n.CatalogDetail},s.CatalogDetail=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.CatalogDetail,Object.assign({},(0,o.getStorybookArgs)("CatalogDetail")))})})}},"./src/screens/discovery/catalog/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Catalog=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Catalog",component:n.Catalog},s.Catalog=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Catalog,Object.assign({},(0,o.getStorybookArgs)("Catalog")))})})}},"./src/screens/discovery/channel/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Channel=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Channel",component:n.Channel},s.Channel=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Channel,Object.assign({},(0,o.getStorybookArgs)("Channel")))})})}},"./src/screens/discovery/character/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Character=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Character",component:n.Character},s.Character=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Character,Object.assign({},(0,o.getStorybookArgs)("Character")))})})}},"./src/screens/discovery/dollars/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Dollars=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Dollars",component:n.Dollars},s.Dollars=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Dollars,Object.assign({},(0,o.getStorybookArgs)("Dollars")))})})}},"./src/screens/discovery/game/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Game=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Game",component:n.Game},s.Game=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Game,Object.assign({},(0,o.getStorybookArgs)("Game")))})})}},"./src/screens/discovery/hentai/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Hentai=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Hentai",component:n.Hentai},s.Hentai=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Hentai,Object.assign({},(0,o.getStorybookArgs)("Hentai")))})})}},"./src/screens/discovery/index/component/award-2023/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Award2023")},"./src/screens/discovery/index/component/award-2023/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/mobx-react/dist/mobxreact.esm.js"),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/dev/index.ts"),l=t("./src/utils/hooks/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/discovery/index/component/award-2023/ds.ts"),m=t("./src/screens/discovery/index/component/award-2023/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=function(e){var s=e.width,t=e.height;(0,c.r)(u.COMPONENT);var r=(0,l.useNavigation)();return(0,n.useObserver)((function(){var e=(0,m.memoStyles)();return(0,p.jsx)(o.default,{style:[e.container,{height:t||e.container.height,marginRight:t?0:e.container.marginRight}],children:(0,p.jsx)(i.Touchable,{animate:!0,onPress:function(){r.push("Award",{uri:a.HOST+"/award/2023"})},children:(0,p.jsxs)(o.default,{style:[e.body,{width:s||e.body.width,height:t||e.body.height}],pointerEvents:"none",children:[(0,p.jsxs)(o.default,{style:e.header,children:[!d._.isDark&&(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.close,children:(0,p.jsx)(o.default,{style:e.closeMain})}),(0,p.jsx)(i.Flex,{style:e.title,justify:"center",children:(0,p.jsx)(i.Text,{type:"title",size:12,bold:!0,children:"BGM.TV"})})]}),(0,p.jsxs)(i.Flex,{style:e.content,direction:"column",justify:"center",children:[(0,p.jsx)(i.Text,{type:"title",size:21,bold:!0,children:"bOS 23"}),(0,p.jsx)(i.Text,{style:d._.mt.xs,size:13,type:"title",bold:!0,children:"YEAR IN REVIEW 2023"})]})]})})})}))}},"./src/screens/discovery/index/component/award-2023/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.device(128,164),s=2*e+16;return{container:{height:e,marginRight:r._.md},body:{width:s,height:e,borderTopWidth:2,borderRightWidth:4,borderBottomWidth:4,borderLeftWidth:2,borderColor:r._.colorTitle,backgroundColor:r._.colorPlain,opacity:r._.select(1,.88)},header:{height:30,paddingTop:r._.select(3,2.5),borderBottomWidth:2,borderColor:r._.colorTitle},line:{height:2,marginTop:r._.select(2,3),marginHorizontal:6,backgroundColor:r._.colorTitle},close:{position:"absolute",zIndex:1,top:3,left:18,width:22,height:22,padding:2,borderWidth:r._.select(2,3),backgroundColor:r._.colorTitle,borderColor:r._.colorPlain},closeMain:{width:"100%",height:"100%",backgroundColor:r._.colorPlain},title:{position:"absolute",zIndex:1,top:0,left:"50%",width:56,marginLeft:-28,height:28,backgroundColor:r._.colorPlain},content:{height:e-30-4,paddingBottom:2}}}))},"./src/screens/discovery/index/component/award/block/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/award/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Block")},"./src/screens/discovery/index/component/award/block/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/discovery/index/component/award/block/ds.ts"),u=t("./src/screens/discovery/index/component/award/block/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.year,r=s.navigation,d=(0,u.memoStyles)(),a=d.item,p=a.width,j=a.height;return(0,m.jsx)(n.Touchable,{style:d.item,animate:!0,onPress:(0,c.withT)((function(){r.push("Award",{uri:l.HOST+"/award/"+t})}),"发现.跳转",{to:"Award",year:t,from:"Award"}),children:(0,m.jsx)(n.Squircle,{width:p,height:j,radius:i.systemStore.coverRadius,children:(0,m.jsx)(o.default,{style:d["item"+t],children:(0,m.jsx)(n.Image,{src:l.ASSETS_AWARDS[t],size:p-(2019===t?32:0),height:j,placeholder:!1,resizeMode:2018!==t?"contain":"cover"})})})})}),a.COMPONENT)},"./src/screens/discovery/index/component/award/block/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.device(128,164);return{item:{width:2*e+16,height:e,marginRight:r._.md},item2022:{backgroundColor:"rgb(255, 255, 255)"},item2021:{backgroundColor:"rgb(236, 243, 236)"},item2020:{backgroundColor:"rgb(236, 243, 236)"},item2019:{paddingLeft:18,backgroundColor:"rgb(54, 63, 69)"},item2018:{paddingLeft:10,backgroundColor:"rgb(0, 0, 0)"}}}))},"./src/screens/discovery/index/component/award/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.YEARS_RIGHT=s.YEARS_LEFT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Award"),s.YEARS_LEFT=[2022],s.YEARS_RIGHT=[2021,2020,2019,2018]},"./src/screens/discovery/index/component/award/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),i=t("./src/stores/index.ts"),d=t("./src/utils/dev/index.ts"),c=t("./src/utils/hooks/index.ts"),l=r(t("./src/screens/discovery/index/component/award-2023/index.tsx")),a=r(t("./src/screens/discovery/index/component/award/block/index.tsx")),u=r(t("./src/screens/discovery/index/component/award/more/index.tsx")),m=r(t("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx")),p=t("./src/screens/discovery/index/component/award/ds.ts"),j=t("./src/screens/discovery/index/component/award/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");function _(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(_=function(e){return e?t:s})(e)}s.default=function(){(0,d.r)(p.COMPONENT);var e=(0,n.useState)(i._.isPad),s=(0,o.default)(e,2),t=s[0],r=s[1],_=(0,n.useCallback)((function(e){e.nativeEvent.contentOffset.x>=20&&r(!0)}),[]);return(0,c.useObserver)((function(){return(0,f.jsxs)(m.default,{contentContainerStyle:j.styles.container,onScroll:t?void 0:_,children:[(0,f.jsx)(l.default,{}),p.YEARS_LEFT.map((function(e){return(0,f.jsx)(a.default,{year:e},e)})),t&&(0,f.jsx)(u.default,{})]})}))}},"./src/screens/discovery/index/component/award/more/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/award/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"More")},"./src/screens/discovery/index/component/award/more/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),c=t("./src/screens/discovery/index/component/award/more/ds.ts"),l=t("./src/screens/discovery/index/component/award/more/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=s.navigation,r=(0,l.memoStyles)(),i=r.more,c=i.width,u=i.height,m=n._.select("plain","title");return(0,a.jsx)(o.Touchable,{style:n._.container.touch,animate:!0,onPress:(0,d.withT)((function(){t.push("Yearbook")}),"发现.跳转",{to:"Yearbook",from:"Award"}),children:(0,a.jsx)(o.Squircle,{width:c,height:u,radius:n.systemStore.coverRadius,children:(0,a.jsxs)(o.Flex,{style:r.more,justify:"center",direction:"column",children:[(0,a.jsx)(o.Text,{size:18,type:m,bold:!0,children:"更多"}),(0,a.jsx)(o.Text,{size:18,type:m,bold:!0,children:"年鉴"})]})})})}),c.COMPONENT)},"./src/screens/discovery/index/component/award/more/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.device(128,164);return{more:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)}}}))},"./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/award/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ScrollViewHorizontal")},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),d=r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),c=t("./node_modules/mobx-react/dist/mobxreact.esm.js"),l=t("./src/utils/dev/index.ts"),a=t("./src/utils/hooks/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts"),p=t("./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts");t("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss");var j=t("./node_modules/react/jsx-runtime.js"),f=["children"];function _(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(_=function(e){return e?t:s})(e)}var b="scroll-view-horizontal";s.default=function(e){var s=e.children,t=(0,n.default)(e,f);(0,l.r)(m.COMPONENT);var r=(0,a.useDom)(b),_=(0,i.useState)(!1),x=(0,o.default)(_,2),v=x[0],y=x[1],g=(0,i.useState)(0),h=(0,o.default)(g,2),O=h[0],S=h[1],T=(0,i.useState)(0),P=(0,o.default)(T,2),I=P[0],M=P[1];return(0,i.useEffect)((function(){var e=r.current,s=b+"--grabbing",t=function(s){y(!0),e.style.cursor="grabbing",S(s.pageX-e.offsetLeft),M(e.scrollLeft)},o=function(){y(!1),e.classList.remove(s),e.style.cursor="grab"},n=function(){y(!1),e.classList.remove(s),e.style.cursor="grab"},i=function(t){if(v){t.preventDefault();var r=t.pageX-e.offsetLeft-O;e.scrollLeft=I-r,Math.abs(r)>10&&e.classList.add(s)}};return e.addEventListener("mousedown",t),e.addEventListener("mouseleave",o),e.addEventListener("mouseup",n),e.addEventListener("mousemove",i),function(){e.removeEventListener("mousedown",t),e.removeEventListener("mouseleave",o),e.removeEventListener("mouseup",n),e.removeEventListener("mousemove",i)}}),[v,O,I,r]),(0,c.useObserver)((function(){var e=(0,p.memoStyles)();return(0,j.jsx)(d.default,Object.assign({ref:r,contentContainerStyle:e.contentContainerStyle,scrollEventThrottle:16},u.SCROLL_VIEW_RESET_PROPS,t,{horizontal:!0,children:s}))}))}},"./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingVertical:4,paddingHorizontal:r._.wind}}}))},"./src/screens/discovery/index/component/award/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({container:{paddingVertical:r._.md,paddingHorizontal:r._.windSm}})},"./src/screens/discovery/index/component/btn/btn.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/discovery/index/component/btn/ds.ts"),u=t("./src/screens/discovery/index/component/btn/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.ob)((function(e){var s=e.item,t=e.userId,r=e.onPress,c=(0,u.memoStyles)(),a=s.key,p=s.name,j=s.text,f=s.icon,_=s.size,b=s.login,x=i.systemStore.setting.discoveryMenuNum>=5,v=x?c.wrapSm:c.wrap,y=x?c.itemSm:c.item;if("Split"===a)return(0,m.jsx)(o.default,{style:i._.container.touch,children:(0,m.jsx)(o.default,{style:v,children:(0,m.jsx)(n.Flex,{style:y,justify:"center",children:(0,m.jsx)(o.default,{style:c.split})})})});var g=x?c.iconWrapSm:c.iconWrap,h=x?c.iconSm:c.icon,O=h.width,S=(_||16)-(x?2:0),T=(_||24)-(x?2:0),P=(0,m.jsx)(n.Flex,{style:v,justify:"center",children:(0,m.jsxs)(n.Flex,{style:y,direction:"column",justify:"center",children:[(0,m.jsx)(n.Squircle,{style:g,width:O,height:O,radius:O,children:(0,m.jsx)(n.Flex,{style:h,justify:"center",children:j?(0,m.jsx)(n.Text,{type:"__plain__",size:S,bold:!0,children:j}):(0,m.jsx)(n.Iconfont,{name:f,size:T,color:i._.__colorPlain__})})}),(0,m.jsx)(n.Text,{style:i._.mt.sm,size:12,align:"center",bold:!0,numberOfLines:1,children:p})]})});return r?(0,m.jsxs)(n.Touchable,{style:(0,d.stl)(i._.container.touch,l.WEB&&b&&!t&&c.disabled),animate:!0,onPress:r,children:[P,(0,m.jsx)(n.Heatmap,{id:"发现.跳转",to:a,alias:p})]}):(0,m.jsx)(o.default,{style:i._.container.touch,children:P})}),a.COMPONENT_MAIN)},"./src/screens/discovery/index/component/btn/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts"),n=s.COMPONENT=(0,r.rc)(o.COMPONENT,"Btn");s.COMPONENT_MAIN=(0,r.rc)(n)},"./src/screens/discovery/index/component/btn/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=(o(t("react")),o(t("./node_modules/react-native-web/dist/exports/Clipboard/index.js"))),d=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),a=t("./src/utils/fetch/index.ts"),u=t("./src/constants/index.ts"),m=o(t("./src/constants/i18n/index.ts")),p=t("./src/screens/_/base/filter-switch/index.tsx"),j=o(t("./src/screens/discovery/index/component/btn/btn.tsx")),f=t("./src/screens/discovery/index/component/btn/ds.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t,o,l=e.item,f=s.$,b=s.navigation,x=d.userStore.userInfo,v=x.username,y=x.id,g=v||y,h=f.state.dragging,O=l.key,S=l.login;return h||(o=(0,n.default)(r.mark((function e(){var s,t,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.DEV||!S||g){e.next=3;break}return(0,c.info)("请先"+m.default.login()),e.abrupt("return");case 3:if("Open"!==O){e.next=6;break}return f.toggleDragging(),e.abrupt("return");case 6:if((0,a.t)("发现.跳转",{to:O,from:"Btn"}),"Anime"!==O){e.next=14;break}return e.t0=b,e.next=11,(0,p.getLastPath)();case 11:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.abrupt("return");case 14:if("Netabare"!==O){e.next=17;break}return b.push("WebBrowser",{url:"https://netaba.re/trending",title:"评分趋势"}),e.abrupt("return");case 17:if("UserTimeline"!==O){e.next=20;break}return b.push(O,{userId:g}),e.abrupt("return");case 20:if("Link"!==O){e.next=30;break}return e.next=23,i.default.getString();case 23:if(s=e.sent,t=(0,c.matchBgmUrl)(s,!0)||[],o=t[0]){e.next=29;break}return f.toggleLinkModal(),e.abrupt("return",!0);case 29:return e.abrupt("return",(0,c.appNavigate)(o,b));case 30:return b.push(O,S?{userName:g}:{}),e.abrupt("return");case 32:case"end":return e.stop()}}),e)}))),t=function(){return o.apply(this,arguments)}),(0,_.jsx)(j.default,{item:l,userId:v||y,onPress:t})}),f.COMPONENT)},"./src/screens/discovery/index/component/btn/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.r(50);return{wrap:{width:.249*(r._.windowSm.width-2*r._.windSm),height:.249*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},wrapSm:{width:.198*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},item:{width:(r._.windowSm.width-2*r._.windSm)/4},itemSm:{width:(r._.windowSm.width-2*r._.windSm)/5},iconWrap:{width:e},iconWrapSm:{width:e-4},icon:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},iconSm:{width:e-4,height:e-4,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},split:{width:3,height:28,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel2),borderRadius:2},disabled:{opacity:.4}}}))},"./src/screens/discovery/index/component/cover-lg/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"CoverLg")},"./src/screens/discovery/index/component/cover-lg/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/expo-linear-gradient/build/LinearGradient.js"),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),u=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/index/ds.ts"),j=t("./src/screens/discovery/index/component/cover-lg/ds.ts"),f=t("./src/screens/discovery/index/component/cover-lg/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,u.obc)((function(e,s){var t=e.title,r=e.src,u=e.cn,j=e.data,b=s.navigation,x=(0,f.memoStyles)(),v=j.subjectId,y=l.subjectStore.jp(v)||j.title,g=l.subjectStore.cn(v)||u,h="音乐"===t,O=x.cover,S=O.width,T=O.height,P=h?S:T,I="magma"===l.systemStore.setting.cdnOrigin;return(0,_.jsx)(i.Touchable,{style:x.item,animate:!0,onPress:(0,m.withT)((function(){b.push("Subject",{subjectId:v,_jp:y,_cn:g,_image:(0,d.getCoverSrc)(r,S),_type:t})}),"发现.跳转",{to:"Subject",subjectId:v,from:"CoverLg|"+t}),children:(0,_.jsxs)(i.Squircle,{width:S,height:P,radius:l.systemStore.coverRadius,children:[(0,_.jsx)(c.Cover,{src:I?(0,a.matchCoverUrl)(r,!1):(0,a.getCoverLarge)(r),size:S,height:P,cdn:I}),(0,_.jsx)(n.LinearGradient,{style:x.linear,colors:p.linearColor,pointerEvents:"none"}),(0,_.jsxs)(o.default,{style:x.desc,pointerEvents:"none",children:[(0,_.jsx)(i.Text,{type:l._.select("plain","desc"),bold:!0,children:j.info}),(0,_.jsx)(o.default,{style:l._.mt.sm,children:(0,_.jsx)(i.Katakana.Provider,{itemStyle:x.itemStyle,itemSecondStyle:x.itemSecondStyle,type:l._.select("plain","title"),size:22,bold:!0,numberOfLines:2,children:(0,_.jsx)(i.Katakana,{size:22,type:l._.select("plain","title"),bold:!0,numberOfLines:2,children:(0,a.HTMLDecode)((0,a.cnjp)(g,y))})})})]})]})})}),j.COMPONENT)},"./src/screens/discovery/index/component/cover-lg/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{item:{marginTop:r._.md,marginHorizontal:r._.windSm},cover:{width:r._.windowSm.contentWidth,height:1.38*r._.windowSm.contentWidth},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},desc:{position:"absolute",zIndex:2,right:r._._wind-2,bottom:r._.md,left:r._._wind-2,opacity:.92},itemStyle:{marginTop:-13},itemSecondStyle:{marginTop:2}}}))},"./src/screens/discovery/index/component/cover-sm/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"CoverSm")},"./src/screens/discovery/index/component/cover-sm/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/expo-linear-gradient/build/LinearGradient.js"),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),u=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/index/ds.ts"),j=t("./src/screens/discovery/index/component/cover-sm/ds.ts"),f=t("./src/screens/discovery/index/component/cover-sm/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,u.obc)((function(e,s){var t=e.title,r=e.src,u=e.cn,j=e.data,b=s.navigation,x=(0,f.memoStyles)(),v=j.subjectId,y=l.subjectStore.jp(v)||j.title,g=l.subjectStore.cn(v)||u,h="音乐"===t,O=x.cover,S=O.width,T=O.height,P=h?S:T;return(0,_.jsx)(i.Touchable,{style:x.item,animate:!0,onPress:(0,m.withT)((function(){b.push("Subject",{subjectId:v,_jp:y,_cn:g,_image:(0,d.getCoverSrc)(r,S),_type:t})}),"发现.跳转",{to:"Subject",subjectId:v,from:"CoverSm|"+t}),children:(0,_.jsxs)(i.Squircle,{width:S,height:P,radius:l.systemStore.coverRadius,children:[(0,_.jsx)(c.Cover,{src:(0,a.getCoverMedium)(r),size:S,height:P}),(0,_.jsx)(n.LinearGradient,{style:(0,a.stl)(x.linear,h&&x.linearMusic),colors:p.linearColor,pointerEvents:"none"}),(0,_.jsxs)(o.default,{style:x.desc,pointerEvents:"none",children:[(0,_.jsx)(i.Text,{size:10,type:l._.select("plain","title"),numberOfLines:1,bold:!0,children:j.info}),(0,_.jsx)(o.default,{style:l._.mt.xs,children:(0,_.jsx)(i.Katakana.Provider,{itemStyle:x.itemStyle,itemSecondStyle:x.itemSecondStyle,type:l._.select("plain","title"),size:11,numberOfLines:2,bold:!0,children:(0,_.jsx)(i.Katakana,{type:l._.select("plain","title"),size:11,bold:!0,numberOfLines:2,children:(0,a.HTMLDecode)((0,a.cnjp)(g,y))})})})]})]})})}),j.COMPONENT)},"./src/screens/discovery/index/component/cover-sm/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.windowSm.contentWidth*r._.device(.34,.42);return{item:{marginRight:r._._wind+2},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-32},desc:{position:"absolute",zIndex:2,right:r._._wind-4,bottom:14,left:r._._wind-4,opacity:.92},itemStyle:{marginTop:-6},itemSecondStyle:{marginTop:0}}}))},"./src/screens/discovery/index/component/cover-today/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.WEEKDAY_CN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"CoverToday"),s.WEEKDAY_CN={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"}},"./src/screens/discovery/index/component/cover-today/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.slice.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/expo-linear-gradient/build/LinearGradient.js"),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),u=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/index/ds.ts"),j=t("./src/screens/discovery/index/component/cover-today/ds.ts"),f=t("./src/screens/discovery/index/component/cover-today/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,u.obc)((function(e,s){var t,r=e.data,u=s.navigation,b=(0,f.memoStyles)(),x=b.cover,v=x.width,y=x.height;return(0,_.jsx)(i.Touchable,{style:b.item,animate:!0,onPress:(0,m.withT)((function(){var e;u.push("Subject",{subjectId:r.id,_jp:r.name,_cn:r.name_cn,_image:(0,d.getCoverSrc)(null==r||null==(e=r.images)?void 0:e.common,v)})}),"发现.跳转",{to:"Subject",subjectId:r.id,from:"CoverToday"}),children:(0,_.jsxs)(i.Squircle,{width:v,height:y,radius:l.systemStore.coverRadius,children:[(0,_.jsx)(c.Cover,{src:(0,a.getCoverMedium)(null==r||null==(t=r.images)?void 0:t.common),width:v,height:y}),(0,_.jsx)(n.LinearGradient,{style:b.linear,colors:p.linearColor,pointerEvents:"none"}),(0,_.jsxs)(o.default,{style:b.info,pointerEvents:"none",children:[(0,_.jsxs)(i.Text,{size:l._.device(10,13),type:l._.select("plain","title"),numberOfLines:1,bold:!0,pointerEvents:"none",children:[r.timeCN.slice(0,2),":",r.timeCN.slice(2)," · 周",j.WEEKDAY_CN[r.weekday]]}),(0,_.jsx)(o.default,{style:l._.mt.xs,pointerEvents:"none",children:(0,_.jsx)(i.Katakana.Provider,{itemStyle:b.itemStyle,itemSecondStyle:b.itemSecondStyle,size:l._.device(10,12),type:l._.select("plain","title"),numberOfLines:2,bold:!0,children:(0,_.jsx)(i.Katakana,{size:l._.device(10,12),type:l._.select("plain","title"),numberOfLines:2,bold:!0,children:(0,a.HTMLDecode)((0,a.cnjp)(r.name_cn,r.name))})})})]})]})})}),j.COMPONENT)},"./src/screens/discovery/index/component/cover-today/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=Math.max(100,r._.windowSm.contentWidth*r._.device(.26,.298));return{item:{marginRight:r._.device(r._._wind,r._.md)},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,top:"50%",right:0,bottom:0,left:0,marginBottom:-.5},info:{position:"absolute",zIndex:2,right:r._.sm+4,bottom:r._.sm+2,left:r._.sm+4,opacity:.92},itemStyle:{marginTop:-7},itemSecondStyle:{marginTop:-3}}}))},"./src/screens/discovery/index/component/cover-xs/cover-xs.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/expo-linear-gradient/build/LinearGradient.js"),i=t("./src/components/index.ts"),d=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),u=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/discovery/index/ds.ts"),j=t("./src/screens/discovery/index/component/cover-xs/ds.ts"),f=t("./src/screens/discovery/index/component/cover-xs/styles.ts"),_=t("./node_modules/react/jsx-runtime.js"),b=(0,u.memo)((function(e){var s=e.navigation,t=e.styles,r=e.imageWidth,u=e.avatarRound,j=e.title,b=e.avatar,x=e.subjectId,v=e.cover,y=e.cn,g=e.jp,h=e.name,O=e.userId,S=e.userName,T="音乐"===j,P=r,I=T?P:1.38*P;return(0,_.jsxs)(o.default,{children:[(0,_.jsx)(i.Touchable,{style:t.item,animate:!0,onPress:(0,m.withT)((function(){s.push("Subject",{subjectId:x,_jp:g,_cn:y,_image:(0,d.getCoverSrc)(v,P),_type:j})}),"发现.跳转",{to:"Subject",subjectId:x,from:"CoverXs|"+j}),children:(0,_.jsxs)(i.Squircle,{width:P,height:I,radius:l._.radiusSm,children:[(0,_.jsx)(c.Cover,{src:(0,a.getCoverMedium)(v),width:P,height:I}),(0,_.jsx)(n.LinearGradient,{style:(0,a.stl)(t.linear,T&&t.linearMusic),colors:p.linearColor,pointerEvents:"none"}),(0,_.jsx)(i.Text,{style:t.desc,size:7,lineHeight:l._.r(7),type:l._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:h})]})}),!!b&&(0,_.jsx)(o.default,{style:t.fixed,children:(0,_.jsx)(i.UserStatus,{userId:O,mini:!0,children:(0,_.jsx)(c.Avatar,{navigation:s,size:f.AVATAR_SIZE,src:b,userId:O,name:S,radius:!u||f.AVATAR_SIZE})})})]})}),j.DEFAULT_PROPS,j.COMPONENT_MAIN);s.default=b},"./src/screens/discovery/index/component/cover-xs/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts"),n=s.COMPONENT=(0,r.rc)(o.COMPONENT,"CoverXs");s.COMPONENT_MAIN=(0,r.rc)(n),s.DEFAULT_PROPS={navigation:{},styles:{},imageWidth:0,avatarRound:!1,title:"",avatar:"",subjectId:0,cover:"",cn:"",jp:"",name:"",userId:"",userName:""}},"./src/screens/discovery/index/component/cover-xs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/discovery/index/component/cover-xs/cover-xs.tsx")),c=t("./src/screens/discovery/index/component/cover-xs/ds.ts"),l=t("./src/screens/discovery/index/component/cover-xs/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.title,r=e.avatar,i=e.data,c=s.navigation;if(!r||!i.cover)return null;var u=i.id,m=o.subjectStore.cn(u),p=o.subjectStore.jp(u)||i.name;return(0,a.jsx)(d.default,{navigation:c,styles:(0,l.memoStyles)(),imageWidth:.2*o._.windowSm.contentWidth,avatarRound:o.systemStore.setting.avatarRound,title:t,avatar:r,subjectId:u,cover:i.cover,cn:m,jp:p,name:(0,n.HTMLDecode)((0,n.cnjp)(m,p)),userId:i.userId,userName:i.userName})}),c.COMPONENT)},"./src/screens/discovery/index/component/cover-xs/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=s.AVATAR_SIZE=void 0;var r=t("./src/stores/index.ts"),o=s.AVATAR_SIZE=24;s.memoStyles=r._.memoStyles((function(){return{item:{marginRight:r._._wind+2},linear:{position:"absolute",zIndex:1,height:64,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-20},desc:{position:"absolute",zIndex:2,right:3,bottom:3,left:r._.r(o+1),minHeight:13,opacity:.92},fixed:{position:"absolute",zIndex:2,bottom:-1,left:-4}}}))},"./src/screens/discovery/index/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Component")},"./src/screens/discovery/index/component/extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Extra")},"./src/screens/discovery/index/component/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/discovery/index/component/link-modal/index.tsx")),c=t("./src/screens/discovery/index/component/extra/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.default,{}),(0,l.jsx)(o.Track,{title:"发现",hm:["discovery","Discovery"]}),(0,l.jsx)(o.Heatmap,{bottom:n._.bottom,id:"发现",screen:"Discovery"})]})}),c.COMPONENT)},"./src/screens/discovery/index/component/link-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.LINKS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/constants/index.ts"),n=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"LinkModal"),s.LINKS=[{key:"条目",value:o.HOST+"/subject/",text:o.HOST+"/subject/{ID}"},{key:"帖子",value:o.HOST+"/group/topic/",text:o.HOST+"/group/topic/{ID}"},{key:"小组",value:o.HOST+"/group/",text:o.HOST+"/group/{ID}"},{key:"虚拟人物",value:o.HOST+"/character/",text:o.HOST+"/character/{ID}"},{key:"现实人物",value:o.HOST+"/person/",text:o.HOST+"/person/{ID}"},{key:"用户空间",value:o.HOST+"/user/",text:o.HOST+"/user/{ID}"},{key:"标签",value:o.HOST+"/tag/",text:o.HOST+"/tag/{ID}"},{key:"目录",value:o.HOST+"/index/",text:o.HOST+"/index/{ID}"},{key:"日志",value:o.HOST+"/blog/",text:o.HOST+"/blog/{ID}"}]},"./src/screens/discovery/index/component/link-modal/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.link.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),_=t("./src/utils/decorators/index.ts"),b=t("./src/utils/dev/index.ts"),x=t("./src/screens/discovery/index/component/link-modal/ds.ts"),v=t("./src/screens/discovery/index/component/link-modal/styles.ts"),y=t("./node_modules/react/jsx-runtime.js");function g(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=(0,_.obc)(function(e){(0,d.default)(t,e);var s=g(t);function t(){var e;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),d=0;d<r;d++)n[d]=arguments[d];return e=s.call.apply(s,[this].concat(n)),(0,a.default)((0,i.default)(e),"state",{show:!1}),(0,a.default)((0,i.default)(e),"iptRef",void 0),(0,a.default)((0,i.default)(e),"onOpenActionSheet",(function(){e.setState({show:!0},(function(){try{var s,t,r;"function"==typeof(null==(s=(0,i.default)(e))||null==(t=s.iptRef)||null==(r=t.inputRef)?void 0:r.blur)&&e.iptRef.inputRef.blur()}catch(e){}}))})),(0,a.default)((0,i.default)(e),"onCloseActionSheet",(function(){e.setState({show:!1},(function(){setTimeout((function(){try{var s,t,r;"function"==typeof(null==(s=(0,i.default)(e))||null==(t=s.iptRef)||null==(r=t.inputRef)?void 0:r.focus)&&e.iptRef.inputRef.focus()}catch(e){}}),480)}))})),(0,a.default)((0,i.default)(e),"onSelect",(function(s){e.context.$.onChangeText(s),e.onCloseActionSheet()})),e}return(0,n.default)(t,[{key:"componentDidMount",value:function(){var e=this,s=this.context.$;(0,p.autorun)((function(){s.state.visible&&setTimeout((function(){try{var s,t;"function"==typeof(null==e||null==(s=e.iptRef)||null==(t=s.inputRef)?void 0:t.focus)&&e.iptRef.inputRef.focus()}catch(e){}}),240)}))}},{key:"renderModal",value:function(){var e=this,s=this.context,t=s.$,r=s.navigation,o=t.state,n=o.visible,i=o.link;return(0,y.jsxs)(j.Modal,{style:this.styles.modal,visible:n,title:"剪贴板",onClose:t.toggleLinkModal,children:[(0,y.jsxs)(m.default,{style:this.styles.container,children:[(0,y.jsx)(j.Text,{size:13,bold:!0,children:"可能由于权限问题，未能在剪贴板中匹配到链接，请手动粘贴或输入"}),(0,y.jsxs)(j.Flex,{style:f._.mt.md,align:"center",children:[(0,y.jsx)(j.Flex.Item,{children:(0,y.jsx)(j.Input,{ref:function(s){return e.iptRef=s},style:this.styles.ipt,defaultValue:i,placeholder:"输入或粘贴 bgm.tv 的链接",showClear:!0,onChangeText:t.onChangeText,onSubmitEditing:function(){return t.onLinkSubmit(r)}})}),(0,y.jsx)(j.Touchable,{style:f._.ml.md,onPress:function(){return t.onLinkSubmit(r)},children:(0,y.jsx)(j.Text,{size:13,children:"提交"})})]})]}),(0,y.jsx)(m.default,{style:this.styles.info,children:(0,y.jsx)(j.Touchable,{onPress:this.onOpenActionSheet,children:(0,y.jsx)(j.Text,{size:14,type:"sub",children:"预设"})})})]})}},{key:"renderActionSheet",value:function(){var e=this,s=this.state.show;return(0,y.jsx)(j.ActionSheet,{show:s,title:"预设",height:640,onClose:this.onCloseActionSheet,children:(0,y.jsx)(m.default,{style:f._.container.wind,children:x.LINKS.map((function(s){return(0,y.jsx)(j.Touchable,{style:e.styles.item,onPress:function(){return e.onSelect(s.value)},children:(0,y.jsxs)(j.Flex,{children:[(0,y.jsxs)(j.Flex.Item,{children:[(0,y.jsx)(j.Text,{size:15,bold:!0,children:s.key}),(0,y.jsx)(j.Text,{style:f._.mt.xs,type:"sub",size:13,bold:!0,children:s.text})]}),(0,y.jsx)(j.Iconfont,{name:"md-navigate-next"})]})},s.key)}))})})}},{key:"render",value:function(){return(0,b.r)(x.COMPONENT),(0,y.jsxs)(y.Fragment,{children:[this.renderModal(),this.renderActionSheet()]})}},{key:"styles",get:function(){return(0,v.memoStyles)()}}]),t}(u.default.Component))},"./src/screens/discovery/index/component/link-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},info:{position:"absolute",zIndex:1,top:1,right:20,marginTop:-20},item:{paddingVertical:12}}}))},"./src/screens/discovery/index/component/list-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT=s.INITIAL_RENDER_NUMS_SM=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/screens/discovery/index/component/ds.ts"),i=s.COMPONENT=(0,o.rc)(n.COMPONENT,"ListItem");s.COMPONENT_MAIN=(0,o.rc)(i),s.INITIAL_RENDER_NUMS_SM=r._.device(Math.floor(r._.window.contentWidth/140)+1,0),s.ITEM_HEIGHT=800,s.DEFAULT_PROPS={styles:{},style:{},index:0,type:"anime",list:[],friendsChannel:[]}},"./src/screens/discovery/index/component/list-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/utils/decorators/index.ts"),n=r(t("./src/screens/discovery/index/component/list-item/list-item.tsx")),i=t("./src/screens/discovery/index/component/list-item/ds.ts"),d=t("./src/screens/discovery/index/component/list-item/styles.ts"),c=t("./node_modules/react/jsx-runtime.js"),l={};s.default=(0,o.obc)((function(e,s){var t=e.style,r=e.index,o=e.type,i=void 0===o?"anime":o,a=s.$;if(a.state.dragging)return null;var u=l[i]||a.ramdonHome[i];return null!=u&&u.length?(null!=u&&u.length&&!l[i]&&(l[i]=u),(0,c.jsx)(n.default,{styles:(0,d.memoStyles)(),style:t,index:r,type:i,list:l[i],friendsChannel:a.friendsChannel(i)})):null}),i.COMPONENT)},"./src/screens/discovery/index/component/list-item/list-item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/discovery/index/ds.ts"),m=r(t("./src/screens/discovery/index/component/cover-lg/index.tsx")),p=r(t("./src/screens/discovery/index/component/cover-sm/index.tsx")),j=r(t("./src/screens/discovery/index/component/cover-xs/index.tsx")),f=r(t("./src/screens/discovery/index/component/section-title/index.tsx")),_=t("./src/screens/discovery/index/component/list-item/ds.ts"),b=t("./node_modules/react/jsx-runtime.js"),x=(0,c.memo)((function(e){var s=e.styles,t=e.style,r=e.index,c=e.type,x=e.list,v=e.friendsChannel,y=a.MODEL_SUBJECT_TYPE.getTitle(c);return(0,b.jsxs)(n.InView,{y:.64*i._.window.height+r*_.ITEM_HEIGHT,children:[(0,b.jsx)(f.default,{title:y,type:c}),(0,b.jsx)(m.default,{title:y,src:(0,d.getCoverLarge)(x[0].cover)||a.IMG_DEFAULT,cn:(0,d.findSubjectCn)(x[0].title,x[0].subjectId),data:x[0]}),(0,b.jsx)(o.HorizontalList,{style:t,contentContainerStyle:s.contentContainerStyle,data:x.filter((function(e,s){return s>0})),initialRenderNums:_.INITIAL_RENDER_NUMS_SM,renderItem:function(e){return(0,b.jsx)(p.default,{title:y,src:e.cover||a.IMG_DEFAULT,cn:(0,d.findSubjectCn)(e.title,e.subjectId),data:e},e.subjectId)},onEndReachedOnce:function(){(0,l.t)("发现.滑动到边",{from:"CoverSm|"+c})}}),!!v.length&&(0,b.jsx)(o.HorizontalList,{contentContainerStyle:s.contentContainerStyleSm,data:v.filter((function(e){return"/img/no_img.gif"!==e.cover})),initialRenderNums:u.INITIAL_RENDER_NUMS_XS,renderItem:function(e){var s;return(0,b.jsx)(j.default,{title:y,avatar:null==(s=i.usersStore.friendsMap[e.userId])?void 0:s.avatar,data:e},e.userId+"|"+e.id)},onEndReachedOnce:function(){(0,l.t)("发现.滑动到边",{from:"CoverXs|"+c})}})]})}),_.DEFAULT_PROPS,_.COMPONENT_MAIN);s.default=x},"./src/screens/discovery/index/component/list-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingVertical:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingLeft:r._.windSm},contentContainerStyleSm:{paddingRight:r._.windSm-r._._wind,paddingBottom:r._.md+4,paddingLeft:r._.windSm}}}))},"./src/screens/discovery/index/component/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"List")},"./src/screens/discovery/index/component/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=r(t("./src/screens/discovery/index/header-component/index.tsx")),l=t("./src/screens/discovery/index/component/list/utils.tsx"),a=t("./src/screens/discovery/index/component/list/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=t.state.dragging;return(0,u.jsxs)(n.BlurViewRoot,{children:[(0,u.jsx)(o.ListView,{ref:t.forwardRef,keyExtractor:l.keyExtractor,style:i._.container.flex,contentContainerStyle:i._.container.bottom,progressViewOffset:i._.ios(i._.statusBarHeight,i._.headerHeight),data:t.state.home,ListHeaderComponent:(0,u.jsx)(c.default,{}),showFooter:!r&&!i.systemStore.setting.live2D,scrollEnabled:!r,scrollEventThrottle:16,renderItem:l.renderItem,onScroll:t.onScroll,onHeaderRefresh:r?void 0:t.onHeaderRefresh}),(0,u.jsx)(n.BlurViewBottomTab,{})]})}),a.COMPONENT)},"./src/screens/discovery/index/component/list/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.keyExtractor=function(e){return e.type},s.renderItem=function(e){var s=e.item,t=e.index;return(0,c.jsxs)(o.default,{children:[(0,c.jsx)(d.default,Object.assign({},s,{index:t})),(0,c.jsx)(n.Heatmap,{id:"发现.跳转",from:i.MODEL_SUBJECT_TYPE.getTitle(s.type)})]})};r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/constants/index.ts"),d=r(t("./src/screens/discovery/index/component/list-item/index.tsx")),c=t("./node_modules/react/jsx-runtime.js")},"./src/screens/discovery/index/component/mesume/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Mesume")},"./src/screens/discovery/index/component/mesume/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./node_modules/react-native-webview/index.js"),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/discovery/index/component/mesume/utils.ts"),m=t("./src/screens/discovery/index/component/mesume/ds.ts"),p=t("./src/screens/discovery/index/component/mesume/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.ob)((function(e){var s=e.dragging,t=(0,l.useIsFocused)();return(0,l.useObserver)((function(){if(a.WEB||s||!t)return null;var e=(0,p.memoStyles)();return(0,j.jsxs)(j.Fragment,{children:[!a.IOS&&(0,j.jsx)(o.default,{style:e.prevent,children:(0,j.jsx)(i.Touchable,{style:e.touch,ripple:!1,withoutFeedback:!0,onPress:a.FROZEN_FN})}),(0,j.jsx)(o.default,{style:e.stage,children:(0,j.jsx)(n.WebView,{style:e.webview,source:{html:(0,u.getHtml)(d.systemStore.setting.live2DVoice)},scrollEnabled:!1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,androidHardwareAccelerationDisabled:!0})})]})}))}),m.COMPONENT)},"./src/screens/discovery/index/component/mesume/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{prevent:{position:"absolute",zIndex:1,bottom:r._.tabBarHeight+r._.xs,right:0},touch:{width:132,height:256},stage:{position:"absolute",zIndex:10,bottom:r._.tabBarHeight+r._.xs,right:0,width:128,height:256,backgroundColor:"transparent"},webview:{backgroundColor:"transparent"}}}))},"./src/screens/discovery/index/component/mesume/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHtml=function(e){return'<!DOCTYPE html>\n  <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>Document</title>\n      <style>\n        * {\n          padding: 0;\n          margin: 0;\n        }\n        #ukagaka_shell {\n          position: fixed;\n          bottom: 0;\n          right: 0;\n          z-index: 90;\n        }\n        #ukagaka_shell div.ui_10 {\n          width: 150px;\n          height: 355px;\n          color: #ab515d;\n        }\n        #ukagaka_shell .ukagaka_body {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n        #oml-stage {\n          position: fixed;\n          bottom: 0;\n          opacity: 0;\n          left: auto;\n          right: 0 !important;\n          z-index: 80;\n        }\n        #oml-canvas {\n          width: 100%;\n          height: 100%;\n          position: relative;\n          z-index: 81;\n        }\n      </style>\n    </head>\n    <body>\n      <div id="ukagaka_shell">\n        <div class="ui_10">\n          <div class="ukagaka_body shell_1">\n            <div id="ukagaka_voice"></div>\n          </div>\n        </div>\n      </div>\n      <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"><\/script>\n      <script>\n        $(document).ready(() => {\n          var chiiLib = {\n            ukagaka: {\n              playVoice: function (voice_list) {\n                var voice_id = voice_list[Math.floor(Math.random() * voice_list.length)]\n                var voice_str =\n                  \'<audio><source src="'+r.HOST_DOGE+"/live-2d/wave/wave' +\n                  voice_id +\n                  '.wav\" type=\"audio/wav\"></audio>'\n                $('#ukagaka_voice').html(voice_str)\n                var voice = document.querySelector('#ukagaka_voice audio')\n                voice.volume = 0.2\n                voice.play()\n              }\n            }\n          }\n\n          $.cachedScript = function (url, options) {\n            options = $.extend(options || {}, {\n              dataType: \"script\",\n              cache: true,\n              url: url,\n            });\n            return $.ajax(options);\n          };\n\n          $.cachedScript('https://bgm.tv/js/oml-cubism4.min.js?v3').done(function () {\n            var path = 'live-2d/bangumi_musume_2d.model3.json'\n            OML2D.loadOhMyLive2D({\n              sayHello: false,\n              tips: false,\n              transitionTime: 500,\n              rootElement: '#ukagaka_shell',\n              callback: {\n                ready: function () {\n                  $('#ukagaka_shell .ukagaka_body').css({\n                    'animation-name': 'oml-stage-slide-out',\n                    'animation-duration': '500ms',\n                    animationFillMode: 'forwards'\n                  })\n                },\n                hit: function (hitAreas, model) {\n                  if (hitAreas.includes('Body')) {\n                    model.motion('Tap@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([41, 40])":"")+"\n                  } else if (hitAreas.includes('Hair')) {\n                    model.motion('Tap')\n                    "+(e?"chiiLib.ukagaka.playVoice([39, 53, 29, 30, 31])":"")+"\n                  } else if (hitAreas.includes('Face')) {\n                    model.motion('Flick@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([40, 43, 44, 45, 46, 48, 49, 50, 51, 52, 59])":"")+"\n                  }\n                }\n              },\n              source: '"+r.HOST_DOGE+"',\n              models: {\n                path: path,\n                scale: 0.72,\n                stageStyle: { width: '140', height: '256' }\n              }\n            })\n          })\n        })\n      <\/script>\n    </body>\n  </html>"};var r=t("./src/constants/index.ts")},"./src/screens/discovery/index/component/section-title/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"SectionTitle")},"./src/screens/discovery/index/component/section-title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/screens/discovery/index/component/section-title/ds.ts"),a=t("./src/screens/discovery/index/component/section-title/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.title,r=e.type,d=s.navigation,l=(0,a.memoStyles)();return(0,u.jsx)(n.SectionTitle,{style:l.section,right:(0,u.jsx)(o.Touchable,{style:l.touch,onPress:(0,c.withT)((function(){d.push("Channel",{type:r})}),"发现.跳转",{to:"Channel",title:t,from:"SectionTitle"}),children:(0,u.jsxs)(o.Flex,{children:[(0,u.jsx)(o.Text,{children:"　　"}),(0,u.jsx)(o.Iconfont,{name:"md-navigate-next",color:i._.colorTitle})]})}),children:t})}),l.COMPONENT)},"./src/screens/discovery/index/component/section-title/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{section:{marginTop:24,marginHorizontal:r._.windSm},touch:{paddingVertical:r._.xs,paddingLeft:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}}))},"./src/screens/discovery/index/component/sort-menu/btns/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/sort-menu/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Btns")},"./src/screens/discovery/index/component/sort-menu/btns/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/stores/system/init.ts"),l=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),u=t("./src/utils/fetch/index.ts"),m=t("./src/constants/index.ts"),p=t("./src/screens/discovery/index/component/sort-menu/btns/ds.ts"),j=t("./src/screens/discovery/index/component/sort-menu/btns/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=e.setMenu,r=e.onCancel,a=e.onSave,p=s.navigation,_=(0,j.memoStyles)();return(0,f.jsxs)(o.default,{style:m.WEB&&_.web,children:[(0,f.jsxs)(n.Flex,{style:_.btns,justify:"end",children:[(0,f.jsx)(n.Flex.Item,{children:(0,f.jsx)(n.Touchable,{style:_.touch,onPress:r,children:(0,f.jsx)(n.Flex,{style:_.btn,justify:"center",children:(0,f.jsx)(n.Text,{type:"sub",bold:!0,size:11,children:"取消"})})})}),(0,f.jsx)(n.Flex.Item,{style:d._.ml.md,children:(0,f.jsx)(n.Touchable,{style:_.touch,onPress:a,children:(0,f.jsx)(n.Flex,{style:_.btn,justify:"center",children:(0,f.jsx)(n.Text,{type:"__plain__",bold:!0,size:11,children:"保存"})})})}),(0,f.jsx)(i.IconTouchable,{style:_.refresh,name:"md-refresh",color:d._.colorDesc,onPress:function(){(0,l.confirm)("是否恢复默认菜单布局",(function(){t(c.INIT_DISCOVERY_MENU)}))}})]}),!m.WEB&&(0,f.jsx)(n.Touchable,{style:d._.mt.sm,onPress:(0,u.withT)((function(){p.push("Setting",{open:"Discovery"})}),"发现.跳转",{to:"Setting",from:"SortMenu"}),children:(0,f.jsxs)(n.Flex,{style:_.setting,children:[(0,f.jsx)(n.Flex.Item,{children:(0,f.jsx)(n.Text,{children:"更多设置"})}),(0,f.jsx)(n.Iconfont,{name:"md-navigate-next",size:24})]})})]})}),p.COMPONENT)},"./src/screens/discovery/index/component/sort-menu/btns/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{web:{position:"fixed",zIndex:1,right:r._.wind,bottom:92,left:r._.wind},btns:{paddingHorizontal:r._.sm,marginTop:r._.md,marginBottom:o.WEB?0:r._.md},touch:{borderRadius:r._.r(36),overflow:"hidden"},btn:{height:r._.r(36),backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:r._.r(36)},refresh:{marginRight:r._.sm,marginLeft:r._.md},setting:{paddingHorizontal:r._.sm,marginBottom:24}}}))},"./src/screens/discovery/index/component/sort-menu/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/discovery/index/component/ds.ts"),d=s.COMPONENT=(0,o.rc)(i.COMPONENT,"SortMenu");s.COMPONENT_MAIN=(0,o.rc)(d),s.DEFAULT_PROPS={navigation:{},styles:{},orientation:r._.orientation,dragging:!1,discoveryMenu:[],discoveryTodayOnair:!0,discoveryMenuNum:4,onToggle:n.FROZEN_FN,onSubmit:n.FROZEN_FN}},"./src/screens/discovery/index/component/sort-menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),c=r(t("./src/screens/discovery/index/component/sort-menu/sort-menu.tsx")),l=t("./src/screens/discovery/index/component/sort-menu/ds.ts"),a=t("./src/screens/discovery/index/component/sort-menu/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=s.navigation,d=(0,a.memoStyles)();return(0,u.jsx)(o.default,{style:(0,i.stl)(d.container,n.systemStore.setting.discoveryMenuNum<5&&n._.mt.sm),children:(0,u.jsx)(c.default,{navigation:r,styles:d,orientation:n._.orientation,dragging:t.state.dragging,discoveryMenu:n.systemStore.setting.discoveryMenu,discoveryTodayOnair:n.systemStore.setting.discoveryTodayOnair,discoveryMenuNum:n.systemStore.setting.discoveryMenuNum,onToggle:t.toggleDragging,onSubmit:t.saveDiscoveryMenu})})}),l.COMPONENT)},"./src/screens/discovery/index/component/sort-menu/sort-menu.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),i=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),d=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),c=t("./src/components/index.ts"),l=t("./src/components/@/react-native-draggable-grid/draggable-grid.tsx"),a=t("./src/utils/index.ts"),u=t("./src/utils/decorators/index.ts"),m=t("./src/constants/index.ts"),p=t("./src/screens/discovery/index/ds.ts"),j=r(t("./src/screens/discovery/index/component/btn/index.tsx")),f=r(t("./src/screens/discovery/index/component/sort-menu/btns/index.tsx")),_=t("./src/screens/discovery/index/component/sort-menu/ds.ts"),b=t("./node_modules/react/jsx-runtime.js");function x(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(x=function(e){return e?t:s})(e)}var v=(0,u.memo)((function(e){var s,t=e.styles,r=e.orientation,u=e.dragging,_=e.discoveryMenu,x=e.discoveryMenuNum,v=e.onToggle,y=e.onSubmit,g=(0,i.useState)(_),h=(0,n.default)(g,2),O=h[0],S=h[1],T=(0,i.useMemo)((function(){return(0,p.getMenus)(O)}),[O]),P=T.findIndex((function(e){return"Open"===e.key})),I=(0,i.useCallback)((function(e,s){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,b.jsx)(d.default,{style:(0,a.stl)(s>P&&"Cancel"!==e.key&&"Save"!==e.key&&t.transparent,r&&t.item),children:(0,b.jsx)(j.default,{item:e})},e.key)}),[P,t.item,t.transparent]),M=(0,i.useCallback)((function(e){var s=[];e.forEach((function(e){if("Save"!==e.key)return"Split"===e.key?s.push("Open"):void s.push(e.key)})),S(s)}),[]),C=(0,i.useCallback)((function(){v(),setTimeout((function(){S(_)}),80)}),[_,v]),E=(0,i.useCallback)((function(){y(O),setTimeout((function(){v()}),80)}),[O,y,v]),N=(0,i.useMemo)((function(){return u&&(0,b.jsx)(f.default,{setMenu:S,onCancel:C,onSave:E})}),[u,C,E]);s=u?[].concat((0,o.default)(T.slice(0,P)),[{key:"Split",name:"后面隐藏",text:"|",size:20}],(0,o.default)(T.slice(P+1,T.length))):T.filter((function(e,s){return s<=P}));var k=r===m.ORIENTATION_PORTRAIT,w=x<=4;return(0,b.jsxs)(d.default,{style:u&&t.dragging,children:[k&&u&&(0,b.jsx)(c.Text,{style:t.text,size:13,bold:!0,children:"按住拖拽排序，拖动到分割线左侧显示，右侧隐藏"}),!k&&N,u?(0,b.jsx)(l.DraggableGrid,{data:s,numColumns:x,itemHeight:t.dragItem.height*(w?.8:1),renderItem:function(e,s){return I(e,s,w)},onDragRelease:M},r+"|"+x):(0,b.jsx)(c.Flex,{wrap:"wrap",children:s.map((function(e,s){return I(e,s,!1)}))}),k&&N]})}),_.DEFAULT_PROPS,_.COMPONENT_MAIN);s.default=v},"./src/screens/discovery/index/component/sort-menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingHorizontal:r._.windSm,minHeight:100},dragging:{minHeight:r._.web(r._.window.height-r._.tabBarHeight,0)},transparent:{opacity:r._.select(.6,.4)},text:{marginTop:r._.ios(r._.sm,r._.md),marginLeft:r._.md,marginBottom:r._.sm},dragItem:{height:o.WEB?94:(r._.windowSm.width-2*r._.windSm)/4},item:{transform:[{scale:.8}]}}}))},"./src/screens/discovery/index/component/today/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULTP_ROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/component/ds.ts"),n=s.COMPONENT=(0,r.rc)(o.COMPONENT,"Today");s.COMPONENT_MAIN=(0,r.rc)(n),s.DEFAULTP_ROPS={styles:{},todayBangumi:[]}},"./src/screens/discovery/index/component/today/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/discovery/index/component/today/today.tsx")),d=t("./src/screens/discovery/index/component/today/ds.ts"),c=t("./src/screens/discovery/index/component/today/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=s.$;return o.systemStore.setting.discoveryTodayOnair&&t.todayBangumi.length?(0,l.jsx)(i.default,{styles:(0,c.memoStyles)(),todayBangumi:t.todayBangumi}):null}),d.COMPONENT)},"./src/screens/discovery/index/component/today/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.device(r._._wind,r._.md);return{contentContainerStyle:{paddingTop:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingBottom:r._.sm,paddingLeft:r._.windSm},split:{marginRight:e-r._.sm,marginLeft:-r._.sm},line:{width:2,height:2,marginVertical:r._.xs,backgroundColor:r._.colorIcon,borderRadius:2,overflow:"hidden"}}}))},"./src/screens/discovery/index/component/today/today.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/screens/discovery/index/ds.ts"),a=r(t("./src/screens/discovery/index/component/cover-today/index.tsx")),u=t("./src/screens/discovery/index/component/today/ds.ts"),m=t("./node_modules/react/jsx-runtime.js"),p=(0,d.memo)((function(e){var s=e.styles,t=e.todayBangumi;return(0,m.jsx)(n.HorizontalList,{contentContainerStyle:s.contentContainerStyle,data:t,initialRenderNums:l.INITIAL_RENDER_NUMS_XS,renderItem:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[2===t&&(0,m.jsxs)(n.Flex,{style:s.split,direction:"column",justify:"center",children:[(0,m.jsx)(o.default,{style:s.line}),(0,m.jsx)(n.Text,{size:10,type:"sub",children:"now"}),(0,m.jsx)(o.default,{style:[s.line,{marginTop:i._.xs+2}]})]}),(0,m.jsx)(a.default,{data:e},e.id)]})},onEndReachedOnce:function(){(0,c.t)("发现.滑动到边",{from:"Today"})}})}),u.DEFAULTP_ROPS,u.COMPONENT_MAIN);s.default=p},"./src/screens/discovery/index/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.MENU_MAP_STORYBOOK=s.MENU_MAP=s.INITIAL_RENDER_NUMS_XS=s.COMPONENT=void 0,s.getMenus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var s=Object.assign({},d);i.WEB&&(s=Object.assign({},s,c));var t=[];e.forEach((function(e){s[e]&&(t.push(s[e]),delete s[e])}));var r=Object.keys(s);if(r.length){var n=t.findIndex((function(e){return"Open"===e.key})),l=r.map((function(e){return s[e]}));t=[].concat((0,o.default)(t.slice(0,n)),(0,o.default)(l),(0,o.default)(t.slice(n,t.length)))}return i.WEB?t.filter((function(e){return!1!==e.web})):i.IOS?t.filter((function(e){return!1!==e.ios})):t},s.linearColor=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=t("./src/stores/index.ts"),i=t("./src/constants/index.ts"),d=(s.COMPONENT="Discovery",s.INITIAL_RENDER_NUMS_XS=n._.device(Math.floor(n._.window.contentWidth/80)+1,0),s.MENU_MAP={Rank:{key:"Rank",name:"排行榜",icon:"md-equalizer"},Anime:{key:"Anime",name:"找条目",icon:"md-live-tv",size:21},Browser:{key:"Browser",name:"索引",icon:"md-data-usage"},Catalog:{key:"Catalog",name:"目录",icon:"md-folder-open"},Calendar:{key:"Calendar",name:"每日放送",icon:"md-calendar-today",size:20},DiscoveryBlog:{key:"DiscoveryBlog",name:"日志",icon:"md-edit",size:21},Tags:{key:"Tags",name:"标签",icon:"md-bookmark-outline"},Open:{key:"Open",name:"自定义",icon:"md-more-horiz"},Staff:{key:"Staff",name:"新番",icon:"md-local-play"},Search:{key:"Search",name:"搜索",icon:"md-search",web:!1},Tinygrail:{key:"Tinygrail",name:"小圣杯",icon:"trophy",size:20,web:!1},Like:{key:"Like",name:"猜你喜欢",icon:"md-looks",login:!0},Recommend:{key:"Recommend",name:"AI 推荐",icon:"md-favorite-outline",size:21},BiWeekly:{key:"BiWeekly",name:"半月刊",text:"半",size:18},VIB:{key:"VIB",name:"评分月刊",text:"VIB",size:14},Dollars:{key:"Dollars",name:"Dollars",text:"D",size:20,login:!0},Wiki:{key:"Wiki",name:"维基人",text:"wiki",size:14},Yearbook:{key:"Yearbook",name:"年鉴",icon:"md-whatshot",web:!1},UserTimeline:{key:"UserTimeline",name:"时间线",icon:"md-timeline",login:!0},Netabare:{key:"Netabare",name:"netaba.re",text:"N",size:18},Anitama:{key:"Anitama",name:"资讯",icon:"md-text-format",size:26,web:!1},Smb:{key:"Smb",name:"本地管理",icon:"md-inbox",size:22},DoubanSync:{key:"DoubanSync",name:"豆瓣同步",text:"豆",size:18,web:!1},BilibiliSync:{key:"BilibiliSync",name:"bilibili 同步",text:"B",size:20,web:!1},Backup:{key:"Backup",name:"本地备份",text:"CSV",size:14,web:!1},Series:{key:"Series",name:"关联系列",icon:"md-workspaces-outline",login:!0},Character:{key:"Character",name:"我的人物",icon:"md-folder-shared",login:!0},Catalogs:{key:"Catalogs",name:"我的目录",icon:"md-folder-special",login:!0},Link:{key:"Link",name:"剪贴板",icon:"md-link",web:!1}}),c=s.MENU_MAP_STORYBOOK={Milestone:{key:"Milestone",name:"照片墙",icon:"md-image-aspect-ratio"},Setting:{key:"Setting",name:"设置",icon:"setting"}};s.linearColor=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.64)","rgba(0, 0, 0, 0.84)"]},"./src/screens/discovery/index/header-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/discovery/index/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"HeaderComponent")},"./src/screens/discovery/index/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/discovery/index/component/award/index.tsx")),a=r(t("./src/screens/discovery/index/component/sort-menu/index.tsx")),u=r(t("./src/screens/discovery/index/component/today/index.tsx")),m=t("./src/screens/discovery/index/header-component/ds.ts"),p=t("./src/screens/discovery/index/header-component/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=s.$,r=(0,p.memoStyles)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.StatusBarPlaceholder,{}),!t.state.dragging&&(0,j.jsxs)(o.default,{children:[(0,j.jsx)(l.default,{}),(0,j.jsx)(n.Heatmap,{id:"发现.跳转",to:"Award"})]}),(0,j.jsx)(a.default,{}),!t.state.dragging&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(n.Flex,{style:r.wrap,children:[!!d.discoveryStore.online&&(0,j.jsxs)(n.Text,{align:"right",size:12,children:["online ",d.discoveryStore.online]}),(0,j.jsx)(n.Flex.Item,{children:(0,j.jsx)(n.Text,{align:"right",size:12,numberOfLines:1,children:t.today||t.home.today})})]}),(0,j.jsx)(u.default,{})]})]})}),m.COMPONENT)},"./src/screens/discovery/index/header-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{wrap:{paddingHorizontal:r._.windSm+2,marginTop:r._.md+8,marginBottom:r._.xs}}}))},"./src/screens/discovery/index/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useDiscoveryPage=function(e){var s=e.$,t=e.navigation;(0,n.useRunAfter)((function(){s.init(),t.addListener(i.EVENT_APP_TAB_PRESS+"|Discovery",(function(){s.onRefreshThenScrollTop()}))})),(0,n.useFocusEffect)((function(){(0,o.androidDayNightToggle)(r._.isDark)}))};var r=t("./src/stores/index.ts"),o=t("./src/utils/index.ts"),n=t("./src/utils/hooks/index.ts"),i=t("./src/navigations/tab-bar/index.tsx")},"./src/screens/discovery/index/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Discovery=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Discovery",component:n.Discovery},s.Discovery=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Discovery,Object.assign({},(0,o.getStorybookArgs)("Discovery")))})})}},"./src/screens/discovery/index/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/hooks/index.ts"),c=r(t("./src/screens/discovery/index/component/extra/index.tsx")),l=r(t("./src/screens/discovery/index/component/list/index.tsx")),a=r(t("./src/screens/discovery/index/component/mesume/index.tsx")),u=t("./src/screens/discovery/index/hooks.ts"),m=r(t("./src/screens/discovery/index/store/index.ts")),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ic)(m.default,(function(e,s){(0,u.useDiscoveryPage)(s);var t=s.$;return(0,d.useObserver)((function(){return(0,p.jsxs)(o.Component,{id:"screen-discovery",children:[(0,p.jsxs)(o.Page,{children:[(0,p.jsx)(l.default,{}),n.systemStore.setting.live2D&&(0,p.jsx)(a.default,{dragging:t.state.dragging})]}),(0,p.jsx)(c.default,{})]})}))}))},"./src/screens/discovery/index/store/action.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.link.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.function.bind.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./src/stores/index.ts"),m=t("./src/utils/index.ts"),p=t("./src/utils/fetch/index.ts"),j=r(t("./src/screens/discovery/index/store/fetch.ts"));function f(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=function(e){(0,d.default)(t,e);var s=f(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,a.default)((0,i.default)(e),"scrollToIndex",void 0),(0,a.default)((0,i.default)(e),"forwardRef",(function(s){e.scrollToIndex=null==s?void 0:s.scrollToIndex})),(0,a.default)((0,i.default)(e),"onRefreshThenScrollTop",(0,p.withT)((function(){try{"function"==typeof e.scrollToIndex&&(e.fetchOnline(),e.scrollToIndex({animated:!0,index:0,viewOffset:8e3}))}catch(e){console.error("Discovery","onRefreshThenScrollTop",e)}}),"其他.刷新到顶",{screen:"Discovery"})),(0,a.default)((0,i.default)(e),"toggleLinkModal",(function(){e.setState({visible:!e.state.visible})})),(0,a.default)((0,i.default)(e),"onChangeText",(function(s){e.setState({link:s})})),(0,a.default)((0,i.default)(e),"onLinkSubmit",(function(s){var t=e.state.link;if(t.length){t.includes("http://")||t.includes("https://")||(t="https://"+t);var r=((0,m.matchBgmUrl)(t,!0)||[])[0];r?((0,m.appNavigate)(r,s),e.setState({visible:!1,link:""}),(0,p.t)("发现.剪贴板",{link:t})):(0,m.info)("链接不符合格式")}else(0,m.info)("请输入链接")})),(0,a.default)((0,i.default)(e),"toggleDragging",(function(){var s=e.state.dragging;try{s||e.scrollToIndex({animated:!0,index:0,viewOffset:8e3})}catch(e){console.error("Discovery","toggleDragging",e)}e.setState({dragging:!s})})),(0,a.default)((0,i.default)(e),"toggleBlockTrain",(function(){e.setState({showBlockTrain:!e.state.showBlockTrain}),e.save()})),(0,a.default)((0,i.default)(e),"saveDiscoveryMenu",(function(e){u.systemStore.setSetting("discoveryMenu",e),(0,p.t)("发现.更新菜单",{length:e.length})})),(0,a.default)((0,i.default)(e),"onScroll",m.updateVisibleBottom.bind((0,i.default)(e))),e}return(0,o.default)(t)}(j.default)},"./src/screens/discovery/index/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.reverse.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.date.to-string.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o,n=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=t("./node_modules/mobx/dist/mobx.esm.js"),p=t("./src/stores/index.ts"),j=t("./src/stores/calendar/onair/index.ts"),f=t("./src/utils/index.ts"),_=r(t("./src/screens/discovery/index/store/state.ts"));function b(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,a.default)(e);if(s){var o=(0,a.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,l.default)(this,t)}}s.default=(o=function(e){(0,c.default)(t,e);var s=b(t);function t(){return(0,i.default)(this,t),s.apply(this,arguments)}return(0,d.default)(t,[{key:"home",get:function(){return p.calendarStore.home}},{key:"ramdonHome",get:function(){return Object.assign({},this.home,{anime:(0,f.appRandom)(this.home.anime,"info"),book:(0,f.appRandom)(this.home.book,"info"),game:(0,f.appRandom)(this.home.game,"info"),music:(0,f.appRandom)(this.home.music,"info"),real:(0,f.appRandom)(this.home.real,"info")})}},{key:"today",get:function(){return p.calendarStore.home.today}},{key:"friendsChannel",value:function(e){return(0,m.computed)((function(){return p.discoveryStore.channel(e).friends})).get()}},{key:"calendar",get:function(){var e=p.calendarStore.calendar.list.map((function(e){return Object.assign({},e,{items:e.items.map((function(e){var s=p.calendarStore.onAir[e.id]||j.ON_AIR[e.id]||{},t=s.air,r=void 0===t?0:t,o=s.timeCN,n=s.timeJP;return Object.assign({},e,{air:r,timeCN:o||n||"2359"})})).filter((function(e){return"2359"!==e.timeCN})).sort((function(e,s){return(0,f.desc)(String(e.timeCN||""),String(s.timeCN||""))}))})})),s=[];return e.forEach((function(e){e.items.forEach((function(t){s.push(Object.assign({},t,{weekday:e.weekday.id}))}))})),s.reverse()}},{key:"todayBangumi",get:function(){try{var e=(0,f.date)("Hi",(0,f.getTimestamp)()),s=parseInt(""+((new Date).getDay()||7)+(e||"0000")),t=this.calendar.findIndex((function(e){return s>=parseInt(""+(e.weekDayLocal||7)+(e.timeLocal||"0000"))}));return[].concat((0,n.default)(this.calendar),(0,n.default)(this.calendar),(0,n.default)(this.calendar)).slice(t-10+this.calendar.length,t+2+this.calendar.length).reverse()}catch(e){return[]}}}]),t}(_.default),(0,u.default)(o.prototype,"home",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"home"),o.prototype),(0,u.default)(o.prototype,"ramdonHome",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"ramdonHome"),o.prototype),(0,u.default)(o.prototype,"today",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"today"),o.prototype),(0,u.default)(o.prototype,"calendar",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"calendar"),o.prototype),(0,u.default)(o.prototype,"todayBangumi",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"todayBangumi"),o.prototype),o)},"./src/screens/discovery/index/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/discovery/index/ds.ts"),d=(s.NAMESPACE="Screen"+i.COMPONENT,s.EXCLUDE_STATE={visibleBottom:r._.window.height,home:{list:n.SUBJECT_TYPE.map((function(e){return{type:e.label}})),pagination:{page:1,pageTotal:1},_loaded:(0,o.getTimestamp)()},visible:!1,link:"",dragging:!1,showBlockTrain:!1});s.STATE=Object.assign({},d,{_loaded:!0})},"./src/screens/discovery/index/store/fetch.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./src/stores/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/constants/index.ts"),j=r(t("./src/screens/discovery/index/store/computed.ts"));function f(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=function(e){(0,d.default)(t,e);var s=f(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,a.default)((0,i.default)(e),"fetchOnline",(function(){return u.discoveryStore.fetchOnline()})),(0,a.default)((0,i.default)(e),"fetchChannel",(function(){return(0,m.queue)(p.SUBJECT_TYPE.map((function(e){return function(){return u.discoveryStore.fetchChannel({type:e.label})}})),1)})),e}return(0,o.default)(t)}(j.default)},"./src/screens/discovery/index/store/index.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.every.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=o(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),f=t("./src/utils/fetch/index.ts"),_=t("./src/constants/index.ts"),b=o(t("./src/screens/discovery/index/store/action.ts")),x=t("./src/screens/discovery/index/store/ds.ts");function v(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.default)(e);if(s){var o=(0,u.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,a.default)(this,t)}}var y=function(e){(0,l.default)(t,e);var s=v(t);function t(){var e;(0,d.default)(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=s.call.apply(s,[this].concat(i)),(0,m.default)((0,c.default)(e),"init",(0,n.default)(r.mark((function s(){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=e,s.t1=Object,s.t2={},s.next=5,e.getStorage(x.NAMESPACE);case 5:return s.t3=s.sent,s.t4=x.EXCLUDE_STATE,s.t5={_loaded:!0},s.t6=s.t1.assign.call(s.t1,s.t2,s.t3,s.t4,s.t5),s.t0.setState.call(s.t0,s.t6),setTimeout((function(){(0,f.queue)([function(){return!!_.WEB||e.fetchOnline()},function(){return!p.userStore.isWebLogin||e.fetchChannel()},(0,n.default)(r.mark((function e(){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.calendarStore.init("onAir");case 2:if(s=p.calendarStore.onAir._loaded,!((0,j.getTimestamp)()-Number(s||0)<_.D)){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",p.calendarStore.fetchOnAir());case 6:case"end":return e.stop()}}),e)}))),(0,n.default)(r.mark((function e(){var s,t,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.calendarStore.init("calendar");case 2:if(s=p.calendarStore.calendar,t=s.list,o=s._loaded,!((0,j.getTimestamp)()-Number(o||0)<_.H6)){e.next=11;break}if(e.prev=4,!t.length||t.every((function(e){return 0===e.items.length}))){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:return e.abrupt("return",p.calendarStore.fetchCalendar());case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),function(){return!!_.WEB||p.usersStore.fetchUsers()}])}),800),s.abrupt("return",p.calendarStore.fetchHome());case 12:case"end":return s.stop()}}),s)})))),(0,m.default)((0,c.default)(e),"onHeaderRefresh",(0,f.withT)((function(){return(0,f.queue)([function(){return e.fetchOnline()},function(){return p.calendarStore.fetchOnAir(!0)},function(){return p.calendarStore.fetchCalendar()},function(){return p.calendarStore.fetchHome()}])}),"发现.下拉刷新")),e}return(0,i.default)(t)}(b.default);s.default=y},"./src/screens/discovery/index/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./node_modules/mobx/dist/mobx.esm.js"),m=r(t("./src/utils/store/index.ts")),p=t("./src/screens/discovery/index/store/ds.ts");function j(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=function(e){(0,d.default)(t,e);var s=j(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,a.default)((0,i.default)(e),"state",(0,u.observable)(p.STATE)),(0,a.default)((0,i.default)(e),"save",(function(){return e.saveStorage(p.NAMESPACE,p.EXCLUDE_STATE)})),e}return(0,o.default)(t)}(m.default)},"./src/screens/discovery/like/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Like=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Like",component:n.Like},s.Like=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Like,Object.assign({},(0,o.getStorybookArgs)("Like")))})})}},"./src/screens/discovery/manga/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Manga=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Manga",component:n.Manga},s.Manga=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Manga,Object.assign({},(0,o.getStorybookArgs)("Manga")))})})}},"./src/screens/discovery/nsfw/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.NSFW=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/NSFW",component:n.NSFW},s.NSFW=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.NSFW,Object.assign({},(0,o.getStorybookArgs)("NSFW")))})})}},"./src/screens/discovery/rank/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Rank=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Rank",component:n.Rank},s.Rank=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Rank,Object.assign({},(0,o.getStorybookArgs)("Rank")))})})}},"./src/screens/discovery/recommend/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Recommend=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Recommend",component:n.Recommend},s.Recommend=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Recommend,Object.assign({},(0,o.getStorybookArgs)("Recommend")))})})}},"./src/screens/discovery/search/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Search=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Search",component:n.Search},s.Search=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Search,Object.assign({},(0,o.getStorybookArgs)("Search")))})})}},"./src/screens/discovery/series/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Series=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Series",component:n.Series},s.Series=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Series,Object.assign({},(0,o.getStorybookArgs)("Series")))})})}},"./src/screens/discovery/staff/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Staff=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Staff",component:n.Staff},s.Staff=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Staff,Object.assign({},(0,o.getStorybookArgs)("Staff")))})})}},"./src/screens/discovery/tags/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Tags=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Tags",component:n.Tags},s.Tags=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Tags,Object.assign({},(0,o.getStorybookArgs)("Tags")))})})}},"./src/screens/discovery/vib/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.VIB=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/VIB",component:n.VIB},s.VIB=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.VIB,Object.assign({},(0,o.getStorybookArgs)("VIB")))})})}},"./src/screens/discovery/wenku/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Wenku=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Wenku",component:n.Wenku},s.Wenku=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Wenku,Object.assign({},(0,o.getStorybookArgs)("Wenku")))})})}},"./src/screens/discovery/wiki/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Wiki=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Wiki",component:n.Wiki},s.Wiki=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Wiki,Object.assign({},(0,o.getStorybookArgs)("Wiki")))})})}},"./src/screens/discovery/word-cloud/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.WordCloud=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/WordCloud",component:n.WordCloud},s.WordCloud=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.WordCloud,Object.assign({},(0,o.getStorybookArgs)("WordCloud")))})})}},"./src/screens/discovery/yearbook/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Yearbook=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Yearbook",component:n.Yearbook},s.Yearbook=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Yearbook,Object.assign({},(0,o.getStorybookArgs)("Yearbook")))})})}},"./src/screens/home/catalogs/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.SubjectCatalogs=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/SubjectCatalogs",component:n.SubjectCatalogs},s.SubjectCatalogs=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.SubjectCatalogs,Object.assign({},(0,o.getStorybookArgs)("SubjectCatalogs")))})})}},"./src/screens/home/characters/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Characters=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Characters",component:n.Characters},s.Characters=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Characters,Object.assign({},(0,o.getStorybookArgs)("Characters")))})})}},"./src/screens/home/episodes/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Episodes=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Episodes",component:n.Episodes},s.Episodes=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Episodes,Object.assign({},(0,o.getStorybookArgs)("Episodes")))})})}},"./src/screens/home/mono/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Mono=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Mono",component:n.Mono},s.Mono=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Mono,Object.assign({},(0,o.getStorybookArgs)("Mono")))})})}},"./src/screens/home/overview/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Overview=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Overview",component:n.Overview},s.Overview=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Overview,Object.assign({},(0,o.getStorybookArgs)("Overview")))})})}},"./src/screens/home/persons/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Persons=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Persons",component:n.Persons},s.Persons=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Persons,Object.assign({},(0,o.getStorybookArgs)("Persons")))})})}},"./src/screens/home/preview/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Preview=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Preview",component:n.Preview},s.Preview=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Preview,Object.assign({},(0,o.getStorybookArgs)("Preview")))})})}},"./src/screens/home/rating/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Rating=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Rating",component:n.Rating},s.Rating=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Rating,Object.assign({},(0,o.getStorybookArgs)("Rating")))})})}},"./src/screens/home/subject/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Subject=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Subject",component:n.Subject},s.Subject=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Subject,Object.assign({},(0,o.getStorybookArgs)("Subject")))})})}},"./src/screens/home/tag/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Tag=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Tag",component:n.Tag},s.Tag=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Tag,Object.assign({},(0,o.getStorybookArgs)("Tag")))})})}},"./src/screens/home/typerank/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Typerank=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Typerank",component:n.Typerank},s.Typerank=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Typerank,Object.assign({},(0,o.getStorybookArgs)("Typerank")))})})}},"./src/screens/home/v2/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.WEEK_DAY_MAP=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Component"),s.WEEK_DAY_MAP={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"}},"./src/screens/home/v2/component/empty/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.FOOTER_EMPTY_TEXT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Empty"),s.FOOTER_EMPTY_TEXT={全部:"当前没有可管理的条目哦",动画:"当前没有在追的番组哦",书籍:"当前没有在读的书籍哦",三次元:"当前没有在追的电视剧哦",游戏:"当前没有在玩的游戏哦"}},"./src/screens/home/v2/component/empty/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/components/mesume/utils.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),c=t("./src/screens/home/v2/component/empty/ds.ts"),l=t("./src/screens/home/v2/component/empty/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.title,r=e.length,i=s.$,u=s.navigation,m=(0,l.memoStyles)(),p=i.state.filter;return(0,a.jsxs)(o.Flex,{style:r?m.top:m.empty,direction:"column",justify:"center",children:[(0,a.jsx)(o.Mesume,{size:80}),(0,a.jsx)(o.Text,{style:m.text,type:"sub",size:13,align:"center",children:r?(0,n.randomSpeech)():c.FOOTER_EMPTY_TEXT[t]}),!!p&&r<=3&&(0,a.jsx)(o.Button,{style:m.btn,type:"ghostMain",onPress:function(){(0,d.t)("首页.再搜索",{type:t,value:p}),u.push("Search",{_type:"全部"===t?"条目":t,_value:p})},children:"前往搜索"})]})}),c.COMPONENT)},"./src/screens/home/v2/component/empty/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{empty:{minHeight:320},top:{minHeight:280},text:Object.assign({marginTop:r._.md,maxWidth:r._.window.contentWidth-2*r._.md},r._.fontSize(14)),btn:{marginTop:r._.lg,width:120}}}))},"./src/screens/home/v2/component/extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Extra")},"./src/screens/home/v2/component/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),c=t("./src/screens/home/v2/component/extra/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=s.$,r=s.navigation;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Track,{title:"首页",hm:t.hm}),(0,l.jsx)(n.ErrorNotice,{}),!d.WEB&&(0,l.jsx)(n.LoginNotice,{navigation:r})]})}),c.COMPONENT)},"./src/screens/home/v2/component/filter/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Filter")},"./src/screens/home/v2/component/filter/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./src/components/index.ts"),j=t("./src/stores/index.ts"),f=t("./src/utils/decorators/index.ts"),_=t("./src/utils/dev/index.ts"),b=t("./src/screens/home/v2/component/filter/ds.ts"),x=t("./src/screens/home/v2/component/filter/styles.ts"),v=t("./node_modules/react/jsx-runtime.js");function y(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}var g=function(e){(0,d.default)(t,e);var s=y(t);function t(){var e;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),d=0;d<r;d++)n[d]=arguments[d];return e=s.call.apply(s,[this].concat(n)),(0,a.default)((0,i.default)(e),"state",{focus:!1}),(0,a.default)((0,i.default)(e),"onFocus",(function(){e.setState({focus:!0})})),(0,a.default)((0,i.default)(e),"onBlur",(function(){e.setState({focus:!1})})),e}return(0,n.default)(t,[{key:"show",get:function(){return j.systemStore.setting.homeFilter}},{key:"filter",get:function(){var e=this.context.$,s=e.state.filterPage;return s>=0&&s<=e.tabs.length&&this.props.title===e.tabs[s].title?e.state.filter:""}},{key:"render",value:function(){if((0,_.r)(b.COMPONENT),!this.show)return null;var e=this.context.$;return(0,v.jsxs)(m.default,{style:this.styles.filter,children:[(0,v.jsx)(p.Input,{style:this.styles.input,clearButtonMode:"never",defaultValue:this.filter,onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:e.onFilterChange}),!this.state.focus&&!this.filter&&(0,v.jsxs)(p.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:[e.state.progress.fetching&&(0,v.jsx)(m.default,{style:this.styles.loading,children:(0,v.jsx)(p.Loading.Medium,{color:j._.colorSub,size:16})}),this.props.length?(0,v.jsx)(p.Text,{type:"icon",bold:!0,size:15,children:this.props.length}):(0,v.jsx)(p.Iconfont,{name:"md-search",size:18})]})]})}},{key:"styles",get:function(){return(0,x.memoStyles)()}}]),t}(u.default.Component);s.default=(0,f.obc)(g)},"./src/screens/home/v2/component/filter/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:r._.wind,backgroundColor:r._.colorBg},input:Object.assign({height:40,paddingVertical:0},r._.fontSize16,{fontWeight:"800",textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},loading:{position:"absolute",zIndex:2,top:24,right:14,width:44,height:44}}}))},"./src/screens/home/v2/component/grid/index.lazy.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=t("react");s.default=(0,r.lazy)((function(){return t.e(2564).then(t.bind(t,"./src/screens/home/v2/component/grid/index.tsx"))}))},"./src/screens/home/v2/component/item/btn-book-next/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"BtnBookNext")},"./src/screens/home/v2/component/item/btn-book-next/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/item/btn-book-next/ds.ts"),d=t("./src/screens/home/v2/component/item/btn-book-next/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=e.subjectId,r=e.epStatus,n=e.volStatus,i=s.$;return(0,c.jsx)(o.Touchable,{style:d.styles.touch,onPress:function(){return i.doUpdateNext(t,r,n)},children:(0,c.jsx)(o.Flex,{style:d.styles.btn,justify:"center",children:(0,c.jsx)(o.Iconfont,{style:d.styles.icon,name:"md-check-circle-outline",size:18})})})}),i.COMPONENT)},"./src/screens/home/v2/component/item/btn-book-next/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{marginLeft:r._.device(0,4),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34},icon:{marginBottom:-1}})},"./src/screens/home/v2/component/item/btn-ep-next/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"BtnEpNext")},"./src/screens/home/v2/component/item/btn-ep-next/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/btn-ep-next/ds.ts"),c=t("./src/screens/home/v2/component/item/btn-ep-next/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.epStatus,i=e.isFirst,d=s.$,a=d.nextWatchEp(t).sort;return a?(0,l.jsxs)(n.Touchable,{style:c.styles.touch,onPress:function(){return d.doWatchedNextEp(t)},children:[(0,l.jsxs)(n.Flex,{style:c.styles.btn,justify:"center",children:[(0,l.jsx)(n.Iconfont,{style:c.styles.icon,name:"md-check-circle-outline",size:19}),(0,l.jsx)(o.default,{style:c.styles.text,children:(0,l.jsx)(n.Text,{type:"sub",children:Math.max(a,d.countFixed(t,r)+1)})})]}),i&&(0,l.jsx)(n.Heatmap,{right:26,id:"首页.观看下一章节"})]}):null}),d.COMPONENT)},"./src/screens/home/v2/component/item/btn-ep-next/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{marginRight:4,borderRadius:20,overflow:"hidden"},btn:{height:34,paddingHorizontal:r._.device(r._.sm,r._.md)},next:{paddingLeft:r._.sm,paddingRight:2},icon:{marginTop:2},text:{marginBottom:-2,marginLeft:r._.xs}})},"./src/screens/home/v2/component/item/btn-favor/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"BtnEpNext")},"./src/screens/home/v2/component/item/btn-favor/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/item/btn-favor/ds.ts"),d=t("./src/screens/home/v2/component/item/btn-favor/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=e.subjectId,r=e.name,n=e.name_cn,i=e.isFirst,l=s.$;return(0,c.jsxs)(o.Touchable,{style:d.styles.touch,onPress:function(){l.showManageModal(t,{title:n||r,desc:r})},children:[(0,c.jsx)(o.Flex,{style:d.styles.btn,justify:"center",children:(0,c.jsx)(o.Iconfont,{name:"md-star-outline",size:19.5})}),i&&(0,c.jsx)(o.Heatmap,{id:"首页.显示收藏管理"})]})}),i.COMPONENT)},"./src/screens/home/v2/component/item/btn-favor/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{marginRight:r._.device(2,4),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34}})},"./src/screens/home/v2/component/item/btn-origin/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"BtnOrigin")},"./src/screens/home/v2/component/item/btn-origin/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.array.some.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=(r(t("react")),t("./src/components/index.ts")),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/home/v2/component/item/btn-origin/ds.ts"),u=t("./src/screens/home/v2/component/item/btn-origin/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=e.subjectId,r=s.$;if(-1===d.systemStore.setting.homeOrigin)return null;var c=(0,o.default)(r.actions(t).map((function(e){return e.name})));!0===d.systemStore.setting.homeOrigin&&c.push.apply(c,(0,o.default)(r.onlineOrigins(t).map((function(e){return"object"==typeof e?e.name:e}))));var a,p,j=r.subject(t),f=l.MODEL_SUBJECT_TYPE.getTitle(j.type),_=[].concat((0,o.default)(c),[-1!==r.state.top.indexOf(t)?"取消置顶":"置顶"]);return["动画","三次元"].includes(f)&&(_.push("全部展开","全部收起"),null!=j&&null!=(a=j.eps)&&a.length&&j.eps.some((function(e){return 0===e.type&&"NA"===e.status}))&&_.push("一键添加提醒"),d.systemStore.setting.exportICS&&null!=j&&null!=(p=j.eps)&&p.length&&_.push("导出放送日程ICS")),(0,m.jsxs)(i.Popover,{style:u.styles.touch,data:_,onSelect:function(e){r.onPopover(e,t)},children:[(0,m.jsx)(n.Flex,{style:u.styles.btn,justify:"center",children:(0,m.jsx)(n.Iconfont,{style:u.styles.icon,name:c.length?"md-airplay":"md-menu",size:c.length?17:21})}),(0,m.jsx)(n.Heatmap,{right:55,bottom:-7,id:"首页.搜索源"})]},t)}),a.COMPONENT)},"./src/screens/home/v2/component/item/btn-origin/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{marginRight:r._.device(10,r._.sm),borderRadius:20,overflow:"hidden"},btn:{width:34,height:34},icon:{marginBottom:-1}})},"./src/screens/home/v2/component/item/collapsible/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Collapsible")},"./src/screens/home/v2/component/item/collapsible/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/base/eps/ds.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/item/eps/index.tsx")),c=t("./src/screens/home/v2/component/item/collapsible/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.isFirst,i=s.$;return(0,l.jsx)(o.Collapsible,{collapsed:!i.$Item(t).expand,children:(0,l.jsx)(d.default,{subjectId:t,isFirst:r})},String(Math.floor(Number(i.epsCount(t))/n.numbersOfLine)))}),c.COMPONENT)},"./src/screens/home/v2/component/item/container-content/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ContainerContent")},"./src/screens/home/v2/component/item/container-content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/container-content/ds.ts"),c=t("./src/screens/home/v2/component/item/container-content/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.children;return(0,l.jsx)(o.Flex,{style:n.systemStore.setting.homeListCompact?c.styles.compact:c.styles.content,children:s})}),d.COMPONENT)},"./src/screens/home/v2/component/item/container-content/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({content:{height:r._.r(40)},compact:{height:r._.r(32)}})},"./src/screens/home/v2/component/item/container-touchable/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TITLE_HIT_SLOPS=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,o.rc)(n.COMPONENT,"ContainerTouchable"),s.TITLE_HIT_SLOPS={top:r._.device(8,4),right:r._.device(8,4),bottom:r._.device(2,4),left:r._.device(8,4)}},"./src/screens/home/v2/component/item/container-touchable/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/components/cover/utils.ts"),d=t("./src/stores/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/constants/index.ts"),u=t("./src/screens/home/v2/component/item/container-touchable/ds.ts"),m=t("./src/screens/home/v2/component/item/container-touchable/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=e.subjectId,r=e.typeCn,c=e.name,j=e.name_cn,f=e.image,_=e.children,b=s.navigation;return(0,p.jsx)(o.default,{style:d.systemStore.setting.homeListCompact?m.styles.compact:m.styles.touch,children:(0,p.jsx)(n.Touchable,{withoutFeedback:!0,hitSlop:u.TITLE_HIT_SLOPS,onPress:function(){(0,l.t)("首页.跳转",{to:"Subject",from:"list"}),b.push("Subject",{subjectId:t,_jp:c,_cn:j,_image:(0,i.getCoverSrc)(f,a.IMG_WIDTH),_collection:"在看",_type:r})},children:_})})}),u.COMPONENT)},"./src/screens/home/v2/component/item/container-touchable/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{minHeight:r._.r(60)},compact:{minHeight:r._.r(28)}})},"./src/screens/home/v2/component/item/container/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Container")},"./src/screens/home/v2/component/item/container/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/container/ds.ts"),c=t("./src/screens/home/v2/component/item/container/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.children,i=s.$,d=(0,c.memoStyles)();return(0,l.jsx)(o.default,{style:n.systemStore.setting.heatMap&&i.$Item(t).expand?d.heatMap:d.item,children:r})}),d.COMPONENT)},"./src/screens/home/v2/component/item/container/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=r._.isMobileLanscape||r._.isPad;return{item:{paddingVertical:r._.r(r._._wind),paddingRight:e?r._.wind-r._._wind:0,paddingLeft:e?r._.wind:r._._wind,backgroundColor:r._.colorPlain,borderBottomWidth:8,borderBottomColor:r._.colorBg},heatMap:{paddingTop:r._.r(r._._wind),paddingRight:e?r._.wind-r._._wind:0,paddingBottom:r._.r(r._._wind+4),paddingLeft:e?r._.wind:r._._wind,backgroundColor:r._.colorPlain,borderBottomWidth:8,borderBottomColor:r._.colorBg}}}))},"./src/screens/home/v2/component/item/count-book/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"CountBook")},"./src/screens/home/v2/component/item/count-book/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.find.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/item/btn-book-next/index.tsx")),c=t("./src/screens/home/v2/component/item/count-book/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.isFirst,i=s.$,c=i.collection.list,a=(void 0===c?[]:c).find((function(e){return e.subject_id===t}))||{},u=a.ep_status,m=a.vol_status,p=i.subject(t).eps_count||0;return(0,l.jsxs)(o.Flex,{children:[(0,l.jsxs)(o.Text,{type:"primary",size:16,children:[(0,l.jsxs)(o.Text,{type:"primary",size:10,lineHeight:16,children:["Chap."," "]}),u,!!p&&(0,l.jsxs)(o.Text,{type:"sub",size:12,lineHeight:16,children:[" ","/ ",p]})]}),(0,l.jsx)(d.default,{subjectId:t,epStatus:u+1,volStatus:m}),(0,l.jsxs)(o.Text,{style:n._.device(n._.ml.sm,n._.ml.md),type:"primary",size:16,children:[(0,l.jsxs)(o.Text,{type:"primary",size:10,lineHeight:16,children:["Vol."," "]}),m]}),(0,l.jsx)(d.default,{subjectId:t,epStatus:u,volStatus:m+1}),r&&(0,l.jsx)(o.Heatmap,{right:40,id:"首页.更新书籍下一个章节"})]})}),c.COMPONENT)},"./src/screens/home/v2/component/item/count-video/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"CountVideo")},"./src/screens/home/v2/component/item/count-video/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/count-video/ds.ts"),c=t("./src/screens/home/v2/component/item/count-video/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.epStatus,i=s.$,d=i.$Item(t).expand;return(0,l.jsxs)(o.Flex,{style:c.styles.count,children:[(0,l.jsxs)(o.Text,{type:"primary",size:20,children:[i.countFixed(t,r),(0,l.jsxs)(o.Text,{type:"sub",lineHeight:20,children:[" ","/ ",i.countRight(t)]})]}),(0,l.jsx)(n.IconExpand,{style:c.styles.icon,expand:d})]})}),d.COMPONENT)},"./src/screens/home/v2/component/item/count-video/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({count:{marginTop:-2},icon:{marginTop:5}})},"./src/screens/home/v2/component/item/count/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Count")},"./src/screens/home/v2/component/item/count/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/item/count-book/index.tsx")),c=r(t("./src/screens/home/v2/component/item/count-video/index.tsx")),l=t("./src/screens/home/v2/component/item/count/ds.ts"),a=t("./src/screens/home/v2/component/item/count/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.typeCn,i=e.epStatus,l=e.isFirst,m=s.$;return"游戏"===r?null:"书籍"===r?(0,u.jsx)(o.default,{style:a.styles.count,children:(0,u.jsx)(d.default,{subjectId:t,isFirst:l})}):(0,u.jsxs)(n.Touchable,{style:a.styles.count,onPress:function(){return m.itemToggleExpand(t)},children:[(0,u.jsx)(c.default,{epStatus:i,subjectId:t}),l&&(0,u.jsx)(n.Heatmap,{right:44,bottom:5,id:"首页.展开或收起条目"})]})}),l.COMPONENT)},"./src/screens/home/v2/component/item/count/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({count:{minHeight:24,paddingHorizontal:r._.sm,marginHorizontal:-r._.sm,borderRadius:r._.radiusSm,overflow:"hidden"}})},"./src/screens/home/v2/component/item/cover/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ITEM_HEIGHT_COMPACT=s.ITEM_HEIGHT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Cover"),s.ITEM_HEIGHT=142,s.ITEM_HEIGHT_COMPACT=100},"./src/screens/home/v2/component/item/cover/heatmaps/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/cover/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Heatmaps")},"./src/screens/home/v2/component/item/cover/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/item/cover/heatmaps/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Heatmap,{bottom:68,id:"首页.全部展开",transparent:!0}),(0,d.jsx)(o.Heatmap,{bottom:34,id:"首页.全部关闭",transparent:!0}),(0,d.jsx)(o.Heatmap,{id:"首页.跳转",to:"Subject",alias:"条目"})]})}),i.COMPONENT)},"./src/screens/home/v2/component/item/cover/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),c=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=r(t("./src/screens/home/v2/component/item/cover/heatmaps/index.tsx")),u=t("./src/screens/home/v2/component/item/cover/ds.ts"),m=t("./src/screens/home/v2/component/item/cover/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,c.obc)((function(e,s){var t=e.index,r=e.subjectId,c=e.typeCn,u=e.name,j=e.name_cn,f=e.image,_=s.navigation,b=i.systemStore.setting.homeListCompact?m.styles.inViewCompact:m.styles.inView,x=b.minWidth,v=b.minHeight;return(0,p.jsxs)(o.Touchable,{animate:!0,onPress:function(){(0,l.t)("首页.跳转",{to:"Subject",from:"list"}),_.push("Subject",{subjectId:r,_jp:u,_cn:j,_image:(0,o.getCoverSrc)(f,x),_collection:"在看",_type:c})},children:[(0,p.jsx)(n.InView,{style:b,y:v*t+i._.headerHeight,children:(0,p.jsx)(o.Cover,{src:f,size:x,height:v,type:c,radius:!0,cdn:!(0,d.x18)(r),priority:t<4?"high":"normal"})}),0===t&&(0,p.jsx)(a.default,{})]})}),u.COMPONENT)},"./src/screens/home/v2/component/item/cover/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),o=t("./src/constants/index.ts");s.styles=r._.create({inView:{minWidth:o.IMG_WIDTH,minHeight:o.IMG_HEIGHT},inViewCompact:{minWidth:o.IMG_WIDTH-8,minHeight:o.IMG_WIDTH-8}})},"./src/screens/home/v2/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts"),n=s.COMPONENT=(0,r.rc)(o.COMPONENT,"Item");s.COMPONENT_MAIN=(0,r.rc)(n),s.DEFAULT_PROPS={index:0,title:"",subjectId:0,type:"2",image:"",name:"",name_cn:"",doing:0,epStatus:"",time:""}},"./src/screens/home/v2/component/item/eps/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Eps")},"./src/screens/home/v2/component/item/eps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/screens/_/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/styles/index.ts"),l=t("./src/screens/home/v2/component/item/eps/ds.ts"),a=t("./src/screens/home/v2/component/item/eps/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.subjectId,r=e.isFirst,d=s.$,l=s.navigation;return(0,u.jsxs)(o.default,{style:a.styles.eps,children:[(0,u.jsx)(i.Eps,{layoutWidth:c.window.contentWidth,login:d.isLogin,subjectId:t,eps:d.eps(t),userProgress:d.userProgress(t),flip:d.state.flip===t,onFliped:d.afterFlipEps,onSelect:function(e,s){return d.doEpsSelect(e,s,t,l)}}),r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.Heatmap,{right:72,id:"首页.跳转",to:"Topic",alias:"章节讨论",transparent:!0}),(0,u.jsx)(n.Heatmap,{bottom:35,id:"首页.章节按钮长按",transparent:!0}),(0,u.jsx)(n.Heatmap,{id:"首页.章节菜单操作"})]})]})}),l.COMPONENT)},"./src/screens/home/v2/component/item/eps/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({eps:{marginTop:r._._wind}})},"./src/screens/home/v2/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/utils/decorators/index.ts"),n=r(t("./src/screens/home/v2/component/item/item.tsx")),i=t("./src/screens/home/v2/component/item/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)((function(e,s){var t,r=e.index,o=void 0===r?0:r,i=e.subjectId,c=void 0===i?0:i,l=e.subject,a=void 0===l?{}:l,u=e.title,m=e.epStatus,p=void 0===m?"":m,j=s.$;return(0,d.jsx)(n.default,{index:o,title:u,subjectId:c,type:a.type,image:a.images.medium,name:a.name,name_cn:a.name_cn,doing:null==(t=a.collection)?void 0:t.doing,time:a.time,epStatus:Math.max(Number(p)||0,j.epStatus(c))})}),i.COMPONENT)},"./src/screens/home/v2/component/item/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),c=r(t("./src/screens/home/v2/component/time/index.tsx")),l=r(t("./src/screens/home/v2/component/item/collapsible/index.tsx")),a=r(t("./src/screens/home/v2/component/item/container/index.tsx")),u=r(t("./src/screens/home/v2/component/item/container-content/index.tsx")),m=r(t("./src/screens/home/v2/component/item/container-touchable/index.tsx")),p=r(t("./src/screens/home/v2/component/item/count/index.tsx")),j=r(t("./src/screens/home/v2/component/item/cover/index.tsx")),f=r(t("./src/screens/home/v2/component/item/loading/index.tsx")),_=r(t("./src/screens/home/v2/component/item/onair/index.tsx")),b=r(t("./src/screens/home/v2/component/item/progress/index.tsx")),x=r(t("./src/screens/home/v2/component/item/title/index.tsx")),v=r(t("./src/screens/home/v2/component/item/tool-bar/index.tsx")),y=r(t("./src/screens/home/v2/component/item/top/index.tsx")),g=t("./src/screens/home/v2/component/item/ds.ts"),h=t("./src/screens/home/v2/component/item/styles.ts"),O=t("./node_modules/react/jsx-runtime.js"),S=(0,i.memo)((function(e){var s=e.index,t=e.title,r=e.subjectId,i=e.type,g=e.image,S=e.name,T=e.name_cn,P=e.time,I=e.doing,M=e.epStatus,C=d.MODEL_SUBJECT_TYPE.getTitle(i),E="游戏"===C||"游戏"===t,N=0===s;return(0,O.jsxs)(a.default,{subjectId:r,children:[(0,O.jsxs)(n.Flex,{style:h.styles.hd,children:[(0,O.jsx)(j.default,{index:s,subjectId:r,typeCn:C,name:S,name_cn:T,image:g}),(0,O.jsxs)(n.Flex.Item,{style:h.styles.content,children:[(0,O.jsx)(m.default,{subjectId:r,typeCn:C,name:S,name_cn:T,image:g,children:(0,O.jsxs)(n.Flex,{align:"start",children:[(0,O.jsx)(n.Flex.Item,{children:(0,O.jsx)(x.default,{subjectId:r,typeCn:C,title:t,name:S,name_cn:T,doing:I})}),(0,O.jsx)(f.default,{subjectId:r}),(0,O.jsx)(_.default,{subjectId:r,typeCn:C})]})}),(0,O.jsxs)(o.default,{children:[(0,O.jsxs)(u.default,{children:[(0,O.jsx)(p.default,{subjectId:r,typeCn:C,epStatus:M,isFirst:N}),(0,O.jsx)(n.Flex.Item,{}),(0,O.jsx)(v.default,{subjectId:r,typeCn:C,epStatus:M,name:S,name_cn:T,isFirst:N})]}),E?(0,O.jsx)(c.default,{value:P}):(0,O.jsx)(b.default,{subjectId:r,epStatus:M})]})]}),N&&(0,O.jsx)(o.default,{children:(0,O.jsx)(n.Heatmap,{id:"首页.置顶或取消置顶"})})]}),(0,O.jsx)(l.default,{subjectId:r,isFirst:N}),(0,O.jsx)(y.default,{subjectId:r})]})}),g.DEFAULT_PROPS,g.COMPONENT_MAIN);s.default=S},"./src/screens/home/v2/component/item/loading/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Loading")},"./src/screens/home/v2/component/item/loading/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/loading/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=s.$.state.progress;return r.fetchingSubjectId1!==t&&r.fetchingSubjectId2!==t?null:(0,c.jsx)(o.Loading.Medium,{color:n._.colorSub,size:16})}),d.COMPONENT)},"./src/screens/home/v2/component/item/onair/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"OnAir")},"./src/screens/home/v2/component/item/onair/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.join.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/ds.ts"),c=t("./src/screens/home/v2/component/item/onair/ds.ts"),l=t("./src/screens/home/v2/component/item/onair/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.typeCn,i=s.$;if("动画"!==r&&"三次元"!==r)return null;var c=i.currentOnAir(t);if(c>=8&&!n.systemStore.setting.homeOnAir){var u=i.epsCount(t);if(u>=8&&c===u)return null}if(i.isToday(t)){var m=i.onAirCustom(t),p=[m.h,m.m].filter((function(e){return!!e}));return(0,a.jsxs)(o.Text,{style:l.styles.onAir,type:"success",size:13,lineHeight:14,bold:!0,children:["今天 ",p.join(":")]})}if(i.isNextDay(t)){var j=i.onAirCustom(t),f=[j.h,j.m].filter((function(e){return!!e}));return(0,a.jsxs)(o.Text,{style:l.styles.onAir,type:"sub",size:13,lineHeight:14,bold:!0,children:["明天 ",f.join(":")]})}if(n.systemStore.setting.homeOnAir){var _=i.onAirCustom(t),b=_.weekDay,x=_.h,v=_.m;if(d.WEEK_DAY_MAP[b]&&x&&v){var y="周"+d.WEEK_DAY_MAP[b],g=[x,v].filter((function(e){return!!e}));return(0,a.jsxs)(o.Text,{style:l.styles.onAir,type:"sub",size:13,lineHeight:14,bold:!0,children:[y," ",g.join(":")]})}}return null}),c.COMPONENT)},"./src/screens/home/v2/component/item/onair/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({onAir:{marginTop:-1,marginLeft:r._.sm}})},"./src/screens/home/v2/component/item/progress/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Progress")},"./src/screens/home/v2/component/item/progress/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/screens/_/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/item/progress/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.subjectId,r=e.epStatus,i=s.$,d=i.epsCount(t),l=i.currentOnAir(t);return l>d&&(l=i.epsNoSp(t).filter((function(e){return"Air"===e.status})).length),(0,c.jsx)(o.OnairProgress,{epStatus:r||0,total:Math.max(l||0,d||0),current:l||0,height:n.systemStore.setting.homeListCompact?5:6})}),d.COMPONENT)},"./src/screens/home/v2/component/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({hd:{paddingRight:r._._wind},content:{marginLeft:12}})},"./src/screens/home/v2/component/item/title/doing/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/title/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Doing")},"./src/screens/home/v2/component/item/title/doing/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/ds.ts"),c=t("./src/screens/home/v2/component/item/title/doing/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t,r,i=e.subjectId,c=e.typeCn,a=e.doing,u=s.$;if(n.systemStore.setting.homeListCompact)return null;var m=a||(null==(t=u.subject(i))||null==(r=t.collection)?void 0:r.doing)||0;if(!m)return null;var p=u.onAirCustom(i),j=p.weekDay,f=p.isOnair,_=n.systemStore.setting.homeOnAir?"":f?" · 周"+d.WEEK_DAY_MAP[j]:"";return(0,l.jsxs)(o.Text,{style:n._.mt.xs,type:"sub",size:12,children:[m," 人在","书籍"===c?"读":"游戏"===c?"玩":"看",_]})}),c.COMPONENT)},"./src/screens/home/v2/component/item/title/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Title")},"./src/screens/home/v2/component/item/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/item/title/doing/index.tsx")),c=t("./src/screens/home/v2/component/item/title/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t,r,i=e.subjectId,c=e.typeCn,a=e.title,u=e.name,m=e.name_cn,p=e.doing,j=s.$,f=(0,n.HTMLDecode)((0,n.cnjp)(m||(null==(t=j.subject(i))?void 0:t.name_cn),u||(null==(r=j.subject(i))?void 0:r.name))),_="";j.isFilter(a)&&(_=(0,n.getPinYinFilterValue)(f,j.filter));var b=f.length>28?12:f.length>18?13:15;return(0,l.jsxs)(l.Fragment,{children:[_?(0,l.jsx)(o.Highlight,{size:b,numberOfLines:2,bold:!0,value:_,children:f}):(0,l.jsx)(o.Katakana.Provider,{size:b,numberOfLines:2,bold:!0,children:(0,l.jsx)(o.Katakana,{size:b,numberOfLines:2,bold:!0,children:f})}),(0,l.jsx)(d.default,{subjectId:i,typeCn:c,doing:p})]})}),c.COMPONENT)},"./src/screens/home/v2/component/item/tool-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"ToolBar")},"./src/screens/home/v2/component/item/tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/item/btn-ep-next/index.tsx")),c=r(t("./src/screens/home/v2/component/item/btn-favor/index.tsx")),l=r(t("./src/screens/home/v2/component/item/btn-origin/index.tsx")),a=t("./src/screens/home/v2/component/item/tool-bar/ds.ts"),u=t("./src/screens/home/v2/component/item/tool-bar/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.subjectId,t=e.typeCn,r=e.epStatus,i=e.name,a=e.name_cn,p=e.isFirst;return(0,m.jsxs)(o.Flex,{style:(0,n.stl)(u.styles.toolBar,"游戏"===t&&{marginBottom:-38}),children:[(0,m.jsx)(l.default,{subjectId:s}),(0,m.jsx)(d.default,{subjectId:s,epStatus:r,isFirst:p}),(0,m.jsx)(c.default,{subjectId:s,name:i,name_cn:a,isFirst:p})]})}),a.COMPONENT)},"./src/screens/home/v2/component/item/tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({toolBar:{marginRight:-r._._wind/2-3}})},"./src/screens/home/v2/component/item/top/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Top")},"./src/screens/home/v2/component/item/top/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.index-of.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/item/top/ds.ts"),d=t("./src/screens/home/v2/component/item/top/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=e.subjectId;if(-1===s.$.state.top.indexOf(t))return null;var r=(0,d.memoStyles)();return(0,c.jsx)(o.default,{style:r.top})}),i.COMPONENT)},"./src/screens/home/v2/component/item/top/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{top:{position:"absolute",top:r._.r(4),right:r._.r(-2),borderWidth:r._.r(8),borderTopColor:"transparent",borderBottomColor:"transparent",borderRightColor:"transparent",borderLeftColor:r._.colorIcon,transform:[{rotate:"-45deg"}],opacity:.8}}}))},"./src/screens/home/v2/component/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.ENTERING_EXITING_ANIMATIONS_NUM=s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),o=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),i=t("./src/screens/home/v2/component/ds.ts"),d=s.COMPONENT=(0,o.rc)(i.COMPONENT,"List");s.COMPONENT_MAIN=(0,o.rc)(d),s.DEFAULT_PROPS={style:{paddingTop:0,paddingBottom:r._.bottom},forwardRef:n.FROZEN_FN,data:n.LIST_EMPTY,title:"",scrollToTop:!1,showItem:!n.IOS,onScroll:n.FROZEN_FN,onHeaderRefresh:n.FROZEN_FN,onFooterRefresh:void 0},s.ENTERING_EXITING_ANIMATIONS_NUM=4},"./src/screens/home/v2/component/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),c=r(t("./src/screens/home/v2/component/grid/index.lazy.ts")),l=r(t("./src/screens/home/v2/component/list/list.tsx")),a=t("./src/screens/home/v2/component/list/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.title,r=void 0===t?"全部":t,i=s.$;if(n.systemStore.setting.homeLayout===d.MODEL_SETTING_HOME_LAYOUT.getValue("网格"))return(0,u.jsx)(c.default,{title:r});if(!i.collection._loaded)return(0,u.jsx)(o.Loading,{});var a=i.showItem(r);return a?(0,u.jsx)(l.default,{forwardRef:function(e){return i.forwardRef(e,r)},style:{paddingTop:i.listPaddingTop,paddingBottom:n._.bottom},data:i.currentCollection(r),title:r,scrollToTop:i.scrollToTop(r),showItem:a,onScroll:i.onScroll,onHeaderRefresh:i.onHeaderRefresh,onFooterRefresh:"游戏"===r?i.onFooterRefresh:void 0}):null}),a.COMPONENT)},"./src/screens/home/v2/component/list/list.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),n=t("./src/screens/_/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/empty/index.tsx")),c=r(t("./src/screens/home/v2/component/filter/index.tsx")),l=t("./src/screens/home/v2/component/list/utils.tsx"),a=t("./src/screens/home/v2/component/list/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");function m(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(m=function(e){return e?t:s})(e)}var p=(0,i.memo)((function(e){var s=e.forwardRef,t=e.style,r=e.data,i=e.title,a=e.scrollToTop,m=e.showItem,p=e.onScroll,j=e.onHeaderRefresh,f=e.onFooterRefresh,_=r.list.length,b=(0,u.jsx)(d.default,{title:i,length:_}),x=(0,o.useCallback)((function(e){var s=e.item,t=e.index;return m?(0,l.renderItem)({item:s,index:t,title:i}):null}),[i,m]),v=(0,o.useMemo)((function(){return(0,u.jsx)(c.default,{title:i,length:_})}),[i,_]);return(0,u.jsx)(n.PaginationList2,{forwardRef:s,contentContainerStyle:t,progressViewOffset:t.paddingTop,keyExtractor:l.keyExtractor,data:r.list,limit:20,scrollToTop:a,keyboardDismissMode:"on-drag",ListHeaderComponent:v,renderItem:x,footerEmptyDataComponent:b,footerNoMoreDataComponent:b,footerNoMoreDataText:"",scrollEventThrottle:16,onScroll:p,onHeaderRefresh:j,onFooterRefresh:f})}),a.DEFAULT_PROPS,a.COMPONENT_MAIN);s.default=p},"./src/screens/home/v2/component/list/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.keyExtractor=function(e){return String(e.subject_id||e.id)},s.renderItem=function(e){var s=e.item,t=e.index,r=e.title;return(0,i.jsx)(n.default,{index:t,subjectId:s.subject_id||s.id,subject:s.subject||{id:s.id,images:{common:s.cover,grid:s.cover,large:s.cover,medium:s.cover,small:s.cover},name:s.name,name_cn:s.nameCn,summary:"",type:o.MODEL_SUBJECT_TYPE.getValue("游戏"),url:"",time:s.time},epStatus:s.ep_status,title:r})};r(t("react"));var o=t("./src/constants/index.ts"),n=r(t("./src/screens/home/v2/component/item/index.tsx")),i=t("./node_modules/react/jsx-runtime.js")},"./src/screens/home/v2/component/modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Modal")},"./src/screens/home/v2/component/modal/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/screens/_/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/modal/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=s.$,r=t.state.subjectId,n=t.subject(r),i=n.name,c=n.name_cn;return(0,d.jsx)(o.ManageModal,{visible:t.state.visible,subjectId:r,title:c||i||t.state.modal.title,desc:i||t.state.modal.desc,onSubmit:t.doUpdateCollection,onClose:t.closeManageModal})}),i.COMPONENT)},"./src/screens/home/v2/component/tab/blur-view/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/tab/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"BlurView")},"./src/screens/home/v2/component/tab/blur-view/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/screens/_/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/tab/blur-view/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ob)((function(e){var s=e.children;return(0,d.jsxs)(o.BlurViewRoot,{children:[s,(0,d.jsx)(o.BlurViewBottomTab,{})]})}),i.COMPONENT)},"./src/screens/home/v2/component/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts"),n=s.COMPONENT=(0,r.rc)(o.COMPONENT,"Tab");s.COMPONENT_MAIN=(0,r.rc)(n)},"./src/screens/home/v2/component/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=j(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("react")),n=t("./node_modules/react-native-tab-view/lib/module/index.js"),i=t("./src/screens/_/index.ts"),d=t("./src/utils/dev/index.ts"),c=t("./src/screens/home/v2/ds.ts"),l=r(t("./src/screens/home/v2/component/list/index.tsx")),a=r(t("./src/screens/home/v2/component/tab/blur-view/index.tsx")),u=r(t("./src/screens/home/v2/component/tab/tab.tsx")),m=t("./src/screens/home/v2/component/tab/ds.ts"),p=t("./node_modules/react/jsx-runtime.js");function j(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(j=function(e){return e?t:s})(e)}s.default=function(e){var s=e.keys;(0,d.r)(m.COMPONENT);var t=(0,o.useMemo)((function(){var e={};return s.forEach((function(s){e[s]=function(){return(0,p.jsx)(l.default,{title:c.TABS_ITEM[s].title})}})),(0,n.SceneMap)(e)}),[s]),r=s.length;return(0,p.jsx)(a.default,{children:r>=2?(0,p.jsx)(u.default,{renderScene:t}):1===r?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.default,{title:c.TABS_ITEM[s[0]].title}),(0,p.jsx)(i.BlurViewTab,{})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.default,{title:"动画"}),(0,p.jsx)(i.BlurViewTab,{})]})})}},"./src/screens/home/v2/component/tab/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/tab/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"TabBarLabel")},"./src/screens/home/v2/component/tab/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/tab/tab-bar-label/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.focused,t=e.route;return(0,c.jsx)(o.Flex,{style:n._.container.block,justify:"center",children:(0,c.jsx)(o.Text,{type:"title",size:13,bold:s,noWrap:!0,children:t.title})})}),d.COMPONENT)},"./src/screens/home/v2/component/tab/tab-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/tab/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"TabBar")},"./src/screens/home/v2/component/tab/tab-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/home/v2/component/tab/tab-bar-label/index.tsx")),c=t("./src/screens/home/v2/component/tab/tab-bar/ds.ts"),l=t("./src/screens/home/v2/component/tab/tab-bar/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=(0,l.memoStyles)(),t=n._.window.width/e.navigationState.routes.length;return(0,a.jsx)(o.TabBar,Object.assign({},e,{style:s.tabBar,tabStyle:[s.tab,{width:t}],labelStyle:s.label,indicatorStyle:[s.indicator,{marginLeft:(t-s.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:u}))}),c.COMPONENT);function u(e){var s=e.route,t=e.focused;return(0,a.jsx)(d.default,{route:s,focused:t})}},"./src/screens/home/v2/component/tab/tab-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{tabBar:{position:"absolute",zIndex:2,top:r._.headerHeight,right:0,left:0,backgroundColor:"transparent",elevation:0},tab:{height:48},label:{padding:0},indicator:{width:16,height:4,backgroundColor:r._.colorMain,borderRadius:4}}}))},"./src/screens/home/v2/component/tab/tab.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/screens/home/v2/component/tab/utils.tsx"),l=t("./src/screens/home/v2/component/tab/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.renderScene,r=s.$;return(0,a.jsx)(o.TabView,{style:i._.mt._sm,lazy:!0,lazyPreloadDistance:1,navigationState:r.navigationState,renderTabBar:c.renderTabBar,renderBackground:(0,a.jsx)(n.BlurViewTab,{length:r.tabs.length}),renderScene:t,onIndexChange:r.onChange},i._.orientation)}),l.COMPONENT_MAIN)},"./src/screens/home/v2/component/tab/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.renderTabBar=function(e){return(0,n.jsx)(o.default,Object.assign({},e))};var o=r(t("./src/screens/home/v2/component/tab/tab-bar/index.tsx")),n=t("./node_modules/react/jsx-runtime.js")},"./src/screens/home/v2/component/time/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Time")},"./src/screens/home/v2/component/time/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/home/v2/component/time/ds.ts"),c=t("./src/screens/home/v2/component/time/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s=e.value;return(0,l.jsxs)(o.Text,{style:[c.styles.time,{bottom:n.systemStore.setting.homeListCompact?4:8}],type:"sub",size:12,children:[s," 在玩"]})}),d.COMPONENT)},"./src/screens/home/v2/component/time/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({time:{zIndex:1,left:0}})},"./src/screens/home/v2/component/tips/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Tips")},"./src/screens/home/v2/component/tips/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/screens/home/v2/component/tips/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)((function(e,s){var t=s.$;return(0,d.jsx)(o.Progress,{show:t.state.progress.fetching,message:t.state.progress.message,current:t.state.progress.current,total:t.state.progress.total})}),i.COMPONENT)},"./src/screens/home/v2/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TABS_ITEM=s.H_TABBAR=s.COMPONENT=void 0;s.COMPONENT="Home",s.TABS_ITEM={all:{key:"all",title:"全部"},anime:{key:"anime",title:"动画"},book:{key:"book",title:"书籍"},real:{key:"real",title:"三次元"},game:{key:"game",title:"游戏"}},s.H_TABBAR=48},"./src/screens/home/v2/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),o=t("./src/screens/home/v2/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"Header"),s.EVENT={id:"首页.跳转"}},"./src/screens/home/v2/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),l=t("./src/screens/discovery/index/ds.ts"),a=t("./src/screens/home/v2/header/ds.ts"),u=t("./src/screens/home/v2/header/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=s.navigation,d=l.MENU_MAP[i.systemStore.setting.homeTopLeftCustom],p=l.MENU_MAP[i.systemStore.setting.homeTopRightCustom];return(0,m.jsx)(n.LogoHeader,{left:(0,m.jsxs)(n.IconNotify,{style:u.styles.icon,navigation:r,event:a.EVENT,children:[(0,m.jsx)(o.Heatmap,{right:-39,id:"首页.跳转",to:"Notify",alias:"电波提醒"}),(0,m.jsx)(o.Heatmap,{right:-92,id:"其他.切换主题",transparent:!0})]}),right:(0,m.jsxs)(o.Flex,{style:i._.mr.xs,children:[!!d&&(0,m.jsx)(n.IconTabsHeader,{style:u.styles.icon,name:d.icon,text:d.text,size:(d.size||23)-1,onPress:function(){(0,c.t)("首页.跳转",{to:d.key}),r.push(d.key)}}),!!p&&(0,m.jsx)(n.IconTabsHeader,{style:u.styles.iconRight,name:p.icon,text:p.text,size:(p.size||23)-1,onPress:function(){(0,c.t)("首页.跳转",{to:p.key}),r.push(p.key)}})]})},String(t.isLogin))}),a.COMPONENT)},"./src/screens/home/v2/header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({icon:{marginBottom:0,marginLeft:r._.xs,borderRadius:40,overflow:"hidden"},iconRight:{marginHorizontal:r._.xs,marginBottom:0,borderRadius:40,overflow:"hidden"}})},"./src/screens/home/v2/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useHomePage=function(e){var s=e.$,t=e.navigation;(0,r.useRunAfter)((function(){s.updateInitialPage(t),t.addListener(o.EVENT_APP_TAB_PRESS+"|Home",(function(){s.onRefreshThenScrollTop()}))})),(0,r.useFocusEffect)((function(){s.init()}))};var r=t("./src/utils/hooks/index.ts"),o=t("./src/navigations/tab-bar/index.tsx")},"./src/screens/home/v2/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Home=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Home",component:n.Home},s.Home=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Home,Object.assign({},(0,o.getStorybookArgs)("Home")))})})}},"./src/screens/home/v2/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),c=t("./src/utils/hooks/index.ts"),l=t("./src/constants/index.ts"),a=r(t("./src/screens/home/v2/component/extra/index.tsx")),u=r(t("./src/screens/home/v2/component/modal/index.tsx")),m=r(t("./src/screens/home/v2/component/tab/index.tsx")),p=r(t("./src/screens/home/v2/component/tips/index.tsx")),j=r(t("./src/screens/home/v2/header/index.tsx")),f=t("./src/screens/home/v2/hooks.ts"),_=r(t("./src/screens/home/v2/store/index.ts")),b=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(_.default,(function(e,s){(0,f.useHomePage)(s);var t=s.$;return(0,c.useObserver)((function(){var e;return e=l.IOS&&i.systemStore.setting.homeLayout===l.MODEL_SETTING_HOME_LAYOUT.getValue("列表")?i._.container.bg:i._.container.plain,(0,b.jsxs)(o.Component,{id:"screen-home",children:[(0,b.jsx)(o.Page,{style:e,loaded:t.state._loaded,children:t.isLogin?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.default,{}),(0,b.jsx)(m.default,{keys:t.tabs.map((function(e){return e.key}))}),(0,b.jsx)(p.default,{}),(0,b.jsx)(u.default,{})]}):(0,b.jsx)(n.Auth,{})}),(0,b.jsx)(a.default,{})]})}))}))},"./src/screens/home/v2/store/action.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.array.splice.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.function.bind.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.join.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=o(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),d=o(t("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=o(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),j=t("./src/components/cover/utils.ts"),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),b=t("./src/utils/calendar/index.ts"),x=t("./src/utils/fetch/index.ts"),v=t("./src/utils/kv/index.ts"),y=t("./src/utils/webhooks/index.ts"),g=t("./src/constants/index.ts"),h=t("./src/screens/user/origin-setting/utils.ts"),O=o(t("./src/screens/home/v2/store/fetch.ts")),S=t("./src/screens/home/v2/store/ds.ts");function T(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,m.default)(e);if(s){var o=(0,m.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,u.default)(this,t)}}s.default=function(e){(0,a.default)(t,e);var s=T(t);function t(){var e,o,d,a,u,m,O,T,P,I;(0,c.default)(this,t);for(var M=arguments.length,C=new Array(M),E=0;E<M;E++)C[E]=arguments[E];return e=s.call.apply(s,[this].concat(C)),(0,p.default)((0,l.default)(e),"onChange",(function(s){var t;(0,x.t)("首页.标签页切换",{page:s});var r=(0,i.default)(e.state.renderedTabsIndex);r.includes(s)||r.push(s);var o={page:s,renderedTabsIndex:r};"game"===(null==(t=e.tabs[s])?void 0:t.key)&&(o.grid=S.STATE.grid),e.setState(o),e.save()})),(0,p.default)((0,l.default)(e),"showManageModal",(function(s,t){(0,x.t)("首页.显示收藏管理",{subjectId:s}),e.setState({visible:!0,subjectId:s,modal:t||S.EXCLUDE_STATE.modal})})),(0,p.default)((0,l.default)(e),"closeManageModal",(function(){e.setState({visible:!1,modal:S.EXCLUDE_STATE.modal})})),(0,p.default)((0,l.default)(e),"itemToggleExpand",(function(s){(0,x.t)("首页.展开或收起条目",{subjectId:s});var t=e.$Item(s),r=t.expand;e.setState({item:(0,p.default)({},s,Object.assign({},t,{expand:!r}))}),e.save(),r||(e.fetchSubject(s),e.fetchUserProgress(s))})),(0,p.default)((0,l.default)(e),"itemToggleTop",(function(s,t){(0,x.t)("首页.置顶或取消置顶",{subjectId:s,isTop:t});var r=e.state.top,o=(0,i.default)(r),n=o.indexOf(s);-1===n?o.push(s):(o.splice(n,1),t&&o.push(s)),e.setState({top:o}),e.save()})),(0,p.default)((0,l.default)(e),"expandAll",(function(){(0,x.t)("首页.全部展开");var s={};e.collection.list.forEach((function(e){var t=e.subject_id,r=e.subject;"书籍"!==g.MODEL_SUBJECT_TYPE.getTitle(r.type)&&(s[t]={expand:!0,doing:!1})})),e.setState({item:s}),e.save()})),(0,p.default)((0,l.default)(e),"closeAll",(function(){(0,x.t)("首页.全部关闭"),e.clearState("item"),e.save()})),(0,p.default)((0,l.default)(e),"selectGirdSubject",(function(s,t){(0,x.t)("首页.格子布局条目选择",{subjectId:s}),e.setState({current:s,grid:t||S.STATE.grid}),e.fetchSubject(s),e.fetchUserProgress(s),e.save()})),(0,p.default)((0,l.default)(e),"scrollToIndex",{}),(0,p.default)((0,l.default)(e),"forwardRef",(function(s,t){var r=e.tabs.findIndex((function(e){return e.title===t}));!e.scrollToIndex[r]&&null!=s&&s.scrollToIndex&&(e.scrollToIndex[r]=null==s?void 0:s.scrollToIndex)})),(0,p.default)((0,l.default)(e),"onlinePlaySelected",(function(s,t){var r=e.subject(t),o=r.name_cn,n=r.name,i=r.type;(0,x.t)("首页.搜索源",{type:s,subjectId:t,subjectType:i});try{var d;if(!d){var c=e.onlineOrigins(t).find((function(e){return"object"==typeof e&&e.name===s}));if(c){if("萌番组"===s&&c.id)return(0,_.copy)((0,_.HTMLDecode)(o||n)),void setTimeout((function(){(0,_.open)(c.url)}),1600);d=(0,h.replaceOriginUrl)(c.url,{CN:(0,_.HTMLDecode)(o||n),JP:(0,_.HTMLDecode)(n||o),ID:t})}}if(!d){var l,a=e.bangumiInfo(t).sites,u=void 0===a?[]:a,m=(0,_.HTMLDecode)(o||n);if("AGE动漫"===s)d=(0,g.SITE_AGEFANS)()+"/search?query="+encodeURIComponent(m)+"&page=1";else(l=u.find((function(e){return e.site===s})))&&(d=(0,_.getBangumiUrl)(l))}d&&(0,_.open)(d)}catch(e){console.error(S.NAMESPACE,"onlinePlaySelected",e)}})),(0,p.default)((0,l.default)(e),"onFilterChange",(0,_.debounce)((function(s){var t=e.state.page;e.setState({filter:s.trim(),filterPage:t})}),800)),(0,p.default)((0,l.default)(e),"onPopover",(function(s,t){var r=e.actions(t);if(r.length){var o=r.find((function(e){return e.name===s}));if(o)return(0,_.open)(o.url,!0),void(0,x.t)("其他.自定义跳转",{from:"HomeTab",key:t+"|"+o.name+"|"+o.url})}switch(s){case"置顶":e.itemToggleTop(t,!0);break;case"取消置顶":e.itemToggleTop(t,!1);break;case"全部展开":e.expandAll();break;case"全部收起":e.closeAll();break;case"一键添加提醒":e.doBatchSaveCalenderEvent(t);break;case"导出放送日程ICS":e.doExportCalenderEventICS(t);break;default:e.onlinePlaySelected(s,t)}})),(0,p.default)((0,l.default)(e),"prepareEpsFlip",(function(s){e.setState({flip:s})})),(0,p.default)((0,l.default)(e),"afterFlipEps",(0,_.debounce)((function(){e.setState({flip:0})}))),(0,p.default)((0,l.default)(e),"onScroll",_.updateVisibleBottom.bind((0,l.default)(e))),(0,p.default)((0,l.default)(e),"doUpdateCollection",(o=(0,n.default)(r.mark((function s(t){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return(0,x.t)("首页.管理收藏",{subjectId:t.subjectId}),s.next=3,f.collectionStore.doUpdateCollection(t);case 3:(0,_.feedback)(),t.status!==g.MODEL_COLLECTION_STATUS.getValue("在看")&&f.userStore.removeCollection(t.subjectId),e.closeManageModal(),(0,y.webhookCollection)(t,e.subject(t.subjectId),f.userStore.userInfo);case 7:case"end":return s.stop()}}),s)}))),function(e){return o.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doWatchedNextEp",(d=(0,n.default)(r.mark((function s(t){var o,n,i;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(o=e.$Item(t)).doing){s.next=4;break}return setTimeout((function(){var s=e.$Item(t);s.doing&&e.setState({item:(0,p.default)({},t,Object.assign({},s,{doing:!1}))})}),2e3),s.abrupt("return");case 4:return e.setState({item:(0,p.default)({},t,Object.assign({},o,{doing:!0}))}),s.next=7,e.fetchUserProgress(t);case 7:return(0,x.t)("首页.观看下一章节",{subjectId:t}),e.prepareEpsFlip(t),n=e.nextWatchEp(t),i=n.id,s.next=12,f.userStore.doUpdateEpStatus({id:i,status:g.MODEL_EP_STATUS.getValue("看过")});case 12:if(e.setState({item:(0,p.default)({},t,Object.assign({},o,{doing:!1}))}),f.userStore.fetchCollectionSingle(t,void 0,!0),!o.expand){s.next=18;break}e.fetchUserProgress(t),s.next=21;break;case 18:return s.next=20,e.fetchUserProgress(t);case 20:(0,_.feedback)();case 21:(0,y.webhookEp)({status:"watched",id:i,batch:!1},e.subject(t),f.userStore.userInfo);case 22:case"end":return s.stop()}}),s)}))),function(e){return d.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doUpdateNext",(function(s,t,r){(0,x.t)("首页.更新书籍下一个章节",{subjectId:s}),f.collectionStore.doUpdateSubjectEp({subjectId:s,watchedEps:t,watchedVols:r},(function(){(0,_.feedback)(),f.userStore.fetchCollectionSingle(s),(0,y.webhookEp)({status:"watched",sort:t,vols:r,batch:!1},e.subject(s),f.userStore.userInfo)}))})),(0,p.default)((0,l.default)(e),"doUpdateEp",(a=(0,n.default)(r.mark((function s(t,o,n){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:try{e.prepareEpsFlip(n),f.collectionStore.doUpdateSubjectEp({subjectId:n,watchedEps:t},(function(){f.userStore.fetchCollectionSingle(n),e.fetchUserProgress(n),(0,y.webhookEp)(Object.assign({},o,{status:"watched",batch:!0}),e.subject(n),f.userStore.userInfo)}))}catch(e){console.error(S.NAMESPACE,"doUpdateEp",e)}case 1:case"end":return s.stop()}}),s)}))),function(e,s,t){return a.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doUpdateEpStatus",(u=(0,n.default)(r.mark((function s(t,o,n){var i;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=g.MODEL_EP_STATUS.getValue(t),(0,x.t)("首页.章节菜单操作",{title:"更新收视进度",subjectId:n,status:i}),e.prepareEpsFlip(n),s.next=5,f.userStore.doUpdateEpStatus({id:o.id,status:i});case 5:f.userStore.fetchCollectionSingle(n,void 0,"看过"===t),e.fetchUserProgress(n),(0,y.webhookEp)(Object.assign({},o,{status:i,batch:!1}),e.subject(n),f.userStore.userInfo);case 8:case"end":return s.stop()}}),s)}))),function(e,s,t){return u.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doUpdateSubjectWatched",(m=(0,n.default)(r.mark((function s(t,o){var n,i,d,c,l,a,u,m,p;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if((0,x.t)("首页.章节菜单操作",{title:"批量更新收视进度",subjectId:o}),l=(e.eps(o)||[]).slice().sort((function(e,s){return(0,_.asc)(e,s,(function(e){return e.sort||0}))})),(null==l||null==(n=l[0])?void 0:n.sort)<10?a=Math.max(t.sort,0):(m=e.epsNoSp(o),a=(null==m||null==(u=m[0])?void 0:u.sort)>10?m.findIndex((function(e){return e.sort===t.sort})):null==(p=m.find((function(e){return e.sort===t.sort})))?void 0:p.sort),-1===a?a=t.sort:1!==(null==(i=e.epsNoSp(o))||null==(d=i[0])?void 0:d.sort)&&(a+=1),null==(c=e.subject(o))||!c.v0){s.next=7;break}return e.doUpdateEp(a,t,o),s.abrupt("return");case 7:return e.prepareEpsFlip(o),s.next=10,f.userStore.doUpdateSubjectWatched({subjectId:o,sort:a});case 10:f.userStore.fetchCollectionSingle(o),e.fetchUserProgress(o),(0,y.webhookEp)(Object.assign({},t,{status:"watched",batch:!0}),e.subject(o),f.userStore.userInfo);case 13:case"end":return s.stop()}}),s)}))),function(e,s){return m.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"toEp",(function(s,t,r){var o;(0,x.t)("首页.章节菜单操作",{title:"本集讨论",subjectId:t});var n=e.subject(t);(0,_.appNavigate)(s.url||"/ep/"+s.id,r,{_title:"ep"+s.sort+"."+(s.name||s.name_cn),_group:n.name||n.name_cn,_groupThumb:(0,j.getCoverSrc)(null==(o=n.images||{})?void 0:o.medium,g.IMG_WIDTH),_desc:"时长:"+s.duration+" / 首播:"+s.airdate+"<br />"+(s.desc||"").replace(/\r\n/g,"<br />")},{id:"首页.跳转"})})),(0,p.default)((0,l.default)(e),"doEpsSelect",(O=(0,n.default)(r.mark((function s(t,o,n,i){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!g.MODEL_EP_STATUS.getValue(t)){s.next=4;break}return e.doUpdateEpStatus(t,o,n),s.abrupt("return");case 4:if("看到"!==t){s.next=10;break}if(!((null==o?void 0:o.sort)>24)){s.next=8;break}return(0,_.confirm)("确认看到"+o.sort+"集?",(function(){e.doUpdateSubjectWatched(o,n)})),s.abrupt("return");case 8:return e.doUpdateSubjectWatched(o,n),s.abrupt("return");case 10:if(!t.includes("本集讨论")&&!t.includes("(+")){s.next=13;break}return e.toEp(o,n,i),s.abrupt("return");case 13:if("添加提醒"!==t){s.next=16;break}return e.doSaveCalenderEvent(o,n),s.abrupt("return");case 16:case"end":return s.stop()}}),s)}))),function(e,s,t,r){return O.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doEpsLongPress",(T=(0,n.default)(r.mark((function s(t,o){var n,i,d;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.id,(0,x.t)("首页.章节按钮长按",{subjectId:o}),i=e.userProgress(o),d=i[n]?g.MODEL_EP_STATUS.getValue("撤销"):g.MODEL_EP_STATUS.getValue("看过"),s.next=6,f.userStore.doUpdateEpStatus({id:n,status:d});case 6:(0,_.feedback)(),f.userStore.fetchCollectionSingle(o),e.fetchUserProgress(o);case 9:case"end":return s.stop()}}),s)}))),function(e,s){return T.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doSaveCalenderEvent",(function(s,t){var r=e.subject(t);(0,_.saveCalenderEvent)(s,(0,_.cnjp)(r.name_cn,r.name),e.onAirCustom(t)),(0,x.t)("其他.添加日历",{subjectId:t,sort:(null==s?void 0:s.sort)||0,from:"Home"})})),(0,p.default)((0,l.default)(e),"doBatchSaveCalenderEvent",(P=(0,n.default)(r.mark((function s(t){var o,i,d;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.epsNoSp(t).length){s.next=15;break}if(o=e.subject(t),(i=o.eps.filter((function(e){return"NA"===e.status}))).length){s.next=7;break}return(0,_.info)("已没有未放送的章节"),s.abrupt("return");case 7:return s.next=9,(0,b.calendarEventsRequestPermissions)();case 9:if("authorized"===s.sent){s.next=13;break}return(0,_.info)("权限不足"),s.abrupt("return");case 13:d=(0,_.cnjp)(o.name_cn,o.name),(0,_.confirm)("「"+d+"」\n是否一键添加 "+i.length+" 个章节的提醒?",(0,n.default)(r.mark((function s(){var o,c,l,a;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=e.onAirCustom(t),c=[],l=(0,_.loading)(),s.next=5,(0,b.calendarGetEventsAsync)();case 5:return a=s.sent,i.forEach((function(e){a.includes((0,_.getCalenderEventTitle)(e,d))||c.push((0,n.default)(r.mark((function s(){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,_.sleep)(g.IOS?80:480);case 2:return(0,_.saveCalenderEvent)(e,d,o,!1),s.abrupt("return",!0);case 4:case"end":return s.stop()}}),s)}))))})),s.next=9,(0,_.queue)(c,1);case 9:l(),(0,_.info)("已完成"),(0,_.feedback)(),(0,x.t)("其他.批量添加日历",{subjectId:t,length:c.length});case 13:case"end":return s.stop()}}),s)}))),"一键添加放送提醒");case 15:case"end":return s.stop()}}),s)}))),function(e){return P.apply(this,arguments)})),(0,p.default)((0,l.default)(e),"doExportCalenderEventICS",(I=(0,n.default)(r.mark((function s(t){var o,n,i,d,c,l;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.epsNoSp(t).length){s.next=20;break}if(o=e.subject(t),(n=o.eps.length>=100?o.eps.filter((function(e){return"NA"===e.status})):o.eps).length){s.next=7;break}return(0,_.info)("没有数据"),s.abrupt("return");case 7:return i=e.onAirCustom(t),d=["BEGIN:VCALENDAR","PRODID:-//Bangumi//Anime Calendar//CN","VERSION:2.0","METHOD:PUBLISH","CALSCALE:GREGORIAN","X-WR-CALNAME:Bangumi放送日程","X-APPLE-CALENDAR-COLOR:#FE8A95"],n.forEach((function(e){var s=(0,_.genICSCalenderEventDate)(e,i),r=s.DTSTART,n=s.DTEND,c="https://bgm.tv/ep/"+e.id;(e.name_cn||e.name)&&(c+=" ("+(e.name_cn||e.name)+")"),d.push("BEGIN:VEVENT","UID:"+t+"-"+e.id,"TZID:Asia/Shanghai","DTSTART:"+r,"DTEND:"+n,"SUMMARY:"+(0,_.cnjp)(o.name_cn,o.name)+" ep."+e.sort,"DESCRIPTION:"+c,"TRANSP:OPAQUE","END:VEVENT")})),d.push("END:VCALENDAR"),s.next=13,(0,v.temp)(e.userId+"_"+t+".ics",d.join("\n"),-1);case 13:if(c=s.sent,null!=(l=c.data)&&l.downloadKey){s.next=18;break}return(0,_.info)("未知错误，生成ics失败，重试或联系作者"),s.abrupt("return",!1);case 18:(0,x.t)("首页.导出日程",{subjectId:t,userId:e.userId}),(0,_.open)((0,v.download)(l.downloadKey));case 20:case"end":return s.stop()}}),s)}))),function(e){return I.apply(this,arguments)})),e}return(0,d.default)(t)}(O.default)},"./src/screens/home/v2/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.date.to-string.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.reverse.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.some.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o,n=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=t("./node_modules/mobx/dist/mobx.esm.js"),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),b=r(t("./src/utils/cache-manager/index.ts")),x=t("./src/constants/index.ts"),v=t("./src/screens/user/origin-setting/utils.ts"),y=t("./src/screens/home/v2/ds.ts"),g=r(t("./src/screens/home/v2/store/state.ts")),h=t("./src/screens/home/v2/store/ds.ts");function O(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.default)(e);if(s){var o=(0,u.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,a.default)(this,t)}}s.default=(o=function(e){(0,l.default)(t,e);var s=O(t);function t(){var e;(0,i.default)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=s.call.apply(s,[this].concat(o)),(0,m.default)((0,c.default)(e),"sortList",(function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,j.computed)((function(){if(!s.length)return[];var t=e.getTopMap();if(f.systemStore.setting.homeSorting===x.MODEL_SETTING_HOME_SORTING.getValue("网页"))return s.slice().sort((function(e,s){return(0,_.desc)(e,s,(function(e){return t[e.subject_id]||0}))}));try{var r={};if(e.sortOnAir){var o=(new Date).getDay();return s.forEach((function(s){var t=s.subject_id,n=e.onAirCustom(t),i=n.weekDay;n.isOnair?e.isToday(t)?r[t]=1001:e.isNextDay(t)?r[t]=1e3:r[t]=0===o||i>=o?100-i:10-i:r[t]=1,f.systemStore.setting.homeSortSink&&!e.hasNewEp(t)&&(r[t]=r[t]-1e4)})),s.slice().sort((function(e,s){return(0,_.desc)(e,s,(function(e){return r[e.subject_id]}))})).sort((function(e,s){return(0,_.desc)(e,s,(function(e){return t[e.subject_id]||0}))}))}return s.forEach((function(s){var t=s.subject_id,o=e.userProgress(t),n=0;Object.keys(o).forEach((function(e){"看过"===o[e]&&(n+=1)}));var i=(f.calendarStore.onAir[t]||{}).air,d=void 0===i?0:i;e.isToday(t)?r[t]=d>n?1e5:1e4:e.isNextDay(t)?r[t]=d>n?1e3:100:r[t]=d>n?10:1,f.systemStore.setting.homeSortSink&&!e.hasNewEp(t)&&(r[t]=r[t]-100001)})),s.slice().sort((function(e,s){return(0,_.desc)(e,s,(function(e){return r[e.subject_id]}))})).sort((function(e,s){return(0,_.desc)(e,s,(function(e){return t[e.subject_id]||0}))}))}catch(r){return s.slice().sort((function(s,t){return(0,_.desc)(s,t,(function(s){return e.isToday(s.subject_id)}))})).sort((function(e,s){return(0,_.desc)(e,s,(function(e){return t[e.subject_id]||0}))}))}})).get()})),e}return(0,d.default)(t,[{key:"getTopMap",value:function(){var e={};return this.state.top.forEach((function(s,t){return e[s]=t+1})),(0,_.freeze)(e)}},{key:"tabs",get:function(){var e=[];return f.systemStore.setting.homeTabs.forEach((function(s){y.TABS_ITEM[s]&&e.push(y.TABS_ITEM[s])})),f.systemStore.setting.showGame&&e.push(y.TABS_ITEM.game),(0,_.freeze)(e)}},{key:"navigationState",get:function(){var e=this.state.page;return(0,_.freeze)({index:e>this.tabs.length-1?0:e,routes:this.tabs})}},{key:"listPaddingTop",get:function(){return f._.headerHeight+(this.tabs.length<=1?f._.sm:y.H_TABBAR)+(x.IOS&&x.PAD?f._.statusBarHeight:0)}},{key:"userId",get:function(){return f.userStore.userInfo.username||f.userStore.myUserId}},{key:"usersInfo",get:function(){return(0,_.freeze)(f.userStore.usersInfo(f.userStore.myUserId))}},{key:"tabsLabel",get:function(){var e;return null==(e=this.tabs[this.state.page])?void 0:e.title}},{key:"$Item",value:function(e){var s=this;return(0,_.freeze)((0,j.computed)((function(){return s.state.item[e]||h.INIT_ITEM})).get())}},{key:"isLogin",get:function(){return x.WEB?f.userStore.isStorybookLogin:f.userStore.isLogin}},{key:"collection",get:function(){return f.userStore.isLimit?Object.assign({},f.userStore.collection,{list:f.userStore.collection.list.filter((function(e){return!(0,_.x18)(e.subject_id)}))}):f.userStore.collection}},{key:"filter",get:function(){return(0,_.t2s)(this.state.filter.toUpperCase())}},{key:"currentCollection",value:function(e){var s=this;return(0,j.computed)((function(){var t=h.NAMESPACE+"|"+e;if(s.state.progress.fetching&&b.default.get(t))return b.default.get(t);if("游戏"===e)return b.default.set(t,s.games);var r=Object.assign({},s.collection),o=x.MODEL_SUBJECT_TYPE.getValue(e);return o&&(r.list=r.list.filter((function(e){var s;return(null==e||null==(s=e.subject)?void 0:s.type)==o}))),s.isFilter(e)&&(r.list=r.list.filter((function(e){var t,r;if(!s.state.filter.length)return!0;var o=(s.subject(e.subject_id).name_cn||(null==e||null==(t=e.subject)?void 0:t.name_cn)||e.name||(null==e||null==(r=e.subject)?void 0:r.name)||"").toUpperCase();return!!o.includes(s.filter)||(0,_.getPinYinFilterValue)(o,s.filter)}))),"全部"===e&&f.systemStore.setting.showGame?r.list=[].concat((0,n.default)(s.sortList(r.list)),(0,n.default)(s.games.list)):r.list=s.sortList(r.list),x.WEB&&(r.list=r.list.slice(0,50)),b.default.set(t,r)})).get()}},{key:"isFilter",value:function(e){var s=this;return(0,j.computed)((function(){var t,r=s.state.filterPage;return r>=0&&r<=s.tabs.length&&((null==(t=s.tabs[r])?void 0:t.title)===e&&!!s.state.filter)})).get()}},{key:"games",get:function(){var e=this,s=f.collectionStore.userCollections(this.usersInfo.username||this.userId,x.MODEL_SUBJECT_TYPE.getLabel("游戏"),x.MODEL_COLLECTION_STATUS.getValue("在看")),t=this.getTopMap();return(0,_.freeze)(Object.assign({},s,{list:s.list.filter((function(s){if(!e.filter.length)return!0;var t=(s.nameCn||s.name||"").toUpperCase();return!!t.includes(e.filter)||(0,_.getPinYinFilterValue)(t,e.filter)})).sort((function(e,s){return(0,_.desc)(e,s,(function(e){return t[e.id]||0}))}))}))}},{key:"userProgress",value:function(e){return(0,_.freeze)((0,j.computed)((function(){return f.userStore.userProgress(e)})).get())}},{key:"subject",value:function(e){return(0,_.freeze)((0,j.computed)((function(){return f.subjectStore.subject(e)})).get())}},{key:"epsNoSp",value:function(e){var s=this;return(0,_.freeze)((0,j.computed)((function(){return(s.subject(e).eps||[]).filter((function(e){return 0===e.type}))})).get())}},{key:"eps",value:function(e){var s=this;return(0,_.freeze)((0,j.computed)((function(){try{var t=s.epsNoSp(e),r=t.length,o=f.systemStore.setting.homeLayout===x.MODEL_SETTING_HOME_LAYOUT.getValue("网格")?s.pageLimitGrid(e):h.PAGE_LIMIT_LIST;if(r>o){var n,i=s.userProgress(e),d=t.findIndex((function(e){return"看过"!==i[e.id]}));return-1===d?t.slice(r-o-1,r-1):f.systemStore.setting.homeEpStartAtLastWathed?(n="function"==typeof t.findLastIndex?t.findLastIndex((function(e){return"看过"===i[e.id]})):(0,_.findLastIndex)(t,(function(e){return"看过"===i[e.id]})),t.slice(Math.max(n,0),n+o)):t.slice(Math.max(0,d-o+1),d+o-1)}return t}catch(e){console.error(h.NAMESPACE,"eps",e)}return[]})).get())}},{key:"nextWatchEp",value:function(e){var s=this;return(0,_.freeze)((0,j.computed)((function(){try{var t=s.epsNoSp(e),r=s.userProgress(e),o=t.findIndex((function(e){return"看过"!==r[e.id]}));return-1===o?{}:t[o]}catch(e){console.error(h.NAMESPACE,"nextWatchEp",e)}return{}})).get())}},{key:"currentOnAir",value:function(e){try{var s,t=this.epsNoSp(e).slice().reverse(),r=!1;t.length&&0===t[t.length-1].sort&&(r=!0);var o=(null==(s=t.find((function(e){return"Air"===e.status})))?void 0:s.sort)||0;return r&&o?o+1:o}catch(e){return console.error(h.NAMESPACE,"nextWatchEp",e),0}}},{key:"totalEps",value:function(e){try{var s,t,r=this.epsNoSp(e);return Math.max((null==(s=this.subject(e))?void 0:s.eps_count)||0,(null==r||null==(t=r[r.length-1])?void 0:t.sort)||0)||"??"}catch(e){return console.error(h.NAMESPACE,"totalEps",e),"??"}}},{key:"countFixed",value:function(e,s){var t=this;return(0,j.computed)((function(){var r=t.eps(e).filter((function(e){return 1!==e.type})).reverse(),o=t.userProgress(e),n=r.find((function(e){return"看过"===o[e.id]}));if(n)return r.length&&0===r[r.length-1].sort?n.sort+1:n.sort;var i={};t.eps(e).forEach((function(e){1!==e.type&&(i[e.id]=!0)}));var d=0;return Object.keys(t.userProgress(e)).forEach((function(s){i[s]&&"看过"===t.userProgress(e)[s]&&(d+=1)})),Number(1==s?d||s:s||d)})).get()}},{key:"numbersOfLineGrid",value:function(e){var s=this;return(0,j.computed)((function(){return f._.isMobileLanscape?12:f.systemStore.setting.homeGridEpAutoAdjust?f._.device(s.epsCount(e,!1)<=18?6:7,8):f._.device(7,8)})).get()}},{key:"linesGrid",get:function(){return f._.isMobileLanscape?1:3}},{key:"pageLimitGrid",value:function(e){var s=this;return(0,j.computed)((function(){return s.numbersOfLineGrid(e)*s.linesGrid||h.PAGE_LIMIT_GRID})).get()}},{key:"epStatus",value:function(e){var s=this;return(0,j.computed)((function(){var t=s.userProgress(e);return s.epsNoSp(e).filter((function(e){return"看过"===t[e.id]})).length})).get()}},{key:"sortOnAir",get:function(){return f.systemStore.setting.homeSorting===x.MODEL_SETTING_HOME_SORTING.getValue("放送")}},{key:"onAirCustom",value:function(e){return(0,_.freeze)((0,j.computed)((function(){return(0,_.getOnAir)(f.calendarStore.onAirLocal(e),f.calendarStore.onAirUser(e))})).get())}},{key:"isToday",value:function(e){var s=this;return(0,j.computed)((function(){var t=s.onAirCustom(e),r=t.weekDay;return!!t.isOnair&&r===(new Date).getDay()})).get()}},{key:"isNextDay",value:function(e){var s=this;return(0,j.computed)((function(){var t=s.onAirCustom(e),r=t.weekDay;if(!t.isOnair)return!1;var o=(new Date).getDay();return 6===o?0===r:o===r-1})).get()}},{key:"bangumiInfo",value:function(e){return h.BANGUMI_INFO}},{key:"onlineOrigins",value:function(e){var s=this;return(0,_.freeze)((0,j.computed)((function(){var t=s.subject(e).type,r=[];return 2===Number(t)&&(0,v.getOriginConfig)(f.subjectStore.origin,"anime").filter((function(e){return e.active})).forEach((function(e){r.push(e)})),6===Number(t)&&(0,v.getOriginConfig)(f.subjectStore.origin,"real").filter((function(e){return e.active})).forEach((function(e){r.push(e)})),r})).get())}},{key:"hasNewEp",value:function(e){var s=this;return(0,j.computed)((function(){var t=s.userProgress(e);return s.epsNoSp(e).some((function(e){return("Air"===e.status||"Today"===e.status)&&!(e.id in t)}))})).get()}},{key:"showItem",value:function(e){var s=this;return(0,j.computed)((function(){if(!x.IOS||s.tabs.length<=1)return!0;var t=s.tabs.findIndex((function(s){return s.title===e}));return s.state.renderedTabsIndex.includes(t)})).get()}},{key:"epsCount",value:function(e){var s=this,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,j.computed)((function(){var r=s.subject(e);try{if(null!=r&&r.eps&&"object"==typeof r.eps){var o=r.eps.filter((function(e){if(t)return 0===e.type&&0!=e.sort;e.type})).length;if(o)return o}return null!=r&&r.eps_count?r.eps_count:0}catch(e){return(null==r?void 0:r.eps_count)||0}})).get()}},{key:"countRight",value:function(e){var s=this;return(0,j.computed)((function(){var t=s.currentOnAir(e),r=s.totalEps(e);"??"!==r&&Number(t)>Number(r)&&(r=t);var o="";switch(f.systemStore.setting.homeCountView){case"B":o=""+t,r!==t&&(o+=" ("+r+")");break;case"C":o=""+r,r!==t&&(o+=" ("+t+")");break;case"D":o=""+t,r!==t&&(o+=" / "+r);break;default:o=""+r}return o})).get()}},{key:"actions",value:function(e){return(0,_.freeze)((0,j.computed)((function(){var s=f.subjectStore.actions(e);return s.length?s.filter((function(e){return e.active})).sort((function(e,s){return(0,_.desc)(e.sort||0,s.sort||0)})):s})).get())}},{key:"scrollToTop",value:function(e){return!1}},{key:"hm",get:function(){return this.isLogin?["?id="+this.userId,"Home"]:["?id="+this.userId+"&login=0","Home"]}}]),t}(g.default),(0,p.default)(o.prototype,"tabs",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"tabs"),o.prototype),(0,p.default)(o.prototype,"navigationState",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"navigationState"),o.prototype),(0,p.default)(o.prototype,"listPaddingTop",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"listPaddingTop"),o.prototype),(0,p.default)(o.prototype,"userId",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"userId"),o.prototype),(0,p.default)(o.prototype,"usersInfo",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"usersInfo"),o.prototype),(0,p.default)(o.prototype,"tabsLabel",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"tabsLabel"),o.prototype),(0,p.default)(o.prototype,"isLogin",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"isLogin"),o.prototype),(0,p.default)(o.prototype,"collection",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"collection"),o.prototype),(0,p.default)(o.prototype,"filter",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"filter"),o.prototype),(0,p.default)(o.prototype,"games",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"games"),o.prototype),(0,p.default)(o.prototype,"linesGrid",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"linesGrid"),o.prototype),(0,p.default)(o.prototype,"sortOnAir",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"sortOnAir"),o.prototype),(0,p.default)(o.prototype,"hm",[j.computed],Object.getOwnPropertyDescriptor(o.prototype,"hm"),o.prototype),o)},"./src/screens/home/v2/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.PAGE_LIMIT_LIST=s.PAGE_LIMIT_GRID=s.NAMESPACE=s.INIT_ITEM=s.EXCLUDE_STATE=s.BANGUMI_INFO=void 0;var r=t("./src/stores/index.ts"),o=(s.NAMESPACE="ScreenHomeV2",s.INIT_ITEM={expand:!1,doing:!1},s.EXCLUDE_STATE={visible:!1,visibleBottom:r._.window.height,modal:{title:"",desc:""},progress:{fetching:!1,fetchingSubjectId1:0,fetchingSubjectId2:0,message:"",current:0,total:0},filter:"",filterPage:-1,isFocused:!0,renderedTabsIndex:[],flip:0,loadedBangumiData:!1});s.STATE=Object.assign({subjectId:0,page:0,top:[],item:{},current:0,grid:{subject_id:0,subject:{},ep_status:""},boot:0},o,{_loaded:!1}),s.PAGE_LIMIT_LIST=32,s.PAGE_LIMIT_GRID=24,s.BANGUMI_INFO={title:"",type:"tv",sites:[],titleTranslate:{"zh-Hans":[]}}},"./src/screens/home/v2/store/fetch.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=o(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),f=t("./src/utils/protobuf/index.web.ts"),_=t("./src/constants/index.ts"),b=o(t("./src/screens/home/v2/store/computed.ts")),x=t("./src/screens/home/v2/store/ds.ts");function v(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.default)(e);if(s){var o=(0,u.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,a.default)(this,t)}}s.default=function(e){(0,l.default)(t,e);var s=v(t);function t(){var e,o;(0,d.default)(this,t);for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=s.call.apply(s,[this].concat(l)),(0,m.default)((0,c.default)(e),"fetchBangumiData",(0,n.default)(r.mark((function s(){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.state.loadedBangumiData){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,(0,f.decode)("bangumi-data");case 4:e.setState({loadedBangumiData:!0});case 5:case"end":return s.stop()}}),s)})))),(0,m.default)((0,c.default)(e),"fetchSubject",(o=(0,n.default)(r.mark((function s(t){var o,n,i,d,c,l,a=arguments;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o=a.length>1&&void 0!==a[1]?a[1]:0,n=a.length>2&&void 0!==a[2]&&a[2],i=!1,d=e.subject(t),"number"!=typeof(c=d._loaded)&&(c=0),("large"!==(null==d?void 0:d._responseGroup)||(0,j.getTimestamp)()-c>=_.H6*(o+1))&&(i=!0),!i){s.next=17;break}if(l=e.state.progress.fetchingSubjectId2?"fetchingSubjectId1":"fetchingSubjectId2",e.setState({progress:(0,m.default)({},l,t)}),!n){s.next=13;break}return s.next=13,e.fetchUserProgress(t);case 13:return s.next=15,p.subjectStore.fetchSubject(t);case 15:return e.setState({progress:(0,m.default)({},l,0)}),s.abrupt("return",!0);case 17:return s.abrupt("return",!0);case 18:case"end":return s.stop()}}),s)}))),function(e){return o.apply(this,arguments)})),(0,m.default)((0,c.default)(e),"fetchSubjectsQueue",(0,n.default)(r.mark((function s(){var t,o,n=arguments;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:[],!e.state.progress.fetching){s.next=3;break}return s.abrupt("return",!1);case 3:return(o=e.sortList(t).map((function(s,t){var r=s.subject_id;return function(){return e.fetchSubject(r,t,!0)}}))).length&&e.setState({progress:{fetching:!0}}),s.next=7,(0,j.queue)(o,2);case 7:return e.setState({progress:x.EXCLUDE_STATE.progress}),s.abrupt("return",!0);case 9:case"end":return s.stop()}}),s)})))),(0,m.default)((0,c.default)(e),"fetchUserProgress",(function(e){return p.userStore.fetchUserProgress(e)})),(0,m.default)((0,c.default)(e),"fetchDoingGames",(function(s){return p.collectionStore.fetchUserCollections({userId:e.usersInfo.username||e.userId,subjectType:_.MODEL_SUBJECT_TYPE.getLabel("游戏"),type:_.MODEL_COLLECTION_STATUS.getValue("在看"),order:_.MODEL_COLLECTIONS_ORDERBY.getValue("收藏时间"),tag:""},s)})),e}return(0,i.default)(t)}(b.default)},"./src/screens/home/v2/store/index.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,i,d=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=o(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=o(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=o(t("./node_modules/@babel/runtime/helpers/inherits.js")),m=o(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=o(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),j=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=T(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}(t("./node_modules/expo-device/build/Device.js")),_=t("./src/stores/index.ts"),b=t("./src/utils/index.ts"),x=t("./src/utils/fetch/index.ts"),v=t("./src/utils/kv/index.ts"),y=t("./src/utils/protobuf/index.web.ts"),g=t("./src/constants/index.ts"),h=t("./src/config.ts"),O=o(t("./src/screens/home/v2/store/action.ts")),S=t("./src/screens/home/v2/store/ds.ts");function T(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(T=function(e){return e?t:s})(e)}function P(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,p.default)(e);if(s){var o=(0,p.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,m.default)(this,t)}}var I=function(e){(0,u.default)(t,e);var s=P(t);function t(){var e;(0,l.default)(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),(0,j.default)((0,a.default)(e),"init",(0,d.default)(r.mark((function s(){return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!n){s.next=2;break}return s.abrupt("return");case 2:return e.isLogin&&(e.initUser(),n=!0,setTimeout((function(){e.initFetch()}),4e3)),s.next=5,e.initStore();case 5:return s.abrupt("return",!0);case 6:case"end":return s.stop()}}),s)})))),(0,j.default)((0,a.default)(e),"initStore",(0,d.default)(r.mark((function s(){var t,o;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.getStorage(S.NAMESPACE);case 2:o=s.sent,e.setState(Object.assign({},o,S.EXCLUDE_STATE,{renderedTabsIndex:[(null==o?void 0:o.page)||0],loadedBangumiData:!(null==(t=(0,y.get)("bangumi-data"))||!t.length),_loaded:(0,b.getTimestamp)()}));case 4:case"end":return s.stop()}}),s)})))),(0,j.default)((0,a.default)(e),"initFetch",(0,d.default)(r.mark((function s(){var t,o,n,d=arguments;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],!e.state.progress.fetching){s.next=4;break}return(0,b.info)("正在刷新条目信息"),s.abrupt("return");case 4:if(o=t,"number"!=typeof(n=e.collection._loaded)&&(n=0),((0,b.getTimestamp)()-n>6*g.D||!e.collection.list.length)&&(o=!0),!o){s.next=24;break}return s.next=11,e.initQueue();case 11:if(!s.sent){s.next=13;break}return s.abrupt("return",!0);case 13:if(!_.userStore.isWebLogin){s.next=24;break}if(i){s.next=24;break}return i=!0,s.next=18,_.userStore.reOauth();case 18:if(!s.sent){s.next=23;break}return i=!1,(0,b.info)("重新授权成功"),(0,x.t)("其他.重新授权"),s.abrupt("return",e.initQueue());case 23:i=!1;case 24:return s.abrupt("return",!0);case 25:case"end":return s.stop()}}),s)})))),(0,j.default)((0,a.default)(e),"initQueue",(0,d.default)(r.mark((function s(){var t,o,n;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all([_.userStore.fetchCollection()]);case 2:if(null==(n=s.sent)||null==(t=n[0])||null==(o=t.list)||!o.length){s.next=5;break}return s.abrupt("return",e.fetchSubjectsQueue(n[0].list));case 5:return s.abrupt("return",!1);case 6:case"end":return s.stop()}}),s)})))),(0,j.default)((0,a.default)(e),"initUser",(function(){n||setTimeout((function(){if(!e.userId||!g.DEVICE_MODEL_NAME)return!1;var s=e.state.boot+1;e.setState({boot:s}),e.save(),(0,v.update)("u_"+e.userId,{b:f.brand,y:f.deviceYearClass,i:f.modelId,d:f.modelName,o:f.osVersion,m:Math.floor(f.totalMemory/1e3/1e3/1e3)+"G",v:g.VERSION_GITHUB_RELEASE,a:_.systemStore.advance,n:s,l:{statusBar:_._.statusBarHeight,header:_._.headerHeight,tarBar:_._.tabBarHeight,isDark:_._.isDark,deepDark:_._.deepDark},s:(0,b.pick)(_.systemStore.setting,["androidBlur","avatarRound","cdn","cdnAvatarV2","cnFirst","customFontFamily","heatMap","homeLayout","homeListCompact","homeRenderTabs","homeSorting","homeTabs","homeTopLeftCustom","homeTopRightCustom","initialPage","katakana","live2D","onlineStatus","s2t","showGame","squircle","tinygrail","vibration","webhook"]),e:(0,b.sortObject)(_.systemStore.t),t:(0,b.date)("Y-m-d H:i:s",(0,b.getTimestamp)()),ipa:h.IOS_IPA})}),8e3)})),(0,j.default)((0,a.default)(e),"onHeaderRefresh",(function(){return"游戏"===e.tabsLabel?e.fetchDoingGames(!0):e.initFetch(!0)})),(0,j.default)((0,a.default)(e),"onFooterRefresh",(function(){return e.fetchDoingGames()})),(0,j.default)((0,a.default)(e),"onRefreshThenScrollTop",(function(){try{var s=e.state.page;"function"==typeof e.scrollToIndex[s]&&((0,x.t)("其他.刷新到顶",{screen:"Home"}),e.scrollToIndex[s]({animated:!0,index:0,viewOffset:8e3}),setTimeout((function(){(0,b.feedback)()}),400),e.onHeaderRefresh())}catch(e){console.error("Home","onRefreshThenScrollTop",e)}})),(0,j.default)((0,a.default)(e),"updateInitialPage",(function(s){var t=_.systemStore.setting,r=t.initialPage,o=t.homeRenderTabs;r!==g.MODEL_SETTING_INITIAL_PAGE.getValue("进度")?r!==g.MODEL_SETTING_INITIAL_PAGE.getValue("小圣杯")||o.includes("Tinygrail")||s.push("Tinygrail"):e.init()})),e}return(0,c.default)(t)}(O.default);s.default=I},"./src/screens/home/v2/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./node_modules/mobx/dist/mobx.esm.js"),m=r(t("./src/utils/store/index.ts")),p=t("./src/screens/home/v2/store/ds.ts");function j(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.default)(e);if(s){var o=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=function(e){(0,d.default)(t,e);var s=j(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,a.default)((0,i.default)(e),"state",(0,u.observable)(p.STATE)),(0,a.default)((0,i.default)(e),"save",(function(){return e.saveStorage(p.NAMESPACE,p.EXCLUDE_STATE)})),e}return(0,o.default)(t)}(m.default)},"./src/screens/home/voices/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Voices=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Voices",component:n.Voices},s.Voices=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Voices,Object.assign({},(0,o.getStorybookArgs)("Voices")))})})}},"./src/screens/home/wiki/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.SubjectWiki=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/SubjectWiki",component:n.SubjectWiki},s.SubjectWiki=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.SubjectWiki,Object.assign({},(0,o.getStorybookArgs)("SubjectWiki")))})})}},"./src/screens/home/works/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Works=void 0;r(t("react"));var o=t("./src/components/index.ts"),n=t("./src/screens/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default={title:"screens/Works",component:n.Works},s.Works=function(){return(0,i.jsx)(o.StorybookSPA,{children:(0,i.jsx)(o.StorybookList,{children:(0,i.jsx)(n.Works,Object.assign({},(0,o.getStorybookArgs)("Works")))})})}},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[7].use[3]!./src/screens/_/item/post/index.scss":(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var r=t("./node_modules/css-loader/dist/runtime/sourceMaps.js"),o=t.n(r),n=t("./node_modules/css-loader/dist/runtime/api.js"),i=t.n(n)()(o());i.push([e.id,"item-post{padding-right:8px !important}\n","",{version:3,sources:["webpack://./src/screens/_/item/post/index.scss"],names:[],mappings:"AAMA,UACE,4BAA6B",sourcesContent:["/*\n * @Author: czy0729\n * @Date: 2024-09-03 14:03:47\n * @Last Modified by:   czy0729\n * @Last Modified time: 2024-09-03 14:03:47\n */\nitem-post {\n  padding-right: 8px !important;\n}\n"],sourceRoot:""}]);const d=i},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[7].use[3]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var r=t("./node_modules/css-loader/dist/runtime/sourceMaps.js"),o=t.n(r),n=t("./node_modules/css-loader/dist/runtime/api.js"),i=t.n(n)()(o());i.push([e.id,"screen-discovery .scroll-view-horizontal--grabbing{cursor:grab !important}screen-discovery .scroll-view-horizontal--grabbing>div *{pointer-events:none !important}\n","",{version:3,sources:["webpack://./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"],names:[],mappings:"AAMA,mDAGM,sBAAuB,CAH7B,yDAMQ,8BAA+B",sourcesContent:["/*\n * @Author: czy0729\n * @Date: 2023-11-08 12:57:23\n * @Last Modified by: czy0729\n * @Last Modified time: 2023-11-29 18:03:00\n */\nscreen-discovery {\n  .scroll-view-horizontal {\n    &--grabbing {\n      cursor: grab !important;\n\n      & > div * {\n        pointer-events: none !important;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const d=i},"./src/screens/_/item/post/index.scss":(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=t.n(r),n=t("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),i=t.n(n),d=t("./node_modules/style-loader/dist/runtime/insertBySelector.js"),c=t.n(d),l=t("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),a=t.n(l),u=t("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),m=t.n(u),p=t("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),j=t.n(p),f=t("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[7].use[3]!./src/screens/_/item/post/index.scss"),_={};_.styleTagTransform=j(),_.setAttributes=a(),_.insert=c().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=m();o()(f.Z,_);const b=f.Z&&f.Z.locals?f.Z.locals:void 0},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=t.n(r),n=t("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),i=t.n(n),d=t("./node_modules/style-loader/dist/runtime/insertBySelector.js"),c=t.n(d),l=t("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),a=t.n(l),u=t("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),m=t.n(u),p=t("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),j=t.n(p),f=t("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[7].use[3]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"),_={};_.styleTagTransform=j(),_.setAttributes=a(),_.insert=c().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=m();o()(f.Z,_);const b=f.Z&&f.Z.locals?f.Z.locals:void 0}}]);