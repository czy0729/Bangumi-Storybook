(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8738],{"./src/screens/timeline/say/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Say=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=n(s("./src/screens/timeline/say/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),n=(t.default={title:"screens/Say",component:o.default},t.Say=function(){return(0,i.jsx)(r.StorybookSPA,{children:(0,i.jsx)(r.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,r.getStorybookArgs)("Say")))})})});n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Say')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/timeline/v2/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Timeline=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=n(s("./src/screens/timeline/v2/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),n=(t.default={title:"screens/Timeline",component:o.default},t.Timeline=function(){return(0,i.jsx)(r.StorybookSPA,{children:(0,i.jsx)(r.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,r.getStorybookArgs)("Timeline")))})})});n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Timeline')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/timeline/say/component/chat/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/say/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Chat")},"./src/screens/timeline/say/component/chat/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/screens/timeline/say/component/chat/utils.tsx"),l=s("./src/screens/timeline/say/component/chat/ds.ts"),a=s("./src/screens/timeline/say/component/chat/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.forwardRef,t=t.$,s=(0,a.memoStyles)(),t=t.say.list;return(0,c.jsx)(r.PaginationList2,{forwardRef:e,style:o._.container.screen,contentContainerStyle:s.container,keyExtractor:i.keyExtractor,data:t,inverted:!0,renderItem:d.renderItem,ListFooterComponent:null},t.length)},l.COMPONENT)},"./src/screens/timeline/say/component/chat/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles(function(){return{container:{paddingTop:n._.bottom+n._.lg,paddingHorizontal:n._.wind,paddingBottom:n._.lg}}})},"./src/screens/timeline/say/component/chat/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,n(s("./node_modules/react/index.js")),n(s("./src/screens/timeline/say/component/item/index.tsx"))),o=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,o.jsx)(r.default,{item:t,index:e})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/say/component/chat/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/timeline/say/component/chat/utils.tsx#renderItem"})}catch(e){}},"./src/screens/timeline/say/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/say/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Component")},"./src/screens/timeline/say/component/heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/say/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/timeline/say/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/screens/timeline/say/component/heatmaps/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Heatmap,{bottom:o._.bottom,id:"吐槽",screen:"Say"}),(0,d.jsx)(r.Heatmap,{right:67,bottom:o._.bottom,id:"吐槽.显示评论框",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:67,bottom:o._.bottom-34,id:"吐槽.新吐槽",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:67,bottom:o._.bottom-68,id:"吐槽.回复吐槽",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:121,bottom:o._.bottom-68,id:"吐槽.回复失败",transparent:!0})]})},i.COMPONENT)},"./src/screens/timeline/say/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/say/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Item"),t.EVENT={id:"吐槽.跳转"}},"./src/screens/timeline/say/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),u=s("./src/screens/timeline/say/component/item/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,n,r=e.item,e=e.index,o=t.$;return r.id?(t=o.say.list,s=0===e?{}:t[e-1],n=r.id===l.userStore.myId,(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.ItemSay,Object.assign({},r,{event:u.EVENT,position:n?"right":"left",avatar:(0,a.getAvatarLocal)(r.id)||(0,c.API_AVATAR)(r.id),showName:s.name!==r.name,onLongPress:function(){return o.at(r.id)}})),e+1===t.length&&!!r.date&&(0,m.jsx)(i.Text,{size:12,type:"sub",align:"center",children:null==(n=t[e])?void 0:n.date})]})):null},u.COMPONENT)},"./src/screens/timeline/say/component/page/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=n(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/decorators/index.ts"),b=s("./src/constants/index.ts"),j=n(s("./src/screens/timeline/say/component/chat/index.tsx")),_=s("./node_modules/react/jsx-runtime.js");function y(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=n?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}n=u.default.Component,(0,d.default)(v,n),x=y(v),(0,o.default)(v,[{key:"renderNew",value:function(){var e=this.context,t=e.$,s=e.navigation,e=t.state.value;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(m.ScrollView,Object.assign({style:p._.container.screen,contentContainerStyle:p._.container.bottom},b.SCROLL_VIEW_RESET_PROPS,{children:[(0,_.jsx)(j.default,{}),(0,_.jsx)(m.Text,{style:[p._.mt._md,p._.ml.md],type:"sub",children:"点击底部输入框录入吐槽内容"})]})),p.userStore.isWebLogin&&(0,_.jsx)(m.FixedTextarea,{placeholder:"新吐槽",simple:!0,value:e,onChange:t.onChange,onClose:t.closeFixedTextarea,onSubmit:function(e){return t.doSubmit(e,null,s)}})]})}},{key:"renderList",value:function(){return this.context.$.say._loaded?(0,_.jsx)(m.ScrollView,Object.assign({contentContainerStyle:p._.container.bottom},b.SCROLL_VIEW_RESET_PROPS,{children:(0,_.jsx)(j.default,{})})):(0,_.jsx)(m.Flex,{style:p._.container.screen,justify:"center",children:(0,_.jsx)(m.Loading,{})})}},{key:"renderTextarea",value:function(){var e=this.context,t=e.$,s=e.navigation,e=t.state.value;return p.userStore.isWebLogin&&(0,_.jsx)(m.FixedTextarea,{placeholder:"回复吐槽, 长按头像@某人",simple:!0,value:e,onChange:t.onChange,onClose:t.closeFixedTextarea,onSubmit:function(e){return t.doSubmit(e,null,s)}})}},{key:"render",value:function(){var e=this.context.$;return(0,_.jsx)(m.Page,{style:p._.container.screen,children:e.isNew?this.renderNew():this.renderList()})}}]);var x,s=v;function v(){var e;(0,r.default)(this,v);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=x.call.apply(x,[this].concat(s)),(0,c.default)((0,i.default)(e),"state",{expand:!1}),(0,c.default)((0,i.default)(e),"onExpand",function(){e.setState({expand:!0})}),e}t.default=(0,f.obc)(s);try{indexweb.displayName="indexweb",indexweb.__docgenInfo={description:"",displayName:"indexweb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/say/component/page/index.web.tsx#indexweb"]={docgenInfo:indexweb.__docgenInfo,name:"indexweb",path:"src/screens/timeline/say/component/page/index.web.tsx#indexweb"})}catch(e){}},"./src/screens/timeline/say/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.COMPONENT=void 0;t.COMPONENT="Say",t.STATE={value:"",placeholder:"",replySub:"",message:"",_loaded:!1}},"./src/screens/timeline/say/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/say/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Header")},"./src/screens/timeline/say/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),c=s("./src/screens/timeline/say/header/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$,n=s.say.list,t=null==(t=n[n.length-1])?void 0:t.date;return(0,u.jsx)(r.Header,{title:s.isNew?"新吐槽":"吐槽 ("+n.length+")"+(t?" · "+(null==(t=t.split(" "))?void 0:t[0]):""),alias:"吐槽",hm:[s.url,"Say"],headerTitleAlign:"left",headerRight:function(){return s.isNew?null:(0,u.jsxs)(r.Flex,{children:[!a.STORYBOOK&&10<=n.length&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.IconTouchable,{style:i._.mr._xs,name:"md-keyboard-arrow-up",size:24,color:i._.colorTitle,onPress:function(){s.scrollToTop(s.scrollViewRef,!0)}}),(0,u.jsx)(o.IconTouchable,{name:"md-keyboard-arrow-down",size:24,color:i._.colorTitle,onPress:function(){s.scrollToBottom(s.scrollViewRef,!0)}})]}),(0,u.jsx)(r.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,l.t)("吐槽.右上角菜单",{key:e}),(0,d.open)(s.url))},children:(0,u.jsx)(r.Heatmap,{id:"吐槽.右上角菜单"})})]})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/say/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/timeline/say/header/index.tsx#header"})}catch(e){}},"./src/screens/timeline/say/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useSayPage=function(e){var t=e.$;(0,n.useRunAfter)(function(){t.init()}),(0,n.useKeyboardAdjustResize)()};var n=s("./src/utils/hooks/index.ts")},"./src/screens/timeline/say/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=n(s("./src/screens/timeline/say/component/heatmaps/index.tsx")),l=n(s("./src/screens/timeline/say/component/page/index.web.tsx")),a=n(s("./src/screens/timeline/say/header/index.tsx")),c=s("./src/screens/timeline/say/hooks.ts"),n=n(s("./src/screens/timeline/say/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(n.default,function(e,t){return(0,c.useSayPage)(t),(0,i.useObserver)(function(){return(0,u.jsxs)(r.Component,{id:"screen-say",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(d.default,{})]})})});try{say.displayName="say",say.__docgenInfo={description:"",displayName:"say",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/say/index.tsx#say"]={docgenInfo:say.__docgenInfo,name:"say",path:"src/screens/timeline/say/index.tsx#say"})}catch(e){}},"./src/screens/timeline/say/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),r=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),b=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),y=n(s("./src/utils/store/index.ts")),x=s("./src/utils/webhooks/index.ts"),v=s("./src/constants/index.ts"),h=n(s("./src/constants/i18n/index.ts")),O=s("./src/screens/timeline/say/ds.ts");function S(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var T;t.default=(n=y.default,(0,a.default)(g,n),T=S(g),(0,o.default)(g,[{key:"id",get:function(){var e=this.params,t=e.id;return e.sayId||t}},{key:"isNew",get:function(){return!this.id}},{key:"say",get:function(){var e=b.timelineStore.say(this.id);return Object.assign({},e,{list:e.list.slice().reverse()})}},{key:"formhash",get:function(){return b.timelineStore.formhash}},{key:"url",get:function(){var e=this.params.userId;return this.isNew?v.HOST+"/timeline?type=say":v.HOST+"/user/"+e+"/timeline/status/"+this.id}}]),(0,p.default)((s=g).prototype,"id",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"id"),s.prototype),(0,p.default)(s.prototype,"isNew",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isNew"),s.prototype),(0,p.default)(s.prototype,"say",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"say"),s.prototype),(0,p.default)(s.prototype,"formhash",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"formhash"),s.prototype),(0,p.default)(s.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),s);function g(){var o;(0,r.default)(this,g);for(var t,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return o=T.call.apply(T,[this].concat(s)),(0,m.default)((0,l.default)(o),"params",void 0),(0,m.default)((0,l.default)(o),"state",(0,f.observable)(O.STATE)),(0,m.default)((0,l.default)(o),"scrollViewRef",null),(0,m.default)((0,l.default)(o),"init",(t=(0,d.default)(i.mark(function e(t){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(o.scrollViewRef=t),o.isNew)return e.abrupt("return",b.timelineStore.fetchFormHash());e.next=3;break;case 3:return o.say._loaded&&o.scrollToBottom(o.scrollViewRef),e.next=7,o.fetchSay();case 7:b.timelineStore.fetchFormHash();case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,l.default)(o),"fetchSay",function(){return b.timelineStore.fetchSay({id:o.id})}),(0,m.default)((0,l.default)(o),"fetchTimeline",function(){var e=v.MODEL_TIMELINE_TYPE.getValue("吐槽");return b.timelineStore.fetchTimeline({scope:"friend",type:e},!0)}),(0,m.default)((0,l.default)(o),"scrollToBottom",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=e&&e.scrollToIndex&&setTimeout(function(){try{e.scrollToIndex({animated:t,index:0,viewOffset:200})}catch(e){}},160)}),(0,m.default)((0,l.default)(o),"scrollToTop",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=e&&e.scrollToEnd&&setTimeout(function(){try{e.scrollToEnd({animated:t,duration:640})}catch(e){}},160)}),(0,m.default)((0,l.default)(o),"closeFixedTextarea",function(){(0,_.t)("吐槽.显示评论框"),o.setState({placeholder:"",replySub:"",message:""})}),(0,m.default)((0,l.default)(o),"onChange",function(e){o.setState({value:e})}),(0,m.default)((0,l.default)(o),"at",function(e){(0,_.t)("吐槽.at",{id:e});var t=o.state.value;o.setState({value:t+" @"+e+" "})}),(0,m.default)((0,l.default)(o),"recoveryContent",function(e){(0,_.t)("吐槽.回复失败"),(0,j.info)("操作失败，可能是cookie失效了"),o.setState({value:""}),setTimeout(function(){o.setState({value:e})},160)}),(0,m.default)((0,l.default)(o),"doSubmit",function(e,t,s){if(o.isNew)return o.formhash?void o.doSay(e,s):void(0,j.info)("获取表单授权码失败, 请检查"+h.default.login()+"状态");s=o.say.list,s=void 0===s?[]:s;s.length||s[0].formhash?o.doReply(e,t):(0,j.info)("获取表单授权码失败")}),(0,m.default)((0,l.default)(o),"doSay",function(n,r){var t;(0,_.t)("吐槽.新吐槽"),b.timelineStore.doSay({content:n,formhash:o.formhash},(t=(0,d.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s={};try{s=JSON.parse(t)}catch(e){}if(v.IOS&&"ok"!==s.status)return o.recoveryContent(n),e.abrupt("return");e.next=5;break;case 5:(s=o.params.onNavigationCallback)&&s(!0),o.setState({value:""}),(0,j.feedback)(),(0,j.info)("吐槽成功"),r.goBack(),setTimeout((0,d.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchTimeline();case 2:t=e.sent,null!=(t=null==t||null==(t=t.list)?void 0:t[0])&&t.clearHref&&(0,x.webhookSay)({content:null==t||null==(s=t.reply)?void 0:s.content,url:null==t||null==(s=t.reply)?void 0:s.url},b.userStore.userInfo);case 5:case"end":return e.stop()}},e)})),4e3);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}),(0,m.default)((0,l.default)(o),"doReply",function(n,r){(0,_.t)("吐槽.回复吐槽");var t,e=b.timelineStore.say(o.id).list,e=void 0===e?[]:e;b.timelineStore.doReply({id:String(o.id).split("#")[0],content:n,formhash:e[0].formhash},(t=(0,d.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s={};try{s=JSON.parse(t)}catch(e){}if(v.IOS&&"ok"!==s.status)return o.recoveryContent(n),e.abrupt("return");e.next=5;break;case 5:return o.setState({value:""}),e.next=8,o.fetchSay();case 8:(0,j.feedback)(),setTimeout(function(){o.scrollToBottom(r,!0)},80);case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}),o}},"./src/screens/timeline/v2/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Component")},"./src/screens/timeline/v2/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Extra")},"./src/screens/timeline/v2/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=n(s("./src/screens/timeline/v2/component/heatmaps/index.tsx")),n=s("./src/screens/timeline/v2/component/extra/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Track,{title:"时间胶囊",hm:["timeline","Timeline"]}),(0,d.jsx)(i.default,{})]})},n.COMPONENT)},"./src/screens/timeline/v2/component/heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Heatmaps")},"./src/screens/timeline/v2/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/screens/timeline/v2/component/heatmaps/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Heatmap,{right:o._.wind+62,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"时间胶囊.标签页切换",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:o._.wind,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"时间胶囊.标签页点击",transparent:!0}),(0,d.jsx)(r.Heatmap,{bottom:o._.bottom,id:"时间胶囊",screen:"Timeline"})]})},i.COMPONENT)},"./src/screens/timeline/v2/component/item-heatmaps/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"ItemHeatmaps")},"./src/screens/timeline/v2/component/item-heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/screens/timeline/v2/component/item-heatmaps/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Heatmap,{right:2,bottom:64,id:"时间胶囊.删除时间线",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:o._.window.contentWidth-80,bottom:59,id:"时间胶囊.跳转",to:"Zone",alias:"空间",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:2,bottom:26,id:"时间胶囊.跳转",to:"Subject",alias:"条目",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:83,bottom:26,id:"时间胶囊.跳转",to:"Mono",alias:"人物",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:2,bottom:59,id:"时间胶囊.跳转",to:"CatalogDetail",alias:"目录",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:135,bottom:59,id:"时间胶囊.跳转",to:"Group",alias:"小组",transparent:!0}),(0,d.jsx)(r.Heatmap,{right:64,bottom:59,id:"时间胶囊.跳转",to:"Topic",alias:"帖子",transparent:!0})]})},i.COMPONENT)},"./src/screens/timeline/v2/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Item")},"./src/screens/timeline/v2/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),l=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),u=n(s("./src/screens/timeline/v2/component/item-heatmaps/index.tsx")),n=s("./src/screens/timeline/v2/component/item/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,n=e.item,e=e.index,r=t.$,t=t.navigation,o=(null==(i=n.p1)?void 0:i.url)||"";if(o.includes("/user/")){var i=(null==i?void 0:i.text)||"";if((0,a.getIsBlockedUser)(l.rakuenStore.blockUserIds,i,null==(i=o.split("/user/"))?void 0:i[1],"Timeline|"+e))return null}return o=r.state.scope,(0,m.jsxs)(m.Fragment,{children:[!!n.date&&(0,m.jsx)(d.SectionHeader,{children:n.date}),(0,m.jsx)(d.ItemTimeline,Object.assign({style:l._.container._item,navigation:t},n,{full:"自己"===c.MODEL_TIMELINE_SCOPE.getLabel(o),index:e,event:{id:"时间胶囊.跳转",data:{scope:o,title:s}},onDelete:r.doDelete,onHidden:r.onHidden})),1===e&&(0,m.jsx)(u.default,{})]})},n.COMPONENT)},"./src/screens/timeline/v2/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ENTERING_EXITING_ANIMATIONS_NUM=t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"List"),t.ENTERING_EXITING_ANIMATIONS_NUM=6},"./src/screens/timeline/v2/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.includes.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=r?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s])}return n.default=e,t&&t.set(e,n),n}(s("./node_modules/react/index.js"))),l=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/dev/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/timeline/v2/ds.ts"),b=n(s("./src/screens/timeline/v2/component/item/index.tsx")),j=s("./src/screens/timeline/v2/component/list/utils.ts"),_=s("./src/screens/timeline/v2/component/list/ds.ts"),y=s("./src/screens/timeline/v2/component/list/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}t.default=(0,r.c)(function(e,t){var s=e.title,n=t.$,r=((0,u.r)(_.COMPONENT),(0,d.useCallback)(function(e){return n.forwardRef(e,f.TABS.findIndex(function(e){return e.title===s}))},[s])),o=(0,d.useCallback)(function(e){c.uiStore.closePopableSubject(),c.uiStore.closeLikesGrid(),n.onScroll(e)},[]),i=(0,d.useCallback)(function(e){var t=e.item,e=e.index;return(0,x.jsx)(b.default,{title:s,item:t,index:e})},[s]);return(0,m.useObserver)(function(){var e,t;return!c.userStore.isWebLogin&&["好友","自己"].includes(p.MODEL_TIMELINE_SCOPE.getLabel(n.state.scope))?(0,x.jsx)(a.Login,{}):(e=n.state.scope,(t=n.timeline(e,p.MODEL_TIMELINE_TYPE.getValue(s)))._loaded?n.showItem(s)?(0,x.jsx)(l.ListView,{ref:r,keyExtractor:j.keyExtractor,skipEnteringExitingAnimations:_.ENTERING_EXITING_ANIMATIONS_NUM,contentContainerStyle:y.styles.contentContainerStyle,data:t,progressViewOffset:y.styles.contentContainerStyle.paddingTop,renderItem:i,scrollEventThrottle:4,onScroll:o,onHeaderRefresh:n.onHeaderRefresh,onFooterRefresh:n.fetchTimeline},e):null:(0,x.jsx)(l.Loading,{}))})})},"./src/screens/timeline/v2/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=s("./src/stores/index.ts"),s=s("./src/screens/timeline/v2/ds.ts");t.styles=n._.create({contentContainerStyle:{paddingTop:n._.headerHeight+s.H_TABBAR,paddingBottom:n._.bottom}})},"./src/screens/timeline/v2/component/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e,t){return e.id+"|"+(t<n.ENTERING_EXITING_ANIMATIONS_NUM)};var n=s("./src/screens/timeline/v2/component/list/ds.ts")},"./src/screens/timeline/v2/component/tab/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Tab")},"./src/screens/timeline/v2/component/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),n(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/decorators/index.ts"),a=s("./src/screens/timeline/v2/ds.ts"),c=n(s("./src/screens/timeline/v2/component/tab/renderScene.tsx")),u=n(s("./src/screens/timeline/v2/component/tab/tab-bar/index.tsx")),m=n(s("./src/screens/timeline/v2/component/tab/tab-bar-left/index.tsx")),n=s("./src/screens/timeline/v2/component/tab/ds.ts"),p=s("./src/screens/timeline/v2/component/tab/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)(function(e,t){var t=t.$,s=(0,p.memoStyles)();return(0,f.jsxs)(i.BlurViewRoot,{children:[(0,f.jsx)(o.TabView,{style:d._.mt._sm,lazy:!0,lazyPreloadDistance:0,navigationState:t.navigationState,renderTabBar:b,renderBackground:(0,f.jsx)(i.BlurViewTab,{length:a.TABS.length}),renderScene:c.default,onIndexChange:t.onChange},d._.orientation),(0,f.jsx)(r.default,{style:s.tabBarLeft,children:(0,f.jsx)(m.default,{})}),(0,f.jsx)(i.BlurViewBottomTab,{})]})},n.COMPONENT);function b(e){return(0,f.jsx)(u.default,Object.assign({},e))}try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/timeline/v2/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/timeline/v2/component/tab/renderScene.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.object.assign.js");function n(e){var t=e.title;return function(){return(0,a.jsx)(l.default,{title:t})}}var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/defineProperty.js"))),i=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/timeline/v2/ds.ts"),l=r(s("./src/screens/timeline/v2/component/list/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.SceneMap)(d.TABS.reduce(function(e,t){return Object.assign({},e,(0,o.default)({},t.key,n(t)))},{}));try{n.displayName="renderScene",n.__docgenInfo={description:"",displayName:"renderScene",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"Layout"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"AnimatedNode<number>"}},jumpTo:{defaultValue:null,description:"",name:"jumpTo",required:!0,type:{name:"(key: string) => void"}},route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/component/tab/renderScene.tsx#renderScene"]={docgenInfo:n.__docgenInfo,name:"renderScene",path:"src/screens/timeline/v2/component/tab/renderScene.tsx#renderScene"})}catch(e){}},"./src/screens/timeline/v2/component/tab/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles(function(){return{tabBarLeft:{position:"absolute",zIndex:3,top:n._.headerHeight-n._.sm+2,left:0}}})},"./src/screens/timeline/v2/component/tab/tab-bar-label/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/tab/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"TabBarLabel")},"./src/screens/timeline/v2/component/tab/tab-bar-label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/screens/timeline/v2/component/tab/tab-bar-label/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=e.route,e=e.focused;return(0,d.jsx)(r.Flex,{style:o._.container.block,justify:"center",children:(0,d.jsx)(r.Text,{type:"title",size:13,bold:e,noWrap:!0,children:t.title})})},i.COMPONENT);try{tabbarlabel.displayName="tabbarlabel",tabbarlabel.__docgenInfo={description:"",displayName:"tabbarlabel",props:{route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"any"}},focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/component/tab/tab-bar-label/index.tsx#tabbarlabel"]={docgenInfo:tabbarlabel.__docgenInfo,name:"tabbarlabel",path:"src/screens/timeline/v2/component/tab/tab-bar-label/index.tsx#tabbarlabel"})}catch(e){}},"./src/screens/timeline/v2/component/tab/tab-bar-left/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DATA=t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),r=s("./src/constants/index.ts"),s=s("./src/screens/timeline/v2/component/tab/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"TabBarLeft"),t.DATA=r.TIMELINE_SCOPE.map(function(e){return e.label})},"./src/screens/timeline/v2/component/tab/tab-bar-left/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./src/screens/timeline/v2/component/tab/tab-bar-left/ds.ts"),l=s("./src/screens/timeline/v2/component/tab/tab-bar-left/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var t=t.$,s=(0,l.memoStyles)(),n=t.state.scope;return(0,a.jsxs)(o.Popover,{data:d.DATA,onSelect:t.onSelectScope,children:[(0,a.jsx)(r.Flex,{style:s.tabBarLeft,justify:"center",children:(0,a.jsx)(r.Button,{style:s.btn,type:"ghostMain",size:"sm",children:i.MODEL_TIMELINE_SCOPE.getLabel(n)})}),(0,a.jsx)(r.Heatmap,{id:"时间胶囊.切换类型"})]})},d.COMPONENT);try{tabbarleft.displayName="tabbarleft",tabbarleft.__docgenInfo={description:"",displayName:"tabbarleft",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/component/tab/tab-bar-left/index.tsx#tabbarleft"]={docgenInfo:tabbarleft.__docgenInfo,name:"tabbarleft",path:"src/screens/timeline/v2/component/tab/tab-bar-left/index.tsx#tabbarleft"})}catch(e){}},"./src/screens/timeline/v2/component/tab/tab-bar-left/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles(function(){return{tabBarLeft:{height:n._.r(42),paddingLeft:n._.r(n._._wind),paddingRight:n._.sm,marginTop:n._.device(0,2),backgroundColor:"transparent"},btn:{width:n._.r(48),height:n._.r(24),borderRadius:n._.r(16)}}})},"./src/screens/timeline/v2/component/tab/tab-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/component/tab/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"TabBar")},"./src/screens/timeline/v2/component/tab/tab-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=n(s("./src/screens/timeline/v2/component/tab/tab-bar-label/index.tsx")),n=s("./src/screens/timeline/v2/component/tab/tab-bar/ds.ts"),d=s("./src/screens/timeline/v2/component/tab/tab-bar/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(e){var t=(0,d.memoStyles)();return(0,l.jsx)(r.TabBar,Object.assign({},e,{style:t.tabBar,tabStyle:t.tab,labelStyle:t.label,indicatorStyle:t.indicator,pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:a}))},n.COMPONENT);function a(e){var t=e.route,e=e.focused;return(0,l.jsx)(i.default,{route:t,focused:e})}try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/component/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/timeline/v2/component/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/timeline/v2/component/tab/tab-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts"),r=s("./src/styles/index.ts");t.memoStyles=n._.memoStyles(function(){var e=n._.r(68),t=n._.device(5,n._.isLandscape?6:7),t=(r.window.width-e)/t,s=n._.r(16);return{tabBar:{position:"absolute",zIndex:2,top:n._.headerHeight,right:0,left:0,paddingLeft:e,backgroundColor:"transparent",borderBottomWidth:0,elevation:0},tab:{width:t,height:n._.r(48)},label:{padding:0},indicator:{width:s,height:4,marginLeft:(t-s)/2+e,backgroundColor:n._.colorMain,borderRadius:4}}})},"./src/screens/timeline/v2/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.H_TABBAR=t.COMPONENT=void 0;var n=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.COMPONENT="Timeline",t.TABS=s.TIMELINE_TYPE.map(function(e){return{title:e.label,key:e.value}}).filter(function(e){return!!e.title}),t.H_TABBAR=48+(s.IOS&&s.PAD?n._.statusBarHeight:0)},"./src/screens/timeline/v2/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var n=s("./src/utils/dev/index.ts"),s=s("./src/screens/timeline/v2/ds.ts");t.COMPONENT=(0,n.rc)(s.COMPONENT,"Header")},"./src/screens/timeline/v2/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),l=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),c=s("./src/constants/index.ts"),u=n(s("./src/constants/i18n/index.ts")),n=s("./src/screens/timeline/v2/header/ds.ts"),m=s("./src/screens/timeline/v2/header/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)(function(e,t){var s=t.$,n=t.navigation;return(0,p.jsx)(o.LogoHeader,{right:(0,p.jsx)(o.IconTabsHeader,{style:m.styles.icon,name:"md-add",onPress:function(){c.STORYBOOK?(0,d.open)(c.HOST+"/timeline"):i.userStore.isWebLogin?((0,a.t)("时间胶囊.新吐槽"),n.push("Say",{onNavigationCallback:s.fetchTimeline})):(0,d.info)("请先"+u.default.login())},children:(0,p.jsx)(r.Heatmap,{id:"时间胶囊.新吐槽"})})})},n.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/timeline/v2/header/index.tsx#header"})}catch(e){}},"./src/screens/timeline/v2/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({icon:{marginRight:s._.xs,marginBottom:0,borderRadius:40,overflow:"hidden"}})},"./src/screens/timeline/v2/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useTimelinePage=function(e){var t=e.$,s=e.navigation,n=(0,i.useIsFocused)();(0,i.useRunAfter)(function(){t.init(),s.addListener(d.EVENT_APP_TAB_PRESS+"|Timeline",function(){t.onRefreshThenScrollTop()})}),(0,r.useEffect)(function(){n||o.uiStore.closePopableSubject()},[n])};var r=s("./node_modules/react/index.js"),o=s("./src/stores/index.ts"),i=s("./src/utils/hooks/index.ts"),d=s("./src/navigations/tab-bar/index.tsx")},"./src/screens/timeline/v2/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=n(s("./src/screens/timeline/v2/component/extra/index.tsx")),a=n(s("./src/screens/timeline/v2/component/tab/index.tsx")),c=n(s("./src/screens/timeline/v2/header/index.tsx")),u=s("./src/screens/timeline/v2/hooks.ts"),n=n(s("./src/screens/timeline/v2/store/index.ts")),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(n.default,function(e,t){(0,u.useTimelinePage)(t);var s=t.$;return(0,d.useObserver)(function(){return(0,m.jsxs)(r.Component,{id:"screen-timeline",children:[(0,m.jsx)(o.TapListener,{children:(0,m.jsxs)(r.Page,{children:[(0,m.jsx)(c.default,{}),s.state._loaded&&(0,m.jsx)(a.default,{})]})}),(0,m.jsx)(l.default,{})]})})});try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/timeline/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/timeline/v2/index.tsx#v2"})}catch(e){}},"./src/screens/timeline/v2/store/action.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),r=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),_=s("./src/constants/index.ts"),n=n(s("./src/screens/timeline/v2/store/fetch.ts"));function y(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=n?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var x;t.default=(s=n.default,(0,c.default)(v,s),x=y(v),(0,r.default)(v));function v(){var n;(0,l.default)(this,v);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=x.call.apply(x,[this].concat(s)),(0,p.default)((0,a.default)(n),"onHeaderRefresh",function(){return n.fetchTimeline(!0)}),(0,p.default)((0,a.default)(n),"onChange",function(e){var t=n.state.scope,s=((0,j.t)("时间胶囊.标签页切换",{page:e,scope:t}),(0,d.default)(n.state.renderedTabsIndex));s.includes(e)||s.push(e),n.setState({page:e,renderedTabsIndex:s}),n.timeline(t,_.TIMELINE_TYPE[e].value)._loaded||n.fetchTimeline(!0),n.save()}),(0,p.default)((0,a.default)(n),"onSelectScope",function(e){(0,j.t)("时间胶囊.切换类型",{label:e});var t=n.state.scope,e=_.MODEL_TIMELINE_SCOPE.getValue(e);e!==t&&(n.setState({scope:e}),n.fetchTimeline(!0),n.save())}),(0,p.default)((0,a.default)(n),"scrollToIndex",{}),(0,p.default)((0,a.default)(n),"forwardRef",function(e,t){n.scrollToIndex[t]=null==e?void 0:e.scrollToIndex}),(0,p.default)((0,a.default)(n),"onRefreshThenScrollTop",(0,i.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.page,"function"==typeof n.scrollToIndex[t])return(0,j.t)("其他.刷新到顶",{screen:"Timeline"}),n.scrollToIndex[t]({animated:!0,index:0,viewOffset:8e3}),e.next=7,n.onHeaderRefresh();e.next=8;break;case 7:(0,b.feedback)();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Timeline","onRefreshThenScrollTop",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))),(0,p.default)((0,a.default)(n),"onHidden",function(e,t){e="1天不看TA"===e?1:"3天不看TA"===e?3:"7天不看TA"===e?7:0;f.timelineStore.updateHidden(t,e),(0,j.t)("时间胶囊.隐藏",{userId:t,day:e})}),(0,p.default)((0,a.default)(n),"onScroll",b.updateVisibleBottom.bind((0,a.default)(n))),(0,p.default)((0,a.default)(n),"doDelete",(t=(0,i.default)(o.mark(function e(t){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return s=n.state.scope,(0,j.t)("时间胶囊.删除时间线",{scope:s}),e.next=6,(0,j.fetchHTML)({method:"POST",url:t});case 6:return(0,b.feedback)(),n.fetchTimeline(!0),e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),n}},"./src/screens/timeline/v2/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),c=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/timeline/v2/ds.ts"),n=n(s("./src/screens/timeline/v2/store/state.ts"));function b(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=n?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var j;t.default=(s=n.default,(0,i.default)(_,s),j=b(_),(0,o.default)(_,[{key:"navigationState",get:function(){return{index:this.state.page,routes:f.TABS}}},{key:"timeline",value:function(t,n){return(0,c.computed)(function(){var e=u.timelineStore.timeline(t,n),s=e.list;return(u.systemStore.setting.filterDefault||u.systemStore.setting.filter18x||u.userStore.isLimit)&&(s=s.filter(function(e){if((u.systemStore.setting.filterDefault||u.userStore.isLimit)&&null!=(t=e.avatar)&&null!=(t=t.src)&&t.includes(p.URL_DEFAULT_AVATAR))return!1;if((u.systemStore.setting.filter18x||u.userStore.isLimit)&&null!=e&&null!=(t=e.p3)&&null!=(t=t.url)&&t[0]){var t=String(e.p3.url[0]);if(t.match(/\/subject\/\d+/))return!(0,m.x18)(t.replace("https://bgm.tv/subject/",""))}return!0})),Object.assign({},e,{list:s.map(function(e,t){return Object.assign({},e,{date:0===t||(null==(t=s[t-1])?void 0:t.date)!==e.date?e.date:""})})})}).get()}},{key:"showItem",value:function(t){var s=this;return(0,c.computed)(function(){var e;return!p.IOS||(e=f.TABS.findIndex(function(e){return e.title===t}),s.state.renderedTabsIndex.includes(e))}).get()}}]),(0,a.default)((t=_).prototype,"navigationState",[c.computed],Object.getOwnPropertyDescriptor(t.prototype,"navigationState"),t.prototype),t);function _(){return(0,r.default)(this,_),j.apply(this,arguments)}},"./src/screens/timeline/v2/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var n=s("./src/stores/index.ts"),r=s("./src/constants/index.ts"),s=s("./src/screens/timeline/v2/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.EXCLUDE_STATE={visibleBottom:n._.window.height,isFocused:!0});t.STATE=Object.assign({scope:r.MODEL_TIMELINE_SCOPE.getValue("全站"),page:0,renderedTabsIndex:[]},s,{_loaded:!1})},"./src/screens/timeline/v2/store/fetch.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/createClass.js"))),o=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/stores/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/timeline/v2/ds.ts"),n=n(s("./src/screens/timeline/v2/store/computed.ts"));function f(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=n?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var b;t.default=(s=n.default,(0,d.default)(j,s),b=f(j),(0,r.default)(j));function j(){var n;(0,o.default)(this,j);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=b.call.apply(b,[this].concat(t)),(0,c.default)((0,i.default)(n),"fetchTimeline",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=n.state,s=t.scope,t=t.page,t=m.MODEL_TIMELINE_TYPE.getValue(p.TABS[t].title);return u.timelineStore.fetchTimeline({scope:s,type:t},e)}),n}},"./src/screens/timeline/v2/store/index.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=n(s("./src/screens/timeline/v2/store/action.ts")),p=s("./src/screens/timeline/v2/store/ds.ts");function f(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=n.default,(0,a.default)(j,s),b=f(j);var b,n=(0,i.default)(j);function j(){var n;(0,d.default)(this,j);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=b.call.apply(b,[this].concat(t)),(0,m.default)((0,l.default)(n),"init",(0,o.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(p.NAMESPACE);case 2:return t=e.sent,4<=(s=(null==t?void 0:t.page)||0)&&(s=0),n.setState(Object.assign({},t,p.EXCLUDE_STATE,{page:s,renderedTabsIndex:[s],_loaded:!0})),setTimeout(function(){n.fetchTimeline(!0)},0),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),n}t.default=n},"./src/screens/timeline/v2/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/createClass.js"))),o=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),n=n(s("./src/utils/store/index.ts")),m=s("./src/screens/timeline/v2/store/ds.ts");function p(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=n?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var f;t.default=(s=n.default,(0,d.default)(b,s),f=p(b),(0,r.default)(b));function b(){var e;(0,o.default)(this,b);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=f.call.apply(f,[this].concat(s)),(0,c.default)((0,i.default)(e),"state",(0,u.observable)(m.STATE)),(0,c.default)((0,i.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}}}]);