(self.webpackChunkweb=self.webpackChunkweb||[]).push([[180],{"./src/screens/user/actions/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Actions=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/actions/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Actions",component:o.default},s.Actions=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Actions")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Actions')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/backup/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,d.jsx)(o.Page,{children:(0,d.jsx)(o.Text,{style:i._.mt.center,align:"center",children:"网页端暂不支持此功能 (本地备份)"})})}var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Backup=void 0,n(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),d=t("./node_modules/react/jsx-runtime.js"),n=(s.default={title:"screens/Backup",component:r},s.Backup=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(r,Object.assign({},(0,o.getStorybookArgs)("Backup")))})})});n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Backup')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/user/blogs/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Blogs=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/blogs/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Blogs",component:o.default},s.Blogs=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Blogs")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Blogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/catalogs/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Catalogs=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/catalogs/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Catalogs",component:o.default},s.Catalogs=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Catalogs")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Catalogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/friends/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Friends=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/friends/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Friends",component:o.default},s.Friends=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Friends")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Friends')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/origin-setting/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.OriginSetting=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/origin-setting/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/OriginSetting",component:o.default},s.OriginSetting=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("OriginSetting")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('OriginSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/pm/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.PM=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/pm/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/PM",component:o.default},s.PM=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("PM")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('PM')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/qiafan/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Qiafan=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/qiafan/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Qiafan",component:o.default},s.Qiafan=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{style:{overflowY:"scroll"},children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Qiafan")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList\n      style={{\n        // @ts-expect-error\n        overflowY: 'scroll'\n      }}\n    >\n      <Component {...getStorybookArgs('Qiafan')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/setting/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Setting=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/setting/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Setting",component:o.default},s.Setting=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Setting")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      {/* @ts-expect-error */}\n      <Component {...getStorybookArgs('Setting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/smb/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.SMB=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/smb/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/SMB",component:o.default},s.SMB=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("SMB")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('SMB')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/sponsor/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Sponsor=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/sponsor/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Sponsor",component:o.default},s.Sponsor=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Sponsor")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Sponsor')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/timeline/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.UserTimeline=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/timeline/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/UserTimeline",component:o.default},s.UserTimeline=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("UserTimeline")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserTimeline')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/user-setting/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.UserSetting=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/user-setting/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/UserSetting",component:o.default},s.UserSetting=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("UserSetting")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/v2/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.User=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/v2/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/User",component:o.default},s.User=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("User")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('User')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/zone/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Zone=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/zone/index.tsx")),i=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Zone",component:o.default},s.Zone=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{style:{overflowY:"scroll"},children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Zone")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList\n      \n      style={{\n        // @ts-expect-error\n        overflowY: 'scroll'\n      }}\n    >\n      <Component {...getStorybookArgs('Zone')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/actions/create/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/actions/form/index.tsx")),l=t("./src/screens/user/actions/create/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=s.$,s=t.state.edit;return s.show&&""===s.uuid?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Text,{style:o._.mt.md,size:15,bold:!0,children:"添加"}),(0,a.jsx)(d.default,{style:o._.mt.md,name:s.name,url:s.url})]}):(0,a.jsx)(n.Button,{style:l.styles.btn,type:o._.select("ghostPlain","plain"),onPress:function(){t.openEdit({uuid:"",name:"",url:"",sort:"",active:1})},children:"添加"})});try{create.displayName="create",create.__docgenInfo={description:"",displayName:"create",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/create/index.tsx#create"]={docgenInfo:create.__docgenInfo,name:"create",path:"src/screens/user/actions/create/index.tsx#create"})}catch(e){}},"./src/screens/user/actions/create/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({btn:{marginVertical:t._.md}})},"./src/screens/user/actions/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=void 0;s.STATE={data:{data:[]},edit:{show:!1,uuid:"",name:"",url:"",sort:"",active:1},_loaded:!1}},"./src/screens/user/actions/form/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/screens/user/actions/form/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.style,t=void 0===t?void 0:t,r=e.name,r=void 0===r?"":r,e=e.url,e=void 0===e?"":e,n=s.$,s=(0,u.memoStyles)(),o=n.state.edit;return(0,m.jsxs)(d.Flex,{style:(0,c.stl)(s.form,t),align:"end",children:[(0,m.jsxs)(d.Flex.Item,{children:[(0,m.jsx)(d.Text,{size:13,bold:!0,children:"描述"}),(0,m.jsx)(d.Input,{style:[s.input,a._.mt.sm],defaultValue:String(r),placeholder:"在菜单上显示，唯一",onChangeText:function(e){return n.onChangeText("name",e)}}),(0,m.jsx)(d.Text,{style:a._.mt.md,size:13,bold:!0,children:"网址或协议"}),(0,m.jsxs)(d.Text,{style:a._.mt.sm,type:"sub",size:10,lineHeight:13,bold:!0,children:["打开指定网址","\n","例：https:// 或 http:// 开头会调用浏览器打开","\n\n","URL Scheme 唤起 App","\n","例：orpheus://search?q=xxx 直接打开网易云 App 搜索","\n","例：bilibili://search/xxx 直接打开 bilibili App 搜索","\n","因为命令是对应单独条目的，xxx 请自行替换为实际文字"]}),(0,m.jsx)(d.Input,{style:a._.mt.sm,defaultValue:String(e),multiline:!0,numberOfLines:3,textAlignVertical:"top",placeholder:"输入 URI",onChangeText:function(e){return n.onChangeText("url",e)}}),(0,m.jsx)(d.Text,{style:a._.mt.md,size:13,bold:!0,children:"排序"}),(0,m.jsx)(d.Input,{style:[s.input,a._.mt.sm],value:String(o.sort),placeholder:"数字，越大越前，选填",keyboardType:"number-pad",onChangeText:function(e){return n.onChangeText("sort",e)}})]}),(0,m.jsx)(l.IconTouchable,{style:a._.ml.md,name:"md-check",size:22,color:a._.colorDesc,onPress:n.submitEdit}),(0,m.jsx)(i.default,{style:s.close,children:(0,m.jsx)(l.IconTouchable,{name:"md-close",size:22,color:a._.colorDesc,onPress:n.closeEdit})})]})})},"./src/screens/user/actions/form/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{form:{padding:12,paddingRight:8,marginBottom:r._.md,backgroundColor:r._.colorBg,borderColor:r._.colorBorder,borderWidth:1,borderRadius:r._.radiusSm,overflow:"hidden"},close:{position:"absolute",zIndex:1,top:4,right:7},input:{height:44,paddingVertical:0}}})},"./src/screens/user/actions/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=t.params.name;return(0,d.jsx)(n.Header,{title:s||"自定义跳转",hm:["actions","Actions"],headerRight:function(){return(0,d.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,onPress:function(){r.push("Information",{title:"自定义跳转",message:["目前为实验性。","本功能对应到具体条目，通常用于给单独条目添加特定跳转。","后续会开发云同步和共享功能，请慎重添加带个人信息隐私的链接。"]})}})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/actions/header/index.tsx#header"})}catch(e){}},"./src/screens/user/actions/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/actions/header/index.tsx")),l=r(t("./src/screens/user/actions/list/index.tsx")),a=r(t("./src/screens/user/actions/create/index.tsx")),r=r(t("./src/screens/user/actions/store.ts")),c=t("./src/screens/user/actions/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,i.useMount)(function(){t.init()}),(0,i.useObserver)(function(){var e=(0,c.memoStyles)();return(0,u.jsxs)(n.Component,{id:"screen-actions",children:[(0,u.jsx)(d.default,{}),(0,u.jsx)(n.Page,{loaded:t.state._loaded,children:(0,u.jsxs)(n.ScrollView,{contentContainerStyle:e.scrollView,children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(a.default,{})]})})]})})});try{actions.displayName="actions",actions.__docgenInfo={description:"",displayName:"actions",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/index.tsx#actions"]={docgenInfo:actions.__docgenInfo,name:"actions",path:"src/screens/user/actions/index.tsx#actions"})}catch(e){}},"./src/screens/user/actions/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),c=t("./src/components/index.ts"),u=t("./src/screens/_/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),f=r(t("./src/screens/user/actions/form/index.tsx")),j=t("./src/screens/user/actions/item/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.uuid,r=e.active,n=e.name,o=e.url,i=e.sort,d=s.$,e=[],s=!!r,l=(e.push("编辑",s?"停用":"启用","删除","测试"),d.state.edit),l=l.show&&t&&l.uuid===t;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(c.Flex,{style:(0,p.stl)(j.styles.item,!s&&j.styles.disabled),children:[(0,_.jsxs)(c.Flex.Item,{children:[(0,_.jsx)(c.Text,{size:15,bold:!0,children:n}),(0,_.jsxs)(c.Flex,{style:m._.mt.sm,children:[0<=i&&(0,_.jsx)(u.Tag,{style:m._.mr.sm,value:i}),(0,_.jsx)(c.Flex.Item,{children:(0,_.jsx)(c.Text,{size:12,type:"sub",numberOfLines:1,children:o})})]})]}),s&&(0,_.jsx)(u.Tag,{style:m._.ml.md,value:"生效"}),(0,_.jsx)(u.Popover,{style:m._.ml.md,data:e,onSelect:function(e){switch(e){case"编辑":d.openEdit({uuid:t,name:n,url:o,sort:i,active:r});break;case"删除":(0,p.confirm)("确定删除 ["+n+"] ?",function(){d.deleteItem({uuid:t})});break;case"停用":d.disableItem({uuid:t});break;case"启用":d.activeItem({uuid:t});break;case"测试":d.go({url:o})}},children:(0,_.jsx)(a.default,{style:j.styles.touch,children:(0,_.jsx)(c.Iconfont,{name:"md-more-vert",color:m._.colorDesc})})})]}),l&&(0,_.jsx)(f.default,{name:n,url:o})]})})},"./src/screens/user/actions/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{marginVertical:t._.md},touch:{padding:t._.sm,marginRight:-t._.sm},disabled:{opacity:.5}})},"./src/screens/user/actions/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),a=r(t("./src/screens/user/actions/item/index.tsx")),c=t("./src/screens/user/actions/list/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var s=s.$,t=d.systemStore.setting,r=t.focusOrigin,n=t.focusAction;return(0,u.jsxs)(o.default,{children:[(0,u.jsxs)(i.Flex,{style:c.styles.setting,children:[(0,u.jsx)(i.Flex.Item,{children:(0,u.jsx)(i.Text,{size:15,bold:!0,children:"突出显示源头按钮"})}),(0,u.jsx)(i.SwitchPro,{style:c.styles.switch,value:r,onSyncPress:function(){(0,l.t)("设置.切换",{title:" 突出源头按钮",checked:!r}),d.systemStore.switchSetting("focusOrigin")}})]}),(0,u.jsxs)(i.Flex,{style:c.styles.setting,children:[(0,u.jsxs)(i.Flex.Item,{children:[(0,u.jsx)(i.Text,{size:15,bold:!0,children:"若有自定义跳转隐藏通用源头按钮"}),(0,u.jsx)(i.Text,{style:d._.mt.xs,type:"sub",size:12,bold:!0,children:"需要开启上面的设置才会生效"})]}),(0,u.jsx)(i.SwitchPro,{style:c.styles.switch,value:n,onSyncPress:function(){(0,l.t)("设置.切换",{title:"隐藏通用源头按钮",checked:!n}),d.systemStore.switchSetting("focusAction")}})]}),(0,u.jsx)(i.Divider,{}),s.data.map(function(e){return(0,u.jsx)(a.default,Object.assign({},e),e.uuid)})]})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/actions/list/index.tsx#list"})}catch(e){}},"./src/screens/user/actions/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({setting:{marginVertical:t._.md},switch:{marginRight:-4,transform:[{scale:t._.device(.8,1.12)}]}})},"./src/screens/user/actions/store.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=n(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),n=n(t("./src/utils/store/index.ts")),x=t("./src/utils/fetch/index.ts"),b=t("./src/screens/user/actions/ds.ts");function g(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var h;s.default=(t=n.default,(0,a.default)(y,t),h=g(y),(0,d.default)(y,[{key:"data",get:function(){return this.state.data.data.slice().sort(function(e,s){return(0,_.desc)(Number(e.sort)||0,Number(s.sort)||0)}).sort(function(e,s){return(0,_.desc)(e.active,s.active)})}}]),(0,p.default)((s=y).prototype,"data",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"data"),s.prototype),s);function y(){var n;(0,i.default)(this,y);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=h.call.apply(h,[this].concat(s)),(0,m.default)((0,l.default)(n),"params",void 0),(0,m.default)((0,l.default)(n),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,l.default)(n),"init",(0,o.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.subjectStore.init("actions");case 2:if(s=n.params.subjectId){e.next=5;break}return e.abrupt("return",!1);case 5:n.setState({data:{data:j.subjectStore.actions(s)},_loaded:!0});case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onChangeText",function(e,s){var t=n.state.edit,s=s.trim();"sort"===e&&(s=isNaN(Number(s))?"":Number(s)),n.setState({edit:Object.assign({},t,(0,m.default)({},e,s))})}),(0,m.default)((0,l.default)(n),"submitEdit",function(){var s,e,t=n.state,r=t.edit,t=t.data;r.name?r.url?(s=r.uuid,t=(0,f.toJS)(t),""===s?t.data.push({uuid:(0,_.getTimestamp)(),name:r.name||"",url:r.url||"",sort:r.sort||"",active:1}):(e=t.data.findIndex(function(e){return e.uuid===s}),t.data[e]&&(t.data[e]=Object.assign({},t.data[e],r))),n.setState({data:t}),n.closeEdit(),n.updateOrigin(),e=n.params.subjectId,(0,x.t)("自定义跳转.保存",{subjectId:e})):(0,_.info)("命令不能为空"):(0,_.info)("描述不能为空")}),(0,m.default)((0,l.default)(n),"openEdit",function(e){n.setState({edit:Object.assign({},e,{show:!0})});e=n.params.subjectId;(0,x.t)("自定义跳转.编辑表单",{subjectId:e})}),(0,m.default)((0,l.default)(n),"closeEdit",function(){n.setState({edit:{show:!1,uuid:"",name:"",url:"",sort:0,active:1}});var e=n.params.subjectId;(0,x.t)("自定义跳转.关闭表单",{subjectId:e})}),(0,m.default)((0,l.default)(n),"disableItem",function(e){var s=e.uuid,e=n.state.data,e=(0,f.toJS)(e),t=e.data.find(function(e){return e.uuid===s}),t=(t&&(t.active=0),n.setState({data:e}),n.updateOrigin(),n.params.subjectId);(0,x.t)("自定义跳转.停用",{subjectId:t})}),(0,m.default)((0,l.default)(n),"activeItem",function(e){var s=e.uuid,e=n.state.data,e=(0,f.toJS)(e),t=e.data.find(function(e){return e.uuid===s}),t=(t&&(t.active=1),n.setState({data:e}),n.updateOrigin(),n.params.subjectId);(0,x.t)("自定义跳转.启用",{subjectId:t})}),(0,m.default)((0,l.default)(n),"deleteItem",function(e){var s=e.uuid;s&&(e=n.state.data,(e=(0,f.toJS)(e)).data=e.data.filter(function(e){return e.uuid!==s}),n.setState({data:e}),n.updateOrigin(),e=n.params.subjectId,(0,x.t)("自定义跳转.删除",{subjectId:e}))}),(0,m.default)((0,l.default)(n),"go",function(e){var s=e.url;s&&setTimeout(function(){try{(0,_.open)(s,!0)}catch(e){(0,_.info)("跳转协议解析出错, 请检查")}},1600)}),(0,m.default)((0,l.default)(n),"updateOrigin",function(){setTimeout(function(){var e=n.params.subjectId;e&&j.subjectStore.updateActions((0,m.default)({},e,n.data))},0)}),n}},"./src/screens/user/actions/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{scrollView:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.window.height/2}}})},"./src/screens/user/blogs/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/index.ts"),i=t("./src/utils/fetch/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return(0,d.jsx)(n.Header,{title:"用户日志",hm:[t.url,"Blogs"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("用户日志.右上角菜单",{key:e}),(0,o.open)(t.url))},children:(0,d.jsx)(n.Heatmap,{id:"用户日志.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/blogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/blogs/header/index.tsx#header"})}catch(e){}},"./src/screens/user/blogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),a=t("./src/utils/app/index.ts"),c=r(t("./src/screens/user/blogs/header/index.tsx")),r=r(t("./src/screens/user/blogs/store.ts")),u=t("./node_modules/react/jsx-runtime.js"),m={id:"用户日志.跳转"};s.default=(0,d.ic)(r.default,function(e,s){var t=s.$,r=s.navigation;return(0,l.useRunAfter)(function(){t.init()}),(0,l.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-user-blogs",children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(n.Page,{children:(0,u.jsx)(n.ListView,{keyExtractor:a.keyExtractor,data:t.blogs,scrollToTop:!0,renderItem:function(e){var s=e.item,e=e.index;return(0,u.jsx)(o.ItemBlog,Object.assign({navigation:r,event:m,index:e},s),s.userId)},onHeaderRefresh:t.refresh,onFooterRefresh:function(){return t.fetchBlogs()}})}),(0,u.jsx)(n.Heatmap,{bottom:i._.bottom,id:"用户日志",screen:"Blogs"})]})})});try{blogs.displayName="blogs",blogs.__docgenInfo={description:"",displayName:"blogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/blogs/index.tsx#blogs"]={docgenInfo:blogs.__docgenInfo,name:"blogs",path:"src/screens/user/blogs/index.tsx#blogs"})}catch(e){}},"./src/screens/user/blogs/store.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=t("./node_modules/mobx/dist/mobx.esm.js"),p=t("./src/stores/index.ts"),r=r(t("./src/utils/store/index.ts")),f=t("./src/constants/index.ts");function j(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}var _;s.default=(t=r.default,(0,d.default)(x,t),_=j(x),(0,o.default)(x,[{key:"userId",get:function(){return this.params.userId||p.userStore.myId}},{key:"blogs",get:function(){return p.usersStore.blogs(this.userId)}},{key:"url",get:function(){return(0,f.HTML_USERS_BLOGS)(this.userId)}}]),(0,u.default)((s=x).prototype,"userId",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,u.default)(s.prototype,"blogs",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,"blogs"),s.prototype),(0,u.default)(s.prototype,"url",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),s);function x(){var e;(0,n.default)(this,x);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=_.call.apply(_,[this].concat(t)),(0,c.default)((0,i.default)(e),"params",void 0),(0,c.default)((0,i.default)(e),"init",function(){return e.refresh()}),(0,c.default)((0,i.default)(e),"refresh",function(){return e.fetchBlogs(!0)}),(0,c.default)((0,i.default)(e),"fetchBlogs",function(){return p.usersStore.fetchBlogs({userId:e.userId},0<arguments.length&&void 0!==arguments[0]&&arguments[0])}),e}},"./src/screens/user/catalogs/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TABS=s.STATE=s.NAMESPACE=void 0;s.NAMESPACE="ScreenCatelogs",s.STATE={page:0,_loaded:!1},s.TABS=[{title:"创建的",key:"create"},{title:"收藏的",key:"collect"}]},"./src/screens/user/catalogs/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/index.ts"),i=t("./src/utils/fetch/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return(0,d.jsx)(n.Header,{title:"用户目录",hm:[t.url,"Board"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("用户目录.右上角菜单",{key:e}),(0,o.open)(t.url))},children:(0,d.jsx)(n.Heatmap,{id:"用户目录.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/catalogs/header/index.tsx#header"})}catch(e){}},"./src/screens/user/catalogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/hooks/index.ts"),l=r(t("./src/screens/user/catalogs/header/index.tsx")),a=r(t("./src/screens/user/catalogs/tabs/index.tsx")),r=r(t("./src/screens/user/catalogs/store.ts")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ic)(r.default,function(e,s){var t=s.$;return(0,d.useRunAfter)(function(){t.init()}),(0,d.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-catelogs",children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Page,{loaded:t.state._loaded,children:(0,c.jsx)(a.default,{})}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"用户目录",screen:"Catelogs"})]})})});try{catalogs.displayName="catalogs",catalogs.__docgenInfo={description:"",displayName:"catalogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/index.tsx#catalogs"]={docgenInfo:catalogs.__docgenInfo,name:"catalogs",path:"src/screens/user/catalogs/index.tsx#catalogs"})}catch(e){}},"./src/screens/user/catalogs/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.id,r=s.$;return(e=r.catalogs(t))._loaded?(0,l.jsx)(n.ListView,{style:i._.container.plain,contentContainerStyle:i._.container.bottom,keyExtractor:d.keyExtractor,data:e,scrollToTop:!0,renderItem:function(e){e=e.item;return(0,l.jsx)(o.ItemCatalog,Object.assign({},e,{isUser:!0,event:{id:"用户目录.跳转",data:{userId:r.userId}}}))},onHeaderRefresh:function(){return r.fetchCatalogs(t,!0)},onFooterRefresh:function(){return r.fetchCatalogs(t)}}):(0,l.jsx)(n.Loading,{style:i._.container.plain})})},"./src/screens/user/catalogs/store.ts":(e,s,t)=>{var i=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),o=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),r=r(t("./src/utils/store/index.ts")),_=t("./src/utils/fetch/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/catalogs/ds.ts");function g(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var h;s.default=(t=r.default,(0,o.default)(y,t),h=g(y),(0,n.default)(y,[{key:"userId",get:function(){var e=this.params.userId;return void 0===e?j.userStore.myId:e}},{key:"url",get:function(){return(0,x.HTML_USERS_CATALOGS)(this.userId)}},{key:"catalogs",value:function(e){return j.usersStore.catalogs(this.userId,"collect"===e)}},{key:"catalogDetail",value:function(e){return(0,f.computed)(function(){return j.discoveryStore.catalogDetail(e)}).get()}}]),(0,p.default)((s=y).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,p.default)(s.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),s);function y(){var o;(0,l.default)(this,y);for(var s,t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return o=h.call.apply(h,[this].concat(r)),(0,m.default)((0,a.default)(o),"params",void 0),(0,m.default)((0,a.default)(o),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,a.default)(o),"init",(0,d.default)(i.mark(function e(){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(b.NAMESPACE);case 2:return s=e.sent,o.setState(Object.assign({},s,{_loaded:!0})),s=o.state.page,s=b.TABS[s].key,e.abrupt("return",o.fetchCatalogs(s,!0));case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(o),"fetchCatalogs",(s=(0,d.default)(i.mark(function e(s){var t,r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1<n.length&&void 0!==n[1]&&n[1],t=j.usersStore.fetchCatalogs({userId:o.userId,isCollect:"collect"===s},t),e.next=4,t;case 4:return r=e.sent,r=r.list,(0,_.queue)(r.map(function(e){return function(){return o.fetchCatalogDetail(e.id)}})),e.abrupt("return",t);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,a.default)(o),"fetchCatalogDetail",(t=(0,d.default)(i.mark(function e(s){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j.discoveryStore.catalogDetail(s),t._loaded)return e.abrupt("return",!0);e.next=3;break;case 3:return e.abrupt("return",j.discoveryStore.fetchCatalogDetail({id:s}));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(o),"onChange",function(e){e!==o.state.page&&((0,_.t)("用户目录.标签页切换"),o.setState({page:e}),o.setStorage(b.NAMESPACE),o.tabChangeCallback(e))}),(0,m.default)((0,a.default)(o),"tabChangeCallback",function(e){e=b.TABS[e].key;o.catalogs(e)._loaded||o.fetchCatalogs(e,!0)}),o}},"./src/screens/user/catalogs/tabs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/catalogs/list/index.tsx")),l=t("./src/screens/user/catalogs/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=(s=s.$).state.page;return(0,a.jsx)(n.TabsV2,{routes:l.TABS,page:t,renderItem:function(e){return(0,a.jsx)(d.default,{id:e.key},e.key)},onChange:s.onChange},o._.orientation)});try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/user/catalogs/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/user/friends/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;s.NAMESPACE="ScreenFriends";t=s.EXCLUDE_STATE={filter:"",fetching:!1};s.STATE=Object.assign({sort:""},t,{_loaded:!1})},"./src/screens/user/friends/filter/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/friends/filter/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(0,a.memoStyles)(),r=(n=s.state).fetching,n=n.filter,o=s.friends.list;return(0,c.jsxs)(i.default,{style:t.filter,children:[(0,c.jsx)(d.Input,{style:t.input,clearButtonMode:"never",value:n,placeholder:o.length+"个好友",onChangeText:s.onFilterChange}),r&&(0,c.jsx)(i.default,{style:t.loading,children:(0,c.jsx)(d.Loading.Medium,{color:l._.colorSub,size:16})})]})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/friends/filter/index.tsx#filter"})}catch(e){}},"./src/screens/user/friends/filter/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{filter:{height:56,paddingVertical:10,paddingHorizontal:r._.wind,backgroundColor:r._.colorBg},input:Object.assign({height:36,paddingVertical:0},r._.fontSize(16),{fontWeight:"800",textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},loading:{position:"absolute",zIndex:2,top:20,right:16,width:44,height:44}}})},"./src/screens/user/friends/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/friends/sort/index.tsx")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)(function(e,s){var t=s.$;return(0,c.jsx)(n.Header,{title:"好友",headerTitleAlign:"left",headerTitleStyle:o._.ml._md,hm:[t.url,"Friends"],headerRight:function(){return(0,c.jsxs)(n.Flex,{children:[(0,c.jsx)(a.default,{$:t}),(0,c.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("好友.右上角菜单",{key:e}),(0,i.open)(t.url))},children:(0,c.jsx)(n.Heatmap,{id:"好友.右上角菜单"})})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/friends/header/index.tsx#header"})}catch(e){}},"./src/screens/user/friends/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),a=r(t("./src/screens/user/friends/header/index.tsx")),c=r(t("./src/screens/user/friends/filter/index.tsx")),u=t("./src/screens/user/friends/utils.tsx"),r=r(t("./src/screens/user/friends/store.ts")),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(r.default,function(e,s){var t=s.$;return(0,l.useRunAfter)(function(){t.init()}),(0,l.useObserver)(function(){return(0,m.jsxs)(n.Component,{id:"screen-friends",children:[(0,m.jsx)(a.default,{}),(0,m.jsxs)(n.Page,{children:[(0,m.jsx)(c.default,{}),(0,m.jsx)(o.PaginationList2,{keyExtractor:u.keyExtractor,data:t.list,scrollToTop:!0,renderItem:u.renderItem,onHeaderRefresh:t.onRefresh})]}),(0,m.jsx)(n.Heatmap,{bottom:i._.bottom+i._.sm,id:"好友",screen:"Friends"})]})})});try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/user/friends/index.tsx#friends"})}catch(e){}},"./src/screens/user/friends/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./node_modules/react/jsx-runtime.js"),i={id:"好友.跳转"};s.default=(0,r.obc)(function(e,s){var e=e.item,t=s.$,s=s.navigation,r=t.state.filter,t=t.users(e.userId);return(0,o.jsx)(n.ItemFriends,Object.assign({navigation:s,event:i},e,t,{filter:r}))})},"./src/screens/user/friends/sort/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/friends/sort/styles.ts"),d=t("./node_modules/react/jsx-runtime.js"),l=["默认","同步率","最近"];s.default=(0,r.ob)(function(e){var e=e.$,s=(t=e.state).sort,t=t._loaded;return(0,d.jsxs)(n.default,{children:[(0,d.jsx)(o.SegmentedControl,{style:i.styles.segment,size:11,values:l,selectedIndex:"percent"===s?1:"recent"===s?2:0,onValueChange:e.onSort},String(t)),(0,d.jsx)(o.Heatmap,{id:"好友.排序"})]})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenFriends"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/sort/index.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/friends/sort/index.tsx#sort"})}catch(e){}},"./src/screens/user/friends/sort/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({segment:{width:t._.r(168),height:t._.r(28),marginRight:t._.xs}})},"./src/screens/user/friends/store.ts":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),x=r(t("./src/utils/store/index.ts")),b=t("./src/utils/fetch/index.ts"),g=r(t("./src/utils/cache-manager/index.ts")),h=t("./src/constants/index.ts"),y=t("./src/screens/user/friends/utils.tsx"),v=t("./src/screens/user/friends/ds.ts");function S(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var O;s.default=(r=x.default,(0,a.default)(T,r),O=S(T),(0,n.default)(T,[{key:"userId",get:function(){return this.params.userId}},{key:"users",value:function(e){return(0,f.computed)(function(){return j.usersStore.users(e)}).get()}},{key:"friends",get:function(){return j.usersStore.friends(this.userId)}},{key:"list",get:function(){var t=this,e=v.NAMESPACE+"|list|"+this.userId;if(this.state.fetching&&g.default.get(e))return g.default.get(e);var s=this.friends.list,r=this.state,n=r.filter,r=r.sort,o=n.toUpperCase();return o.length&&(s=s.filter(function(e){e=e.userName;return!!e.includes(o)||(0,_.getPinYinFilterValue)(e,o)})),"percent"===r&&(s=s.slice().sort(function(e,s){return(0,_.desc)(e,s,function(e){return null==(e=t.users(e.userId))?void 0:e.percent})})),"recent"===r&&(s=s.slice().sort(function(e,s){return(0,y.sortByRecent)(t.users(e.userId).recent,t.users(s.userId).recent)})),g.default.set(e,s)}},{key:"url",get:function(){var e;return(0,h.HTML_FRIENDS)((null==(e=this.params)?void 0:e.userId)||j.userStore.myId)}}]),(0,p.default)((t=T).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,p.default)(t.prototype,"friends",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"friends"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function T(){var n;(0,d.default)(this,T);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=O.call.apply(O,[this].concat(s)),(0,m.default)((0,l.default)(n),"params",void 0),(0,m.default)((0,l.default)(n),"state",(0,f.observable)(v.STATE)),(0,m.default)((0,l.default)(n),"init",(0,i.default)(o.mark(function e(){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(v.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,n.setState(Object.assign({},s,v.EXCLUDE_STATE,{_loaded:!0})),e.next=9,n.fetchUsers();case 9:return n.onRefresh(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onRefresh",(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchFriends();case 2:return n.fetchUsersBatch(),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"fetchFriends",function(){return j.usersStore.fetchFriends({userId:n.userId})}),(0,m.default)((0,l.default)(n),"fetchUsers",function(){return j.usersStore.fetchUsers({userId:n.userId})}),(0,m.default)((0,l.default)(n),"fetchUsersBatch",(0,i.default)(o.mark(function e(){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.fetching)return e.abrupt("return",!1);e.next=3;break;case 3:return n.setState({fetching:!0}),r=[],n.list.forEach(function(e,s){var t=n.users(e.userId)._loaded;(!t||(0,_.getTimestamp)()-Number(t)>=60*(15+s))&&r.push(function(){return j.usersStore.fetchUsers({userId:e.userId})})}),e.next=8,(0,b.queue)(r);case 8:return n.setState({fetching:!1}),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onSort",function(e){(0,b.t)("好友.排序",{title:e});e="最近"===e?"recent":"同步率"===e?"percent":"";n.setState({sort:e}),n.setStorage(v.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onFilterChange",function(e){n.setState({filter:e.trim()})}),n}},"./src/screens/user/friends/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.keyExtractor=a,s.renderItem=l,s.sortByRecent=function(e,s){return e.includes("-")&&!s.includes("-")?1:!e.includes("-")&&s.includes("-")?-1:e.includes("-")&&s.includes("-")?(0,o.desc)((0,o.getTimestamp)(e)||0,(0,o.getTimestamp)(s)||0):(0,o.asc)((0,o.getRecentTimestamp)(e)||0,(0,o.getRecentTimestamp)(s)||0)},r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/index.ts"),i=r(t("./src/screens/user/friends/item/index.tsx")),d=t("./node_modules/react/jsx-runtime.js");function l(e){var s=e.item,e=e.index;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.default,{item:s}),!e&&(0,d.jsx)(n.Heatmap,{id:"好友.跳转"})]})}function a(e){return String(e.userId)}try{l.displayName="renderItem",l.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/utils.tsx#renderItem"]={docgenInfo:l.__docgenInfo,name:"renderItem",path:"src/screens/user/friends/utils.tsx#renderItem"})}catch(e){}try{a.displayName="keyExtractor",a.__docgenInfo={description:"",displayName:"keyExtractor",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/utils.tsx#keyExtractor"]={docgenInfo:a.__docgenInfo,name:"keyExtractor",path:"src/screens/user/friends/utils.tsx#keyExtractor"})}catch(e){}},"./src/screens/user/origin-setting/component/cloud/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Cloud")},"./src/screens/user/origin-setting/component/cloud/hooks.ts":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.useCloud=function(){var e=(0,l.useState)(""),e=(0,d.default)(e,2),s=e[0],n=e[1];return(0,m.useMount)(function(){setTimeout((0,i.default)(o.mark(function e(){var s,t,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=a.userStore.userInfo.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,p.get)("origin_"+s);case 6:if(t=e.sent)return n((0,c.date)("y-m-d H:i",null==t?void 0:t.ts)),e.abrupt("return");e.next=10;break;case 10:return e.next=12,(0,u.read)({path:"origin/"+s+".json"});case 12:t=e.sent,r=t.content,n((((null==r?void 0:r.length)||0)/1e3).toFixed(1)+" kb"),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(0);case 19:case"end":return e.stop()}},e,null,[[0,17]])})),2400)}),s},r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),l=t("./node_modules/react/index.js"),a=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),u=t("./src/utils/db/index.ts"),m=t("./src/utils/hooks/index.ts"),p=t("./src/utils/kv/index.ts")},"./src/screens/user/origin-setting/component/cloud/index.tsx":(e,s,t)=>{var i=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=(r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),a=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),m=t("./src/utils/dev/index.ts"),p=t("./src/utils/fetch/index.ts"),f=t("./src/utils/hooks/index.ts"),j=r(t("./src/constants/i18n/index.ts")),_=t("./src/screens/user/origin-setting/utils.ts"),x=t("./src/screens/user/origin-setting/component/cloud/hooks.ts"),b=t("./src/screens/user/origin-setting/component/cloud/ds.ts"),g=t("./src/screens/user/origin-setting/component/cloud/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");s.default=function(e){var s=e.isLogin,t=e.active,r=e.onToggle,n=e.onDownloaded,o=((0,m.r)(b.COMPONENT),(0,x.useCloud)());return(0,f.useObserver)(function(){var e=c.systemStore.setting.focusOrigin;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.ItemSettingBlock,{style:g.styles.container,title:"同步设置",size:20,children:[(0,h.jsx)(a.ItemSettingBlock.Item,{icon:"md-ios-share",iconStyle:{transform:[{rotate:"180deg"}]},title:"下载",information:o||!s&&"需"+j.default.login(),onPress:function(){if(!s)return(0,u.info)("下载需先"+j.default.login());setTimeout(function(){(0,u.confirm)("确定恢复到云端的设置?",(0,d.default)(i.mark(function e(){var s,t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,u.loading)("下载中..."),e.next=3,c.subjectStore.downloadOrigin();case 3:t=e.sent,s(),(0,u.feedback)(),(0,u.info)(t?"已恢复":"下载失败"),t&&(n(),(0,p.t)("自定义源头.下载"));case 8:case"end":return e.stop()}},e)})))},160)}}),(0,h.jsx)(a.ItemSettingBlock.Item,{style:c._.ml.md,icon:"md-ios-share",title:"上传",information:!s&&"需"+j.default.login(),onPress:function(){if(!s)return(0,u.info)("上传需先"+j.default.login());setTimeout(function(){(0,u.confirm)("确定上传当前设置到云端?",(0,d.default)(i.mark(function e(){var s,t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,u.loading)("上传中..."),e.next=3,c.subjectStore.uploadOrigin();case 3:t=e.sent,s(),(0,u.feedback)(),(0,u.info)(t?"已上传":"上传失败，云服务异常，请待作者修复"),t&&(0,p.t)("自定义源头.上传");case 8:case"end":return e.stop()}},e)})))},160)}})]}),(0,h.jsx)(a.ItemSetting,{style:g.styles.item,contentStyle:g.styles.content,hd:"突出显示源头按钮",ft:(0,h.jsx)(l.SwitchPro,{style:g.styles.switch,value:e,onSyncPress:function(){(0,p.t)("设置.切换",{title:" 突出源头按钮",checked:!e}),c.systemStore.switchSetting("focusOrigin")}}),thumb:(0,_.getYuqueThumbs)(["0/2024/png/386799/1705044747998-45792520-30b5-4079-8889-1eb471b977b1.png","0/2024/png/386799/1705044615611-9e2bf83f-d563-4e85-89c8-5a1136a08e6d.png"])}),(0,h.jsx)(a.ItemSetting,{style:g.styles.item,contentStyle:g.styles.content,hd:"显示所有项",ft:(0,h.jsx)(l.SwitchPro,{style:g.styles.switch,value:t,onSyncPress:r},t)}),(0,h.jsx)(l.Divider,{})]})})};try{cloud.displayName="cloud",cloud.__docgenInfo={description:"",displayName:"cloud",props:{isLogin:{defaultValue:null,description:"",name:"isLogin",required:!0,type:{name:"any"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"any"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"any"}},onDownloaded:{defaultValue:null,description:"",name:"onDownloaded",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/component/cloud/index.tsx#cloud"]={docgenInfo:cloud.__docgenInfo,name:"cloud",path:"src/screens/user/origin-setting/component/cloud/index.tsx#cloud"})}catch(e){}},"./src/screens/user/origin-setting/component/cloud/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({container:{paddingHorizontal:0,marginBottom:t._.md},item:{paddingLeft:0},content:{paddingRight:0},switch:{marginRight:-4,transform:[{scale:t._.device(.8,1.12)}]}})},"./src/screens/user/origin-setting/component/create/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Create")},"./src/screens/user/origin-setting/component/create/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/origin-setting/component/form/index.tsx")),r=t("./src/screens/user/origin-setting/component/create/ds.ts"),l=t("./src/screens/user/origin-setting/component/create/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=e.type,e=e.name,r=s.$,s=r.state.edit;return s.type===t&&""===s.item.id&&""===s.item.uuid?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.Text,{style:o._.mt.md,size:15,bold:!0,children:["添加",e,"源头"]}),(0,a.jsx)(d.default,{style:o._.mt.md,name:s.item.name,url:s.item.url})]}):(0,a.jsxs)(n.Button,{style:l.styles.btn,type:o._.select("ghostPlain","plain"),onPress:function(){return r.openEdit(t,{id:"",uuid:"",name:"",url:"",sort:0,active:1})},children:["添加",e,"源头"]})},r.COMPONENT)},"./src/screens/user/origin-setting/component/create/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({btn:{marginVertical:t._.md}})},"./src/screens/user/origin-setting/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/origin-setting/component/form/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Form")},"./src/screens/user/origin-setting/component/form/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),n=t("./src/screens/user/origin-setting/component/form/ds.ts"),m=t("./src/screens/user/origin-setting/component/form/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.style,t=void 0===t?void 0:t,r=e.name,r=void 0===r?"":r,n=e.url,n=void 0===n?"":n,e=e.isBase,e=void 0!==e&&e,o=s.$,s=(0,m.memoStyles)(),i=o.state.edit;return(0,p.jsxs)(l.Flex,{style:(0,u.stl)(s.form,t),align:"end",children:[(0,p.jsxs)(l.Flex.Item,{children:[(0,p.jsxs)(l.Text,{size:13,bold:!0,children:["名字",e&&(0,p.jsxs)(l.Text,{type:"sub",size:10,lineHeight:13,bold:!0,children:[" ","示例不允许修改"]})]}),(0,p.jsx)(l.Input,{style:[s.input,c._.mt.sm],defaultValue:String(r),placeholder:"菜单显示名称，唯一",onChangeText:e?void 0:function(e){return o.onChangeText("name",e)}}),(0,p.jsxs)(l.Text,{style:c._.mt.md,size:13,bold:!0,children:["网址",e&&(0,p.jsxs)(l.Text,{type:"sub",size:10,lineHeight:13,bold:!0,children:[" ","默认项不允许修改"]})]}),(0,p.jsxs)(l.Text,{style:c._.mt.sm,type:"sub",size:10,lineHeight:13,bold:!0,children:["支持参数：",(0,p.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[CN]"})," ","会被替换成条目中文名，",(0,p.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[JP]"})," ","日文名，",(0,p.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[CN_S2T]"})," ","中文繁体名，",(0,p.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[TIME]"})," ","时间戳，",(0,p.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[ID]"})," ","bgm条目id"]}),(0,p.jsx)(l.Input,{style:c._.mt.sm,defaultValue:String(n),multiline:!0,numberOfLines:4,textAlignVertical:"top",placeholder:"https://",onChangeText:e?void 0:function(e){return o.onChangeText("url",e)}}),(0,p.jsx)(l.Text,{style:c._.mt.md,size:13,bold:!0,children:"排序"}),(0,p.jsx)(l.Input,{style:[s.input,c._.mt.sm],value:String(i.item.sort),placeholder:"数字，越大越前，选填",keyboardType:"number-pad",onChangeText:function(e){return o.onChangeText("sort",e)}})]}),(0,p.jsx)(a.IconTouchable,{style:c._.ml.md,name:"md-check",size:22,color:c._.colorDesc,onPress:o.submitEdit}),(0,p.jsx)(d.default,{style:s.close,children:(0,p.jsx)(a.IconTouchable,{name:"md-close",size:22,color:c._.colorDesc,onPress:o.closeEdit})})]})},n.COMPONENT)},"./src/screens/user/origin-setting/component/form/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{form:{padding:12,paddingRight:8,marginBottom:r._.md,backgroundColor:r._.colorBg,borderColor:r._.colorBorder,borderWidth:1,borderRadius:r._.radiusSm,overflow:"hidden"},close:{position:"absolute",zIndex:1,top:4,right:8},input:{height:44,paddingVertical:0}}})},"./src/screens/user/origin-setting/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Item")},"./src/screens/user/origin-setting/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),x=r(t("./src/screens/user/origin-setting/component/form/index.tsx")),r=t("./src/screens/user/origin-setting/component/item/ds.ts"),b=t("./src/screens/user/origin-setting/component/item/styles.ts"),g=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.type,r=e.id,n=e.uuid,o=e.active,i=e.name,d=e.url,l=e.sort,a=s.$,e=[],s=!!r,c=!!o,u=(e.push(s?"编辑排序":"编辑",c?"停用":"启用"),s||e.push("删除"),e.push("测试"),a.state.edit),u=u.type===t&&(r&&u.item.id===r||n&&u.item.uuid===n);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(p.Flex,{style:(0,_.stl)(b.styles.item,!c&&b.styles.disabled),children:[(0,g.jsxs)(p.Flex.Item,{children:[(0,g.jsxs)(p.Text,{size:15,bold:!0,children:[i,s&&(0,g.jsxs)(p.Text,{type:"sub",size:10,lineHeight:15,bold:!0,children:[" ","示例"]})]}),(0,g.jsxs)(p.Flex,{style:j._.mt.sm,children:[0<=l&&(0,g.jsx)(f.Tag,{style:j._.mr.sm,value:l}),(0,g.jsx)(p.Flex.Item,{children:(0,g.jsx)(p.Text,{size:12,type:"sub",numberOfLines:1,children:d})})]})]}),c&&(0,g.jsx)(f.Tag,{style:j._.ml.md,value:"生效"}),(0,g.jsx)(f.Popover,{style:j._.ml.md,data:e,onSelect:function(e){switch(e){case"编辑排序":a.openEdit(t,{id:r,uuid:"",name:i,url:d,sort:l,active:o});break;case"编辑":a.openEdit(t,{id:"",uuid:n,name:i,url:d,sort:l,active:o});break;case"删除":(0,_.confirm)("确定删除 ["+i+"] ?",function(){a.deleteItem({uuid:n,type:t})});break;case"停用":a.disableItem({id:r,uuid:n,type:t});break;case"启用":a.activeItem({id:r,uuid:n,type:t});break;case"测试":a.go({type:t,url:d})}},children:(0,g.jsx)(m.default,{style:b.styles.touch,children:(0,g.jsx)(p.Iconfont,{name:"md-more-vert",color:j._.colorDesc})})})]}),u&&(0,g.jsx)(x.default,{name:i,url:d,isBase:s})]})},r.COMPONENT)},"./src/screens/user/origin-setting/component/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{marginVertical:t._.md},touch:{padding:t._.sm,marginRight:-t._.sm},disabled:{opacity:.5}})},"./src/screens/user/origin-setting/component/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"List")},"./src/screens/user/origin-setting/component/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/origin-setting/ds.ts"),l=r(t("./src/screens/user/origin-setting/component/create/index.tsx")),a=r(t("./src/screens/user/origin-setting/component/item/index.tsx")),c=r(t("./src/screens/user/origin-setting/component/title/index.tsx")),r=t("./src/screens/user/origin-setting/component/list/ds.ts"),u=t("./src/screens/user/origin-setting/component/list/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=s.$,r=t.state.active;return(0,m.jsx)(m.Fragment,{children:d.TYPES_DS.map(function(s,e){return(0,m.jsxs)(n.default,{children:[!!e&&(0,m.jsx)(o.Divider,{}),(0,m.jsx)(c.default,{type:s.type,name:s.name}),(0,m.jsxs)(n.default,{style:u.styles.list,children:[t.data[s.type].filter(function(e){return!!r||e.active}).map(function(e){return(0,m.jsx)(a.default,Object.assign({},e,{type:s.type}),e.id+"|"+e.uuid)}),(0,m.jsx)(l.default,{type:s.type,name:s.name})]})]},s.type)})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/origin-setting/component/list/index.tsx#list"})}catch(e){}},"./src/screens/user/origin-setting/component/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({list:{minHeight:80,marginTop:t._.md}})},"./src/screens/user/origin-setting/component/title/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Title")},"./src/screens/user/origin-setting/component/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.find.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),n=t("./src/screens/user/origin-setting/component/title/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.type,e=e.name,r=s.$,n=r.data[t].filter(function(e){return 1===e.active}),s=n.map(function(e){return e.name});return(0,l.jsxs)(o.Flex,{children:[(0,l.jsx)(o.Flex.Item,{children:(0,l.jsx)(o.Text,{size:20,bold:!0,children:e})}),(0,l.jsx)(i.Popover,{style:d._.ml.md,data:s.length?s:["空"],onSelect:function(s){var e;"空"!==s&&(e=n.find(function(e){return e.name===s}),r.go({type:t,url:e.url}))},children:(0,l.jsx)(o.Iconfont,{name:"md-airplay",size:20,color:d._.colorDesc})})]})},n.COMPONENT)},"./src/screens/user/origin-setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TYPES_DS=s.STATE=s.SITES_WENKU=s.SITES_REAL=s.SITES_NSFW=s.SITES_MUSIC=s.SITES_MANGA=s.SITES_GAME=s.SITES_ANIME=s.NAMESPACE=s.COMPONENT=void 0;s.COMPONENT="OriginSetting",s.NAMESPACE="ScreenOriginSetting",s.STATE={data:{base:{},custom:{anime:[],hanime:[],manga:[],wenku:[],music:[],game:[],real:[]}},edit:{type:"",item:{id:"",uuid:"",name:"",url:"",sort:0,active:1}},active:!0,_loaded:!1},s.TYPES_DS=[{type:"anime",name:"动画",test:{CN:"电锯人",JP:"チェンソーマン",ID:321885}},{type:"hanime",name:"NSFW",test:{CN:"缘之空",JP:"ヨスガノソラ",ID:7157}},{type:"manga",name:"漫画",test:{CN:"蓦然回首",JP:"ルックバック",ID:342254}},{type:"wenku",name:"小说",test:{CN:"来自新世界",JP:"新世界より",ID:37782}},{type:"music",name:"音乐",test:{CN:"One Last Kiss",JP:"One Last Kiss",ID:321924}},{type:"game",name:"游戏",test:{CN:"艾尔登法环",JP:"ELDEN RING",ID:284100}},{type:"real",name:"三次元",test:{CN:"边缘世界",JP:"The Peripheral",ID:403404}}],s.SITES_ANIME=[{id:"anime|dmys3",name:"大米星球",url:"https://dmys3.com/vodsearch/-------------.html?wd=[CN]",sort:0,active:1},{id:"anime|libvio",name:"LIBVIO",url:"https://www.libvio.me/search/-------------.html?wd=[CN]",sort:0,active:0},{id:"anime|pixivel",name:"pixivel.moe",url:"https://pixivel.moe/search?keyword=[JP]&mode=tag&features=sortpop",sort:0,active:0},{id:"anime|cupfox",name:"茶杯狐",url:"https://www.cupfox.app/search?key=[CN]",sort:0,active:0},{id:"anime|mx",name:"MX动漫",url:"http://www.mxdm8.com/search/[CN]-------------.html",sort:0,active:0},{id:"anime|anime1",name:"Anime1",url:"https://anime1.me/?s=[CN_S2T]",sort:0,active:0},{id:"anime|moe",name:"萌番组",desc:"复制当前[CN]后跳转，请自行粘贴搜索",url:"https://bangumi.moe/search/index",sort:0,active:0}],s.SITES_NSFW=[{id:"hanime|hanime1",name:"Hanime1",url:"https://hanime1.me/search?query=[JP]",sort:0,active:1}],s.SITES_MANGA=[{id:"manga|moxmoe",name:"[DL] Kox.moe",url:"https://kox.moe/list.php?s=[CN]",sort:0,active:1},{id:"manga|dlraw",name:"[DL] Dl-Raw",url:"https://dl-raw.net/?s=[JP]",sort:0,active:0}],s.SITES_WENKU=[{id:"wenku|linovelib",name:"哔哩轻小说",url:"https://w.linovelib.com/S8/?searchkey=[CN]&searchtype=all",sort:0,active:1}],s.SITES_MUSIC=[{id:"music|163",name:"网易云",url:"https://www.baidu.com/s?word=site%3Amusic.163.com+%E4%B8%93%E8%BE%91+[JP]",sort:0,active:1},{id:"music|qq",name:"QQ音乐",url:"https://www.baidu.com/s?word=site%3Ay.qq.com+%E4%B8%93%E8%BE%91+[JP]",sort:0,active:1},{id:"music|bilibili",name:"bilibili",url:"https://search.bilibili.com/all?keyword=[JP]&from_source=nav_suggest_new&order=stow&duration=0&tids_1=3",sort:0,active:1},{id:"music|minimummusic",name:"[DL] MinimumMusic",url:"https://minimummusic.com/?s=[JP]",sort:0,active:1}],s.SITES_GAME=[{id:"game|vndb",name:"GAL vndb.org",url:"https://vndb.org/v?sq=[JP]",sort:0,active:1},{id:"game|psnine",name:"PSNINE",url:"https://psnine.com/psngame?title=[CN]",sort:0,active:1},{id:"game|gcore",name:"机核GCORES",url:"https://www.gcores.com/search?keyword=[CN]&tab=all",sort:0,active:1},{id:"game|switch520",name:"[DL] switch520",url:"https://www.gamer520.com/?s=[CN]",sort:0,active:1},{id:"game|vgtime",name:"VGTIME",url:"https://www.vgtime.com/search/list.jhtml?keyword=[CN]",sort:0,active:0}],s.SITES_REAL=[{id:"real|libvio",name:"LIBVIO",url:"https://www.libvio.me/search/-------------.html?wd=[CN]",sort:0,active:1},{id:"anime|dmys3",name:"大米星球",url:"https://dmys3.com/vodsearch/-------------.html?wd=[CN]",sort:0,active:1},{id:"real|cupfox",name:"茶杯狐",url:"https://www.cupfox.app/search?key=[CN]",sort:0,active:0},{id:"real|dianyinggou",name:"电影狗",url:"https://www.dianyinggou.com/so/[CN]",sort:0,active:0}]},"./src/screens/user/origin-setting/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/origin-setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Header")},"./src/screens/user/origin-setting/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/utils/fetch/index.ts"),i=t("./src/screens/user/origin-setting/header/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.navigation;return(0,d.jsx)(n.Header,{title:"自定义源头",hm:["origin-setting","OriginSetting"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["说明"],onSelect:function(e){(0,o.t)("自定义源头.右上角菜单",{key:e}),"说明"===e&&t.push("Tips",{key:"qcgrso5g70d6gusf"})},children:(0,d.jsx)(n.Heatmap,{id:"自定义源头.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/origin-setting/header/index.tsx#header"})}catch(e){}},"./src/screens/user/origin-setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/origin-setting/component/cloud/index.tsx")),l=r(t("./src/screens/user/origin-setting/component/list/index.tsx")),a=r(t("./src/screens/user/origin-setting/header/index.tsx")),r=r(t("./src/screens/user/origin-setting/store.ts")),c=t("./src/screens/user/origin-setting/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,i.useRunAfter)(function(){t.init()}),(0,i.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-origin-setting",children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(n.Page,{loaded:t.state._loaded,children:(0,u.jsxs)(n.ScrollView,{contentContainerStyle:(0,c.memoStyles)().scrollView,children:[(0,u.jsx)(d.default,{isLogin:t.isLogin,active:t.state.active,onToggle:t.onToggle,onDownloaded:t.init}),(0,u.jsx)(l.default,{})]})})]})})});try{originsetting.displayName="originsetting",originsetting.__docgenInfo={description:"",displayName:"originsetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/index.tsx#originsetting"]={docgenInfo:originsetting.__docgenInfo,name:"originsetting",path:"src/screens/user/origin-setting/index.tsx#originsetting"})}catch(e){}},"./src/screens/user/origin-setting/store.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=n(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),x=t("./src/utils/fetch/index.ts"),n=n(t("./src/utils/store/index.ts")),b=t("./src/screens/user/origin-setting/utils.ts"),g=t("./src/screens/user/origin-setting/ds.ts");function h(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var y;s.default=(t=n.default,(0,a.default)(v,t),y=h(v),(0,i.default)(v,[{key:"data",get:function(){var e=this.state.data;return(0,b.getOriginConfig)(e)}},{key:"isLogin",get:function(){return!!j.userStore.userInfo.id}}]),(0,p.default)((s=v).prototype,"data",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"data"),s.prototype),(0,p.default)(s.prototype,"isLogin",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isLogin"),s.prototype),s);function v(){var i;(0,d.default)(this,v);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return i=y.call.apply(y,[this].concat(s)),(0,m.default)((0,l.default)(i),"state",(0,f.observable)(g.STATE)),(0,m.default)((0,l.default)(i),"init",(0,o.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(g.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:s=e.t0,i.setState({data:(0,f.toJS)(j.subjectStore.origin),active:(null==s?void 0:s.active)||!1,_loaded:(0,_.getTimestamp)()});case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"onToggle",function(){var e=i.state.active;i.setState({active:!e}),i.setStorage(g.NAMESPACE)}),(0,m.default)((0,l.default)(i),"updateOrigin",function(){setTimeout(function(){var e=i.state.data;j.subjectStore.updateOrigin(e)},0)}),(0,m.default)((0,l.default)(i),"openEdit",function(e,s){i.setState({edit:{type:e,item:s}}),(0,x.t)("自定义源头.编辑表单",{type:e})}),(0,m.default)((0,l.default)(i),"closeEdit",function(){i.setState({edit:{type:"",item:{id:"",uuid:"",name:"",url:"",sort:0,active:1}}}),(0,x.t)("自定义源头.关闭表单")}),(0,m.default)((0,l.default)(i),"onChangeText",function(e,s){var t=i.state.edit,s=s.trim();"sort"===e&&(s=isNaN(Number(s))?0:Number(s)),i.setState({edit:Object.assign({},t,{item:Object.assign({},t.item,(0,m.default)({},e,s))})})}),(0,m.default)((0,l.default)(i),"submitEdit",function(){var e=i.state,s=e.edit,e=e.data,t=s.type,s=s.item,r=s.id,n=s.uuid;if(""===r&&""===n){if(!s.name)return void(0,_.info)("名字不能为空");if(!s.url)return void(0,_.info)("网址不能为空");(o=(0,f.toJS)(e)).custom[t].push({uuid:(0,_.getTimestamp)(),name:s.name||"",url:s.url||"",sort:s.sort||0,active:1})}else if(r)(o=(0,f.toJS)(e)).base[r]?o.base[r]=Object.assign({},o.base[r],{sort:s.sort}):o.base[r]={sort:s.sort};else{if(!s.name)return void(0,_.info)("名字不能为空");if(!s.url)return void(0,_.info)("网址不能为空");var o,r=(o=(0,f.toJS)(e)).custom[t].findIndex(function(e){return e.uuid===n});o.custom[t][r]&&(o.custom[t][r]=Object.assign({},o.custom[t][r],s))}i.setState({data:o}),i.closeEdit(),i.updateOrigin(),(0,x.t)("自定义源头.保存源头",{type:t})}),(0,m.default)((0,l.default)(i),"disableItem",function(e){var s,t=e.id,r=e.uuid,e=e.type;e&&(s=i.state.data,s=(0,f.toJS)(s),t?s.base[t]?s.base[t]=Object.assign({},s.base[t],{active:0}):s.base[t]={active:0}:(t=s.custom[e].find(function(e){return e.uuid===r}))&&(t.active=0),i.setState({data:s}),i.updateOrigin(),(0,x.t)("自定义源头.停用源头",{type:e}))}),(0,m.default)((0,l.default)(i),"activeItem",function(e){var s,t=e.id,r=e.uuid,e=e.type;e&&(s=i.state.data,s=(0,f.toJS)(s),t?s.base[t]?s.base[t]=Object.assign({},s.base[t],{active:1}):s.base[t]={active:1}:(t=s.custom[e].find(function(e){return e.uuid===r}))&&(t.active=1),i.setState({data:s}),i.updateOrigin(),(0,x.t)("自定义源头.启用源头",{type:e}))}),(0,m.default)((0,l.default)(i),"deleteItem",function(e){var s,t=e.uuid,e=e.type;t&&e&&(s=i.state.data,(s=(0,f.toJS)(s)).custom[e]=s.custom[e].filter(function(e){return e.uuid!==t}),i.setState({data:s}),i.updateOrigin())}),(0,m.default)((0,l.default)(i),"go",function(e){var s,t,r=e.type,e=e.url;r&&e&&(s=g.TYPES_DS.find(function(e){return e.type===r}).test,t=(0,b.replaceOriginUrl)(e,s))&&((e=j.systemStore.setting.openInfo)&&(0,_.copy)(t,"已复制地址"),setTimeout(function(){try{(0,_.open)(t)}catch(e){(0,_.info)("网址解析出错, 请检查")}},e?1600:0))}),i}},"./src/screens/user/origin-setting/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{scrollView:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.window.height/2}}})},"./src/screens/user/origin-setting/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.getBaseOriginConfig=c,s.getOriginConfig=function(e,t){var e=(0,i.toJS)(e),s=e.base,r=void 0===s?{}:s,s=e.custom,n=void 0===s?{}:s,o=c();return Object.keys(o).forEach(function(e){var s;void 0!==t&&t!==e||((s=o[e]).forEach(function(e){var s;"object"==typeof(null==r?void 0:r[e.id])&&(void 0!==(s=r[e.id]).sort&&(e.sort=s.sort),void 0!==s.active)&&(e.active=s.active)}),Array.isArray(null==n?void 0:n[e])&&n[e].forEach(function(e){s.push(e)}),o[e]=s.slice().sort(function(e,s){return(0,d.desc)(e.sort,s.sort)}).sort(function(e,s){return(0,d.desc)(e.active,s.active)}))}),void 0!==t&&t?o[t]:o},s.getYuqueThumbs=function(e){return!!e&&e.map(function(e){return{url:"https://cdn.nlark.com/yuque/"+e}})},s.replaceOriginUrl=function(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\[CN\]/g,encodeURIComponent(s.CN)).replace(/\[JP\]/g,encodeURIComponent(s.JP)).replace(/\[CN_S2T\]/g,encodeURIComponent((0,o.s2t)(s.CN))).replace(/\[TIME\]/g,String((0,d.getTimestamp)())).replace(/\[ID\]/g,String(s.ID))},r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=t("./node_modules/mobx/dist/mobx.esm.js"),d=t("./src/utils/index.ts"),o=t("./src/utils/thirdParty/cn-char/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/user/origin-setting/ds.ts");function c(){return{anime:[{id:"anime|age",name:"AGE动漫",url:(0,l.SITE_AGEFANS)()+"/search?query=[CN]&page=1",sort:0,active:1}].concat((0,n.default)(a.SITES_ANIME)),hanime:(0,n.default)(a.SITES_NSFW),manga:[{id:"manga|wnacg",name:"绅士漫画",url:(0,l.SITE_WNACG)()+"/search/?q=[CN]&f=_all&s=create_time_DESC",sort:0,active:1},{id:"manga|mangabz",name:"Mangabz",url:(0,l.SITE_MANGABZ)()+"/search?title=[CN]",sort:0,active:1}].concat((0,n.default)(a.SITES_MANGA)),wenku:[{id:"wenku|wk8",name:"轻小说文库",url:(0,l.SITE_WK8)()+"/modules/article/search.php?searchtype=articlename&searchkey=[CN]",sort:0,active:1}].concat((0,n.default)(a.SITES_WENKU)),music:(0,n.default)(a.SITES_MUSIC),game:(0,n.default)(a.SITES_GAME),real:(0,n.default)(a.SITES_REAL)}}},"./src/screens/user/pm/chat/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/screens/_/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/pm/chat/styles.ts"),c=t("./node_modules/react/jsx-runtime.js"),u={id:"短信.跳转"};s.default=(0,r.obc)(function(e,s){var n=s.$,s=(0,a.memoStyles)(),o=n.pmDetail.list;return(0,c.jsxs)(i.default,{style:s.container,children:[(0,c.jsx)(d.Text,{size:12,type:"sub",align:"center",children:!!o.length&&o[0].date}),o.map(function(e,s){var t=0===s?{}:o[s-1],r=e.userId===n.myId;return(0,c.jsx)(l.ItemSay,{event:u,index:s,position:r?"right":"left",avatar:e.avatar,showName:t.name!==e.name,name:e.name,text:e.content,id:e.userId,time:e.time,format:!1})})]})});try{chat.displayName="chat",chat.__docgenInfo={description:"",displayName:"chat",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/chat/index.tsx#chat"]={docgenInfo:chat.__docgenInfo,name:"chat",path:"src/screens/user/pm/chat/index.tsx#chat"})}catch(e){}},"./src/screens/user/pm/chat/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingHorizontal:r._.wind}}})},"./src/screens/user/pm/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=void 0;s.STATE={title:"",value:"",placeholder:"",replySub:"",message:"",_loaded:!1}},"./src/screens/user/pm/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),u=t("./src/utils/fetch/index.ts"),m=r(t("./src/utils/thirdParty/html-entities-decoder.ts")),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t,r,n,o=s.$,i=o.pmDetail.list,s="";try{s=(s=null==i||null==(t=i[0])||null==(r=t.content)||null==(n=r.match(/<strong>(.*?)<\/strong>/))?void 0:n[1])&&(0,m.default)(s)}catch(e){}return(0,p.jsx)(d.Header,{title:"短信"+(i.length?" ("+i.length+")":"")+(s?" · "+s:""),hm:["pm","PM"],headerTitleAlign:"left",headerRight:function(){return(0,p.jsxs)(d.Flex,{children:[10<=i.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.IconTouchable,{style:a._.mr._xs,name:"md-keyboard-arrow-up",size:24,color:a._.colorTitle,onPress:function(){o.scrollToTop(o.scrollViewRef,!0)}}),(0,p.jsx)(l.IconTouchable,{name:"md-keyboard-arrow-down",size:24,color:a._.colorTitle,onPress:function(){o.scrollToBottom(o.scrollViewRef,!0)}})]}),(0,p.jsx)(d.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,u.t)("短信.右上角菜单",{key:e}),(0,c.open)(o.url))},children:(0,p.jsx)(d.Heatmap,{id:"短信.右上角菜单"})})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/pm/header/index.tsx#header"})}catch(e){}},"./src/screens/user/pm/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Heatmap,{bottom:o._.bottom,id:"短信",screen:"Say"}),(0,i.jsx)(n.Heatmap,{right:67,bottom:o._.bottom,id:"短信.显示评论框",transparent:!0}),(0,i.jsx)(n.Heatmap,{right:67,bottom:o._.bottom-68,id:"短信.回复短信",transparent:!0})]})})},"./src/screens/user/pm/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/pm/header/index.tsx")),l=r(t("./src/screens/user/pm/page/index.tsx")),a=r(t("./src/screens/user/pm/heatmaps/index.tsx")),r=r(t("./src/screens/user/pm/store.tsx")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,i.useRunAfter)(function(){t.init()}),(0,i.useKeyboardAdjustResize)(),(0,i.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-pm",children:[(0,c.jsx)(d.default,{}),(0,c.jsx)(l.default,{}),(0,c.jsx)(a.default,{})]})})});try{pm.displayName="pm",pm.__docgenInfo={description:"",displayName:"pm",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/index.tsx#pm"]={docgenInfo:pm.__docgenInfo,name:"pm",path:"src/screens/user/pm/index.tsx#pm"})}catch(e){}},"./src/screens/user/pm/page/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),f=t("./src/components/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/decorators/index.ts"),x=t("./src/constants/index.ts"),b=r(t("./src/screens/user/pm/chat/index.tsx")),g=t("./src/screens/user/pm/page/styles.tsx"),h=t("./node_modules/react/jsx-runtime.js");function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),v=y(S),(0,o.default)(S,[{key:"componentDidMount",value:function(){this.context.$.init(this.scrollView)}},{key:"componentWillUnmount",value:function(){this.context.$.scrollViewRef=null}},{key:"renderNewForm",value:function(){var e=this.context.$.params,s=e.userId,e=e.userName;return s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.default,{style:this.styles.form,children:(0,h.jsxs)(f.Text,{children:["收件人: ",e]})}),(0,h.jsx)(f.Input,{style:this.styles.ipt,placeholder:"输入标题",onChange:this.onTitleChange})]}):null}},{key:"render",value:function(){var e=this.context.$,s=e.state.value;return(0,h.jsxs)(f.Page,{style:j._.container.screen,children:[e.pmParams._loaded||e.pmDetail._loaded?(0,h.jsx)(p.default,Object.assign({ref:this.connectRefScrollView,style:j._.container.screen,contentContainerStyle:j._.container.bottom},x.SCROLL_VIEW_RESET_PROPS,{children:(0,h.jsx)(b.default,{})})):(0,h.jsx)(f.Loading,{}),(0,h.jsx)(f.FixedTextarea,{placeholder:"回复",value:s,onChange:e.onChange,onClose:e.closeFixedTextarea,onSubmit:this.onSubmit,children:this.renderNewForm()})]})}},{key:"styles",get:function(){return(0,g.memoStyles)()}}]);var v,t=S;function S(){var r;(0,n.default)(this,S);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=v.call.apply(v,[this].concat(s)),(0,c.default)((0,i.default)(r),"scrollView",void 0),(0,c.default)((0,i.default)(r),"connectRefScrollView",function(e){e&&(r.context.$.scrollViewRef=e,r.scrollView=e)}),(0,c.default)((0,i.default)(r),"onTitleChange",function(e){var s=r.context.$,e=e.nativeEvent.text;s.onTitleChange(e)}),(0,c.default)((0,i.default)(r),"onSubmit",function(e){var s=r.context,t=s.$,s=s.navigation;return t.doSubmit(e,r.scrollView,s)}),r}s.default=(0,_.obc)(t);try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/page/index.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/pm/page/index.tsx#page"})}catch(e){}},"./src/screens/user/pm/page/styles.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{form:{paddingVertical:r._.md,paddingHorizontal:r._.wind},ipt:{height:48,paddingVertical:0,paddingHorizontal:r._.wind,borderRadius:0}}})},"./src/screens/user/pm/store.tsx":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),r=r(t("./src/utils/store/index.ts")),x=t("./src/utils/fetch/index.ts"),b=t("./src/constants/index.ts"),g=t("./src/screens/user/pm/ds.ts");function h(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var y;s.default=(t=r.default,(0,a.default)(v,t),y=h(v),(0,n.default)(v,[{key:"pmDetail",get:function(){var e=this.params.id;return j.userStore.pmDetail(e)}},{key:"pmParams",get:function(){var e=this.params.userId;return j.userStore.pmParams(e)}},{key:"myId",get:function(){return j.userStore.myId}},{key:"url",get:function(){var e=this.params.id;return(0,b.HTML_PM_DETAIL)(e)}}]),(0,p.default)((s=v).prototype,"pmDetail",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"pmDetail"),s.prototype),(0,p.default)(s.prototype,"pmParams",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"pmParams"),s.prototype),(0,p.default)(s.prototype,"myId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"myId"),s.prototype),(0,p.default)(s.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),s);function v(){var r;(0,d.default)(this,v);for(var s,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=y.call.apply(y,[this].concat(t)),(0,m.default)((0,l.default)(r),"params",void 0),(0,m.default)((0,l.default)(r),"state",(0,f.observable)(g.STATE)),(0,m.default)((0,l.default)(r),"scrollViewRef",null),(0,m.default)((0,l.default)(r),"init",(s=(0,i.default)(o.mark(function e(s){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&(r.scrollViewRef=s),r.params.userId)return e.abrupt("return",r.fetchPMParams());e.next=4;break;case 4:return r.pmDetail._loaded&&r.scrollToBottom(r.scrollViewRef),e.next=8,r.fetchPMDetail();case 8:return setTimeout(function(){r.scrollToBottom(r.scrollViewRef)},320),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,l.default)(r),"fetchPMParams",function(){var e=r.params.userId;return j.userStore.fetchPMParams({userId:e})}),(0,m.default)((0,l.default)(r),"fetchPMDetail",function(){var e=r.params.id;return j.userStore.fetchPMDetail({id:e})}),(0,m.default)((0,l.default)(r),"scrollToBottom",function(e){var s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=e&&e.scrollToEnd&&setTimeout(function(){try{e.scrollToEnd({animated:s,duration:640})}catch(e){}},160)}),(0,m.default)((0,l.default)(r),"scrollToTop",function(e){var s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=e&&e.scrollTo&&setTimeout(function(){try{e.scrollTo({x:0,y:0,animated:s,duration:640})}catch(e){}},160)}),(0,m.default)((0,l.default)(r),"closeFixedTextarea",function(){(0,x.t)("短信.显示评论框"),r.setState({placeholder:"",replySub:"",message:""})}),(0,m.default)((0,l.default)(r),"onTitleChange",function(e){return r.setState({title:e})}),(0,m.default)((0,l.default)(r),"onChange",function(e){return r.setState({value:e})}),(0,m.default)((0,l.default)(r),"doSubmit",function(e,s,t){if(r.params.userId)return r.pmParams.formhash?void r.doCreate(e,t):void(0,_.info)("获取表单授权码失败");t=r.pmDetail.form,t=void 0===t?{}:t;null!=t&&t.formhash?r.doReply(e,s):(0,_.info)("获取表单授权码失败, 需要别人回复过才能继续发送")}),(0,m.default)((0,l.default)(r),"doCreate",function(e,s){(0,x.t)("短信.新短信");var t=r.state.title;j.userStore.doPM(Object.assign({msg_title:t,msg_body:e,submit:"发送"},r.pmParams),(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,_.feedback)(),r.setState({title:"",value:""}),s.goBack(),s.push("Notify",{type:"out"});case 4:case"end":return e.stop()}},e)})))}),(0,m.default)((0,l.default)(r),"doReply",function(e,s){(0,x.t)("短信.回复短信");var t=r.pmDetail.form;j.userStore.doPM(Object.assign({msg_body:e,chat:"on",submit:"回复"},void 0===t?{}:t),(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({value:""}),e.next=3,r.fetchPMDetail();case 3:(0,_.feedback)(),s&&s.scrollToEnd&&setTimeout(function(){s.scrollToEnd()},0);case 5:case"end":return e.stop()}},e)})))}),r}},"./src/screens/user/qiafan/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),d=t("./src/utils/hooks/index.ts"),l=t("./src/screens/user/qiafan/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=function(){return(0,d.useObserver)(function(){return(0,a.jsxs)(n.Component,{id:"screen-qiafan",children:[(0,a.jsx)(n.Header,{title:"关于",hm:["qiafan","Qiafan"]}),(0,a.jsxs)(n.ScrollView,{style:o._.container.plain,contentContainerStyle:[o._.container.wind,o._.container.bottom],children:[(0,a.jsx)(n.Text,{lineHeight:16,children:"　　自 19 年 2 月以来项目已持续开发超过 4 年。最初仅是为练手，是第一次做 App，后来发现很有趣便一直开发至今。回头一看，已有 1500 次代码提交，超过 100 万行代码的增删改，150 多次版本发布，用爱发电时间超过 1 万小时。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　不得不说 App 比网页难做太多了，很多正常的功能比如图片加载、网络并发请求，浏览器直接就能提供最优解，而 App 内几乎一切都是刀耕火种。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　目前功能已经是够用的，再做更多功能也仅仅是画蛇添足罢了，所以后续方向是倾向于用户反馈和网页的新增功能。最近 v7.5 之后的一直在优化迭代一些几年前的代码，这个过程复杂又容易出错，但总算是挺过来了。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　作为一个第三方客户端，相较于网页版 bgm.tv 在出发点上可能会存在分歧，App 的主要目的还是让用户能发现喜欢的番剧，所以在聚合各种元素，无任欢迎提各种意见和需求。"}),(0,a.jsxs)(n.Text,{style:o._.mt.sm,lineHeight:16,children:["　　",(0,a.jsxs)(n.Text,{bold:!0,lineHeight:16,underline:!0,children:["好看 ",">>"," 好用 ",">"," 速度 ",">>>"," 稳定性"]})," ","一直都是本 App 的开发理念。若不能接受崩溃，网页版可能更适合你。"]}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　您的支持就是作者继续开发下去的动力，觉得好用的不忘到 Github 上给星星，这些无形的资产绝对会对作者日后的职业生涯产生重要的帮助。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　2022 年以来，因各种你懂的原因，且不说开发新功能，有时候因很多突发的问题，维护 App 的正常使用就已经使人力不从心。目前有打算使用一点资金，在后续的版本中提供更加快速稳定的内容访问服务。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　最近有被人说我是网络乞丐，我寻思我也没赚到多少 (笑哭)。作者把 3 年间绝大部分的业余时间都投入到了开发里面，95% 以上的功能都是免费更新的，就算是余下的 5% 非免费功能也是在一定程度上免费提供使用，你要是还有意见那就是你对。后续会开发更多的专属于会员的服务，因为巧妇难为无米之炊。"}),(0,a.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,align:"right",children:"　　最后编辑∶2023-04-20"}),!o.userStore.isLimit&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Divider,{style:o._.mt.md}),(0,a.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,children:"　　App 内并没有直接播放视频的功能，请你先知悉 App 是用来干什么的！"}),(0,a.jsxs)(n.Text,{style:o._.mt.sm,lineHeight:16,children:["　　补充说明一下何为",(0,a.jsx)(n.Text,{type:"main",bold:!0,lineHeight:16,children:"高级用户"}),"，只要给予过打赏，",(0,a.jsx)(n.Text,{type:"main",bold:!0,lineHeight:16,children:"并且留言 / 告知用户 id"}),"。作者看见会第一时间把您加进高级用户组，可以无限制享受 App 内特有功能。"]}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　目前定义为：只有源站点没有的功能才能成为高级功能，并且普通用户也能使用，只会在不影响使用的程度内进行限制，以避免滥用。"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　为了能继续发展，部分功能可能会突然消失，懂的都懂 (bgm38)。"}),(0,a.jsx)(n.Divider,{style:o._.mt.md}),(0,a.jsx)(n.Text,{style:o._.mt.lg,size:16,bold:!0,align:"center",children:"目前有如下高级功能"}),(0,a.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,children:"　无限制畅用多达 100 个功能 / 页面"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔条目封面〕高清私域反代（最优需达 10 元）"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔需求反馈〕优先跟进"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔首页收藏〕支持最大显示 300 个条目"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔用户空间〕支持浏览用户历史帖子"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔关联系列〕支持更多相关搜索"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔bilibili 同步〕无限制同步"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔SMB〕添加多个服务器"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔小圣杯〕高级功能"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔豆瓣同步〕研究中"}),(0,a.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔翻译功能〕因 API 突然收费，非会员可能会有限制"}),(0,a.jsx)(n.Divider,{style:o._.mt.md}),(0,a.jsx)(n.Text,{style:o._.mt.lg,size:16,bold:!0,align:"center",children:"支持下面方式"}),(0,a.jsxs)(n.Text,{style:o._.mt.md,lineHeight:16,children:["　　投食请务必备注一下你的站内 bgm 的 id，在支付的时候留下这个"," ",(0,a.jsx)(n.Text,{type:"main",bold:!0,children:o.userStore.myUserId}),"，以后若有新的高级功能，会第一时间为投食用户开放！"]}),(0,a.jsx)(n.Flex,{style:l.styles.mt160,justify:"center",children:(0,a.jsx)(n.Image,{size:240,height:274,src:t("./src/assets/images/qr/alipay.png"),onLongPress:function(){return(0,i.open)("https://p.sda1.dev/6/8f23cd20e8ec57182a86bc479d7775d6/alipay.png")}})}),(0,a.jsx)(n.Text,{style:l.styles.mt120,align:"center",type:"sub",children:"(上面是支付宝，长按可使用浏览器打开)"}),(0,a.jsx)(n.Text,{style:l.styles.mt120,align:"center",type:"sub",children:"(下面是微信，长按可使用浏览器打开)"}),(0,a.jsx)(n.Flex,{style:l.styles.mt120,justify:"center",children:(0,a.jsx)(n.Image,{size:240,height:295,src:t("./src/assets/images/qr/wx.png"),onLongPress:function(){return(0,i.open)("https://p.sda1.dev/6/0ab83a02772a88ccb3d687d311f0e033/wx.png")}})})]})]})]})})}},"./src/screens/user/qiafan/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({mt80:{marginTop:80},mt120:{marginTop:120,marginBottom:20},mt160:{marginTop:160},mv20:{marginVertical:20}})},"./src/screens/user/setting/component/block/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Block")},"./src/screens/user/setting/component/block/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/setting/component/block/ds.ts"),d=t("./src/screens/user/setting/component/block/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var e=e.children,s=(0,d.memoStyles)();return(0,l.jsx)(n.default,{style:(0,o.stl)(s.block,1<(null==e?void 0:e.length)&&s.padding),children:e})},i.COMPONENT);try{block.displayName="block",block.__docgenInfo={description:"",displayName:"block",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/block/index.tsx#block"]={docgenInfo:block.__docgenInfo,name:"block",path:"src/screens/user/setting/component/block/index.tsx#block"})}catch(e){}},"./src/screens/user/setting/component/block/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{block:{marginVertical:r._.sm,marginHorizontal:r._.wind,backgroundColor:r._.select(r._.colorPlain,r._.colorBg),borderRadius:r._.radiusMd,overflow:"hidden"},padding:{paddingBottom:r._.sm}}})},"./src/screens/user/setting/component/blocks/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Blocks"),s.TEXTS={blocks:{hd:"屏蔽"}}},"./src/screens/user/setting/component/blocks/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),c=t("./src/utils/dev/index.ts"),u=t("./src/utils/hooks/index.ts"),m=t("./src/constants/index.ts"),p=r(t("./src/screens/rakuen/setting/blocks/index.tsx")),f=t("./src/screens/user/setting/utils.ts"),j=t("./src/screens/user/setting/component/blocks/ds.ts"),_=t("./src/screens/user/setting/component/blocks/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");function n(e){var t=e.navigation,s=e.filter,e=((0,c.r)(j.COMPONENT),(0,u.useBoolean)(!1)),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,f.getShows)(s,j.TEXTS);return(0,u.useObserver)(function(){return i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.ItemSetting,{hd:"屏蔽",arrow:!0,highlight:!0,filter:s,onPress:n}),(0,x.jsx)(l.ActionSheet,{show:r,title:"屏蔽",height:760,onClose:o,children:(0,x.jsx)(d.default,{style:!m.STORYBOOK&&_.styles.container,children:(0,x.jsx)(p.default,{navigation:t,onNavigate:function(e,s){o(),setTimeout(function(){t.push(e,s)},240)}})})})]}):null})}s.default=n;try{n.displayName="Blocks",n.__docgenInfo={description:"",displayName:"Blocks",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/blocks/index.tsx#Blocks"]={docgenInfo:n.__docgenInfo,name:"Blocks",path:"src/screens/user/setting/component/blocks/index.tsx#Blocks"})}catch(e){}},"./src/screens/user/setting/component/blocks/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({container:{marginHorizontal:-t._._wind}})},"./src/screens/user/setting/component/cdn/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.URL_ONEDRIVE=s.URL_LAIN_NEW=s.URL_LAIN=s.URL_JSDELIVR=s.URL_FASTLY=s.TEXTS=s.IMG_WIDTH=s.IMG_HEIGHT=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts"),n=(s.COMPONENT=(0,n.rc)(t.COMPONENT,"CDN"),s.URL_LAIN="https://lain.bgm.tv/pic/cover/c/fa/1d/25833_kZIjD.jpg",s.URL_LAIN_NEW="https://lain.bgm.tv/pic/cover/c/ff/e5/327606_Q11Sq.jpg",s.URL_JSDELIVR="https://cdn.jsdelivr.net/gh/czy0729/Bangumi-OSS@master/data/subject/c/t/TfOdAB.jpg",s.URL_FASTLY="https://cdn.jsdelivr.net/gh/czy0729/Bangumi-OSS@master/data/subject/c/t/TfOdAB.jpg".replace("cdn","fastly"),s.URL_ONEDRIVE="https://bangumi.stdcdn.com/subject/c/t/TfOdAB.jpg",s.IMG_WIDTH=Math.floor((r._.window.contentWidth-2*r._.sm)/3));s.IMG_HEIGHT=Math.floor(1.44*n),s.TEXTS={cover:{setting:{title:"封面加速",information:"使用特定 CDN 域名加速访问\n切换后可能需要重新启动才能生效（仅支持国内流量）"},lain:{title:"lain.bgm.tv",information:"不使用加速\n稳定但没清晰加成"},magma:{title:"Magma",information:"条件开放，支持试用中\n@magma 提供的高速付费域"}},test:{title:"测试",information:"有 ms 并不代表能顺利加载，只是 ping 后立马返回结果的时间"},deprecated:{setting:{title:"旧版本域"},jsDelivr:{title:"jsDelivr",information:"免费开放\n目前可能已失效"},oneDrive:{title:"OneDrive",information:"已失效\n请尽快设置到别的域"},fastly:{title:"fastly",information:"免费开放\n目前可能已失效"}},cdnAvatarV2:{hd:"头像加速",information:"若你经常碰到部分用户头像一直加载不出来\n可尝试启用此高速付费域，原理与上面的封面加速一致"},iOSImageCache:{hd:"iOS 使用系统默认图片缓存策略",information:"警告：此选项仅建议部分加载不到图片的 iOS 设备开启，若您的设备图片能正常加载请勿开启，开启后可能会导致图片每次都进行网络请求，切换后需要重新冷启动才能生效"},imageSkeleton:{hd:"图片加载动画",information:"部分手机显示骨架屏动画卡顿，可尝试关闭提升流畅度"},imageFadeIn:{hd:"图片渐出动画"}}},"./src/screens/user/setting/component/cdn/index.tsx":(e,s,t)=>{var x=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),b=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),g=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=d(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),h=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),y=t("./src/components/index.ts"),v=t("./src/components/image/image.web.tsx"),S=t("./src/screens/_/index.ts"),O=t("./src/stores/index.ts"),T=t("./src/utils/index.ts"),o=t("./src/utils/dev/index.ts"),E=t("./src/utils/fetch/index.ts"),i=t("./src/utils/hooks/index.ts"),C=t("./src/constants/index.ts"),I=r(t("./src/assets/json/advance.json")),P=r(t("./src/screens/user/setting/styles.ts")),w=t("./src/screens/user/setting/utils.ts"),R=t("./src/screens/user/setting/component/cdn/ds.ts"),A=t("./node_modules/react/jsx-runtime.js");function d(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(d=function(e){return e?t:s})(e))}function l(e){var l=e.navigation,a=e.filter,e=((0,o.r)(R.COMPONENT),(0,i.useBoolean)(!1)),c=e.state,u=e.setTrue,m=e.setFalse,e=(0,n.useState)(!1),e=(0,g.default)(e,2),p=e[0],f=e[1],e=(0,n.useState)({}),e=(0,g.default)(e,2),j=e[0],t=e[1],_=((0,n.useEffect)(function(){var e,s;p&&!Object.keys(j).length&&(e=function(){return(e=(0,b.default)(x.mark(function e(){return x.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.ping)(R.URL_LAIN);case 2:return s.lain=e.sent,e.next=5,(0,E.ping)((0,C.CDN_OSS_MAGMA_POSTER)(R.URL_LAIN));case 5:s.magma=e.sent,t(s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},s={},function(){e.apply(this,arguments)}())},[p]),(0,w.getShows)(a,R.TEXTS));return(0,i.useObserver)(function(){var o,i,e,s,t,r,d,n;return _?(n=O.systemStore.setting,o=n.cdn,i=n.cdnAvatarV2,e=n.cdnOrigin,s=n.imageSkeleton,t=n.imageFadeIn,r=n.iosImageCacheV2,d=C.MODEL_SETTING_CDN_ORIGIN.getLabel(e),n=[],o||n.push("关闭"),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.ItemSetting,{hd:"图片",ft:(0,A.jsx)(y.Text,{type:"sub",size:15,children:n.join("、")}),arrow:!0,highlight:!0,filter:a,onPress:u}),(0,A.jsxs)(y.ActionSheet,{show:c,title:"图片",height:a||C.STORYBOOK?400:640,onClose:m,children:[(0,A.jsxs)(S.ItemSettingBlock,Object.assign({style:O._.mt.sm,show:!C.STORYBOOK&&_.cover,filter:a,align:"start",thumb:(0,w.getYuqueThumbs)(["0/2023/png/386799/1688331782002-1069824c-1d97-4695-901a-568d2b7d5ede.png","0/2023/png/386799/1688331803056-2fb3c208-865b-4d8f-8ed7-d17665b37d5a.png"])},R.TEXTS.cover.setting,{children:[(0,A.jsx)(S.ItemSettingBlock.Item,Object.assign({active:!o,filter:a,onPress:(0,b.default)(x.mark(function e(){return x.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:(0,E.t)("设置.切换",{title:"CDN加速",checked:!o,origin:"lain.bgm.tv"}),O.systemStore.switchSetting("cdn"),setTimeout(function(){(0,v.clearCache)()},0);case 5:case"end":return e.stop()}},e)}))},R.TEXTS.cover.lain)),(0,A.jsx)(S.ItemSettingBlock.Item,Object.assign({style:O._.ml.md,active:o&&"magma"===d,filter:a,onPress:(0,b.default)(x.mark(function e(){var s,t,r,n;return x.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&"magma"===d)return e.abrupt("return");e.next=2;break;case 2:if(O.systemStore.advance){e.next=5;break}return(0,T.confirm)("此域名对达到条件的高级会员开放，当前开放试用，10 分钟后或下次启动后会还原，是否试用？",function(){o||O.systemStore.switchSetting("cdn"),O.systemStore.setSetting("cdnOrigin",C.MODEL_SETTING_CDN_ORIGIN.getValue("magma")),setTimeout(function(){O.systemStore.resetCDN()&&(0,T.info)("CDN 试用结束")},6e5),(0,E.t)("其他.试用CDN",{id:O.userStore.myId})}),e.abrupt("return");case 5:if(n=!1,t=O.userStore.myId,r=O.userStore.myUserId,(t||r)&&(1==(t=I.default[t]||I.default[r])?(n=!0,(0,T.info)("你是老打赏用户或特殊关照会员，允许开启")):(r=String(t).split("|"),t=(0,g.default)(r,2),r=t[1],Number(r||0)>=C.ADVANCE_CDN&&(n=!0))),n){e.next=20;break}return e.next=11,O.systemStore.fetchAdvanceDetail();case 11:1!=(s=e.sent)?e.next=16:((0,T.info)("你是老打赏用户或特殊关照会员，允许开启"),e.next=20);break;case 16:if(t=String(s).split("|"),r=(0,g.default)(t,2),n=r[1],Number(n||0)<C.ADVANCE_CDN)return(0,T.info)("历史打赏为 "+n+"，不足条件 "+C.ADVANCE_CDN),e.abrupt("return");e.next=20;break;case 20:(0,E.t)("设置.切换",{title:"CDN加速",checked:!o,origin:"magma"}),o||O.systemStore.switchSetting("cdn"),O.systemStore.setSetting("cdnOrigin",C.MODEL_SETTING_CDN_ORIGIN.getValue("magma")),setTimeout(function(){(0,v.clearCache)()},0);case 24:case"end":return e.stop()}},e)}))},R.TEXTS.cover.magma)),(0,A.jsx)(h.default,{style:O._.ml.xs,children:(0,A.jsx)(S.IconTouchable,{name:"md-info-outline",size:18,onPress:function(){m(),setTimeout(function(){l.push("Information",{title:"关于 Magma ",message:["此域名为用户 @magma 提供，支持非 NSFW 封面图（NSFW 会回滚到 bgm），并自带缩放压缩、webp、稳定CDN加速。","作者与其达成了约定，因流量是需要自费的，目前仅对历史打赏达到 ["+C.ADVANCE_CDN+"元] 的高级会员开放测试，恳请谅解。","科普: 目前 OSS 1G 的费用因有各种回流等策略，资费不低于 0.2 元，1 个用户首次访问 10-20 个路径的页面，封面图可能会产生 50-100MB 的流量。","为什么需要？因官方图片第二档质量不够清晰，而最高质量又过大，如果直接使用最大图片，一来会浪费大量流量，二来就算手机再强也会随着程序使用而崩溃。","PS: 若漏算了历史打赏金额的，可私信作者修正。"]})},240)}})}),(0,A.jsx)(y.Heatmap,{id:"设置.切换",title:"CDN加速"})]})),(0,A.jsx)(S.ItemSettingBlock,Object.assign({show:!C.STORYBOOK&&_.test,style:O._.mt.md,filter:a},R.TEXTS.test,{children:p?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(y.Flex.Item,{children:(0,A.jsxs)(y.Flex,{style:O._.container.block,direction:"column",justify:"center",children:[(0,A.jsx)(S.Cover,{size:R.IMG_WIDTH,height:R.IMG_HEIGHT,src:R.URL_LAIN,cdn:!1,radius:!0}),(0,A.jsxs)(y.Highlight,{style:O._.mt.sm,type:"sub",size:10,align:"center",value:a,children:["不使用: ",j.lain||0,"ms"]})]})}),(0,A.jsx)(y.Flex.Item,{style:O._.ml.md,children:(0,A.jsxs)(y.Flex,{style:O._.container.block,direction:"column",justify:"center",children:[(0,A.jsx)(S.Cover,{size:R.IMG_WIDTH,height:R.IMG_HEIGHT,src:(0,C.CDN_OSS_MAGMA_POSTER)(R.URL_LAIN),radius:!0}),(0,A.jsxs)(y.Text,{style:O._.mt.sm,type:"sub",size:10,align:"center",children:["Magma: ",j.magma||0,"ms"]})]})}),(0,A.jsx)(y.Flex.Item,{style:O._.ml.md})]}):(0,A.jsxs)(y.Text,{style:P.default.test,size:12,type:"sub",onPress:function(){return f(!0)},children:["各资源域的图片质量和访问速度，",(0,A.jsx)(y.Text,{size:12,type:"warning",children:"点击测试"})]})})),(0,A.jsx)(S.ItemSetting,Object.assign({show:!C.STORYBOOK&&_.cdnAvatarV2,ft:(0,A.jsx)(y.SwitchPro,{style:P.default.switch,value:i,onAsyncPress:(0,b.default)(x.mark(function e(){var s,t,r,n;return x.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O.systemStore.advance){e.next=3;break}return(0,T.info)("此为高级会员功能"),e.abrupt("return");case 3:if(n=!1,t=O.userStore.myId,r=O.userStore.myUserId,(t||r)&&(1==(t=I.default[t]||I.default[r])?(n=!0,(0,T.info)("你是老打赏用户或特殊关照会员，允许开启")):(r=String(t).split("|"),t=(0,g.default)(r,2),r=t[1],Number(r||0)>=C.ADVANCE_CDN&&(n=!0))),n){e.next=18;break}return e.next=9,O.systemStore.fetchAdvanceDetail();case 9:1!=(s=e.sent)?e.next=14:((0,T.info)("你是老打赏用户或特殊关照会员，允许开启"),e.next=18);break;case 14:if(t=String(s).split("|"),r=(0,g.default)(t,2),n=r[1],Number(n||0)<C.ADVANCE_CDN)return(0,T.info)("历史打赏为 "+n+"，不足条件 "+C.ADVANCE_CDN),e.abrupt("return");e.next=18;break;case 18:(0,E.t)("设置.切换",{title:"头像加速",checked:!i}),O.systemStore.switchSetting("cdnAvatarV2");case 20:case"end":return e.stop()}},e)}))}),filter:a},R.TEXTS.cdnAvatarV2,{children:(0,A.jsx)(y.Heatmap,{id:"设置.切换",title:"头像加速"})})),(0,A.jsx)(S.ItemSetting,Object.assign({show:_.imageSkeleton,ft:(0,A.jsx)(y.SwitchPro,{style:P.default.switch,value:s,onSyncPress:function(){(0,E.t)("设置.切换",{title:"图片加载动画",checked:!s}),O.systemStore.switchSetting("imageSkeleton")}}),filter:a},R.TEXTS.imageSkeleton,{children:(0,A.jsx)(y.Heatmap,{id:"设置.切换",title:"图片加载动画"})})),(0,A.jsx)(S.ItemSetting,Object.assign({show:_.imageFadeIn,ft:(0,A.jsx)(y.SwitchPro,{style:P.default.switch,value:t,onSyncPress:function(){(0,E.t)("设置.切换",{title:"图片渐出动画",checked:!t}),O.systemStore.switchSetting("imageFadeIn")}})},R.TEXTS.imageFadeIn,{children:(0,A.jsx)(y.Heatmap,{id:"设置.切换",title:"图片渐出动画"})})),C.IOS&&(0,A.jsx)(S.ItemSetting,Object.assign({show:_.iOSImageCache,ft:(0,A.jsx)(y.SwitchPro,{style:P.default.switch,value:r,onSyncPress:function(){(0,E.t)("设置.切换",{title:"默认图片缓存策略",checked:!r}),O.systemStore.switchSetting("iosImageCacheV2")}}),filter:a},R.TEXTS.iOSImageCache,{children:(0,A.jsx)(y.Heatmap,{id:"设置.切换",title:"默认图片缓存策略"})}))]})]})):null})}s.default=l;try{l.displayName="CDN",l.__docgenInfo={description:"",displayName:"CDN",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/cdn/index.tsx#CDN"]={docgenInfo:l.__docgenInfo,name:"CDN",path:"src/screens/user/setting/component/cdn/index.tsx#CDN"})}catch(e){}},"./src/screens/user/setting/component/contact/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Contact"),s.TEXTS={say:{hd:"反馈",information:"欢迎提BUG提需求"},qiafan:{search:"关于, 投食"},advance:{hd:"赞助者"}}},"./src/screens/user/setting/component/contact/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/dev/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/utils/hooks/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/setting/utils.ts"),m=t("./src/screens/user/setting/component/contact/ds.ts"),p=t("./node_modules/react/jsx-runtime.js");function f(e){var s=e.navigation,t=e.filter,r=((0,d.r)(m.COMPONENT),(0,u.getShows)(t,m.TEXTS));return(0,a.useObserver)(function(){return r?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.ItemSetting,Object.assign({show:r.say,arrow:!0,filter:t,highlight:!0,onPress:function(){(0,l.t)("设置.跳转",{to:"Say"}),s.push("Say",{id:c.APP_ID_SAY_DEVELOP,sayId:c.APP_ID_SAY_DEVELOP})}},m.TEXTS.say,{children:(0,p.jsx)(n.Heatmap,{id:"设置.跳转",to:"Say",alias:"吐槽"})})),(0,p.jsx)(o.ItemSetting,{show:r.qiafan,hd:i.userStore.isLimit?"关于":"投食🍚",arrow:!0,highlight:!0,information:i.systemStore.advance&&"已收到巨款，您已成为高级会员，感谢支持",informationType:"success",filter:t,ft:"23-04-20",onPress:function(){(0,l.t)("设置.跳转",{to:"Qiafan"}),s.push("Qiafan")},children:(0,p.jsx)(n.Heatmap,{id:"设置.跳转",to:"Qiafan",alias:"投食"})}),(0,p.jsx)(o.ItemSetting,Object.assign({show:r.advance,arrow:!0,highlight:!0,filter:t},m.TEXTS.advance,{onPress:function(){(0,l.t)("设置.跳转",{to:"Sponsor"}),s.push("Sponsor")},children:(0,p.jsx)(n.Heatmap,{id:"设置.跳转",to:"Sponsor",alias:"赞助者"})})),(0,p.jsx)(o.ItemSetting,{hd:"更新内容",arrow:!0,highlight:!0,filter:t,onPress:function(){s.push("Versions")}}),(0,p.jsx)(o.ItemSetting,{hd:"特色功能",arrow:!0,highlight:!0,filter:t,onPress:function(){s.push("Tips")}})]}):null})}s.default=f;try{f.displayName="Contact",f.__docgenInfo={description:"",displayName:"Contact",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/contact/index.tsx#Contact"]={docgenInfo:f.__docgenInfo,name:"Contact",path:"src/screens/user/setting/component/contact/index.tsx#Contact"})}catch(e){}},"./src/screens/user/setting/component/custom/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Custom"),s.TEXTS={cnFirst:{title:"优先中文",information:"APP 本地有历史番剧数据集合，条目名称会尽可能匹配中文名"},heatMap:{title:"章节讨论热力图",information:"按钮下方不同透明度橙色条块，可快速了解讨论激烈程度"},openInfo:{hd:"打开外部浏览器前复制网址",information:"开启会先停顿 300ms 再进行跳转"},s2t:{hd:"繁体"},hideScore:{hd:"隐藏评分"},filterDefault:{hd:"屏蔽无头像用户相关信息"},filter18x:{hd:"屏蔽敏感内容",information:"条目、小组、时间胶囊、排行榜等，因站规对于 NSFW 不返回数据，建议注册少于 3 个月的用户开启"}}},"./src/screens/user/setting/component/custom/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),j=t("./src/components/index.ts"),_=t("./src/screens/_/index.ts"),x=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),b=t("./src/utils/fetch/index.ts"),o=t("./src/utils/hooks/index.ts"),g=r(t("./src/screens/user/setting/styles.ts")),h=t("./src/screens/user/setting/utils.ts"),y=t("./src/screens/user/setting/component/custom/ds.ts"),v=t("./src/screens/user/setting/component/custom/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function i(e){var a=e.filter,e=((0,n.r)(y.COMPONENT),(0,o.useBoolean)(!1)),c=e.state,u=e.setTrue,m=e.setFalse,p=(0,h.getShows)(a,y.TEXTS);return(0,o.useObserver)(function(){var e,s,t,r,n,o,i,d,l;return p?(e=(0,v.memoStyles)(),s=x.systemStore.setting,t=s.s2t,r=s.hideScore,n=s.openInfo,o=s.cnFirst,i=s.heatMap,d=s.filterDefault,l=s.filter18x,(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(_.ItemSetting,{hd:"定制",arrow:!0,highlight:!0,filter:a,onPress:u}),(0,S.jsxs)(j.ActionSheet,{show:c,title:"定制",height:a?400:760,onClose:m,children:[(0,S.jsxs)(_.ItemSettingBlock,Object.assign({show:p.cnFirst,style:x._.mt.sm,filter:a,thumb:(0,h.getYuqueThumbs)(["0/2022/png/386799/1661129866639-05608a0c-bc41-4065-b3c2-aa53bd63d327.png","0/2022/png/386799/1661129870321-251db53c-5a80-4d99-a32b-a31749c40b27.png"])},y.TEXTS.cnFirst,{children:[(0,S.jsx)(_.ItemSettingBlock.Item,{title:"开启",active:o,filter:a,onPress:function(){o||((0,b.t)("设置.切换",{title:"优先中文",checked:!o}),x.systemStore.switchSetting("cnFirst"))},children:(0,S.jsxs)(j.Text,{style:x._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,S.jsx)(j.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女小圆"})]})}),(0,S.jsx)(_.ItemSettingBlock.Item,{style:x._.ml.md,title:"关闭",active:!o,filter:a,onPress:function(){o&&((0,b.t)("设置.切换",{title:"优先中文",checked:!o}),x.systemStore.switchSetting("cnFirst"))},children:(0,S.jsxs)(j.Text,{style:x._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,S.jsx)(j.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女まどか☆マギカ"})]})}),(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"优先中文"})]})),(0,S.jsxs)(_.ItemSettingBlock,Object.assign({show:p.heatMap,style:x._.mt.sm,filter:a,thumb:(0,h.getYuqueThumbs)(["0/2022/png/386799/1661129933349-1237edae-2c52-4724-bcb9-ff0ae77b3dfe.png","0/2022/png/386799/1661129928244-485360af-e293-4573-ad60-680a5b5b9c38.png"])},y.TEXTS.heatMap,{children:[(0,S.jsx)(_.ItemSettingBlock.Item,{title:"开启",active:i,filter:a,onPress:function(){i||((0,b.t)("设置.切换",{title:"章节讨论热力图",checked:!i}),x.systemStore.switchSetting("heatMap"))},children:(0,S.jsxs)(j.Flex,{style:x._.mt.sm,children:[(0,S.jsxs)(f.default,{children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"1"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar3]})]}),(0,S.jsxs)(f.default,{style:x._.ml.xs,children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"2"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar2]})]}),(0,S.jsxs)(f.default,{style:x._.ml.xs,children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"3"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar1]})]})]})}),(0,S.jsx)(_.ItemSettingBlock.Item,{style:x._.ml.md,title:"关闭",active:!i,filter:a,onPress:function(){i&&((0,b.t)("设置.切换",{title:"章节讨论热力图",checked:!i}),x.systemStore.switchSetting("heatMap"))},children:(0,S.jsxs)(j.Flex,{style:x._.mt.sm,children:[(0,S.jsxs)(f.default,{children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"1"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar0]})]}),(0,S.jsxs)(f.default,{style:x._.ml.xs,children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"2"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar0]})]}),(0,S.jsxs)(f.default,{style:x._.ml.xs,children:[(0,S.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"3"}),(0,S.jsx)(f.default,{style:[e.bar,e.bar0]})]})]})}),(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"章节讨论热力图"})]})),(0,S.jsx)(_.ItemSetting,Object.assign({show:p.s2t,ft:(0,S.jsx)(j.SwitchPro,{style:g.default.switch,value:t,onSyncPress:function(){(0,b.t)("设置.切换",{title:"繁体",checked:!t}),x.systemStore.switchSetting("s2t")}}),filter:a,thumb:(0,h.getYuqueThumbs)(["0/2022/png/386799/1661132384882-626c4647-44c6-4462-8f6a-6faf757590c0.png","0/2022/png/386799/1661132388033-f8d5e64b-be21-4712-9c87-e15f340e9b98.png"])},y.TEXTS.s2t,{children:(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"繁体"})})),(0,S.jsx)(_.ItemSetting,Object.assign({show:p.openInfo,ft:(0,S.jsx)(j.SwitchPro,{style:g.default.switch,value:n,onSyncPress:function(){(0,b.t)("设置.切换",{title:"复制网址",checked:!n}),x.systemStore.switchSetting("openInfo")}}),filter:a},y.TEXTS.openInfo,{children:(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"复制网址"})})),(0,S.jsx)(_.ItemSetting,Object.assign({show:p.hideScore,ft:(0,S.jsx)(j.SwitchPro,{style:g.default.switch,value:r,onSyncPress:function(){(0,b.t)("设置.切换",{title:"隐藏评分",checked:!r}),x.systemStore.switchSetting("hideScore")}}),filter:a,thumb:(0,h.getYuqueThumbs)(["0/2022/png/386799/1661132442436-448bd333-0fbc-4c7d-b411-044753cf9f47.png","0/2022/png/386799/1661132444558-4965411c-4319-4050-b63c-98a28a28ddb2.png"])},y.TEXTS.hideScore,{children:(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"隐藏评分"})})),(0,S.jsx)(_.ItemSetting,Object.assign({show:p.filterDefault,ft:(0,S.jsx)(j.SwitchPro,{style:g.default.switch,value:d,onSyncPress:function(){(0,b.t)("设置.切换",{title:"屏蔽默认头像用户相关信息",checked:!d}),x.systemStore.switchSetting("filterDefault")}}),filter:a,thumb:(0,h.getYuqueThumbs)(["0/2022/png/386799/1661132417052-63f81f6b-30ab-4da7-a31f-3a6c927847d6.png","0/2022/png/386799/1661132420774-00900fe7-99c8-4d8d-bdd7-a23a9f7fec07.png"])},y.TEXTS.filterDefault,{children:(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"屏蔽默认头像用户相关信息"})})),(0,S.jsx)(_.ItemSetting,Object.assign({show:p.filter18x,hd:"屏蔽敏感内容",ft:(0,S.jsx)(j.SwitchPro,{style:g.default.switch,value:l,onSyncPress:function(){(0,b.t)("设置.切换",{title:"屏蔽敏感内容",checked:!l}),x.systemStore.switchSetting("filter18x")}}),filter:a},y.TEXTS.filter18x,{children:(0,S.jsx)(j.Heatmap,{id:"设置.切换",title:"屏蔽敏感内容"})}))]})]})):null})}s.default=i;try{i.displayName="Custom",i.__docgenInfo={description:"",displayName:"Custom",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/custom/index.tsx#Custom"]={docgenInfo:i.__docgenInfo,name:"Custom",path:"src/screens/user/setting/component/custom/index.tsx#Custom"})}catch(e){}},"./src/screens/user/setting/component/custom/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{bar:{height:4,backgroundColor:r._.colorWarning,borderRadius:4},bar0:{opacity:0},bar1:{opacity:.2},bar2:{opacity:.4},bar3:{opacity:.9}}})},"./src/screens/user/setting/component/danger-zone/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"DangerZone"),s.TEXTS={logout:{hd:"退出登录"}}},"./src/screens/user/setting/component/danger-zone/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=r(t("./src/stores/index.ts")),d=t("./src/utils/dev/index.ts"),l=t("./src/utils/fetch/index.ts"),a=t("./src/utils/hooks/index.ts"),c=t("./src/constants/index.ts"),u=r(t("./src/constants/i18n/index.ts")),m=t("./src/screens/user/setting/utils.ts"),p=t("./src/screens/user/setting/component/danger-zone/ds.ts"),f=t("./node_modules/react/jsx-runtime.js");function j(e){var s=e.navigation,t=e.filter,r=((0,d.r)(p.COMPONENT),(0,m.getShows)(t,p.TEXTS));return(0,a.useObserver)(function(){return c.STORYBOOK||!r?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(o.ItemSetting,{show:r.logout,hd:(0,f.jsx)(n.Text,{type:"danger",size:16,bold:!0,children:u.default.logout()}),arrow:!0,highlight:!0,filter:t,onPress:function(){(0,l.t)("设置.退出登陆"),i.default.logout(s)},children:(0,f.jsx)(n.Heatmap,{id:"设置.退出登陆"})})})})}s.default=j;try{j.displayName="DangerZone",j.__docgenInfo={description:"",displayName:"DangerZone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/danger-zone/index.tsx#DangerZone"]={docgenInfo:j.__docgenInfo,name:"DangerZone",path:"src/screens/user/setting/component/danger-zone/index.tsx#DangerZone"})}catch(e){}},"./src/screens/user/setting/component/discovery/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Discovery"),s.TEXTS={discoveryMenuNum:{hd:"菜单每行个数"},discoveryTodayOnair:{hd:"今日放送"},live2D:{hd:"看板娘 Live2D"},live2DVoice:{hd:"看板娘 Live2D 声音"}}},"./src/screens/user/setting/component/discovery/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),u=t("./src/screens/_/index.ts"),m=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),p=t("./src/utils/fetch/index.ts"),f=t("./src/utils/hooks/index.ts"),j=t("./src/constants/index.ts"),_=r(t("./src/screens/user/setting/styles.ts")),x=t("./src/screens/user/setting/utils.ts"),b=t("./src/screens/user/setting/component/discovery/ds.ts"),g=t("./node_modules/react/jsx-runtime.js");function o(e){var o=e.filter,e=e.open,e=void 0!==e&&e,e=((0,n.r)(b.COMPONENT),(0,f.useBoolean)(e)),i=e.state,d=e.setTrue,l=e.setFalse,a=(0,x.getShows)(o,b.TEXTS);return(0,f.useObserver)(function(){var e,s,t,r,n;return a?(e=m.systemStore.setting,s=e.discoveryMenuNum,t=e.discoveryTodayOnair,r=e.live2D,n=e.live2DVoice,(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.ItemSetting,{hd:"发现",arrow:!0,highlight:!0,filter:o,onPress:d}),(0,g.jsxs)(c.ActionSheet,{show:i,title:"发现",onClose:l,children:[(0,g.jsx)(u.ItemSetting,Object.assign({show:a.discoveryMenuNum,ft:(0,g.jsx)(c.SegmentedControl,{style:_.default.segmentedControl,size:12,values:["4","5"],selectedIndex:4===s?0:1,onValueChange:function(e){e&&((0,p.t)("设置.切换",{title:"发现菜单个数",label:e}),m.systemStore.setSetting("discoveryMenuNum",4===s?5:4))}}),filter:o},b.TEXTS.discoveryMenuNum,{children:(0,g.jsx)(c.Heatmap,{id:"设置.切换",title:"菜单每行个数"})})),(0,g.jsx)(u.ItemSetting,Object.assign({show:!j.STORYBOOK&&a.live2D,ft:(0,g.jsx)(c.SwitchPro,{style:_.default.switch,value:r,onSyncPress:function(){(0,p.t)("设置.切换",{title:"看板娘 Live2D",checked:!r}),m.systemStore.switchSetting("live2D")}}),filter:o},b.TEXTS.live2D,{children:(0,g.jsx)(c.Heatmap,{id:"设置.切换",title:"看板娘 Live2D"})})),r&&(0,g.jsx)(u.ItemSetting,Object.assign({show:!j.STORYBOOK&&a.live2DVoice,ft:(0,g.jsx)(c.SwitchPro,{style:_.default.switch,value:n,onSyncPress:function(){(0,p.t)("设置.切换",{title:"看板娘 Live2D 声音",checked:!n}),m.systemStore.switchSetting("live2DVoice")}}),filter:o},b.TEXTS.live2DVoice,{children:(0,g.jsx)(c.Heatmap,{id:"设置.切换",title:"看板娘 Live2D 声音"})})),(0,g.jsx)(u.ItemSetting,Object.assign({show:a.discoveryTodayOnair,ft:(0,g.jsx)(c.SwitchPro,{style:_.default.switch,value:t,onSyncPress:function(){(0,p.t)("设置.切换",{title:"发现今日放送",checked:!t}),m.systemStore.switchSetting("discoveryTodayOnair")}}),filter:o},b.TEXTS.discoveryTodayOnair,{children:(0,g.jsx)(c.Heatmap,{id:"设置.切换",title:"发现今日放送"})}))]})]})):null})}s.default=o;try{o.displayName="Discovery",o.__docgenInfo={description:"",displayName:"Discovery",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}},open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/discovery/index.tsx#Discovery"]={docgenInfo:o.__docgenInfo,name:"Discovery",path:"src/screens/user/setting/component/discovery/index.tsx#Discovery"})}catch(e){}},"./src/screens/user/setting/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/setting/component/home/custom-btn/btn.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/setting/component/home/custom-btn/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.item,t=void 0!==(t=e.active)&&t,e=e.onPress,r=(0,l.memoStyles)();return s?(0,a.jsx)(o.Touchable,{style:(0,d.stl)(r.btn,t&&r.btnActive),onPress:e,children:(0,a.jsxs)(o.Flex,{style:r.btn,direction:"column",justify:"center",children:[(0,a.jsx)(o.Flex,{style:r.icon,justify:"center",children:s.text?(0,a.jsx)(o.Text,{style:i._.mb.xs,size:Math.floor(.9*(s.size||24)),bold:!0,children:s.text}):(0,a.jsx)(o.Iconfont,{style:i._.mb.xs,name:s.icon,color:i._.colorDesc,size:Math.floor(.9*(s.size||24))})}),(0,a.jsx)(o.Text,{size:10,bold:!0,children:s.name})]})}):(0,a.jsx)(n.default,{style:r.btn})});try{btn.displayName="btn",btn.__docgenInfo={description:"",displayName:"btn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/home/custom-btn/btn.tsx#btn"]={docgenInfo:btn.__docgenInfo,name:"btn",path:"src/screens/user/setting/component/home/custom-btn/btn.tsx#btn"})}catch(e){}},"./src/screens/user/setting/component/home/custom-btn/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),u=t("./src/components/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/fetch/index.ts"),f=t("./src/utils/hooks/index.ts"),n=t("./src/constants/index.ts"),j=t("./src/screens/discovery/index/ds.ts"),_=r(t("./src/screens/user/setting/component/home/custom-btn/btn.tsx")),x=t("./src/screens/user/setting/component/home/custom-btn/styles.ts"),b=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}var g=Object.keys(j.MENU_MAP).filter(function(e){var e=j.MENU_MAP[e]||{},s=!0;return(s=n.IOS?!1!==e.ios:s)&&"Open"!==e.key}),h={name:"不设置",icon:"md-do-not-disturb-alt"},y="",v="";s.default=function(){var e=(0,c.useState)({key:"",setting:""}),n=(e=(0,a.default)(e,2))[0],o=e[1],i=(e=(0,f.useBoolean)(!1)).state,d=e.setTrue,l=e.setFalse;return(0,f.useObserver)(function(){var e=(0,x.memoStyles)(),s=m.systemStore.setting,t=s.homeTopLeftCustom,r=s.homeTopRightCustom;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.Flex,{style:e.btns,children:[(0,b.jsx)(_.default,{item:j.MENU_MAP[t]||h,onPress:function(){o({key:v=y=t||"",setting:"homeTopLeftCustom"}),d()}}),(0,b.jsx)(_.default,{item:j.MENU_MAP[r]||h,onPress:function(){o({key:v=y=r||"",setting:"homeTopRightCustom"}),d()}})]}),(0,b.jsxs)(u.ActionSheet,{show:i,height:440,onClose:function(){l(),y!==v&&((0,p.t)("设置.切换",{title:"右上角功能入口",value:n.setting+"|"+v}),v=y="")},children:[(0,b.jsx)(u.Text,{style:[m._.mt.sm,m._.mb.xs],bold:!0,align:"center",children:"选择一个功能作为入口"}),(0,b.jsxs)(u.Flex,{style:m._.mt.md,wrap:"wrap",justify:"center",children:[(0,b.jsx)(_.default,{item:{name:"不设置",icon:"md-do-not-disturb-alt"},active:""===n.key,onPress:function(){v="",o(Object.assign({},n,{key:""})),setTimeout(function(){m.systemStore.setSetting(n.setting,"")},40)}}),g.map(function(e){var s=j.MENU_MAP[e];return(0,b.jsx)(_.default,{item:s,active:n&&n.key===e,onPress:function(){v=s.key,o(Object.assign({},n,{key:s.key})),setTimeout(function(){m.systemStore.setSetting(n.setting,s.key)},40)}},s.key)}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{}),(0,b.jsx)(_.default,{})]})]})]})})}},"./src/screens/user/setting/component/home/custom-btn/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{btns:{paddingHorizontal:r._.xs,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},btn:{width:64,height:56,borderWidth:1,borderColor:"transparent",borderRadius:r._.radiusMd,overflow:"hidden"},btnActive:{borderColor:r._.colorSuccess},icon:{height:26}}})},"./src/screens/user/setting/component/home/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.VALUES=s.TEXTS=s.HOME_SORTING_INFORMATION=s.HOME_COUNT_VIEW=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/setting/component/ds.ts"),r=(s.COMPONENT=(0,r.rc)(t.COMPONENT,"Home"),s.HOME_COUNT_VIEW={A:"4 / 12",B:"4 / 6 (12)",C:"4 / 12 (6)",D:"4 / 6 / 12"}),t=s.HOME_SORTING_INFORMATION={APP:"当季放送 > 当季未看 > 未看 > 网页","放送":"放送中 > 明天放送 > 网页","网页":"与网页 bgm.tv 一致"},o=s.VALUES=["全部","基本","隐藏"];s.TEXTS={homeLayout:{setting:{title:"布局"},list:{title:"列表"},grid:{title:"网格"}},homeListCompact:{hd:"紧凑模式",information:"缩小每项的高度以同时显示更多"},homeListLimit:{hd:"列表最大显示"},homeGridCoverLayout:{hd:"封面形状",information:"开启网格布局时条目封面形状",search:n.SETTING_HOME_GRID_COVER_LAYOUT.map(function(e){return e.label}).join()},homeGridTitle:{hd:"条目下方显示标题"},homeGridEpAutoAdjust:{hd:"自动调整章节按钮大小",information:"因网格模式高度有限只够放 3 排按钮\n对章节较少的条目，按钮宽度自适应尽量铺满"},homeCountView:{title:"放送数字显示",information:"自定义显示组合\n例：4 代表看到，6 代表已放送，12 代表总集数",search:r},homeCustom:{hd:"右上角功能入口"},homeICS:{hd:"放送提醒菜单增加导出 ICS",information:"ICS 文件是一种以通用日历格式保存的日历文件，利于跨设备日程同步"},homeEpStartAtLastWathed:{hd:"长篇动画从最后看过开始显示"},homeSorting:{title:"排序",information:"若需要使当前没有能观看章节的番剧不靠前，建议打开下方的条目自动下沉设置",search:t},homeOrigin:{hd:"收藏项右侧菜单",information:"收藏项右侧按钮组显示菜单按钮\n全部 = 基本 (置顶、收起展开、提醒) + 源头数据菜单",search:o},homeOnAir:{hd:"一直显示放送时间",information:"不开启时只有在条目今天或者明天放送时才显示具体放送时间"},homeSortSink:{hd:"条目自动下沉",information:"当条目没有未观看的已放送章节时，自动下沉到底"},showGame:{hd:"游戏标签页",information:"首页收藏显示在玩的游戏"},homeFilter:{hd:"列表搜索框"}}},"./src/screens/user/setting/component/home/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),v=t("./src/screens/_/index.ts"),S=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),O=t("./src/utils/fetch/index.ts"),o=t("./src/utils/hooks/index.ts"),T=t("./src/constants/index.ts"),E=r(t("./src/screens/user/setting/styles.ts")),C=t("./src/screens/user/setting/utils.ts"),I=r(t("./src/screens/user/setting/component/home/custom-btn/index.tsx")),P=t("./src/screens/user/setting/component/home/ds.ts"),w=t("./node_modules/react/jsx-runtime.js");function i(e){var _=e.filter,e=((0,n.r)(P.COMPONENT),(0,o.useBoolean)(!1)),x=e.state,b=e.setTrue,g=e.setFalse,h=(0,C.getShows)(_,P.TEXTS);return(0,o.useObserver)(function(){var e,s,t,r,n,o,i,d,l,a,c,u,m,p,f,j;return T.STORYBOOK||!h?null:(e=S.systemStore.setting,s=e.exportICS,t=e.homeCountView,r=e.homeEpStartAtLastWathed,n=e.homeFilter,o=e.homeGridCoverLayout,i=e.homeGridEpAutoAdjust,d=e.homeGridTitle,l=e.homeLayout,a=e.homeListCompact,c=e.homeOnAir,u=e.homeOrigin,m=e.homeSortSink,p=e.homeSorting,f=e.showGame,j=T.MODEL_SETTING_HOME_LAYOUT.getValue("列表"),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.ItemSetting,{hd:"进度",arrow:!0,highlight:!0,filter:_,onPress:b}),(0,w.jsxs)(y.ActionSheet,{show:x,title:"进度",height:_?400:760,onClose:g,children:[(0,w.jsxs)(v.ItemSettingBlock,Object.assign({show:h.homeLayout,style:S._.mt.sm,filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661062359544-87e2ab4e-ca1f-4e7e-8efb-ccadf891ccc0.png","0/2022/png/386799/1661062365513-c52a1484-e585-48e9-b672-8a0c547543b4.png"])},P.TEXTS.homeLayout.setting,{children:[(0,w.jsx)(v.ItemSettingBlock.Item,Object.assign({icon:"md-menu",active:l===j,filter:_,onPress:function(){l!==j&&((0,O.t)("设置.切换",{title:"首页布局",label:"列表"}),S.systemStore.setHomeLayout("列表"))}},P.TEXTS.homeLayout.list)),(0,w.jsx)(v.ItemSettingBlock.Item,Object.assign({style:S._.ml.md,icon:"md-grid-view",active:l===T.MODEL_SETTING_HOME_LAYOUT.getValue("网格"),filter:_,onPress:function(){l!==T.MODEL_SETTING_HOME_LAYOUT.getValue("网格")&&((0,O.t)("设置.切换",{title:"首页布局",label:"网格"}),S.systemStore.setHomeLayout("网格"))}},P.TEXTS.homeLayout.grid)),(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"首页布局"})]})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeListCompact&&l===j,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:a,onSyncPress:function(){(0,O.t)("设置.切换",{title:"紧凑模式",checked:!a}),S.systemStore.switchSetting("homeListCompact")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2023/png/386799/1688330856001-89109af5-3f19-4ab6-92f9-4658a1556b7c.png","0/2023/png/386799/1688330868988-1d338344-c951-4aef-b71f-ea7a996bbf1f.png"])},P.TEXTS.homeListCompact,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"紧凑模式"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeGridCoverLayout&&l!==j,ft:(0,w.jsx)(y.SegmentedControl,{style:E.default.segmentedControl,size:12,values:T.SETTING_HOME_GRID_COVER_LAYOUT.map(function(e){return e.label}),selectedIndex:T.SETTING_HOME_GRID_COVER_LAYOUT.findIndex(function(e){return e.value===o}),onValueChange:function(e){e&&((0,O.t)("设置.切换",{title:"封面形状",label:e}),S.systemStore.setSetting("homeGridCoverLayout",T.MODEL_SETTING_HOME_GRID_COVER_LAYOUT.getValue(e)))}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661062400888-2f305de2-9e5a-40ac-a878-1294c4de40fa.png","0/2022/png/386799/1661062406213-0d748359-9e14-41e3-88a2-eeea58a1617c.png"])},P.TEXTS.homeGridCoverLayout,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"封面形状"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeGridTitle&&l!==j,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:d,onSyncPress:function(){(0,O.t)("设置.切换",{title:"条目下方显示标题",checked:!d}),S.systemStore.switchSetting("homeGridTitle")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2023/png/386799/1678163227317-132cc2a7-cc59-4857-80e4-1f3514bc2b54.png","0/2023/png/386799/1678163282725-900bfed3-3d91-466e-ba92-cf62079b69bb.png"])},P.TEXTS.homeGridTitle,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"条目下方显示标题"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeGridEpAutoAdjust&&l!==j,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:i,onSyncPress:function(){(0,O.t)("设置.切换",{title:"自动调整章节按钮大小",checked:!i}),S.systemStore.switchSetting("homeGridEpAutoAdjust")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2023/png/386799/1678163227317-132cc2a7-cc59-4857-80e4-1f3514bc2b54.png","0/2023/png/386799/1678163234746-1e3952a5-73cc-495d-9e6a-6480f7d60b48.png"])},P.TEXTS.homeGridEpAutoAdjust,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"自动调整章节按钮大小"})})),(0,w.jsx)(v.ItemSetting,Object.assign({style:[S._.mt.sm,S._.mb.md],show:h.homeListLimit,ft:(0,w.jsx)(y.Text,{size:13,bold:!0,children:S.systemStore.advance?"当前 300 项":"当前 100 项"}),information:S.systemStore.advance?"非会员 100，网页版 25":"会员 300，网页版 25",filter:_},P.TEXTS.homeListLimit)),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeCustom,ft:(0,w.jsx)(I.default,{}),filter:_},P.TEXTS.homeCustom,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"右上角功能入口"})})),(0,w.jsxs)(v.ItemSettingBlock,Object.assign({show:h.homeCountView,style:S._.mt.sm,filter:_},P.TEXTS.homeCountView,{children:[T.SETTING_HOME_COUNT_VIEW.map(function(e,s){return(0,w.jsx)(v.ItemSettingBlock.Item,{style:!!s&&S._.ml.md,title:e.label,information:P.HOME_COUNT_VIEW[e.label],active:t===e.value,filter:_,onPress:function(){t!==e.value&&((0,O.t)("设置.切换",{title:"放送数字显示",label:e.label}),S.systemStore.setHomeCountView(e.label))}})}),(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"放送数字显示"})]})),(0,w.jsxs)(v.ItemSettingBlock,Object.assign({show:h.homeSorting,style:S._.mt.sm,filter:_},P.TEXTS.homeSorting,{children:[T.SETTING_HOME_SORTING.map(function(e,s){return(0,w.jsx)(v.ItemSettingBlock.Item,{style:!!s&&S._.ml.sm,title:e.label,information:P.HOME_SORTING_INFORMATION[e.label],active:p===e.value,filter:_,onPress:function(){p!==e.value&&((0,O.t)("设置.切换",{title:"首页排序",label:e.label}),S.systemStore.setHomeSorting(e.label))}})}),(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"首页排序"})]})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeSortSink&&p!==T.MODEL_SETTING_HOME_SORTING.getValue("网页"),ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:m,onSyncPress:function(){(0,O.t)("设置.切换",{title:"自动下沉",checked:!m}),S.systemStore.switchSetting("homeSortSink")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661045651857-7de7e8b7-34ce-4810-b6bd-d61d35412124.png","0/2022/png/386799/1661045660979-be977cea-5eb2-45a7-8dd2-49ef4ec3966c.png"])},P.TEXTS.homeSortSink,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"自动下沉"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeOrigin&&!S.userStore.isLimit,ft:(0,w.jsx)(y.SegmentedControl,{style:E.default.segmentedControl,size:12,values:P.VALUES,selectedIndex:-1===u?2:u?0:1,onValueChange:function(e){(0,O.t)("设置.切换",{title:"显示搜索源头按钮",checked:!1!==u});e=e===P.VALUES[0]||e!==P.VALUES[1]&&-1;S.systemStore.setSetting("homeOrigin",e)}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661061347638-6ba991c5-b296-43e6-8d95-2b3c9da920ab.png","0/2022/png/386799/1661061354378-cc1ece33-5a8c-419c-8e05-8559106ffb9d.png","0/2022/png/386799/1661060959608-f312593f-5512-4b75-9060-c9b0071ed6ce.png"])},P.TEXTS.homeOrigin,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"显示搜索源头按钮"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeEpStartAtLastWathed,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:s,onSyncPress:function(){(0,O.t)("设置.切换",{title:"导出ICS",checked:!s}),S.systemStore.switchSetting("exportICS")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2023/png/386799/1675513866337-d4753afd-b998-4e5a-8955-faacfb3d9eae.png","0/2023/png/386799/1675513933249-3b66e0de-9c53-425d-a263-0e6047595196.png","0/2023/png/386799/1675513995664-4a1cfef0-66ed-47d5-8285-29df1534c1ee.png"])},P.TEXTS.homeICS,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"导出ICS"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeEpStartAtLastWathed,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:r,onSyncPress:function(){(0,O.t)("设置.切换",{title:"长篇动画从最后看过开始显示",checked:!r}),S.systemStore.switchSetting("homeEpStartAtLastWathed")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2023/png/386799/1673684120408-ee3db302-a9d2-41a3-bc53-56788d523839.png","0/2023/png/386799/1673684144406-ff53b877-e632-4c13-af16-b5daad4033ba.png"])},P.TEXTS.homeEpStartAtLastWathed,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"长篇动画从最后看过开始显示"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeOnAir,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:c,onSyncPress:function(){(0,O.t)("设置.切换",{title:"一直显示放送时间",checked:!c}),S.systemStore.switchSetting("homeOnAir")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661241773996-701bcab2-3841-4f04-be90-7fb7b6baaf6a.png","0/2022/png/386799/1661241775968-cd2588bb-32e4-46d9-b59e-786c82c46cd8.png"])},P.TEXTS.homeOnAir,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"一直显示放送时间"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.showGame,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:f,onSyncPress:function(){(0,O.t)("设置.切换",{title:"显示游戏",checked:!f}),S.systemStore.switchSetting("showGame")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661045149065-c6d393f9-8649-4239-a459-b9f8c99c3a50.png","0/2022/png/386799/1661045159272-5b09aea4-c609-4caa-b705-281d23026fa7.png"])},P.TEXTS.showGame,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"显示游戏"})})),(0,w.jsx)(v.ItemSetting,Object.assign({show:h.homeFilter,ft:(0,w.jsx)(y.SwitchPro,{style:E.default.switch,value:n,onSyncPress:function(){(0,O.t)("设置.切换",{title:"显示列表搜索框",checked:!n}),S.systemStore.switchSetting("homeFilter")}}),filter:_,thumb:(0,C.getYuqueThumbs)(["0/2022/png/386799/1661060312559-a94c0975-3b5e-4623-bfd2-9e00aedc4e59.png","0/2022/png/386799/1661060318569-a7c55607-7a61-489f-ae6a-7bad94a6bb41.png"])},P.TEXTS.homeFilter,{children:(0,w.jsx)(y.Heatmap,{id:"设置.切换",title:"显示列表搜索框"})}))]})]}))})}s.default=i;try{i.displayName="Home",i.__docgenInfo={description:"",displayName:"Home",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/home/index.tsx#Home"]={docgenInfo:i.__docgenInfo,name:"Home",path:"src/screens/user/setting/component/home/index.tsx#Home"})}catch(e){}},"./src/screens/user/setting/component/katakana/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Katakana"),s.TEXTS={engine:{setting:{title:"翻译引擎"},baidu:{title:"百度翻译"},google:{title:"谷歌翻译",information:"因服务已退出国内\n故无限期搁置"}},katakana:{title:"[实验性] 片假名终结者",information:"匹配日语片假名延迟翻译，翻译成功后在上方标注英文原词\n开启后资源消耗增大，非必要请勿开启"},cnFirst:{title:"优先中文",information:"若开启片假名终结者，建议还需要日语优先效果才会好"},origin:{hd:"源头",information:"给不同类型的条目，自定义通用跳转"},webhook:{hd:"Webhook",information:"影响用户时间线的操作，允许通知外部自定义接口"}}},"./src/screens/user/setting/component/katakana/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),u=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),m=t("./src/components/index.ts"),p=t("./src/screens/_/index.ts"),f=t("./src/stores/index.ts"),j=t("./src/utils/dev/index.ts"),_=t("./src/utils/fetch/index.ts"),x=t("./src/utils/hooks/index.ts"),b=t("./src/constants/index.ts"),g=t("./src/screens/user/setting/utils.ts"),h=t("./src/screens/user/setting/component/katakana/ds.ts"),y=t("./src/screens/user/setting/component/katakana/styles.ts"),v=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function n(e){var r=e.navigation,n=e.filter,e=((0,j.r)(h.COMPONENT),(0,x.useBoolean)(!1)),o=e.state,i=e.setTrue,d=e.setFalse,l=(0,c.useCallback)(function(){(0,_.t)("设置.切换",{title:"片假名终结者",checked:!f.systemStore.setting.katakana}),f.systemStore.switchSetting("katakana")},[]),a=(0,g.getShows)(n,h.TEXTS);return(0,x.useObserver)(function(){var e,s,t;return a?(e=f.systemStore.setting,s=e.katakana,t=e.cnFirst,(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.ItemSetting,{hd:"其他",arrow:!0,highlight:!0,filter:n,onPress:i,children:(0,v.jsx)(m.Heatmap,{id:"设置.切换",title:"片假名终结者"})}),(0,v.jsxs)(m.ActionSheet,{show:o,title:"其他",height:n?400:640,onClose:d,children:[(0,v.jsx)(p.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:n,onPress:function(){(0,_.t)("设置.跳转",{title:"自定义源头",to:"OriginSetting"}),d(),setTimeout(function(){r.push("OriginSetting")},80)}},h.TEXTS.origin,{children:(0,v.jsx)(m.Heatmap,{id:"设置.跳转",to:"OriginSetting",alias:"自定义源头"})})),(0,v.jsx)(p.ItemSetting,Object.assign({show:!b.STORYBOOK,arrow:!0,highlight:!0,filter:n,onPress:function(){(0,_.t)("设置.跳转",{title:"Webhook",to:"Webhook"}),d(),setTimeout(function(){r.push("Webhook")},80)}},h.TEXTS.webhook,{children:(0,v.jsx)(m.Heatmap,{id:"设置.跳转",to:"Webhook",alias:"Webhook"})})),(0,v.jsxs)(p.ItemSettingBlock,Object.assign({show:a.engine,style:f._.mt.md,filter:n},h.TEXTS.engine.setting,{children:[(0,v.jsx)(p.ItemSettingBlock.Item,Object.assign({active:!0,filter:n,onPress:function(){}},h.TEXTS.engine.baidu)),(0,v.jsx)(p.ItemSettingBlock.Item,Object.assign({style:f._.ml.md,active:!1,filter:n,onPress:function(){}},h.TEXTS.engine.google))]})),(0,v.jsxs)(p.ItemSettingBlock,Object.assign({show:a.katakana,style:f._.mt.sm,filter:n,thumb:(0,g.getYuqueThumbs)(["0/2022/png/386799/1661142420758-e002913c-f976-4a42-943b-5e106187fc29.png","0/2022/png/386799/1661142591445-037feac4-31c1-4418-a377-557d1843e1e7.png"])},h.TEXTS.katakana,{children:[(0,v.jsx)(p.ItemSettingBlock.Item,{title:"关闭",active:!s,filter:n,onPress:function(){s&&l()},children:(0,v.jsx)(m.Text,{style:f._.mt.sm,type:"sub",size:12,lineHeight:20,bold:!0,children:"魔法少女まどか☆マギカ"})}),(0,v.jsx)(p.ItemSettingBlock.Item,{style:f._.ml.md,title:"开启",active:s,filter:n,onPress:function(){s||l()},children:(0,v.jsx)(u.default,{style:f._.mt.sm,children:(0,v.jsx)(m.Katakana.Provider,{itemStyle:y.styles.katakana,size:12,lineHeight:20,active:!0,children:(0,v.jsx)(m.Katakana,{type:"sub",size:12,lineHeight:20,bold:!0,children:"魔法少女まどか☆マギカ"})})})})]})),(0,v.jsxs)(p.ItemSettingBlock,Object.assign({show:s&&a.cnFirst,style:f._.mt.sm,filter:n},h.TEXTS.cnFirst,{children:[(0,v.jsx)(p.ItemSettingBlock.Item,{title:"开启",active:t,filter:n,onPress:function(){t||((0,_.t)("设置.切换",{title:"优先中文",checked:!t}),f.systemStore.switchSetting("cnFirst"))},children:(0,v.jsxs)(m.Text,{style:f._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,v.jsx)(m.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女小圆"})]})}),(0,v.jsx)(p.ItemSettingBlock.Item,{style:f._.ml.md,title:"关闭",active:!t,filter:n,onPress:function(){t&&((0,_.t)("设置.切换",{title:"优先中文",checked:!t}),f.systemStore.switchSetting("cnFirst"))},children:(0,v.jsxs)(m.Text,{style:f._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,v.jsx)(m.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女まどか☆マギカ"})]})}),(0,v.jsx)(m.Heatmap,{id:"设置.切换",title:"优先中文"})]}))]})]})):null})}s.default=n;try{n.displayName="Katakana",n.__docgenInfo={description:"",displayName:"Katakana",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/katakana/index.tsx#Katakana"]={docgenInfo:n.__docgenInfo,name:"Katakana",path:"src/screens/user/setting/component/katakana/index.tsx#Katakana"})}catch(e){}},"./src/screens/user/setting/component/katakana/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({katakana:{marginTop:-8}})},"./src/screens/user/setting/component/rakuen/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Rakuen"),s.TEXTS={rakuen:{hd:"超展开"}}},"./src/screens/user/setting/component/rakuen/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/utils/dev/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./src/screens/user/setting/utils.ts"),a=t("./src/screens/user/setting/component/rakuen/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.navigation,e=e.filter;return(0,i.r)(a.COMPONENT),(0,l.getShows)(e,a.TEXTS)?(0,c.jsx)(o.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:e,onPress:function(){(0,d.t)("设置.跳转",{title:"超展开",to:"RakuenSetting"}),s.push("RakuenSetting")}},a.TEXTS.rakuen,{children:(0,c.jsx)(n.Heatmap,{id:"设置.跳转",to:"RakuenSetting",alias:"超展开设置"})})):null});try{rakuen.displayName="rakuen",rakuen.__docgenInfo={description:"",displayName:"rakuen",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/rakuen/index.tsx#rakuen"]={docgenInfo:rakuen.__docgenInfo,name:"rakuen",path:"src/screens/user/setting/component/rakuen/index.tsx#rakuen"})}catch(e){}},"./src/screens/user/setting/component/route/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Route"),s.TEXTS={blocks:{setting:"功能块",discovery:"发现",timeline:"时间胶囊",home:"进度",rakuen:"超展开",user:"时光机"},initialPage:{setting:"启动页",discovery:"发现",timeline:"时间胶囊",home:"进度",rakuen:"超展开",user:"时光机",tinygrail:"小圣杯"}}},"./src/screens/user/setting/component/route/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),p=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),f=t("./src/components/index.ts"),j=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),o=t("./src/utils/dev/index.ts"),b=t("./src/utils/fetch/index.ts"),g=t("./src/utils/hooks/index.ts"),h=t("./src/constants/index.ts"),y=t("./src/screens/user/setting/utils.ts"),v=t("./src/screens/user/setting/component/route/ds.ts"),S=t("./src/screens/user/setting/component/route/styles.ts"),O=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function d(e){var i=e.filter,e=((0,o.r)(v.COMPONENT),(0,g.useBoolean)(!1)),d=e.state,l=e.setTrue,a=e.setFalse,c=(0,n.useCallback)(function(e){e&&((0,b.t)("设置.切换",{title:"首页功能块",label:e}),_.systemStore.setHomeRenderTabs(e))},[]),u=(0,n.useCallback)(function(e){e&&((0,b.t)("设置.切换",{title:"启动页",label:e}),_.systemStore.setInitialPage(e))},[]),m=(0,y.getShows)(i,v.TEXTS);return(0,g.useObserver)(function(){var e,s,t,r,n,o;return h.STORYBOOK||!m?null:(e=(0,S.memoStyles)(),o=(t=_.systemStore.setting).homeRenderTabs,s=t.initialPage,t=t.tinygrail,r=o.includes("Discovery"),n=o.includes("Timeline"),o=o.includes("Rakuen"),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(j.ItemSetting,{hd:"底栏",arrow:!0,highlight:!0,filter:i,onPress:l}),(0,O.jsxs)(f.ActionSheet,{show:d,title:"底栏",onClose:a,children:[m.blocks&&(0,O.jsxs)(p.default,{style:e.blocks,children:[(0,O.jsx)(f.Highlight,{type:"title",size:16,bold:!0,value:i,children:v.TEXTS.blocks.setting}),(0,O.jsx)(f.Text,{style:_._.mt.sm,type:"sub",size:12,children:"点击切换是否显示，切换后需要重新启动才能生效"}),(0,O.jsxs)(f.Flex,{style:e.tabs,children:[(0,O.jsx)(f.Flex.Item,{children:(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return c("Discovery")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"home",color:r?_._.colorDesc:_._.colorIcon,size:18})}),(0,O.jsx)(f.Highlight,{type:r?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.blocks.discovery}),!r&&(0,O.jsx)(p.default,{style:e.disabledLine})]})})}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return c("Timeline")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"md-access-time",color:n?_._.colorDesc:_._.colorIcon,size:19})}),(0,O.jsx)(f.Highlight,{type:n?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.blocks.timeline}),!n&&(0,O.jsx)(p.default,{style:e.disabledLine})]})})}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return(0,x.info)("进度暂不允许关闭")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{style:e.iconStar,name:"md-star-outline",color:_._.colorDesc,size:21})}),(0,O.jsx)(f.Highlight,{size:11,bold:!0,value:i,children:v.TEXTS.blocks.home})]})})}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return c("Rakuen")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{style:_._.mt.xxs,name:"md-chat-bubble-outline",color:o?_._.colorDesc:_._.colorIcon,size:17})}),(0,O.jsx)(f.Highlight,{type:o?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.blocks.rakuen}),!o&&(0,O.jsx)(p.default,{style:e.disabledLine})]})})}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return(0,x.info)("时光机暂不允许关闭")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"md-person-outline",color:_._.colorDesc,size:21})}),(0,O.jsx)(f.Highlight,{size:11,bold:!0,value:i,children:v.TEXTS.blocks.user})]})})})]}),(0,O.jsx)(f.Heatmap,{id:"设置.切换",title:"首页功能块"})]}),m.initialPage&&(0,O.jsxs)(p.default,{style:e.blocks,children:[(0,O.jsx)(f.Highlight,{type:"title",size:16,bold:!0,value:i,children:v.TEXTS.initialPage.setting}),(0,O.jsxs)(f.Flex,{style:e.tabs,children:[(0,O.jsxs)(f.Flex.Item,{children:[(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return u("发现")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"home",color:r?_._.colorDesc:_._.colorIcon,size:18})}),(0,O.jsx)(f.Highlight,{type:r?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.initialPage.discovery})]})}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"Discovery"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]}),(0,O.jsxs)(f.Flex.Item,{children:[(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return u("时间胶囊")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"md-access-time",color:n?_._.colorDesc:_._.colorIcon,size:19})}),(0,O.jsx)(f.Highlight,{type:n?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.initialPage.timeline})]})}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"Timeline"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]}),(0,O.jsxs)(f.Flex.Item,{children:[(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return u("进度")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{style:e.iconStar,name:"md-star-outline",color:_._.colorDesc,size:21})}),(0,O.jsx)(f.Highlight,{size:11,bold:!0,value:i,children:v.TEXTS.initialPage.home})]})}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"Home"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]}),(0,O.jsxs)(f.Flex.Item,{children:[(0,O.jsx)(f.Touchable,{animate:!0,onPress:function(){return u("超展开")},children:(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{style:_._.mt.xxs,name:"md-chat-bubble-outline",color:o?_._.colorDesc:_._.colorIcon,size:17})}),(0,O.jsx)(f.Highlight,{type:o?void 0:"icon",size:11,bold:!0,value:i,children:v.TEXTS.initialPage.rakuen})]})}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"Rakuen"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsxs)(f.Touchable,{animate:!0,onPress:function(){return u("时光机")},children:[(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{name:"md-person-outline",color:_._.colorDesc,size:21})}),(0,O.jsx)(f.Highlight,{size:11,bold:!0,value:i,children:v.TEXTS.initialPage.timeline})]}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"User"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]})}),t&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(p.default,{style:e.split}),(0,O.jsx)(f.Flex.Item,{children:(0,O.jsxs)(f.Touchable,{animate:!0,onPress:function(){return u("小圣杯")},children:[(0,O.jsxs)(f.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,O.jsx)(p.default,{style:e.icon,children:(0,O.jsx)(f.Iconfont,{style:e.iconTrophy,name:"trophy",color:_._.colorDesc,size:16})}),(0,O.jsx)(f.Highlight,{size:11,bold:!0,value:i,children:v.TEXTS.initialPage.tinygrail})]}),(0,O.jsx)(f.Flex,{style:e.activeBar,justify:"center",children:"Tinygrail"===s&&(0,O.jsx)(p.default,{style:e.activeLine})})]})})]})]}),(0,O.jsx)(f.Heatmap,{id:"设置.切换",title:"启动页"})]})]})]}))})}s.default=d;try{d.displayName="Route",d.__docgenInfo={description:"",displayName:"Route",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/route/index.tsx#Route"]={docgenInfo:d.__docgenInfo,name:"Route",path:"src/screens/user/setting/component/route/index.tsx#Route"})}catch(e){}},"./src/screens/user/setting/component/route/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{blocks:{paddingHorizontal:r._.wind,paddingVertical:r._.md-2},tabs:{paddingHorizontal:r._.xs,marginTop:r._.md,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),borderRadius:r._.radiusSm,overflow:"hidden"},tab:{paddingTop:r._.sm+2,paddingBottom:r._.sm+4,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2)},icon:{height:24},iconStar:{marginTop:-1},iconTrophy:{marginTop:3},disabledLine:{position:"absolute",zIndex:1,top:5,bottom:4,width:5,backgroundColor:r._.select(r._.colorIcon,"#777"),borderLeftWidth:2,borderRightWidth:1,borderColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),transform:[{rotateZ:"45deg"}]},split:{width:1,height:20,marginHorizontal:2,backgroundColor:r._.select(r._.colorIcon,"#777"),borderRadius:r._.radiusSm,overflow:"hidden",opacity:.64},activeBar:{position:"absolute",zIndex:1,right:0,bottom:0,left:0},activeLine:{width:16,height:4,backgroundColor:r._.colorSuccess,borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/setting/component/storage/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Storage"),s.TEXTS={clearStorage:{hd:"清除数据缓存",information:"推荐大于 10mb 或遇到数据不刷新等情况进行清除"},clearImages:{hd:"清除图片缓存"},clearAll:{hd:"清除全部缓存",information:"包括数据缓存和图片缓存"},iOSImageCache:{hd:"iOS 使用系统默认图片缓存策略",information:"警告：此选项仅建议部分加载不到图片的 iOS 设备开启，若您的设备图片能正常加载请勿开启，开启后可能会导致图片每次都进行网络请求，切换后需要重新冷启动才能生效"}}},"./src/screens/user/setting/component/storage/index.tsx":(e,s,t)=>{var m=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),p=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),f=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),j=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),_=t("./src/components/index.ts"),x=t("./src/components/image/image.web.tsx"),b=t("./src/screens/_/index.ts"),g=r(t("./src/stores/index.ts")),h=t("./src/utils/index.ts"),y=t("./src/utils/dev/index.ts"),v=t("./src/utils/fetch/index.ts"),S=t("./src/utils/hooks/index.ts"),O=t("./src/utils/storage/utils.web.ts"),T=t("./src/constants/index.ts"),E=r(t("./src/constants/i18n/index.ts")),C=t("./src/screens/user/setting/utils.ts"),I=t("./src/screens/user/setting/component/storage/ds.ts"),P=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function n(e){var s=e.filter,e=((0,y.r)(I.COMPONENT),(0,S.useBoolean)(!1)),t=e.state,r=e.setTrue,n=e.setFalse,e=(0,j.useState)(""),e=(0,f.default)(e,2),o=e[0],i=e[1],d=(0,j.useCallback)((0,p.default)(m.mark(function e(){var s,t;return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.STORYBOOK)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,O.getAllKeys)();case 5:return s=e.sent,e.next=8,(0,O.multiGet)(s);case 8:s=e.sent,t=0,s.forEach(function(e){t+=e[0].length+e[1].length}),i((0,h.toFixed)(t/1e3/1e3,1)+" mb"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Setting","caculateStorageSize",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])})),[]),l=(0,j.useCallback)(function(){(0,h.confirm)("清除所有数据"+E.default.cache()+"，确定?",(0,p.default)(m.mark(function e(){return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.t)("设置.清除缓存",{type:"storage"}),e.next=3,g.default.clearStorage();case 3:setTimeout(function(){(0,h.info)("已清除数据缓存"),d()},2400);case 4:case"end":return e.stop()}},e)})))},[d]),a=(0,j.useCallback)(function(){(0,h.confirm)("清除所有图片缓存，确定?",function(){(0,v.t)("设置.清除缓存",{type:"images"}),setTimeout(function(){(0,x.clearCache)(),(0,h.info)("已清除图片缓存")},0)})},[]),c=(0,j.useCallback)(function(){(0,h.confirm)("清除所有包括页面接口的数据"+E.default.cache()+" (若需清除图片"+E.default.cache()+"，请到系统里面清除应用数据)，确定?",(0,p.default)(m.mark(function e(){return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.t)("设置.清除缓存",{type:"all"}),e.next=3,g.default.clearStorage();case 3:(0,x.clearCache)(),setTimeout(function(){(0,h.info)("已清除"),d()},2400);case 5:case"end":return e.stop()}},e)})))},[d]),u=((0,S.useMount)(function(){d()}),(0,C.getShows)(s,I.TEXTS));return(0,S.useObserver)(function(){return u?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.ItemSetting,{hd:"缓存",arrow:!0,highlight:!0,filter:s,onPress:r}),(0,P.jsxs)(_.ActionSheet,{show:t,title:"缓存",onClose:n,children:[(0,P.jsx)(b.ItemSetting,Object.assign({show:u.clearStorage,ft:(0,P.jsx)(_.Text,{type:"sub",size:15,children:o}),arrow:!0,highlight:!0,filter:s,onPress:l},I.TEXTS.clearStorage,{hd:"清除数据"+E.default.cache(),children:(0,P.jsx)(_.Heatmap,{id:"设置.清除缓存"})})),(0,P.jsx)(b.ItemSetting,Object.assign({show:u.clearImages,arrow:!0,highlight:!0,filter:s,onPress:a},I.TEXTS.clearImages,{hd:"清除图片"+E.default.cache(),children:(0,P.jsx)(_.Heatmap,{id:"设置.清除缓存"})})),(0,P.jsx)(b.ItemSetting,Object.assign({show:u.clearAll,arrow:!0,highlight:!0,filter:s,onPress:c},I.TEXTS.clearAll,{hd:"清除全部"+E.default.cache(),children:(0,P.jsx)(_.Heatmap,{id:"设置.清除缓存"})}))]})]}):null})}s.default=n;try{n.displayName="Storage",n.__docgenInfo={description:"",displayName:"Storage",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/storage/index.tsx#Storage"]={docgenInfo:n.__docgenInfo,name:"Storage",path:"src/screens/user/setting/component/storage/index.tsx#Storage"})}catch(e){}},"./src/screens/user/setting/component/subject/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.VALUES_2=s.VALUES=s.THUMBS=s.TEXTS=s.DATA=s.COMPONENT=void 0,t("./src/utils/dev/index.ts")),r=r(t("./src/constants/i18n/index.ts")),t=t("./src/screens/user/setting/component/ds.ts"),o=(s.COMPONENT=(0,n.rc)(t.COMPONENT,"Subject"),s.DATA={showRelation:"前传 / 续作",showEp:"章节",showTags:"标签",showSummary:"简介",showInfo:"详情",showThumbs:"预览图",showGameInfo:"游戏条目信息",showRating:"评分",showCharacter:"角色",showStaff:"制作人员",showAnitabi:"取景地标",showRelations:"关联条目",showCatalog:"目录",showRecent:"动态",showBlog:"日志",showTopic:"帖子",showLike:"猜你喜欢",showComic:"单行本",showComment:"吐槽"});s.THUMBS={showRelation:["0/2022/png/386799/1661209910450-16b3c627-295f-40a1-a2ec-7870faeb4c1f.png","0/2022/png/386799/1661209913550-b4af7ba0-6a5c-4059-a041-b7be25d491a5.png"],showEp:["0/2022/png/386799/1661211756880-d0abf61a-fa43-4424-aa71-087e70ef1ded.png","0/2022/png/386799/1661211759613-21462348-9c11-4497-8fb4-1d7a742bca9c.png","0/2022/png/386799/1661211761597-084b3fd1-2032-416b-9afa-ab731cdeb2df.png"],showTags:["0/2022/png/386799/1661210180566-de6913da-25ae-4bbc-a43e-97c066945525.png"],showSummary:["0/2022/png/386799/1661210189925-bba17696-dd76-4586-81a8-25955f890ed6.png","0/2022/png/386799/1661210197003-59c8df25-c24a-481a-b7c6-66823e798013.png"],showInfo:["0/2022/png/386799/1661210396795-7bc8804d-6704-4f7e-b3d3-e059efcb46d5.png"],showThumbs:["0/2022/png/386799/1661210559030-e6ddfee6-c3ce-40b1-8bd4-eea33792a129.png","0/2022/png/386799/1661210561536-2bd8bc5f-e3b4-4445-89b8-91a099f5b24b.png","0/2022/png/386799/1661210564336-1ef74bcd-a15d-4ed6-bdef-d465ffa5cbe6.png"],showGameInfo:!1,showRating:["0/2022/png/386799/1661210404254-c11d15dd-bbcb-4bdd-a2eb-a5611ca29290.png"],showCharacter:["0/2022/png/386799/1661210775424-81389b5c-888d-4c7c-a51a-a9d5bb1f54cf.png"],showStaff:!1,showRelations:!1,showAnitabi:["0/2023/png/386799/1673548775309-cfad2c26-a0bf-4808-8846-7a4bc1a49ba8.png","0/2023/png/386799/1673565704431-39a95c3f-2911-4eff-bbbe-5f2862da9286.png"],showCatalog:["0/2022/png/386799/1661210861856-595c3ace-d109-4c01-a39e-712515e2a99e.png","0/2022/png/386799/1661211121070-5ab05df8-c5d3-460d-8535-72b1403cfae2.png"],showRecent:!1,showBlog:["0/2022/png/386799/1661210959469-bfe9246a-fba9-47a4-854e-c7ecb8756e7a.png"],showTopic:!1,showLike:["0/2022/png/386799/1661211415018-10587b5b-47fc-4cef-b17b-bafa2913b7f9.png"],showComic:["0/2022/png/386799/1661211873095-111ba1c2-19f5-475d-9bc8-e895b0de6d08.png"],showComment:["0/2022/png/386799/1661211511329-99bac0c2-44f1-4945-9db1-0e4af5238040.png"]},s.VALUES=["显示","折叠","隐藏"],s.VALUES_2=["显示","隐藏"],s.TEXTS={showCount:{hd:"其他用户收藏数量",information:"站点所有用户各收藏状态计数"},showEpInput:{hd:"进度输入框",information:"批量快速操作章节看过，也可用于标记到没有录入的章节"},showCustomOnair:{hd:"自定义放送时间块",information:"收藏状态为在看的动画，章节的右下方，"+r.default.initial()+"值为线上放送时间，手动更改后首页收藏排序以此为准"},layout:{text:"页面布局",search:Object.keys(o).map(function(e){return o[e]}).join()}}},"./src/screens/user/setting/component/subject/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),c=t("./src/utils/fetch/index.ts"),u=t("./src/utils/hooks/index.ts"),m=r(t("./src/constants/i18n/index.ts")),p=r(t("./src/screens/user/setting/styles.ts")),f=t("./src/screens/user/setting/utils.ts"),j=t("./src/screens/user/setting/component/subject/ds.ts"),_=t("./node_modules/react/jsx-runtime.js");function o(e){var o=e.filter,e=((0,n.r)(j.COMPONENT),(0,u.useBoolean)(!1)),s=e.state,t=e.setTrue,r=e.setFalse,i=(0,f.getShows)(o,j.TEXTS);return(0,u.useObserver)(function(){var n;return i?(n=a.systemStore.setting,(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.ItemSetting,{hd:"条目",arrow:!0,highlight:!0,filter:o,onPress:t}),(0,_.jsxs)(d.ActionSheet,{show:s,title:"条目",height:o?400:760,onClose:r,children:[(0,_.jsx)(l.ItemSetting,Object.assign({show:i.showCount,ft:(0,_.jsx)(d.SegmentedControl,{style:p.default.segmentedControl,size:12,values:j.VALUES_2,selectedIndex:n.showCount?0:1,onValueChange:function(e){(0,c.t)("设置.切换",{title:"条目.其他用户收藏数量",label:e}),a.systemStore.setSetting("showCount","显示"===e)}}),filter:o,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661209187428-25d8eb90-0a10-4ec6-9ac3-0e9512fd62d5.png"])},j.TEXTS.showCount,{children:(0,_.jsx)(d.Heatmap,{id:"设置.切换",title:"条目.其他用户收藏数量"})})),(0,_.jsx)(l.ItemSetting,Object.assign({show:i.showEpInput,ft:(0,_.jsx)(d.SegmentedControl,{style:p.default.segmentedControl,size:12,values:j.VALUES_2,selectedIndex:n.showEpInput?0:1,onValueChange:function(e){(0,c.t)("设置.切换",{title:"条目.进度输入框",label:e}),a.systemStore.setSetting("showEpInput","显示"===e)}}),filter:o,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661209205559-20bb627c-a3bc-49ef-8ead-2e5b7e557ef3.png"])},j.TEXTS.showEpInput,{children:(0,_.jsx)(d.Heatmap,{id:"设置.切换",title:"条目.进度输入框"})})),(0,_.jsx)(l.ItemSetting,Object.assign({show:i.showCustomOnair,ft:(0,_.jsx)(d.SegmentedControl,{style:p.default.segmentedControl,size:12,values:j.VALUES_2,selectedIndex:n.showCustomOnair?0:1,onValueChange:function(e){(0,c.t)("设置.切换",{title:"条目.自定义放送时间块",label:e}),a.systemStore.setSetting("showCustomOnair","显示"===e)}}),filter:o,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661209627915-8d0fe927-8c1e-4849-9993-d87df4ea5e6d.png","0/2022/png/386799/1661209631943-1d4861c5-396f-4641-9b72-c88148e2cafd.png"])},j.TEXTS.showCustomOnair,{information:"收藏状态为在看的动画，章节的右下方，"+m.default.initial()+"值为线上放送时间，手动更改后首页收藏排序以此为准",children:(0,_.jsx)(d.Heatmap,{id:"设置.切换",title:"条目.自定义放送时间块"})})),i.layout&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d.Highlight,{style:[a._.container.wind,a._.mt.md,a._.mb.sm],type:"sub",size:12,lineHeight:13,value:o,children:j.TEXTS.layout.text}),Object.keys(j.DATA).map(function(s){var t=j.DATA[s],e=n[s],r=-1===e?2:e?0:1;return(0,_.jsx)(l.ItemSetting,{hd:t,ft:"showEp"===s||"showComic"===s?(0,_.jsx)(d.Text,{style:p.default.segmentedControl,bold:!0,align:"center",children:"此功能块不支持自定义"}):(0,_.jsx)(d.SegmentedControl,{style:p.default.segmentedControl,size:12,values:j.VALUES,selectedIndex:r,onValueChange:function(e){e&&e===j.VALUES[r]||((0,c.t)("设置.切换",{title:"条目."+t,label:e}),a.systemStore.setSetting(s,"显示"===e||"折叠"!==e&&-1))}}),filter:o,thumb:(0,f.getYuqueThumbs)(j.THUMBS[s]),children:(0,_.jsx)(d.Heatmap,{id:"设置.切换",title:"条目."+t})},s)})]})]})]})):null})}s.default=o;try{o.displayName="Subject",o.__docgenInfo={description:"",displayName:"Subject",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/subject/index.tsx#Subject"]={docgenInfo:o.__docgenInfo,name:"Subject",path:"src/screens/user/setting/component/subject/index.tsx#Subject"})}catch(e){}},"./src/screens/user/setting/component/system/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"System"),s.TEXTS={setting:{setting:{title:"同步设置",information:"同步设置、超展开设置、自定义放送数据"},download:{title:"下载"},upload:{title:"上传"},reset:{title:"恢复默认"}},settingTopic:{hd:"同步收藏的帖子",information:"规划中暂不可用，当前均为自动同步，后续会改为手动"},serverStatus:{hd:"网络探针"}}},"./src/screens/user/setting/component/system/index.tsx":(e,s,t)=>{var a=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),u=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),x=t("./src/utils/db/index.ts"),b=t("./src/utils/dev/index.ts"),g=t("./src/utils/fetch/index.ts"),h=t("./src/utils/hooks/index.ts"),y=t("./src/constants/index.ts"),v=r(t("./src/constants/i18n/index.ts")),S=t("./src/screens/user/setting/utils.ts"),O=t("./src/screens/user/setting/component/system/ds.ts"),T=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function n(e){var s=e.navigation,t=e.filter,e=((0,b.r)(O.COMPONENT),(0,m.useState)(0)),e=(0,u.default)(e,2),r=e[0],n=e[1],e=(0,h.useBoolean)(!1),o=e.state,i=e.setTrue,d=e.setFalse,l=((0,h.useMount)(function(){setTimeout((0,c.default)(a.mark(function e(){var s,t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=j.userStore.userInfo.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,x.read)({path:"setting/"+s+".json"});case 6:t=e.sent,null!=(t=t.content)&&t.length&&n(t.length),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,null,[[0,11]])})),2400)}),(0,S.getShows)(t,O.TEXTS));return(0,h.useObserver)(function(){return l?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.ItemSetting,{hd:"同步"+v.default.setting(),arrow:!0,highlight:!0,filter:t,onPress:i}),(0,T.jsxs)(p.ActionSheet,{show:o,title:"同步",onClose:d,children:[(0,T.jsxs)(f.ItemSettingBlock,{show:l.setting,style:j._.mt.sm,title:"同步"+v.default.setting(),information:"同步"+v.default.setting()+"、超展开"+v.default.setting()+"、自定义放送数据",filter:t,children:[(0,T.jsx)(f.ItemSettingBlock.Item,{icon:"md-ios-share",iconStyle:{transform:[{rotate:"180deg"}]},title:"下载",information:r?(r/1e3).toFixed(1)+" kb":(!j.userStore.isLogin||!j.userStore.userInfo.id)&&"需"+v.default.login(),filter:t,onPress:function(){if((0,g.t)("设置.恢复默认设置",{label:"下载"}),!j.userStore.isLogin||!j.userStore.userInfo.id)return(0,_.info)("下载需先"+v.default.login());setTimeout(function(){(0,_.confirm)("确定恢复到云端的设置?",(0,c.default)(a.mark(function e(){var s,t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,_.loading)("下载设置(1/3)..."),e.next=3,j.systemStore.downloadSetting();case 3:return t=e.sent,s(),s=(0,_.loading)("超展开设置(2/3)..."),e.next=8,j.rakuenStore.downloadSetting();case 8:return s(),s=(0,_.loading)("自定义放送数据(3/3)"),e.next=12,j.calendarStore.downloadSetting();case 12:s(),(0,_.feedback)(),(0,_.info)(t?"已恢复":"下载设置失败");case 15:case"end":return e.stop()}},e)})))},160)}}),(0,T.jsx)(f.ItemSettingBlock.Item,{style:j._.ml.md,icon:"md-ios-share",title:"上传",information:(!j.userStore.isLogin||!j.userStore.userInfo.id)&&"需"+v.default.login(),filter:t,onPress:function(){if((0,g.t)("设置.恢复默认设置",{label:"上传"}),!j.userStore.isLogin||!j.userStore.userInfo.id)return(0,_.info)("上传需先"+v.default.login());setTimeout(function(){(0,_.confirm)("确定上传当前设置到云端?",(0,c.default)(a.mark(function e(){var s,t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,_.loading)("上传设置(1/3)..."),e.next=3,j.systemStore.uploadSetting();case 3:return t=e.sent,s(),s=(0,_.loading)("超展开设置(2/3)..."),e.next=8,j.rakuenStore.uploadSetting();case 8:return s(),s=(0,_.loading)("自定义放送数据(3/3)"),e.next=12,j.calendarStore.uploadSetting();case 12:s(),(0,_.feedback)(),(0,_.info)(t?"已上传":"上传失败，云服务异常，请待作者修复");case 15:case"end":return e.stop()}},e)})))},160)}}),(0,T.jsx)(f.ItemSettingBlock.Item,{style:j._.ml.md,icon:"md-refresh",title:"恢复"+v.default.initial(),filter:t,onPress:function(){(0,g.t)("设置.恢复默认设置",{label:"恢复默认"}),setTimeout(function(){(0,_.confirm)("仅会恢复"+v.default.initial()+"设置，不包含超展开设置和自定义放送数据，确定?",function(){j.systemStore.resetSetting(),setTimeout(function(){(0,_.info)("已恢复")},160)})},160)}})]}),(0,T.jsx)(f.ItemSetting,Object.assign({show:l.settingTopic,filter:t},O.TEXTS.settingTopic))]}),(0,T.jsx)(f.ItemSetting,Object.assign({show:!y.STORYBOOK&&l.serverStatus,arrow:!0,highlight:!0,filter:t,onPress:function(){(0,g.t)("设置.跳转",{title:"网络探针",to:"ServerStatus"}),s.push("ServerStatus")}},O.TEXTS.serverStatus,{children:(0,T.jsx)(p.Heatmap,{id:"设置.跳转",to:"ServerStatus",alias:"网络探针"})}))]}):null})}s.default=n;try{n.displayName="System",n.__docgenInfo={description:"",displayName:"System",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/system/index.tsx#System"]={docgenInfo:n.__docgenInfo,name:"System",path:"src/screens/user/setting/component/system/index.tsx#System"})}catch(e){}},"./src/screens/user/setting/component/theme/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=s.BLUR_SETTINGS=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Theme"),s.BLUR_SETTINGS=["blurBottomTabs","blurToast","blurModal"],s.TEXTS={theme:{setting:{title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效"},light:{title:"明亮"},deepDark:{title:"纯黑"},dark:{title:"黑暗"}},autoColorScheme:{hd:"跟随系统",information:"启动 App 时黑白主题是否跟随系统"},androidBlur:{hd:"[实验性] 毛玻璃布局",information:"在首屏顶部底部、模态框、输入框等 UI 背景上，启用仿 iOS 的毛玻璃效果\n因在安卓里，毛玻璃的实现需要消耗大量资源，很有可能出现明显掉帧情况，仅建议最新型号的手机尝试"},blurBottomTabs:{hd:"首屏页面顶部和底部"},blurToast:{hd:"轻提示"},blurModal:{hd:"模态框"}}},"./src/screens/user/setting/component/theme/index.tsx":(e,s,t)=>{var c=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),u=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),m=(r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),p=t("./src/components/header/utils.tsx"),f=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/dev/index.ts"),x=t("./src/utils/fetch/index.ts"),b=t("./src/utils/hooks/index.ts"),g=t("./src/constants/index.ts"),h=r(t("./src/screens/user/setting/styles.ts")),y=t("./src/screens/user/setting/utils.ts"),v=t("./src/screens/user/setting/component/theme/ds.ts"),S=t("./node_modules/react/jsx-runtime.js");function n(e){var n=e.navigation,o=e.filter,e=((0,_.r)(v.COMPONENT),(0,b.useBoolean)(!1)),i=e.state,d=e.setTrue,l=e.setFalse,a=(0,y.getShows)(o,v.TEXTS);return(0,b.useObserver)(function(){var e,s,t,r;return g.STORYBOOK||!a?null:(e=j.systemStore.setting,s=e.deepDark,t=e.autoColorScheme,r=e.androidBlur,(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.ItemSetting,{hd:"主题",arrow:!0,highlight:!0,filter:o,onPress:d}),(0,S.jsxs)(m.ActionSheet,{show:i,height:o||g.IOS?440:760,title:"主题",onClose:l,children:[(0,S.jsxs)(f.ItemSettingBlock,Object.assign({style:j._.mt.sm,show:a.theme,filter:o,thumb:(0,y.getYuqueThumbs)(["0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png","0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png","0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"])},v.TEXTS.theme.setting,{children:[(0,S.jsx)(f.ItemSettingBlock.Item,Object.assign({icon:"ios-sunny",iconColor:j._.colorYellow,active:!j._.isDark,filter:o,onPress:(0,u.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j._.isDark){e.next=2;break}return e.abrupt("return");case 2:(0,x.t)("设置.切换",{title:"黑暗模式",checked:!j._.isDark}),j._.toggleMode(),setTimeout(function(){(0,p.updateHeader)({navigation:n})},0),setTimeout(function(){j._.mode!==j._.tinygrailThemeMode&&j._.toggleTinygrailThemeMode()},40);case 6:case"end":return e.stop()}},e)}))},v.TEXTS.theme.light,{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:"黑暗模式"})})),(0,S.jsx)(f.ItemSettingBlock.Item,Object.assign({style:j._.ml.md,icon:"ios-moon",iconColor:j._.colorYellow,active:j._.isDark&&s,filter:o,onPress:(0,u.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j._.isDark&&s)return e.abrupt("return");e.next=2;break;case 2:(0,x.t)("设置.切换",{title:"纯黑",checked:!s}),s||j.systemStore.switchSetting("deepDark"),j._.toggleMode("dark"),setTimeout(function(){(0,p.updateHeader)({navigation:n})},0),setTimeout(function(){j._.mode!==j._.tinygrailThemeMode&&j._.toggleTinygrailThemeMode()},40);case 7:case"end":return e.stop()}},e)}))},v.TEXTS.theme.deepDark,{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:"纯黑"})})),(0,S.jsx)(f.ItemSettingBlock.Item,Object.assign({style:j._.ml.md,icon:"ios-moon",iconColor:j._.colorYellow,active:j._.isDark&&!s,filter:o,onPress:(0,u.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j._.isDark&&!s)return e.abrupt("return");e.next=2;break;case 2:(0,x.t)("设置.切换",{title:"纯黑",checked:s}),s&&j.systemStore.switchSetting("deepDark"),j._.toggleMode("dark"),setTimeout(function(){(0,p.updateHeader)({navigation:n})},0),setTimeout(function(){j._.mode!==j._.tinygrailThemeMode&&j._.toggleTinygrailThemeMode()},40);case 7:case"end":return e.stop()}},e)}))},v.TEXTS.theme.dark,{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:"黑暗模式"})}))]})),(0,S.jsx)(f.ItemSetting,Object.assign({show:a.autoColorScheme&&!g.IS_BEFORE_ANDROID_10,ft:(0,S.jsx)(m.SwitchPro,{style:h.default.switch,value:t,onSyncPress:function(){(0,x.t)("设置.切换",{title:"跟随系统",checked:!t}),j.systemStore.switchSetting("autoColorScheme")}}),filter:o},v.TEXTS.autoColorScheme,{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:"跟随系统"})})),(0,S.jsx)(f.ItemSetting,Object.assign({show:!g.IOS&&!g.IS_BEFORE_ANDROID_10&&a.androidBlur,ft:(0,S.jsx)(m.SwitchPro,{style:h.default.switch,value:r,onSyncPress:function(){(0,x.t)("设置.切换",{title:"毛玻璃布局",checked:!r}),j.systemStore.switchSetting("androidBlur")}}),filter:o},v.TEXTS.androidBlur,{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:"毛玻璃布局"})})),!g.IOS&&!g.IS_BEFORE_ANDROID_10&&r&&v.BLUR_SETTINGS.map(function(e){var s=v.TEXTS[e].hd,t=j.systemStore.setting[e];return(0,S.jsx)(f.ItemSetting,Object.assign({style:j._.ml.md,show:a[e],ft:(0,S.jsx)(m.SwitchPro,{style:h.default.switch,value:t,onSyncPress:function(){(0,x.t)("设置.切换",{title:s,checked:!t}),j.systemStore.switchSetting(e)}}),filter:o},v.TEXTS[e],{children:(0,S.jsx)(m.Heatmap,{id:"设置.切换",title:s})}))})]})]}))})}s.default=n;try{n.displayName="Theme",n.__docgenInfo={description:"",displayName:"Theme",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/theme/index.tsx#Theme"]={docgenInfo:n.__docgenInfo,name:"Theme",path:"src/screens/user/setting/component/theme/index.tsx#Theme"})}catch(e){}},"./src/screens/user/setting/component/timeline/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Timeline"),s.TEXTS={timelinePopable:{hd:"点击条目名字先显示缩略信息"}}},"./src/screens/user/setting/component/timeline/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),l=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/dev/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/utils/hooks/index.ts"),f=r(t("./src/screens/user/setting/styles.ts")),j=t("./src/screens/user/setting/utils.ts"),_=t("./src/screens/user/setting/component/timeline/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function n(e){var s=e.filter,t=((0,u.r)(_.COMPONENT),(0,p.useIsFocused)()),e=(0,p.useBoolean)(!1),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,j.getShows)(s,_.TEXTS);return(0,d.useEffect)(function(){t||(o(),c.uiStore.closePopableSubject())},[t,o]),(0,p.useObserver)(function(){var e;return i?(e=c.systemStore.setting.timelinePopable,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.ItemSetting,{hd:"时间胶囊",arrow:!0,highlight:!0,filter:s,onPress:function(){n(),setTimeout(function(){c.uiStore.updatePopableSubjectPortalKey()},160)}}),(0,x.jsxs)(l.ActionSheet,{show:r,title:"时间胶囊",onClose:function(){o(),c.uiStore.closePopableSubject()},children:[(0,x.jsx)(a.ItemSetting,Object.assign({show:i.timelinePopable,ft:(0,x.jsx)(l.SwitchPro,{style:f.default.switch,value:e,onSyncPress:function(){(0,m.t)("设置.切换",{title:"显示缩略信息",checked:!e}),c.systemStore.switchSetting("timelinePopable")}}),filter:s},_.TEXTS.timelinePopable,{children:(0,x.jsx)(l.Heatmap,{id:"设置.切换",title:"显示缩略信息"})})),(0,x.jsxs)(a.TapListener,{children:[(0,x.jsxs)(l.Flex,{style:f.default.acSearch,children:[(0,x.jsx)(l.Text,{size:13,children:"试一试∶"}),(0,x.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,x.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"在看"})," ",(0,x.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){c.uiStore.showPopableSubject({subjectId:364450})},children:"リコリス・リコイル"})]})]}),(0,x.jsxs)(l.Flex,{style:f.default.acSearch,children:[(0,x.jsx)(l.Text,{size:13,children:"　　　　"}),(0,x.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,x.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"想读"})," ",(0,x.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){c.uiStore.showPopableSubject({subjectId:377599})},children:"さよなら絵梨"})]})]}),(0,x.jsxs)(l.Flex,{style:f.default.acSearch,children:[(0,x.jsx)(l.Text,{size:13,children:"　　　　"}),(0,x.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,x.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"玩过"})," ",(0,x.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){c.uiStore.showPopableSubject({subjectId:368785})},children:"ゼノブレイド3"})]})]}),(0,x.jsxs)(l.Flex,{style:f.default.acSearch,children:[(0,x.jsx)(l.Text,{size:13,children:"　　　　"}),(0,x.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,x.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"听过"})," ",(0,x.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){c.uiStore.showPopableSubject({subjectId:368936})},children:"夢が僕らの太陽さ"})]})]})]}),(0,x.jsx)(l.Touchable,{style:f.default.closePopablePlaceholder,withoutFeedback:!0,onPress:function(){c.uiStore.closePopableSubject()}})]})]})):null})}s.default=n;try{n.displayName="Timeline",n.__docgenInfo={description:"",displayName:"Timeline",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/timeline/index.tsx#Timeline"]={docgenInfo:n.__docgenInfo,name:"Timeline",path:"src/screens/user/setting/component/timeline/index.tsx#Timeline"})}catch(e){}},"./src/screens/user/setting/component/timezone/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Timezone"),s.TEXTS={timezone:{hd:"设置时区",information:(n.TIMEZONE_IS_GMT8?"检测到你是 GMT+8 时区用户, 不建议你设置!\n":"")+"会影响到帖子楼层回复时间、条目评论时间等的显示"}}},"./src/screens/user/setting/component/timezone/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),u=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),m=n(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),p=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),f=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),j=t("./src/components/index.ts"),_=t("./src/screens/_/index.ts"),x=t("./src/stores/index.ts"),b=t("./src/utils/index.ts"),g=t("./src/utils/dev/index.ts"),h=t("./src/utils/fetch/index.ts"),y=t("./src/utils/hooks/index.ts"),v=t("./src/constants/index.ts"),S=t("./src/screens/user/setting/utils.ts"),O=t("./src/screens/user/setting/component/timezone/ds.ts"),T=t("./src/screens/user/setting/component/timezone/styles.ts"),E=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function o(e){var n=e.filter,e=((0,g.r)(O.COMPONENT),(0,y.useBoolean)(!1)),o=e.state,i=e.setTrue,d=e.setFalse,e=(0,p.useState)({formhash:"",nickname:"",sign_input:"",newbio:"",timeoffsetnew:""}),e=(0,m.default)(e,2),l=e[0],t=e[1],s=(0,p.useCallback)((0,u.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.userStore.fetchUserSetting();case 2:(s=e.sent)._loaded&&s.formhash&&t({formhash:s.formhash,nickname:s.nickname,sign_input:s.sign_input,newbio:s.sign,timeoffsetnew:s.timeoffsetnew});case 4:case"end":return e.stop()}},e)})),[]),a=(0,p.useCallback)(function(e){x.userStore.doUpdateUserSetting(Object.assign({},l,{timeoffsetnew:e}),(0,u.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:(0,b.feedback)();case 3:case"end":return e.stop()}},e)})))},[s,l]),c=((0,p.useEffect)(function(){o&&s()},[o,s]),(0,S.getShows)(n,O.TEXTS));return(0,y.useObserver)(function(){var e,t,s,r;return c&&x.userStore.isLogin?(t=(0,T.memoStyles)(),s=null==(s=v.TIMEZONE.find(function(e){return e.value==l.timeoffsetnew}))?void 0:s.label,r=(null==(e=b.TZ.split("/"))?void 0:e[1])||"",(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.ItemSetting,{hd:"时区",arrow:!0,highlight:!0,filter:n,onPress:i}),(0,E.jsxs)(j.ActionSheet,{show:o,height:n?400:640,title:"时区",onClose:d,children:[(0,E.jsx)(_.ItemSetting,Object.assign({show:c.timezone,filter:n},O.TEXTS.timezone,{children:(0,E.jsx)(j.Heatmap,{id:"设置.切换",title:"设置时区"})})),(0,E.jsxs)(f.default,{style:x._.container.wind,children:[(0,E.jsxs)(j.Text,{style:x._.mt.sm,size:13,bold:!0,children:["当前账户设置的时区为：",(0,E.jsx)(j.Text,{type:"warning",size:13,bold:!0,children:s})]}),v.TIMEZONE.slice().sort(function(e,s){return(0,b.desc)("默认时区"===e.label?2:e.label.includes(r)?1:0,"默认时区"===s.label?2:s.label.includes(r)?1:0)}).map(function(e){var s=e.value==l.timeoffsetnew;return(0,E.jsx)(j.Touchable,{style:(0,b.stl)(t.item,s&&t.itemActive),animate:!0,onPress:function(){s||(0,b.confirm)("提交时区设置 "+e.label+" 到服务器, 会影响到所有设备的显示, 确定?",function(){a(e.value),(0,h.t)("设置.切换",{title:"设置时区",timezone:e.value})})},children:(0,E.jsx)(j.Text,{children:e.label})},e.value)})]})]})]})):null})}s.default=o;try{o.displayName="Timezone",o.__docgenInfo={description:"",displayName:"Timezone",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/timezone/index.tsx#Timezone"]={docgenInfo:o.__docgenInfo,name:"Timezone",path:"src/screens/user/setting/component/timezone/index.tsx#Timezone"})}catch(e){}},"./src/screens/user/setting/component/timezone/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{item:{padding:r._.md,marginTop:r._.md,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},itemActive:{borderColor:r._.colorSuccess}}})},"./src/screens/user/setting/component/tinygrail/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.DS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tinygrail"),s.TEXTS={tinygrail:{hd:"小圣杯",information:"人物卡片交易玩法，目前玩法已死，你也可以当成是每天的人物抽奖刮刮乐，人物塔图收集玩法罢了\nQQ 群号：1038257138"},tinygrailMode:{hd:"涨跌色",search:"绿涨红跌, 红涨绿跌"},homeCustom:{hd:"进度页右上角入口",information:"v7.3.2 后不再默认配置小圣杯入口\n若需要请手动设置"}},s.DS=["绿涨红跌","红涨绿跌"]},"./src/screens/user/setting/component/tinygrail/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),d=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/dev/index.ts"),c=t("./src/utils/fetch/index.ts"),u=t("./src/utils/hooks/index.ts"),m=t("./src/constants/index.ts"),p=r(t("./src/screens/user/setting/styles.ts")),f=t("./src/screens/user/setting/utils.ts"),j=r(t("./src/screens/user/setting/component/home/custom-btn/index.tsx")),_=t("./src/screens/user/setting/component/tinygrail/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function n(e){var s=e.filter,e=((0,a.r)(_.COMPONENT),(0,u.useBoolean)(!1)),t=e.state,r=e.setTrue,n=e.setFalse,o=(0,f.getShows)(s,_.TEXTS);return(0,u.useObserver)(function(){var e;return m.STORYBOOK||!o?null:(e=l.systemStore.setting.tinygrail,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.ItemSetting,{hd:"小圣杯",ft:e?(0,x.jsx)(i.Text,{type:"sub",size:15,children:"开启"}):null,arrow:!0,highlight:!0,filter:s,onPress:r}),(0,x.jsxs)(i.ActionSheet,{show:t,title:"小圣杯",onClose:n,children:[(0,x.jsx)(d.ItemSetting,Object.assign({show:o.tinygrail,ft:(0,x.jsx)(i.SwitchPro,{style:p.default.switch,value:e,onSyncPress:function(){(0,c.t)("设置.切换",{title:"小圣杯",checked:!e}),l.systemStore.switchSetting("tinygrail")}}),filter:s,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661214518986-f6760da2-6a78-489b-85fc-2c7fabf97279.png","0/2022/png/386799/1661214525841-58dcbaf0-c0a7-446f-8045-69d855e32914.png","0/2022/png/386799/1661214653550-d0132b94-b2ff-4e6c-97ab-2cd15b1bc48b.png","0/2022/png/386799/1661214535802-72f9dad6-5869-4518-86a1-048e4046c900.png","0/2022/png/386799/1661214600784-c75037d5-4c7a-4022-92ad-679dc49be9b9.png","0/2022/png/386799/1661214604762-9e11c96f-7841-4581-8e34-e77c5a71a139.png"])},_.TEXTS.tinygrail,{children:(0,x.jsx)(i.Heatmap,{id:"设置.切换",title:"小圣杯"})})),(0,x.jsx)(d.ItemSetting,Object.assign({show:o.tinygrailMode,ft:(0,x.jsx)(i.SegmentedControl,{style:p.default.segmentedControl,size:12,values:_.DS,selectedIndex:l._.isWeb?2:l._.isGreen?0:1,onValueChange:function(e){l._.isGreen&&e===_.DS[0]||!l._.isGreen&&e===_.DS[1]||((0,c.t)("设置.切换",{title:"小圣杯涨跌色",label:l._.isWeb?"网页一致":l._.isGreen?"红涨绿跌":"绿涨红跌"}),l._.toggleTinygrailMode())}}),filter:s,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661214673062-50a40076-90c3-499f-9ea6-bc4694a92f05.png","0/2022/png/386799/1661214675966-24eb1061-9a89-4c72-8173-e3a3f3f16adb.png"])},_.TEXTS.tinygrailMode,{children:(0,x.jsx)(i.Heatmap,{id:"设置.切换",title:"小圣杯涨跌色"})})),(0,x.jsx)(d.ItemSetting,Object.assign({show:o.homeCustom,ft:(0,x.jsx)(j.default,{}),filter:s},_.TEXTS.homeCustom,{children:(0,x.jsx)(i.Heatmap,{id:"设置.切换",title:"右上角功能入口"})}))]})]}))})}s.default=n;try{n.displayName="Tinygrail",n.__docgenInfo={description:"",displayName:"Tinygrail",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/tinygrail/index.tsx#Tinygrail"]={docgenInfo:n.__docgenInfo,name:"Tinygrail",path:"src/screens/user/setting/component/tinygrail/index.tsx#Tinygrail"})}catch(e){}},"./src/screens/user/setting/component/tip/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tip")},"./src/screens/user/setting/component/tip/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/setting/component/tip/ds.ts"),i=t("./src/screens/user/setting/component/tip/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){return e=e.children,(0,d.jsx)(n.Flex,{style:i.styles.tip,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(n.Text,{type:"sub",bold:!0,children:e})})})},o.COMPONENT);try{tip.displayName="tip",tip.__docgenInfo={description:"",displayName:"tip",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/tip/index.tsx#tip"]={docgenInfo:tip.__docgenInfo,name:"tip",path:"src/screens/user/setting/component/tip/index.tsx#tip"})}catch(e){}},"./src/screens/user/setting/component/tip/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({tip:{paddingTop:t._.md,paddingHorizontal:t._._wind,paddingBottom:t._.sm}})},"./src/screens/user/setting/component/ui/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.width=s.height=s.URL_MUSIC=s.URL_GAME=s.URL_BOOK=s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"UI"),s.URL_BOOK="https://lain.bgm.tv/pic/cover/c/6b/5d/360454_CQqJt.jpg",s.URL_MUSIC="https://lain.bgm.tv/pic/cover/c/68/f3/363071_LfafL.jpg",s.URL_GAME="https://lain.bgm.tv/pic/cover/c/ac/2f/368785_ukWkl.jpg",s.width=Math.floor(n.IMG_WIDTH_SM/1.8),s.height=Math.floor(n.IMG_HEIGHT_SM/1.8),s.TEXTS={font:{title:"字体",information:"开启后会强制使用 Resource Han Rounded (思源幼圆) 字体，以便在各设备达到设计上面的 UI 统一"},coverThings:{title:"封面拟物",information:"能确定类型的条目封面拟物化，增加区分度"},coverRadius:{setting:{title:"图片圆角"},sm:{title:"小"},md:{title:"中"},lg:{title:"大"}},squircle:{title:"[实验性] 圆角过渡",information:"对图片使用另一种曲率渲染圆角（暂不建议使用）"},speech:{title:"看板娘吐槽",information:"通常在列表尾部出现表示已到底"},avatarRound:{setting:{title:"头像"},round:{title:"圆形"},square:{title:"方形"}},fontSize:{title:"字号",search:n.SETTING_FONTSIZEADJUST.map(function(e){return e.label}).join()},ripple:{hd:"点击水纹效果",information:"按钮被按下时产生涟漪效果，关闭可提升性能"},transition:{hd:"切页动画",information:"不建议更改，切换可能需要重新启动才能正确生效",search:n.SETTING_TRANSITION.map(function(e){return e.label}).join()},vibration:{hd:"震动",information:"提交操作完成后追加轻震动反馈"}}},"./src/screens/user/setting/component/ui/index.tsx":(e,s,t)=>{var f=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),j=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),_=(r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),x=t("./src/components/index.ts"),b=t("./src/components/mesume/utils.ts"),g=t("./src/screens/_/index.ts"),h=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),y=t("./src/utils/fetch/index.ts"),o=t("./src/utils/hooks/index.ts"),v=t("./src/utils/hooks/useCachedResources.ts"),S=t("./src/constants/index.ts"),O=r(t("./src/screens/user/setting/styles.ts")),T=t("./src/screens/user/setting/utils.ts"),E=t("./src/screens/user/setting/component/ui/ds.ts"),C=t("./src/screens/user/setting/component/ui/styles.ts"),I=t("./node_modules/react/jsx-runtime.js");function i(e){var a=e.filter,e=((0,n.r)(E.COMPONENT),(0,o.useBoolean)(!1)),c=e.state,u=e.setTrue,m=e.setFalse,p=(0,T.getShows)(a,E.TEXTS);return(0,o.useObserver)(function(){var e,s,t,r,n,o,i,d,l;return p?(e=(0,C.memoStyles)(),l=h.systemStore.setting,s=l.avatarRound,t=l.coverThings,r=l.customFontFamily,n=l.speech,o=l.squircle,i=l.transition,d=l.vibration,l=(null==(l=h.userStore.usersInfo())||null==(l=l.avatar)?void 0:l.large)||S.IMG_DEFAULT_AVATAR,(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.ItemSetting,{hd:"画面",arrow:!0,highlight:!0,filter:a,onPress:u}),(0,I.jsxs)(x.ActionSheet,{show:c,title:"画面",height:a?400:760,onClose:m,children:[(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.font,style:h._.mt.sm,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661070600959-cfe3b7a7-696b-4325-a81e-fe3f58f99edf.png","0/2022/png/386799/1661070607888-446ff81c-6acf-4416-8a73-e2aca67932db.png"])},E.TEXTS.font,{children:[(0,I.jsxs)(g.ItemSettingBlock.Item,{title:"开启",active:!r,filter:a,onPress:(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return(0,y.t)("设置.切换",{title:"字体",checked:!r}),e.next=5,(0,v.loadAppFontsAsync)();case 5:h.systemStore.switchSetting("customFontFamily"),(0,x.setComponentsDefaultProps)();case 7:case"end":return e.stop()}},e)})),children:[(0,I.jsx)(x.Text,{overrideStyle:e.fontStyleBold,type:"sub",size:12,align:"center",bold:!0,children:"Bangumi 番组计划"}),(0,I.jsx)(x.Text,{overrideStyle:e.fontStyle,type:"sub",size:10,align:"center",children:"Abc ばんぐみ 123"})]}),(0,I.jsxs)(g.ItemSettingBlock.Item,{style:h._.ml.md,title:"关闭",active:r,filter:a,onPress:function(){r||((0,y.t)("设置.切换",{title:"字体",checked:!r}),h.systemStore.switchSetting("customFontFamily"),(0,x.setComponentsDefaultProps)())},children:[(0,I.jsx)(x.Text,{overrideStyle:e.fontStyleBoldCustom,type:"sub",size:12,align:"center",bold:!0,children:"Bangumi 番组计划"}),(0,I.jsx)(x.Text,{overrideStyle:e.fontStyleCustom,type:"sub",size:10,align:"center",children:"Abc ばんぐみ 123"})]}),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"字体"})]})),(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.coverThings,style:h._.mt.sm,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661071481482-cb9d38b1-1f09-4188-a13d-c10f5b6bbf75.png","0/2022/png/386799/1661071487013-ae69bffd-7e68-40be-a3d7-2ded444e7d3c.png"])},E.TEXTS.coverThings,{children:[(0,I.jsx)(g.ItemSettingBlock.Item,{itemStyle:e.item,title:"开启",active:t,filter:a,onPress:function(){t||((0,y.t)("设置.切换",{title:"封面拟物",checked:!t}),h.systemStore.switchSetting("coverThings"))},children:(0,I.jsxs)(x.Flex,{style:h._.mt.sm,children:[(0,I.jsx)(_.default,{children:(0,I.jsx)(g.Cover,{type:"书籍",useType:!0,size:E.width,height:E.height,src:E.URL_BOOK,radius:!0})}),(0,I.jsx)(_.default,{style:h._.ml.sm,children:(0,I.jsx)(g.Cover,{containerStyle:e.gameContainer,bodyStyle:e.gameBody,angleStyle:e.gameAngle,type:"游戏",useType:!0,size:E.width,height:E.height,src:E.URL_GAME,radius:!0})}),(0,I.jsx)(_.default,{style:h._.ml.sm,children:(0,I.jsx)(g.Cover,{angleStyle:e.musicAngle,type:"音乐",useType:!0,size:1.1*E.width,height:1.1*E.height,src:E.URL_MUSIC,radius:!0})})]})}),(0,I.jsx)(g.ItemSettingBlock.Item,{style:h._.ml.md,itemStyle:e.item,title:"关闭",active:!t,filter:a,onPress:function(){t&&((0,y.t)("设置.切换",{title:"封面拟物",checked:!t}),h.systemStore.switchSetting("coverThings"))},children:(0,I.jsxs)(x.Flex,{style:h._.mt.sm,children:[(0,I.jsx)(_.default,{children:(0,I.jsx)(g.Cover,{size:E.width,height:E.height,src:E.URL_BOOK,radius:!0})}),(0,I.jsx)(_.default,{style:h._.ml.sm,children:(0,I.jsx)(g.Cover,{size:E.width,height:E.height,src:E.URL_GAME,radius:!0})}),(0,I.jsx)(_.default,{style:h._.ml.sm,children:(0,I.jsx)(g.Cover,{size:E.width,height:E.height,src:E.URL_MUSIC,radius:!0})})]})}),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"封面拟物"})]})),(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.avatarRound,style:h._.mt.sm,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661073314717-f67e17c1-0ae4-4e19-b61a-4fdaf2eb4bdd.png","0/2022/png/386799/1661073326148-8687046a-026a-4217-a3b3-1209dc3470e2.png"])},E.TEXTS.avatarRound.setting,{children:[(0,I.jsx)(g.ItemSettingBlock.Item,Object.assign({active:s,filter:a,onPress:function(){s||((0,y.t)("设置.切换",{title:"圆形头像",checked:!s}),h.systemStore.switchSetting("avatarRound"))}},E.TEXTS.avatarRound.round,{children:(0,I.jsx)(_.default,{style:h._.mt.sm,children:(0,I.jsx)(g.Avatar,{size:28,src:l,round:!0})})})),(0,I.jsx)(g.ItemSettingBlock.Item,Object.assign({style:h._.ml.md,active:!s,filter:a,onPress:function(){s&&((0,y.t)("设置.切换",{title:"圆形头像",checked:!s}),h.systemStore.switchSetting("avatarRound"))}},E.TEXTS.avatarRound.square,{children:(0,I.jsx)(_.default,{style:h._.mt.sm,children:(0,I.jsx)(g.Avatar,{size:28,src:l,radius:h._.radiusSm})})})),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"圆形头像"})]})),(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.squircle,style:h._.mt.sm,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2023/jpeg/386799/1703391888067-91ac3d7e-4352-41fb-8881-27057c60c425.jpeg","0/2023/jpeg/386799/1703391904875-5fe44324-295b-450d-be98-8dfcb0e4bc94.jpeg","0/2023/png/386799/1703384112637-21fbcad3-fd83-4b21-a851-57410a39ca56.png","0/2023/png/386799/1703384087443-6629c121-8471-4633-aaf7-7bc442dbf681.png"])},E.TEXTS.squircle,{children:[(0,I.jsx)(g.ItemSettingBlock.Item,{title:"开启",active:o,filter:a,onPress:(0,j.default)(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o)return e.abrupt("return");e.next=2;break;case 2:(0,y.t)("设置.切换",{title:"圆角过渡",checked:!o}),h.systemStore.switchSetting("squircle");case 4:case"end":return e.stop()}},e)}))}),(0,I.jsx)(g.ItemSettingBlock.Item,{style:h._.ml.md,title:"系统默认",active:!o,filter:a,onPress:function(){o&&((0,y.t)("设置.切换",{title:"圆角过渡",checked:!o}),h.systemStore.switchSetting("squircle"))}}),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"圆角过渡"})]})),(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.speech,style:h._.mt.sm,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661072680253-59856506-ac70-44d7-bba3-fd34fb8ffef3.png"])},E.TEXTS.speech,{children:[(0,I.jsx)(g.ItemSettingBlock.Item,{title:"开启",active:n,filter:a,onPress:function(){n||((0,y.t)("设置.切换",{title:"看板娘吐槽",checked:!n}),h.systemStore.switchSetting("speech"))},children:(0,I.jsx)(x.Text,{style:[e.speech,h._.mt.sm],type:"sub",size:11,align:"center",numberOfLines:2,children:(0,b.randomSpeech)()})}),(0,I.jsx)(g.ItemSettingBlock.Item,{style:h._.ml.md,title:"关闭",active:!n,filter:a,onPress:function(){n&&((0,y.t)("设置.切换",{title:"看板娘吐槽",checked:!n}),h.systemStore.switchSetting("speech"))},children:(0,I.jsx)(x.Mesume,{style:h._.mt.xxs,size:40})}),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"看板娘吐槽"})]})),(0,I.jsxs)(g.ItemSettingBlock,Object.assign({show:p.fontSize,style:e.fontBlock,filter:a,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661073553895-58817e4e-68c6-4236-9d4b-aef6a2d2eb6b.png","0/2022/png/386799/1661073556659-29544f2b-ddef-443f-8d0f-b8f562536bc6.png","0/2022/png/386799/1661073559152-353bcac8-6cd2-475b-8826-98288110e9cc.png","0/2022/png/386799/1661073561929-ef4508fd-a12b-4c38-bb93-a7d9b0021965.png","0/2022/png/386799/1661073564431-15d38cf2-04d1-4514-96cb-2f1c8ddea115.png"])},E.TEXTS.fontSize,{children:[(0,I.jsx)(x.ScrollView,{contentContainerStyle:e.fontScroll,horizontal:!0,children:S.SETTING_FONTSIZEADJUST.map(function(e,s){return(0,I.jsx)(g.ItemSettingBlock.Item,{style:!!s&&h._.ml.sm,title:e.label,active:h._.fontSizeAdjust==Number(e.value),filter:a,onPress:function(){h._.fontSizeAdjust!=Number(e.value)&&((0,y.t)("设置.切换",{title:"字号",label:e.label}),h._.changeFontSizeAdjust(e.value))},children:(0,I.jsx)(x.Text,{style:h._.mt.sm,size:11+Number(e.value)-h._.fontSizeAdjust,children:"番组计划"})},e.label)})}),(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"字号"})]})),(0,I.jsx)(g.ItemSetting,Object.assign({show:!S.STORYBOOK&&p.transition,ft:(0,I.jsx)(x.SegmentedControl,{style:O.default.segmentedControl,size:12,values:S.SETTING_TRANSITION.map(function(e){return e.label}),selectedIndex:S.SETTING_TRANSITION.findIndex(function(e){return e.value===i}),onValueChange:function(e){e&&((0,y.t)("设置.切换",{title:"切页动画",label:e}),h.systemStore.setTransition(e))}}),filter:a},E.TEXTS.transition,{children:(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"切页动画"})})),(0,I.jsx)(g.ItemSetting,Object.assign({show:!S.STORYBOOK&&p.vibration,ft:(0,I.jsx)(x.SwitchPro,{style:O.default.switch,value:d,onSyncPress:function(){(0,y.t)("设置.切换",{title:"震动",checked:!d}),h.systemStore.switchSetting("vibration")}}),filter:a},E.TEXTS.vibration,{children:(0,I.jsx)(x.Heatmap,{id:"设置.切换",title:"震动"})}))]})]})):null})}s.default=i;try{i.displayName="UI",i.__docgenInfo={description:"",displayName:"UI",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/ui/index.tsx#UI"]={docgenInfo:i.__docgenInfo,name:"UI",path:"src/screens/user/setting/component/ui/index.tsx#UI"})}catch(e){}},"./src/screens/user/setting/component/ui/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{item:{height:104},gameContainer:{backgroundColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2),borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2)},gameBody:{backgroundColor:r._.select("rgba(0, 0, 0, 0.2)",r._._colorBorder)},gameAngle:{borderTopColor:r._.select("rgba(0, 0, 0, 0.2)",r._._colorBorder)},musicAngle:{marginRight:-4},speech:{width:"92%",marginTop:r._.sm},fontBlock:{marginTop:r._.sm,marginRight:-r._._wind},fontScroll:{paddingRight:r._._wind},fontStyle:{marginTop:r._.sm-2,fontFamily:"rhrm",fontWeight:"normal"},fontStyleBold:{marginTop:r._.sm-2,fontFamily:"rhrb",fontWeight:"normal"},fontStyleCustom:{marginTop:r._.sm-2,fontFamily:r._.ios(void 0,""),fontWeight:"normal"},fontStyleBoldCustom:{marginTop:r._.sm-2,fontFamily:r._.ios(void 0,""),fontWeight:"bold"}}})},"./src/screens/user/setting/component/user-setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"UserSetting"),s.TEXTS={userSetting:{hd:"个人资料"}}},"./src/screens/user/setting/component/user-setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/utils/dev/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/user/setting/utils.ts"),c=t("./src/screens/user/setting/component/user-setting/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.navigation,e=e.filter,t=((0,i.r)(c.COMPONENT),(0,a.getShows)(e,c.TEXTS));return l.STORYBOOK||!t?null:(0,u.jsx)(o.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:e,onPress:function(){(0,d.t)("设置.跳转",{title:"个人设置",to:"UserSetting"}),s.push("UserSetting")}},c.TEXTS.userSetting,{children:(0,u.jsx)(n.Heatmap,{id:"设置.跳转",to:"UserSetting",alias:"个人设置"})}))});try{usersetting.displayName="usersetting",usersetting.__docgenInfo={description:"",displayName:"usersetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/user-setting/index.tsx#usersetting"]={docgenInfo:usersetting.__docgenInfo,name:"usersetting",path:"src/screens/user/setting/component/user-setting/index.tsx#usersetting"})}catch(e){}},"./src/screens/user/setting/component/user/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"User"),s.TEXTS={userGridNum:{hd:"网格布局个数"}}},"./src/screens/user/setting/component/user/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),c=t("./src/utils/dev/index.ts"),u=t("./src/utils/fetch/index.ts"),m=t("./src/utils/hooks/index.ts"),p=t("./src/constants/index.ts"),f=r(t("./src/screens/user/setting/styles.ts")),j=t("./src/screens/user/setting/utils.ts"),_=t("./src/screens/user/setting/component/user/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function n(e){var t=e.filter,e=((0,c.r)(_.COMPONENT),(0,m.useBoolean)(!1)),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,j.getShows)(t,_.TEXTS);return(0,m.useObserver)(function(){var s;return p.STORYBOOK||!i?null:(s=a.systemStore.setting.userGridNum,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.ItemSetting,{hd:"时光机",arrow:!0,highlight:!0,filter:t,onPress:n}),(0,x.jsx)(d.ActionSheet,{show:r,title:"时光机",onClose:o,children:(0,x.jsx)(l.ItemSetting,Object.assign({show:i.userGridNum,ft:(0,x.jsx)(d.SegmentedControl,{style:f.default.segmentedControl,size:12,values:p.SETTING_USER_GRID_NUM.map(function(e){return e.label}),selectedIndex:p.SETTING_USER_GRID_NUM.findIndex(function(e){return e.value===s}),onValueChange:function(e){e&&((0,u.t)("设置.切换",{title:"网格布局个数",label:e}),a.systemStore.setUserGridNum(e))}}),filter:t,thumb:(0,j.getYuqueThumbs)(["0/2022/png/386799/1661208352105-3fa86285-01cd-4d4d-9a1b-cc45f70ef80f.png","0/2022/png/386799/1661208356246-d2be037e-2770-4d8c-911f-3ce549dc46b0.png","0/2022/png/386799/1661208362277-16206efc-d59d-49a1-b023-b3a9626ff2c3.png"])},_.TEXTS.userGridNum,{children:(0,x.jsx)(d.Heatmap,{id:"设置.切换",title:"网格布局个数"})}))})]}))})}s.default=n;try{n.displayName="User",n.__docgenInfo={description:"",displayName:"User",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/user/index.tsx#User"]={docgenInfo:n.__docgenInfo,name:"User",path:"src/screens/user/setting/component/user/index.tsx#User"})}catch(e){}},"./src/screens/user/setting/component/version/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Version"),s.TEXTS={version:{hd:"版本",ft:"有新版本"}}},"./src/screens/user/setting/component/version/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/user/setting/utils.ts"),c=t("./src/screens/user/setting/component/version/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){if(e=e.filter,!(0,a.getShows)(e,c.TEXTS))return null;var s,t=i.systemStore.release.name;try{s=t!==l.VERSION_GITHUB_RELEASE&&Number(l.VERSION_GITHUB_RELEASE.replace(/\./g,""))<Number(t.replace(/\./g,""))}catch(e){}return(0,u.jsx)(o.ItemSetting,{hd:c.TEXTS.version.hd,arrow:!0,arrowStyle:[i._.ml.sm,i._.mr.xxs],arrowIcon:"md-open-in-new",arrowSize:17,highlight:!0,ft:s?(0,u.jsxs)(n.Text,{type:"success",size:15,children:[c.TEXTS.version.ft,t,(0,u.jsxs)(n.Text,{type:"sub",size:15,children:[" ","/ ",l.VERSION_GITHUB_RELEASE]})]}):(0,u.jsx)(n.Text,{type:"sub",size:15,children:l.VERSION_GITHUB_RELEASE}),filter:e,onPress:function(){(0,d.t)("设置.跳转"),open(l.URL_RELEASE)}})},c.COMPONENT);try{version.displayName="version",version.__docgenInfo={description:"",displayName:"version",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/version/index.tsx#version"]={docgenInfo:version.__docgenInfo,name:"version",path:"src/screens/user/setting/component/version/index.tsx#version"})}catch(e){}},"./src/screens/user/setting/component/zhinan/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXTS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Zhinan"),s.TEXTS={topic:{hd:"项目帖子"},github:{hd:"Github",information:"欢迎⭐️"},zhinan:{hd:"使用指南"},notion:{hd:"开发状况"},jihua:{hd:"开发计划问卷"},privacy:{hd:"隐私保护政策"}}},"./src/screens/user/setting/component/zhinan/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),u=t("./src/utils/dev/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/utils/hooks/index.ts"),f=t("./src/constants/index.ts"),j=t("./src/screens/user/setting/utils.ts"),_=t("./src/screens/user/setting/component/zhinan/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function n(e){var s=e.navigation,t=e.filter,e=((0,u.r)(_.COMPONENT),(0,p.useBoolean)(!1)),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,j.getShows)(t,_.TEXTS);return(0,p.useObserver)(function(){return i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.ItemSetting,{hd:"更多",arrow:!0,highlight:!0,filter:t,onPress:n}),(0,x.jsxs)(d.ActionSheet,{show:r,title:"更多",onClose:o,children:[(0,x.jsx)(l.ItemSetting,Object.assign({show:i.topic,arrow:!0,highlight:!0,filter:t,onPress:function(){o(),setTimeout(function(){(0,c.appNavigate)(f.URL_FEEDBACK,s,void 0,{id:"设置.跳转"})},160)}},_.TEXTS.topic,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"Topic",alias:"帖子"})})),(0,x.jsx)(l.ItemSetting,Object.assign({show:i.github,style:a._.mt.xs,arrow:!0,arrowStyle:a._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:t,onPress:function(){return(0,c.appNavigate)(f.GITHUB_PROJECT,void 0,void 0,{id:"设置.跳转"})}},_.TEXTS.github,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"WebBrowser",alias:"浏览器"})})),(0,x.jsx)(l.ItemSetting,Object.assign({show:i.zhinan,arrow:!0,arrowStyle:a._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:t,onPress:function(){(0,m.t)("设置.跳转",{title:"个人设置",to:"Zhinan"}),o(),setTimeout(function(){s.push("WebBrowser",{url:f.URL_ZHINAN,title:"使用指南"})},240)}},_.TEXTS.zhinan,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"Zhinan",alias:"个人设置"})})),(0,x.jsx)(l.ItemSetting,Object.assign({show:i.notion,style:a._.mt.xs,arrow:!0,arrowStyle:a._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:t,onPress:function(){(0,m.t)("设置.跳转",{title:"当前开发中",to:"Notion"}),o(),setTimeout(function(){s.push("WebBrowser",{url:f.URL_DEV,title:"当前开发中"})},240)}},_.TEXTS.notion,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"Notion",alias:"当前开发中"})})),(0,x.jsx)(l.ItemSetting,Object.assign({show:i.jihua,style:a._.mt.xs,arrow:!0,arrowStyle:a._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:t,onPress:function(){(0,m.t)("设置.跳转",{title:"开发计划",to:"Jihua"}),(0,c.open)(f.URL_WENJUAN)}},_.TEXTS.jihua,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"Jihua",alias:"开发计划"})})),(0,x.jsx)(l.ItemSetting,Object.assign({show:i.privacy,style:a._.mt.xs,arrow:!0,arrowStyle:a._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:t,onPress:function(){(0,m.t)("设置.跳转",{title:"隐私保护政策",to:"Privacy"}),o(),setTimeout(function(){s.push("WebBrowser",{url:f.URL_PRIVACY,title:"隐私保护政策"})},240)}},_.TEXTS.privacy,{children:(0,x.jsx)(d.Heatmap,{id:"设置.跳转",to:"Privacy",alias:"隐私保护政策"})}))]})]}):null})}s.default=n;try{n.displayName="Zhinan",n.__docgenInfo={description:"",displayName:"Zhinan",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/component/zhinan/index.tsx#Zhinan"]={docgenInfo:n.__docgenInfo,name:"Zhinan",path:"src/screens/user/setting/component/zhinan/index.tsx#Zhinan"})}catch(e){}},"./src/screens/user/setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;s.COMPONENT="Setting"},"./src/screens/user/setting/index.tsx":(r,e,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var t=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),d=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=B(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(s("./node_modules/react/index.js")),l=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/constants/index.ts"),f=t(s("./src/constants/i18n/index.ts")),j=t(s("./src/screens/user/setting/component/block/index.tsx")),_=t(s("./src/screens/user/setting/component/blocks/index.tsx")),x=t(s("./src/screens/user/setting/component/cdn/index.tsx")),b=t(s("./src/screens/user/setting/component/contact/index.tsx")),g=t(s("./src/screens/user/setting/component/custom/index.tsx")),h=t(s("./src/screens/user/setting/component/danger-zone/index.tsx")),y=t(s("./src/screens/user/setting/component/discovery/index.tsx")),v=t(s("./src/screens/user/setting/component/home/index.tsx")),S=t(s("./src/screens/user/setting/component/katakana/index.tsx")),O=t(s("./src/screens/user/setting/component/rakuen/index.tsx")),T=t(s("./src/screens/user/setting/component/route/index.tsx")),E=t(s("./src/screens/user/setting/component/storage/index.tsx")),C=t(s("./src/screens/user/setting/component/subject/index.tsx")),I=t(s("./src/screens/user/setting/component/system/index.tsx")),P=t(s("./src/screens/user/setting/component/theme/index.tsx")),w=t(s("./src/screens/user/setting/component/timeline/index.tsx")),R=t(s("./src/screens/user/setting/component/timezone/index.tsx")),A=t(s("./src/screens/user/setting/component/tinygrail/index.tsx")),N=t(s("./src/screens/user/setting/component/tip/index.tsx")),M=t(s("./src/screens/user/setting/component/ui/index.tsx")),k=t(s("./src/screens/user/setting/component/user/index.tsx")),z=t(s("./src/screens/user/setting/component/user-setting/index.tsx")),H=t(s("./src/screens/user/setting/component/version/index.tsx")),V=t(s("./src/screens/user/setting/component/zhinan/index.tsx")),L=s("./src/screens/user/setting/styles.ts"),D=s("./node_modules/react/jsx-runtime.js");function B(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(B=function(e){return e?t:s})(e))}e.default=function(e){var t=e.navigation,r=e.route,e=(0,d.useState)(""),e=(0,i.default)(e,2),n=e[0],o=e[1];return(0,m.useRunAfter)(function(){c.systemStore.fetchAdvance()}),(0,m.useObserver)(function(){var e=String(c.userStore.userCookie.userAgent).match(/(\d{10})/g),s=(null==r||null==(s=r.params)?void 0:s.open)||"";return(0,D.jsxs)(l.Component,{id:"screen-setting",children:[(0,D.jsx)(l.Header,{title:f.default.setting(),alias:"设置",hm:["settings","Setting"]}),(0,D.jsx)(l.Page,{style:c._.select(c._.container.bg,c._.container.plain),children:(0,D.jsxs)(l.ScrollView,{contentContainerStyle:L.styles.container,children:[(0,D.jsx)(j.default,{children:(0,D.jsx)(l.Input,{style:L.styles.input,placeholder:"搜索",defaultValue:n,onChangeText:o})}),(0,D.jsx)(j.default,{children:(0,D.jsx)(H.default,{filter:n})}),(0,D.jsxs)(j.default,{children:[(0,D.jsx)(N.default,{children:"基本"}),(0,D.jsx)(P.default,{navigation:t,filter:n}),(0,D.jsx)(M.default,{filter:n}),(0,D.jsx)(g.default,{filter:n}),(0,D.jsx)(x.default,{navigation:t,filter:n}),(0,D.jsx)(T.default,{filter:n}),(0,D.jsx)(_.default,{navigation:t,filter:n}),(0,D.jsx)(S.default,{navigation:t,filter:n})]}),(0,D.jsxs)(j.default,{children:[(0,D.jsx)(N.default,{children:"模块"}),(0,D.jsx)(v.default,{filter:n}),(0,D.jsx)(y.default,{filter:n,open:"Discovery"===s}),(0,D.jsx)(w.default,{filter:n}),(0,D.jsx)(O.default,{navigation:t,filter:n}),(0,D.jsx)(k.default,{filter:n}),(0,D.jsx)(z.default,{navigation:t,filter:n}),(0,D.jsx)(C.default,{filter:n}),(0,D.jsx)(A.default,{filter:n})]}),(0,D.jsxs)(j.default,{children:[(0,D.jsx)(N.default,{children:"相关"}),(0,D.jsx)(b.default,{navigation:t,filter:n}),(0,D.jsx)(V.default,{navigation:t,filter:n})]}),(0,D.jsxs)(j.default,{children:[(0,D.jsx)(N.default,{children:"系统"}),(0,D.jsx)(E.default,{filter:n}),(0,D.jsx)(I.default,{navigation:t,filter:n}),(0,D.jsx)(R.default,{filter:n}),(0,D.jsx)(h.default,{navigation:t,filter:n})]}),!(null==e||!e[0])&&(0,D.jsxs)(l.Text,{style:c._.mt.xs,size:10,type:"icon",bold:!0,align:"center",children:["last logged on: ",(0,u.date)("y-m-d H:i",e[0]),", ",p.DEVICE_MODEL_NAME]}),(0,D.jsx)(l.Flex,{style:c._.mt.lg,justify:"center",children:(0,D.jsx)(a.IconTouchable,{style:L.styles.transparent,name:"md-more-horiz",onPress:function(){return t.push("DEV")}})})]})})]})})};try{setting.displayName="setting",setting.__docgenInfo={description:"",displayName:"setting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ key: string; name: string; params: any; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/index.tsx#setting"]={docgenInfo:setting.__docgenInfo,name:"setting",path:"src/screens/user/setting/index.tsx#setting"})}catch(e){}},"./src/screens/user/setting/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=s.default=void 0;t=t("./src/stores/index.ts");s.default=t._.create({switch:{marginRight:-4,transform:[{scale:t._.device(.8,1.12)}]},segmentedControl:{height:t._.r(32),width:t._.r(180)},test:{marginTop:-8},acSearch:{paddingLeft:t._._wind,marginTop:t._.sm,marginBottom:t._.md},closePopablePlaceholder:{width:"100%",height:160}}),s.styles=t._.create({container:{paddingTop:t._.sm,paddingBottom:t._.md},transparent:{opacity:0},input:Object.assign({height:44,paddingVertical:0,paddingHorizontal:17},t._.fontSize16,{borderWidth:0,backgroundColor:"transparent"})})},"./src/screens/user/setting/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.some.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.every.js"),t("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getShow=o,s.getShows=function(s,t){var r={};s?Object.keys(t).forEach(function(e){r[e]=o(s,t[e])}):Object.keys(t).forEach(function(e){return r[e]=!0});return!Object.keys(r).every(function(e){return!r[e]})&&r},s.getYuqueThumbs=function(e){return!!e&&e.map(function(e){return{url:"https://cdn.nlark.com/yuque/"+e}})};var n=t("./src/utils/thirdParty/cn-char/index.ts");function o(e,t){if(!e)return!0;try{var r=(0,n.t2s)(e).toLocaleUpperCase();return Object.keys(t).some(function(s){return"string"==typeof t[s]?t[s].toLocaleUpperCase().includes(r):"object"==typeof t[s]&&Object.keys(t[s]).some(function(e){return t[s][e].toLocaleUpperCase().includes(r)})})}catch(e){return!1}}},"./src/screens/user/smb/config/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/user/smb/item/folder-ep/ds.ts"),p=t("./src/screens/user/smb/config/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,s=(0,p.memoStyles)(),r=t.state,n=r.configVisible,o=r.configs;return(0,f.jsx)(d.Modal,{style:s.modal,visible:n,title:"通用配置",onClose:t.onCloseConfig,children:(0,f.jsxs)(i.default,{style:s.body,children:[(0,f.jsx)(d.Text,{style:a._.mt.sm,type:"sub",size:12,bold:!0,children:"UI"}),(0,f.jsx)(l.ItemSetting,{hd:"布局",hdSize:14,ft:(0,f.jsx)(d.SegmentedControl,{style:s.segmentedControl,size:12,values:["列表","网格"],selectedIndex:o.layoutList?0:1,onValueChange:function(e){(!1===o.layoutList&&"列表"===e||!0===o.layoutList&&"网格"===e)&&t.onSwitchConfig("layoutList")}})}),(0,f.jsx)(l.ItemSetting,{show:!o.layoutList,hd:"列数",hdSize:14,ft:(0,f.jsx)(d.SegmentedControl,{style:s.segmentedControl,size:12,values:["2","3","4"],selectedIndex:Number(o.layoutGridNums-2),onValueChange:t.onSwitchLayoutGridNums})}),(0,f.jsxs)(d.Text,{style:a._.mt.md,type:"sub",size:12,bold:!0,children:["视频菜单",(0,f.jsxs)(d.Text,{type:"sub",size:12,children:[" ","(目前貌似只有弹弹Play是可用的)"]})]}),(0,f.jsx)(l.ItemSetting,{hd:m.ACTION_DDPLAY,hdSize:14,information:m.URL_TEMPLATES[m.ACTION_DDPLAY],ft:(0,f.jsx)(d.SwitchPro,{style:s.switch,value:o.showDDPlay,onSyncPress:function(){return t.onSwitchConfig("showDDPlay")}})}),(0,f.jsx)(l.ItemSetting,{style:a._.mt._sm,hd:m.ACTION_POTPLAYER,hdSize:14,information:m.URL_TEMPLATES[m.ACTION_POTPLAYER],ft:(0,f.jsx)(d.SwitchPro,{style:s.switch,value:o.showPotPlayer,onSyncPress:function(){return t.onSwitchConfig("showPotPlayer")}})}),(0,f.jsx)(l.ItemSetting,{style:a._.mt._sm,hd:m.ACTION_VLC,hdSize:14,information:m.URL_TEMPLATES[m.ACTION_VLC],ft:(0,f.jsx)(d.SwitchPro,{style:s.switch,value:o.showVLC,onSyncPress:function(){return t.onSwitchConfig("showVLC")}})}),(0,f.jsx)(l.ItemSetting,{style:a._.mt._sm,hd:m.ACTION_MPV,hdSize:14,information:m.URL_TEMPLATES[m.ACTION_MPV],ft:(0,f.jsx)(d.SwitchPro,{style:s.switch,value:o.showMPV,onSyncPress:function(){return t.onSwitchConfig("showMPV")}})}),u.STORYBOOK&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Text,{style:a._.mt.md,type:"sub",size:12,bold:!0,children:"浏览器插件"}),(0,f.jsx)(l.ItemSetting,{hd:"Local Explorer",hdSize:14,information:"出于安全原因，浏览器不允许访问本地资源。若浏览器安装了此插件，即可通过外部调用方式使用本地资源管理器，直接打开文件夹。点击上方提示按钮进一步了解。",ft:(0,f.jsx)(d.SwitchPro,{style:s.switch,value:o.showOpenLocalFolder,onSyncPress:function(){return t.onSwitchConfig("showOpenLocalFolder")}}),onInfoPress:function(){(0,c.open)("https://www.yuque.com/chenzhenyu-k0epm/znygb4/nogol0viqd1flhqt?singleDoc#DuNXM")}})]})]})})});try{config.displayName="config",config.__docgenInfo={description:"",displayName:"config",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/config/index.tsx#config"]={docgenInfo:config.__docgenInfo,name:"config",path:"src/screens/user/smb/config/index.tsx#config"})}catch(e){}},"./src/screens/user/smb/config/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.contentWidth),marginTop:r._.web(.22*-r._.window.height,0),maxWidth:r._.device(408,560),paddingTop:r._.device(r._.md+2,28),paddingHorizontal:r._.device(0,r._.sm),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},body:{paddingHorizontal:6,marginTop:r._.web(0,r._.md)},switch:{marginRight:-4,transform:[{scale:.72}]},segmentedControl:{width:160,height:28}}})},"./src/screens/user/smb/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.URL_WEBDAV_DEFAULT=s.URL_SMB_DEFAULT=s.URL_DIRECTORY_DEFAULT=s.STATE=s.REG_AIRDATE=s.NAMESPACE=s.LIMIT=s.EXCLUDE_STATE=s.DICT_ORDER=s.DICT=s.ACTION_OPEN_DIRECTORY=s.ACTION_EDIT=s.ACTION_DELETE=s.ACTION_COPY_AND_CREATE_FOLDER=s.ACTION_COPY_AND_CREATE=s.ACTION_CONNECT=s.ACTION_CLOSE_DIRECTORY=s.ACTIONS_SORT=s.ACTIONS_SMB=void 0;var t=t("./src/constants/index.ts"),r=(s.LIMIT=24,s.ACTIONS_SORT=["日期","评分","评分人数","名称","文件夹修改时间"]),n=(s.ACTION_EDIT="编辑",s.ACTION_OPEN_DIRECTORY="展开文件夹",s.ACTION_CLOSE_DIRECTORY="收起文件夹",s.ACTION_DELETE="删除",s.ACTION_CONNECT="扫描",s.ACTION_COPY_AND_CREATE="复制配置新建",s.ACTION_COPY_AND_CREATE_FOLDER="创建用户目录",s.ACTIONS_SMB=t.STORYBOOK?["编辑","展开文件夹","收起文件夹","删除"]:["扫描","编辑","复制配置新建","创建用户目录","删除"],s.NAMESPACE="ScreenSmb",s.URL_DIRECTORY_DEFAULT="",s.URL_SMB_DEFAULT="smb://[USERNAME]:[PASSWORD]@[IP]/[PATH]/[FILE]",s.URL_WEBDAV_DEFAULT="smb://[USERNAME]:[PASSWORD]@[IP]/[PATH]/[FILE]",s.EXCLUDE_STATE={data:[],tags:[],subjectTags:[],loading:!1,fetchingCollections:!1,expand:!1,more:!1,refreshKey:0,visible:!1,id:"",name:"",ip:"",port:"",username:"",password:"",sharedFolder:"",workGroup:"",path:"",url:t.STORYBOOK?"":(t.IOS,"smb://[USERNAME]:[PASSWORD]@[IP]/[PATH]/[FILE]"),configVisible:!1,extendsJAVisible:!1,folders:{visible:!1,title:"",subjectId:0,folder:{name:"",lastModified:"",path:"",list:[],ids:[],tags:[]},merge:[]}});s.STATE=Object.assign({uuid:"",sort:r[0],_filter:"",filter:"",_page:"1",page:1,files:{},expands:{},foldersExpands:{},configs:{layoutList:!1,layoutGridNums:3,showDDPlay:!0,showPotPlayer:!1,showVLC:!1,showMPV:!1,showOpenLocalFolder:!1},extendsJA:{value:""},webDAV:t.IOS,autoJA:!0,subjects:{}},n,{_loaded:!1}),s.DICT=[{reg:/(1080(P|p)|1920(X|×)1080)/,val:"1080P"},{reg:/2160(P|p)/,val:"2160P"},{reg:/1440(P|p)/,val:"1440P"},{reg:/(720(P|p)|1280(X|×)720)/,val:"720P"},{reg:/60fps/,val:"60FPS"},{reg:/(AVC|x264|h264)/,val:"AVC"},{reg:/(HEVC|x265|H265)/,val:"HEVC"},{reg:/ma10p/,val:"Ma10p"},{reg:/8bit/,val:"8bit"},{reg:/Hi10p|10bit/,val:"10bit"},{reg:/yuv420p10/,val:"YUV-4:2:0 10bit"},{reg:/(ACC|AAC)/,val:"AAC"},{reg:/flac|FLAC/,val:"FLAC"},{reg:/(opus|OPUSx2)/,val:"OPUS"},{reg:/(web-dl|webrip)/,val:"WEBRip"},{reg:/(bdrip|BD)/,val:"BDRip"},{reg:/(dvdrip|DVD)/,val:"DVDRip"},{reg:/(剧场版|movie|MOVIE)/,val:"剧场版"},{reg:/(ova|OVA)/,val:"OVA"},{reg:/(sp|SP)/,val:"SP"},{reg:/(NCOP)/,val:"无字OP"},{reg:/(NCED)/,val:"无字ED"},{reg:/\.mp4/,val:"MP4"},{reg:/\.mkv/,val:"MKV"}],s.DICT_ORDER={"条目":1101,"文件夹":1100,"动画":1005,"书籍":1004,"游戏":1003,"音乐":1002,"三次元":1001,"在看":965,"看过":964,"想看":963,"在读":955,"读过":954,"想读":953,"在玩":945,"玩过":944,"想玩":943,"在听":935,"听过":934,"想听":933,"搁置":902,"抛弃":901,"未收藏":900,"2160P(2K)":104,"1440P":103,"1080P":102,"720P":101,BDRip:93,WEBRip:92,DVDRip:91,"10bit 色深":81,"8bit 色深":80,"剧场版":73,OVA:72,SP:71},s.REG_AIRDATE=/<li><span>(发售日|放送开始|上映年度|上映时间|开始|开始时间|发行日期|连载时间|连载期间|连载日期|连载开始|発表期間|发表期间|発表号): <\/span>(.+?)<\/li>/},"./src/screens/user/smb/filter/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./src/components/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/screens/user/smb/filter/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");function _(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}t=u.default.Component,(0,d.default)(b,t),x=_(b),(0,o.default)(b,[{key:"render",value:function(){var e=this.context.$,s=e.state._filter,t=this.state.focus;return(0,j.jsxs)(m.default,{style:this.styles.filter,children:[(0,j.jsx)(p.Input,{style:this.styles.input,clearButtonMode:"never",value:s,returnKeyType:"search",returnKeyLabel:"搜索",onFocus:this.onFocus,onBlur:this.onBlur,onChange:e.onFilterInputChange,onSubmitEditing:e.onFilterInputSubmit}),!t&&!s&&(0,j.jsx)(p.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:(0,j.jsx)(p.Iconfont,{name:"md-search",size:16})})]})}},{key:"styles",get:function(){return(0,f.memoStyles)()}}]);var x,u=b;function b(){var e;(0,n.default)(this,b);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=x.call.apply(x,[this].concat(t)),(0,c.default)((0,i.default)(e),"state",{focus:!1}),(0,c.default)((0,i.default)(e),"onFocus",function(){e.setState({focus:!0})}),(0,c.default)((0,i.default)(e),"onBlur",function(){e.setState({focus:!1})}),e}s.default=(0,r.obc)(u);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/smb/filter/index.tsx#filter"})}catch(e){}},"./src/screens/user/smb/filter/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{filter:{height:60,paddingVertical:12,paddingHorizontal:r._.wind,marginTop:-4},input:Object.assign({height:34,paddingVertical:0},r._.fontSize14,{textAlign:"center",borderWidth:2,borderColor:r._.colorBorder,backgroundColor:"transparent",borderRadius:34}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0}}})},"./src/screens/user/smb/form/directory-item/index.web.tsx":(e,s,t)=>{var m=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),p=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),f=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),j=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),_=t("./src/components/index.ts"),x=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),b=t("./src/screens/user/smb/utils/directory.ts"),g=t("./src/screens/user/smb/form/directory-item/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}s.default=(0,r.obc)(function(e,s){function t(){return r.apply(this,arguments)}var r,n=s.$,o=(0,j.useRef)(null),s=(0,j.useState)(!1),s=(0,f.default)(s,2),i=s[0],d=s[1],s=(0,j.useState)(0),s=(0,f.default)(s,2),l=s[0],a=s[1],c=(r=(0,p.default)(m.mark(function e(){var s;return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0<(s=o.current.files).length&&u(s),d(!1);case 3:case"end":return e.stop()}},e)})),[]),u=function(e){for(var s=0;s<e.length;s+=1){var t=e[s];c.push({lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,webkitRelativePath:t.webkitRelativePath})}var r=n.state.autoJA;n.memoDirectory=(0,b.transformData)(c,r,n.extendsJA),a(e.length)};return(0,h.jsxs)(_.Flex,{style:x._.mt.sm,children:[(0,h.jsx)(_.Text,{style:g.styles.label,size:12,lineHeight:13,children:"选择"}),(0,h.jsxs)(_.Flex.Item,{children:[(0,h.jsx)("input",{ref:o,style:g.styles.input,type:"file",id:"folderInput",webkitdirectory:"true",directory:"true",multiple:!0,onChange:t}),(0,h.jsxs)(_.Flex,{children:[(0,h.jsx)(_.Button,{style:g.styles.btn,styleText:x._.fontSize12,type:"ghostPlain",onPress:function(){o.current.click(),d(!0)},children:"选择文件夹"}),(0,h.jsx)(_.Flex.Item,{style:x._.ml.sm,children:l||!i?(0,h.jsxs)(_.Text,{size:12,type:"sub",children:["已读取 ",l," 个文件"]}):(0,h.jsx)(_.Text,{size:12,type:"warning",children:"读取文件夹结构中，请等待"})})]})]})]})});try{indexweb.displayName="indexweb",indexweb.__docgenInfo={description:"",displayName:"indexweb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/form/directory-item/index.web.tsx#indexweb"]={docgenInfo:indexweb.__docgenInfo,name:"indexweb",path:"src/screens/user/smb/form/directory-item/index.web.tsx#indexweb"})}catch(e){}},"./src/screens/user/smb/form/directory-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60},input:{display:"none"},btn:{width:88,height:36}})},"./src/screens/user/smb/form/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.URL_VLC=s.URL_POTPLAYRER=s.URL_MPV=s.URL_DDPLAY=s.DEFAULT_PROPS=void 0;s.DEFAULT_PROPS={store:{},styles:{},visible:!1,name:"",onClose:function(){}},s.URL_DDPLAY="ddplay:[PATH]/[FILE]",s.URL_POTPLAYRER="potplayer://[PATH]/[FILE]",s.URL_VLC="vlc://[PATH]/[FILE]",s.URL_MPV="mpv://weblink?url=[PATH]/[FILE]"},"./src/screens/user/smb/form/example/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),d=t("./src/screens/user/smb/form/example/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.store,s=(s.$||e).state.webDAV,e=i.STORYBOOK?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Text,{size:10,lineHeight:12,type:"sub",children:[(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"ddplay:"}),"①"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"D:/Anime"}),"② /"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"2023S4/[bangumi-404115] 星灵感应/01.mp4"}),"③"]}),(0,l.jsx)(n.Text,{style:o._.mt.xs,size:10,lineHeight:12,type:"sub",children:"①调用协议 ②路径[PATH] ③文件[FILE]"}),(0,l.jsx)(n.Text,{style:o._.mt.sm,size:10,lineHeight:12,type:"sub",children:"上面例子为选择了 D:/Anime/2023S4 文件夹，你需要在路径里面填 D:/Anime。不建议读取太深文件夹，否则可能会崩溃。"})]}):s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Text,{size:10,lineHeight:12,type:"sub",children:["http://"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"192.168.1.1"}),"① :"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"5081"}),"② /"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"my_dav/anime"}),"③"]}),(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",children:"①主机 ②端口 ③路径"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Text,{size:10,lineHeight:12,type:"sub",children:["smb://"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"192.168.1.1"}),"① :"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"445"}),"② /"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"my_smb"}),"③ /"," ",(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",underline:!0,children:"anime"}),"④"]}),(0,l.jsx)(n.Text,{size:10,lineHeight:12,type:"sub",children:"①主机 ②端口 ③路径 ④文件夹"})]}),(0,l.jsxs)(n.Flex,{style:o._.mv.sm,align:"start",children:[(0,l.jsx)(n.Text,{style:d.styles.label,size:12,lineHeight:13,children:"说明"}),(0,l.jsx)(n.Flex.Item,{children:e})]})})},"./src/screens/user/smb/form/example/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60}})},"./src/screens/user/smb/form/form.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),j=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),_=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),x=t("./src/constants/index.ts"),b=r(t("./src/screens/user/smb/form/type-item/index.tsx")),g=r(t("./src/screens/user/smb/form/example/index.tsx")),h=r(t("./src/screens/user/smb/form/directory-item/index.web.tsx")),y=r(t("./src/screens/user/smb/form/input-item/index.tsx")),v=r(t("./src/screens/user/smb/form/url-item/index.tsx")),S=r(t("./src/screens/user/smb/form/switch-item/index.tsx")),O=r(t("./src/screens/user/smb/form/save-item/index.tsx")),T=r(t("./src/screens/user/smb/form/information/index.tsx")),r=t("./src/screens/user/smb/form/ds.ts"),E=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}s.default=(0,n.memo)(function(e){var s=e.store,t=e.styles,r=e.visible,n=e.name,e=e.onClose,o=(0,f.useRef)(null),i=(0,f.useRef)(null),d=(0,f.useRef)(null),l=(0,f.useRef)(null),a=(0,f.useRef)(null),c=(0,f.useRef)(null),u=(0,f.useRef)(null),m=(0,f.useRef)(null),p=(0,f.useRef)(null);return(0,f.useEffect)(function(){setTimeout(function(){if(r&&!n.length)try{var e;"function"==typeof(null==o||null==(e=o.current)?void 0:e.focus)&&o.current.focus()}catch(e){}},400)},[r,n]),(0,E.jsxs)(_.Modal,{style:t.modal,visible:r,title:"连接本地服务",onClose:e,children:[(0,E.jsxs)(j.default,{style:t.body,children:[!x.STORYBOOK&&(0,E.jsx)(b.default,{store:s}),(0,E.jsx)(g.default,{store:s}),x.STORYBOOK&&(0,E.jsx)(h.default,{}),(0,E.jsx)(y.default,{store:s,label:"别名",placeholder:"选填，区分不同服务，如 Anime",name:"name",connectRef:function(e){return o.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==i||null==(e=i.current)?void 0:e.focus)&&i.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"主机",placeholder:"必填，如内网 192.168.1.1",name:"ip",connectRef:function(e){return i.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==a||null==(e=a.current)?void 0:e.focus)&&a.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"端口",placeholder:"默认 445",name:"port",connectRef:function(e){return a.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==d||null==(e=d.current)?void 0:e.focus)&&d.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"用户",placeholder:"必填",name:"username",connectRef:function(e){return d.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==l||null==(e=l.current)?void 0:e.focus)&&l.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"密码",placeholder:"必填",name:"password",connectRef:function(e){return l.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==c||null==(e=c.current)?void 0:e.focus)&&c.current.focus()}catch(e){}}}),(0,E.jsx)(y.default,{store:s,label:"路径",information:x.STORYBOOK?"同时支持读取所有子文件夹，若你直接选择了 D:/Anime，那路径应该填 D: 就可以了，可能不同版本浏览器之间有差异。若填入后在结果列表中出现了 D:/D:/ 这种不寻常的情况，可能你并不需要填写此项，可以随时修改。":"",placeholder:x.STORYBOOK?"选填，硬盘名，如 D:、D:/Anime，头尾不需要斜杠":"选填，常为顶文件夹，头尾不需要斜杠",name:"sharedFolder",connectRef:function(e){return c.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==u||null==(e=u.current)?void 0:e.focus)&&u.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"文件夹",placeholder:"通常不填，多个用英文逗号分割",name:"path",connectRef:function(e){return u.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==m||null==(e=m.current)?void 0:e.focus)&&m.current.focus()}catch(e){}}}),!x.STORYBOOK&&(0,E.jsx)(y.default,{store:s,label:"工作组",placeholder:"通常不填，默认空",name:"workGroup",connectRef:function(e){return m.current=null==e?void 0:e.inputRef},onSubmitEditing:function(){try{var e;"function"==typeof(null==p||null==(e=p.current)?void 0:e.focus)&&p.current.focus()}catch(e){}}}),(0,E.jsx)(v.default,{store:s,connectRef:function(e){return p.current=null==e?void 0:e.inputRef}}),x.STORYBOOK&&(0,E.jsx)(S.default,{}),(0,E.jsx)(O.default,{store:s})]}),(0,E.jsx)(T.default,{})]})},r.DEFAULT_PROPS);try{form.displayName="form",form.__docgenInfo={description:"",displayName:"form",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"ScreenSmb"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ modal: { width: number; marginTop: number; maxWidth: number; paddingTop: number; paddingHorizontal: number; backgroundColor: string; borderRadius: number; }; body: { paddingHorizontal: number; paddingTop: number; }; }"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/form/form.tsx#form"]={docgenInfo:form.__docgenInfo,name:"form",path:"src/screens/user/smb/form/form.tsx#form"})}catch(e){}},"./src/screens/user/smb/form/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/smb/form/form.tsx")),i=t("./src/screens/user/smb/form/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var s=s.$,t=s.state,r=t.visible,t=t.name;return(0,d.jsx)(o.default,{store:s,styles:(0,i.memoStyles)(),visible:r,name:t,onClose:s.onClose})});try{form.displayName="form",form.__docgenInfo={description:"",displayName:"form",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/form/index.tsx#form"]={docgenInfo:form.__docgenInfo,name:"form",path:"src/screens/user/smb/form/index.tsx#form"})}catch(e){}},"./src/screens/user/smb/form/information/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),d=t("./src/screens/user/smb/form/information/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,l.jsx)(n.default,{style:d.styles.info,children:(0,l.jsx)(o.Touchable,{onPress:function(){i.STORYBOOK?open("https://www.yuque.com/chenzhenyu-k0epm/znygb4/nogol0viqd1flhqt"):open("https://www.yuque.com/chenzhenyu-k0epm/znygb4/rrb8zh")},children:(0,l.jsx)(o.Text,{size:14,type:"sub",children:"教程"})})})})},"./src/screens/user/smb/form/information/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts");s.styles=r._.create({info:{position:"absolute",zIndex:1,top:0,right:t.STORYBOOK?0:20,marginTop:-20}})},"./src/screens/user/smb/form/input-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/utils/async/index.ts"),p=t("./src/screens/user/smb/form/input-item/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.store,r=e.label,n=void 0===(o=e.information)?"":o,o=e.placeholder,i=e.name,d=e.connectRef,e=e.onSubmitEditing,l=s.$,s=(l=l||t).state[i];return(0,f.jsxs)(a.Flex,{style:u._.mt.sm,children:[(0,f.jsxs)(a.Flex,{style:p.styles.label,children:[(0,f.jsx)(a.Text,{size:12,children:r}),!!n&&(0,f.jsx)(c.IconTouchable,{style:u._.ml._xs,name:"md-info-outline",size:14,onPress:function(){alert((0,m.s2tAsync)(n))}})]}),(0,f.jsx)(a.Flex.Item,{children:(0,f.jsx)(a.Input,{ref:d,style:p.styles.input,placeholder:o,defaultValue:s,showClear:!0,returnKeyType:"next",onChangeText:function(e){return l.onChange(i,e)},onSubmitEditing:e})})]})})},"./src/screens/user/smb/form/input-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60},input:Object.assign({height:36,paddingVertical:0},t._.fontSize12)})},"./src/screens/user/smb/form/save-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),d=t("./src/screens/user/smb/form/save-item/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.store,e=(s=s.$||e).state.id,(0,l.jsxs)(n.Flex,{style:i.STORYBOOK?o._.mt.md:o._.mt.sm,justify:"center",children:[(0,l.jsx)(n.Touchable,{style:d.styles.touch,onPress:s.onSubmit,children:(0,l.jsx)(n.Text,{style:d.styles.btn,type:"main",children:e?"保存":"新增"})}),(0,l.jsx)(n.Touchable,{style:d.styles.touch,onPress:s.onClose,children:(0,l.jsx)(n.Text,{style:d.styles.btn,type:"sub",children:"取消"})})]})})},"./src/screens/user/smb/form/save-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{marginHorizontal:t._.sm,borderRadius:t._.radiusSm,overflow:"hidden"},btn:{paddingVertical:t._.sm,paddingHorizontal:t._.md}})},"./src/screens/user/smb/form/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.contentWidth),marginTop:r._.web(.22*-r._.window.height,0),maxWidth:r._.device(408,560),paddingTop:r._.device(r._.md+2,28),paddingHorizontal:r._.device(0,r._.sm),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},body:{paddingHorizontal:6,paddingTop:r._.md}}})},"./src/screens/user/smb/form/switch-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/utils/async/index.ts"),a=t("./src/screens/user/smb/form/switch-item/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state.autoJA;return(0,c.jsxs)(n.Flex,{style:i._.mt.sm,children:[(0,c.jsxs)(n.Flex,{style:a.styles.label,children:[(0,c.jsx)(n.Text,{size:12,children:"刮削"}),(0,c.jsx)(o.IconTouchable,{style:i._.ml._xs,name:"md-info-outline",size:14,onPress:function(){(0,d.alert)((0,l.s2tAsync)("保存后是否对所有文件夹，尽可能离线刮削动画条目信息。\n                \n在文件夹结构读取完毕的那一刻就会完成刮削，若你更改了开关，请重新选择文件夹。\n                \n仅建议在管理动画时打开此选项。"))}})]}),(0,c.jsx)(n.Flex.Item,{children:(0,c.jsx)(n.SwitchPro,{style:a.styles.switch,value:t,onSyncPress:s.onSwitchAutoJA})})]})});try{switchitem.displayName="switchitem",switchitem.__docgenInfo={description:"",displayName:"switchitem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/form/switch-item/index.tsx#switchitem"]={docgenInfo:switchitem.__docgenInfo,name:"switchitem",path:"src/screens/user/smb/form/switch-item/index.tsx#switchitem"})}catch(e){}},"./src/screens/user/smb/form/switch-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60},switch:{marginLeft:-8,transform:[{scale:.72}]}})},"./src/screens/user/smb/form/type-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/constants/index.ts"),i=t("./src/screens/user/smb/form/type-item/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.store,t=s.$,r=(t=t||e).state.webDAV,s=(0,d.jsx)(n.SegmentedControl,{style:i.styles.segmentedControl,size:11,values:["SMB","webDAV"],selectedIndex:r?1:0,enabled:!o.IOS,onChange:function(){return t.onChange("webDAV",!r)}});return(0,d.jsxs)(n.Flex,{children:[(0,d.jsx)(n.Text,{style:i.styles.label,size:12,children:"类型"}),(0,d.jsx)(n.Flex.Item,{children:o.IOS?(0,d.jsx)(n.Touchable,{onPress:function(){alert("iOS 目前仅支持 webDAV 模式")},children:s}):s})]})})},"./src/screens/user/smb/form/type-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60},segmentedControl:{width:144,height:30}})},"./src/screens/user/smb/form/url-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TITLE=s.CONTENT_SMB=s.CONTENT_DIRECTORY=void 0;var r=t("./src/screens/user/smb/item/folder-ep/ds.ts"),t=t("./src/screens/user/smb/form/ds.ts");s.TITLE="自定义跳转",s.CONTENT_SMB="自定义第三方跳转规则。点击文件复制地址，长按跳转。\n\n[IP] = 主机:端口\n[USERNAME] = 用户\n[PASSWORD] = 密码\n[PATH] = 文件夹路径\n[FILE] = 文件路径\n\n若使用 SMB 务必使用 smb:// 开头，webDAV 务必使用 http | https:// 开头\n\n推荐播放安装 VLC，直接使用 smb:// 能播；其次推荐 nPlayer，支持 nplayer-smb:// 前缀的直接跳转。\n目前已知只有 smb 1.0 协议可以直接播放，2.0会被强制关闭连接，待解决。",s.CONTENT_DIRECTORY="自定义第三方跳转规则，点击文件复制地址，长按跳转。\n[PATH] = 文件夹路径\n[FILE] = 文件路径\n\n内置外部跳转播放协议：\n弹弹Play："+t.URL_DDPLAY+"\nPotPlayer："+t.URL_POTPLAYRER+"\nVLC："+t.URL_VLC+"\nMPV："+t.URL_MPV+"\n\n当此处有值时，菜单中才会显示 ["+r.ACTION_LINKING+"] 和 ["+r.ACTION_COPY_LINK+"]。"},"./src/screens/user/smb/form/url-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Alert/index.js"))),o=t("./src/components/index.ts"),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/utils/async/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/smb/form/url-item/ds.ts"),m=t("./src/screens/user/smb/form/url-item/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.store,e=e.connectRef,r=s.$,s=(r=r||t).state.url;return(0,p.jsxs)(o.Flex,{style:d._.mt.sm,align:"start",children:[(0,p.jsxs)(o.Flex,{style:m.styles.label,children:[(0,p.jsx)(o.Text,{size:12,children:"跳转"}),(0,p.jsx)(i.IconTouchable,{style:d._.ml._xs,name:"md-info-outline",size:14,onPress:function(){c.STORYBOOK?(0,l.alert)((0,a.s2tAsync)(u.CONTENT_DIRECTORY),(0,a.s2tAsync)(u.TITLE)):n.default.alert((0,a.s2tAsync)(u.TITLE),(0,a.s2tAsync)(u.CONTENT_SMB),[{text:(0,a.s2tAsync)("已知问题和详细教程"),onPress:function(){(0,l.open)("https://www.yuque.com/chenzhenyu-k0epm/znygb4/rrb8zh")}},{text:(0,a.s2tAsync)("确定"),onPress:function(){}}])}})]}),(0,p.jsx)(o.Flex.Item,{children:c.STORYBOOK?(0,p.jsx)(o.Input,{ref:e,style:m.styles.input,defaultValue:s,placeholder:"选填，[PATH]=路径，[FILE]=文件，头尾不需要斜杠",showClear:!0,returnKeyType:"done",returnKeyLabel:"新增",onChangeText:function(e){return r.onChange("url",e)}}):(0,p.jsx)(o.Input,{ref:e,style:[m.styles.input,m.styles.inputMultiline],inputStyle:m.styles.multilineInputStyle,defaultValue:s,showClear:!0,multiline:!0,numberOfLines:3,textAlignVertical:"top",returnKeyType:"done",returnKeyLabel:"新增",onChangeText:function(e){return r.onChange("url",e)}})})]})})},"./src/screens/user/smb/form/url-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({label:{width:60},input:Object.assign({height:36,paddingVertical:0},t._.fontSize12),inputMultiline:{paddingVertical:6,height:100},multilineInputStyle:Object.assign({},t._.fontSize12)})},"./src/screens/user/smb/header/index.web.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./src/screens/user/smb/header/styles.ts"),a=(t("./src/screens/user/smb/header/index.scss"),t("./node_modules/react/jsx-runtime.js"));s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.state.fetchingCollections;return(0,a.jsx)(o.Header,{title:"本地管理",mode:"float",fixed:!0,hm:["smb","Smb"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[n&&(0,a.jsx)(o.Touchable,{style:l.styles.activity,onPress:function(){return(0,i.info)("批量请求收藏状态中")},children:(0,a.jsx)(o.Activity,{})}),(0,a.jsx)(o.Header.Popover,{name:"md-menu",data:["新增服务","通用配置","扩展刮削词","用户令牌","功能说明"],onSelect:function(e){switch(e){case"新增服务":t.onShow();break;case"通用配置":t.onShowConfig();break;case"扩展刮削词":t.onShowExtendsJA();break;case"用户令牌":r.push("LoginToken"),(0,d.t)("SMB.跳转",{to:"LoginToken",from:"Header"});break;case"功能说明":(0,i.open)("https://www.yuque.com/chenzhenyu-k0epm/znygb4/nogol0viqd1flhqt?singleDoc"),(0,d.t)("SMB.功能说明")}}})]})},onBackPress:function(){r.push("Discovery")}})});try{indexweb.displayName="indexweb",indexweb.__docgenInfo={description:"",displayName:"indexweb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/header/index.web.tsx#indexweb"]={docgenInfo:indexweb.__docgenInfo,name:"indexweb",path:"src/screens/user/smb/header/index.web.tsx#indexweb"})}catch(e){}},"./src/screens/user/smb/header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({activity:{marginRight:t._.sm,transform:[{scale:.8}]}})},"./src/screens/user/smb/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/smb/header/index.web.tsx")),l=r(t("./src/screens/user/smb/list/index.tsx")),a=r(t("./src/screens/user/smb/form/index.tsx")),c=r(t("./src/screens/user/smb/modal-folders/index.tsx")),u=r(t("./src/screens/user/smb/config/index.tsx")),m=r(t("./src/screens/user/smb/scrape/index.tsx")),r=r(t("./src/screens/user/smb/store.ts")),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,i.useMount)(function(){t.init()}),(0,i.useObserver)(function(){return(0,p.jsxs)(n.Component,{id:"screen-smb",children:[(0,p.jsx)(d.default,{}),(0,p.jsxs)(n.Page,{loaded:t.state._loaded,children:[(0,p.jsx)(l.default,{}),(0,p.jsx)(a.default,{})]}),(0,p.jsx)(c.default,{}),(0,p.jsx)(u.default,{}),(0,p.jsx)(m.default,{})]})})});try{smb.displayName="smb",smb.__docgenInfo={description:"",displayName:"smb",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/index.tsx#smb"]={docgenInfo:smb.__docgenInfo,name:"smb",path:"src/screens/user/smb/index.tsx#smb"})}catch(e){}},"./src/screens/user/smb/item-grid/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),x=(r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/StyleSheet/index.js"))),b=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),g=t("./node_modules/expo-linear-gradient/build/LinearGradient.js"),h=t("./src/components/index.ts"),y=t("./src/stores/index.ts"),v=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),S=t("./src/utils/fetch/index.ts"),O=t("./src/constants/index.ts"),T=t("./src/screens/user/smb/item-grid/styles.ts"),E=t("./node_modules/react/jsx-runtime.js"),C=["subjectId","merge"],I=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.24)","rgba(0, 0, 0, 0.72)","rgba(0, 0, 0, 0.92)"];s.default=(0,r.obc)(function(e,s){function t(){i.onShowModalFolders({title:j,subjectId:r,folder:o,merge:n})}var r=e.subjectId,n=e.merge,o=(0,_.default)(e,C),i=s.$,d=s.navigation,e=(0,T.memoStyles)(),l=(s=i.subjectV2(r)).jp,a=s.cn,c=s.image,s=s.type,u=O.MODEL_SUBJECT_TYPE.getTitle(s),s=y.collectionStore.collect(r,u),m="",s=(s.includes("过")?m="warning":s.includes("在")?m="primary":s.includes("想")?m="main":(s.includes("搁置")||s.includes("抛弃"))&&(m="desc"),i.state.configs.layoutGridNums),p=(y._.window.contentWidth-y._.md*(s-1))/s,f=Math.floor(1.4*p),j=a||l||o.name,s=O.STORYBOOK?r?16<=j.length?14:15:12:4<=s?10:3<=s?12:14,s=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.LinearGradient,{style:x.default.absoluteFill,colors:I,pointerEvents:"none"}),(0,E.jsx)(b.default,{style:(0,v.stl)(e.content,!r&&e.folderContent),children:(0,E.jsx)(h.Touchable,{onPress:t,children:(0,E.jsx)(h.Flex,{style:e.title,align:"end",children:(0,E.jsx)(h.Text,{size:s,bold:!0,children:j})})})})]});return(0,E.jsxs)(h.Touchable,{style:[e.container,{width:p}],onPress:function(){r?(d.push("Subject",{subjectId:r,_jp:l,_cn:a,_image:c,_type:u}),(0,S.t)("SMB.跳转",{to:"Subject",subjectId:r,from:"ItemGrid"})):t()},children:[r?(0,E.jsx)(h.Cover,{src:c,size:p,height:f}):(0,E.jsx)(h.Image,{src:O.ASSETS_ICONS.folder,size:p,height:f,placeholder:!1,resizeMode:"contain"}),r?(0,E.jsx)(h.Hover,{type:m,children:s}):s]})})},"./src/screens/user/smb/item-grid/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{width:(r._.window.contentWidth-2*r._.md)/3,marginBottom:r._.md,backgroundColor:r._.colorPlain},content:{position:"absolute",zIndex:1,right:0,bottom:0,left:0,opacity:.88},manage:{position:"absolute",zIndex:1,top:0,right:0,opacity:.88},folderContent:{bottom:32},title:{minHeight:48,paddingHorizontal:10,paddingVertical:10},folderTitle:{marginBottom:-24}}})},"./src/screens/user/smb/item/cover/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),a=t("./src/screens/_/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),u=t("./src/constants/index.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.navigation,t=e.loaded,r=e.subjectId,n=e.image,o=e.typeCn,i=e.jp,d=e.cn;return t?(0,m.jsx)(a.Cover,{src:n||u.IMG_DEFAULT,width:u.IMG_WIDTH_LG,height:u.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:o,onPress:function(){(0,c.t)("SMB.跳转",{to:"Subject",subjectId:r,from:"Item"}),s.push("Subject",{subjectId:r,_jp:i,_cn:d,_image:n,_type:o})}}):(0,m.jsx)(l.Image,{src:u.ASSETS_ICONS.folder,size:u.IMG_WIDTH_LG,placeholder:!1,resizeMode:"contain"})});try{cover.displayName="cover",cover.__docgenInfo={description:"",displayName:"cover",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"any"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"any"}},jp:{defaultValue:null,description:"",name:"jp",required:!0,type:{name:"any"}},cn:{defaultValue:null,description:"",name:"cn",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/item/cover/index.tsx#cover"]={docgenInfo:cover.__docgenInfo,name:"cover",path:"src/screens/user/smb/item/cover/index.tsx#cover"})}catch(e){}},"./src/screens/user/smb/item/dev-ja/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts"),t("./src/utils/decorators/index.ts"));t("./src/utils/thirdParty/ja.ts"),t("./src/screens/user/smb/utils/directory.ts"),t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){return e.folderName,null});try{devja.displayName="devja",devja.__docgenInfo={description:"",displayName:"devja",props:{folderName:{defaultValue:null,description:"",name:"folderName",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/item/dev-ja/index.tsx#devja"]={docgenInfo:devja.__docgenInfo,name:"devja",path:"src/screens/user/smb/item/dev-ja/index.tsx#devja"})}catch(e){}},"./src/screens/user/smb/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.SORT_ORDER=s.DEFAULT_PROPS=void 0;s.DEFAULT_PROPS={navigation:{},styles:{},subjectId:0,loaded:!1,jp:"",cn:"",image:"",type:"",folder:{},merge:[]},s.SORT_ORDER={folder:110,video:100,music:90,pic:80,zip:70,origin:11,file:10}},"./src/screens/user/smb/item/folder-ep/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.URL_TEMPLATES=s.EP_ACTIONS=s.EPS_TYPE_COUNT=s.ACTION_VLC=s.ACTION_POTPLAYER=s.ACTION_OPEN_DIRECTORY=s.ACTION_MPV=s.ACTION_LINKING=s.ACTION_DDPLAY=s.ACTION_COPY_PATH=s.ACTION_COPY_LINK=void 0,r(t("./node_modules/@babel/runtime/helpers/defineProperty.js"))),t=t("./src/screens/user/smb/form/ds.ts");s.ACTION_LINKING="外部跳转",s.ACTION_COPY_LINK="复制外部跳转链接",s.ACTION_COPY_PATH="复制完整路径",s.ACTION_OPEN_DIRECTORY="打开文件夹",s.ACTION_DDPLAY="弹弹Play",s.ACTION_POTPLAYER="PotPlayer",s.ACTION_VLC="VLC",s.ACTION_MPV="MPV",s.URL_TEMPLATES=(0,r.default)((0,r.default)((0,r.default)((0,r.default)({},"弹弹Play",t.URL_DDPLAY),"PotPlayer",t.URL_POTPLAYRER),"VLC",t.URL_VLC),"MPV",t.URL_MPV),s.EP_ACTIONS=["外部跳转","复制外部跳转链接","复制完整路径","弹弹Play","VLC"],s.EPS_TYPE_COUNT={ep:0,mov:0,ova:0,oad:0,sp:0,op:0,ed:0,other:0}},"./src/screens/user/smb/item/folder-ep/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.object.entries.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=d(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),p=r(t("./node_modules/react-native-web/dist/exports/Linking/index.js")),f=t("./src/components/index.ts"),j=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),b=t("./src/utils/fetch/index.ts"),g=r(t("./src/screens/user/smb/item/last-modified/index.tsx")),h=t("./src/screens/user/smb/item/ds.ts"),y=t("./src/screens/user/smb/item/folder-ep/utils.ts"),v=t("./src/screens/user/smb/item/folder-ep/styles.ts"),S=t("./src/screens/user/smb/item/folder-ep/ds.ts"),O=t("./src/screens/user/smb/utils/index.ts"),T=t("./node_modules/react/jsx-runtime.js");function d(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(d=function(e){return e?t:s})(e))}s.default=(0,o.c)(function(e,s){var a=e.folder,c=s.$,e=(0,n.useState)(""),u=(s=(0,m.default)(e,2))[0],r=s[1];return(0,i.useObserver)(function(){var n=a.name,e=a.lastModified,s=a.list.filter(function(e){return"video"===e.type}).sort(function(e,s){return(h.SORT_ORDER[e.type]||0)===(h.SORT_ORDER[s.type]||0)?(0,x.desc)(e.name,s.name):(0,x.desc)(h.SORT_ORDER[e.type]||0,h.SORT_ORDER[s.type]||0)}),t=c.state.configs,o=[S.ACTION_COPY_PATH],t=(t.showDDPlay&&o.push(S.ACTION_DDPLAY),t.showPotPlayer&&o.push(S.ACTION_POTPLAYER),t.showVLC&&o.push(S.ACTION_VLC),t.showMPV&&o.push(S.ACTION_MPV),c.current.smb),i=t.sharedFolder,d=(t.url&&o.unshift(S.ACTION_LINKING,S.ACTION_COPY_LINK),{}),l=Object.assign({},S.EPS_TYPE_COUNT);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.Flex,{style:v.styles.btns,wrap:"wrap",children:s.length?s.map(function(s,e){var t=(0,y.getEp)(s.name),t=(0,m.default)(t,2),r=t[0],t=t[1],e=null===r?"["+e+"]":r,r=(t&&(e=null===r?t:t+"\n"+e),t?l[t in l?t:"other"]+=1:l.ep+=1,d[e]?"disabled":"ghostPlain");return d[e]=!0,!u||u===t||"ep"===u&&!t||"other"===u&&t&&!(t in l)?(0,T.jsx)(j.Popover,{title:[s.size?s.name+" ("+s.size+")":s.name],data:o,onSelect:function(e){(0,b.t)("SMB.章节菜单",{title:e}),e===S.ACTION_LINKING?p.default.openURL(c.url(i,a.path,n,s.name)):e===S.ACTION_COPY_LINK?(0,x.copy)(c.url(i,a.path,n,s.name),"已复制路径"):e===S.ACTION_OPEN_DIRECTORY?window.open((0,O.fixedUrl)([i,a.path,n].filter(function(e){return e}).join("/"))):e===S.ACTION_COPY_PATH?(0,x.copy)((0,O.fixedUrl)([i,a.path,n,s.name].filter(function(e){return e}).join("/")),"已复制路径"):Object.keys(S.URL_TEMPLATES).includes(e)&&p.default.openURL(c.url(i,a.path,n,s.name,S.URL_TEMPLATES[e]))},children:(0,T.jsx)(f.Button,{style:v.styles.btn,styleText:v.styles.btnText,type:r,size:"sm",noWrap:!1,children:e})},s.name):null}):(0,T.jsx)(f.Text,{size:11,lineHeight:12,children:"(空)"})}),(0,T.jsxs)(f.Flex,{style:_._.mt.sm,children:[(0,T.jsx)(f.Flex.Item,{children:(0,T.jsx)(f.Flex,{children:Object.entries(l).filter(function(e){return(0,m.default)(e,2)[1]}).map(function(e){var e=(0,m.default)(e,2),s=e[0],e=e[1];return(0,T.jsx)(f.Touchable,{style:_._.mr.xs,onPress:function(){r(u===s?"":s)},children:(0,T.jsxs)(f.Text,{size:12,type:u&&u===s?"desc":"icon",children:["[",s,"*",e,"]"]})},s)})})}),(0,T.jsx)(f.Touchable,{style:_._.mr.xs,onPress:function(){c.onFile(n)},children:(0,T.jsx)(f.Text,{size:12,type:"icon",children:"[视频]"})}),(0,T.jsx)(g.default,{value:e})]})]})})})},"./src/screens/user/smb/item/folder-ep/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{paddingVertical:t._.xs},btns:{marginRight:-t._.sm},btn:{marginRight:t._.sm,marginVertical:t._.sm/2},btnText:{marginTop:-2,fontSize:12,lineHeight:13}})},"./src/screens/user/smb/item/folder-ep/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.getEp=function(e){if(!e)return[null,""];if(o.has(e))return o.get(e);var s,t=e.toLocaleLowerCase().replace(" end ",""),e=(0,n.default)(t),r="";for(s in i)if(t.includes(s)){r=i[s];break}e=[e,r];return o.set(t,e),e},r(t("./node_modules/aniep/src/index.js"))),o=new Map,i={nced:"ed",ncop:"op",ova:"ova",oad:"oad","[ed":"ed"," ed":"ed","[op":"op"," op ":"op"," sp":"sp","[sp":"sp","[mov":"mov"," pv":"pv","[pv":"pv"," cm":"cm","[cm":"cm"," menu":"mn","[menu":"mn",recap:"re"}},"./src/screens/user/smb/item/folder-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.some.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.slice.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=r(t("./node_modules/react-native-web/dist/exports/Linking/index.js")),a=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),m=t("./src/constants/index.ts"),p=r(t("./src/screens/user/smb/item/folder-ep/index.tsx")),f=r(t("./src/screens/user/smb/item/last-modified/index.tsx")),j=t("./src/screens/user/smb/item/folder-list/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.folder,r=s.$,n=r.current.smb,o=t.name,e=t.lastModified,s=t.list,i=r.isFiles(o);return i||null===i&&!s.some(function(e){return"video"===e.type})?(0,_.jsxs)(d.default,{children:[s.slice().sort(function(e,s){return(0,u.desc)("video"===e.type?1:0,"video"===s.type?1:0)}).map(function(s){return(0,_.jsx)(a.Touchable,{style:j.styles.item,onPress:function(){(0,u.copy)(r.url(n.sharedFolder,t.path,o,s.name),"已复制路径")},onLongPress:function(){var e=r.url(n.sharedFolder,t.path,o,s.name);l.default.openURL(e)},children:(0,_.jsxs)(a.Flex,{align:"start",children:[(0,_.jsx)(a.Image,{src:m.ASSETS_ICONS[s.type],size:14,placeholder:!1,resizeMode:"contain"}),(0,_.jsx)(a.Flex.Item,{style:c._.ml.sm,children:(0,_.jsxs)(a.Text,{size:11,lineHeight:12,numberOfLines:2,children:[s.name,!!s.size&&(0,_.jsxs)(a.Text,{type:"icon",size:11,lineHeight:12,children:[" ","(",s.size,")"]})]})})]})},s.name)}),(0,_.jsxs)(a.Flex,{style:c._.mt.sm,children:[(0,_.jsx)(a.Flex.Item,{children:(0,_.jsx)(a.Text,{size:12,type:"icon",children:"点击复制地址，长按跳转"})}),(0,_.jsx)(a.Touchable,{style:c._.mr.xs,onPress:function(){r.onFile(o)},children:(0,_.jsx)(a.Text,{size:12,type:"icon",children:"[文件]"})}),(0,_.jsx)(f.default,{value:e})]})]}):(0,_.jsx)(p.default,{folder:t})})},"./src/screens/user/smb/item/folder-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{paddingVertical:t._.xs}})},"./src/screens/user/smb/item/folder/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/constants/index.ts"),f=t("./src/screens/user/smb/utils/index.ts"),j=r(t("./src/screens/user/smb/item/folder-list/index.tsx")),_=t("./src/screens/user/smb/item/folder/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.folder,e=void 0!==(e=e.defaultShow)&&e,r=s.$,s=(0,_.memoStyles)(),n=r.current.smb,o=r.isExpanded(t.name),i=(null===o&&e&&(o=!0),[]);return n.ip&&n.port?i.push(n.ip+":"+n.port):n.ip&&i.push(n.ip),o&&n.sharedFolder&&i.push(n.sharedFolder),o&&t.path&&i.push(t.path),t.name&&i.push(t.name),e=r.state.configs.showOpenLocalFolder?(0,x.jsx)(a.IconTouchable,{style:s.folderOpen,name:"md-folder-open",size:16,onPress:function(){var e=(0,f.fixedUrl)([n.ip&&n.port?n.ip+":"+n.port:n.ip,n.sharedFolder,t.path,t.name].filter(function(e){return!!e}).join("/"));(0,f.openURL)("localexplorer:"+e),(0,m.t)("SMB.打开本地")}}):null,o?(0,x.jsxs)(d.default,{style:[s.folder,s.folderList],children:[(0,x.jsx)(l.Touchable,{onPress:function(){r.onExpand(t.name)},onLongPress:function(){(0,u.copy)((0,f.fixedUrl)(i.join("/")),"已复制路径")},children:(0,x.jsxs)(l.Flex,{align:"start",children:[(0,x.jsx)(l.Image,{style:c._.mr.sm,src:p.ASSETS_ICONS.open,size:14,placeholder:!1,resizeMode:"contain"}),(0,x.jsx)(l.Flex.Item,{children:(0,x.jsx)(l.Text,{size:11,lineHeight:12,bold:!0,children:i.join("/")||"/"})}),e,(0,x.jsx)(l.Iconfont,{style:s.up,name:"md-keyboard-arrow-up"})]})}),(0,x.jsx)(d.default,{style:s.path,children:(0,x.jsx)(j.default,{folder:t})})]}):(o=i.join("/").split("/"),(0,x.jsx)(l.Touchable,{onPress:function(){r.onExpand(t.name)},children:(0,x.jsxs)(l.Flex,{style:s.folder,children:[(0,x.jsx)(l.Flex.Item,{children:(0,x.jsx)(l.Text,{size:11,lineHeight:12,bold:!0,numberOfLines:1,children:(null==o?void 0:o[o.length-1])||"/"})}),(0,x.jsx)(l.Iconfont,{style:s.next,name:"md-navigate-next"})]})}))})},"./src/screens/user/smb/item/folder/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{folder:{paddingRight:4,paddingVertical:5,paddingLeft:12,marginTop:12,backgroundColor:r._.select(r._.colorBg,"rgb(24, 24, 24)"),borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusSm,overflow:"hidden"},folderList:{paddingRight:12,paddingVertical:r._.sm},next:{marginHorizontal:r._.xs},up:{marginTop:-3,marginRight:-4,marginLeft:r._.xs},folderOpen:{marginTop:-8,marginRight:-4,marginLeft:2},folderOpenFixed:{height:22,transform:[{translateY:3}]},path:{paddingTop:8,marginTop:8,borderTopWidth:r._.hairlineWidth,borderColor:r._.colorBorder}}})},"./src/screens/user/smb/item/folders/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.some.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.string.starts-with.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=(r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),u=t("./src/components/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),f=r(t("./src/screens/user/smb/item/folder/index.tsx")),j=t("./src/screens/user/smb/item/folders/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=void 0===(t=e.fixedStyle)||t,r=e.folder,n=e.merge,o=void 0!==(e=e.defaultShow)&&e,i=s.$,e=i.state.configs.layoutList,d=[r.name],s=(null!=n&&n.length&&n.forEach(function(e){return d.push(e.name)}),d.some(function(e){return i.isExpanded(e)})),n=[r].concat((0,a.default)(n||[])),l=!e||i.isFoldersExpanded(r.name);return(0,_.jsx)(c.default,{style:t&&!s&&j.styles.folders,pointerEvents:m._.web("none","auto"),children:(0,_.jsxs)(c.default,{pointerEvents:"auto",children:[n.sort(function(e,s){return e.name.startsWith("[")&&s.name.startsWith("[")?e.name.localeCompare(s.name):(0,p.desc)(e.name,s.name)}).filter(function(e,s){return!!l||s<3}).map(function(e,s){return(0,_.jsx)(f.default,{folder:e,defaultShow:0===s?o:void 0},e.name)}),e&&3<n.length&&(0,_.jsx)(u.Flex,{justify:"center",children:(0,_.jsx)(u.Touchable,{style:j.styles.expand,onPress:function(){return i.onFoldersExpand(r.name)},children:(0,_.jsx)(u.Text,{type:"sub",size:12,bold:!0,children:l?"收起":"展开 "+(n.length-3)+" 个文件夹"})})})]})})})},"./src/screens/user/smb/item/folders/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts");s.styles=r._.create({folders:{paddingLeft:t.IMG_WIDTH_LG+r._.md,marginTop:-45},expand:{paddingVertical:r._.sm,paddingHorizontal:r._.md,marginTop:r._.sm}})},"./src/screens/user/smb/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=(r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),c=r(t("./src/screens/user/smb/item/item.tsx")),u=t("./src/screens/user/smb/item/styles.ts"),m=t("./node_modules/react/jsx-runtime.js"),p=["subjectId","merge"];s.default=(0,n.obc)(function(e,s){var t,r,n,o,i=e.subjectId,d=e.merge,e=(0,a.default)(e,p),l=s.$,s=s.navigation;return null!=e&&null!=(o=e.list)&&o.length?(l=(o=l.subjectV2(i)).id,t=o.jp,r=o.cn,n=o.image,o=o.type,(0,m.jsx)(c.default,{navigation:s,styles:(0,u.memoStyles)(),loaded:!!l,subjectId:i,jp:t,cn:r,image:n,type:o,folder:e,merge:d})):null})},"./src/screens/user/smb/item/item.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),u=t("./src/components/index.ts"),n=t("./src/utils/decorators/index.ts"),m=t("./src/constants/index.ts"),p=r(t("./src/screens/user/smb/subject/index.tsx")),f=r(t("./src/screens/user/smb/item/cover/index.tsx")),j=r(t("./src/screens/user/smb/item/folders/index.tsx")),_=r(t("./src/screens/user/smb/item/dev-ja/index.tsx")),r=t("./src/screens/user/smb/item/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.memo)(function(e){var s=e.navigation,t=e.styles,r=e.subjectId,n=e.loaded,o=e.jp,i=e.cn,d=e.image,l=e.type,a=e.folder,e=e.merge,l=m.MODEL_SUBJECT_TYPE.getTitle(l);return(0,x.jsx)(c.default,{style:t.container,children:(0,x.jsxs)(c.default,{style:t.wrap,children:[(0,x.jsxs)(u.Flex,{align:"start",children:[(0,x.jsx)(f.default,{navigation:s,loaded:n,subjectId:r,image:d,typeCn:l,jp:o,cn:i}),(0,x.jsx)(u.Flex.Item,{style:t.body,children:n?(0,x.jsx)(p.default,{subjectId:r}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Text,{size:15,bold:!0,children:a.name}),(0,x.jsx)(_.default,{folderName:a.name})]})})]}),(0,x.jsx)(j.default,{folder:a,merge:e})]})})},r.DEFAULT_PROPS);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { flex: number; paddingLeft: number; backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; }; wrap: { paddingVertical: number; paddingRight: number; }; body: { marginTop: number; marginLeft: number; }; tag: { ...; }; }'}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"any"}},jp:{defaultValue:null,description:"",name:"jp",required:!0,type:{name:"any"}},cn:{defaultValue:null,description:"",name:"cn",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},folder:{defaultValue:null,description:"",name:"folder",required:!0,type:{name:"{ name: string; lastModified: string; path: string; list: { name: string; type: string; lastModified: string; size?: string; }[]; ids: SubjectId[]; tags: string[]; }"}},merge:{defaultValue:null,description:"",name:"merge",required:!0,type:{name:"{ name: string; lastModified: string; path: string; list: { name: string; type: string; lastModified: string; size?: string; }[]; ids: SubjectId[]; tags: string[]; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/user/smb/item/item.tsx#item"})}catch(e){}},"./src/screens/user/smb/item/last-modified/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.replace.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=c(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),i=t("./src/components/index.ts"),d=t("./src/utils/hooks/index.ts"),l=t("./src/screens/user/smb/item/last-modified/utils.ts"),a=t("./node_modules/react/jsx-runtime.js");function c(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(c=function(e){return e?t:s})(e))}function u(e){var s=e.value,e=(0,o.useState)(!1),e=(0,n.default)(e,2),t=e[0],r=e[1];return(0,d.useObserver)(function(){var e;return(0,a.jsx)(i.Touchable,{onPress:function(){r(!t)},children:(0,a.jsxs)(i.Text,{size:11,lineHeight:12,type:"icon",children:["[",t?null==(e=String(s).replace("T"," ").split("."))?void 0:e[0]:(0,l.timeAgo)(s),"]"]})})})}s.default=u;try{u.displayName="LastModified",u.__docgenInfo={description:"",displayName:"LastModified",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/item/last-modified/index.tsx#LastModified"]={docgenInfo:u.__docgenInfo,name:"LastModified",path:"src/screens/user/smb/item/last-modified/index.tsx#LastModified"})}catch(e){}},"./src/screens/user/smb/item/last-modified/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.date.to-string.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.timeAgo=function(e){var e=new Date(e),s=new Date,t=s.getTime()-e.getTime(),t=Math.floor(t/1e3),r=Math.floor(t/60),n=Math.floor(r/60),o=Math.floor(n/24),s=s.getMonth()-e.getMonth()+12*(s.getFullYear()-e.getFullYear()),e=Math.floor(s/12);if(0<e)return e+"年前";if(0<s)return s+"月前";if(0<o)return o+"天前";if(0<n)return n+"小时前";if(0<r)return r+"分钟前";return t+"秒前"}},"./src/screens/user/smb/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){var e={flex:1,paddingLeft:r._.wind,backgroundColor:r._.colorPlain};return n.STORYBOOK&&delete e.flex,{container:e,wrap:{paddingVertical:r._.md,paddingRight:r._.wind},body:{marginTop:-1,marginLeft:r._.md},tag:{paddingRight:6,paddingLeft:6,marginRight:r._.sm,marginBottom:r._.sm}}})},"./src/screens/user/smb/list/empty/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.trim.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.state.filter.trim();return(0,l.jsx)(o.Empty,{text:t.smbs.length?"当前没有文件夹数据\n"+(d.STORYBOOK?"请确保你选择的文件夹存在文件或者有权限读取":"请先点击右上方菜单扫描文件夹"):"当前没有服务器数据\n请先点击右上方菜单新增服务",children:!!n&&(0,l.jsx)(o.Touchable,{style:i._.mt.sm,onPress:function(){r.push("Search",{value:n})},children:(0,l.jsxs)(o.Text,{type:"sub",align:"center",children:["前往搜索"," ",(0,l.jsx)(o.Text,{type:"sub",underline:!0,children:n.trim()})]})})})});try{empty.displayName="empty",empty.__docgenInfo={description:"",displayName:"empty",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/list/empty/index.tsx#empty"]={docgenInfo:empty.__docgenInfo,name:"empty",path:"src/screens/user/smb/list/empty/index.tsx#empty"})}catch(e){}},"./src/screens/user/smb/list/grids/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.fill.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/smb/item-grid/index.tsx")),a=t("./src/screens/user/smb/list/grids/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var t=(s=s.$).state.configs.layoutGridNums;return(0,c.jsxs)(o.Flex,{style:a.styles.grids,justify:"between",wrap:"wrap",children:[s.pageList.map(function(e,s){return(0,c.jsx)(l.default,Object.assign({},e),String((null==e?void 0:e.name)||s))}),Array(t-1).fill("").map(function(e,s){return(0,c.jsx)(n.default,{style:{width:(i._.window.contentWidth-i._.md*(t-1))/t}},s)})]})});try{grids.displayName="grids",grids.__docgenInfo={description:"",displayName:"grids",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/list/grids/index.tsx#grids"]={docgenInfo:grids.__docgenInfo,name:"grids",path:"src/screens/user/smb/list/grids/index.tsx#grids"})}catch(e){}},"./src/screens/user/smb/list/grids/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({grids:{paddingVertical:t._.sm,paddingHorizontal:t._.md}})},"./src/screens/user/smb/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/smb/top/index.tsx")),d=r(t("./src/screens/user/smb/filter/index.tsx")),l=r(t("./src/screens/user/smb/pagination/index.tsx")),a=r(t("./src/screens/user/smb/list/lists/index.tsx")),c=r(t("./src/screens/user/smb/list/grids/index.tsx")),u=r(t("./src/screens/user/smb/list/empty/index.tsx")),m=t("./src/screens/user/smb/list/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){var t=(s=s.$).state.configs.layoutList;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.default,{}),(0,p.jsxs)(n.ScrollView,{contentContainerStyle:m.styles.scrollView,children:[!!s.smbs.length&&(0,p.jsx)(d.default,{}),s.pageList.length?t?(0,p.jsx)(a.default,{}):(0,p.jsx)(c.default,{}):(0,p.jsx)(u.default,{})]},s.refreshKey),!!s.pageList.length&&(0,p.jsx)(l.default,{})]})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/smb/list/index.tsx#list"})}catch(e){}},"./src/screens/user/smb/list/lists/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/smb/item/index.tsx")),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){return s=s.$,(0,i.jsx)(i.Fragment,{children:s.pageList.map(function(e,s){return(0,i.jsx)(o.default,Object.assign({},e),String((null==e?void 0:e.name)||s))})})});try{lists.displayName="lists",lists.__docgenInfo={description:"",displayName:"lists",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/list/lists/index.tsx#lists"]={docgenInfo:lists.__docgenInfo,name:"lists",path:"src/screens/user/smb/list/lists/index.tsx#lists"})}catch(e){}},"./src/screens/user/smb/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts");s.styles=r._.create({scrollView:t.STORYBOOK?{paddingTop:104,paddingBottom:32}:{}})},"./src/screens/user/smb/modal-folders/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),p=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),j=t("./src/utils/fetch/index.ts"),_=t("./src/constants/index.ts"),x=r(t("./src/screens/user/smb/subject/index.tsx")),b=r(t("./src/screens/user/smb/item/folders/index.tsx")),g=t("./src/screens/user/smb/modal-folders/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=s.$,r=s.navigation,s=(0,g.memoStyles)(),n=(d=t.state.folders).visible,o=d.subjectId,i=d.folder,d=d.merge,l=t.subjectV2(o),a=l.jp,c=l.cn,u=l.image;return(0,h.jsxs)(p.ModalFixed,{style:s.modal,visible:n,onClose:t.onCloseModalFolders,children:[!!o&&(0,h.jsxs)(p.Flex,{style:f._.mb.md,children:[(0,h.jsx)(m.default,{style:f._.mr.md,children:(0,h.jsx)(p.Cover,{src:u,size:_.IMG_WIDTH_SM/1.2,height:_.IMG_HEIGHT_SM/1.2,onPress:function(){r.push("Subject",{subjectId:o,_jp:a,_cn:c,_image:u}),(0,j.t)("SMB.跳转",{to:"Subject",subjectId:o,from:"ModalFolders"}),setTimeout(function(){t.onCloseModalFolders()},40)}})}),(0,h.jsx)(p.Flex.Item,{style:s.subject,children:(0,h.jsx)(x.default,{subjectId:o})})]}),(0,h.jsx)(p.ScrollView,{style:s.body,children:(0,h.jsx)(m.default,{style:s.folders,children:(0,h.jsx)(b.default,{fixedStyle:!1,folder:i,merge:d,defaultShow:!0})})})]})});try{modalfolders.displayName="modalfolders",modalfolders.__docgenInfo={description:"",displayName:"modalfolders",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/modal-folders/index.tsx#modalfolders"]={docgenInfo:modalfolders.__docgenInfo,name:"modalfolders",path:"src/screens/user/smb/modal-folders/index.tsx#modalfolders"})}catch(e){}},"./src/screens/user/smb/modal-folders/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.contentWidth)+2,marginTop:.22*-r._.window.height,maxWidth:r._.device(408,560),paddingTop:r._.device(r._.md+2,28),paddingHorizontal:r._.device(0,r._.sm),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},body:{maxHeight:.64*r._.window.height},folders:{marginTop:-12},subject:{marginTop:r._.xs,marginRight:2}}})},"./src/screens/user/smb/pagination/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/smb/pagination/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state._page;return(0,i.jsx)(n.Pagination,{style:o.styles.pagination,inputStyle:o.styles.input,input:t,onPrev:s.onPrev,onNext:s.onNext,onChange:s.onPaginationInputChange,onSearch:s.onPaginationInputSubmit})});try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/user/smb/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/user/smb/pagination/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts");s.styles=r._.create({pagination:t.STORYBOOK?{position:"absolute",zIndex:1,right:0,bottom:0,left:0,paddingTop:r._.xs,backgroundColor:"rgba(0, 0, 0, 0.84)"}:{marginTop:r._.xs,marginBottom:r._.ios(r._.md+r._.sm,r._.md)},input:Object.assign({height:32,paddingVertical:0},r._.fontSize14,{textAlign:"center",borderWidth:0,backgroundColor:"transparent",borderRadius:0})})},"./src/screens/user/smb/scrape/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/smb/scrape/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,s=(0,l.memoStyles)(),r=(n=t.state).extendsJAVisible,n=n.extendsJA;return(0,a.jsx)(i.Modal,{style:s.modal,visible:r,title:"扩展刮削词",onClose:t.onCloseExtendsJA,children:(0,a.jsxs)(o.default,{style:s.body,children:[(0,a.jsx)(i.Text,{size:12,bold:!0,type:"sub",children:"若你并不想修改本地，也可以在下面输入一些文件夹关键词匹配指定条目。"}),(0,a.jsx)(i.Text,{style:d._.mt.xs,size:12,bold:!0,type:"sub",children:"一行一个，举例（注意是半角逗号）：Tenten Kakumei, 395714"}),(0,a.jsx)(i.Input,{style:s.input,inputStyle:s.multilineInputStyle,defaultValue:n.value,placeholder:"关键字, 条目数字id",multiline:!0,numberOfLines:10,textAlignVertical:"top",onChangeText:function(e){t.setState({extendsJA:{value:e}})}})]})})});try{scrape.displayName="scrape",scrape.__docgenInfo={description:"",displayName:"scrape",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/scrape/index.tsx#scrape"]={docgenInfo:scrape.__docgenInfo,name:"scrape",path:"src/screens/user/smb/scrape/index.tsx#scrape"})}catch(e){}},"./src/screens/user/smb/scrape/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.contentWidth),marginTop:.22*-r._.window.height,maxWidth:r._.device(408,560),paddingTop:r._.device(r._.md+2,28),paddingHorizontal:r._.device(0,r._.sm),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},body:{paddingHorizontal:6},input:Object.assign({marginTop:r._.md},r._.fontSize12),multilineInputStyle:Object.assign({},r._.fontSize12)}})},"./src/screens/user/smb/servers/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,r,e=e.store,s=s.$;return(e=null==(e=(s=s||e).current)?void 0:e.smb)?(t=e.name,r=e.ip,e=e.sharedFolder,(0,l.jsxs)(n.default,{children:[(0,l.jsx)(i.Popover,{data:s.smbs.map(function(e,s){return e.name||"未命名服务 "+(s+1)}),onSelect:s.onSwitch,children:(0,l.jsxs)(o.Flex,{children:[(0,l.jsx)(o.Text,{bold:!0,numberOfLines:1,children:t||r||"未命名服务"}),(0,l.jsx)(o.Iconfont,{name:"md-arrow-drop-down",color:d._.colorDesc})]})}),(0,l.jsx)(o.Text,{size:10,type:"sub",bold:!0,numberOfLines:1,children:e})]})):null})},"./src/screens/user/smb/store.ts":(e,s,t)=>{var d=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.entries.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.some.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),j=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),l=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),_=t("./node_modules/mobx/dist/mobx.esm.js"),x=t("./src/stores/index.ts"),b=t("./src/utils/index.ts"),g=r(t("./src/utils/store/index.ts")),h=t("./src/utils/fetch/index.ts"),y=t("./src/utils/protobuf/index.web.ts"),v=t("./src/utils/kv/index.ts"),S=r(t("./src/utils/crypto/index.ts")),O=t("./src/constants/index.ts"),T=r(t("./src/constants/i18n/index.ts")),E=t("./src/screens/user/smb/utils/index.ts"),C=t("./src/screens/user/smb/ds.ts");function I(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var P;s.default=(r=g.default,(0,c.default)(w,r),P=I(w),(0,o.default)(w,[{key:"refreshKey",get:function(){var e=this.state,s=e.uuid,t=e.sort,r=e.tags,n=e.subjectTags,o=e.page,i=e.filter,d=e.refreshKey,e=e.configs.layoutList;return JSON.stringify({uuid:s,sort:t,tags:r,subjectTags:n,page:o,filter:i,refreshKey:d,layoutList:e})}},{key:"data",get:function(){return x.smbStore.data}},{key:"isLogin",get:function(){return x.userStore.isLogin}},{key:"current",get:function(){var s=this.state.uuid;return this.data.find(function(e){return e.smb.uuid===s})}},{key:"subjectIds",get:function(){var e,s=[];return null!=(e=this.current)&&e.list&&this.current.list.forEach(function(e){e.ids.forEach(function(e){s.includes(e)||s.push(e)})}),s}},{key:"smbs",get:function(){return this.data.map(function(e){var s=(s=e.smb.name)||""+e.smb.ip+(e.smb.port?":":"")+e.smb.port;return{uuid:e.smb.uuid,name:s}})}},{key:"pageList",get:function(){var e=this.state.page;return e?this.memoList.slice((e-1)*C.LIMIT,e*C.LIMIT):[]}},{key:"extendsJA",get:function(){try{var e=this.state.extendsJA.value,o={};return e.split("\n").filter(function(e){return!!e}).map(function(e){return e.trim()}).forEach(function(e){try{var s=e.split(","),t=(0,l.default)(s,2),r=t[0],n=t[1],r=(r||"").trim(),n=Number((n||"").trim());r&&n&&(o[r.toLocaleLowerCase()]=n)}catch(e){}}),o}catch(e){return{}}}},{key:"subjectV2",value:function(e){var s=this;return(0,_.computed)(function(){return!O.STORYBOOK&&x.subjectStore.subjectV2(e)||s.subjectOSS(e)}).get()}},{key:"subjectOSS",value:function(e){var s=this;return(0,_.computed)(function(){return s.state.subjects["subject_"+e]||{}}).get()}},{key:"collection",value:function(e){return(0,_.computed)(function(){return x.collectionStore.collection(e)}).get()}},{key:"airDate",value:function(s){var t=this;return(0,_.computed)(function(){var e=t.subjectV2(s);return null!=e&&e._loaded&&null!=e&&e.date&&"0000-00-00"!==e.date?e.date:null!=(e=x.subjectStore.subjectFormHTML(s))&&e._loaded&&"string"==typeof(null==e?void 0:e.info)&&(null==(e=e.info.match(C.REG_AIRDATE))?void 0:e[2])||""}).get()}},{key:"eventType",get:function(){return O.STORYBOOK?"directory":this.state.webDAV?"webDAV":"smb"}}]),(0,f.default)((t=w).prototype,"refreshKey",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"refreshKey"),t.prototype),(0,f.default)(t.prototype,"data",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"data"),t.prototype),(0,f.default)(t.prototype,"isLogin",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLogin"),t.prototype),(0,f.default)(t.prototype,"current",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"current"),t.prototype),(0,f.default)(t.prototype,"subjectIds",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectIds"),t.prototype),(0,f.default)(t.prototype,"smbs",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"smbs"),t.prototype),(0,f.default)(t.prototype,"pageList",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"pageList"),t.prototype),(0,f.default)(t.prototype,"extendsJA",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"extendsJA"),t.prototype),(0,f.default)(t.prototype,"eventType",[_.computed],Object.getOwnPropertyDescriptor(t.prototype,"eventType"),t.prototype),t);function w(){var f;(0,n.default)(this,w);for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f=P.call.apply(P,[this].concat(t)),(0,p.default)((0,i.default)(f),"state",(0,_.observable)(C.STATE)),(0,p.default)((0,i.default)(f),"init",(0,a.default)(d.mark(function e(){var s,t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getStorage(C.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,t={},O.STORYBOOK&&(t.tags=s.tags||C.EXCLUDE_STATE.tags),f.setState(Object.assign({},s,C.EXCLUDE_STATE,t,{_loaded:!1})),e.next=11,(0,h.queue)([function(){return x.smbStore.init("data")},function(){return x.subjectStore.initSubjectV2(f.subjectIds)},function(){return x.collectionStore.init("collection")},function(){return x.collectionStore.init("collectionStatus")},function(){return(0,y.decode)("bangumi-data")}]);case 11:f.cacheList(),f.setState({_loaded:!0});case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"save",function(){f.setStorage(C.NAMESPACE)}),(0,p.default)((0,i.default)(f),"memoDirectory",[]),(0,p.default)((0,i.default)(f),"memoList",[]),(0,p.default)((0,i.default)(f),"memoTags",[]),(0,p.default)((0,i.default)(f),"memoSubjectTags",[]),(0,p.default)((0,i.default)(f),"cacheList",function(){f.memoList=f.mergeList(),f.cacheTags(),f.cacheSubjectTags(),O.STORYBOOK&&f.fetchCollectionsWeb()}),(0,p.default)((0,i.default)(f),"cacheTags",function(){f.memoTags=f.tagsActions()}),(0,p.default)((0,i.default)(f),"cacheSubjectTags",function(){f.memoSubjectTags=f.tagsSubjectActions()}),(0,p.default)((0,i.default)(f),"fetchInfos",(0,a.default)(d.mark(function e(){var r,n,o,i,s=arguments;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0<s.length&&void 0!==s[0]&&s[0],O.STORYBOOK)return e.abrupt("return",f.fetchInfosWeb());e.next=3;break;case 3:if(f.state.loading)return e.abrupt("return");e.next=6;break;case 6:return n=(0,b.getTimestamp)(),o=[],i=[],f.subjectIds.forEach(function(s,t){var e=f.subjectV2(s);(r||!e.id||!e._loaded||3600<=n-Number(e._loaded))&&(o.push((0,a.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.state.loading){e.next=2;break}return e.abrupt("return");case 2:return f.setState({loading:t+1+" / "+f.subjectIds.length}),e.abrupt("return",x.subjectStore.fetchSubjectV2(s));case 4:case"end":return e.stop()}},e)}))),f.isLogin)&&(e=f.collection(s)._loaded,r||!e||300<=n-Number(e))&&i.push(function(){return x.collectionStore.fetchCollection(s)})}),f.setState({loading:!0}),(0,h.t)("SMB.请求条目",{length:o.length}),e.next=14,(0,h.queue)(o,1);case 14:return f.setState({loading:!1}),e.abrupt("return",(0,h.queue)(i));case 16:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"fetchInfosWeb",(0,a.default)(d.mark(function e(){var t,r,n,o,i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.state.loading)return e.abrupt("return");e.next=3;break;case 3:if(t=f.state.subjects,r=[],n=(0,b.getTimestamp)(),f.subjectIds.forEach(function(e){var s=(t[e]||{})._loaded;(!s||43200<=n-Number(s))&&(!(s=f.subjectOSS(e)._loaded)||43200<=n-Number(s))&&r.push("subject_"+e)}),r.length){e.next=10;break}return e.abrupt("return",!0);case 10:return f.setState({loading:!0}),e.prev=11,o=["id","name","name_cn","image","rank","rating","totalEps","info","type","tags"],e.next=15,(0,v.gets)(r,o);case 15:i=e.sent,Object.entries(i).forEach(function(e){var s,t,e=(0,l.default)(e,2),r=e[0],e=e[1];try{i[r]=(0,b.pick)(e,o),i[r].jp=i[r].name,delete i[r].name,i[r].cn=i[r].name_cn,delete i[r].name_cn,i[r].eps=Number(i[r].totalEps)||"",delete i[r].totalEps,i[r].info&&(i[r].date=(null==(t=i[r].info.match(C.REG_AIRDATE))?void 0:t[2])||""),delete i[r].info,Array.isArray(null==(s=i[r])?void 0:s.tags)?i[r].tags=i[r].tags.filter(function(e){return 25<=Number(null==e?void 0:e.count)}).map(function(e){return e.name}):delete i[r].tags,i[r]._loaded=(0,b.getTimestamp)()}catch(e){}}),f.setState({subjects:i}),f.save(),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:return f.setState({loading:!1}),f.fetchCollectionsThenCacheTagsWeb(),e.abrupt("return",!0);case 26:case"end":return e.stop()}},e,null,[[11,21]])}))),(0,p.default)((0,i.default)(f),"fetchCollectionsWeb",(0,a.default)(d.mark(function e(){var s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!0,setTimeout(function(){s&&f.setState({fetchingCollections:!0})},1600),e.next=4,x.collectionStore.fetchCollectionStatusQueue(f.pageList.map(function(e){return e.subjectId}));case 4:return f.setState({fetchingCollections:!1}),s=!1,e.abrupt("return",!0);case 7:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"fetchCollectionsThenCacheTagsWeb",(0,a.default)(d.mark(function e(){var s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=!0,setTimeout(function(){s&&f.setState({fetchingCollections:!0})},1600),e.next=4,x.collectionStore.fetchCollectionStatusQueue(f.subjectIds);case 4:return f.setState({fetchingCollections:!1}),s=!1,f.cacheTags(),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"connectSmb",(0,a.default)(d.mark(function e(){var s,t,r,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.current.smb,e.next=3,(O.IOS||t.webDAV?(0,E.webDAVList):(0,E.smbList))(t);case 3:if((s=e.sent).length)if(t=(0,_.toJS)(f.data),r=f.state.uuid,-1!==(n=t.findIndex(function(e){return e.smb.uuid===r})))return t[n].smb.loaded=(0,b.getTimestamp)(),t[n].list=s,x.smbStore.updateData(t),e.next=14,f.fetchInfos();e.next=17;break;case 14:f.setState(Object.assign({},C.EXCLUDE_STATE,{_page:"1",page:1})),f.cacheList(),f.save();case 17:(0,h.t)("SMB.扫描",{length:s.length,type:f.eventType});case 18:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"connectWebDirectory",(0,a.default)(d.mark(function e(){var s,t,r,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=f.memoDirectory).length)if(t=(0,_.toJS)(f.data),r=f.state.uuid,-1!==(n=t.findIndex(function(e){return e.smb.uuid===r})))return t[n].smb.loaded=(0,b.getTimestamp)(),t[n].list=s,x.smbStore.updateData(t),e.next=11,f.fetchInfos();e.next=14;break;case 11:f.setState(Object.assign({},C.EXCLUDE_STATE,{_filter:"",filter:"",_page:"1",page:1})),f.cacheList(),f.save();case 14:(0,h.t)("SMB.扫描",{length:s.length,type:f.eventType}),f.memoDirectory=[],setTimeout(function(){f.setState({refreshKey:f.state.refreshKey+1})},0);case 17:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"onHeaderRefresh",(0,a.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchInfos();case 2:return f.cacheList(),e.next=5,(0,b.sleep)(400);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(f),"url",function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",d=4<arguments.length?arguments[4]:void 0;return(0,_.computed)(function(){try{var e,s,t;return f.current?(e=f.current.smb,s=[],r&&s.push(r),n&&s.push(n),o&&s.push(o),t=(d||e.url||"[PATH]/[FILE]").replace(/\[USERNAME\]/g,e.username).replace(/\[PASSWORD\]/g,e.password).replace(/\[IP\]/g,e.port?e.ip+":"+e.port:e.ip).replace(/\[PATH\]/g,s.join("/")).replace(/\[FILE\]/g,i),(0,E.fixedUrl)(t)):""}catch(e){return""}}).get()}),(0,p.default)((0,i.default)(f),"isFiles",function(s){return(0,_.computed)(function(){var e=f.state.files;return s in e?!!e[s]:null}).get()}),(0,p.default)((0,i.default)(f),"isExpanded",function(s){return(0,_.computed)(function(){var e=f.state.expands;return s in e?!!e[s]:null}).get()}),(0,p.default)((0,i.default)(f),"isFoldersExpanded",function(s){return(0,_.computed)(function(){var e=f.state.foldersExpands;return s in e?!!e[s]:null}).get()}),(0,p.default)((0,i.default)(f),"list",function(){var e,t=[];return null!=(e=f.current)&&null!=(e=e.list)&&e.length&&f.current.list.slice().sort(function(e,s){return(0,b.desc)(String(e.ids.length?e.lastModified:""),String(s.ids.length?s.lastModified:""))}).forEach(function(s){s.ids.length?s.ids.forEach(function(e){t.push(Object.assign({},s,{subjectId:e}))}):t.push(Object.assign({},s,{subjectId:0}))}),t}),(0,p.default)((0,i.default)(f),"sortList",function(){var e=f.state.sort;return"评分"===e?f.list().slice().sort(function(e,s){var t,e=f.subjectV2(e.subjectId||""),s=f.subjectV2(s.subjectId||"");return(0,b.desc)(Number(e._loaded?((null==e||null==(t=e.rating)?void 0:t.score)||0)+(null!=e&&e.rank?1e4-(null==e?void 0:e.rank):-1e4):-9999),Number(s._loaded?((null==s||null==(t=s.rating)?void 0:t.score)||0)+(null!=s&&s.rank?1e4-(null==s?void 0:s.rank):-1e4):-9999))}):"评分人数"===e?f.list().slice().sort(function(e,s){return(0,b.desc)(Number((null==(e=f.subjectV2(e.subjectId||""))||null==(e=e.rating)?void 0:e.total)||0),Number((null==(e=f.subjectV2(s.subjectId||""))||null==(s=e.rating)?void 0:s.total)||0))}):"名称"===e?f.list().slice().sort(function(e,s){e=f.subjectV2(e.subjectId||""),s=f.subjectV2(s.subjectId||""),e=(0,b.cnjp)(e.cn,e.jp)||"",s=(0,b.cnjp)(s.cn,s.jp)||"";return e.localeCompare(s)}):"文件夹修改时间"===e?f.list().sort(function(e,s){return(0,b.desc)(String(s.lastModified||""),String(e.lastModified||""))}):f.list().slice().sort(function(e,s){return(0,b.desc)(String(f.airDate(s.subjectId||"")),String(f.airDate(e.subjectId||"")))})}),(0,p.default)((0,i.default)(f),"tagList",function(){var r=f.state.tags;return r.length?f.sortList().filter(function(e){var s,t=e.subjectId;return r.includes("条目")?s=!!t:r.includes("文件夹")&&(s=!t),(s=s||e.tags.some(function(e){return r.includes(e)}))||(e=f.subjectV2(t).type,e=O.MODEL_SUBJECT_TYPE.getTitle(e),s=!!t&&r.includes(e)),s=!(s=s||!!t&&r.includes(x.collectionStore.collect(t)||(null==(e=f.collection(t))||null==(e=e.status)?void 0:e.name)||"未收藏"))&&/\d{4}/.test(r[0])?!!(e=f.subjectV2(t).date)&&e.includes(r[0]):s}):f.sortList()}),(0,p.default)((0,i.default)(f),"subjectTagList",function(){var s=f.state.subjectTags;return s.length?f.tagList().filter(function(e){e=e.subjectId;return!!e&&f.subjectV2(e).tags.some(function(e){return"string"==typeof e?s.includes(e):!(null==e||!e.name)&&s.includes(null==e?void 0:e.name)})}):f.tagList()}),(0,p.default)((0,i.default)(f),"filterList",function(){var r=f.state.filter;return r?f.subjectTagList().filter(function(e){var s,t;return e.subjectId?(s=(t=f.subjectV2(e.subjectId)).cn,t=void 0===(t=t.jp)?"":t,(void 0===s?"":s).includes(r)||t.includes(r)):e.name.includes(r)}):f.subjectTagList()}),(0,p.default)((0,i.default)(f),"mergeList",function(){var r={},n=[];return f.filterList().forEach(function(e){var s,t=e.subjectId;t&&t in r?n[s=r[t]].merge?n[s].merge.push(e):n[s]=Object.assign({},n[s],{merge:[e]}):(n.push(e),r[t]=n.length-1)}),n}),(0,p.default)((0,i.default)(f),"tagsCount",function(){var n={"条目":0,"文件夹":0};return f.list().forEach(function(e){var s,t,r=e.subjectId;r?(n["条目"]+=1,t=(s=f.subjectV2(r)).type,s=s.date,(t=O.MODEL_SUBJECT_TYPE.getTitle(t))&&(n[t]?n[t]+=1:n[t]=1),"string"==typeof s&&(t=s.slice(0,4))&&(n[t]?n[t]+=1:n[t]=1),r=x.collectionStore.collect(r)||(null==(s=f.collection(r))||null==(t=s.status)?void 0:t.name)||"未收藏",n[r]?n[r]+=1:n[r]=1,e.tags.forEach(function(e){n[e]?n[e]+=1:n[e]=1})):n["文件夹"]+=1}),n}),(0,p.default)((0,i.default)(f),"tagsActions",function(){var t=f.tagsCount();return Object.keys(t).sort(function(e,s){return(0,b.desc)(C.DICT_ORDER[e]||t[e]||0,C.DICT_ORDER[s]||t[s]||0)})}),(0,p.default)((0,i.default)(f),"tagsSubjectCount",function(){var s={},t={};return f.list().forEach(function(e){var e=e.subjectId;!e||e in s||(s[e]=!0,"function"==typeof(null==(e=f.subjectV2(e).tags)?void 0:e.forEach)&&e.forEach(function(e){var s="";(s="string"==typeof e?e:null==e?void 0:e.name)&&(t[s]||(t[s]=0),t[s]+=1)}))}),t}),(0,p.default)((0,i.default)(f),"tagsSubjectActions",function(){var t=f.tagsSubjectCount();return Object.keys(t).sort(function(e,s){return(0,b.desc)(t[e]||0,t[s]||0)})}),(0,p.default)((0,i.default)(f),"onShow",function(){f.setState({visible:!0}),(0,h.t)("SMB.显示表单",{type:f.eventType})}),(0,p.default)((0,i.default)(f),"onClose",function(){f.setState(Object.assign({},C.EXCLUDE_STATE)),f.memoDirectory=[]}),(0,p.default)((0,i.default)(f),"onEdit",function(){var e;f.current&&(e=f.current.smb,f.setState({visible:!0,id:e.uuid,name:e.name||C.EXCLUDE_STATE.name,ip:e.ip||C.EXCLUDE_STATE.ip,port:e.port||C.EXCLUDE_STATE.port,username:e.username||C.EXCLUDE_STATE.username,password:e.password||C.EXCLUDE_STATE.password,sharedFolder:e.sharedFolder||C.EXCLUDE_STATE.sharedFolder,workGroup:e.workGroup||C.EXCLUDE_STATE.workGroup,path:e.path||C.EXCLUDE_STATE.path,url:e.url||C.EXCLUDE_STATE.url,webDAV:e.webDAV}),(0,h.t)("SMB.编辑",{type:f.eventType}))}),(0,p.default)((0,i.default)(f),"onCopy",function(){var e;f.current&&(e=f.current.smb,f.setState({visible:!0,id:"",name:"",ip:e.ip||C.EXCLUDE_STATE.ip,port:e.port||C.EXCLUDE_STATE.port,username:e.username||C.EXCLUDE_STATE.username,password:e.password||C.EXCLUDE_STATE.password,sharedFolder:e.sharedFolder||C.EXCLUDE_STATE.sharedFolder,workGroup:e.workGroup||C.EXCLUDE_STATE.workGroup,path:e.path||C.EXCLUDE_STATE.path,url:e.url||C.EXCLUDE_STATE.url,webDAV:!!O.IOS||e.webDAV}),(0,h.t)("SMB.复制"))}),(0,p.default)((0,i.default)(f),"onChange",function(e,s){f.setState((0,p.default)({},e,s))}),(0,p.default)((0,i.default)(f),"onSubmit",function(){var e,s,t,r=f.state,n=r.id,o=r.name,i=r.ip,d=r.port,l=r.username,a=r.password,c=r.sharedFolder,u=r.workGroup,m=r.path,p=r.url,r=r.webDAV;O.STORYBOOK||i&&l&&c?(-1===(s=(e=(0,_.toJS)(f.data)).findIndex(function(e){return e.smb.uuid===n}))?(t=(0,b.getTimestamp)(),x.smbStore.updateData([{smb:{uuid:t,name:o,ip:i,username:l,password:a,sharedFolder:c,path:m,port:d,workGroup:u,url:p||C.EXCLUDE_STATE.url,webDAV:!!O.IOS||r},list:[]}].concat((0,j.default)(e))),f.setState(Object.assign({uuid:t},C.EXCLUDE_STATE)),(0,h.t)("SMB.新增",{type:f.eventType})):(e[s].smb.name=o,e[s].smb.ip=i,e[s].smb.username=l,e[s].smb.password=a,e[s].smb.sharedFolder=c,e[s].smb.path=m,e[s].smb.port=d,e[s].smb.workGroup=u,e[s].smb.url=p||C.EXCLUDE_STATE.url,e[s].smb.webDAV=!!O.IOS||r,x.smbStore.updateData(e),f.setState(Object.assign({},C.EXCLUDE_STATE)),(0,h.t)("SMB.保存",{type:f.eventType})),f.save(),O.STORYBOOK&&setTimeout(function(){f.connectWebDirectory()},1e3)):(0,b.info)("请填写所有必填项")}),(0,p.default)((0,i.default)(f),"onDelete",function(){var s,e;f.current&&(s=f.current.smb,e=(0,_.toJS)(f.data).filter(function(e){return e.smb.uuid!==s.uuid}),x.smbStore.updateData(e),f.setState(Object.assign({uuid:(null==e||null==(e=e[0])||null==(e=e.smb)?void 0:e.uuid)||""},C.EXCLUDE_STATE,{_page:"1",page:1})),f.cacheList(),f.save(),(0,h.t)("SMB.删除"))}),(0,p.default)((0,i.default)(f),"onSwitch",function(e,s){f.setState({_filter:"",filter:"",_page:"1",page:1});s=f.smbs[s];f.setState({loading:!1,uuid:s.uuid}),f.cacheList(),f.save(),(0,h.t)("SMB.切换")}),(0,p.default)((0,i.default)(f),"onToggleTags",function(){var e=f.state.more;f.setState({more:!e}),f.cacheTags(),f.cacheSubjectTags(),f.save(),(0,h.t)("SMB.更多标签")}),(0,p.default)((0,i.default)(f),"onSelectTag",function(e){var s=f.state.tags;f.setState({tags:!e||s.includes(e)?[]:[e],_page:"1",page:1}),f.cacheList(),f.save(),(0,h.t)("SMB.选择标签",{title:e})}),(0,p.default)((0,i.default)(f),"onSelectSubjectTag",function(e){var s=f.state.subjectTags;f.setState({subjectTags:!e||s.includes(e)?[]:[e],_page:"1",page:1}),f.cacheList(),f.save(),(0,h.t)("SMB.选择条目标签",{title:e})}),(0,p.default)((0,i.default)(f),"onSelectSort",function(e){f.setState({sort:e,_page:"1",page:1}),f.cacheList(),f.save(),(0,h.t)("SMB.排序",{title:e})}),(0,p.default)((0,i.default)(f),"onSelectSMB",function(e,s){var t;e===C.ACTION_CONNECT?f.connectSmb():e===C.ACTION_EDIT?f.onEdit():e===C.ACTION_COPY_AND_CREATE?f.onCopy():e===C.ACTION_COPY_AND_CREATE_FOLDER?(0,b.confirm)("以 "+(null==(t=f.current)||null==(t=t.smb)?void 0:t.name)+" 为名字, 用当前筛选的条目来创建用户目录, 确定?",function(){f.doCreateCatalog(s)}):e===C.ACTION_DELETE?(0,b.confirm)("删除后无法恢复，确定？",f.onDelete):e===C.ACTION_OPEN_DIRECTORY?f.onOpenCurrentPage():e===C.ACTION_CLOSE_DIRECTORY&&f.onCloseCurrentPage()}),(0,p.default)((0,i.default)(f),"onPrev",function(){var e=f.state.page;1===e?(0,b.info)("已经是第一页了"):(e-=1,f.setState({_page:String(e),page:e}),f.save(),O.STORYBOOK&&f.fetchCollectionsWeb(),(0,h.t)("SMB.上一页"))}),(0,p.default)((0,i.default)(f),"onNext",function(){var e=f.state.page;e>=Math.ceil(f.memoList.length/C.LIMIT)?(0,b.info)("已经是最后一页了"):(e+=1,f.setState({_page:String(e),page:e}),f.save(),O.STORYBOOK&&f.fetchCollectionsWeb(),(0,h.t)("SMB.下一页"))}),(0,p.default)((0,i.default)(f),"onPaginationInputChange",function(e){e=e.nativeEvent.text;f.setState({_page:e})}),(0,p.default)((0,i.default)(f),"onPaginationInputSubmit",function(){var e=f.state._page,e=Number(e)||1,s=Math.ceil(f.memoList.length/C.LIMIT)||1;s<=e&&((0,b.info)("最大 "+s+" 页"),e=s),f.setState({_page:String(e),page:e}),f.save(),O.STORYBOOK&&f.fetchCollectionsWeb(),(0,h.t)("SMB.页码跳转")}),(0,p.default)((0,i.default)(f),"onFile",function(e){var s=!f.state.files[e];f.setState({files:(0,p.default)({},e,s)}),f.save()}),(0,p.default)((0,i.default)(f),"onExpand",function(e){var s=!f.state.expands[e];f.setState({expands:(0,p.default)({},e,s)}),f.save(),(0,h.t)(s?"SMB.展开文件夹":"SMB.收起文件夹")}),(0,p.default)((0,i.default)(f),"onOpenCurrentPage",function(){var s={};f.pageList.forEach(function(e){s[e.name]=!0,null!=e&&null!=(e=e.merge)&&e.forEach(function(e){s[e.name]=!0})}),f.setState({expands:s}),f.save(),(0,h.t)("SMB.展开本页文件夹")}),(0,p.default)((0,i.default)(f),"onCloseCurrentPage",function(){var s={};f.pageList.forEach(function(e){s[e.name]=!1,null!=e&&null!=(e=e.merge)&&e.forEach(function(e){s[e.name]=!1})}),f.setState({expands:s}),f.save(),(0,h.t)("SMB.收起本页文件夹")}),(0,p.default)((0,i.default)(f),"onFilterInputChange",function(e){e=e.nativeEvent.text;f.setState({_filter:e}),""===e.trim()&&(f.setState({_filter:"",filter:"",_page:"1",page:1}),f.cacheList(),f.save())}),(0,p.default)((0,i.default)(f),"onFilterInputSubmit",function(){var e=f.state._filter.trim();f.setState({_filter:e,filter:e,_page:"1",page:1}),f.cacheList(),f.save(),(0,h.t)("SMB.筛选",{value:e})}),(0,p.default)((0,i.default)(f),"onShowConfig",function(){f.setState({configVisible:!0}),(0,h.t)("SMB.显示配置",{type:f.eventType})}),(0,p.default)((0,i.default)(f),"onCloseConfig",function(){f.setState({configVisible:!1})}),(0,p.default)((0,i.default)(f),"onSwitchConfig",function(e){var s=!f.state.configs[e];f.setState({configs:(0,p.default)({},e,s)}),f.save(),(0,h.t)("SMB.切换配置",{key:e,value:s})}),(0,p.default)((0,i.default)(f),"onSwitchLayoutGridNums",function(e){f.setState({configs:{layoutGridNums:Number(e)}}),f.save()}),(0,p.default)((0,i.default)(f),"onSwitchAutoJA",function(){f.setState({autoJA:!f.state.autoJA}),f.save()}),(0,p.default)((0,i.default)(f),"onShowModalFolders",function(e){f.setState({folders:Object.assign({},e,{visible:!0})}),(0,h.t)("SMB.显示文件夹弹窗",{subjectId:e.subjectId})}),(0,p.default)((0,i.default)(f),"onCloseModalFolders",function(){f.setState({folders:{visible:!1}})}),(0,p.default)((0,i.default)(f),"onFoldersExpand",function(e){var s=!f.state.foldersExpands[e];f.setState({foldersExpands:(0,p.default)({},e,s)}),f.save()}),(0,p.default)((0,i.default)(f),"onShowExtendsJA",function(){f.setState({extendsJAVisible:!0}),(0,h.t)("SMB.显示刮削词表单",{type:f.eventType})}),(0,p.default)((0,i.default)(f),"onCloseExtendsJA",function(){f.setState({extendsJAVisible:!1}),f.save()}),(0,p.default)((0,i.default)(f),"upload",function(){var s=x.userStore.myUserId;s?(0,b.confirm)("会将所有本地配置加密后上传到云，以便丢失的时候同步回来。若想清空云端数据，可以将本地的所有配置删除后再次上传。确定？",function(){var e;try{e=f.data.map(function(e){return{list:[],smb:e.smb}}),(0,v.update)("smb_"+s,S.default.set(e))}catch(e){(0,b.info)("上传失败，请重试或联系作者")}}):(0,b.info)("需要先"+T.default.login())}),(0,p.default)((0,i.default)(f),"download",function(){var t=x.userStore.myUserId;t?(0,b.confirm)("同步后会将云端配置数据覆盖掉本地所有配置数据，并会清空现有扫描列表，确定？",(0,a.default)(d.mark(function e(){var s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.get)("smb_"+t);case 3:if(s=e.sent,s=S.default.get(s),Array.isArray(s)&&s.length)return x.smbStore.replaceData(s),s=null==s||null==(s=s[0])?void 0:s.smb,s=s.uuid,f.setState({uuid:s}),f.save(),(0,b.info)("已覆盖"),e.abrupt("return");e.next=12;break;case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:(0,b.alert)("下载失败，可能没有数据或者数据格式出错");case 17:case"end":return e.stop()}},e,null,[[0,14]])}))):(0,b.info)("需要先"+T.default.login())}),(0,p.default)((0,i.default)(f),"doCreateCatalog",(s=(0,a.default)(d.mark(function e(o){var s,i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=x.userStore.formhash){e.next=4;break}return(0,b.info)("文件夹创建失败, 请检查"+T.default.login()+"状态"),e.abrupt("return");case 4:if(f.state.loading)return(0,b.info)("正在获取数据中, 请待完成后再试"),e.abrupt("return");e.next=8;break;case 8:x.discoveryStore.doCatalogCreate({formhash:i,title:(null==(s=f.current)||null==(s=s.smb)?void 0:s.name)||"文件夹",desc:"由 Bangumi for "+(O.IOS?"iOS":"android")+" SMB 功能自动创建"},function(e,s){var t;s&&s.responseURL&&((t=s.responseURL.match(/\d+/g))&&t[0]?((0,b.info)("创建成功, 开始导入条目数据..."),setTimeout((0,a.default)(d.mark(function e(){var s,r,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.memoList,r=t[0],n=[],s.forEach(function(e){e.subjectId&&!n.includes(e.subjectId)&&n.push(e.subjectId)}),e.next=6,(0,h.queue)(n.map(function(s,t){return function(){return new Promise(function(e){(0,b.info)(t+1+" / "+n.length),x.discoveryStore.doCatalogAddRelate({catalogId:r,subjectId:s,formhash:i,noConsole:!0},function(){e()})})}}),1);case 6:o.push("CatalogDetail",{catalogId:r}),(0,b.info)("已完成");case 8:case"end":return e.stop()}},e)})),400)):(0,b.info)("文件夹创建失败, 请检查"+T.default.login()+"状态"))}),(0,h.t)("SMB.创建目录",{length:f.filterList.length});case 10:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),f}},"./src/screens/user/smb/subject/bottom/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/smb/subject/bottom/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.rating,e=e.rank;return(0,l.jsxs)(n.Flex,{style:d.styles.rating,children:[!!e&&(0,l.jsx)(o.Rank,{style:i._.mr.sm,value:e}),!(null==s||!s.score)&&(0,l.jsx)(o.Stars,{style:i._.mr.sm,value:s.score}),!(null==s||!s.total)&&(0,l.jsxs)(n.Text,{size:11,type:"sub",children:["(",s.total,"人评分)"]})]})});try{bottom.displayName="bottom",bottom.__docgenInfo={description:"",displayName:"bottom",props:{rating:{defaultValue:null,description:"",name:"rating",required:!0,type:{name:"any"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/subject/bottom/index.tsx#bottom"]={docgenInfo:bottom.__docgenInfo,name:"bottom",path:"src/screens/user/smb/subject/bottom/index.tsx#bottom"})}catch(e){}},"./src/screens/user/smb/subject/bottom/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({rating:{marginTop:12,marginBottom:4}})},"./src/screens/user/smb/subject/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/smb/subject/title/index.tsx")),c=r(t("./src/screens/user/smb/subject/bottom/index.tsx")),u=r(t("./src/screens/user/smb/subject/manage/index.tsx")),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t,r,n,o,i,e=e.subjectId,s=s.$;return e?(t=(i=s.subjectV2(e)).jp,r=i.cn,n=void 0===(n=i.eps)?0:n,o=i.rank,i=i.rating,(0,m.jsxs)(d.Flex,{align:"start",children:[(0,m.jsxs)(d.Flex.Item,{children:[(0,m.jsx)(a.default,{name:t,nameCn:r}),(0,m.jsxs)(d.Text,{style:l._.mt.sm,size:11,bold:!0,numberOfLines:2,children:[!!n&&n+"话 / ",s.airDate(e)||"-"]}),(0,m.jsx)(c.default,{rank:o,rating:i})]}),(0,m.jsx)(u.default,{subjectId:e})]})):null})},"./src/screens/user/smb/subject/manage/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,r,n,o,i=e.subjectId,e=s.$;return i?(s=e.subjectV2(i),t=s.jp,r=s.cn,s=s.type,e=void 0===(e=e.collection(i).status)?{name:""}:e,n=l.collectionStore.collect(i)||e.name,e=c.MODEL_SUBJECT_TYPE.getTitle(s),o="游戏"===e?"玩":"音乐"===e?"听":"书籍"===e?"读":"看",(0,u.jsx)(d.Manage,{collection:n,typeCn:e,subjectId:i,showRedirect:!l.userStore.isStorybookLogin,onPress:function(){l.uiStore.showManageModal({subjectId:i,title:(0,a.cnjp)(t,r),desc:(0,a.cnjp)(r,t),status:n,action:o},"本地管理",function(){l.collectionStore.fetchCollectionStatusQueue([i])})}})):null})},"./src/screens/user/smb/subject/title/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.name,e=e.nameCn,s=s.$.state.filter,r=!!t,n=(0,d.HTMLDecode)((0,d.cnjp)(e,t)),t=(0,d.HTMLDecode)((0,d.cnjp)(t,e)),e=n.length,o=24<=(o=t.length)?9:16<=o?10:11;return(0,a.jsxs)(i.Flex,{wrap:"wrap",align:"end",children:[(0,a.jsx)(i.Highlight,{size:20<=e?13:12<=e?14:15,bold:!0,numberOfLines:1,value:s,children:""+n+l.TEXT_SPACE}),r&&t!==n&&(0,a.jsx)(i.Highlight,{type:"sub",size:o,lineHeight:24-o,bold:!0,numberOfLines:1,value:s,children:t})]})})},"./src/screens/user/smb/tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),d=r(t("./src/screens/user/smb/tool-bar/sort.tsx")),l=r(t("./src/screens/user/smb/tool-bar/type.tsx")),a=r(t("./src/screens/user/smb/tool-bar/tag.tsx")),c=t("./src/screens/user/smb/tool-bar/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ob)(function(){return(0,u.jsxs)(n.ToolBar,{style:c.styles.toolBar,children:[(0,u.jsx)(d.default,{}),(0,u.jsx)(l.default,{}),i.STORYBOOK&&(0,u.jsx)(a.default,{})]})})},"./src/screens/user/smb/tool-bar/sort.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/smb/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,s=t.state.sort;return(0,d.jsx)(n.ToolBar.Popover,{data:i.ACTIONS_SORT,icon:"md-sort",iconColor:o._.colorDesc,text:s,type:"desc",onSelect:function(e){setTimeout(function(){t.onSelectSort(e)},0)}})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/smb/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/user/smb/tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({toolBar:{paddingBottom:0}})},"./src/screens/user/smb/tool-bar/tag.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=s.$,s=r.state.subjectTags,t=r.tagsSubjectCount();return(0,d.jsx)(o.ToolBar.Popover,{data:["全部"].concat((0,n.default)(r.memoSubjectTags.filter(function(e,s){return s<100}).map(function(e){return e+" ("+t[e]+")"}))),icon:"md-bookmark-outline",iconSize:17,iconColor:i._.colorDesc,text:s.length?s[0]:"标签",type:"desc",onSelect:function(t){setTimeout(function(){var e,s="";"全部"!==t&&(s=(null==(e=t.split(" "))?void 0:e[0])||""),r.onSelectSubjectTag(s)},0)}})});try{tag.displayName="tag",tag.__docgenInfo={description:"",displayName:"tag",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/tool-bar/tag.tsx#tag"]={docgenInfo:tag.__docgenInfo,name:"tag",path:"src/screens/user/smb/tool-bar/tag.tsx#tag"})}catch(e){}},"./src/screens/user/smb/tool-bar/type.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=s.$,s=r.state.tags,t=r.tagsCount();return(0,d.jsx)(o.ToolBar.Popover,{data:["全部"].concat((0,n.default)(r.memoTags.map(function(e){return e+" ("+t[e]+")"}))),icon:"md-folder-open",iconSize:17,iconColor:i._.colorDesc,text:s.length?s[0]:"类型",type:"desc",onSelect:function(t){setTimeout(function(){var e,s="";"全部"!==t&&(s=(null==(e=t.split(" "))?void 0:e[0])||""),r.onSelectTag(s)},0)}})});try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/tool-bar/type.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/user/smb/tool-bar/type.tsx#type"})}catch(e){}},"./src/screens/user/smb/top/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/smb/tool-bar/index.tsx")),c=r(t("./src/screens/user/smb/servers/index.tsx")),u=t("./src/screens/user/smb/ds.ts"),m=t("./src/screens/user/smb/top/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t,r=s.$,n=s.navigation;return(null==(s=r.current)?void 0:s.smb)?(s=(0,m.memoStyles)(),t=r.state.loading,(0,p.jsxs)(o.default,{style:s.top,children:[(0,p.jsxs)(i.Flex,{style:s.container,children:[(0,p.jsx)(i.Flex.Item,{flex:.5,children:(0,p.jsx)(c.default,{store:r})}),(0,p.jsx)(i.Flex.Item,{children:(0,p.jsx)(a.default,{})}),(0,p.jsx)(i.Flex.Item,{flex:.5,children:(0,p.jsx)(i.Flex,{justify:"end",children:(0,p.jsx)(d.Popover,{style:[s.popover,s.more],data:u.ACTIONS_SMB,onSelect:function(e){return r.onSelectSMB(e,n)},children:(0,p.jsx)(i.Iconfont,{name:"md-more-vert",color:l._.colorDesc})})})})]}),!!t&&(0,p.jsxs)(i.Flex,{style:l._.mb.sm,justify:"center",children:[(0,p.jsx)(o.default,{style:s.loading,children:(0,p.jsx)(i.Loading.Raw,{size:"small",color:l._.colorSub})}),(0,p.jsxs)(i.Text,{style:l._.ml.sm,size:12,type:"sub",children:["正在刷新条目数据 ",t]})]})]})):null});try{top.displayName="top",top.__docgenInfo={description:"",displayName:"top",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/smb/top/index.tsx#top"]={docgenInfo:top.__docgenInfo,name:"top",path:"src/screens/user/smb/top/index.tsx#top"})}catch(e){}},"./src/screens/user/smb/top/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{top:n.STORYBOOK?{position:"absolute",zIndex:1,top:56,right:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.84)"}:{},container:{paddingTop:n.STORYBOOK?0:r._.xs,paddingHorizontal:r._.wind,paddingBottom:r._.sm},popover:{padding:r._.sm,marginLeft:r._.sm,borderRadius:20,overflow:"hidden"},more:{marginRight:r._.ios(-13,-11)},loading:{marginLeft:-24,transform:[{scale:.4}]}}})},"./src/screens/user/smb/utils/directory.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.starts-with.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.object.entries.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.index-of.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.extractAnimeName=p,s.transformData=function(e,d,l){var s=[],a=new Map;return e.filter(function(e){return!e.webkitRelativePath.startsWith(".")&&!e.name.startsWith(".")}).forEach(function(e){var s,t=e.webkitRelativePath.split("/").slice(0,-1).join("/"),r=(a.has(t)||a.set(t,{ids:[],lastModified:e.lastModifiedDate,list:[],name:t,path:"",tags:(0,m.matchTags)(t)}),e.webkitRelativePath.match(/bangumi-(\d+)/));if(r&&(r=Number(r[1]))&&!a.get(t).ids.includes(r)&&a.get(t).ids.push(r),a.get(t).ids.length||(r=Number(e.name.toLocaleLowerCase().replace(/(\.bgm)|(\.txt)/g,"")))&&!a.get(t).ids.includes(r)&&a.get(t).ids.push(r),a.get(t).ids.length||10<=(r=Number(null==(r=t.match(/ \d+$/g))?void 0:r[0]))&&!a.get(t).ids.includes(r)&&a.get(t).ids.push(r),d&&!a.get(t).ids.length&&((s=(0,u.findJA)(p(-1!==(s=(r=t).indexOf("/"))?r.substring(s+1):r)))&&!a.get(t).ids.includes(s)&&a.get(t).ids.push(s),s||((s=(r=function(e){e=e.split("/");if(2<=e.length)return e[e.length-2];return""}(t)).match(/bangumi-(\d+)/))&&(s=Number(s[1]))&&!a.get(t).ids.includes(s)&&a.get(t).ids.push(s),a.get(t).ids.length||10<=(s=Number(null==(s=r.match(/ \d+$/g))?void 0:s[0]))&&!a.get(t).ids.includes(s)&&a.get(t).ids.push(s),a.get(t).ids.length)||(s=(0,u.findJA)(p(r)))&&!a.get(t).ids.includes(s)&&a.get(t).ids.push(s)),"object"==typeof l)try{var n,o=t.toLocaleLowerCase(),i=Object.entries(l).find(function(e){e=(0,c.default)(e,1)[0];return o.includes(e)});i&&(n=null==i?void 0:i[1])&&!a.get(t).ids.includes(n)&&a.get(t).ids.push(n)}catch(e){}a.get(t).list.push({lastModified:e.lastModifiedDate,name:e.name,type:(0,m.getFileMediaType)(e.name),size:(0,m.formatFileSize)(e.size)})}),a.forEach(function(e){s.push(e)}),s},r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),u=t("./src/utils/thirdParty/ja.ts"),m=t("./src/screens/user/smb/utils/utils.ts");var n=/s[1-9]|movies?|extras?|specials?|ova|oad|sp/g;function p(e){var e=e.split("/"),s=e[e.length-1].replace(/\[.*?\]|\(.*?\)|\{.*?\}/g,"").replace(/\b\d{2}-\d{2}\b/g,"").replace(/_/g," ").trim();return s&&3<=s.toLocaleLowerCase().replace(n,"").length||(s=e[e.length-1])&&3<=s.toLocaleLowerCase().replace(n,"").length?s:""+(e[e.length-2]||"")+e[e.length-1]}},"./src/screens/user/smb/utils/index.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"fixedUrl",{enumerable:!0,get:function(){return r.fixedUrl}}),Object.defineProperty(s,"getFileMediaType",{enumerable:!0,get:function(){return r.getFileMediaType}}),Object.defineProperty(s,"matchTags",{enumerable:!0,get:function(){return r.matchTags}}),Object.defineProperty(s,"openURL",{enumerable:!0,get:function(){return r.openURL}}),Object.defineProperty(s,"smbList",{enumerable:!0,get:function(){return n.smbList}}),Object.defineProperty(s,"webDAVList",{enumerable:!0,get:function(){return o.webDAVList}});var r=t("./src/screens/user/smb/utils/utils.ts"),n=t("./src/screens/user/smb/utils/smb.ts"),o=t("./src/screens/user/smb/utils/webdav.ts")},"./src/screens/user/smb/utils/smb.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.smbList=function(){}},"./src/screens/user/smb/utils/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.fixedUrl=function(e){return(0,i.isWindows)()?String(e).replace(/\//g,"\\").replace(/:\\\\/g,"://"):e},s.formatFileSize=function(e){if(!e||"number"!=typeof e)return"";if(1073741824<=e)return(e/1073741824).toFixed(1)+" GB";if(1048576<=e)return Math.floor(e/1048576)+" MB";return Math.floor(e/1024)+" KB"},s.getFileMediaType=function(e){e=String(e).toLocaleLowerCase();return/\.(mp4|m4v|mkv|avi|rmvb|mov|flv)$/.test(e)?"video":/\.(mp3|m4a|aac|flac|ape|wav)$/.test(e)?"music":/\.(jpg|jpeg|png|gif|bmp|webp)$/.test(e)?"pic":/\.(zip|rar|7z)(\.\d+)?$/.test(e)?"zip":/((\.bgm)|(\.bgm\.txt))$/.test(e)?"origin":"file"},s.matchTags=function(s){var t=[];return s?(d.DICT.forEach(function(e){e.reg.test(s)&&t.push(e.val)}),t.sort(function(e,s){return(0,o.desc)(d.DICT_ORDER[e]||0,d.DICT_ORDER[s]||0)})):t},s.openURL=function(e){n.default.openURL(e)},r(t("./node_modules/react-native-web/dist/exports/Linking/index.js"))),o=t("./src/utils/index.ts"),i=t("./src/utils/dom/index.ts"),d=t("./src/screens/user/smb/ds.ts")},"./src/screens/user/smb/utils/webdav.ts":(e,s,t)=>{var d,l=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.webDAVList=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(){var s=(0,c.default)(l.mark(function e(o){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d=null,0!==(s=String(i.ip)).indexOf("http")&&(s="http://"+s),i.port&&(s+=":"+i.port),s=[s,i.sharedFolder].filter(function(e){return!!e}).join("/"),d=(0,n.createClient)(s,{authType:n.AuthType.Password,username:i.username,password:i.password}),(0,u.info)("连接 webDAV..."),setTimeout((0,c.default)(l.mark(function e(){var s,t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=[],t=i.path.split(","),r=0;case 3:if(r<t.length)return e.next=6,function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(){var s=(0,c.default)(l.mark(function e(s){var t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return s(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,d.getDirectoryContents("/"+i);case 6:if(null!=(t=e.sent)&&t.length){e.next=12;break}return(d=null,u.alert)("读取文件夹失败"),s(!1),e.abrupt("return");case 12:return r=t.map(f).filter(function(e){return!e.hidden&&e.isDirectory&&"."!==e.name&&".."!==e.name}).map(function(e){return{name:e.name,lastModified:e.lastModified,path:i,list:[],ids:[],tags:[]}}),n=(0,u.loading)("扫描文件夹中..."),e.next=16,(0,m.queue)(r.map(function(o){return function(){return new Promise((s=(0,c.default)(l.mark(function e(s){var t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getDirectoryContents("/"+i+(i?"/":"")+o.name);case 3:t=e.sent,t=t.map(f),o.list=t.filter(function(e){return!e.hidden&&"."!==e.name&&".."!==e.name&&!e.name.includes("DS_Store")}).map(function(e){return{name:e.name,type:e.isDirectory?"folder":(0,p.getFileMediaType)(e.name),lastModified:e.lastModified}}).sort(function(e,s){return(0,u.asc)(e.name,s.name)}),r=[],"string"==typeof o.name&&(n=o.name.toLocaleLowerCase().match(/bangumi-\d+/g))&&n.forEach(function(e){e=Number(e.replace("bangumi-",""));e&&!r.includes(e)&&r.push(e)}),r.length||(r=t.filter(function(e){return/^\d+\.bgm(\.txt)?$/.test(e.name.toLocaleLowerCase())}).sort(function(e,s){return(0,u.desc)(e.name,s.name)}).map(function(e){return Number(e.name.toLocaleLowerCase().replace(/(\.bgm)|(\.txt)/g,""))})),o.ids=r,o.tags=(0,p.matchTags)(o.name+" "+((null==(n=t[0])?void 0:n.name)||"")),s(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),s();case 17:case"end":return e.stop()}},e,null,[[0,14]])})),function(e){return s.apply(this,arguments)}));var s}}));case 16:n(),s(r),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}},e,null,[[3,20]])}));return function(e){return s.apply(this,arguments)}}())}(t[r]);e.next=11;break;case 6:(n=e.sent)&&s.push.apply(s,(0,a.default)(n));case 8:r+=1,e.next=3;break;case 11:o(s),d=null;case 13:case"end":return e.stop()}},e)})),1e3);case 8:case"end":return e.stop()}},e)}));return function(e){return s.apply(this,arguments)}}())},r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),c=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=t("./node_modules/webdav/dist/node/index.js"),u=t("./src/utils/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/user/smb/utils/utils.ts");function f(e){var s="directory"===e.type;return{size:s?"0":String(e.size),hidden:!1,readOnly:!1,createTime:"",shortName:"",isDirectory:s,lastModified:e.lastmod,name:e.basename}}},"./src/screens/user/sponsor/chart/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),m=t("./src/utils/hooks/index.ts"),p=t("./src/utils/fetch/index.ts"),f=r(t("./src/screens/user/sponsor/item/index.tsx")),j=t("./src/screens/user/sponsor/ds.ts"),_=t("./src/screens/user/sponsor/utils.ts"),x=t("./src/screens/user/sponsor/chart/styles.ts"),b=t("./node_modules/react/jsx-runtime.js");function n(e){var r=e.navigation,s=(0,x.memoStyles)(),e=(0,_.useTreemapSquarify)(),t=e.data,n=e.filterLength,o=e.filterCount,i=e.setFilter,d=e.resetFilter;return(0,m.useObserver)(function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Flex,{style:s.filter,justify:"center",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(a.Text,{size:13,bold:!0,children:["已隐藏 ",n," 格，还有 ",o," 格未显示"]}),(0,b.jsx)(l.default,{style:s.refresh,children:(0,b.jsx)(c.IconTouchable,{name:"md-refresh",color:u._.colorDesc,size:18,onPress:function(){return d()}})})]}):(0,b.jsxs)(a.Text,{size:13,bold:!0,children:["还有 ",o," 格未显示，点击方格隐藏"]})}),(0,b.jsx)(l.default,{style:s.container,children:t.map(function(t){return(0,b.jsx)(f.default,Object.assign({},t,{onPress:function(){i(t.data)},onLongPress:u.systemStore.advance?function(){var e,s=(null==(s=j.USERS_MAP[t.data])?void 0:s.i)||t.data;r.push("Zone",{userId:s,_name:null==(e=j.USERS_MAP[t.data])?void 0:e.n}),(0,p.t)("赞助者.跳转",{userId:s})}:void 0}),t.data)})})]})})}s.default=n;try{n.displayName="Chart",n.__docgenInfo={description:"",displayName:"Chart",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/chart/index.tsx#Chart"]={docgenInfo:n.__docgenInfo,name:"Chart",path:"src/screens/user/sponsor/chart/index.tsx#Chart"})}catch(e){}},"./src/screens/user/sponsor/chart/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{filter:{height:56},container:{flex:1,backgroundColor:r._.colorPlain},refresh:{marginRight:-24}}})},"./src/screens/user/sponsor/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.LIST=s.FILTER_RATE=void 0,Object.defineProperty(s,"USERS_MAP",{enumerable:!0,get:function(){return d.default}}),r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=t("./src/utils/index.ts"),i=r(t("./src/assets/json/advance.json")),d=r(t("./src/assets/json/user.json"));s.STATE={list:!0,_loaded:!1},s.LIST=Object.keys(i.default).map(function(e){var s=i.default[e];return 1==s?{data:e,weight:10}:(s=s.split("|"),s=(0,n.default)(s,2)[1],{data:e,weight:Number(s)})}).sort(function(e,s){return(0,o.desc)(e.weight,s.weight)}),s.FILTER_RATE=.005},"./src/screens/user/sponsor/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/sponsor/utils.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.state.list;return(0,a.jsx)(o.Header,{title:"赞助者",hm:["sponsor","Sponsor"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[(0,a.jsx)(i.IconTouchable,{style:d._.mr.sm,name:n?"md-insert-chart-outlined":"md-sort",color:d._.colorTitle,onPress:t.onToggle}),(0,a.jsx)(i.IconTouchable,{name:"md-info-outline",color:d._.colorTitle,onPress:function(){r.push("Information",{title:"赞助者",message:["生存情况：已存活 "+(0,l.timeDiff)(),"图表根据赞助额按比例划分","点击方格隐藏 1 格，若你为赞助者长按可进入空间","除此外还有 30 多个赞助者没有留名","@senken 提供的 100 刀 iOS 开发账号","@magma 提供的服务器和 OSS 服务","数据不定期更新，感谢各位的支持！"]})}})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/sponsor/header/index.tsx#header"})}catch(e){}},"./src/screens/user/sponsor/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/hooks/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/sponsor/header/index.tsx")),l=r(t("./src/screens/user/sponsor/list/index.tsx")),a=r(t("./src/screens/user/sponsor/chart/index.tsx")),r=r(t("./src/screens/user/sponsor/store.ts")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ic)(r.default,function(e,s){var t=s.$,r=s.navigation;return(0,o.useRunAfter)(function(){t.init()}),(0,o.useObserver)(function(){var e=t.state,s=e.list,e=e._loaded;return(0,c.jsx)(n.Component,{id:"screen-sponsor",children:(0,c.jsxs)(n.Page,{loaded:e,children:[(0,c.jsx)(d.default,{}),s?(0,c.jsx)(l.default,{}):(0,c.jsx)(a.default,{navigation:r})]})})})});try{sponsor.displayName="sponsor",sponsor.__docgenInfo={description:"",displayName:"sponsor",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/index.tsx#sponsor"]={docgenInfo:sponsor.__docgenInfo,name:"sponsor",path:"src/screens/user/sponsor/index.tsx#sponsor"})}catch(e){}},"./src/screens/user/sponsor/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.parse-int.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),f=t("./src/components/index.ts"),j=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),x=t("./src/screens/user/sponsor/ds.ts"),b=t("./src/screens/user/sponsor/item/styles.ts"),g=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s,t=e.w,r=e.h,n=e.x,o=e.y,i=e.data,d=e.percent,l=e.price,a=e.isFilter,c=e.onPress,e=e.onLongPress,u=(0,b.memoStyles)(),d=Math.pow(d+1,2),m=Math.min(t,r)/_._.window.height*1.2,a=!a&&!!i&&10<=l&&.016<t*r/(_._.window.width*_._.window.height),m=Math.min(64,parseInt(String(240*m)));return 200<=l?s=u.l4:50<=l?s=u.l3:20<=l?s=u.l2:10<=l&&(s=u.l1),(0,g.jsxs)(p.default,{style:[u.item,{top:o,left:n}],children:[(0,g.jsx)(f.Touchable,{style:{width:t,height:r},onPress:c,onLongPress:e,children:(0,g.jsxs)(f.Flex,{style:[u.body,{width:t,height:r,backgroundColor:_._.colorPlain},s],direction:"column",justify:"center",children:[a&&(0,g.jsx)(p.default,{style:{marginBottom:parseInt(String(5.6*d))},pointerEvents:"none",children:(0,g.jsx)(f.UserStatus,{style:s,userId:(null==(l=x.USERS_MAP[i])?void 0:l.i)||i,mini:m<32,children:(0,g.jsx)(j.Avatar,{src:null!=(o=x.USERS_MAP[i])&&o.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==(n=x.USERS_MAP[i])?void 0:n.a)+".jpg":"",size:m,radius:.36*m,borderWidth:0})})}),(0,g.jsx)(f.Flex,{style:u.content,justify:"center",children:(0,g.jsx)(f.Text,{size:8<=(null==(c=x.USERS_MAP[i])||null==(e=c.n)?void 0:e.length)?10:Math.min(14,parseInt(String(11*d))),numberOfLines:2,bold:!0,align:"center",selectable:!1,children:null==(t=x.USERS_MAP[i])?void 0:t.n})})]})}),(0,g.jsx)(p.default,{style:u.border,pointerEvents:"none"})]})});try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{w:{defaultValue:null,description:"",name:"w",required:!0,type:{name:"any"}},h:{defaultValue:null,description:"",name:"h",required:!0,type:{name:"any"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"any"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"any"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"any"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"any"}},isFilter:{defaultValue:null,description:"",name:"isFilter",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}},onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/item/index.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/user/sponsor/item/index.tsx#item"})}catch(e){}},"./src/screens/user/sponsor/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{item:{position:"absolute"},body:{flex:1},border:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,borderWidth:r._.hairlineWidth,borderColor:r._.select("rgba(0, 0, 0, 0.12)","rgba(255, 255, 255, 0.12)")},content:{width:"88%"},l1:{backgroundColor:r._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:r._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:r._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:r._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}})},"./src/screens/user/sponsor/list-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/sponsor/ds.ts"),l=t("./src/screens/user/sponsor/list-item/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.item,s=s.navigation,t=d.USERS_MAP[e.data],e=(null==t?void 0:t.i)||e.data;return(0,a.jsxs)(n.Flex,{style:l.styles.item,children:[(0,a.jsx)(n.UserStatus,{userId:e,children:(0,a.jsx)(o.Avatar,{navigation:s,src:null!=t&&t.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==t?void 0:t.a)+".jpg":"",userId:e,size:32})}),(0,a.jsxs)(n.Flex.Item,{style:i._.ml.sm,children:[(0,a.jsx)(n.Text,{size:12,bold:!0,children:null==t?void 0:t.n}),(0,a.jsxs)(n.Text,{size:10,type:"sub",children:["@",e]})]})]})})},"./src/screens/user/sponsor/list-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{width:"50%",paddingHorizontal:t._._wind,paddingVertical:t._.sm}})},"./src/screens/user/sponsor/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=r(t("./src/screens/user/sponsor/list-item/index.tsx")),c=t("./src/screens/user/sponsor/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(){return(0,u.jsx)(o.PaginationList2,{contentContainerStyle:i._.container.bottom,keyExtractor:function(e){return String(e.data)},data:c.LIST,numColumns:2,limit:40,ListHeaderComponent:(0,u.jsxs)(n.Text,{style:[i._.mt.sm,i._.mb.md],size:12,bold:!0,align:"center",children:["截止至 ",l.TEXT_UPDATE_SPONSOR," 共 ",c.LIST.length," 人投食了，感谢你们的支持！"]}),renderItem:m})});function m(e){e=e.item;return(0,u.jsx)(a.default,{item:e})}},"./src/screens/user/sponsor/store.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/utils/index.ts"),_=r(t("./src/utils/store/index.ts")),x=r(t("./src/assets/json/advance.json")),b=t("./src/screens/user/sponsor/ds.ts");function g(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var h,y="ScreeSponsor";s.default=(r=_.default,(0,a.default)(v,r),h=g(v),(0,d.default)(v,[{key:"list",get:function(){return Object.keys(x.default)}}]),(0,p.default)((t=v).prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function v(){var t;(0,i.default)(this,v);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=h.call.apply(h,[this].concat(s)),(0,m.default)((0,l.default)(t),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,l.default)(t),"init",(0,o.default)(n.mark(function e(){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStorage(y);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,t.setState(Object.assign({},s,{_loaded:!0})),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(t),"onToggle",function(){var e=!t.state.list;t.setState({list:e}),t.setStorage(y),e?(0,j.info)("列表显示"):(0,j.info)("按打赏金额分布显示")}),t}},"./src/screens/user/sponsor/utils.ts":(e,s,t)=>{var i=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.parse-float.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.devGetUsersInfo=function(){return n.apply(this,arguments)},s.timeDiff=function(){var e=(0,l.default)("2019-03-30"),s=(0,l.default)(),s=Math.floor(s.diff(e)/1e3),e=Math.floor(s/31536e3),t=(s-=31536e3*e,Math.floor(s/2592e3)),r=(s-=2592e3*t,Math.floor(s/86400)),n=(s-=86400*r,Math.floor(s/3600)),o=(s-=3600*n,Math.floor(s/60)),s=s-=60*o;return e+"年"+t+"月"+r+"日"+n+"时"+o+"分"+s+"秒"},s.useTreemapSquarify=function(){var e=(0,m.useState)((0,c.default)(g)),e=(0,u.default)(e,2),s=e[0],t=e[1],e=(0,m.useCallback)(function(e){t([].concat((0,c.default)(s),[e])),g=[].concat((0,c.default)(s),[e])},[s,t]),r=(0,m.useCallback)(function(){t([]),g=[]},[t]),n=b.LIST.filter(function(e){return!s.includes(e.data)}),o=h(n),i=0,d=0,l=h(n=n.filter(function(e,s){return!(e.weight/o<b.FILTER_RATE||40<=s)||(i+=1,d+=e.weight,!1)})),n=n.map(function(e){return{data:e.data,weight:e.weight,price:e.weight,percent:e.weight/l}}),a=[];try{j.default.squarify({frame:{x:0,y:0,width:p._.window.width,height:p._.window.height-p._.headerHeight-56-(_.IOS?28:0)},nodes:n},function(e,s,t,r,n){return a.push({data:n.data,price:n.price,percent:n.percent,x:parseFloat((0,f.toFixed)(e,3)),y:parseFloat((0,f.toFixed)(s,3)),w:parseFloat((0,f.toFixed)(t,3)),h:parseFloat((0,f.toFixed)(r,3))})})}catch(e){}return{data:a,filterLength:s.length,filterCount:i,filterTotal:d,setFilter:e,resetFilter:r}},r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),u=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=t("./node_modules/react/index.js"),l=r(t("./node_modules/dayjs/dayjs.min.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),a=t("./src/utils/kv/index.ts"),j=r(t("./src/utils/thirdParty/treemap.ts")),_=t("./src/constants/index.ts"),x=r(t("./src/assets/json/advance.json")),b=t("./src/screens/user/sponsor/ds.ts");var g=[];function h(e){var s=0;return e.forEach(function(e){return s+=e.weight||0}),s}function n(){return(n=(0,d.default)(i.mark(function e(){var n,o;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},o=Object.keys(x.default),e.next=4,(0,f.queue)(o.map(function(t,r){return(0,d.default)(i.mark(function e(){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.usersStore.fetchUsers({userId:t});case 2:return s=e.sent,console.info(r+" / "+o.length),n[t]={n:s.userName},s.avatar&&(n[t].a=s.avatar.split("?")[0].split("/000/")[1].replace(".jpg","")),s.userId!==t&&(n[t].i=s.userId),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))}));case 4:(0,a.update)("sponsor_users_map",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"./src/screens/user/timeline/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_TYPE=s.DEFAULT_SCOPE=void 0;t=t("./src/constants/index.ts");s.DEFAULT_SCOPE=t.MODEL_TIMELINE_SCOPE.getValue("自己"),s.DEFAULT_TYPE=t.MODEL_TIMELINE_TYPE.getValue("收藏")},"./src/screens/user/timeline/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.$.params.userName,(0,l.jsx)(n.Header,{title:s?s+"的时间线":"时间线",alias:"时间线",hm:["user/timeline","UserTimeline"],headerRight:function(){return(0,l.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,onPress:function(){return(0,d.info)("进度瓷砖会有延迟, 若无数据可过段时间再来")}})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/timeline/header/index.tsx#header"})}catch(e){}},"./src/screens/user/timeline/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/hooks/index.ts"),l=r(t("./src/screens/user/timeline/header/index.tsx")),a=r(t("./src/screens/user/timeline/mosaic-tile/index.tsx")),c=r(t("./src/screens/user/timeline/list/index.tsx")),r=r(t("./src/screens/user/timeline/store.ts")),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ic)(r.default,function(e,s){var t=s.$;return(0,d.useRunAfter)(function(){t.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-user-timeline",children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(o.Page,{children:(0,u.jsx)(o.ListView,{data:t.timeline,scrollToTop:!0,ListHeaderComponent:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(c.default,{})]}),renderItem:function(){return(0,u.jsx)(n.default,{})},onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchTimeline})})]})})});try{timeline.displayName="timeline",timeline.__docgenInfo={description:"",displayName:"timeline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/index.tsx#timeline"]={docgenInfo:timeline.__docgenInfo,name:"timeline",path:"src/screens/user/timeline/index.tsx#timeline"})}catch(e){}},"./src/screens/user/timeline/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),p=t("./src/screens/user/timeline/item/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=e.subject,n=e.action,o=s.navigation,i=(0,p.memoStyles)();return(0,f.jsxs)(l.Flex,{style:i.subjects,align:"start",wrap:"wrap",children:[(0,f.jsx)(d.default,{style:i.nodeDay}),r.map(function(e){var s=(0,u.findSubjectCn)(e.name),t="动画";return n.includes("读")&&(t="书籍"),n.includes("听")&&(t="音乐"),n.includes("玩")&&(t="游戏"),(0,f.jsx)(d.default,{style:1<r.length?i.subjectHalf:i.subject,children:(0,f.jsx)(l.Touchable,{animate:!0,onPress:function(){(0,m.t)("时间线.跳转",{to:"Suject",subjectId:e.id}),o.push("Subject",{subjectId:e.id,_cn:s,_jp:e.name,_image:e.cover,_type:t})},children:(0,f.jsxs)(l.Flex,{align:"start",children:[(0,f.jsx)(a.Cover,{src:e.cover,width:p.WIDTH,height:p.HEIGHT,type:t,radius:!0}),(0,f.jsxs)(l.Flex.Item,{style:c._.ml.md,children:[(0,f.jsxs)(l.Flex,{style:c._.mt.xs,children:[(0,f.jsx)(a.Tag,{value:n.replace("了","")}),!!e.star&&(0,f.jsx)(a.Stars,{style:c._.ml.xs,value:e.star,size:10})]}),(0,f.jsx)(l.Text,{style:c._.mt.sm,size:12,bold:!0,numberOfLines:3,children:s}),!!e.comment&&(0,f.jsx)(l.Flex,{style:c._.mt.sm,children:(0,f.jsx)(l.Text,{style:i.comment,size:12,children:e.comment})})]})]})})},String(e.id))})]})})},"./src/screens/user/timeline/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=s.WIDTH=s.HEIGHT=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts"),n=s.WIDTH=r._.r(t.IMG_WIDTH/1.1);s.HEIGHT=r._.r(t.IMG_HEIGHT/1.1),s.memoStyles=r._.memoStyles(function(){return{nodeDay:{position:"absolute",zIndex:3,top:r._.r(8),left:0,width:r._.r(6),height:r._.r(6),marginTop:r._.r(-3),marginLeft:r._.r(-12),backgroundColor:r._.colorMain,borderRadius:r._.r(3),transform:[{translateX:r._.r(-3)}]},subjects:{marginBottom:r._.sm},cover:{width:n},subject:{width:"100%",marginRight:r._.sm,marginBottom:r._.md},subjectHalf:{width:"100%",maxWidth:(r._.window.contentWidth-2*r._.sm)/2,paddingRight:r._.sm,marginBottom:r._.md},comment:{paddingVertical:r._.sm,paddingHorizontal:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/timeline/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/timeline/item/index.tsx")),a=t("./src/screens/user/timeline/list/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var t=s.$,r=(0,a.memoStyles)();return(0,c.jsx)(n.default,{style:r.container,children:t.yearsTimeline.map(function(e,s){return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.lineBottom}),(0,c.jsx)(n.default,{style:r.nodeYear}),(0,c.jsxs)(o.Flex,{children:[(0,c.jsxs)(o.Text,{size:18,lineHeight:48,type:"title",bold:!0,children:[e.title,"年"," "]}),0===s&&(0,c.jsxs)(o.Text,{style:i._.ml.sm,size:12,bold:!0,children:["加入 Bangumi",(0,c.jsxs)(o.Text,{type:"main",size:12,bold:!0,children:[" ",t.days," "]}),"天"]})]}),(0,c.jsx)(o.Heatmap,{id:"时间线.跳转"})]}),e.data.map(function(e){return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),(0,c.jsx)(n.default,{style:r.nodeMonth}),(0,c.jsxs)(n.default,{style:r.block,children:[(0,c.jsxs)(o.Text,{size:20,lineHeight:28,type:"title",bold:!0,children:[parseInt(e.title.slice(5,7)),"月"]}),(0,c.jsxs)(o.Flex,{children:[!!e.actions["看过"]&&(0,c.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["看过"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["看过"]," "]})]}),!!e.actions["在看"]&&(0,c.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["在看"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["在看"]," "]})]}),!!e.actions["想看"]&&(0,c.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["想看"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["想看"]," "]})]}),!!e.actions["搁置"]&&(0,c.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["搁置"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["搁置"]," "]})]}),!!e.actions["抛弃"]&&(0,c.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["抛弃"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["抛弃"]," "]})]})]})]})]}),(0,c.jsx)(n.default,{children:e.data.map(function(e){var s=e.title.split("-"),s=s[1]+"月"+s[2]+"日";return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),(0,c.jsx)(o.Text,{lineHeight:28,bold:!0,children:s})]}),(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),e.data.map(function(e){return(0,c.jsx)(l.default,{subject:e.subject,action:e.action},e.id)})]})]},e.title)})})]},e.title)})]},e.title)})})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/timeline/list/index.tsx#list"})}catch(e){}},"./src/screens/user/timeline/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.r(32),marginRight:r._.wind,marginLeft:r._.wind-r._._wind},line:{position:"absolute",top:0,left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},lineBottom:{position:"absolute",zIndex:1,top:"50%",left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},nodeYear:{position:"absolute",zIndex:2,top:"50%",left:0,width:r._.r(4),height:r._.r(4),marginTop:r._.r(-2),marginLeft:r._.r(-12),backgroundColor:r._.colorTitle,borderRadius:r._.r(2),transform:[{translateX:r._.r(-2)}]},nodeMonth:{position:"absolute",zIndex:2,top:r._.r(22),left:0,width:r._.r(8),height:r._.r(8),marginTop:r._.r(-4),marginLeft:r._.r(-4),backgroundColor:r._.colorPlain,borderWidth:1,borderColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),borderRadius:r._.r(4),transform:[{translateX:r._.r(-12)}]},block:{paddingTop:4,paddingHorizontal:r._.md,paddingBottom:10,marginBottom:r._.md,backgroundColor:r._.select(r._.colorMainLight,r._.colorBg),borderWidth:1,borderColor:r._.select(r._.colorMain,"rgba(254, 138, 149, 0.5)"),borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/timeline/mosaic-tile/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.fill.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),a=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),c=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),m=t("./src/utils/index.ts"),p=t("./src/utils/fetch/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/constants/index.ts"),j=t("./src/screens/user/timeline/mosaic-tile/utils.ts"),_=t("./src/screens/user/timeline/mosaic-tile/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=(0,_.memoStyles)(),n={"01-25":0,"02-22":0,"03-25":0,"04-24":0,"05-25":0,"06-24":0,"07-25":0,"08-25":0,"09-24":0,"10-25":0,"11-24":0,"12-25":0},o=((s=(0,j.getDates)()).forEach(function(e,s){var t,e=e.slice(5,e.length);e in n&&!n[e]&&(t=parseInt(e.slice(0,2)),n[t]=Math.floor(s/7),delete n[e])}),new Array(12).fill(0).map(function(e,s){return s+1})),i=(0,m.date)("Y-m-d",(0,m.getTimestamp)()),d={1:u._.select("#ffd8db","rgba(254, 138, 149, 0.32)"),2:u._.select("#fe9da7","rgba(254, 138, 149, 0.48)"),3:u._.select("#fe8a95","rgba(254, 138, 149, 0.64)"),4:u._.select("#fe5060","rgba(254, 138, 149, 0.8)"),5:u._.select("#fd293d","rgba(254, 138, 149, 1)")};return(0,x.jsxs)(c.Flex,{style:r.container,children:[(0,x.jsxs)(a.default,{style:r.days,children:[(0,x.jsx)(c.Text,{style:[r.day,{top:_.PX+_.MARGIN}],size:10,type:"sub",children:"日"}),(0,x.jsx)(c.Text,{style:[r.day,{top:3*(_.PX+_.MARGIN)}],size:10,type:"sub",children:"二"}),(0,x.jsx)(c.Text,{style:[r.day,{top:5*(_.PX+_.MARGIN)}],size:10,type:"sub",children:"四"}),(0,x.jsx)(c.Text,{style:[r.day,{top:7*(_.PX+_.MARGIN)}],size:10,type:"sub",children:"六"})]}),(0,x.jsx)(c.Flex.Item,{children:(0,x.jsx)(l.default,Object.assign({contentContainerStyle:r.contentContainerStyle,horizontal:!0},f.SCROLL_VIEW_RESET_PROPS,{children:(0,x.jsxs)(a.default,{children:[(0,x.jsx)(c.Flex,{style:r.months,children:o.map(function(e){return(0,x.jsxs)(c.Text,{style:[r.month,{left:(n[e]||0)*(_.PX+_.MARGIN)+2}],size:10,type:"sub",children:[e,"月"]},String(e))})}),(0,x.jsx)(c.Flex,{style:r.items,direction:"column",wrap:"wrap",children:s.map(function(e){return(0,x.jsx)(c.Touchable,{style:(0,m.stl)(r.item,e===i&&r.itemToday,{backgroundColor:d[t.mosaicTile[e]]||(t.mosaicTile[e]?d[5]:u._.select(u._.colorBg,u._._colorDarkModeLevel1))}),onPress:function(){(0,p.t)("时间线.点击瓷砖",{date:e,value:t.mosaicTile[e]||0}),(0,m.info)(e+"："+(t.mosaicTile[e]||0))}},String(e))})})]})}))}),(0,x.jsx)(c.Heatmap,{id:"时间线.点击瓷砖"})]})});try{mosaictile.displayName="mosaictile",mosaictile.__docgenInfo={description:"",displayName:"mosaictile",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/mosaic-tile/index.tsx#mosaictile"]={docgenInfo:mosaictile.__docgenInfo,name:"mosaictile",path:"src/screens/user/timeline/mosaic-tile/index.tsx#mosaictile"})}catch(e){}},"./src/screens/user/timeline/mosaic-tile/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=s.PX=s.MARGIN=void 0;var r=t("./src/stores/index.ts"),n=s.PX=r._.r(12),o=s.MARGIN=r._.r(3);s.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.sm},months:{height:r._.r(16)},month:{position:"absolute",zIndex:1,top:0,whiteSpace:"nowrap"},days:{marginLeft:r._.wind,width:r._.r(16),height:"100%"},day:{position:"absolute",zIndex:1,top:0,left:0},contentContainerStyle:{paddingRight:r._.wind},items:{minWidth:"100%",height:7*(n+o),transform:[{rotateX:"180deg"}]},item:{width:n,height:n,marginRight:o,marginTop:o,borderRadius:4,overflow:"hidden"},itemToday:{borderWidth:1,borderColor:r._.colorTitle}}})},"./src/screens/user/timeline/mosaic-tile/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.date.to-string.js"),t("./node_modules/core-js/modules/es.array.reverse.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getDates=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:52,t=+new Date-24*((new Date).getDay()+7*e)*60*60*1e3;return new Array(7*(e+1)).fill(0).map(function(e,s){return(0,r.date)("Y-m-d",+new Date(t+24*s*60*60*1e3)/1e3)}).reverse()};var r=t("./src/utils/index.ts")},"./src/screens/user/timeline/store.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),r=r(t("./src/utils/store/index.ts")),x=t("./src/screens/user/timeline/ds.ts");function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var g;s.default=(t=r.default,(0,a.default)(h,t),g=b(h),(0,d.default)(h,[{key:"userId",get:function(){return this.params.userId}},{key:"users",get:function(){return j.usersStore.users(this.userId)}},{key:"days",get:function(){var e=this.users.join;return e?(e=(0,_.getTimestamp)(e.replace(" 加入","")),Math.floor(((0,_.getTimestamp)()-e)/24/60/60)):"-"}},{key:"mosaicTile",get:function(){return j.collectionStore.mosaicTile}},{key:"timeline",get:function(){var e=j.timelineStore.timeline(x.DEFAULT_SCOPE,x.DEFAULT_TYPE);return Object.assign({},e,{list:e.list.map(function(t){var e="今天"===(e=t.date)?(0,_.date)("Y-m-d",(0,_.getTimestamp)()):"昨天"===e?(0,_.date)("Y-m-d",(0,_.getTimestamp)()-86400):String(e).split("-").map(function(e){return(0,_.pad)(e)}).join("-");return{id:t.id,date:e,action:t.p2.text,subject:(t.p3.url||[]).filter(function(e){return!!e}).map(function(e,s){return{id:parseInt(e.match(/\d+/)[0]),name:t.p3.text[s]||"",cover:t.image[s]||"",star:t.star,comment:t.comment||""}}),time:t.time}})})}},{key:"daysTimeline",get:function(){var t=[],r={};return this.timeline.list.forEach(function(e){var s=e.date;void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e]})):t[r[s]].data.push(e)}),t}},{key:"monthsTimeline",get:function(){var t=[],r={};return this.daysTimeline.forEach(function(e){var s=e.title.slice(0,7);void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e],actions:{}})):t[r[s]].data.push(e)}),t.forEach(function(t){t.data.forEach(function(e){e.data.forEach(function(e){var s=(s=e.action).replace(/玩|听|读/g,"看").replace("了","");t.actions[s]?t.actions[s]+=e.subject.length:t.actions[s]=e.subject.length})})}),t}},{key:"yearsTimeline",get:function(){var t=[],r={};return this.monthsTimeline.forEach(function(e){var s=e.title.slice(0,4);void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e]})):t[r[s]].data.push(e)}),t}}]),(0,p.default)((s=h).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,p.default)(s.prototype,"users",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,p.default)(s.prototype,"days",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"days"),s.prototype),(0,p.default)(s.prototype,"mosaicTile",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"mosaicTile"),s.prototype),(0,p.default)(s.prototype,"timeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"timeline"),s.prototype),(0,p.default)(s.prototype,"daysTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"daysTimeline"),s.prototype),(0,p.default)(s.prototype,"monthsTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"monthsTimeline"),s.prototype),(0,p.default)(s.prototype,"yearsTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"yearsTimeline"),s.prototype),s);function h(){var s;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=g.call.apply(g,[this].concat(t)),(0,m.default)((0,l.default)(s),"params",void 0),(0,m.default)((0,l.default)(s),"init",function(){s.userId&&(s.fetchMosaicTile(),setTimeout((0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.users._loaded||j.usersStore.fetchUsers({userId:s.userId}),e.next=3,s.fetchTimeline(!0);case 3:s.fetchTimeline();case 4:case"end":return e.stop()}},e)})),1e3))}),(0,m.default)((0,l.default)(s),"fetchMosaicTile",function(){return j.collectionStore.fetchMosaicTile({userId:s.userId})}),(0,m.default)((0,l.default)(s),"fetchTimeline",function(){return j.timelineStore.fetchTimeline({scope:x.DEFAULT_SCOPE,type:x.DEFAULT_TYPE,userId:s.userId},0<arguments.length&&void 0!==arguments[0]&&arguments[0])}),(0,m.default)((0,l.default)(s),"onHeaderRefresh",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchMosaicTile();case 2:return e.abrupt("return",s.fetchTimeline(!0));case 3:case"end":return e.stop()}},e)}))),s}},"./src/screens/user/user-setting/check.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./node_modules/react/jsx-runtime.js");function l(e){var s=e.$;return(0,d.jsxs)(n.Flex,{children:[(0,d.jsx)(o.IconHeader,{style:i._.mr.sm,name:"md-remove-circle-outline",onPress:function(){return s.onInit(!0)}}),(0,d.jsx)(o.IconHeader,{style:i._.mr.xs,name:"md-check",onPress:s.onSave,children:(0,d.jsx)(n.Heatmap,{id:"个人设置.保存"})})]})}s.default=l;try{l.displayName="Check",l.__docgenInfo={description:"",displayName:"Check",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/check.tsx#Check"]={docgenInfo:l.__docgenInfo,name:"Check",path:"src/screens/user/user-setting/check.tsx#Check"})}catch(e){}},"./src/screens/user/user-setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.REG_FIXED=s.REG_BG=s.REG_AVATAR=s.ONLINE_BGS_URL=s.NAMESPACE=void 0;t=t("./src/constants/index.ts");s.NAMESPACE="ScreenUserSetting",s.STATE={nickname:"",sign_input:"",avatar:"",bg:"",selectedIndex:0,bgs:[],pixivs:[],avatars:[],_loaded:!1},s.ONLINE_BGS_URL=t.GITHUB_HOST+"/raw/master/bg.json",s.REG_BG=/\[bg\](.+?)\[\/bg\]/,s.REG_AVATAR=/\[avatar\](.+?)\[\/avatar\]/,s.REG_FIXED=/\[size=0\]\[avatar\]\[\/avatar\]\[\/size\]|\[size=0\]\[bg\]\[\/bg\]\[\/size\]/g},"./src/screens/user/user-setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/user-setting/page.tsx")),l=r(t("./src/screens/user/user-setting/check.tsx")),r=r(t("./src/screens/user/user-setting/store.ts")),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,i.useRunAfter)(function(){t.init()}),(0,i.useObserver)(function(){return(0,a.jsxs)(n.Component,{id:"screen-user-setting",children:[(0,a.jsx)(n.Header,{title:"个人设置",hm:["userSetting","UserSetting"],headerRight:function(){return(0,a.jsx)(l.default,{$:t})}}),(0,a.jsx)(d.default,{})]})})});try{usersetting.displayName="usersetting",usersetting.__docgenInfo={description:"",displayName:"usersetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/index.tsx#usersetting"]={docgenInfo:usersetting.__docgenInfo,name:"usersetting",path:"src/screens/user/user-setting/index.tsx#usersetting"})}catch(e){}},"./src/screens/user/user-setting/page.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=n(t("./node_modules/react/index.js")),f=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),j=t("./src/components/index.ts"),_=t("./src/screens/_/index.ts"),x=t("./src/stores/index.ts"),b=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),g=t("./src/utils/fetch/index.ts"),h=t("./src/utils/user-setting/index.ts"),y=t("./src/constants/index.ts"),v=t("./src/screens/user/user-setting/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function O(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var T,E={Referer:""},p=(t=p.default.Component,(0,a.default)(C,t),T=O(C),(0,d.default)(C,[{key:"avatar",get:function(){var e=this.context.$.usersInfo.avatar;return null==e?void 0:e.large}},{key:"previewAvatarSrc",get:function(){var e=this.context.$,s=e.usersInfo.avatar;return e.state.avatar&&(0,h.fixedRemote)(e.state.avatar,!0)||(null==s?void 0:s.large)}},{key:"previewBgSrc",get:function(){var e=this.context.$,s=e.usersInfo.avatar;return e.state.bg?(0,h.fixedRemote)(e.state.bg)||(0,h.fixedRemote)(e.state.avatar,!0)||(null==s?void 0:s.large):this.previewAvatarSrc}},{key:"blurRadius",get:function(){var e=this.context.$;return e.state.bg?0:y.IOS?""===e.state.bg&&e.state.avatar?48:10:8}},{key:"renderPreview",value:function(){var e=this.context,s=e.$,t=e.navigation,e=s.usersInfo,s=e.nickname,r=e.id,e=e.username;return(0,S.jsxs)(f.default,{style:x._.mb.md,children:[(0,S.jsxs)(f.default,{style:this.styles.container,children:[(0,S.jsx)(j.Image,{style:this.styles.blurView,src:this.previewBgSrc,headers:E,width:x._.window.contentWidth,height:this.styles.preview.height,blurRadius:this.blurRadius,fallback:!!this.blurRadius},this.previewBgSrc),(0,S.jsxs)(j.Flex,{style:this.styles.mask,direction:"column",justify:"center",children:[(0,S.jsx)(j.Image,{style:this.styles.avatar,src:this.previewAvatarSrc,headers:E,size:64,radius:32,border:x._.__colorPlain__,borderWidth:1.5,placeholder:!1,shadow:!0,fallback:!0},this.previewAvatarSrc),(0,S.jsxs)(j.Text,{style:x._.mt.md,type:x._.select("plain","title"),size:12,children:[s,(0,S.jsxs)(j.Text,{type:x._.select("plain","title"),size:12,children:[" ",e||r?"@"+(e||r)+" ":""]})]})]})]}),(0,S.jsx)(f.default,{style:this.styles.example,children:(0,S.jsx)(j.Touchable,{onPress:function(){t.push("Zone",{userId:"sukaretto"})},children:(0,S.jsx)(j.Text,{size:10,lineHeight:16,bold:!0,type:"__plain__",children:"〔示例〕"})})})]})}},{key:"renderForm",value:function(){var s=this.context.$,e=s.state,t=e.nickname,r=e.sign_input,n=e.bg,e=e.avatar,o=this.state.expand;return(0,S.jsxs)(S.Fragment,{children:[o&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(j.Flex,{style:x._.mt.md,children:[(0,S.jsx)(j.Text,{children:"昵称"}),(0,S.jsx)(j.Flex.Item,{style:x._.ml.md,children:(0,S.jsx)(j.Input,{style:this.styles.input,defaultValue:t,placeholder:"请填入昵称",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return s.onChangeText("nickname",e)}})})]}),(0,S.jsxs)(j.Flex,{style:x._.mt.md,children:[(0,S.jsx)(j.Text,{children:"签名"}),(0,S.jsx)(j.Flex.Item,{style:x._.ml.md,children:(0,S.jsx)(j.Input,{style:this.styles.input,defaultValue:r,placeholder:"请填入签名",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return s.onChangeText("sign_input",e)}})})]}),(0,S.jsxs)(j.Flex,{style:x._.mt.md,children:[(0,S.jsx)(j.Text,{children:"头像"}),(0,S.jsx)(j.Flex.Item,{style:x._.ml.md,children:(0,S.jsx)(j.Input,{style:this.styles.input,defaultValue:e,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return s.onChangeText("avatar",e)}})}),(0,S.jsx)(_.IconTouchable,{style:x._.ml.xs,name:"md-info-outline",onPress:function(){return(0,b.confirm)("此头像非网页版头像，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,b.open)(y.HOST_IMAGE_UPLOAD)},"提示")}})]}),(0,S.jsxs)(j.Flex,{style:[x._.mt.md,x._.mb.md],children:[(0,S.jsx)(j.Text,{children:"背景"}),(0,S.jsx)(j.Flex.Item,{style:x._.ml.md,children:(0,S.jsx)(j.Input,{style:this.styles.input,defaultValue:n,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return s.onChangeText("bg",e)}})}),(0,S.jsx)(_.IconTouchable,{style:x._.ml.xs,name:"md-info-outline",onPress:function(){return(0,b.confirm)("网页版没有背景概念，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,b.open)(y.HOST_IMAGE_UPLOAD)},"提示")}})]})]}),(0,S.jsx)(j.Touchable,{style:this.styles.more,onPress:this.onExpand,children:(0,S.jsx)(j.Flex,{justify:"center",children:(0,S.jsx)(j.Text,{style:[x._.mt.sm,x._.mb.sm],size:13,type:"sub",bold:!0,children:o?"收起资料":"展开资料"})})})]})}},{key:"renderTabs",value:function(){var s=this.context.$,e=s.state.selectedIndex,t=["预设背景","随机头像"];return(0,S.jsx)(j.SegmentedControl,{style:this.styles.segment,values:t,selectedIndex:e,onValueChange:function(e){return s.onValueChange(t.indexOf(e))}},String(s.state._loaded))}},{key:"renderOnlineBgs",value:function(){var t=this,r=this.context.$,n=r.state.bgs,o=this.state.more;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(j.Flex,{wrap:"wrap",children:[(0,S.jsxs)(j.Touchable,{style:this.styles.bg,animate:!0,onPress:function(){return r.onSelectBg("")},children:[(0,S.jsx)(j.Image,{src:(0,h.fixedRemote)(this.previewAvatarSrc),headers:E,width:this.styles.image.width,height:this.styles.image.height,radius:!0,blurRadius:y.IOS?r.state.avatar?64:16:8,fallback:!0},this.previewAvatarSrc),(0,S.jsx)(j.Text,{style:this.styles.blurText,type:"__plain__",bold:!0,align:"center",children:"头像毛玻璃"})]}),n.filter(function(e,s){return!!o||s<=n.length/2}).map(function(e,s){return(0,S.jsxs)(j.Touchable,{style:(0,b.stl)(t.styles.bg,s%2==0&&x._.ml.md),animate:!0,onPress:function(){return r.onSelectBg(e)},onLongPress:function(){return t.onViewOrigin(e,s)},children:[(0,S.jsx)(j.Image,{src:(0,h.fixedRemote)(e),width:t.styles.image.width,height:t.styles.image.height,headers:E,radius:!0},e),!s&&(0,S.jsx)(j.Heatmap,{id:"个人设置.查看原图"})]},s)})]}),(0,S.jsx)(j.Touchable,{style:[x._.mt.md,x._.mb.md],onPress:function(){t.setState({more:!0})},children:(0,S.jsx)(j.Text,{align:"center",size:13,bold:!0,children:o?"没有更多了":"点击加载更多"})}),(0,S.jsx)(j.Text,{style:x._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"长按可查看原图 (以上图来源自 pixiv)"})]})}},{key:"renderPixivs",value:function(){var t=this,r=this.context.$,e=r.state.pixivs;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Flex,{wrap:"wrap",children:e.map(function(e,s){return(0,S.jsx)(j.Touchable,{style:(0,b.stl)(t.styles.bg,s%2==1&&x._.ml.md),animate:!0,onPress:function(){return r.onSelectBg(e)},onLongPress:function(){return t.onViewOrigin(e.replace("/c/540x540_70",""),s)},children:(0,S.jsx)(j.Image,{src:e,width:t.styles.image.width,height:t.styles.image.height,headers:E,radius:!0})},s+"|"+e)})}),(0,S.jsx)(j.Text,{style:x._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"背景图保存后会替换成高清版本"})]})}},{key:"renderRefresh",value:function(){return 1!==this.context.$.state.selectedIndex?null:(0,S.jsx)(f.default,{style:this.styles.btn,children:(0,S.jsx)(j.Touchable,{style:this.styles.touch,onPress:this.onRefresh,children:(0,S.jsx)(j.Flex,{style:this.styles.icon,justify:"center",children:(0,S.jsx)(j.Iconfont,{name:"md-refresh",color:x._.colorPlain,size:20})})})})}},{key:"render",value:function(){var s=this,e=this.context.$.state.selectedIndex;return(0,S.jsxs)(f.default,{style:x._.container.plain,children:[this.renderPreview(),(0,S.jsxs)(j.ScrollView,{connectRef:function(e){return s.scrollTo=e},contentContainerStyle:this.styles.contentContainerStyle,keyboardDismissMode:"on-drag",children:[this.renderForm(),this.renderTabs(),0===e&&this.renderOnlineBgs(),1===e&&this.renderAvatars()]}),this.renderRefresh()]})}},{key:"styles",get:function(){return(0,v.memoStyles)()}}]),C);function C(){var n;(0,i.default)(this,C);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=T.call.apply(T,[this].concat(s)),(0,m.default)((0,l.default)(n),"state",{expand:!1,more:!1}),(0,m.default)((0,l.default)(n),"scrollTo",function(){}),(0,m.default)((0,l.default)(n),"onViewOrigin",function(e,s){(0,g.t)("个人设置.查看原图",{index:s}),(0,b.open)(e.replace("small","origin"))}),(0,m.default)((0,l.default)(n),"onExpand",function(){var e=n.state.expand;n.setState({expand:!e})}),(0,m.default)((0,l.default)(n),"onRefresh",(0,o.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.IOS&&n.scrollTo({x:0,y:0,animated:!0}),s=n.context,s.$.onRefresh();case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"renderAvatars",function(){var r=n.context.$,e=r.state.avatars;return(0,S.jsxs)(S.Fragment,{children:[(0,b.arrGroup)(e,5).map(function(e,t){return(0,S.jsx)(j.Flex,{justify:"between",children:e.map(function(e,s){return 2===t&&4===s?(0,S.jsx)(j.Touchable,{style:x._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar("")},children:(0,S.jsx)(j.Image,{src:n.avatar,headers:E,size:60,radius:30,border:x._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e):(0,S.jsx)(j.Touchable,{style:x._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar(e)},children:(0,S.jsx)(j.Image,{src:(0,h.fixedRemote)(e,!0),headers:E,size:60,radius:30,border:x._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e)})},t)}),(0,S.jsx)(j.Text,{style:x._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"(以上图来源自 pixiv)"})]})}),n}s.default=(0,n.obc)(p);try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/page.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/user-setting/page.tsx#page"})}catch(e){}},"./src/screens/user/user-setting/store.ts":(e,s,t)=>{var c=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.small.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=t("./node_modules/mobx/dist/mobx.esm.js"),_=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),r=r(t("./src/utils/store/index.ts")),b=t("./src/utils/fetch/index.ts"),g=t("./src/utils/user-setting/index.ts"),h=t("./src/constants/index.ts"),y=t("./src/screens/user/user-setting/ds.ts");function v(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var S;s.default=(t=r.default,(0,a.default)(O,t),S=v(O),(0,d.default)(O,[{key:"userSetting",get:function(){return _.userStore.userSetting}},{key:"myUserId",get:function(){return _.userStore.myUserId}},{key:"usersInfo",get:function(){return _.userStore.usersInfo(this.myUserId)}},{key:"users",get:function(){return _.usersStore.users(this.myUserId)}},{key:"bg",get:function(){var e=this.state.bg;return e||(e=this.userSetting.sign.match(y.REG_BG),(0,x.HTMLDecode)(String(e?String(e[1]).trim():"").replace(y.REG_FIXED,"")))}},{key:"avatar",get:function(){var e=this.state.avatar;return e||(e=this.userSetting.sign.match(y.REG_AVATAR),(0,x.HTMLDecode)(String(e?String(e[1]).trim():"").replace(y.REG_FIXED,"")))}}]),(0,f.default)((s=O).prototype,"userSetting",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"userSetting"),s.prototype),(0,f.default)(s.prototype,"myUserId",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"myUserId"),s.prototype),(0,f.default)(s.prototype,"usersInfo",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,f.default)(s.prototype,"users",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,f.default)(s.prototype,"bg",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,f.default)(s.prototype,"avatar",[j.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),s);function O(){var a;(0,i.default)(this,O);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return a=S.call.apply(S,[this].concat(s)),(0,p.default)((0,l.default)(a),"state",(0,j.observable)(y.STATE)),(0,p.default)((0,l.default)(a),"init",(0,o.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getStorage(y.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,a.setState({avatar:s.avatar||"",bg:s.bg||"",selectedIndex:s.selectedIndex||0,bgs:s.bgs||[],pixivs:s.pixivs||[],avatars:s.avatars||[],_loaded:(0,x.getTimestamp)()}),e.next=9,a.onInit();case 9:return a.onRefresh(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchUserSetting",(0,o.default)(c.mark(function e(){var s,t,r;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.userStore.fetchUserSetting();case 2:return s=e.sent,t=s.nickname,t=void 0===t?"":t,r=s.sign_input,r=void 0===r?"":r,a.setState({nickname:t,sign_input:r}),a.setStorage(y.NAMESPACE),e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchBgs",(0,o.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y.ONLINE_BGS_URL+"?t="+(0,x.getTimestamp)()).then(function(e){return e.json()});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return s=e.t0,a.setState({bgs:s}),a.setStorage(y.NAMESPACE),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchAvatars",(0,o.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,g.randomAvatars)(),a.setState({avatars:s}),a.setStorage(y.NAMESPACE),e.abrupt("return",s);case 4:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchSetus",(0,o.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],e.t0=s.push,e.t1=s,e.t2=n.default,e.next=6,fetch((0,h.API_SETU)()).then(function(e){return e.json()});case 6:return e.t3=e.sent.data,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.t5=s.push,e.t6=s,e.t7=n.default,e.next=14,fetch((0,h.API_SETU)()).then(function(e){return e.json()});case 14:return e.t8=e.sent.data,e.t9=(0,e.t7)(e.t8),e.t5.apply.call(e.t5,e.t6,e.t9),a.setState({pixivs:s.filter(function(e){return 1.28*e.width>=e.height}).map(function(e){return e.urls.small})}),e.t10=s.push,e.t11=s,e.t12=n.default,e.next=23,fetch((0,h.API_SETU)()).then(function(e){return e.json()});case 23:return e.t13=e.sent.data,e.t14=(0,e.t12)(e.t13),e.t10.apply.call(e.t10,e.t11,e.t14),e.t15=s.push,e.t16=s,e.t17=n.default,e.next=31,fetch((0,h.API_SETU)()).then(function(e){return e.json()});case 31:return e.t18=e.sent.data,e.t19=(0,e.t17)(e.t18),e.t15.apply.call(e.t15,e.t16,e.t19),a.setState({pixivs:s.filter(function(e){return 1.28*e.width>=e.height}).map(function(e){return e.urls.small})}),a.setStorage(y.NAMESPACE),e.abrupt("return",s);case 37:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"onInit",(0,o.default)(c.mark(function e(){var s,t,r,n=arguments;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0<n.length&&void 0!==n[0]&&n[0],e.next=3,a.fetchUserSetting();case 3:r=a.userSetting.sign,t=r.match(y.REG_BG),r=r.match(y.REG_AVATAR),a.setState({bg:(0,x.HTMLDecode)(String(t?String(t[1]).trim():"").replace(y.REG_FIXED,"")),avatar:(0,x.HTMLDecode)(String(r?String(r[1]).trim():"").replace(y.REG_FIXED,""))}),s&&(0,x.info)("已还原");case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"onRefresh",function(){var e=a.state.selectedIndex;return 0===e?a.fetchBgs():1===e?a.fetchAvatars():void 0}),(0,p.default)((0,l.default)(a),"onChangeText",function(e,s){a.setState((0,p.default)({},e,s))}),(0,p.default)((0,l.default)(a),"onSelectBg",function(e){a.setState({bg:e})}),(0,p.default)((0,l.default)(a),"onSelectAvatar",function(e){a.setState({avatar:e})}),(0,p.default)((0,l.default)(a),"onSave",(0,o.default)(c.mark(function e(){var s,t,r,n,o,i,d,l;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.userSetting,s=t.formhash,d=t.sign,t=t.timeoffsetnew,i=a.state,r=i.avatar,n=i.bg,o=i.nickname,i=i.sign_input,(d=d).match(y.REG_AVATAR)?d=d.replace(y.REG_AVATAR,"[avatar]"+(r||"")+"[/avatar]"):d+="[size=0][avatar]"+(r||"")+"[/avatar][/size]","string"==typeof(l=n||"")&&l.includes("i.pixiv.re")&&(l=l.replace("/c/540x540_70","")),d.match(y.REG_BG)?d=d.replace(y.REG_BG,"[bg]"+l+"[/bg]"):d+="[size=0][bg]"+l+"[/bg][/size]",d=d.replace(y.REG_FIXED,""),_.userStore.doUpdateUserSetting({formhash:s,nickname:o,sign_input:i,newbio:d,timeoffsetnew:t},function(){(0,b.t)("个人设置.保存",{id:a.myUserId}),(0,x.feedback)(),(0,x.info)("保存成功"),a.fetchUserSetting(),_.usersStore.fetchUsers({userId:a.myUserId}),a.setState({bg:l}),a.setStorage(y.NAMESPACE)},function(){});case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"onValueChange",function(e){a.setState({selectedIndex:e}),(0===e&&!a.state.bgs.length||1===e&&!a.state.avatars.length)&&a.onRefresh(),a.setStorage(y.NAMESPACE)}),a}},"./src/screens/user/user-setting/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/constants/index.ts"),n=t("./src/stores/index.ts");s.memoStyles=n._.memoStyles(function(){var e=Math.floor(.88*n._.window.contentWidth),s=Math.floor((n._.window.width-n._.md-2*n._._wind)/2),t=.88*s;return{container:{marginHorizontal:n._.wind},mask:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.24)",borderRadius:n._.radiusMd,overflow:"hidden"},blurView:{backgroundColor:n._.colorPlain,borderRadius:n._.radiusMd,overflow:"hidden"},avatar:{marginTop:n._.md,backgroundColor:"rgba(255, 255, 255, 0.8)"},contentContainerStyle:{paddingHorizontal:n._.wind,paddingBottom:n._.bottom},bg:{width:s,height:t,marginBottom:n._.md},input:{height:44,paddingVertical:0,paddingRight:40,borderRadius:n._.radiusMd,overflow:"hidden"},preview:{height:e},image:{width:s,height:t},example:{position:"absolute",zIndex:2,right:n._.wind+n._.sm,bottom:n._.sm,opacity:.5},more:{paddingBottom:n._.md,borderRadius:n._.radiusSm,overflow:"hidden"},btn:{position:"absolute",zIndex:1001,right:n._.wind,bottom:r.DEV?240:64},touch:{backgroundColor:n._.colorTitle,borderRadius:20,overflow:"hidden",opacity:.8},icon:{width:40,height:40},segment:{width:n._.r(n._.window.contentWidth),height:n._.r(36),marginBottom:n._.md+16},blurText:{position:"absolute",zIndex:1,top:64,left:0,right:0,textShadowOffset:{width:1,height:1},textShadowRadius:1,textShadowColor:"rgba(0, 0, 0, 0.24)",opacity:.8}}})},"./src/screens/user/v2/component/center-avatar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.HIT_SLOP=s.COMPONENT=s.AVATAR_SIZE=void 0;var r=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,n.rc)(t.COMPONENT,"CenterAvatar"),s.AVATAR_SIZE=r._.r(88),s.HIT_SLOP={top:28,right:16,bottom:16,left:28}},"./src/screens/user/v2/component/center-avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/components/avatar/utils.ts"),a=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/v2/component/center-avatar/utils.ts"),u=t("./src/screens/user/v2/component/center-avatar/ds.ts"),m=t("./src/screens/user/v2/component/center-avatar/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=a.systemStore.setting.onlineStatus,n=t.usersInfo.avatar,o="string"==typeof(t=(0,l.getCDNAvatar)(t.avatar||(null==n?void 0:n.large),"bgm_poster_200"))&&!t.includes("//lain.bgm.tv/pic/user/l/");return(0,p.jsxs)(i.default,{style:a._.mt.md,children:[(0,p.jsx)(d.Touchable,{animate:!0,onPress:function(){return(0,c.handleAvatarPress)(r)},children:(0,p.jsx)(d.Image,{style:m.styles.avatar,src:t,size:u.AVATAR_SIZE,radius:u.AVATAR_SIZE/2,border:m.styles.avatar.backgroundColor,borderWidth:2,placeholder:!1,fallback:o,fallbackSrc:null==n?void 0:n.large},t)}),(0,p.jsx)(i.default,{style:m.styles.status,children:(0,p.jsx)(d.Touchable,{hitSlop:u.HIT_SLOP,animate:!0,scale:.9,onPress:c.handleOnlinePress,children:(0,p.jsx)(d.Flex,{style:m.styles.touch,justify:"center",children:s?(0,p.jsx)(i.default,{style:m.styles.online}):(0,p.jsx)(d.Iconfont,{style:m.styles.edit,name:"md-edit",color:"rgba(96, 96, 96, 0.48)",size:11})})})}),(0,p.jsx)(d.Heatmap,{id:"我的.跳转",to:"UserSetting",alias:"个人设置"})]})},u.COMPONENT);try{centeravatar.displayName="centeravatar",centeravatar.__docgenInfo={description:"",displayName:"centeravatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/center-avatar/index.tsx#centeravatar"]={docgenInfo:centeravatar.__docgenInfo,name:"centeravatar",path:"src/screens/user/v2/component/center-avatar/index.tsx#centeravatar"})}catch(e){}},"./src/screens/user/v2/component/center-avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"},status:{position:"absolute",zIndex:1,right:1,bottom:1},touch:{width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{width:t._.ios(14,13),height:t._.ios(14,13),backgroundColor:"rgb(9, 241, 117)",borderRadius:t._.ios(14,13)},edit:{marginLeft:t._.ios(1,0)}})},"./src/screens/user/v2/component/center-avatar/utils.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.handleAvatarPress=function(e){(0,a.t)("我的.跳转",{to:"UserSetting"}),e.push("UserSetting")},s.handleOnlinePress=function(){var e=d.systemStore.setting.onlineStatus,s=[{text:(0,c.s2tAsync)("取消"),onPress:function(){}}];s.push(e?{text:(0,c.s2tAsync)("取消公开"),onPress:function(){d.systemStore.switchSetting("onlineStatus"),(0,l.feedback)(),(0,a.t)("我的.在线状态",{status:"off"})}}:{text:(0,c.s2tAsync)("公开"),onPress:function(){var e=(0,o.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.userStore.fetchOnlines();case 2:if(s=e.sent){e.next=6;break}return(0,l.info)("服务出错，设置公开状态失败"),e.abrupt("return");case 6:d.systemStore.switchSetting("onlineStatus"),"object"==typeof s&&(0,l.info)("当前有 "+Object.keys(s).length+" 个用户公开状态"),(0,l.feedback)(),(0,a.t)("我的.在线状态",{status:"on"});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});i.default.alert((0,c.s2tAsync)("公开在线状态"),(0,c.s2tAsync)("此功能仅在 APP 内生效。\n    \n同意公开后，在所有正在公开状态的用户间，会尽可能地在头像旁边显示在线状态标识\n    \n1天内使用过 APP 是绿色标识，3天内是橙色，超过3天没有使用则会消失\n    \n请注意，一旦同意后，标识会至少公开3天，尽管同意后又立马取消公开"),s)},n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(t("./node_modules/react-native-web/dist/exports/Alert/index.js")),d=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),a=t("./src/utils/fetch/index.ts"),c=t("./src/utils/async/index.ts")},"./src/screens/user/v2/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/v2/component/filter/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"Filter");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},showFilter:!1,fliterInputText:"",isTabActive:!1,isFiltering:!1,onFilterChange:function(){}}},"./src/screens/user/v2/component/filter/filter.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),a=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),c=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),n=t("./src/screens/user/v2/component/filter/ds.ts"),m=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}t=(0,r.memo)(function(e){var s=e.styles,t=e.showFilter,r=e.fliterInputText,n=e.isTabActive,o=e.isFiltering,e=e.onFilterChange,i=(0,l.useRef)(null),d=(0,l.useRef)(new a.default.Value(0));return(0,l.useEffect)(function(){setTimeout(function(){a.default.timing(d.current,{toValue:t?1:0,duration:160,useNativeDriver:!1}).start(),t&&n&&setTimeout(function(){var e;"function"==typeof(null==(e=i.current)?void 0:e.onFocus)&&i.current.onFocus()},160)},t?160:0)},[n,t]),(0,m.jsx)(a.default.View,{style:[s.container,{height:d.current.interpolate({inputRange:[0,1],outputRange:[0,s.filter.height]})}],children:(0,m.jsxs)(c.Flex,{style:s.filter,justify:"center",children:[(0,m.jsx)(c.Input,{ref:i,inputStyle:s.input,value:r,placeholder:"搜索",clearButtonMode:"never",onChangeText:e}),o&&(0,m.jsx)(c.Flex,{style:s.loading,justify:"center",children:(0,m.jsx)(c.Loading.Normal,{color:u._.colorSub,size:16})})]})})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);s.default=t;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { display: "flex"; justifyContent: "center"; alignItems: "center"; overflow: "hidden"; }; filter: { width: number; height: number; paddingVertical: number; }; input: { height: number; paddingVertical: number; ... 6 more ...; overflow: "hidden"; }; loading: { ...; }; }'}},showFilter:{defaultValue:null,description:"",name:"showFilter",required:!0,type:{name:"boolean"}},fliterInputText:{defaultValue:null,description:"",name:"fliterInputText",required:!0,type:{name:"string"}},isTabActive:{defaultValue:null,description:"",name:"isTabActive",required:!0,type:{name:"boolean"}},isFiltering:{defaultValue:null,description:"",name:"isFiltering",required:!0,type:{name:"boolean"}},onFilterChange:{defaultValue:null,description:"",name:"onFilterChange",required:!0,type:{name:"(filter: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/filter/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/v2/component/filter/filter.tsx#filter"})}catch(e){}},"./src/screens/user/v2/component/filter/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),i=t("./src/screens/user/v2/ds.ts"),d=r(t("./src/screens/user/v2/component/filter/filter.tsx")),r=t("./src/screens/user/v2/component/filter/ds.ts"),l=t("./src/screens/user/v2/component/filter/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var e=e.page,s=s.$,t=s.state,r=t.subjectType,n=t.showFilter,t=t.fliterInputText,e=i.TABS[e].key,o=s.isTabActive(r,e),r=s.isFiltering(r,e);return(0,a.jsx)(d.default,{styles:(0,l.memoStyles)(),showFilter:n,fliterInputText:t,isTabActive:o,isFiltering:r,onFilterChange:s.onFilterChange})},r.COMPONENT)},"./src/screens/user/v2/component/filter/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},filter:{width:252,height:40+2*r._.sm,paddingVertical:r._.sm},input:{height:40,paddingVertical:0,marginVertical:0,fontSize:14,lineHeight:14,textAlign:"center",backgroundColor:r._.select("rgba(238, 238, 238, 0.8)",r._._colorDarkModeLevel1),borderRadius:40,overflow:"hidden"},loading:{position:"absolute",zIndex:2,top:r._.sm-1,right:1,width:40,height:40}}})},"./src/screens/user/v2/component/fixed-tool-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"FixedToolBar")},"./src/screens/user/v2/component/fixed-tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),n=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/v2/component/tool-bar/index.tsx")),l=t("./src/screens/user/v2/component/fixed-tool-bar/styles.ts"),r=t("./src/screens/user/v2/component/fixed-tool-bar/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.fixed,r=e.page,n=e.pageCurrent,o=e.pageTotal,e=e.onRefreshOffset,s=s.$;return t?s.state.fixed?(0,a.jsx)(i.default,{style:l.styles.fixed,children:(0,a.jsx)(d.default,{page:s.state.page,pageCurrent:n,pageTotal:o,onRefreshOffset:s.onRefreshOffset})}):null:s.state.fixed?(0,a.jsx)(i.default,{style:l.styles.placeholder}):(0,a.jsx)(d.default,{page:r,pageCurrent:n,pageTotal:o,onRefreshOffset:e})},r.COMPONENT)},"./src/screens/user/v2/component/fixed-tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({fixed:{marginTop:-2},placeholder:{height:70}})},"./src/screens/user/v2/component/header-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"HeaderComponent")},"./src/screens/user/v2/component/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/v2/component/center-avatar/index.tsx")),r=t("./src/screens/user/v2/component/header-component/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var e=e.style,t=(s=s.$.usersInfo).nickname,r=s.id,s=s.username;return(0,l.jsxs)(n.Flex,{style:e,direction:"column",justify:"center",children:[(0,l.jsx)(d.default,{}),(0,l.jsx)(n.Flex,{style:o._.mt.md,children:(0,l.jsxs)(n.Text,{type:o._.select("plain","title"),bold:!0,children:[t,s||r?" @"+(s||r):""]})})]})},r.COMPONENT)},"./src/screens/user/v2/component/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,i.jsx)(n.Heatmap,{bottom:o._.bottom,id:"我的",screen:"User"})})},"./src/screens/user/v2/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Item"),s.EVENT={id:"我的.跳转",type:"list"}},"./src/screens/user/v2/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/v2/component/item/item-list/index.tsx")),i=r(t("./src/screens/user/v2/component/item/item-grid/index.tsx")),r=t("./src/screens/user/v2/component/item/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.item,r=e.index,e=e.page;return(s=s.$).state.list?(0,d.jsx)(o.default,{item:t,index:r,page:e}):(0,d.jsx)(i.default,{item:t,numColumns:s.numColumns})},r.COMPONENT)},"./src/screens/user/v2/component/item/item-grid/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ItemGrid"),s.EVENT={id:"我的.跳转",type:"grid"}},"./src/screens/user/v2/component/item/item-grid/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),l=t("./src/screens/user/v2/component/item/item-grid/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.item,e=e.numColumns,r=s.$,s=s.navigation,n=(r=r.state).subjectType,r=r.showYear,n=d.MODEL_SUBJECT_TYPE.getTitle(n);return(0,a.jsx)(o.ItemCollectionsGrid,Object.assign({navigation:s,num:e,type:n,event:l.EVENT},t,{isRectangle:"音乐"===n,airtime:!!r&&("动画"===n?(0,i.matchYearAndMonth):(0,i.matchYear))(t.tip)}))},l.COMPONENT)},"./src/screens/user/v2/component/item/item-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ItemList"),s.EVENT={id:"我的.跳转",type:"list"}},"./src/screens/user/v2/component/item/item-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),c=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/user/v2/ds.ts"),p=t("./src/screens/user/v2/component/item/item-list/ds.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,r=e.item,n=e.index,e=e.page,o=s.$,s=s.navigation,i=(d=o.state).subjectType,d=d.filter,e=m.TABS[e].key,l=u.MODEL_SUBJECT_TYPE.getTitle(i),i=d&&o.isTabActive(i,e)?d:"",d="";return o.isSortByScore&&((t=c.subjectStore.rank(r.id)).s&&(d+=t.s),t.r)&&(d+=" #"+t.r),(0,f.jsx)(a.ItemCollections,Object.assign({navigation:s,index:n,inViewY:m.H_HEADER},r,{showLabel:!1,type:l,isDo:"do"===e,isDropped:"dropped"===e,isOnHold:"on_hold"===e,event:p.EVENT,filter:i,simpleStars:!0,rank:d,collection:o.isMe?void 0:c.collectionStore.collect(r.id),onManagePress:o.onManagePress}))},p.COMPONENT)},"./src/screens/user/v2/component/loading/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Loading")},"./src/screens/user/v2/component/loading/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/v2/component/loading/ds.ts"),d=t("./src/screens/user/v2/component/loading/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,l.jsx)(n.Loading,{style:[o._.ios(o._.container.plain,o._.container._plain),d.styles.loading]})},i.COMPONENT)},"./src/screens/user/v2/component/loading/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.window.height/3}})},"./src/screens/user/v2/component/menu/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DATA_OTHER=s.DATA_ME=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Menu"),s.DATA_ME=["我的空间","我的好友","我的人物","我的目录","我的日志","我的netaba.re"],s.DATA_OTHER=["TA的好友","TA的netaba.re"]},"./src/screens/user/v2/component/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/screens/user/v2/component/menu/utils.ts"),p=t("./src/screens/user/v2/component/menu/ds.ts"),f=t("./src/screens/user/v2/component/menu/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.params.userId,o=(s=t.usersInfo).id,i=s.username,d=s.nickname,s=!!o&&t.myUserId===o;return(0,j.jsxs)(j.Fragment,{children:[!!n&&(0,j.jsx)(l.default,{style:f.styles.back,children:(0,j.jsx)(c.IconBack,{navigation:r,color:u._.__colorPlain__})}),(0,j.jsx)(l.default,{style:!n&&s?f.styles.menu:f.styles.more,children:(0,j.jsxs)(c.Popover,{style:f.styles.touch,data:s?p.DATA_ME:p.DATA_OTHER,onSelect:function(e){return(0,m.handleMenuPopoverPress)(r,e,{id:o,userId:t.userId})},children:[(0,j.jsx)(a.Flex,{style:f.styles.icon,justify:"center",children:(0,j.jsx)(a.Iconfont,{name:"md-menu",color:u._.__colorPlain__})}),(0,j.jsx)(a.Heatmap,{right:-40,id:"我的.右上角菜单"})]})}),(0,j.jsxs)(l.default,{style:f.styles.timeline,children:[(0,j.jsx)(c.IconHeader,{name:"md-timeline",color:u._.__colorPlain__,size:21,onPress:function(){return(0,m.handleUserTimelinePress)(r,{id:o,nickname:d,paramsUserId:n,username:i})}}),(0,j.jsx)(a.Heatmap,{right:48,id:"我的.跳转",to:"UserTimeline",alias:"时间线"})]}),!n&&(0,j.jsxs)(l.default,{style:f.styles.setting,children:[(0,j.jsx)(c.IconHeader,{name:"setting",color:u._.__colorPlain__,onPress:function(){return(0,m.handleSettingPress)(r)}}),(0,j.jsx)(a.Heatmap,{id:"我的.跳转",to:"Setting",alias:"设置"})]})]})},p.COMPONENT);try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/v2/component/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/v2/component/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/styles/index.ts");s.styles=r._.create({back:Object.assign({},r._.header.left,{zIndex:1,marginTop:r._.ios(t.IS_IOS_5_6_7_8?-6:-7,-4)}),more:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios(-6,-4),opacity:.88}),menu:Object.assign({},r._.header.left,{zIndex:1,padding:r._.sm,marginTop:r._.ios(t.IS_IOS_5_6_7_8?-14:-16,-12),marginLeft:-4,opacity:.88}),touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},timeline:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((t.IS_IOS_5_6_7_8,-6),-4),marginRight:r._.device(44,54),opacity:.88}),setting:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((t.IS_IOS_5_6_7_8,-6),-4),opacity:.88})})},"./src/screens/user/v2/component/menu/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.handleMenuPopoverPress=function(e,s,t){var r=t.id,n=t.userId;switch((0,o.t)("我的.右上角菜单",{key:s}),s){case"我的空间":e.push("Zone",{userId:n});break;case"我的好友":e.push("Friends");break;case"我的人物":e.push("Character");break;case"我的目录":e.push("Catalogs");break;case"我的日志":e.push("Blogs");break;case"我的netaba.re":open("https://netaba.re/user/"+r);break;case"TA的好友":e.push("Friends",{userId:r});break;case"TA的netaba.re":open("https://netaba.re/user/"+r)}},s.handleSettingPress=function(e){(0,o.t)("我的.跳转",{to:"Setting"}),e.push("Setting")},s.handleUserTimelinePress=function(e,s){var t=s.id,r=s.nickname,n=s.paramsUserId,s=s.username,s=((0,o.t)("我的.跳转",{to:"UserTimeline"}),{userId:s||t});n&&(s.userName=r);e.push("UserTimeline",s)};var o=t("./src/utils/fetch/index.ts")},"./src/screens/user/v2/component/pagination/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Pagination")},"./src/screens/user/v2/component/pagination/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/v2/component/pagination/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=t.state.ipt;return(0,d.jsx)(n.Pagination,{style:o._.mt.md,input:r,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onPageChange,onSearch:function(){return t.onPage(r)}})},i.COMPONENT);try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/user/v2/component/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLabel");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={style:{},title:"",count:0,focused:!1}},"./src/screens/user/v2/component/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=t("./src/constants/index.ts"),i=r(t("./src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx")),r=t("./src/screens/user/v2/component/tab-bar-label/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.style,r=e.title,e=e.focused,n=(s=s.$).state.subjectType;return(0,d.jsx)(i.default,{style:t,title:r,count:s.count(o.MODEL_SUBJECT_TYPE.getTitle(n),r),focused:e})},r.COMPONENT)},"./src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/v2/component/tab-bar-label/ds.ts"),i=t("./node_modules/react/jsx-runtime.js"),t=(0,r.memo)(function(e){var s=e.style,t=e.title,r=e.count,e=e.focused;return(0,i.jsxs)(n.Flex,{style:s,justify:"center",align:"start",children:[(0,i.jsx)(n.Text,{type:"title",size:13,bold:e,noWrap:!0,children:t}),!!r&&(0,i.jsxs)(n.Text,{type:"sub",size:10,lineHeight:11,bold:!0,children:[" ",r," "]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);s.default=t;try{tabbarlabel.displayName="tabbarlabel",tabbarlabel.__docgenInfo={description:"",displayName:"tabbarlabel",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx#tabbarlabel"]={docgenInfo:tabbarlabel.__docgenInfo,name:"tabbarlabel",path:"src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx#tabbarlabel"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-left/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLeft"),s.DS=n.SUBJECT_TYPE.map(function(e){return e.title})},"./src/screens/user/v2/component/tab-bar-left/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),l=t("./src/screens/user/v2/component/tab-bar-left/ds.ts"),a=t("./src/screens/user/v2/component/tab-bar-left/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(0,a.memoStyles)(),r=s.state.subjectType;return(0,c.jsxs)(o.Popover,{data:l.DS,onSelect:s.onSelectSubjectType,children:[(0,c.jsx)(n.Flex,{style:t.tabBarLeft,justify:"center",children:(0,c.jsx)(n.Button,{style:t.btn,styleText:(0,i.stl)(t.text,d.IOS&&t.textIOS),type:"ghostMain",size:"sm",children:d.MODEL_SUBJECT_TYPE.getTitle(r)})}),(0,c.jsx)(n.Heatmap,{id:"我的.类型选择"})]})},l.COMPONENT);try{tabbarleft.displayName="tabbarleft",tabbarleft.__docgenInfo={description:"",displayName:"tabbarleft",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tab-bar-left/index.tsx#tabbarleft"]={docgenInfo:tabbarleft.__docgenInfo,name:"tabbarleft",path:"src/screens/user/v2/component/tab-bar-left/index.tsx#tabbarleft"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-left/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){return{tabBarLeft:{zIndex:10,paddingLeft:r._.r(r._._wind)-4,paddingRight:r._.sm,marginTop:13-n.H_RADIUS_LINE,backgroundColor:r._.select("transparent",r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},btn:{width:56,height:r._.ios(28,22),marginTop:r._.ios(0,3),borderRadius:r._.r(16)},text:{width:56,lineHeight:16},textIOS:{lineHeight:14}}})},"./src/screens/user/v2/component/tool-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ToolBar")},"./src/screens/user/v2/component/tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),m=r(t("./src/screens/user/v2/component/filter/index.tsx")),p=r(t("./src/screens/user/v2/component/tool-bar/sort.tsx")),f=r(t("./src/screens/user/v2/component/tool-bar/tag.tsx")),j=r(t("./src/screens/user/v2/component/tool-bar/pagination.tsx")),_=r(t("./src/screens/user/v2/component/tool-bar/search.tsx")),x=r(t("./src/screens/user/v2/component/tool-bar/more.tsx")),r=t("./src/screens/user/v2/component/tool-bar/ds.ts"),b=t("./src/screens/user/v2/component/tool-bar/styles.ts"),g=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.page,r=e.pageCurrent,n=e.pageTotal,o=void 0===(e=e.onRefreshOffset)?void 0:e,i=s.$,e=(0,b.memoStyles)(),s=i.state.list,d=c.systemStore.setting.userPagination;return(0,g.jsxs)(l.default,{style:(0,u.stl)(e.container,s&&e.list),children:[(0,g.jsxs)(a.ToolBar,{children:[(0,g.jsx)(p.default,{}),(0,g.jsx)(f.default,{page:t}),d&&(0,g.jsx)(j.default,{pageCurrent:r,pageTotal:n}),(0,g.jsx)(_.default,{}),(0,g.jsx)(x.default,{onRefreshOffset:function(){"function"==typeof o&&o(),i.onRefreshOffset()}})]}),(0,g.jsx)(m.default,{page:t})]})},r.COMPONENT)},"./src/screens/user/v2/component/tool-bar/more.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.onRefreshOffset,r=s.$,e=i.systemStore.setting.userPagination,n=(s=r.state).list,s=s.showYear,e="分页 · "+(e?"开启":"关闭");return(0,d.jsx)(o.ToolBar.Popover,{data:n?["布局 · 列表",e]:["布局 · 网格",e,"年份 · "+(s?"显示":"不显示")],icon:"md-more-vert",iconColor:i._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?t():e.includes("年份")?r.onToggleShowYear():void(e.includes("分页")&&(i.systemStore.switchSetting("userPagination"),r.fetchUserCollectionsNormal(!0)))}})})},"./src/screens/user/v2/component/tool-bar/pagination.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.pageCurrent,e=e.pageTotal,r=s.$;return(0,i.jsx)(n.ToolBar.Popover,{data:function(e){for(var s=[],t=1;t<=Number(e);t+=1)s.push(String(t));return s}(e),icon:"md-notes",iconColor:o._.colorDesc,text:t,type:"desc",onSelect:function(e){return r.onPage(e)}})})},"./src/screens/user/v2/component/tool-bar/search.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state.showFilter;return(0,i.jsx)(n.ToolBar.Icon,{icon:"md-search",iconColor:t?o._.colorMain:o._.colorDesc,onSelect:s.onToggleFilter})});try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tool-bar/search.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/user/v2/component/tool-bar/search.tsx#search"})}catch(e){}},"./src/screens/user/v2/component/tool-bar/sort.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state.order;return(0,d.jsx)(n.ToolBar.Popover,{data:i.COLLECTIONS_ORDERBY.map(function(e){return e.label}),icon:"md-sort",iconColor:o._.colorDesc,text:t?i.MODEL_COLLECTIONS_ORDERBY.getLabel(t):"收藏时间",type:"desc",heatmap:"我的.筛选选择",onSelect:s.onOrderSelect})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/v2/component/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/user/v2/component/tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingTop:20,paddingBottom:12,backgroundColor:r._.colorPlain},list:{paddingBottom:0}}})},"./src/screens/user/v2/component/tool-bar/tag.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),l=t("./src/screens/user/v2/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.page,t=(s=s.$).state,r=void 0===(r=t.subjectType)?l.DEFAULT_SUBJECT_TYPE:r,t=t.tag,n=["重置"],e=d.MODEL_COLLECTION_STATUS.getValue(l.TABS[e].title);return s.userCollectionsTags(r,e).forEach(function(e){return n.push(e.tag+" ("+e.count+")")}),(0,a.jsx)(o.ToolBar.Popover,{data:n,icon:"md-bookmark-outline",iconSize:17,iconColor:i._.colorDesc,text:t?t.replace(/ \(\d+\)/,""):"标签",type:"desc",heatmap:"我的.排序选择",onSelect:s.onTagSelect})})},"./src/screens/user/v2/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.TABS=s.H_TABBAR=s.H_RADIUS_LINE=s.H_HEADER=s.DEFAULT_SUBJECT_TYPE=s.DEFAULT_ORDER=s.COMPONENT=void 0,r(t("./node_modules/expo-constants/build/Constants.js"))),n=t("./src/stores/index.ts"),t=t("./src/constants/index.ts"),o=(s.COMPONENT="User",s.DEFAULT_SUBJECT_TYPE=t.MODEL_SUBJECT_TYPE.getLabel("动画"),s.DEFAULT_ORDER=t.MODEL_COLLECTIONS_ORDERBY.getValue("收藏时间"),s.H_RADIUS_LINE=n._.radiusLg);s.H_HEADER=n._.platforms(88,68,80,80-r.default.statusBarHeight)+o,s.H_TABBAR=n._.r(48),s.TABS=t.COLLECTION_STATUS.map(function(e){return{title:e.label,key:e.value}})},"./src/screens/user/v2/extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Extra")},"./src/screens/user/v2/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/v2/component/heatmaps/index.tsx")),r=t("./src/screens/user/v2/extra/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){return s=s.$,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Track,{title:"时光机",hm:["user/"+s.myUserId+"?route=user","User"]}),(0,d.jsx)(i.default,{})]})},r.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/user/v2/extra/index.tsx#extra"})}catch(e){}},"./src/screens/user/v2/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useUserPage=function(e){var s=e.$,t=e.navigation;(0,o.useRunAfter)(function(){s.init(),t.addListener(n.EVENT_APP_TAB_PRESS+"|User",function(){s.onRefreshThenScrollTop()})}),(0,o.useFocusEffect)(function(){setTimeout(function(){r.StatusBar.setBarStyle("light-content")},40)})};var r=t("./src/components/index.ts"),n=t("./src/navigations/tab-bar/index.tsx"),o=t("./src/utils/hooks/index.ts")},"./src/screens/user/v2/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),a=t("./src/constants/index.ts"),c=r(t("./src/screens/user/v2/scroll/index.tsx")),u=r(t("./src/screens/user/v2/nested-scroll/index.tsx")),m=r(t("./src/screens/user/v2/extra/index.tsx")),r=r(t("./src/screens/user/v2/store/index.ts")),p=t("./src/screens/user/v2/hooks.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(r.default,function(e,s){(0,p.useUserPage)(s);var t=s.$;return(0,l.useObserver)(function(){return(0,f.jsxs)(n.Component,{id:"screen-user",children:[(0,f.jsx)(n.Page,{children:t.usersInfo.id||i.userStore.isLogin?(0,f.jsxs)(o.BlurViewRoot,{children:[!!t.state._loaded&&(a.IOS||a.STORYBOOK?(0,f.jsx)(c.default,{}):(0,f.jsx)(u.default,{})),(0,f.jsx)(o.BlurViewBottomTab,{})]}):(0,f.jsx)(o.Login,{style:i._.container.plain})}),(0,f.jsx)(m.default,{})]})})});try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/user/v2/index.tsx#v2"})}catch(e){}},"./src/screens/user/v2/nested-scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"NestedScroll")},"./src/screens/user/v2/nested-scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/v2/component/header-component/index.tsx")),d=r(t("./src/screens/user/v2/component/menu/index.tsx")),l=r(t("./src/screens/user/v2/component/tab-bar-label/index.tsx")),a=r(t("./src/screens/user/v2/component/tab-bar-left/index.tsx")),c=t("./src/screens/user/v2/ds.ts"),u=r(t("./src/screens/user/v2/nested-scroll/list/index.tsx")),m=r(t("./src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx")),r=t("./src/screens/user/v2/nested-scroll/ds.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){var t=(s=s.$).state.page;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.NestedScrollParallaxHeader,{pages:c.TABS.map(function(e){return e.title}),initialPage:t,imageSource:s.imageSource,blurRadius:s.blurRadius,tabBarLocalKey:"UserV2|NestedScroll",HeaderComponent:(0,p.jsx)(i.default,{}),TopNavbarComponent:(0,p.jsx)(m.default,{}),TabBarLeft:(0,p.jsx)(a.default,{}),renderLabel:f,onIndexChange:s.onChange,children:c.TABS.map(function(e){e=e.title;return(0,p.jsx)(u.default,{title:e},e)})}),(0,p.jsx)(d.default,{})]})},r.COMPONENT);function f(e){var s=e.style,e=e.title;return(0,p.jsx)(l.default,{style:s,title:e})}try{nestedscroll.displayName="nestedscroll",nestedscroll.__docgenInfo={description:"",displayName:"nestedscroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/index.tsx#nestedscroll"]={docgenInfo:nestedscroll.__docgenInfo,name:"nestedscroll",path:"src/screens/user/v2/nested-scroll/index.tsx#nestedscroll"})}catch(e){}},"./src/screens/user/v2/nested-scroll/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/nested-scroll/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"List");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},list:!0,page:0,data:n.LIST_EMPTY,numColumns:void 0,userPagination:!1,onScroll:n.FN,onHeaderRefresh:n.FN,onFooterRefresh:n.FN}},"./src/screens/user/v2/nested-scroll/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),a=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/v2/ds.ts"),m=r(t("./src/screens/user/v2/nested-scroll/list/list.tsx")),r=t("./src/screens/user/v2/nested-scroll/list/ds.ts"),p=t("./src/screens/user/v2/nested-scroll/list/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.title,r=s.$,e=(0,p.memoStyles)(),s=a.systemStore.setting.userPagination,n=r.state,o=n.subjectType,n=n.list,i=u.TABS.findIndex(function(e){return e.title===t}),d=r.userCollections(o,c.MODEL_COLLECTION_STATUS.getValue(t));return r.loadedPage(i)&&null!=d&&d._loaded?(o=o+"|"+n,s&&(o+=d.pagination.page),(0,f.jsx)(m.default,{styles:e,list:n,page:i,data:d,numColumns:r.numColumns,userPagination:s,onScroll:r.onScroll,onHeaderRefresh:function(){return r.fetchIsNeedToEnd(!0)},onFooterRefresh:r.fetchUserCollections},o)):(0,f.jsx)(l.Loading,{style:e.loading})},r.COMPONENT)},"./src/screens/user/v2/nested-scroll/list/list.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),c=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),m=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),p=r(t("./src/screens/user/v2/component/tool-bar/index.tsx")),f=r(t("./src/screens/user/v2/component/item/index.tsx")),j=r(t("./src/screens/user/v2/component/pagination/index.tsx")),r=t("./src/screens/user/v2/nested-scroll/list/ds.ts"),_=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var s=e.styles,t=e.list,r=e.page,n=e.data,o=e.numColumns,i=e.userPagination,d=e.onScroll,l=e.onHeaderRefresh,e=e.onFooterRefresh,t={contentContainerStyle:t?s.list:s.grid},s=(i?t.ListFooterComponent=(0,_.jsx)(j.default,{}):(t.onHeaderRefresh=l,t.onFooterRefresh=e),(0,a.useCallback)(function(e){var s=e.item,e=e.index;return(0,_.jsx)(f.default,{item:s,index:e,page:r})},[r])),i=n.pagination,l=i.page,e=i.pageTotal;return(0,_.jsx)(c.ListView,Object.assign({keyExtractor:m.keyExtractor,nestedScrollEnabled:!0,contentContainerStyle:u._.container.bottom,data:n,numColumns:o,keyboardDismissMode:"on-drag",scrollEventThrottle:4,renderItem:s,ListHeaderComponent:(0,_.jsx)(p.default,{page:r,pageCurrent:l,pageTotal:e}),onScroll:d},t))},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ loading: { marginTop: number; }; list: { paddingBottom: number; }; grid: { paddingLeft: number; paddingRight: number; paddingBottom: number; }; }"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"boolean"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ pagination?: { page: number; pageTotal: number; }; _list?: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; _loaded?: Loaded; list: { ...; }[]; }"}},numColumns:{defaultValue:null,description:"",name:"numColumns",required:!0,type:{name:"number"}},userPagination:{defaultValue:null,description:"",name:"userPagination",required:!0,type:{name:"boolean"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"Fn"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/v2/nested-scroll/list/list.tsx#list"})}catch(e){}},"./src/screens/user/v2/nested-scroll/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{loading:{marginTop:-r._.parallaxImageHeight},list:{paddingBottom:r._.bottom},grid:{paddingLeft:r._.wind-r._._wind-r._.device(0,8),paddingRight:r._.wind-r._._wind,paddingBottom:r._.bottom}}})},"./src/screens/user/v2/nested-scroll/top-navbar-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TopNavbarComponent")},"./src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/v2/nested-scroll/top-navbar-component/styles.ts"),l=t("./src/screens/user/v2/nested-scroll/top-navbar-component/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).avatar,r=r.nickname;return(0,a.jsxs)(n.Flex,{justify:"center",children:[(0,a.jsx)(n.Avatar,{style:d.styles.avatar,size:28,src:s.avatar||t.large,fallbackSrc:t.large,borderWidth:0}),(0,a.jsx)(n.Text,{style:o._.ml.sm,type:o._.select("plain","title"),align:"center",bold:!0,numberOfLines:1,children:(0,i.HTMLDecode)(r)})]})},l.COMPONENT);try{topnavbarcomponent.displayName="topnavbarcomponent",topnavbarcomponent.__docgenInfo={description:"",displayName:"topnavbarcomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"]={docgenInfo:topnavbarcomponent.__docgenInfo,name:"topnavbarcomponent",path:"src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"})}catch(e){}},"./src/screens/user/v2/nested-scroll/top-navbar-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/v2/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts"),o=s.COMPONENT=(0,n.rc)(t.COMPONENT,"Scroll");s.COMPONENT_MAIN=(0,n.rc)(o),s.DEFAULT_PROPS={fixedHeight:r._.parallaxImageHeight-t.H_HEADER,page:0,scrollToOffset:{},fetchCollections:function(){},onChange:function(){},onScroll:function(){}}},"./src/screens/user/v2/scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/v2/scroll/scroll.web.tsx")),r=t("./src/screens/user/v2/scroll/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var s=s.$,t=s.state.page;return(0,i.jsx)(o.default,{fixedHeight:s.fixedHeight,page:t,scrollToOffset:s.scrollToOffset,fetchCollections:s.fetchCollections,onChange:s.onChange,onScroll:s.onScroll})},r.COMPONENT);try{scroll.displayName="scroll",scroll.__docgenInfo={description:"iOS 和 WEB 用",displayName:"scroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/index.tsx#scroll"]={docgenInfo:scroll.__docgenInfo,name:"scroll",path:"src/screens/user/v2/scroll/index.tsx#scroll"})}catch(e){}},"./src/screens/user/v2/scroll/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"List");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},forwardRef:function(){},scrollY:0,page:0,list:!0,userPagination:!1,userGridNum:4,userCollections:n.LIST_EMPTY,onScroll:function(){},onRefreshOffset:function(){},onHeaderRefresh:function(){},onFooterRefresh:function(){}}},"./src/screens/user/v2/scroll/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/stores/index.ts")),m=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),p=t("./src/constants/index.ts"),f=r(t("./src/screens/user/v2/component/loading/index.tsx")),j=r(t("./src/screens/user/v2/scroll/list/list.tsx")),r=t("./src/screens/user/v2/scroll/list/ds.ts"),_=t("./src/screens/user/v2/scroll/list/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t,r,n,o=e.page,i=e.title,d=e.scrollY,l=e.onScroll,e=e.onRefreshOffset,a=s.$,s=a.state,c=s.subjectType,s=s.list,i=a.userCollections(c,p.MODEL_COLLECTION_STATUS.getValue(i));return i._loaded?(t=(r=u.systemStore.setting).userPagination,r=r.userGridNum,n=Number(r)+(u._.isLandscape?1:0),(0,x.jsx)(j.default,{styles:(0,_.memoStyles)(),forwardRef:a.forwardRef,scrollY:d,page:o,list:s,userPagination:t,userGridNum:n,userCollections:i,onScroll:l,onRefreshOffset:e,onHeaderRefresh:function(){return a.fetchIsNeedToEnd(!0)},onFooterRefresh:a.fetchUserCollections},(0,m.getKeyString)(u._.orientation,c,r))):(0,x.jsx)(f.default,{})},r.COMPONENT)},"./src/screens/user/v2/scroll/list/list.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),g=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),h=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),y=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),v=t("./src/components/index.ts"),S=t("./src/stores/index.ts"),O=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),T=t("./src/utils/hooks/index.ts"),E=r(t("./src/screens/user/v2/component/fixed-tool-bar/index.tsx")),C=r(t("./src/screens/user/v2/component/item/index.tsx")),I=r(t("./src/screens/user/v2/component/pagination/index.tsx")),r=t("./src/screens/user/v2/scroll/list/ds.ts"),P=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var s=e.styles,t=e.forwardRef,r=e.scrollY,n=e.page,o=e.list,i=e.userPagination,d=e.userGridNum,l=e.userCollections,a=e.onScroll,c=e.onRefreshOffset,u=e.onHeaderRefresh,e=e.onFooterRefresh,m=l.pagination,p=m.page,f=m.pageTotal,m=(0,g.useMemo)(function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(y.default,{style:s.header}),(0,P.jsx)(E.default,{page:n,pageCurrent:p,pageTotal:f,onRefreshOffset:c})]})},[c,n,p,f,s]),j=(0,g.useMemo)(function(){return h.default.event([{nativeEvent:{contentOffset:{y:r}}}],{useNativeDriver:!0,listener:a})},[a,r]),_=(0,g.useCallback)(function(e){t(e,n)},[t,n]),d=o?void 0:d,x=(0,g.useCallback)(function(e){var s=e.item,e=e.index;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.default,{item:s,index:e,page:n}),0===e&&(0,P.jsx)(v.Heatmap,{id:"我的.跳转",to:"Subject",alias:"条目"})]})},[n]),b=((0,T.useMount)(function(){requestAnimationFrame(function(){c(n)})}),{});return i?b.ListFooterComponent=(0,P.jsx)(I.default,{}):(b.onHeaderRefresh=u,b.onFooterRefresh=e),(0,P.jsx)(v.ListView,Object.assign({ref:_,keyExtractor:O.keyExtractor,style:s.listView,contentContainerStyle:o?s.list:s.grid,animated:!0,data:l,numColumns:d,progressViewOffset:S._.parallaxImageHeight+32,lazy:12,keyboardDismissMode:"on-drag",renderItem:x,ListHeaderComponent:m,scrollEventThrottle:4,onScroll:j},b),(0,O.getKeyString)(o,d))},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ listView: { zIndex: number; }; list: { paddingBottom: number; minHeight: number; }; grid: { paddingLeft: number; paddingRight: number; paddingBottom: number; minHeight: number; }; header: { height: number; }; }"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!0,type:{name:"(ref: { scrollToIndex: any; scrollToOffset: any; }, index: string | number) => void"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"boolean"}},userPagination:{defaultValue:null,description:"",name:"userPagination",required:!0,type:{name:"boolean"}},userGridNum:{defaultValue:null,description:"",name:"userGridNum",required:!0,type:{name:"number"}},userCollections:{defaultValue:null,description:"",name:"userCollections",required:!0,type:{name:"{ pagination?: { page: number; pageTotal: number; }; _list?: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; _loaded?: Loaded; list: { ...; }[]; }"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"Fn"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"Fn"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/v2/scroll/list/list.tsx#list"})}catch(e){}},"./src/screens/user/v2/scroll/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts"),o=r._.r(42);s.memoStyles=r._.memoStyles(function(){return{listView:{zIndex:0},list:{paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},grid:{paddingLeft:r._.wind-r._._wind-r._.device(0,8),paddingRight:r._.wind-r._._wind,paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},header:{height:r._.parallaxImageHeight+n.H_TABBAR-r._.radiusLg}}})},"./src/screens/user/v2/scroll/parallax-image/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.DATA_OTHER=s.DATA_ME=s.COMPONENT_MAIN=s.COMPONENT=void 0,r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts"),t=s.COMPONENT=(0,n.rc)(t.COMPONENT,"ParallaxImage");s.COMPONENT_MAIN=(0,n.rc)(t),s.DATA_ME=["我的空间","我的好友","我的人物","我的目录","我的日志","我的netaba.re"],s.DATA_OTHER=["TA的好友","TA的netaba.re"],s.DEFAULT_PROPS={navigation:{},themeStyles:{},parallaxImageHeight:0,avatar:{},bg:"",bgAvatar:"",fixed:!1,id:"",myUserId:"",nickname:"",paramsUserId:"",scrollY:new r.default.Value(0),src:"",textType:"plain",userId:"",username:""}},"./src/screens/user/v2/scroll/parallax-image/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/stores/index.ts")),n=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/v2/scroll/parallax-image/parallax-image.tsx")),r=t("./src/screens/user/v2/scroll/parallax-image/ds.ts"),c=t("./src/screens/user/v2/scroll/parallax-image/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.scrollY,e=e.fixed,r=s.$,s=s.navigation,n=r.usersInfo,o=n.id,i=n.avatar,d=n.nickname,n=n.username;return(0,u.jsx)(a.default,{navigation:s,themeStyles:(0,c.memoStyles)(),parallaxImageHeight:l._.parallaxImageHeight,avatar:i,bg:r.bg,bgAvatar:r.avatar,fixed:e,id:o,myUserId:r.myUserId,nickname:d,paramsUserId:r.params.userId,scrollY:t,src:r.avatar||i.large,textType:l._.select("plain","title"),userId:r.userId,username:n})},r.COMPONENT)},"./src/screens/user/v2/scroll/parallax-image/parallax-image.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),h=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),y=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),v=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),S=t("./src/components/index.ts"),O=t("./src/screens/_/index.ts"),T=t("./src/stores/index.ts"),E=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),C=t("./src/utils/fetch/index.ts"),I=t("./src/constants/index.ts"),P=r(t("./src/screens/user/v2/component/header-component/index.tsx")),w=t("./src/screens/user/v2/ds.ts"),R=t("./src/screens/user/v2/scroll/parallax-image/ds.ts"),A=t("./src/screens/user/v2/scroll/parallax-image/styles.ts"),N=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}s.default=(0,n.memo)(function(e){var t=e.navigation,s=e.themeStyles,r=e.parallaxImageHeight,n=e.avatar,o=e.bg,i=e.bgAvatar,d=e.fixed,l=e.id,a=e.myUserId,c=e.nickname,u=e.paramsUserId,m=e.scrollY,p=e.src,f=e.textType,j=e.userId,_=e.username,x={transform:[{translateY:m.interpolate({inputRange:[-r,0,r-w.H_HEADER,r],outputRange:[r/2,0,-(r-w.H_HEADER),-(r-w.H_HEADER)]})}]},b=(I.IOS&&x.transform.push({scale:m.interpolate({inputRange:[-r,0,r],outputRange:[2,1,1]})}),(0,h.useCallback)(function(e){switch((0,C.t)("我的.右上角菜单",{key:e}),e){case"我的空间":t.push("Zone",{userId:j});break;case"我的好友":t.push("Friends");break;case"我的人物":t.push("Character");break;case"我的目录":t.push("Catalogs");break;case"我的日志":t.push("Blogs");break;case"我的netaba.re":(0,E.open)("https://netaba.re/user/"+l);break;case"TA的好友":t.push("Friends",{userId:l});break;case"TA的netaba.re":(0,E.open)("https://netaba.re/user/"+l)}},[t,j,l])),e=(0,h.useMemo)(function(){var e=o||i||n.large;return"string"==typeof e&&(e=e.replace("http://","https://")),(0,N.jsxs)(N.Fragment,{children:[I.TEXT_ONLY?(0,N.jsx)(y.default.View,{style:[s.parallaxImage,x]}):(0,N.jsx)(y.default.Image,{style:[s.parallaxImage,x],source:{uri:e},blurRadius:(0,E.getBlurRadius)(e,o,null==n?void 0:n.large)}),(0,N.jsx)(y.default.View,{style:[A.styles.parallaxWrap,A.styles.parallaxMask,x,{opacity:m.interpolate({inputRange:[-r,0,r-w.H_HEADER,r],outputRange:T._.select([0,.4,1,1],[.4,.8,1,1])})}]}),(0,N.jsx)(y.default.View,{style:[A.styles.parallaxMask,x,{opacity:m.interpolate({inputRange:[-r,0,r-w.H_HEADER,r],outputRange:[0,0,1,1]})}],children:(0,N.jsxs)(S.Flex,{style:A.styles.title,justify:"center",children:[(0,N.jsx)(O.Avatar,{style:A.styles.avatar,size:28,src:p,borderWidth:0,fallbackSrc:n.large}),(0,N.jsx)(S.Text,{style:T._.ml.sm,type:f,align:"center",bold:!0,numberOfLines:1,children:(0,E.HTMLDecode)(c)})]})}),(0,N.jsxs)(y.default.View,{style:[A.styles.parallaxWrap,x],children:[(0,N.jsx)(y.default.View,{style:{opacity:m.interpolate({inputRange:[-r,0,r-w.H_HEADER,r],outputRange:[1,1,0,0]})},children:(0,N.jsx)(P.default,{style:s.head})}),(0,N.jsx)(v.default,{style:s.parallaxLine})]})]})},[n.large,o,i,c,r,x,m,p,f,s]),g=(0,h.useMemo)(function(){var e=!!l&&a===l,s=e?R.DATA_ME:R.DATA_OTHER;return(0,N.jsxs)(N.Fragment,{children:[!!u&&(0,N.jsx)(v.default,{style:A.styles.back,children:(0,N.jsx)(O.IconBack,{navigation:t,color:T._.__colorPlain__})}),(0,N.jsx)(v.default,{style:!u&&e?A.styles.menu:A.styles.more,children:(0,N.jsxs)(O.Popover,{style:A.styles.touch,data:s,onSelect:b,children:[(0,N.jsx)(S.Flex,{style:A.styles.icon,justify:"center",children:(0,N.jsx)(S.Iconfont,{name:"md-menu",color:T._.__colorPlain__})}),(0,N.jsx)(S.Heatmap,{right:-40,id:"我的.右上角菜单"})]})}),(0,N.jsxs)(v.default,{style:A.styles.timeline,children:[(0,N.jsx)(O.IconHeader,{name:"md-timeline",color:T._.__colorPlain__,size:21,onPress:function(){(0,C.t)("我的.跳转",{to:"UserTimeline"});var e={userId:_||l};u&&(e.userName=c),t.push("UserTimeline",e)}}),(0,N.jsx)(S.Heatmap,{right:48,id:"我的.跳转",to:"UserTimeline",alias:"时间线"})]}),!u&&(0,N.jsxs)(v.default,{style:A.styles.setting,children:[(0,N.jsx)(O.IconHeader,{name:"setting",color:T._.__colorPlain__,onPress:function(){(0,C.t)("我的.跳转",{to:"Setting"}),t.push("Setting")}}),(0,N.jsx)(S.Heatmap,{id:"我的.跳转",to:"Setting",alias:"设置"})]})]})},[l,a,t,c,b,u,_]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(v.default,{style:A.styles.parallax,pointerEvents:d?"none":void 0,children:e}),g]})},R.DEFAULT_PROPS,R.COMPONENT_MAIN);try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},themeStyles:{defaultValue:null,description:"",name:"themeStyles",required:!0,type:{name:'{ parallaxLine: { position: "absolute"; right: number; bottom: number; left: number; height: number; backgroundColor: string; borderTopLeftRadius: number; borderTopRightRadius: number; overflow: "hidden"; }; parallaxImage: { ...; }; head: { ...; }; }'}},parallaxImageHeight:{defaultValue:null,description:"",name:"parallaxImageHeight",required:!0,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"ImagesAvatar"}},bg:{defaultValue:null,description:"",name:"bg",required:!0,type:{name:"string"}},bgAvatar:{defaultValue:null,description:"",name:"bgAvatar",required:!0,type:{name:"string"}},fixed:{defaultValue:null,description:"",name:"fixed",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"UserId"}},myUserId:{defaultValue:null,description:"",name:"myUserId",required:!0,type:{name:"UserId"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string"}},paramsUserId:{defaultValue:null,description:"",name:"paramsUserId",required:!0,type:{name:"UserId"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"Value"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},textType:{defaultValue:null,description:"",name:"textType",required:!0,type:{name:"enum",value:[{value:'"plain"'},{value:'"title"'}]}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/parallax-image/parallax-image.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/v2/scroll/parallax-image/parallax-image.tsx#parallaximage"})}catch(e){}},"./src/screens/user/v2/scroll/parallax-image/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/styles/index.ts"),o=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){var e=r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1);return{parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:o.H_RADIUS_LINE,backgroundColor:e,borderTopLeftRadius:o.H_RADIUS_LINE,borderTopRightRadius:o.H_RADIUS_LINE,overflow:"hidden"},parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8,backgroundColor:e},head:{marginTop:r._.device((r._.parallaxImageHeight-120)/2,80)}}}),s.styles=r._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxMask:{backgroundColor:"rgba(0, 0, 0, 0.24)"},title:{position:"absolute",left:"50%",width:240,bottom:o.H_RADIUS_LINE+10,transform:[{translateX:-120}]},back:Object.assign({},r._.header.left,{zIndex:1,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-6:-7,-4)}),menu:Object.assign({},r._.header.left,{zIndex:1,padding:r._.sm,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-14:-16,-12),marginLeft:-4,opacity:.88}),more:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios(-6,-4),opacity:.88}),timeline:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),marginRight:r._.device(44,54),opacity:.88}),setting:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),opacity:.88}),touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/v2/scroll/scroll.web.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),j=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),_=t("./src/utils/hooks/index.ts"),n=t("./src/utils/decorators/index.ts"),x=r(t("./src/screens/user/v2/scroll/parallax-image/index.tsx")),b=r(t("./src/screens/user/v2/scroll/tab/index.tsx")),r=t("./src/screens/user/v2/scroll/ds.ts"),g=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var t=e.fixedHeight,r=e.page,n=e.scrollToOffset,s=e.fetchCollections,o=e.onChange,i=e.onScroll,e=((0,_.useMount)(function(){s()}),(0,f.useRef)(new j.default.Value(0))),d=(0,f.useRef)(0),l=(0,f.useRef)(!1),a=(0,f.useCallback)(function(e){i(e);e=e.nativeEvent.contentOffset.y;d.current=e,l.current&&e<t-20?l.current=!1:!l.current&&t-20<=e&&(l.current=!0)},[t,i]),c=(0,f.useCallback)(function(e){if(e)try{var s={offset:l.current?t:d.current,animated:!1};Array.isArray(e)&&e.forEach(function(e){"function"==typeof n[r+e]&&n[r+e](s)}),"number"==typeof e&&"function"==typeof n[e]&&n[e](s)}catch(e){}},[t,r,n]),u=(0,f.useCallback)(function(){c([-1,1])},[c]),m=(0,f.useCallback)(function(e){o(e),setTimeout(function(){c([0])},0)},[o,c]),p=(0,f.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0];setTimeout(function(){c(e)},0)},[c]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.default,{page:r,scrollY:e.current,onScroll:a,onSwipeStart:u,onIndexChange:m,onRefreshOffset:p}),(0,g.jsx)(x.default,{scrollY:e.current,fixed:l.current})]})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{scrollweb.displayName="scrollweb",scrollweb.__docgenInfo={description:"",displayName:"scrollweb",props:{fixedHeight:{defaultValue:null,description:"",name:"fixedHeight",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},scrollToOffset:{defaultValue:null,description:"",name:"scrollToOffset",required:!0,type:{name:"{}"}},fetchCollections:{defaultValue:null,description:"",name:"fetchCollections",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(page: number) => void"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/scroll.web.tsx#scrollweb"]={docgenInfo:scrollweb.__docgenInfo,name:"scrollweb",path:"src/screens/user/v2/scroll/scroll.web.tsx#scrollweb"})}catch(e){}},"./src/screens/user/v2/scroll/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tab")},"./src/screens/user/v2/scroll/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/defineProperty.js"))),u=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),m=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=i(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),p=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=t("./src/components/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/dev/index.ts"),x=r(t("./src/screens/user/v2/component/tab-bar-left/index.tsx")),b=r(t("./src/screens/user/v2/scroll/list/index.tsx")),g=t("./src/screens/user/v2/ds.ts"),h=r(t("./src/screens/user/v2/scroll/tab/tab-bar/index.tsx")),y=t("./src/screens/user/v2/scroll/tab/ds.ts"),v=t("./src/screens/user/v2/scroll/tab/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function i(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(i=function(e){return e?t:s})(e))}function n(e){var s=e.page,n=e.scrollY,t=e.onIndexChange,o=e.onScroll,r=e.onSwipeStart,i=e.onRefreshOffset,e=((0,_.r)(y.COMPONENT),(0,m.useRef)((0,f.SceneMap)(Object.assign.apply(Object,[{}].concat((0,u.default)(g.TABS.map(function(e,s){var t=e.key,r=e.title;return(0,c.default)({},t,function(){return(0,S.jsx)(b.default,{page:s,title:r,scrollY:n,onScroll:o,onRefreshOffset:i})})}))))))),d=(0,m.useMemo)(function(){return{index:s,routes:g.TABS}},[s]),l=(0,m.useMemo)(function(){return{transform:[{translateY:n.interpolate({inputRange:[-j._.parallaxImageHeight,0,j._.parallaxImageHeight-g.H_HEADER,j._.parallaxImageHeight],outputRange:[2*j._.parallaxImageHeight,j._.parallaxImageHeight,g.H_HEADER,g.H_HEADER]})}]}},[n]),a=(0,m.useCallback)(function(e){return(0,S.jsx)(p.default.View,{style:[v.styles.tabBarWrap,l],children:(0,S.jsx)(h.default,Object.assign({},e))})},[l]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.TabView,{lazy:!0,lazyPreloadDistance:0,navigationState:d,renderTabBar:a,renderScene:e.current,onSwipeStart:r,onIndexChange:t},j._.orientation),(0,S.jsx)(p.default.View,{style:[v.styles.tabBarLeft,l],children:(0,S.jsx)(x.default,{})})]})}s.default=n;try{n.displayName="Tab",n.__docgenInfo={description:"",displayName:"Tab",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"any"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"any"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"any"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/tab/index.tsx#Tab"]={docgenInfo:n.__docgenInfo,name:"Tab",path:"src/screens/user/v2/scroll/tab/index.tsx#Tab"})}catch(e){}},"./src/screens/user/v2/scroll/tab/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.styles=r._.create({tabBarWrap:{position:"absolute",zIndex:2,top:2-t.H_RADIUS_LINE,right:0,left:0},tabBarLeft:{position:"absolute",zIndex:100,left:0,marginTop:0}})},"./src/screens/user/v2/scroll/tab/tab-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/tab/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBar")},"./src/screens/user/v2/scroll/tab/tab-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/v2/component/fixed-tool-bar/index.tsx")),l=r(t("./src/screens/user/v2/component/tab-bar-label/index.tsx")),r=t("./src/screens/user/v2/scroll/tab/tab-bar/ds.ts"),a=t("./src/screens/user/v2/scroll/tab/tab-bar/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)(function(e){var s=(0,a.memoStyles)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.TabBar,Object.assign({},e,{style:s.tabBar,tabStyle:s.tab,labelStyle:s.label,indicatorStyle:s.indicator,pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:u})),(0,c.jsx)(d.default,{fixed:!0}),(0,c.jsx)(n.Heatmap,{right:o._.wind+62,id:"我的.标签页切换",transparent:!0}),(0,c.jsx)(n.Heatmap,{right:o._.wind,id:"我的.标签页点击",transparent:!0})]})},r.COMPONENT);function u(e){var s=e.route,e=e.focused;return(0,c.jsx)(l.default,{title:s.title,focused:e})}try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/user/v2/scroll/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/user/v2/scroll/tab/tab-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.flat.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){var e=r._.r(72),s=(r._.window.width-e)/5,t=r._.r(16);return{tabBarWrap:{position:"absolute",zIndex:2,top:2-n.H_RADIUS_LINE,right:0,left:0},tabBar:{paddingLeft:e,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.flat?0:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{width:s,height:r._.r(48)},label:{padding:0},indicator:{width:t,height:4,marginLeft:(s-t)/2+e,backgroundColor:r._.colorMain,borderRadius:4}}})},"./src/screens/user/v2/store/action.ts":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.function.bind.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),_=t("./src/utils/fetch/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/fetch.ts"));function g(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var h;s.default=(t=r.default,(0,c.default)(y,t),h=g(y),(0,n.default)(y));function y(){var n;(0,l.default)(this,y);for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=h.call.apply(h,[this].concat(t)),(0,p.default)((0,a.default)(n),"scrollToIndex",{}),(0,p.default)((0,a.default)(n),"scrollToOffset",{}),(0,p.default)((0,a.default)(n),"forwardRef",function(e,s){n.scrollToIndex[s]=null==e?void 0:e.scrollToIndex,n.scrollToOffset[s]=null==e?void 0:e.scrollToOffset}),(0,p.default)((0,a.default)(n),"onRefreshThenScrollTop",function(){try{var e=n.state.page;"function"==typeof n.scrollToIndex[e]&&((0,_.t)("其他.刷新到顶",{screen:"User"}),n.scrollToIndex[e]({animated:!0,index:0,viewOffset:8e3}),setTimeout(function(){(0,j.feedback)()},400),n.fetchIsNeedToEnd(!0))}catch(e){console.error("User","onRefreshThenScrollTop",e)}}),(0,p.default)((0,a.default)(n),"onChange",function(e){var s,t;e!==n.state.page&&((0,_.t)("我的.标签页切换",{page:e}),t={page:e,tag:"",ipt:"1"},(s=n.state.loadedPage).includes(e)||(t.loadedPage=[].concat((0,d.default)(s),[e])),n.setState(t),n.fetchIsNeedToEnd(!0),n.save())}),(0,p.default)((0,a.default)(n),"onSelectSubjectType",function(e){var s=x.MODEL_SUBJECT_TYPE.getLabel(e);s!==n.state.subjectType&&((0,_.t)("我的.类型选择",{title:e}),e=n.state.page,n.setState({subjectType:s,tag:"",ipt:"1",loadedPage:[e]}),n.fetchIsNeedRefreshToEnd(),n.save())}),(0,p.default)((0,a.default)(n),"onOrderSelect",(s=(0,i.default)(o.mark(function e(s){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,_.t)("我的.排序选择",{label:s}),n.setState({order:x.MODEL_COLLECTIONS_ORDERBY.getValue(s)}),n.fetchIsNeedRefreshToEnd(),n.save();case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,p.default)((0,a.default)(n),"onTagSelect",function(e){(0,_.t)("我的.筛选选择",{label:e}),e="重置"===e?"":e.replace(/ \(\d+\)/,""),n.setState({tag:e}),n.fetchIsNeedRefreshToEnd(),n.save()}),(0,p.default)((0,a.default)(n),"onRefreshOffset",function(){var e=n.state.list;(0,_.t)("我的.布局选择",{list:!e}),n.setState({list:!e}),n.save()}),(0,p.default)((0,a.default)(n),"onToggleFixed",function(){var e=n.state.fixed;n.setState({fixed:!e}),n.save()}),(0,p.default)((0,a.default)(n),"onToggleShowYear",function(){var e=n.state.showYear;n.setState({showYear:!e}),n.save()}),(0,p.default)((0,a.default)(n),"onToggleFilter",function(){var e=n.state.showFilter;e?(n.setState({showFilter:!e,fliterInputText:""}),setTimeout(function(){n.setState({filter:""})},160)):(n.setState({showFilter:!e,filter:""}),setTimeout(function(){var e,s=n.state.page;null!=(s=(e=n.scrollToOffset)[s])&&s.call(e,{offset:n.fixedHeight,animated:!0})},0))}),(0,p.default)((0,a.default)(n),"_onFilterChange",(0,j.debounce)(function(e){try{n.setState({filter:e});var s=n.state,t=s.subjectType,r=s.page;e.length&&n.fetchUntilTheEnd(t,b.TABS[r].key)}catch(e){}},1200)),(0,p.default)((0,a.default)(n),"onFilterChange",function(e){e=String(e).trim();n.setState({fliterInputText:e}),n._onFilterChange(e)}),(0,p.default)((0,a.default)(n),"onManagePress",function(e){f.uiStore.showManageModal(e,"时光机",function(e){n.isMe&&n.type&&null!=e&&e.status&&n.type!==(null==e?void 0:e.status)&&f.collectionStore.removeOneInUserCollections({userId:n.username,subjectType:n.state.subjectType,type:n.type,subjectId:e.subjectId})})}),(0,p.default)((0,a.default)(n),"onPrev",function(){var e=n.state.ipt;1!==Number(e)&&(e=Number(e)-1,n.onPage(e))}),(0,p.default)((0,a.default)(n),"onNext",function(){var e=n.state.ipt,e=Number(e)+1;n.onPage(e)}),(0,p.default)((0,a.default)(n),"onPageChange",function(e){e=e.nativeEvent.text;n.setState({ipt:e}),n.save()}),(0,p.default)((0,a.default)(n),"onPage",function(e){var s=n.state.page;n.setState({ipt:String(e)}),n.save();try{n.scrollToOffset[s]({offset:f._.parallaxImageHeight-100,animated:!0})}catch(e){}n.fetchUserCollectionsNormal(e)}),(0,p.default)((0,a.default)(n),"onScroll",j.updateVisibleBottom.bind((0,a.default)(n))),n}},"./src/screens/user/v2/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=t("./node_modules/mobx/dist/mobx.esm.js"),f=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),_=t("./src/utils/user-setting/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/state.ts")),g=t("./src/screens/user/v2/store/ds.ts"),h=["list"];function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,c.default)(t);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}var v;s.default=(t=r.default,(0,l.default)(S,t),v=y(S),(0,i.default)(S,[{key:"myUserId",get:function(){return f.userStore.myUserId}},{key:"userId",get:function(){return this.params.userId||this.myUserId}},{key:"username",get:function(){return this.usersInfo.username||this.userId}},{key:"isMe",get:function(){var e=this.params.userId;return!e||e===f.userStore.myId}},{key:"usersInfo",get:function(){return f.userStore.usersInfo(this.userId)}},{key:"sign",get:function(){var e;return(null==(e=f.usersStore.users(this.userId))?void 0:e.sign)||""}},{key:"avatar",get:function(){var e=this.sign.match(/\[avatar\](.+?)\[\/avatar\]/),e=e?String(e[1]).trim():"";return(0,_.fixedRemote)((0,j.HTMLDecode)(e),!0)}},{key:"bg",get:function(){var e=this.sign.match(/\[bg\](.+?)\[\/bg\]/);return(0,_.fixedRemote)((0,j.HTMLDecode)(e?String(e[1]).trim():""))}},{key:"type",get:function(){var e=this.state.page;return x.MODEL_COLLECTION_STATUS.getValue(b.TABS[e].title)}},{key:"label",get:function(){var e=this.state.page;return b.TABS[e].title}},{key:"action",get:function(){var e=this.state.subjectType;switch(x.MODEL_SUBJECT_TYPE.getTitle(e)){case"书籍":return"读";case"音乐":return"听";case"游戏":return"玩";default:return"看"}}},{key:"counts",get:function(){var r={"动画":{},"书籍":{},"游戏":{},"音乐":{},"三次元":{}},e=f.userStore.userCollectionsStatus(this.userId);return e.length&&e.forEach(function(t){t.collects.forEach(function(e){var s=x.MODEL_COLLECTION_STATUS.getLabel(e.status.type);r[t.name_cn][s]=e.count})}),r}},{key:"count",value:function(e,s){var t=this;return(0,p.computed)(function(){return t.counts[e][s]}).get()}},{key:"fixedHeight",get:function(){return f._.parallaxImageHeight-b.H_HEADER}},{key:"isTabActive",value:function(t,r){var n=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(0,p.computed)(function(){var e=n.state,s=e.subjectType,e=e.page;return t===s&&(o?(null==(s=b.TABS[e])?void 0:s.key)===r||(null==(s=b.TABS[e-1])?void 0:s.key)===r||(null==(s=b.TABS[e+1])?void 0:s.key)===r:(null==(s=b.TABS[e])?void 0:s.key)===r)}).get()}},{key:"isFiltering",value:function(r,n){var o=this;return(0,p.computed)(function(){var e,s,t;return!!o.isTabActive(r,n)&&(e=(t=o.state).showFilter,s=t.filter,t=t.fetching,!!(e&&s&&t))}).get()}},{key:"filter",get:function(){var e=this.state.filter;return(0,j.t2s)(e.toUpperCase())}},{key:"userCollections",value:function(t,r){var n=this;return(0,p.computed)(function(){var e=f.collectionStore.userCollections(n.username,t,r),s=e.list,e=(0,o.default)(e,h);return n.isTabActive(t,r,!0)&&n.filter&&(s=s.filter(function(e){var s=(e.nameCn||"").toUpperCase(),e=(e.name||"").toUpperCase();return!(!s.includes(n.filter)&&!e.includes(n.filter))||(0,j.getPinYinFilterValue)(s,n.filter)||(0,j.getPinYinFilterValue)(e,n.filter)})),f.userStore.isLimit&&(s=s.filter(function(e){return!(0,j.x18)(e.id)})),Object.assign({list:s},e)}).get()}},{key:"userCollectionsTags",value:function(e,s){var t=this;return(0,p.computed)(function(){return f.collectionStore.userCollectionsTags(t.username,e,s)}).get()}},{key:"isSortByScore",get:function(){var e=this.state.order;return"网站评分"===x.MODEL_COLLECTIONS_ORDERBY.getLabel(e)}},{key:"imageSource",get:function(){var e;return{uri:this.bg||this.avatar||(null==(e=this.usersInfo.avatar)?void 0:e.large)}}},{key:"blurRadius",get:function(){var e;return(0,j.getBlurRadius)(this.imageSource.uri,this.bg,null==(e=this.usersInfo.avatar)?void 0:e.large)}},{key:"numColumns",get:function(){return this.state.list?void 0:Number(f.systemStore.setting.userGridNum)}},{key:"loadedPage",value:function(e){var s=this;return(0,p.computed)(function(){return s.state.loadedPage.includes(e)}).get()}}]),(0,m.default)((s=S).prototype,"myUserId",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"myUserId"),s.prototype),(0,m.default)(s.prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,m.default)(s.prototype,"username",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"username"),s.prototype),(0,m.default)(s.prototype,"isMe",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"isMe"),s.prototype),(0,m.default)(s.prototype,"usersInfo",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,m.default)(s.prototype,"sign",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"sign"),s.prototype),(0,m.default)(s.prototype,"avatar",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),(0,m.default)(s.prototype,"bg",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,m.default)(s.prototype,"type",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"type"),s.prototype),(0,m.default)(s.prototype,"label",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"label"),s.prototype),(0,m.default)(s.prototype,"action",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"action"),s.prototype),(0,m.default)(s.prototype,"counts",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"counts"),s.prototype),(0,m.default)(s.prototype,"fixedHeight",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"fixedHeight"),s.prototype),(0,m.default)(s.prototype,"filter",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"filter"),s.prototype),(0,m.default)(s.prototype,"isSortByScore",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSortByScore"),s.prototype),(0,m.default)(s.prototype,"imageSource",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"imageSource"),s.prototype),(0,m.default)(s.prototype,"blurRadius",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"blurRadius"),s.prototype),(0,m.default)(s.prototype,"numColumns",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"numColumns"),s.prototype),s);function S(){var e;(0,n.default)(this,S);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=v.call.apply(v,[this].concat(t)),(0,u.default)((0,d.default)(e),"save",function(){return e.saveStorage(g.NAMESPACE,g.EXCLUDE_STATE)}),e}},"./src/screens/user/v2/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/v2/ds.ts"),r=(s.NAMESPACE="ScreenUser",s.EXCLUDE_STATE={visibleBottom:r._.window.height,isFocused:!0,showFilter:!1,fixed:!1,filter:"",fliterInputText:"",fetching:!1,loadedPage:[]});s.STATE=Object.assign({subjectType:t.DEFAULT_SUBJECT_TYPE,order:t.DEFAULT_ORDER,list:!0,showYear:!0,tag:"",page:2,ipt:"1"},r,{_loaded:!1})},"./src/screens/user/v2/store/fetch.ts":(e,s,t)=>{var l=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),j=t("./src/constants/index.ts"),_=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/computed.ts"));function x(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var b,g={};s.default=(t=r.default,(0,d.default)(h,t),b=x(h),(0,o.default)(h));function h(){var d;(0,i.default)(this,h);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return d=b.call.apply(b,[this].concat(s)),(0,m.default)((0,a.default)(d),"fetchUsersInfo",function(){return p.userStore.fetchUsersInfo(d.userId)}),(0,m.default)((0,a.default)(d),"fetchUsers",function(){return p.usersStore.fetchUsers({userId:d.userId})}),(0,m.default)((0,a.default)(d),"fetchCollections",function(){var e=d.state,s=e.subjectType,e=e.page;d.userCollections(s,j.MODEL_COLLECTION_STATUS.getValue(_.TABS[e].title))._loaded||d.fetchUserCollections(!0)}),(0,m.default)((0,a.default)(d),"fetchUserCollectionsNormal",(0,n.default)(l.mark(function e(){var s,t,r,n,o,i=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0<i.length&&void 0!==i[0]&&i[0],n=d.state,t=n.subjectType,r=n.order,n=n.tag,e.next=4,p.collectionStore.fetchUserCollections({subjectType:t,type:d.type,order:r,tag:n,userId:d.username},s);case 4:return o=e.sent,d.isMe||setTimeout(function(){p.collectionStore.fetchCollectionStatusQueue(o.list.filter(function(e){return e.collected}).map(function(e){return e.id}))},160),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"fetchUserCollectionsByScore",(0,n.default)(l.mark(function e(){var s,t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=d.state.subjectType,t=JSON.stringify([d.username,s,d.type]),g[t])return e.abrupt("return",!0);e.next=4;break;case 4:return(0,f.info)("正在获取所有收藏"),g[t]=!0,e.next=8,d.fetchUserCollectionsNormal(!0);case 8:n=e.sent,n=n.pagination,r=n.pageTotal,n=n.page;case 12:if(n<r)return e.next=15,d.fetchUserCollectionsNormal();e.next=18;break;case 15:n+=1,e.next=12;break;case 18:return(0,f.info)("正在获取所有评分, 实际排序会在之后呈现"),e.next=21,p.collectionStore.sortUserCollectionsByScore(d.username,s,d.type);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"fetchUserCollections",(0,n.default)(l.mark(function e(){var s,t=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=0<t.length&&void 0!==t[0]&&t[0],d.isSortByScore)return e.abrupt("return",d.fetchUserCollectionsByScore());e.next=3;break;case 3:return e.abrupt("return",d.fetchUserCollectionsNormal(s));case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"fetchUntilTheEnd",(t=(0,n.default)(l.mark(function e(s,t){var r,n,o,i=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<i.length&&void 0!==i[2]&&i[2],d.isTabActive(s,t)){e.next=3;break}return e.abrupt("return");case 3:if(o=d.state,n=o.subjectType,o=o.page,o=_.TABS[o].key,n=p.collectionStore.userCollections(d.username,n,o),(o=n.pagination).page>=o.pageTotal)return r&&(console.info("fetchUntilTheEnd end"),d.setState({fetching:!1})),e.abrupt("return");e.next=9;break;case 9:return d.setState({fetching:!0}),e.next=12,d.fetchUserCollections();case 12:return e.abrupt("return",d.fetchUntilTheEnd(s,t,!0));case 13:case"end":return e.stop()}},e)})),function(e,s){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(d),"fetchIsNeedToEnd",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s=d.state,t=s.showFilter,r=s.filter,n=s.subjectType,s=s.page;return t&&r?d.fetchUntilTheEnd(n,_.TABS[s].key):d.fetchUserCollections(e)}),(0,m.default)((0,a.default)(d),"fetchIsNeedRefreshToEnd",(0,n.default)(l.mark(function e(){var s,t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.state,s=n.showFilter,t=n.filter,r=n.subjectType,n=n.page,s&&t)return e.next=4,d.fetchUserCollections(!0);e.next=5;break;case 4:return e.abrupt("return",d.fetchUntilTheEnd(r,_.TABS[n].key));case 5:return e.abrupt("return",d.fetchUserCollections(!0));case 6:case"end":return e.stop()}},e)}))),d}},"./src/screens/user/v2/store/index.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/constants/index.ts"),r=r(t("./src/screens/user/v2/store/action.ts")),j=t("./src/screens/user/v2/store/ds.ts");function _(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var x;s.default=(t=r.default,(0,a.default)(b,t),x=_(b),(0,i.default)(b));function b(){var r;(0,d.default)(this,b);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=x.call.apply(x,[this].concat(s)),(0,m.default)((0,l.default)(r),"init",(0,o.default)(n.mark(function e(){var s,t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(j.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,(s=Object.assign({},s,j.EXCLUDE_STATE,{_loaded:!0})).loadedPage=[s.page],r.setState(s),e.next=11,r.fetchUsersInfo();case 11:return p.userStore.fetchUserCollectionsStatus(r.userId),s=r.state.order,"网站评分"!==f.MODEL_COLLECTIONS_ORDERBY.getLabel(s)&&(p.systemStore.setting.userPagination?(t=r.state.ipt,r.fetchUserCollectionsNormal(Number(t))):r.fetchUserCollections(!0)),r.fetchUsers(),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e)}))),r}},"./src/screens/user/v2/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/createClass.js"))),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./node_modules/mobx/dist/mobx.esm.js"),r=r(t("./src/utils/store/index.ts")),m=t("./src/screens/user/v2/store/ds.ts");function p(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}var f;s.default=(t=r.default,(0,d.default)(j,t),f=p(j),(0,n.default)(j));function j(){var e;(0,o.default)(this,j);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=f.call.apply(f,[this].concat(t)),(0,c.default)((0,i.default)(e),"params",void 0),(0,c.default)((0,i.default)(e),"state",(0,u.observable)(m.STATE)),e}},"./src/screens/user/zone/component/about/content/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/about/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Content")},"./src/screens/user/zone/component/about/content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/about/content/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=String(t.users.sign).replace(/<span style="font-size:0px; line-height:0px;">(.+?)<\/span>/g,"")||"(什么都没有)";return(0,l.jsx)(n.RenderHtml,{style:o._.mt.lg,html:s,onLinkPress:function(e){(0,i.appNavigate)(e,r,{},{id:"空间.跳转",data:{from:"关于TA",userId:t.userId}})}})},d.COMPONENT);try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/user/zone/component/about/content/index.tsx#content"})}catch(e){}},"./src/screens/user/zone/component/about/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"About")},"./src/screens/user/zone/component/about/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),i=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),l=t("./src/screens/user/zone/ds.ts"),a=r(t("./src/screens/user/zone/component/about/content/index.tsx")),r=t("./src/screens/user/zone/component/about/ds.ts"),c=t("./src/screens/user/zone/component/about/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=s.$,s=(0,c.memoStyles)(),r=e.onScroll;return(0,u.jsx)(n.default.ScrollView,Object.assign({ref:function(e){var s=l.TABS.findIndex(function(e){return"关于TA"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,d.SCROLL_VIEW_RESET_PROPS,{onScroll:d.STORYBOOK?void 0:n.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:r}),children:(0,u.jsx)(o.default,{style:s.page,children:(0,u.jsx)(a.default,{})})}))},r.COMPONENT);try{about.displayName="about",about.__docgenInfo={description:"",displayName:"about",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/index.tsx#about"]={docgenInfo:about.__docgenInfo,name:"about",path:"src/screens/user/zone/component/about/index.tsx#about"})}catch(e){}},"./src/screens/user/zone/component/about/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},nestScroll:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom}}})},"./src/screens/user/zone/component/bangumi-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"BangumiList")},"./src/screens/user/zone/component/bangumi-list/footer/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=r(t("./src/screens/user/zone/component/bangumi-list/lock/index.tsx")),a=r(t("./src/screens/user/zone/component/bangumi-list/u/index.tsx")),c=t("./src/screens/user/zone/component/bangumi-list/footer/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)(function(e,s){var t=s.$,r=s.navigation;return(s=t.users.ban)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.default,{text:s}),o.userStore.isDeveloper&&(0,u.jsx)(a.default,{username:t.usersInfo.username})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.Flex,{style:o._.mt.lg,justify:"center",children:(0,u.jsxs)(n.Touchable,{style:c.styles.touch,onPress:function(){(0,d.t)("空间.跳转",{to:"User"}),t.navigateToUser(r)},children:[(0,u.jsx)(n.Text,{type:o._.select("desc","main"),bold:!0,children:"查看TA的所有收藏"}),(0,u.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]})}),o.userStore.isDeveloper&&(0,u.jsx)(a.default,{username:t.usersInfo.username})]})});try{footer.displayName="footer",footer.__docgenInfo={description:"",displayName:"footer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"]={docgenInfo:footer.__docgenInfo,name:"footer",path:"src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/footer/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{paddingVertical:t._.sm,paddingHorizontal:t._.md,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/user/zone/component/bangumi-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/utils/index.ts"),j=t("./src/utils/decorators/index.ts"),_=t("./src/utils/dev/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/zone/ds.ts"),g=r(t("./src/screens/user/zone/component/bangumi-list/footer/index.tsx")),h=r(t("./src/screens/user/zone/component/bangumi-list/item/index.tsx")),y=r(t("./src/screens/user/zone/component/bangumi-list/section-header/index.tsx")),v=t("./src/screens/user/zone/component/bangumi-list/ds.ts"),S=t("./src/screens/user/zone/component/bangumi-list/styles.ts"),O=t("./node_modules/react/jsx-runtime.js");function T(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}r=u.default.Component,(0,d.default)(C,r),E=T(C),(0,o.default)(C,[{key:"sections",get:function(){return this.context.$.userCollections.list.map(function(e){return{title:e.status,count:e.count,data:[{list:e.list}]}})}},{key:"render",value:function(){(0,_.r)(v.COMPONENT);var e,s=this.context.$;return s.userCollections._loaded?(e=this.props.onScroll,(0,O.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:this.styles.contentContainerStyle,keyExtractor:f.keyExtractor,animated:!0,sections:this.sections,showFooter:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,ListFooterComponent:this.ListFooterComponent},this.props,{onScroll:x.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:e})}))):(0,O.jsx)(p.Loading,{style:this.styles.loading})}},{key:"styles",get:function(){return(0,S.memoStyles)()}}]);var E,t=C;function C(){var r;(0,n.default)(this,C);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=E.call.apply(E,[this].concat(s)),(0,c.default)((0,i.default)(r),"connectRef",function(e){var s=r.context.$,t=b.TABS.findIndex(function(e){return"番剧"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,i.default)(r),"renderSectionHeader",function(e){var e=e.section,s=e.title,e=e.count;return(0,O.jsx)(y.default,{title:s,count:e})}),(0,c.default)((0,i.default)(r),"renderItem",function(e){var s=e.item,e=e.section.title;return(0,O.jsx)(h.default,{item:s,title:e})}),(0,c.default)((0,i.default)(r),"ListFooterComponent",function(){return(0,O.jsx)(g.default,{})}),r}s.default=(0,j.obc)(t);try{bangumilist.displayName="bangumilist",bangumilist.__docgenInfo={description:"",displayName:"bangumilist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"]={docgenInfo:bangumilist.__docgenInfo,name:"bangumilist",path:"src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/screens/_/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js"),a={id:"空间.跳转"};s.default=(0,r.obc)(function(e,s){var t=e.item,e=e.title,r=s.$,n=s.navigation;return r.state.expand[e]?(0,l.jsxs)(o.Flex,{wrap:"wrap",align:"start",children:[t.list.filter(function(e,s){return s<15}).map(function(e){return(0,l.jsx)(i.ItemBangumiList,{navigation:n,subjectId:e.id,images:e.images,name:(0,d.cnjp)(e.name_cn,e.name),event:a},e.id)}),e.includes("在看")&&(0,l.jsx)(o.Heatmap,{id:"空间.跳转",to:"Subject",alias:"条目"})]}):null})},"./src/screens/user/zone/component/bangumi-list/lock/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/zone/component/bangumi-list/lock/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e){var e=e.text,s=(0,o.memoStyles)();return(0,i.jsxs)(n.Flex,{style:s.container,children:[(0,i.jsx)(n.Mesume,{index:2,size:60}),(0,i.jsx)(n.Flex.Item,{children:(0,i.jsx)(n.Text,{bold:!0,children:e})})]})});try{lock.displayName="lock",lock.__docgenInfo={description:"",displayName:"lock",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/lock/index.tsx#lock"]={docgenInfo:lock.__docgenInfo,name:"lock",path:"src/screens/user/zone/component/bangumi-list/lock/index.tsx#lock"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/lock/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingRight:r._.wind,paddingLeft:r._.xs,margin:r._.wind,marginTop:r._.md,borderWidth:1,borderColor:r._.colorMain,borderRadius:r._.radiusSm}}})},"./src/screens/user/zone/component/bangumi-list/section-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/component/bangumi-list/section-header/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.title,e=e.count,r=s.$,s=(0,a.memoStyles)(),n=r.state.expand;return(0,c.jsxs)(o.Touchable,{style:(0,l.stl)(s.section,"在看"===t&&d._.mt.sm),onPress:function(){return r.onToggleSection(t)},children:[(0,c.jsxs)(i.SectionHeader,{style:s.sectionHeader,type:"title",size:15,right:(0,c.jsx)(o.Iconfont,{style:s.arrow,name:n[t]?"md-keyboard-arrow-down":"md-keyboard-arrow-up"}),children:[t," ",(0,c.jsxs)(o.Text,{type:"sub",size:12,bold:!0,lineHeight:15,children:[e," "]})]}),"在看"===t&&(0,c.jsx)(o.Heatmap,{id:"空间.展开分组"})]})})},"./src/screens/user/zone/component/bangumi-list/section-header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{sectionHeader:{paddingHorizontal:r._._wind,backgroundColor:r._.colorPlain},section:{backgroundColor:r._.colorBg},arrow:{marginRight:-3}}})},"./src/screens/user/zone/component/bangumi-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{loading:{marginTop:r._.window.height/3},contentContainerStyle:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},nestScroll:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}})},"./src/screens/user/zone/component/bangumi-list/u/index.tsx":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),l=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=j(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),a=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/utils/hooks/index.ts"),p=t("./src/utils/kv/index.ts"),f=t("./node_modules/react/jsx-runtime.js");function j(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(j=function(e){return e?t:s})(e))}s.default=(0,r.obc)(function(e,s){var t=e.username,e=s.$,s=(0,l.useState)({}),r=(s=(0,d.default)(s,2))[0],n=s[1];return(0,m.useMount)((0,i.default)(o.mark(function e(){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.get)("u_"+t);case 2:"object"==typeof(s=e.sent)&&(s.ts&&(s.ts=(0,u.date)(s.ts)),n(s));case 4:case"end":return e.stop()}},e)}))),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Text,{style:[c._.mt.md,c._.ml.md],children:JSON.stringify({avatar:e.avatar,bg:e.bg},null,2)}),(0,f.jsx)(a.Text,{style:[c._.mt.md,c._.ml.md],children:JSON.stringify(r,null,2)})]})})},"./src/screens/user/zone/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/zone/component/head/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/component/head/avatar/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).avatar,r=r.username,n="string"==typeof s.src&&!s.src.includes("//lain.bgm.tv/pic/user/l/"),r=(0,d.getUserStatus)(r),o=l._.r(88);return(0,c.jsxs)(i.default,{children:[(0,c.jsx)(d.Image,{style:a.styles.avatar,src:s.src,size:o,radius:o/2,placeholder:!1,border:l._.__colorPlain__,borderWidth:2,fallback:n,fallbackSrc:null==t?void 0:t.large},String(s.src)),!!r&&(0,c.jsx)(i.default,{style:[a.styles.status,a.styles.online,a.styles["online"+r]]})]})});try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/avatar/index.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/screens/user/zone/component/head/avatar/index.tsx#avatar"})}catch(e){}},"./src/screens/user/zone/component/head/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{marginTop:14,backgroundColor:t._.__colorPlain__,overflow:"hidden"},status:{position:"absolute",zIndex:1,right:1,bottom:1,width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{borderWidth:2,borderColor:t._.__colorPlain__},onlineSuccess:{backgroundColor:"rgb(9, 241, 117)"},onlineWarning:{backgroundColor:t._.colorWarning}})},"./src/screens/user/zone/component/head/blogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=s.$,r=s.navigation;return(0,l.jsxs)(n.default,{style:e,children:[(0,l.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:t.userId,to:"Blogs"}),r.push("Blogs",{userId:t.userId})},children:(0,l.jsx)(o.Text,{type:i._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:"日志"})}),(0,l.jsx)(o.Heatmap,{right:-74,bottom:-8,id:"空间.跳转",to:"Blogs",alias:"日志"})]})})},"./src/screens/user/zone/component/head/catalogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=s.$,r=s.navigation;return(0,l.jsxs)(n.default,{style:e,children:[(0,l.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:t.userId,to:"Catalogs"}),r.push("Catalogs",{userId:t.userId})},children:(0,l.jsx)(o.Text,{type:i._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:"目录"})}),(0,l.jsx)(o.Heatmap,{right:-76,bottom:-8,id:"空间.跳转",to:"Catalogs",alias:"目录"})]})})},"./src/screens/user/zone/component/head/character/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=s.$,r=s.navigation;return(0,l.jsxs)(n.default,{style:e,children:[(0,l.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:t.userId,to:"Character"}),r.push("Character",{userName:t.userId})},children:(0,l.jsx)(o.Text,{type:i._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:"人物"})}),(0,l.jsx)(o.Heatmap,{right:-84,bottom:-8,id:"空间.跳转",to:"Character",alias:"人物"})]})})},"./src/screens/user/zone/component/head/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Head")},"./src/screens/user/zone/component/head/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/zone/component/head/avatar/index.tsx")),l=r(t("./src/screens/user/zone/component/head/blogs/index.tsx")),a=r(t("./src/screens/user/zone/component/head/catalogs/index.tsx")),c=r(t("./src/screens/user/zone/component/head/character/index.tsx")),u=r(t("./src/screens/user/zone/component/head/join/index.tsx")),m=r(t("./src/screens/user/zone/component/head/name/index.tsx")),p=r(t("./src/screens/user/zone/component/head/recent/index.tsx")),f=r(t("./src/screens/user/zone/component/head/sync/index.tsx")),r=t("./src/screens/user/zone/component/head/ds.ts"),j=t("./src/screens/user/zone/component/head/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)(function(e){var e=e.style,s=(0,j.memoStyles)();return(0,_.jsxs)(o.Flex,{style:e,direction:"column",children:[(0,_.jsxs)(n.default,{children:[(0,_.jsx)(d.default,{}),(0,_.jsx)(u.default,{style:s.l1}),(0,_.jsx)(f.default,{style:s.l2}),(0,_.jsx)(p.default,{style:s.l3}),(0,_.jsx)(c.default,{style:s.r1}),(0,_.jsx)(l.default,{style:s.r2}),(0,_.jsx)(a.default,{style:s.r3})]}),(0,_.jsx)(m.default,{})]})},r.COMPONENT);try{head.displayName="head",head.__docgenInfo={description:"",displayName:"head",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/index.tsx#head"]={docgenInfo:head.__docgenInfo,name:"head",path:"src/screens/user/zone/component/head/index.tsx#head"})}catch(e){}},"./src/screens/user/zone/component/head/join/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$.users.join,(0,i.jsx)(n.Text,{style:e,type:o._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:s||"- 加入"})})},"./src/screens/user/zone/component/head/name/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/component/head/name/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).params._id,r=s.state.originUid,n=(o=s.usersInfo).id,o=o.username,i=a._.select("plain","title"),n=n||t,t=!!o&&o!=n;return(0,u.jsxs)(d.default,{style:a._.mt.md,children:[(0,u.jsxs)(l.Flex,{children:[(0,u.jsx)(l.Text,{type:i,bold:!0,children:s.nickname}),!(!o&&!n)&&(0,u.jsxs)(l.Text,{style:a._.ml.xs,type:i,bold:!0,children:["@",!r&&o||n]})]}),(0,u.jsx)(l.Flex,{style:c.styles.icons,children:t&&(0,u.jsx)(l.Touchable,{style:c.styles.icon,onPress:s.toggleOriginUid,children:(0,u.jsx)(l.Iconfont,{name:"md-compare-arrows",size:17,color:a._.__colorPlain__})})})]})});try{name.displayName="name",name.__docgenInfo={description:"",displayName:"name",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/name/index.tsx#name"]={docgenInfo:name.__docgenInfo,name:"name",path:"src/screens/user/zone/component/head/name/index.tsx#name"})}catch(e){}},"./src/screens/user/zone/component/head/name/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({icons:{position:"absolute",zIndex:1,top:0,right:-54,width:48,height:18},icon:{paddingHorizontal:6,opacity:.92}})},"./src/screens/user/zone/component/head/recent/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,e=e.style,r=s.$,s="历史";return r.usersTimeline.list.length&&null!=(t=r.usersTimeline.list)&&null!=(t=t[0])&&t.time&&(s=String(null==(t=r.usersTimeline.list[0])||null==(t=t.time.split(" ·"))?void 0:t[0]).replace("·","")+"活跃"),(0,l.jsxs)(n.default,{style:e,children:[(0,l.jsx)(o.Touchable,{animate:!0,scale:.9,onPress:function(){(0,d.t)("空间.历史",{userId:r.userId}),r.openUsedModal()},children:(0,l.jsx)(o.Text,{type:i._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:s})}),(0,l.jsx)(o.Heatmap,{id:"空间.历史"})]})})},"./src/screens/user/zone/component/head/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;function r(e,s){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),right:o._.r(s-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}function n(e,s){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),left:o._.r(s-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}var o=t("./src/stores/index.ts");s.memoStyles=o._.memoStyles(function(){return{l1:r(16,100),l2:r(52,116),l3:r(88,100),r1:n(16,100),r2:n(52,116),r3:n(88,100)}})},"./src/screens/user/zone/component/head/sync/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$.users.percent,(0,i.jsxs)(n.Text,{style:e,type:o._.select("plain","title"),size:11,bold:!0,noWrap:!0,children:["同步率 ",isNaN(s)?"-":s,"%"]})})},"./src/screens/user/zone/component/heatmaps/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Heatmaps")},"./src/screens/user/zone/component/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/heatmaps/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height/1.6,id:"空间.标签页切换",transparent:!0}),(0,d.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height/1.6,id:"空间.标签页点击",transparent:!0}),(0,d.jsx)(n.Heatmap,{bottom:o._.bottom,id:"空间",screen:"Zone"})]})},i.COMPONENT)},"./src/screens/user/zone/component/list-header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ListHeader")},"./src/screens/user/zone/component/list-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/store.ts"),d=t("./src/screens/user/zone/component/list-header/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,l.jsx)(n.default,{style:{height:o._.parallaxImageHeight+i.H_TABBAR-16}})},d.COMPONENT)},"./src/screens/user/zone/component/menu/back/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/back/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.navigation,(0,l.jsx)(n.default,{style:[i._.header.left,d.styles.back],children:(0,l.jsx)(o.IconBack,{navigation:s,color:i._.__colorPlain__})})});try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/back/index.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/user/zone/component/menu/back/index.tsx#back"})}catch(e){}},"./src/screens/user/zone/component/menu/back/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({back:{zIndex:1,marginTop:t._.platforms(-8,-8,-8,0)}})},"./src/screens/user/zone/component/menu/friend/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/menu/friend/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return(s=s.$).users.disconnectUrl?(0,d.jsx)(n.Touchable,{style:i.styles.touch,onPress:s.logFriendStatus,children:(0,d.jsx)(n.Flex,{style:i.styles.icon,justify:"center",children:(0,d.jsx)(n.Iconfont,{name:"md-face",size:19,color:o._.__colorPlain__})})}):null});try{friend.displayName="friend",friend.__docgenInfo={description:"",displayName:"friend",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/friend/index.tsx#friend"]={docgenInfo:friend.__docgenInfo,name:"friend",path:"src/screens/user/zone/component/menu/friend/index.tsx#friend"})}catch(e){}},"./src/screens/user/zone/component/menu/friend/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/zone/component/menu/back/index.tsx")),l=r(t("./src/screens/user/zone/component/menu/friend/index.tsx")),a=r(t("./src/screens/user/zone/component/menu/member/index.tsx")),c=r(t("./src/screens/user/zone/component/menu/menu/index.tsx")),u=t("./src/screens/user/zone/component/menu/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)(function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.default,{}),(0,m.jsxs)(n.Flex,{style:[o._.header.right,u.styles.right],children:[(0,m.jsx)(l.default,{}),(0,m.jsx)(a.default,{}),(0,m.jsx)(c.default,{})]})]})})},"./src/screens/user/zone/component/menu/member/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/member/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return t.isAdvance?(0,l.jsx)(n.Touchable,{style:[d.styles.touch,o._.ml.xs],onPress:function(){return(0,i.info)("TA 也是高级会员"+(t.advanceDetail?" "+t.advanceDetail:""))},children:(0,l.jsx)(n.Flex,{style:d.styles.icon,justify:"center",children:(0,l.jsx)(n.Iconfont,{name:"md-attach-money",color:o._.__colorPlain__})})}):null});try{member.displayName="member",member.__docgenInfo={description:"",displayName:"member",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/member/index.tsx#member"]={docgenInfo:member.__docgenInfo,name:"member",path:"src/screens/user/zone/component/menu/member/index.tsx#member"})}catch(e){}},"./src/screens/user/zone/component/menu/member/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),c=t("./src/components/index.ts"),u=t("./src/screens/_/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/utils/fetch/index.ts"),j=t("./src/constants/index.ts"),_=t("./src/screens/user/zone/component/menu/menu/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=s.$,n=s.navigation,o=r.params._name,i=(s=r.usersInfo).nickname,d=s.id,l=s.username,s=["浏览器查看","复制链接","复制分享"];return j.STORYBOOK||s.push("发短信"),s.push("TA的收藏","TA的好友"),j.STORYBOOK||(r.users.connectUrl?s.push("加为好友"):r.users.disconnectUrl&&s.push("解除好友"),s.push("屏蔽用户")),(0,x.jsx)(a.default,{style:_.styles.touch,children:(0,x.jsxs)(u.Popover,{data:s,onSelect:function(e){(0,f.t)("空间.右上角菜单",{key:e,userId:r.userId});var s=j.HOST+"/user/"+l,t=(0,p.HTMLDecode)(i||o);switch(e){case"浏览器查看":(0,p.open)(s);break;case"复制链接":(0,p.copy)(s,"已复制链接");break;case"复制分享":(0,p.copy)("【链接】"+t+" | Bangumi番组计划\n"+s,"已复制分享文案");break;case"发短信":n.push("PM",{userId:d,userName:t});break;case"TA的收藏":r.navigateToUser(n);break;case"TA的好友":n.push("Friends",{userId:l||d});break;case"加为好友":r.doConnect();break;case"解除好友":(0,p.confirm)("确定解除好友?",function(){return r.doDisconnect()});break;case"屏蔽用户":(l||d)&&(0,p.confirm)("屏蔽来自 "+t+"@"+(l||d)+" 的包括条目评论、时间胶囊、超展开相关信息，确定?",function(){m.rakuenStore.addBlockUser(t+"@"+(l||d)),(0,p.info)("已屏蔽 "+t)})}},children:[(0,x.jsx)(c.Flex,{style:_.styles.icon,justify:"center",children:(0,x.jsx)(c.Iconfont,{name:"md-more-vert",color:m._.__colorPlain__})}),(0,x.jsx)(c.Heatmap,{id:"空间.右上角菜单"}),(0,x.jsx)(c.Heatmap,{right:62,id:"空间.添加好友",transparent:!0}),(0,x.jsx)(c.Heatmap,{right:113,id:"空间.解除好友",transparent:!0}),(0,x.jsx)(c.Heatmap,{right:170,id:"空间.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]},d||l)})});try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/zone/component/menu/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/zone/component/menu/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:t._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/parallax-image/back/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/parallax-image/back/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.navigation,(0,l.jsx)(n.default,{style:[i._.header.left,d.styles.back],children:(0,l.jsx)(o.IconBack,{navigation:s,color:i._.__colorPlain__})})});try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/back/index.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/user/zone/component/parallax-image/back/index.tsx#back"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/back/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({back:{zIndex:1,marginTop:t._.platforms(-8,-8,-8,0)}})},"./src/screens/user/zone/component/parallax-image/bg/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/parallax-image/bg/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,s=s.$,t=(0,i.memoStyles)(),r=s.usersInfo.avatar;return(0,d.jsx)(n.default.Image,{style:[t.parallaxImage,e],source:s.imageSource,blurRadius:(0,o.getBlurRadius)(s.imageSource.uri,s.bg,null==r?void 0:r.large)})})},"./src/screens/user/zone/component/parallax-image/bg/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8}}})},"./src/screens/user/zone/component/parallax-image/center/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store.ts"),a=r(t("./src/screens/user/zone/component/head/index.tsx")),c=t("./src/screens/user/zone/component/parallax-image/center/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var e=e.style,s=s.$,t=(0,c.memoStyles)();return(0,u.jsxs)(n.default.View,{style:[t.parallaxWrap,e],children:[(0,u.jsx)(n.default.View,{style:{opacity:s.scrollY.interpolate({inputRange:[-i._.parallaxImageHeight,0,i._.parallaxImageHeight-l.H_HEADER,i._.parallaxImageHeight],outputRange:[1,1,0,0]})},children:(0,u.jsx)(a.default,{style:t.head})}),(0,u.jsx)(o.default,{style:t.parallaxLine})]})})},"./src/screens/user/zone/component/parallax-image/center/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/zone/store.ts");s.memoStyles=r._.memoStyles(function(){return{parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:n.H_RADIUS_LINE,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},head:{marginTop:(r._.parallaxImageHeight-120)/2}}})},"./src/screens/user/zone/component/parallax-image/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ParallaxImage")},"./src/screens/user/zone/component/parallax-image/friend/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/parallax-image/friend/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return(s=s.$).users.disconnectUrl?(0,d.jsx)(n.Touchable,{style:i.styles.touch,onPress:s.logFriendStatus,children:(0,d.jsx)(n.Flex,{style:i.styles.icon,justify:"center",children:(0,d.jsx)(n.Iconfont,{name:"md-face",size:19,color:o._.__colorPlain__})})}):null});try{friend.displayName="friend",friend.__docgenInfo={description:"",displayName:"friend",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/friend/index.tsx#friend"]={docgenInfo:friend.__docgenInfo,name:"friend",path:"src/screens/user/zone/component/parallax-image/friend/index.tsx#friend"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/friend/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/parallax-image/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),i=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/store.ts"),u=t("./src/screens/user/zone/component/parallax-image/header/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=(s=s.$).params._name,r=(n=s.usersInfo).avatar,n=n.nickname;return(0,m.jsx)(o.default.View,{style:[u.styles.parallaxWrap,e,{opacity:s.scrollY.interpolate({inputRange:[-l._.parallaxImageHeight,0,l._.parallaxImageHeight-c.H_HEADER,l._.parallaxImageHeight],outputRange:[0,0,1,1]})}],children:(0,m.jsxs)(i.Flex,{style:u.styles.title,justify:"center",children:[(0,m.jsx)(d.Avatar,{style:u.styles.avatar,size:28,src:s.src,borderWidth:0,fallbackSrc:null==r?void 0:r.large}),(0,m.jsx)(i.Text,{style:l._.ml.sm,type:l._.select("plain","title"),align:"center",bold:!0,numberOfLines:1,children:(0,a.HTMLDecode)(n||t)})]})})})},"./src/screens/user/zone/component/parallax-image/header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/zone/store.ts");s.styles=r._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},title:{position:"absolute",left:"50%",width:240,bottom:t.H_RADIUS_LINE+14,transform:[{translateX:-120}]},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/component/parallax-image/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),a=t("./src/screens/user/zone/store.ts"),c=r(t("./src/screens/user/zone/component/parallax-image/back/index.tsx")),u=r(t("./src/screens/user/zone/component/parallax-image/bg/index.tsx")),m=r(t("./src/screens/user/zone/component/parallax-image/center/index.tsx")),p=r(t("./src/screens/user/zone/component/parallax-image/friend/index.tsx")),f=r(t("./src/screens/user/zone/component/parallax-image/header/index.tsx")),j=r(t("./src/screens/user/zone/component/parallax-image/mask/index.tsx")),_=r(t("./src/screens/user/zone/component/parallax-image/member/index.tsx")),x=r(t("./src/screens/user/zone/component/parallax-image/menu/index.tsx")),r=t("./src/screens/user/zone/component/parallax-image/ds.ts"),b=t("./src/screens/user/zone/component/parallax-image/styles.ts"),g=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var t=(s=s.$).state.fixed,r={transform:[{translateY:s.scrollY.interpolate({inputRange:[-i._.parallaxImageHeight,0,i._.parallaxImageHeight-a.H_HEADER,i._.parallaxImageHeight],outputRange:[i._.parallaxImageHeight/2,0,-(i._.parallaxImageHeight-a.H_HEADER),-(i._.parallaxImageHeight-a.H_HEADER)]})}]};return l.IOS&&r.transform.push({scale:s.scrollY.interpolate({inputRange:[-i._.parallaxImageHeight,0,i._.parallaxImageHeight],outputRange:[2,1,1]})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(n.default,{style:b.styles.parallax,pointerEvents:t?"none":void 0,children:[(0,g.jsx)(u.default,{style:r}),(0,g.jsx)(j.default,{style:r}),(0,g.jsx)(f.default,{style:r}),(0,g.jsx)(m.default,{style:r})]}),(0,g.jsx)(c.default,{}),(0,g.jsxs)(o.Flex,{style:[i._.header.right,b.styles.right],children:[(0,g.jsx)(p.default,{}),(0,g.jsx)(_.default,{}),(0,g.jsx)(x.default,{})]})]})},r.COMPONENT);try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/mask/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/store.ts"),d=t("./src/screens/user/zone/component/parallax-image/mask/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$,(0,l.jsx)(n.default.View,{style:[d.styles.parallaxWrap,e,{backgroundColor:"rgba(0, 0, 0, 0.24)",opacity:s.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight-i.H_HEADER,o._.parallaxImageHeight],outputRange:o._.select([0,.4,1,1],[.4,.8,1,1])})}]})})},"./src/screens/user/zone/component/parallax-image/mask/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0}})},"./src/screens/user/zone/component/parallax-image/member/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/parallax-image/member/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return t.isAdvance?(0,l.jsx)(n.Touchable,{style:[d.styles.touch,o._.ml.xs],onPress:function(){return(0,i.info)("TA 也是高级会员"+(t.advanceDetail?" "+t.advanceDetail:""))},children:(0,l.jsx)(n.Flex,{style:d.styles.icon,justify:"center",children:(0,l.jsx)(n.Iconfont,{name:"md-attach-money",color:o._.__colorPlain__})})}):null});try{member.displayName="member",member.__docgenInfo={description:"",displayName:"member",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/member/index.tsx#member"]={docgenInfo:member.__docgenInfo,name:"member",path:"src/screens/user/zone/component/parallax-image/member/index.tsx#member"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/member/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/parallax-image/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),c=t("./src/components/index.ts"),u=t("./src/screens/_/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/utils/fetch/index.ts"),j=t("./src/constants/index.ts"),_=t("./src/screens/user/zone/component/parallax-image/menu/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=s.$,n=s.navigation,o=r.params._name,i=(s=r.usersInfo).nickname,d=s.id,l=s.username,s=["浏览器查看","复制链接","复制分享"];return j.STORYBOOK||s.push("发短信"),s.push("TA的收藏","TA的好友"),j.STORYBOOK||(r.users.connectUrl?s.push("加为好友"):r.users.disconnectUrl&&s.push("解除好友"),s.push("屏蔽用户")),(0,x.jsx)(a.default,{style:_.styles.touch,children:(0,x.jsxs)(u.Popover,{data:s,onSelect:function(e){(0,f.t)("空间.右上角菜单",{key:e,userId:r.userId});var s=j.HOST+"/user/"+l,t=(0,p.HTMLDecode)(i||o);switch(e){case"浏览器查看":(0,p.open)(s);break;case"复制链接":(0,p.copy)(s,"已复制链接");break;case"复制分享":(0,p.copy)("【链接】"+t+" | Bangumi番组计划\n"+s,"已复制分享文案");break;case"发短信":n.push("PM",{userId:d,userName:t});break;case"TA的收藏":r.navigateToUser(n);break;case"TA的好友":n.push("Friends",{userId:l||d});break;case"加为好友":r.doConnect();break;case"解除好友":(0,p.confirm)("确定解除好友?",function(){return r.doDisconnect()});break;case"屏蔽用户":(l||d)&&(0,p.confirm)("屏蔽来自 "+t+"@"+(l||d)+" 的包括条目评论、时间胶囊、超展开相关信息，确定?",function(){m.rakuenStore.addBlockUser(t+"@"+(l||d)),(0,p.info)("已屏蔽 "+t)})}},children:[(0,x.jsx)(c.Flex,{style:_.styles.icon,justify:"center",children:(0,x.jsx)(c.Iconfont,{name:"md-more-vert",color:m._.__colorPlain__})}),(0,x.jsx)(c.Heatmap,{id:"空间.右上角菜单"}),(0,x.jsx)(c.Heatmap,{right:62,id:"空间.添加好友",transparent:!0}),(0,x.jsx)(c.Heatmap,{right:113,id:"空间.解除好友",transparent:!0}),(0,x.jsx)(c.Heatmap,{right:170,id:"空间.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]},d||l)})});try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/zone/component/parallax-image/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2}})},"./src/screens/user/zone/component/parallax-image/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:t._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/rakuen-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"RakuenList")},"./src/screens/user/zone/component/rakuen-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),x=t("./src/utils/decorators/index.ts"),b=t("./src/utils/dev/index.ts"),g=t("./src/constants/index.ts"),h=t("./src/screens/user/zone/ds.ts"),y=r(t("./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx")),v=t("./src/screens/user/zone/component/rakuen-list/utils.ts"),S=t("./src/screens/user/zone/component/rakuen-list/ds.ts"),O=t("./src/screens/user/zone/component/rakuen-list/styles.ts"),T=t("./node_modules/react/jsx-runtime.js");function E(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}r=u.default.Component,(0,d.default)(I,r),C=E(I),(0,o.default)(I,[{key:"render",value:function(){var e,s,t,r,n;return(0,b.r)(S.COMPONENT),g.SHARE_MODE?(0,T.jsx)(p.Loading,{style:O.styles.loading,children:(0,T.jsx)(p.Text,{style:j._.mt.md,children:"网页端不支持此功能"})}):(e=(t=this.context).$,s=t.navigation,t=e.state.timeout,r=this.props.onScroll,r=g.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:!0,listener:r}),e.userTopicsFormCDN._loaded?(n=0<(n=void 0===(n=e.userTopicsFormCDN._filter)?0:n)?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(p.Text,{style:j._.mt.md,type:"sub",align:"center",size:12,children:["还有",n,"条数据未显示"]}),(0,T.jsxs)(p.Text,{style:j._.mt.xs,type:"sub",align:"center",size:12,children:[(0,T.jsx)(p.Text,{type:"warning",size:12,onPress:function(){return(0,v.handleToQiafan)(s)},children:"高级会员"}),"显示所有"]})]}):void 0,(0,T.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:(0,_.stl)(O.styles.contentContainerStyle,!g.STORYBOOK&&j._.container.bottom),keyExtractor:P,data:e.userTopicsFormCDN,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,ListFooterComponent:n,onScroll:r,onFooterRefresh:e.fetchUsersTimeline},this.props))):(0,T.jsx)(p.ScrollView,{contentContainerStyle:O.styles.contentContainerStyle,animated:!0,onScroll:r,children:(0,T.jsx)(p.Loading,{style:O.styles.loading,children:t&&(0,T.jsx)(p.Text,{style:j._.mt.md,children:"查询超时，TA可能没有发过帖子"})})}))}}]);var C,t=I;function I(){var r;(0,n.default)(this,I);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=C.call.apply(C,[this].concat(s)),(0,c.default)((0,i.default)(r),"connectRef",function(e){var s=r.context.$,t=h.TABS.findIndex(function(e){return"超展开"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,i.default)(r),"renderSectionHeader",function(e){e=e.section.title;return(0,T.jsx)(f.SectionHeader,{size:14,children:e})}),(0,c.default)((0,i.default)(r),"renderItem",function(e){var s=e.item,e=e.index,t=r.context.navigation;return(0,T.jsx)(y.default,Object.assign({navigation:t,index:e},s,{children:!e&&(0,T.jsx)(p.Heatmap,{id:"空间.跳转",to:"Topic",alias:"帖子"})}))}),r}s.default=(0,x.obc)(t);function P(e){return String(e.id)}try{rakuenlist.displayName="rakuenlist",rakuenlist.__docgenInfo={description:"",displayName:"rakuenlist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"]={docgenInfo:rakuenlist.__docgenInfo,name:"rakuenlist",path:"src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"})}catch(e){}},"./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/rakuen-list/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"RakuenItem")},"./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),m=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),p=t("./src/utils/fetch/index.ts"),n=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts"),f=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.topicId,r=e.avatar,n=e.userName,o=e.title,i=e.group,d=e.date,l=e.time,a=e.userId,e=e.children,c=s.navigation,s=(0,f.memoStyles)();return(0,j.jsxs)(u.Flex,{style:s.container,align:"start",children:[(0,j.jsx)(u.Flex.Item,{children:(0,j.jsx)(u.Touchable,{style:s.item,animate:!0,onPress:function(){(0,p.t)("空间.跳转",{to:"Topic",from:"超展开",topicId:t}),c.push("Topic",{topicId:t,_title:o,_group:i,_time:d+" "+l,_avatar:r,_userName:n,_userId:a})},children:(0,j.jsx)(u.Flex,{align:"start",children:(0,j.jsxs)(u.Flex.Item,{children:[(0,j.jsx)(u.Text,{size:16,children:o}),(0,j.jsxs)(u.Text,{style:m._.mt.sm,type:"sub",size:12,children:[l," / ",i]})]})})})}),e]})},n.COMPONENT)},"./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind}}})},"./src/screens/user/zone/component/rakuen-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.lg},contentContainerStyle:{minHeight:t._.window.height+t._.parallaxImageHeight-t._.tabBarHeight},nestScroll:{paddingBottom:t._.bottom},nestScrollLoading:{marginTop:-320}})},"./src/screens/user/zone/component/rakuen-list/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.handleToQiafan=function(e){(0,r.t)("空间.跳转",{from:"高级会员",to:"Qiafan"}),e.push("Qiafan")};var r=t("./src/utils/fetch/index.ts")},"./src/screens/user/zone/component/stats/chart/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.reverse.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=(r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),l=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/component/stats/chart/utils.ts"),u=t("./src/screens/user/zone/component/stats/chart/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,r=(0,u.memoStyles)(),n=null==(s=(null==(s=s.users)?void 0:s.userStats)||{})?void 0:s.chart,o=Math.max.apply(Math,(0,i.default)(Object.keys(n||{}).map(function(e){return Number((null==n?void 0:n[e])||0)})));return(0,m.jsx)(l.Flex,{style:r.chart,children:Object.keys(n||{}).reverse().map(function(e,s){var t=(0,c.getHeight)(o,null==n?void 0:n[e]);return(0,m.jsxs)(l.Flex.Item,{style:0<s&&a._.ml.xs,children:[(0,m.jsxs)(l.Flex,{style:r.item,justify:"center",align:"end",children:[(0,m.jsx)(d.default,{style:[r.itemFill,{height:t}]}),(0,m.jsxs)(l.Text,{style:[r.count,{bottom:t}],size:11,type:"sub",align:"center",bold:!0,children:[null==n?void 0:n[e]," "]})]}),(0,m.jsx)(l.Text,{style:a._.mt.sm,size:12,bold:!0,type:"title",align:"center",children:e})]},e)})})});try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/chart/index.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/user/zone/component/stats/chart/index.tsx#chart"})}catch(e){}},"./src/screens/user/zone/component/stats/chart/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{chart:{paddingHorizontal:r._.sm,marginTop:56,marginHorizontal:-4},item:{height:r._.r(128),paddingBottom:r._.xs,marginTop:-r._.md},itemFill:{position:"absolute",left:"50%",width:16,marginLeft:-8,backgroundColor:r._.select(r._.colorWait,r._._colorSub),borderRadius:r._.radiusXs},count:{position:"absolute",zIndex:1,right:0,left:0,marginBottom:4}}})},"./src/screens/user/zone/component/stats/chart/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHeight=function(e,s){if(!e||!s)return 0;s=Number(s)/Number(e);0<s&&s<r&&(s=r);return 100*s+"%"};var r=.04},"./src/screens/user/zone/component/stats/counts/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/stats/counts/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(0,i.memoStyles)(),s=(null==(s=s.users)?void 0:s.userStats)||{};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockMain],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.total}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"收藏"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockSuccess],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.collect}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockPrimary],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.percent}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成率"})]})})]}),(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockWarning],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.avg}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"平均分"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockPurple],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.std}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"标准差"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockSky],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.scored}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"评分数"})]})})]})]})});try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/user/zone/component/stats/counts/index.tsx#counts"})}catch(e){}},"./src/screens/user/zone/component/stats/counts/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{block:{paddingVertical:8,paddingHorizontal:r._.sm,margin:r._.xs,borderRadius:r._.radiusMd,overflow:"hidden"},blockMain:{backgroundColor:r._.colorMain},blockSuccess:{backgroundColor:"#70B941"},blockPrimary:{backgroundColor:"#6BAAE8"},blockWarning:{backgroundColor:r._.colorWarning},blockPurple:{backgroundColor:"#9065ED"},blockSky:{backgroundColor:"#369CF8"}}})},"./src/screens/user/zone/component/stats/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Stats")},"./src/screens/user/zone/component/stats/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),i=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),d=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),a=t("./src/utils/fetch/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/zone/ds.ts"),m=r(t("./src/screens/user/zone/component/stats/chart/index.tsx")),p=r(t("./src/screens/user/zone/component/stats/counts/index.tsx")),r=t("./src/screens/user/zone/component/stats/ds.ts"),f=t("./src/screens/user/zone/component/stats/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=s.$,r=s.navigation,s=(0,f.memoStyles)(),n=e.onScroll;return(0,j.jsx)(o.default.ScrollView,Object.assign({ref:function(e){var s=u.TABS.findIndex(function(e){return"统计"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,c.SCROLL_VIEW_RESET_PROPS,{onScroll:c.STORYBOOK?void 0:o.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,j.jsxs)(i.default,{style:s.page,children:[(0,j.jsx)(p.default,{}),(0,j.jsx)(m.default,{}),(0,j.jsx)(d.Flex,{style:l._.mt.lg,justify:"center",children:(0,j.jsx)(d.Touchable,{style:s.touch,onPress:function(){var e=t.username||t.userId;(0,a.t)("空间.跳转",{userId:e,to:"UserTimeline"}),r.push("UserTimeline",{userId:e,userName:t.nickname})},children:(0,j.jsx)(d.Text,{type:"sub",bold:!0,children:"查看TA的时间线热力图"})})})]})}))},r.COMPONENT);try{stats.displayName="stats",stats.__docgenInfo={description:"",displayName:"stats",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/index.tsx#stats"]={docgenInfo:stats.__docgenInfo,name:"stats",path:"src/screens/user/zone/component/stats/index.tsx#stats"})}catch(e){}},"./src/screens/user/zone/component/stats/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+3*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"},nestScroll:{paddingTop:r._.md,paddingHorizontal:r._.wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}})},"./src/screens/user/zone/component/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tab")},"./src/screens/user/zone/component/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),j=t("./src/utils/decorators/index.ts"),_=t("./src/utils/dev/index.ts"),x=t("./src/screens/user/zone/store.ts"),b=r(t("./src/screens/user/zone/component/about/index.tsx")),g=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),h=r(t("./src/screens/user/zone/component/list-header/index.tsx")),y=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),v=r(t("./src/screens/user/zone/component/stats/index.tsx")),S=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),O=r(t("./src/screens/user/zone/component/tinygrail/index.tsx")),T=t("./src/screens/user/zone/component/tab/ds.ts"),E=t("./src/screens/user/zone/component/tab/styles.ts"),C=t("./node_modules/react/jsx-runtime.js");function I(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}r=u.default.Component,(0,d.default)(w,r),P=I(w),(0,o.default)(w,[{key:"navigationState",get:function(){var e=this.context.$;return{index:e.state.page,routes:e.tabs}}},{key:"transform",get:function(){return{transform:[{translateY:this.context.$.scrollY.interpolate({inputRange:[-f._.parallaxImageHeight,0,f._.parallaxImageHeight-x.H_HEADER,f._.parallaxImageHeight],outputRange:[2*f._.parallaxImageHeight,f._.parallaxImageHeight,x.H_HEADER,x.H_HEADER]})}]}}},{key:"render",value:function(){return(0,_.r)(T.COMPONENT),(0,C.jsx)(p.TabView,{lazy:!0,lazyPreloadDistance:0,navigationState:this.navigationState,renderTabBar:this.renderTabBar,renderScene:this.renderScene,onSwipeStart:this.props.onSwipeStart,onIndexChange:this.onIndexChange},f._.orientation)}},{key:"styles",get:function(){return(0,E.memoStyles)()}}]);var P,t=w;function w(){var t;(0,n.default)(this,w);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=P.call.apply(P,[this].concat(s)),(0,c.default)((0,i.default)(t),"onIndexChange",function(e){var s=t.context.$;(0,t.props.onIndexChange)(e),s.onTabChange(e)}),(0,c.default)((0,i.default)(t),"renderScene",(0,p.SceneMap)({bangumi:function(){return(0,C.jsx)(g.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},stats:function(){return(0,C.jsx)(v.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},timeline:function(){return(0,C.jsx)(S.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},rakuen:function(){return(0,C.jsx)(y.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},about:function(){return(0,C.jsx)(b.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},tinygrail:function(){return(0,C.jsx)(O.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})}})),(0,c.default)((0,i.default)(t),"renderLabel",function(e){var s=e.route,e=e.focused;return(0,C.jsx)(p.Flex,{style:t.styles.labelText,justify:"center",children:(0,C.jsx)(p.Text,{type:"title",size:13,bold:e,noWrap:!0,children:s.title})})}),(0,c.default)((0,i.default)(t),"renderTabBar",function(e){var s=t.context.$,s=f._.window.width/s.tabs.length;return(0,C.jsx)(m.default.View,{style:[t.styles.tabBarWrap,t.transform],children:(0,C.jsx)(p.TabBar,Object.assign({},e,{style:t.styles.tabBar,tabStyle:[t.styles.tab,{width:s}],labelStyle:t.styles.label,indicatorStyle:[t.styles.indicator,{marginLeft:(s-t.styles.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:t.renderLabel}))})}),t}s.default=(0,j.obc)(t);try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"Fn"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/user/zone/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/user/zone/component/tab/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n={tabBarWrap:{position:"absolute",zIndex:2,top:2-t("./src/screens/user/zone/store.ts").H_RADIUS_LINE,right:0,left:0},label:{padding:0},labelText:{width:"100%"},tabBarLeft:{position:"absolute",zIndex:3,left:0,marginTop:2}};s.memoStyles=r._.memoStyles(function(){return Object.assign({},n,{tabBar:{backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{height:r._.r(48)},indicator:{width:r._.r(16),height:4,backgroundColor:r._.colorMain,borderRadius:4}})})},"./src/screens/user/zone/component/timeline-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TimelineList"),s.EVENT={id:"空间.跳转",data:{from:"时间胶囊"}}},"./src/screens/user/zone/component/timeline-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),x=t("./src/utils/dev/index.ts"),b=t("./src/constants/index.ts"),g=t("./src/screens/user/zone/ds.ts"),h=t("./src/screens/user/zone/component/timeline-list/ds.ts"),y=t("./src/screens/user/zone/component/timeline-list/styles.ts"),v=t("./node_modules/react/jsx-runtime.js");function S(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}t=u.default.Component,(0,d.default)(T,t),O=S(T),(0,n.default)(T,[{key:"render",value:function(){(0,x.r)(h.COMPONENT);var e,s=this.context.$;return s.usersTimeline._loaded?(e=this.props.onScroll,(0,v.jsx)(f.TapListener,{children:(0,v.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:!b.STORYBOOK&&j._.container.bottom,keyExtractor:_.keyExtractor,data:s.usersTimeline,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,onFooterRefresh:function(){return s.fetchUsersTimeline()}},this.props,{onScroll:b.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:e})}))})):(0,v.jsx)(p.Loading,{style:y.styles.loading})}}]);var O,u=T;function T(){var n;(0,o.default)(this,T);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=O.call.apply(O,[this].concat(s)),(0,c.default)((0,i.default)(n),"connectRef",function(e){var s=n.context.$,t=g.TABS.findIndex(function(e){return"时间线"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,i.default)(n),"renderSectionHeader",function(e){e=e.section.title;return(0,v.jsx)(f.SectionHeader,{children:e})}),(0,c.default)((0,i.default)(n),"renderItem",function(e){var s=e.item,e=e.index,t=n.context,r=t.$,t=t.navigation;return(0,v.jsx)(f.ItemTimeline,Object.assign({navigation:t,index:e,event:h.EVENT},s,{full:!0,onDelete:r.doDelete}))}),n}s.default=(0,r.obc)(u);try{timelinelist.displayName="timelinelist",timelinelist.__docgenInfo={description:"",displayName:"timelinelist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"]={docgenInfo:timelinelist.__docgenInfo,name:"timelinelist",path:"src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"})}catch(e){}},"./src/screens/user/zone/component/timeline-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.window.height/3},nestScroll:{paddingBottom:t._.bottom},nestScrollLoading:{marginTop:160}})},"./src/screens/user/zone/component/tinygrail/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tinygrail")},"./src/screens/user/zone/component/tinygrail/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),c=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),u=t("./src/components/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/utils/fetch/index.ts"),j=t("./src/constants/index.ts"),_=t("./src/screens/user/zone/ds.ts"),n=t("./src/screens/user/zone/component/tinygrail/ds.ts"),x=t("./src/screens/user/zone/component/tinygrail/styles.ts"),b=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=(0,x.memoStyles)(),n=e.onScroll,o=(d=t.userAssets).assets,i=d.balance,d=d.lastIndex,l=t.usersInfo.nickname;return(0,b.jsx)(a.default.ScrollView,Object.assign({ref:function(e){var s=_.TABS_WITH_TINYGRAIL.findIndex(function(e){return"小圣杯"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,j.SCROLL_VIEW_RESET_PROPS,{onScroll:a.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,b.jsxs)(c.default,{style:s.page,children:[(0,b.jsxs)(u.Text,{style:m._.mt.lg,children:["总资产: ",(0,p.formatNumber)(o)," / ",(0,p.formatNumber)(i),0!==d&&" / #"+d]}),(0,b.jsxs)(u.Text,{style:m._.mt.sm,children:[t.templeTotal,"座圣殿"]}),(0,b.jsxs)(u.Text,{style:m._.mt.sm,children:[t.charaTotal,"个人物"]}),(0,b.jsx)(u.Flex,{style:m._.mt.lg,justify:"center",children:(0,b.jsxs)(u.Touchable,{style:s.touch,onPress:function(){(0,f.t)("空间.跳转",{userId:t.userId,to:"TinygrailCharaAssets"}),r.push("TinygrailCharaAssets",{userId:t.username,userName:(0,p.HTMLDecode)(l),from:"tinygrail"})},children:[(0,b.jsx)(u.Text,{type:m._.select("desc","main"),bold:!0,children:"查看TA的持仓"}),(0,b.jsx)(u.Heatmap,{id:"空间.跳转",to:"TinygrailCharaAssets",alias:"小圣杯持仓"})]})})]})}))},n.COMPONENT);try{tinygrail.displayName="tinygrail",tinygrail.__docgenInfo={description:"",displayName:"tinygrail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"]={docgenInfo:tinygrail.__docgenInfo,name:"tinygrail",path:"src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"})}catch(e){}},"./src/screens/user/zone/component/tinygrail/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/zone/component/used-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"UsedModal")},"./src/screens/user/zone/component/used-modal/index.tsx":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(t("./node_modules/react/index.js")),j=r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),_=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),x=t("./src/components/index.ts"),b=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),g=t("./src/utils/dev/index.ts"),h=t("./src/constants/index.ts"),y=t("./src/screens/user/zone/component/used-modal/ds.ts"),v=t("./src/screens/user/zone/component/used-modal/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function O(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}t=f.default.Component,(0,c.default)(E,t),T=O(E),(0,n.default)(E,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.visible&&!this.state.name._loaded&&(this.checkUsedName(),this.checkUserAvatar())}},{key:"renderAvatars",value:function(){var e=this.state.avatar;return(0,S.jsx)(j.default,Object.assign({contentContainerStyle:this.styles.avatars,horizontal:!0},h.SCROLL_VIEW_RESET_PROPS,{children:e.map(function(e,s){return(0,S.jsx)(x.Image,{style:b._.mr.sm,src:e,size:40,radius:20,placeholder:!1},s)})}))}},{key:"renderNames",value:function(){var t=this,e=this.state.name;return(0,S.jsx)(j.default,Object.assign({contentContainerStyle:this.styles.names},h.SCROLL_VIEW_RESET_PROPS,{children:e._loaded?e.list.length?e.list.map(function(e,s){return(0,S.jsxs)(x.Flex,{style:t.styles.item,align:"start",children:[(0,S.jsx)(x.Text,{style:t.styles.date,type:"sub",size:12,children:e.date}),(0,S.jsx)(x.Flex.Item,{style:b._.ml.sm,children:(0,S.jsx)(x.Text,{size:12,children:e.content})})]},s)}):(0,S.jsx)(x.Flex,{style:this.styles.empty,direction:"column",justify:"center",children:(0,S.jsx)(x.Text,{size:12,align:"center",children:"该用户没有修改过名字"})}):(0,S.jsx)(x.Loading,{})}))}},{key:"render",value:function(){(0,g.r)(y.COMPONENT);var e=this.context.$,s=this.props.visible;return(0,S.jsx)(x.Modal,{style:this.styles.modal,visible:s,title:"用户资料修改历史",onClose:e.closeUsedModal,children:(0,S.jsxs)(_.default,{style:this.styles.content,children:[this.renderAvatars(),this.renderNames()]})})}},{key:"styles",get:function(){return(0,v.memoStyles)()}}]);var T,f=E;function E(){var n;(0,l.default)(this,E);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=T.call.apply(T,[this].concat(s)),(0,p.default)((0,a.default)(n),"state",{name:{list:[],_loaded:0},avatar:[{uri:n.props.defaultAvatar}]}),(0,p.default)((0,a.default)(n),"checkUsedName",(0,d.default)(o.mark(function e(){var s,t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.context,s=s.$,s=s.usersInfo,t=s.id,s=s.username,t={userId:s=s||t,type:h.MODEL_TIMELINE_TYPE.getValue("吐槽")},e.next=6,b.timelineStore.fetchUsersTimeline(t,!0);case 6:return e.next=8,b.timelineStore.fetchUsersTimeline(t);case 8:return e.next=10,b.timelineStore.fetchUsersTimeline(t);case 10:n.setState({name:{list:b.timelineStore.usersTimeline(s).list.filter(function(e){return e.reply&&e.reply.content&&e.reply.content.includes("改名为")}).map(function(e){return{date:e.date,content:e.reply.content}}),_loaded:1}});case 11:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(n),"checkUserAvatar",(0,d.default)(o.mark(function e(){var s,t,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.context,r=r.$,r=r.usersInfo.avatar,r=(r||{}).medium,r=(r=-1===(r=String(r||"").split("?")[0]).indexOf("https:")&&-1===r.indexOf("http:")?"https:"+r:r).replace("http://","https://"),s=(0,h.hash)(r),t=s.slice(0,1).toLocaleLowerCase(),r=h.VERSIONS_AVATAR.map(function(e){return h.HOST_CDN+"/gh/czy0729/Bangumi-OSS@"+e+"/data/avatar/m/"+t+"/"+s+".jpg"}),n.setState({avatar:[n.props.defaultAvatar].concat((0,i.default)(r))});case 10:case"end":return e.stop()}},e)}))),n}(0,p.default)(f,"defaultProps",{title:"",visible:!1});s.default=(0,r.obc)(f);try{usedmodal.displayName="usedmodal",usedmodal.__docgenInfo={description:"",displayName:"usedmodal",props:{defaultAvatar:{defaultValue:null,description:"",name:"defaultAvatar",required:!1,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/used-modal/index.tsx#usedmodal"]={docgenInfo:usedmodal.__docgenInfo,name:"usedmodal",path:"src/screens/user/zone/component/used-modal/index.tsx#usedmodal"})}catch(e){}},"./src/screens/user/zone/component/used-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.width-2*r._.wind),maxWidth:r._.r(320),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},content:{paddingHorizontal:r._.sm},avatars:{minHeight:r._.r(40),paddingVertical:r._.sm,marginTop:r._.sm},names:{height:r._.r(240),paddingVertical:r._.sm},item:{paddingVertical:r._.sm},date:{width:r._.r(80)},empty:{height:"100%"}}})},"./src/screens/user/zone/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TABS_WITH_TINYGRAIL=s.TABS=s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=s.COMPONENT=void 0;t=t("./src/stores/users/init.ts"),s.COMPONENT="Zone",s.NAMESPACE="ScreenZone",t=s.EXCLUDE_STATE={visible:!1,timeout:!1,originUid:!1,fixed:!1,users:Object.assign({},t.INIT_USERS,{_loaded:!1})},s.STATE=Object.assign({expand:{"在看":!0,"看过":!1,"想看":!1,"搁置":!1,"抛弃":!1},page:0,recent:{}},t,{_loaded:!1}),t=s.TABS=[{title:"番剧",key:"bangumi"},{title:"统计",key:"stats"},{title:"时间线",key:"timeline"},{title:"超展开",key:"rakuen"},{title:"关于TA",key:"about"}];s.TABS_WITH_TINYGRAIL=[].concat(t,[{title:"小圣杯",key:"tinygrail"}])},"./src/screens/user/zone/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useZonePage=function(e){var s=e.$,t=(0,i.useIsFocused)();(0,i.useRunAfter)(function(){s.init()}),(0,r.useEffect)(function(){t||o.uiStore.closePopableSubject()},[t]),(0,i.useFocusEffect)(function(){setTimeout(function(){n.StatusBar.setBarStyle("light-content")},40)})};var r=t("./node_modules/react/index.js"),n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),i=t("./src/utils/hooks/index.ts")},"./src/screens/user/zone/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=t("./src/constants/index.ts"),i=t("./src/screens/user/zone/hooks.ts"),d=r(t("./src/screens/user/zone/nested-scroll/index.tsx")),l=r(t("./src/screens/user/zone/page/index.tsx")),r=r(t("./src/screens/user/zone/store.ts")),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.ic)(r.default,function(e,s){return(0,i.useZonePage)(s),o.IOS||o.STORYBOOK?(0,a.jsx)(l.default,{}):(0,a.jsx)(d.default,{})});try{zone.displayName="zone",zone.__docgenInfo={description:"",displayName:"zone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/index.tsx#zone"]={docgenInfo:zone.__docgenInfo,name:"zone",path:"src/screens/user/zone/index.tsx#zone"})}catch(e){}},"./src/screens/user/zone/nested-scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"NestedScroll")},"./src/screens/user/zone/nested-scroll/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./src/screens/user/zone/component/head/index.tsx"))),o=t("./node_modules/react/jsx-runtime.js");s.default=function(){return(0,o.jsx)(n.default,{})}},"./src/screens/user/zone/nested-scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/zone/component/about/index.tsx")),d=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),l=r(t("./src/screens/user/zone/component/menu/index.tsx")),a=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),c=r(t("./src/screens/user/zone/component/stats/index.tsx")),u=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),m=t("./src/screens/user/zone/ds.ts"),p=r(t("./src/screens/user/zone/nested-scroll/header-component/index.tsx")),f=r(t("./src/screens/user/zone/nested-scroll/tab-bar-label/index.tsx")),j=r(t("./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx")),r=t("./src/screens/user/zone/nested-scroll/ds.ts"),_=t("./src/screens/user/zone/nested-scroll/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){var s=s.$,t=(0,_.memoStyles)(),r=s.state.page;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.NestedScrollParallaxHeader,{tabStyle:t.tab,pages:m.TABS.map(function(e){return e.title}),initialPage:r,imageSource:s.imageSource,blurRadius:s.blurRadius,tabBarLocalKey:"Zone|NestedScroll",HeaderComponent:(0,x.jsx)(p.default,{}),TopNavbarComponent:(0,x.jsx)(j.default,{}),renderLabel:b,onIndexChange:s.onTabChange,children:[(0,x.jsx)(d.default,{}),(0,x.jsx)(c.default,{}),(0,x.jsx)(u.default,{}),(0,x.jsx)(a.default,{}),(0,x.jsx)(i.default,{})]}),(0,x.jsx)(l.default,{})]})},r.COMPONENT);function b(e){var s=e.style,e=e.title;return(0,x.jsx)(f.default,{style:s,title:e})}try{nestedscroll.displayName="nestedscroll",nestedscroll.__docgenInfo={description:"",displayName:"nestedscroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"]={docgenInfo:nestedscroll.__docgenInfo,name:"nestedscroll",path:"src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"})}catch(e){}},"./src/screens/user/zone/nested-scroll/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{tab:{flex:1,width:r._.window.contentWidth/5}}})},"./src/screens/user/zone/nested-scroll/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLabel")},"./src/screens/user/zone/nested-scroll/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/zone/nested-scroll/tab-bar-label/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s=e.style,e=e.title;return(0,i.jsx)(n.Text,{style:s,type:"title",size:13,noWrap:!0,children:e})},o.COMPONENT);try{tabbarlabel.displayName="tabbarlabel",tabbarlabel.__docgenInfo={description:"",displayName:"tabbarlabel",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/tab-bar-label/index.tsx#tabbarlabel"]={docgenInfo:tabbarlabel.__docgenInfo,name:"tabbarlabel",path:"src/screens/user/zone/nested-scroll/tab-bar-label/index.tsx#tabbarlabel"})}catch(e){}},"./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TopNavbarComponent")},"./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts"),l=t("./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).avatar,r=r.nickname;return(0,a.jsxs)(n.Flex,{style:l.styles.topNavbar,justify:"center",children:[(0,a.jsx)(n.Avatar,{style:l.styles.avatar,size:28,src:s.src,fallbackSrc:t.large,borderWidth:0},String(s.src)),(0,a.jsx)(n.Text,{style:o._.ml.sm,type:o._.select("plain","title"),align:"center",bold:!0,numberOfLines:1,children:(0,i.HTMLDecode)(r)})]})},d.COMPONENT);try{topnavbarcomponent.displayName="topnavbarcomponent",topnavbarcomponent.__docgenInfo={description:"",displayName:"topnavbarcomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"]={docgenInfo:topnavbarcomponent.__docgenInfo,name:"topnavbarcomponent",path:"src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"})}catch(e){}},"./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({topNavbar:{marginTop:-8},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/page/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),j=t("./src/utils/decorators/index.ts"),_=r(t("./src/screens/user/zone/component/heatmaps/index.tsx")),x=r(t("./src/screens/user/zone/component/parallax-image/index.tsx")),b=r(t("./src/screens/user/zone/component/tab/index.tsx")),g=r(t("./src/screens/user/zone/component/used-modal/index.tsx")),h=t("./node_modules/react/jsx-runtime.js");function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,l.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),v=y(S),(0,o.default)(S,[{key:"render",value:function(){var e,s=this.context.$;return s.state._loaded?(e=s.state.visible,(0,h.jsxs)(p.Component,{id:"screen-zone",style:f._.container.plain,children:[(0,h.jsx)(b.default,{scrollEventThrottle:4,onScroll:this.onScroll,onSwipeStart:this.onSwipeStart,onIndexChange:this.onIndexChange}),(0,h.jsx)(x.default,{}),(0,h.jsx)(g.default,{visible:e,defaultAvatar:s.src}),(0,h.jsx)(p.Track,{title:"空间",hm:["user/"+s.params.userId+"?route=zone","Zone"]}),(0,h.jsx)(_.default,{})]})):(0,h.jsx)(m.default,{style:f._.container.plain})}}]);var v,t=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"onSwipeStart",function(){s.context.$.updatePageOffset()}),(0,c.default)((0,i.default)(s),"onIndexChange",function(){setTimeout(function(){s.context.$.updatePageOffset([0])},0)}),(0,c.default)((0,i.default)(s),"onScroll",function(e){s.context.$.onScroll(e),f.uiStore.closePopableSubject(),f.uiStore.closeLikesGrid()}),s}s.default=(0,j.obc)(t);try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/page/index.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/zone/page/index.tsx#page"})}catch(e){}},"./src/screens/user/zone/store.ts":(e,s,t)=>{var l=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"H_HEADER",{enumerable:!0,get:function(){return T.H_HEADER}}),Object.defineProperty(s,"H_RADIUS_LINE",{enumerable:!0,get:function(){return T.H_RADIUS_LINE}}),Object.defineProperty(s,"H_TABBAR",{enumerable:!0,get:function(){return T.H_TABBAR}}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),i=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),_=t("./node_modules/mobx/dist/mobx.esm.js"),x=t("./src/screens/_/base/avatar/utils.ts"),b=t("./src/stores/index.ts"),g=t("./src/utils/index.ts"),h=t("./src/utils/fetch/index.ts"),y=t("./src/utils/kv/index.ts"),r=r(t("./src/utils/store/index.ts")),v=t("./src/utils/user-setting/index.ts"),S=t("./src/utils/webhooks/index.ts"),O=t("./src/constants/index.ts"),T=t("./src/screens/user/v2/ds.ts"),E=t("./src/screens/user/zone/ds.ts"),C=["ts"];function I(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var P;s.default=(t=r.default,(0,d.default)(w,t),P=I(w),(0,n.default)(w,[{key:"tabs",get:function(){return b.systemStore.setting.tinygrail?E.TABS_WITH_TINYGRAIL:E.TABS}},{key:"fromTinygrail",get:function(){return"tinygrail"===this.params.from}},{key:"userId",get:function(){var e;return(null==(e=this.params)?void 0:e.userId)||""}},{key:"usersInfo",get:function(){return b.userStore.usersInfo(this.userId)}},{key:"username",get:function(){return this.usersInfo.username}},{key:"userCollections",get:function(){return b.userStore.userCollections(void 0,this.userId)}},{key:"usersTimeline",get:function(){return b.timelineStore.usersTimeline(this.userId)}},{key:"userTopicsFormCDN",get:function(){var e=b.systemStore.advance,s=this.usersInfo,t=s.id,s=s.username,s=b.rakuenStore.userTopicsFormCDN(s||t);return e?s:(t=s.list.filter(function(e,s){return s<8}),Object.assign({},s,{list:t,_filter:s.list.length-8}))}},{key:"users",get:function(){var e=b.usersStore.users(this.userId);return e._loaded?e:this.state.users}},{key:"recent",get:function(){var e=this.usersInfo.username;return e&&this.state.recent[e]||!1}},{key:"bg",get:function(){var e;return this.recent?(e=(void 0===(e=this.users.sign)?"":e).match(/\[bg\](.+?)\[\/bg\]/),(0,v.fixedRemote)((0,g.HTMLDecode)(e?String(e[1]).trim():""))):""}},{key:"avatar",get:function(){var e;return this.recent?(e=(e=(void 0===(e=this.users.sign)?"":e).match(/\[avatar\](.+?)\[\/avatar\]/))?String(e[1]).trim():"",(0,v.fixedRemote)((0,g.HTMLDecode)(e),!0)):""}},{key:"src",get:function(){var e=this.params._image,s=this.usersInfo.avatar;return(0,x.getCDNAvatar)((0,x.fixedHD)(this.avatar||e||(null==s?void 0:s.large)),"bgm_poster_200")}},{key:"imageSource",get:function(){var e=this.params._image,s=this.usersInfo.avatar,s={uri:null==s?void 0:s.large};return O.TEXT_ONLY?s=O.IMG_EMPTY_DARK:("string"==typeof e&&(0===(null==e?void 0:e.indexOf("http"))?s.uri=e:s.uri="https:"+e),s.uri=(0,x.fixedHD)(this.bg||this.avatar||s.uri),"string"==typeof s.uri&&(s.uri=s.uri.replace("http://","https://"))),s}},{key:"blurRadius",get:function(){var e;return(0,g.getBlurRadius)(this.imageSource.uri,this.bg,null==(e=this.usersInfo.avatar)?void 0:e.large)}},{key:"nickname",get:function(){var e=this.usersInfo.nickname;return(0,g.HTMLDecode)(e||this.params._name)}},{key:"userAssets",get:function(){return b.tinygrailStore.userAssets(this.username)}},{key:"templeTotal",get:function(){return b.tinygrailStore.templeTotal(this.username)}},{key:"charaTotal",get:function(){return b.tinygrailStore.charaTotal(this.username)}},{key:"h_fixed",get:function(){return b._.parallaxImageHeight-T.H_HEADER}},{key:"advanceDetail",get:function(){return b.userStore.isDeveloper?b.systemStore.advanceDetail[this.userId||this.username]:""}},{key:"isAdvance",get:function(){return b.systemStore.isAdvance(this.userId,this.username)}}]),(0,f.default)((s=w).prototype,"tabs",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"tabs"),s.prototype),(0,f.default)(s.prototype,"fromTinygrail",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"fromTinygrail"),s.prototype),(0,f.default)(s.prototype,"userId",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,f.default)(s.prototype,"usersInfo",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,f.default)(s.prototype,"username",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"username"),s.prototype),(0,f.default)(s.prototype,"userCollections",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"userCollections"),s.prototype),(0,f.default)(s.prototype,"usersTimeline",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersTimeline"),s.prototype),(0,f.default)(s.prototype,"userTopicsFormCDN",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"userTopicsFormCDN"),s.prototype),(0,f.default)(s.prototype,"users",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,f.default)(s.prototype,"recent",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"recent"),s.prototype),(0,f.default)(s.prototype,"bg",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,f.default)(s.prototype,"avatar",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),(0,f.default)(s.prototype,"src",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"src"),s.prototype),(0,f.default)(s.prototype,"imageSource",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"imageSource"),s.prototype),(0,f.default)(s.prototype,"blurRadius",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"blurRadius"),s.prototype),(0,f.default)(s.prototype,"nickname",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"nickname"),s.prototype),(0,f.default)(s.prototype,"userAssets",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"userAssets"),s.prototype),(0,f.default)(s.prototype,"templeTotal",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"templeTotal"),s.prototype),(0,f.default)(s.prototype,"charaTotal",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"charaTotal"),s.prototype),(0,f.default)(s.prototype,"h_fixed",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"h_fixed"),s.prototype),(0,f.default)(s.prototype,"advanceDetail",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"advanceDetail"),s.prototype),(0,f.default)(s.prototype,"isAdvance",[_.computed],Object.getOwnPropertyDescriptor(s.prototype,"isAdvance"),s.prototype),s);function w(){var d;(0,a.default)(this,w);for(var s,t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d=P.call.apply(P,[this].concat(r)),(0,p.default)((0,c.default)(d),"params",void 0),(0,p.default)((0,c.default)(d),"state",(0,_.observable)(E.STATE)),(0,p.default)((0,c.default)(d),"scrollY",new j.default.Value(0)),(0,p.default)((0,c.default)(d),"y",0),(0,p.default)((0,c.default)(d),"init",(0,i.default)(l.mark(function e(){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getStorage(E.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,d.setState(Object.assign({},s,{page:d.fromTinygrail?E.TABS_WITH_TINYGRAIL.findIndex(function(e){return"tinygrail"===e.key}):0},E.EXCLUDE_STATE,{_loaded:!0})),(0,g.queue)([function(){return d.fetchUsersFromOSS()},function(){return d.fetchUsers()},function(){return!d.fromTinygrail||d.fetchCharaAssets()},function(){return!d.fromTinygrail||d.fetchTempleTotal()},function(){return!d.fromTinygrail||d.fetchCharaTotal()},function(){return!!d.fromTinygrail||d.fetchUserCollections()},function(){return d.fetchUsersTimeline(!0)},function(){return!!O.STORYBOOK||d.fetchRecent()}],1),e.abrupt("return",d.fetchUsersInfo());case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"save",function(){return d.saveStorage(E.NAMESPACE,E.EXCLUDE_STATE)}),(0,p.default)((0,c.default)(d),"fetchUsersInfo",function(){return b.userStore.fetchUsersInfo(d.userId)}),(0,p.default)((0,c.default)(d),"fetchUsersFromOSS",(0,i.default)(l.mark(function e(){var s,t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.users._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,y.get)("zone_"+d.userId);case 5:if(s=e.sent){e.next=9;break}return d.updateThirdParty(),e.abrupt("return");case 9:t=s.ts,r=(0,o.default)(s,C),n=(0,g.getTimestamp)(),"object"!=typeof r||Array.isArray(r)||d.setState({users:Object.assign({},r,{_loaded:n})}),604800<=n-t&&d.updateThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,p.default)((0,c.default)(d),"fetchUsers",function(){return b.usersStore.fetchUsers({userId:d.userId})}),(0,p.default)((0,c.default)(d),"fetchUserCollections",function(){return b.userStore.fetchUserCollections(void 0,d.userId)}),(0,p.default)((0,c.default)(d),"fetchUsersTimeline",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e&&(0,g.opitimize)(d.usersTimeline,60)?d.usersTimeline:b.timelineStore.fetchUsersTimeline({userId:d.userId},e)}),(0,p.default)((0,c.default)(d),"fetchUserTopicsFormCDN",function(){var e,s;return!O.SHARE_MODE&&(e=(s=d.usersInfo).id,s=s.username,b.rakuenStore.fetchUserTopicsFormCDN(s||e))}),(0,p.default)((0,c.default)(d),"fetchCharaAssets",function(){return b.tinygrailStore.fetchUserAssets(d.username)}),(0,p.default)((0,c.default)(d),"fetchTempleTotal",function(){return b.tinygrailStore.fetchTempleTotal(d.username)}),(0,p.default)((0,c.default)(d),"fetchCharaTotal",function(){return b.tinygrailStore.fetchCharaTotal(d.username)}),(0,p.default)((0,c.default)(d),"fetchRecent",(0,i.default)(l.mark(function e(){var s,t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=d.usersInfo.username){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,y.get)("u_"+s);case 5:t=e.sent,d.setState({recent:(0,p.default)({},s,!(null==t||!t.ts)&&(0,g.getTimestamp)()-Number(t.ts||0)<=108e3)}),d.save();case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"scrollToOffset",{}),(0,p.default)((0,c.default)(d),"scrollTo",{}),(0,p.default)((0,c.default)(d),"connectRef",function(e,s){d.scrollToOffset[s]=null==e?void 0:e.scrollToOffset,d.scrollTo[s]=(null==e?void 0:e.scrollResponderScrollTo)||(null==e?void 0:e.scrollTo)}),(0,p.default)((0,c.default)(d),"updatePageOffset",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[-1,1],s=d.state,t=s.page,r=s.fixed?d.h_fixed:d.y;e.forEach(function(e){var s=d.scrollToOffset[t+e];"function"==typeof s?s({offset:r,animated:!1}):"function"==typeof(s=d.scrollTo[t+e])&&s({y:r,animated:!1})})}),(0,p.default)((0,c.default)(d),"onScroll",function(e){var s=d.state.fixed,e=e.nativeEvent.contentOffset.y,t=(d.y=e,d.h_fixed-20);s&&e<t?d.setState({fixed:!1}):!s&&t<=e&&d.setState({fixed:!0})}),(0,p.default)((0,c.default)(d),"onTabChange",function(e){(0,h.t)("空间.标签页切换",{userId:d.userId,page:e}),d.setState({page:e}),d.onTabChangeCallback(e)}),(0,p.default)((0,c.default)(d),"onTabChangeCallback",(s=(0,i.default)(l.mark(function e(s){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("时间线"===(t=d.tabs[s].title))return e.next=4,d.fetchUsersTimeline(!0);e.next=6;break;case 4:e.next=24;break;case 6:if("超展开"===t)return d.checkUserTopicsIsTimeout(),e.next=10,d.fetchUserTopicsFormCDN();e.next=12;break;case 10:e.next=24;break;case 12:if("番剧"===t&&d.fromTinygrail)return e.next=15,d.fetchUserCollections();e.next=17;break;case 15:e.next=24;break;case 17:if("小圣杯"!==t||d.fromTinygrail){e.next=24;break}return e.next=20,d.fetchCharaAssets();case 20:return e.next=22,d.fetchTempleTotal();case 22:return e.next=24,d.fetchCharaTotal();case 24:setTimeout(function(){return d.updatePageOffset([0])},0);case 25:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,p.default)((0,c.default)(d),"checkUserTopicsIsTimeout",function(){setTimeout(function(){0===d.userTopicsFormCDN.list.length&&d.setState({timeout:!0})},3600)}),(0,p.default)((0,c.default)(d),"onToggleSection",function(e){var s=d.state.expand;(0,h.t)("空间.展开分组",{userId:d.userId,title:e,expand:!s[e]}),d.setState({expand:Object.assign({},s,(0,p.default)({},e,!s[e]))}),d.save()}),(0,p.default)((0,c.default)(d),"navigateToUser",function(e){var s=d.params._name,t=d.usersInfo,r=t.avatar,n=t.nickname,t=t.username;e.push("User",{userId:t,_name:(0,g.HTMLDecode)(n||s),_image:null==r?void 0:r.large})}),(0,p.default)((0,c.default)(d),"openUsedModal",function(){d.setState({visible:!0})}),(0,p.default)((0,c.default)(d),"closeUsedModal",function(){d.setState({visible:!1})}),(0,p.default)((0,c.default)(d),"toggleOriginUid",function(){var e=d.state.originUid;d.setState({originUid:!e})}),(0,p.default)((0,c.default)(d),"logFriendStatus",(0,i.default)(l.mark(function e(){var s,t,r,n,o,i;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.usersInfo.username,t={scope:O.MODEL_TIMELINE_SCOPE.getValue("自己"),type:O.MODEL_TIMELINE_TYPE.getValue("好友")},r=(0,g.loading)("查询好友信息中..."),e.next=5,b.timelineStore.fetchTimeline(t,!0);case 5:if(n=e.sent,o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+s)})){e.next=15;break}return e.next=10,b.timelineStore.fetchTimeline(t);case 10:return e.next=12,b.timelineStore.fetchTimeline(t);case 12:return e.next=14,b.timelineStore.fetchTimeline(t);case 14:n=e.sent;case 15:if(o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+s)}),r(),o){e.next=19;break}return e.abrupt("return",(0,g.info)("是你的好友"));case 19:return i=o.time,e.abrupt("return",(0,g.info)(i.split(" · ")[0]+"加为了好友"));case 21:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"doConnect",(0,i.default)(l.mark(function e(){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.t)("空间.添加好友",{userId:d.userId}),s=d.users.connectUrl)return e.next=5,(0,h.fetchHTML)({url:""+O.HOST+s});e.next=9;break;case 5:(0,g.feedback)(),(0,g.info)("已添加好友"),d.fetchUsers(),(0,S.webhookFriend)(d.usersInfo,b.userStore.userInfo);case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"doDisconnect",(0,i.default)(l.mark(function e(){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.t)("空间.解除好友",{userId:d.userId}),s=d.users.disconnectUrl)return e.next=5,(0,h.fetchHTML)({url:""+O.HOST+s});e.next=8;break;case 5:(0,g.feedback)(),(0,g.info)("已解除好友"),d.fetchUsers();case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"doDelete",(t=(0,i.default)(l.mark(function e(s){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",!1);case 2:return t=(0,h.fetchHTML)({method:"POST",url:s}),e.next=5,t;case 5:return(0,g.feedback)(),d.fetchUsersTimeline(!0),e.abrupt("return",t);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,c.default)(d),"updateThirdParty",function(){setTimeout(function(){if(!d.userId||!d.users._loaded)return!1;(0,y.update)("zone_"+d.userId,Object.assign({},(0,g.omit)(d.users,["recent","connectUrl","disconnectUrl","formhash","_loaded"])))},1e4)}),d}},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/user/smb/header/index.scss":(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var s=t("./node_modules/css-loader/dist/runtime/sourceMaps.js"),s=t.n(s),r=t("./node_modules/css-loader/dist/runtime/api.js"),t=t.n(r)()(s());t.push([e.id,`screen-smb component-header>div:first-child{background-color:rgba(0,0,0,0.84) !important}screen-smb component-tool-bar component-popover>div>div{background-color:rgba(255,255,255,0.16) !important}
`,"",{version:3,sources:["webpack://./src/screens/user/smb/header/index.scss"],names:[],mappings:"AAMA,4CAGM,4CAAgD,CAHtD,wDAQM,kDAAsD",sourcesContent:["/*\n * @Author: czy0729\n * @Date: 2023-11-24 10:29:20\n * @Last Modified by: czy0729\n * @Last Modified time: 2023-11-24 11:13:13\n */\nscreen-smb {\n  component-header {\n    & > div:first-child {\n      background-color: rgba(0, 0, 0, 0.84) !important;\n    }\n  }\n  component-tool-bar {\n    component-popover > div > div {\n      background-color: rgba(255, 255, 255, 0.16) !important;\n    }\n  }\n}\n"],sourceRoot:""}]);const n=t},"./src/screens/user/smb/header/index.scss":(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var s=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=t.n(s),r=t("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),r=t.n(r),n=t("./node_modules/style-loader/dist/runtime/insertBySelector.js"),n=t.n(n),o=t("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),o=t.n(o),i=t("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),i=t.n(i),d=t("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),d=t.n(d),t=t("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/user/smb/header/index.scss"),l={};l.styleTagTransform=d(),l.setAttributes=o(),l.insert=n().bind(null,"head"),l.domAPI=r(),l.insertStyleElement=i(),s()(t.Z,l);const a=t.Z&&t.Z.locals?t.Z.locals:void 0}}]);