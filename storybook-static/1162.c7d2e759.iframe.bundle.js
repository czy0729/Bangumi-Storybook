(self.webpackChunkweb=self.webpackChunkweb||[]).push([[1162],{"./src/screens/tinygrail/trade/bar/btn-change.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=r("./src/components/index.ts"),n=r("./src/utils/decorators/index.ts"),i=r("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)((function(e,t){var r=e.value,o=e.text,n=t.$,a=n.state.distance;return(0,i.jsx)(s.Text,{type:a===r?"warning":"tinygrailText",size:13,onPress:function(){return n.changeDistance(r)},children:o})}))},"./src/screens/tinygrail/trade/bar/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=r("./src/components/index.ts"),n=r("./src/utils/decorators/index.ts"),i=r("./src/screens/tinygrail/trade/store.ts"),a=o(r("./src/screens/tinygrail/trade/bar/btn-change.tsx")),l=r("./src/screens/tinygrail/trade/bar/styles.ts"),d=r("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)((function(){var e=(0,l.memoStyles)();return(0,d.jsxs)(s.Flex,{style:e.bar,justify:"around",children:[(0,d.jsx)(a.default,{value:i.m15,text:"15分钟"}),(0,d.jsx)(a.default,{value:i.h1,text:"1小时"}),(0,d.jsx)(a.default,{value:i.h4,text:"4小时"}),(0,d.jsx)(a.default,{value:i.h12,text:"12小时"}),(0,d.jsx)(a.default,{value:i.d1,text:"1日"}),(0,d.jsx)(a.default,{value:i.w1,text:"1周"}),(0,d.jsx)(a.default,{value:i.month1,text:"1月"})]})}))},"./src/screens/tinygrail/trade/bar/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts");t.memoStyles=o._.memoStyles((function(){return{bar:{paddingVertical:o._.sm,paddingLeft:2,backgroundColor:o._.colorTinygrailContainer,borderBottomWidth:1,borderBottomColor:o._.colorTinygrailBorder}}}))},"./src/screens/tinygrail/trade/depth-list/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.for-each.js"),r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./node_modules/core-js/modules/es.array.map.js"),r("./node_modules/core-js/modules/es.number.to-fixed.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),i=r("./src/stores/index.ts"),a=r("./src/utils/index.ts"),l=r("./src/utils/decorators/index.ts"),d=r("./src/screens/tinygrail/trade/depth-list/styles.ts"),c=r("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var r=e.style,o=t.$.depth,l=o.asks,u=void 0===l?[]:l,m=o.bids,h=void 0===m?[]:m;if(!o._loaded)return null;if(!u.length&&!h.length)return null;var p=(0,d.memoStyles)(),f=0,y=0,x=0;h.forEach((function(e){(!f||e.price<f)&&(f=e.price),(!y||e.price>y)&&(y=e.price),x+=e.amount}));var g=0,j=0,b=0;u.forEach((function(e){(!g||e.price<j)&&(g=e.price),(!j||e.price>g)&&(j=e.price),b+=e.amount}));var v=0,_=0;return(0,c.jsxs)(s.default,{style:(0,a.stl)(p.container,r),children:[(0,c.jsxs)(n.Flex,{style:p.header,children:[(0,c.jsx)(n.Text,{style:[p.index,i._.ml.md],type:"tinygrailText",size:10,children:"买盘"}),(0,c.jsx)(n.Text,{style:p.amount,type:"tinygrailText",size:10,children:"数量"}),(0,c.jsx)(n.Flex.Item,{children:(0,c.jsx)(n.Text,{type:"tinygrailText",size:10,align:"center",children:"价格"})}),(0,c.jsx)(n.Text,{style:p.amount,type:"tinygrailText",size:10,align:"right",children:"数量"}),(0,c.jsx)(n.Text,{style:[p.index,i._.mr.md],type:"tinygrailText",size:10,align:"right",children:"卖盘"})]}),(0,c.jsxs)(n.Flex,{style:i._.mt.sm,align:"start",children:[(0,c.jsx)(n.Flex.Item,{children:h.map((function(e,t){return v+=e.amount,(0,c.jsxs)(n.Flex,{style:p.item,children:[(0,c.jsx)(s.default,{style:[p.index,i._.ml.md],children:(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,children:t+1})}),(0,c.jsx)(n.Text,{style:p.amount,type:"tinygrailText",size:12,children:e.amount}),(0,c.jsx)(n.Flex.Item,{style:i._.mr.sm,children:(0,c.jsx)(n.Text,{type:"bid",size:12,align:"right",children:e.price&&(0,a.toFixed)(e.price,2)})}),(0,c.jsx)(s.default,{style:[p.depthBids,{width:v/x*100+"%"}]})]},t)}))}),(0,c.jsx)(n.Flex.Item,{children:u.map((function(e,t){return _+=e.amount,(0,c.jsxs)(n.Flex,{style:p.item,children:[(0,c.jsx)(n.Flex.Item,{style:i._.ml.sm,children:(0,c.jsx)(n.Text,{type:"ask",size:12,children:e.price&&(0,a.toFixed)(e.price,2)})}),(0,c.jsx)(n.Text,{style:p.amount,type:"tinygrailText",size:12,align:"right",children:e.amount}),(0,c.jsx)(s.default,{style:[p.index,i._.mr.md],children:(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:t+1})}),(0,c.jsx)(s.default,{style:[p.depthAsks,{width:_/b*100+"%"}]})]},t)}))})]})]})}))},"./src/screens/tinygrail/trade/depth-list/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts");t.memoStyles=o._.memoStyles((function(){return{container:{paddingVertical:o._.sm},header:{opacity:.5},item:{paddingVertical:4},index:{minWidth:40},amount:{minWidth:40},depthBids:{position:"absolute",zIndex:-1,top:0,right:0,bottom:0,backgroundColor:o._.colorDepthBid},depthAsks:{position:"absolute",zIndex:-1,top:0,left:0,bottom:0,backgroundColor:o._.colorDepthAsk}}}))},"./src/screens/tinygrail/trade/depth-map/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.for-each.js"),r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./node_modules/core-js/modules/es.array.map.js"),r("./node_modules/core-js/modules/es.array.reverse.js"),r("./node_modules/core-js/modules/es.array.slice.js"),r("./node_modules/core-js/modules/es.number.to-fixed.js"),r("./node_modules/core-js/modules/es.parse-int.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),i=r("./src/stores/index.ts"),a=r("./src/utils/index.ts"),l=r("./src/utils/decorators/index.ts"),d=r("./src/screens/tinygrail/trade/depth-map/styles.ts"),c=r("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var r=t.$.depth,o=r.asks,l=void 0===o?[]:o,m=r.bids,h=void 0===m?[]:m;if(!r._loaded)return null;if(!l.length&&!h.length)return null;var p=(0,d.memoStyles)(),f=0,y=0,x=0;h.forEach((function(e){(!f||e.price<f)&&(f=e.price),(!y||e.price>y)&&(y=e.price),x+=e.amount}));var g=0,j=0,b=0;l.forEach((function(e){(!g||e.price<j)&&(g=e.price),(!j||e.price>g)&&(j=e.price),b+=e.amount}));var v=Math.max(x,b),_=(g-y)/i._.window.width*i._.window.width;_>80&&(_=80);var w=0,T=0;return(0,c.jsxs)(s.default,{style:p.container,children:[(0,c.jsx)(n.Text,{style:p.title,type:"tinygrailText",size:12,children:"深度"}),(0,c.jsxs)(n.Flex,{children:[(0,c.jsx)(n.Flex.Item,{children:(0,c.jsx)(n.Flex,{children:h.slice().reverse().map((function(e,t){return w+=e.amount,(0,c.jsx)(n.Flex.Item,{style:p.block,children:(0,c.jsx)(s.default,{style:[p.bids,{height:(x-w)/(x||1)*p.block.height+4}]})},t)}))})}),(0,c.jsx)(n.Flex.Item,{style:{marginLeft:_},children:(0,c.jsx)(n.Flex,{justify:"end",children:l.map((function(e,t){return T+=e.amount,(0,c.jsx)(n.Flex.Item,{style:[p.block,{zIndex:l.length-t}],children:(0,c.jsx)(s.default,{style:[p.asks,{height:T/v*p.block.height+4,marginRight:1.5*-(l.length-t)}]})},t)}))})})]}),(0,c.jsxs)(n.Flex,{style:p.info,children:[(0,c.jsx)(n.Flex.Item,{children:(0,c.jsxs)(n.Flex,{justify:"between",children:[(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,children:f&&(0,a.toFixed)(f,2)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,children:y&&(0,a.toFixed)(y,2)})]})}),(0,c.jsx)(n.Flex.Item,{style:{marginLeft:_},children:(0,c.jsxs)(n.Flex,{justify:"between",children:[(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,children:g&&(0,a.toFixed)(g,2)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,children:j&&(0,a.toFixed)(j,2)})]})})]}),(0,c.jsxs)(n.Flex,{style:p.rod,direction:"column",justify:"between",align:"end",children:[(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:u(v)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:u(4*v/5)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:u(3*v/5)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:u(2*v/5)}),(0,c.jsx)(n.Text,{type:"tinygrailText",size:12,align:"right",children:u(1*v/5)})]})]})}));function u(e){return e>1e3?(0,a.toFixed)(e/1e3,2)+"K":parseInt(e)}},"./src/screens/tinygrail/trade/depth-map/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts");t.memoStyles=o._.memoStyles((function(){return{container:{paddingTop:48,borderTopWidth:1,borderTopColor:o._.colorTinygrailBorder},title:{position:"absolute",top:24,left:o._.sm},info:{padding:o._.sm},block:{height:160},bids:{position:"absolute",right:0,bottom:0,left:0,marginLeft:-1.5,borderTopColor:o._.colorBid,borderTopWidth:1,borderRightColor:o._.colorBid,borderRightWidth:1,backgroundColor:o._.colorDepthBid},asks:{position:"absolute",right:0,bottom:0,width:"100%",borderTopColor:o._.colorAsk,borderTopWidth:1,borderLeftColor:o._.colorAsk,borderLeftWidth:1,backgroundColor:o._.colorDepthAsk},rod:{position:"absolute",zIndex:100,top:o._.md+o._.sm,right:o._.sm,bottom:56}}}))},"./src/screens/tinygrail/trade/ds.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.w1=t.month1=t.m5=t.m15=t.m1=t.h4=t.h12=t.h1=t.d1=t.STATE=t.NAMESPACE=void 0;t.NAMESPACE="ScreenTinygrailTrade";var o=t.m1=6e4,s=(t.m5=5*o,t.m15=15*o,t.h1=60*o),n=(t.h4=4*s,t.h12=12*s,t.d1=24*s);t.w1=7*n,t.month1=30*n,t.STATE={loading:!0,distance:n,_loaded:!1}},"./src/screens/tinygrail/trade/header/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.function.name.js"),r("./node_modules/core-js/modules/es.number.to-fixed.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),i=r("./src/screens/_/index.ts"),a=r("./src/stores/index.ts"),l=r("./src/utils/index.ts"),d=r("./src/utils/decorators/index.ts"),c=r("./src/utils/fetch/index.ts"),u=r("./src/constants/index.ts"),m=o(r("./src/screens/tinygrail/trade/header/today.tsx")),h=r("./src/screens/tinygrail/trade/header/styles.ts"),p=r("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var r=e.goBack,o=void 0===r?u.FROZEN_FN:r,d=t.$,f=t.navigation,y=(0,h.memoStyles)(),x=d.chara,g=x.icon,j=x.name,b=x.current,v=x.fluctuation,_=x.bonus,w=a._.colorTinygrailPlain;v<0?w=a._.colorAsk:v>0&&(w=a._.colorBid);var T="-%";return v>0?T="+"+(0,l.toFixed)(v,2)+"%":v<0&&(T=(0,l.toFixed)(v,2)+"%"),(0,p.jsx)(s.default,{style:y.container,children:(0,p.jsxs)(n.Flex,{align:"end",children:[(0,p.jsxs)(n.Flex.Item,{children:[(0,p.jsxs)(n.Flex,{children:[(0,p.jsx)(i.IconHeader,{style:a._.ml._sm,name:"md-arrow-back",color:a._.colorTinygrailPlain,onPress:o}),(0,p.jsx)(n.Avatar,{src:(0,l.tinygrailOSS)(g),borderColor:"transparent",name:j,skeletonType:"tinygrail",onPress:function(){(0,c.t)("K线.跳转",{to:"Mono",monoId:d.monoId}),f.push("Mono",{monoId:"character/"+d.monoId,_name:j})}}),(0,p.jsxs)(n.Text,{style:a._.ml.md,type:"tinygrailPlain",size:16,bold:!0,numberOfLines:1,children:[j,!!_&&(0,p.jsxs)(n.Text,{size:12,lineHeight:16,type:"warning",children:[" ","X",_]})]}),(0,p.jsx)(i.IconTouchable,{name:"md-workspaces-outline",color:a._.colorTinygrailPlain,onPress:function(){(0,c.t)("K线.跳转",{to:"TinygrailSacrifice",monoId:d.monoId});var e=d.params,t=e.form,r=e.monoId;"sacrifice"!==t?f.push("TinygrailSacrifice",{monoId:r,form:"kline"}):f.goBack()}})]}),(0,p.jsxs)(n.Flex,{style:a._.mt.md,children:[(0,p.jsx)(n.Text,{type:"tinygrailPlain",size:24,children:b&&(0,l.toFixed)(b,2)}),(0,p.jsx)(n.Text,{style:[a._.ml.sm,{color:w}],lineHeight:17,align:"center",children:T})]})]}),(0,p.jsx)(m.default,{})]})})}))},"./src/screens/tinygrail/trade/header/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts");t.memoStyles=o._.memoStyles((function(){return{container:{zIndex:1,paddingVertical:o._.sm,paddingHorizontal:o._._wind}}}))},"./src/screens/tinygrail/trade/header/today.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.for-each.js"),r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./node_modules/core-js/modules/es.array.filter.js"),r("./node_modules/core-js/modules/es.array.includes.js"),r("./node_modules/core-js/modules/es.string.includes.js"),r("./node_modules/core-js/modules/es.number.to-fixed.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(r("react"));var s=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),i=r("./src/stores/index.ts"),a=r("./src/utils/index.ts"),l=r("./src/utils/decorators/index.ts"),d=r("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var r=t.$,o="-",l="-",u=0,m=(0,a.date)("Y-m-d",(0,a.getTimestamp)());return r.kline.data.filter((function(e,t){return 0!==t&&e.time.includes(m)})).forEach((function(e){("-"===o||e.high>o)&&(o=(0,a.toFixed)(e.high,2)),("-"===l||e.low<l)&&(l=(0,a.toFixed)(e.low,2)),u+=e.amount})),(0,d.jsxs)(s.default,{style:c.today,children:[(0,d.jsxs)(n.Flex,{justify:"between",children:[(0,d.jsx)(n.Text,{type:"tinygrailText",size:13,children:"高"}),(0,d.jsx)(n.Text,{style:c.value,type:"tinygrailPlain",align:"right",size:13,children:o})]}),(0,d.jsxs)(n.Flex,{style:i._.mt.sm,justify:"between",children:[(0,d.jsx)(n.Text,{type:"tinygrailText",size:13,children:"低"}),(0,d.jsx)(n.Text,{style:c.value,type:"tinygrailPlain",align:"right",size:13,children:l})]}),(0,d.jsxs)(n.Flex,{style:i._.mt.sm,justify:"between",children:[(0,d.jsx)(n.Text,{type:"tinygrailText",size:13,children:"量"}),(0,d.jsx)(n.Text,{style:c.value,type:"tinygrailPlain",align:"right",size:13,children:u})]})]})}));var c=i._.create({today:{marginLeft:i._.sm,marginBottom:4},value:{minWidth:24,marginLeft:i._.md}})},"./src/screens/tinygrail/trade/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/es.string.fixed.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(r("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(r("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=o(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=o(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=o(r("react")),m=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),h=r("./src/components/index.ts"),p=r("./src/screens/_/index.ts"),f=r("./src/stores/index.ts"),y=r("./src/utils/decorators/index.ts"),x=r("./src/utils/fetch/index.ts"),g=r("./src/constants/index.ts"),j=o(r("./src/screens/tinygrail/trade/bar/index.tsx")),b=o(r("./src/screens/tinygrail/trade/depth-list/index.tsx")),v=o(r("./src/screens/tinygrail/trade/depth-map/index.tsx")),_=o(r("./src/screens/tinygrail/trade/header/index.tsx")),w=o(r("./src/screens/tinygrail/trade/k-line/index.tsx")),T=o(r("./src/screens/tinygrail/trade/store.ts")),C=r("./src/screens/tinygrail/trade/styles.ts"),k=r("./node_modules/react/jsx-runtime.js");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,d.default)(e);if(t){var s=(0,d.default)(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return(0,l.default)(this,r)}}var A=function(e){(0,a.default)(r,e);var t=S(r);function r(){var e;(0,s.default)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,c.default)((0,i.default)(e),"state",{showMask:!0,focus:!g.IOS}),(0,c.default)((0,i.default)(e),"hideMask",(function(){e.setState({showMask:!1})})),(0,c.default)((0,i.default)(e),"jump",(function(t){var r=e.context,o=r.$,s=r.navigation;(0,x.t)("K线.跳转",{to:"TinygrailDeal",type:t,monoId:o.monoId}),s.push("TinygrailDeal",{monoId:o.monoId,type:t,form:"kline"})})),(0,c.default)((0,i.default)(e),"goBack",(function(){var t=e.context.navigation;g.IOS?e.setState({focus:!1},(function(){return t.goBack()})):t.goBack()})),e}return(0,n.default)(r,[{key:"componentDidMount",value:function(){var e=this.context.$;e.init(),(0,x.hm)("tinygrail/trade/"+e.monoId,"TinygrailTrade")}},{key:"renderFocus",value:function(){var e=this;return g.IOS?(0,k.jsx)(h.NavigationEvents,{onWillBlur:function(){return e.setState({focus:!1})},onWillFocus:function(){return e.setState({focus:!0})}}):null}},{key:"render",value:function(){var e=this,t=this.state,r=t.showMask,o=t.focus;return(0,k.jsxs)(p.SafeAreaView,{style:this.styles.dark,children:[this.renderFocus(),(0,k.jsx)(p.StatusBarPlaceholder,{style:this.styles.dark}),(0,k.jsx)(_.default,{goBack:this.goBack}),(0,k.jsx)(j.default,{}),(0,k.jsxs)(m.default,{style:f._.container.flex,children:[(0,k.jsxs)(h.ScrollView,{style:[f._.container.flex,this.styles.dark],contentContainerStyle:this.styles.contentContainerStyle,scrollToTop:!0,children:[(0,k.jsxs)(m.default,{style:this.styles.kline,children:[(0,k.jsx)(w.default,{focus:o}),r&&(0,k.jsx)(h.Touchable,{style:this.styles.mask,useRN:!0,onPress:this.hideMask})]}),(0,k.jsx)(v.default,{}),(0,k.jsx)(b.default,{style:f._.mt.md})]}),(0,k.jsxs)(h.Flex,{style:this.styles.fixed,children:[(0,k.jsx)(h.Flex.Item,{children:(0,k.jsx)(h.Button,{style:this.styles.btnBid,type:"main",onPress:function(){return e.jump("bid")},children:"买入"})}),(0,k.jsx)(h.Flex.Item,{style:f._.ml.sm,children:(0,k.jsx)(h.Button,{style:this.styles.btnAsk,type:"main",onPress:function(){return e.jump("ask")},children:"卖出"})})]})]})]})}},{key:"styles",get:function(){return(0,C.memoStyles)()}}]),r}(u.default.Component);(0,c.default)(A,"navigationOptions",{header:null});t.default=(0,y.inject)(T.default)((0,y.obc)(A))},"./src/screens/tinygrail/trade/k-line/html.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="https://unpkg.com";t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.upColor,s=t.downColor,n=t.bgColor,i=t.ma5Color,a=t.ma10Color,l=t.ma20Color,d=t.ma30Color,c=t.maTextColor,u=t.dateTextColor,m=t.axisNumColor,h=t.zoomColor,p=t.zoomTextColor,f=t.zoomBorderColor,y=t.unknowColor1,x=void 0===y?"#aaa":y,g=t.unknowColor2,j=void 0===g?"#181a23":g,b=t.unknowColor3;return'<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no" /></head><style type="text/css">body{margin:0;padding:0;background:'+n+'}.Kline-div{position:fixed;width:100%;bottom:0rem;top:0}.Kline-div .K-line{height:100%;width:100%}</style><body><div id="Kline-div" class="Kline-div"><div id="k-content" class="K-line"></div></div><script src="'+o+'/jquery@3.3.1/dist/jquery.min.js"><\/script><script src="'+o+"/echarts@4.2.1/dist/echarts.min.js\"><\/script><script>var bgColor='"+n+"';var upColor='"+r+"';var downColor='"+s+"';var ma5Color='"+i+"';var ma10Color='"+a+"';var ma20Color='"+l+"';var ma30Color='"+d+"';function addTimeStr(time,num){var hour=time.split(':')[0];var mins=Number(time.split(':')[1]);var mins_un=parseInt((mins+num)/60);var hour_un=parseInt((Number(hour)+mins_un)/24);if(mins_un>0){if(hour_un>0){var tmpVal=((Number(hour)+mins_un)%24)+'';hour=tmpVal.length>1?tmpVal:'0'+tmpVal}else{var tmpVal=Number(hour)+mins_un+'';hour=tmpVal.length>1?tmpVal:'0'+tmpVal}var tmpMinsVal=((mins+num)%60)+'';mins=tmpMinsVal.length>1?tmpMinsVal:0+tmpMinsVal}else{var tmpMinsVal=mins+num+'';mins=tmpMinsVal.length>1?tmpMinsVal:'0'+tmpMinsVal}return hour+':'+mins}function getNextTime(startTime,endTIme,offset,resultArr){var result=addTimeStr(startTime,offset);resultArr.push(result);if(result==endTIme){return resultArr}else{return getNextTime(result,endTIme,offset,resultArr)}}var time_arr=function(type){if(type.indexOf('us')!=-1){var timeArr=new Array();timeArr.push('09:30');return getNextTime('09:30','16:00',1,timeArr)}if(type.indexOf('hs')!=-1){var timeArr=new Array();timeArr.push('09:30');timeArr.concat(getNextTime('09:30','11:29',1,timeArr));timeArr.push('13:00');timeArr.concat(getNextTime('13:00','15:00',1,timeArr));return timeArr}if(type.indexOf('hk')!=-1){var timeArr=new Array();timeArr.push('09:30');timeArr.concat(getNextTime('09:30','11:59',1,timeArr));timeArr.push('13:00');timeArr.concat(getNextTime('13:00','16:00',1,timeArr));return timeArr}};var get_m_data=function(m_data,type){var priceArr=new Array();var avgPrice=new Array();var vol=new Array();var times=time_arr(type);$.each(m_data.data,function(i,v){priceArr.push(v[1]);avgPrice.push(v[2]);vol.push(v[3])});return{priceArr:priceArr,avgPrice:avgPrice,vol:vol,times:times,}};function initMOption(m_data,type){var m_datas=get_m_data(m_data,type);return{tooltip:{trigger:'axis',axisPointer:{type:'cross',},formatter:function(params,ticket,callback){var i=params[0].dataIndex;var color;if(m_datas.priceArr[i]>m_data.yestclose){color='style=\"color:"+s+"\"'}else{color='style=\"color:"+r+"\"'}var html='<div class=\"commColor\" style=\"width:100px;\"><div>当前价<span  '+color+' >'+m_datas.priceArr[i]+'</span></div>';html+='<div>均价<span  '+color+' >'+m_datas.avgPrice[i]+'</span></div>';html+='<div>涨幅<span  '+color+' >'+ratioCalculate(m_datas.priceArr[i],m_data.yestclose)+'%</span></div>';html+='<div>成交量<span  '+color+' >'+m_datas.vol[i]+'</span></div></div>';return html},},legend:{icon:'rect',type:'scroll',itemWidth:14,itemHeight:2,left:0,top:'-1%',textStyle:{fontSize:12,color:'"+c+"',},},axisPointer:{show:true,},color:[ma5Color,ma10Color],grid:[{id:'gd1',left:'0%',right:'1%',height:'67.5%',top:'5%',},{id:'gd2',left:'0%',right:'1%',height:'67.5%',top:'5%',},{id:'gd3',left:'0%',right:'1%',top:'75%',height:'19%',},],xAxis:[{gridIndex:0,data:m_datas.times,axisLabel:{show:false,},splitLine:{show:false,},},{show:false,gridIndex:1,data:m_datas.times,axisLabel:{show:false,},splitLine:{show:false,},},{splitNumber:2,type:'category',gridIndex:2,data:m_datas.times,axisLabel:{color:'"+u+"',fontSize:10,},},],yAxis:[{gridIndex:0,scale:true,splitNumber:3,axisLabel:{inside:true,fontWeight:'bold',color:function(val){if(val==m_data.yestclose){return'"+x+"'}return val>m_data.yestclose?upColor:downColor},},z:4,splitLine:{show:false,lineStyle:{color:'"+j+"',},},},{scale:true,gridIndex:1,splitNumber:3,position:'right',z:4,axisLabel:{color:function(val){if(val==m_data.yestclose){return'"+x+"'}return val>m_data.yestclose?upColor:downColor},inside:true,fontWeight:'bold',formatter:function(val){var resul=ratioCalculate(val,m_data.yestclose);return Number(resul).toFixed(2)+' %'},},splitLine:{show:false,lineStyle:{color:'"+j+"',},},axisPointer:{show:true,label:{formatter:function(params){return ratioCalculate(params.value,m_data.yestclose)+'%'},},},},{gridIndex:2,z:4,splitNumber:3,axisLine:{onZero:false,},axisTick:{show:false,},splitLine:{show:false,},axisLabel:{color:'"+m+"',inside:true,fontSize:8,},},],dataZoom:[],backgroundColor:bgColor,blendMode:'source-over',series:[{name:'当前价',type:'line',data:m_datas.priceArr,smooth:true,symbol:'circle',lineStyle:{normal:{opacity:0.8,color:'"+i+"',width:1,},},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:'rgba(0, 136, 212, 0.7)',},{offset:0.8,color:'rgba(0, 136, 212, 0.02)',},],false),shadowColor:'rgba(0, 0, 0, 0.1)',shadowBlur:10,},},},{name:'均价',type:'line',data:m_datas.avgPrice,smooth:true,symbol:'circle',lineStyle:{normal:{opacity:0.8,color:'"+a+"',width:1,},},},{type:'line',data:m_datas.priceArr,smooth:true,symbol:'none',gridIndex:1,xAxisIndex:1,yAxisIndex:1,lineStyle:{normal:{width:0,},},},{name:'Volumn',type:'bar',gridIndex:2,xAxisIndex:2,yAxisIndex:2,data:m_datas.vol,barWidth:'60%',itemStyle:{normal:{color:function(params){var colorList;if(m_datas.priceArr[params.dataIndex]>m_datas.priceArr[params.dataIndex-1]){colorList=upColor}else{colorList=downColor}return colorList},},},},],}}function ratioCalculate(price,yclose){return(((price-yclose)/yclose)*100).toFixed(3)}function splitData(rawData){var datas=[];var times=[];var vols=[];for(var i=0;i<rawData.length;i++){datas.push(rawData[i]);times.push(rawData[i].splice(0,1)[0]);vols.push(rawData[i][4])}return{datas:datas,times:times,vols:vols}}function calculateMA(dayCount,data){var result=[];for(var i=0,len=data.times.length;i<len;i++){if(i<dayCount){result.push('-');continue}var sum=0;for(var j=0;j<dayCount;j++){sum+=data.datas[i-j][1]}result.push((sum/dayCount).toFixed(2))}return result}var calcEMA,calcDIF,calcDEA,calcMACD;calcEMA=function(n,data,field){var i,l,ema,a;a=2/(n+1);if(field){ema=[data[0][field]];for(i=1,l=data.length;i<l;i++){ema.push((a*data[i][field]+(1-a)*ema[i-1]).toFixed(2))}}else{ema=[data[0]];for(i=1,l=data.length;i<l;i++){ema.push((a*data[i]+(1-a)*ema[i-1]).toFixed(3))}}return ema};calcDIF=function(short,long,data,field){var i,l,dif,emaShort,emaLong;dif=[];emaShort=calcEMA(short,data,field);emaLong=calcEMA(long,data,field);for(i=0,l=data.length;i<l;i++){dif.push((emaShort[i]-emaLong[i]).toFixed(3))}return dif};calcDEA=function(mid,dif){return calcEMA(mid,dif)};calcMACD=function(short,long,mid,data,field){var i,l,dif,dea,macd,result;result={};macd=[];dif=calcDIF(short,long,data,field);dea=calcDEA(mid,dif);for(i=0,l=data.length;i<l;i++){macd.push(((dif[i]-dea[i])*2).toFixed(3))}result.dif=dif;result.dea=dea;result.macd=macd;return result};function initKOption(cdata){var data=splitData(cdata);var macd=calcMACD(12,26,9,data.datas,1);return{tooltip:{trigger:'axis',axisPointer:{type:'cross',},},legend:{icon:'rect',type:'scroll',itemWidth:14,itemHeight:2,left:0,top:'-1%',animation:true,textStyle:{fontSize:12,color:'"+c+"',},pageIconColor:'"+c+"',},axisPointer:{show:true,},color:[ma5Color,ma10Color,ma20Color,ma30Color],grid:[{id:'gd1',left:'0%',right:'1%',height:'60%',top:'5%',},{left:'0%',right:'1%',top:'66.5%',height:'10%',},{left:'0%',right:'1%',top:'80%',height:'14%',},],xAxis:[{type:'category',data:data.times,scale:true,boundaryGap:false,axisLine:{onZero:false,},axisLabel:{show:false,},splitLine:{show:false,lineStyle:{color:'"+(void 0===b?"#3a3a3e":b)+"',},},splitNumber:20,min:'dataMin',max:'dataMax',},{type:'category',gridIndex:1,data:data.times,axisLabel:{color:'"+u+"',fontSize:10,},},{type:'category',gridIndex:2,data:data.times,axisLabel:{show:false,},},],yAxis:[{scale:true,z:4,axisLabel:{color:'"+m+"',inside:true,},splitLine:{show:false,lineStyle:{color:'"+j+"',},},},{gridIndex:1,splitNumber:3,z:4,axisLine:{onZero:false,},axisTick:{show:false,},splitLine:{show:false,},axisLabel:{color:'"+m+"',inside:true,fontSize:8,},},{z:4,gridIndex:2,splitNumber:4,axisLine:{onZero:false,},axisTick:{show:false,},splitLine:{show:false,},axisLabel:{color:'"+m+"',inside:true,fontSize:8,},},],dataZoom:[{type:'slider',xAxisIndex:[0,1,2],start:0,end:100,throttle:10,top:'94%',height:'6%',borderColor:'"+h+"',textStyle:{color:'"+p+"',},handleSize:'90%',handleIcon:'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',dataBackground:{lineStyle:{color:'"+f+"',},areaStyle:{color:'"+h+"',},},},],animation:false,backgroundColor:bgColor,blendMode:'source-over',series:[{name:'K线周期图表',type:'candlestick',data:data.datas,barWidth:'55%',large:true,largeThreshold:100,itemStyle:{normal:{color:upColor,color0:downColor,borderColor:upColor,borderColor0:downColor,},},},{name:'MA5',type:'line',data:calculateMA(5,data),smooth:true,symbol:'none',lineStyle:{normal:{opacity:0.8,color:'"+i+"',width:1,},},},{name:'MA10',type:'line',data:calculateMA(10,data),smooth:true,symbol:'none',lineStyle:{normal:{opacity:0.8,color:'"+a+"',width:1,},},},{name:'MA20',type:'line',data:calculateMA(20,data),smooth:true,symbol:'none',lineStyle:{opacity:0.8,width:1,color:ma20Color,},},{name:'MA30',type:'line',data:calculateMA(30,data),smooth:true,symbol:'none',lineStyle:{normal:{opacity:0.8,width:1,color:ma30Color,},},},{name:'Volumn',type:'bar',xAxisIndex:1,yAxisIndex:1,data:data.vols,barWidth:'60%',itemStyle:{normal:{color:function(params){var colorList;if(data.datas[params.dataIndex][1]>data.datas[params.dataIndex][0]){colorList=upColor}else{colorList=downColor}return colorList},},},},{name:'MACD',type:'bar',xAxisIndex:2,yAxisIndex:2,data:macd.macd,barWidth:'40%',itemStyle:{normal:{color:function(params){var colorList;if(params.data>=0){colorList=upColor}else{colorList=downColor}return colorList},},},},{name:'DIF',type:'line',symbol:'none',xAxisIndex:2,yAxisIndex:2,data:macd.dif,lineStyle:{normal:{color:'"+a+"',width:1,},},},{name:'DEA',type:'line',symbol:'none',xAxisIndex:2,yAxisIndex:2,data:macd.dea,lineStyle:{normal:{opacity:0.8,color:'"+i+"',width:1,},},},],}}<\/script><script>var kdata = "+e+";var kChart = echarts.init(document.getElementById('k-content'));kChart.setOption(initKOption(kdata));<\/script></body></html>"}},"./src/screens/tinygrail/trade/k-line/index.tsx":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/web.timers.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(r("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(r("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=o(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=o(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=o(r("react")),m=o(r("./node_modules/react-native-web/dist/exports/View/index.js")),h=r("./src/components/index.ts"),p=o(r("./src/components/@/web-view/index.js")),f=r("./src/stores/index.ts"),y=r("./src/utils/index.ts"),x=r("./src/utils/decorators/index.ts"),g=r("./src/constants/index.ts"),j=o(r("./src/screens/tinygrail/trade/k-line/html.tsx")),b=r("./src/screens/tinygrail/trade/k-line/utils.ts"),v=r("./src/screens/tinygrail/trade/k-line/styles.ts"),_=r("./node_modules/react/jsx-runtime.js");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,d.default)(e);if(t){var s=(0,d.default)(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return(0,l.default)(this,r)}}var T=0,C=function(e){(0,a.default)(r,e);var t=w(r);function r(){var e;(0,s.default)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,c.default)((0,i.default)(e),"onError",(function(){var t=e.context.navigation;(0,y.info)("网络似乎出了点问题"),t.goBack()})),(0,c.default)((0,i.default)(e),"onLoad",(function(){var t=e.context.$;e.props.focus&&setTimeout((function(){t.setState({loading:!1}),f.tinygrailStore.updateWebViewShow(!0)}),400)})),e}return(0,n.default)(r,[{key:"componentDidMount",value:function(){T+=1}},{key:"coverStyle",get:function(){return{upColor:f._.colorBid,downColor:f._.colorAsk,bgColor:f._.colorTinygrailBg,ma5Color:f._.colorTinygrailPrimary,ma10Color:"#da6ee8",ma20Color:f._.colorWarning,ma30Color:f._.colorMain,maTextColor:f._.colorTinygrailText,dateTextColor:f._.colorTinygrailText,axisNumColor:f._.colorTinygrailText,zoomColor:f._.colorTinygrailIcon,zoomTextColor:f._.colorTinygrailText,zoomBorderColor:f._.colorTinygrailIcon}}},{key:"render",value:function(){var e=this.context.$,t=e.state,r=t.loading,o=t.distance,s=f.tinygrailStore.state._webview;return(0,_.jsxs)(m.default,{style:this.styles.chart,children:[!!e.kline._loaded&&(0,_.jsx)(p.default,{style:this.styles.webview,useWebKit:!0,originWhitelist:["*"],source:{html:(0,j.default)(JSON.stringify((0,b.getKData)(e.kline.data,o)),this.coverStyle),baseUrl:g.HOST_CDN},bounces:!1,scrollEnabled:!1,onLoad:this.onLoad,onError:this.onError},T),(!s||r)&&(0,_.jsx)(h.Loading,{style:this.styles.loading,color:f._.colorTinygrailText,children:(0,_.jsx)(h.Text,{style:f._.mt.md,type:"tinygrailText",size:12,children:"K线图加载中..."})})]})}},{key:"styles",get:function(){return(0,v.memoStyles)()}}]),r}(u.default.Component);(0,c.default)(C,"defaultProps",{focus:!1});t.default=(0,x.obc)(C)},"./src/screens/tinygrail/trade/k-line/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts"),s=Math.min(.64*o._.window.height,480);t.memoStyles=o._.memoStyles((function(){return{chart:{height:s,paddingTop:o._.sm,backgroundColor:o._.colorTinygrailBg,borderBottomWidth:o._.sm,borderBottomColor:o._.colorTinygrailBg,overflow:"hidden"},webview:{height:s,backgroundColor:o._.colorTinygrailBg},loading:{position:"absolute",zIndex:100,top:0,right:0,bottom:0,left:0,backgroundColor:o._.colorTinygrailBg}}}))},"./src/screens/tinygrail/trade/k-line/utils.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.string.replace.js"),r("./node_modules/core-js/modules/es.regexp.exec.js"),r("./node_modules/core-js/modules/es.regexp.constructor.js"),r("./node_modules/core-js/modules/es.regexp.to-string.js"),r("./node_modules/core-js/modules/es.date.to-string.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/es.object.assign.js"),r("./node_modules/core-js/modules/es.array.for-each.js"),r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./node_modules/core-js/modules/es.array.slice.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.dateFormat=i,t.getDateFormat=a,t.getKData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;if(!e.length)return[];var r=m(u(c(d(e),t)),t);return r.length<100?r:r.slice(r.length-100)},t.getStartDate=l,t.group=c,t.insertOrigin=d,t.kLineData=m,t.mergeGroup=u;var s=o(r("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=144e5;function i(e,t){var r=e,o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(r=r.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))),o)new RegExp("("+s+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?o[s]:("00"+o[s]).substr(String(o[s]).length)));return r}function a(e){return i("MM-dd hh:mm",new Date(e))}function l(e){return e.substring(0,11)+"00:00"+e.substring(16)}function d(e){var t=JSON.parse(JSON.stringify(e));return t[0].amount=0,[Object.assign({},t[0],{time:new Date(l(e[0].time)).getTime(),begin:0,end:0,low:0,high:0,amount:0,price:0})].concat((0,s.default)(t))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=[],o=new Date(e[0].time).getTime(),s=0;return e.forEach((function(e){var n=new Date(e.time).getTime(),i=Math.floor((n-o)/t),a=i-s-1;a<0&&(a=0),r[i]||(r[i]={time:o+i*t,empty:a,data:[]},s=i),r[i].data.push(e)})),r}function u(e){var t=[];return e.forEach((function(e){var r={time:e.time,empty:e.empty,begin:e.data[e.data.length-1].end,end:e.data[0].begin,low:void 0,high:void 0,amount:0};e.data.forEach((function(e){(void 0===r.low||e.low<r.low)&&(r.low=e.low),(void 0===r.high||e.high>r.high)&&(r.high=e.high),r.amount+=e.amount})),t.push(r)})),t}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=[];return e.forEach((function(e){if(e.empty)for(var o=0;o<e.empty;o+=1){var n=(0,s.default)(r[r.length-1]);n[0]+=t,r.push([n[0],e.end,e.end,e.end,e.end,0])}r.push([e.time,e.end,e.begin,e.low,e.high,e.amount])})),r.forEach((function(e){return e[0]=a(e[0])})),r}},"./src/screens/tinygrail/trade/store.ts":(e,t,r)=>{var o=r("./node_modules/@babel/runtime/regenerator/index.js");r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/es.number.constructor.js"),r("./node_modules/core-js/modules/es.object.assign.js"),r("./node_modules/core-js/modules/es.string.replace.js"),r("./node_modules/core-js/modules/es.regexp.exec.js"),r("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"d1",{enumerable:!0,get:function(){return b.d1}}),t.default=void 0,Object.defineProperty(t,"h1",{enumerable:!0,get:function(){return b.h1}}),Object.defineProperty(t,"h12",{enumerable:!0,get:function(){return b.h12}}),Object.defineProperty(t,"h4",{enumerable:!0,get:function(){return b.h4}}),Object.defineProperty(t,"m1",{enumerable:!0,get:function(){return b.m1}}),Object.defineProperty(t,"m15",{enumerable:!0,get:function(){return b.m15}}),Object.defineProperty(t,"m5",{enumerable:!0,get:function(){return b.m5}}),Object.defineProperty(t,"month1",{enumerable:!0,get:function(){return b.month1}}),Object.defineProperty(t,"w1",{enumerable:!0,get:function(){return b.w1}});var n,i=s(r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=s(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=s(r("./node_modules/@babel/runtime/helpers/createClass.js")),d=s(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=s(r("./node_modules/@babel/runtime/helpers/inherits.js")),u=s(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=s(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=s(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s(r("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=r("./node_modules/mobx/dist/mobx.esm.js"),y=r("./src/stores/index.ts"),x=r("./src/utils/index.ts"),g=s(r("./src/utils/store/index.ts")),j=r("./src/utils/fetch/index.ts"),b=r("./src/screens/tinygrail/trade/ds.ts");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,m.default)(e);if(t){var s=(0,m.default)(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return(0,u.default)(this,r)}}t.default=(n=function(e){(0,c.default)(r,e);var t=v(r);function r(){var e;(0,a.default)(this,r);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,h.default)((0,d.default)(e),"params",void 0),(0,h.default)((0,d.default)(e),"state",(0,f.observable)(b.STATE)),(0,h.default)((0,d.default)(e),"init",(0,i.default)(o.mark((function t(){var r,s,n,i;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state._loaded,s=(0,x.getTimestamp)(),n=!r||s-Number(r)>60,t.next=5,e.getStorage(void 0,b.NAMESPACE);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:if(i=t.t0,e.setState(Object.assign({},i,{loading:!0,_loaded:n?s:r})),!n){t.next=12;break}return t.abrupt("return",(0,j.queue)([function(){return e.fetchChara()},function(){return e.fetchKline()},function(){return e.fetchDepth()}]));case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t)})))),(0,h.default)((0,d.default)(e),"fetchChara",(function(){return y.tinygrailStore.fetchCharacters([e.monoId])})),(0,h.default)((0,d.default)(e),"fetchKline",(function(){return y.tinygrailStore.fetchKline(e.monoId)})),(0,h.default)((0,d.default)(e),"fetchDepth",(function(){return y.tinygrailStore.fetchDepth(e.monoId)})),(0,h.default)((0,d.default)(e),"changeDistance",(function(t){(0,j.t)("K线.间隔",{distance:t}),e.setState({distance:t}),e.setStorage(b.NAMESPACE)})),e}return(0,l.default)(r,[{key:"monoId",get:function(){var e=this.params.monoId;return(void 0===e?"":e).replace("character/","")}},{key:"chara",get:function(){return y.tinygrailStore.characters(this.monoId)}},{key:"kline",get:function(){return y.tinygrailStore.kline(this.monoId)}},{key:"depth",get:function(){return y.tinygrailStore.depth(this.monoId)}}]),r}(g.default),(0,p.default)(n.prototype,"monoId",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"monoId"),n.prototype),(0,p.default)(n.prototype,"chara",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"chara"),n.prototype),(0,p.default)(n.prototype,"kline",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"kline"),n.prototype),(0,p.default)(n.prototype,"depth",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"depth"),n.prototype),n)},"./src/screens/tinygrail/trade/styles.ts":(e,t,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=r("./src/stores/index.ts");t.memoStyles=o._.memoStyles((function(){return{dark:{backgroundColor:o._.colorTinygrailContainer},contentContainerStyle:{paddingBottom:56},kline:{backgroundColor:o._.colorTinygrailBg},mask:{position:"absolute",top:0,right:0,bottom:40,left:0},fixed:{position:"absolute",right:0,bottom:0,left:0,padding:o._.sm,backgroundColor:o._.colorTinygrailContainer},btnBid:{backgroundColor:o._.colorBid,borderWidth:0,borderRadius:0},btnAsk:{backgroundColor:o._.colorAsk,borderWidth:0,borderRadius:0}}}))}}]);