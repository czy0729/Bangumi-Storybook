(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2274],{"./src/screens/user/dev/components/base/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/hooks/index.ts"),a=s("./src/screens/user/dev/components/base/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=function(e){var t=e.navigation;return(0,u.useObserver)((function(){var e=(0,a.memoStyles)(),s=d.systemStore.state,r=s.dev,u=s.devEvent;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.ItemSetting,{hd:"Dev Mode",ft:(0,i.jsx)(o.Switch,{style:e.switch,checked:r,onChange:d.systemStore.toggleDev}),withoutFeedback:!0}),d.userStore.isDeveloper&&(0,i.jsx)(n.ItemSetting,{hd:"Track Points",ft:(0,i.jsx)(o.Switch,{style:e.switch,checked:u.enabled,onChange:function(){return d.systemStore.toggleDevEvent("enabled")}}),withoutFeedback:!0}),d.userStore.isDeveloper&&(0,i.jsx)(n.ItemSetting,{hd:"Playground",ft:(0,i.jsx)(n.IconTouchable,{name:"md-navigate-next",onPress:function(){t.push("Playground")}}),withoutFeedback:!0}),(0,i.jsx)(n.ItemSetting,{hd:"JS Exception Test",ft:(0,i.jsx)(o.Touchable,{onPress:function(){throw new Error("JS Exception Test")},children:(0,i.jsx)(o.Text,{children:"一键猫叫"})}),withoutFeedback:!0})]})}))}},"./src/screens/user/dev/components/base/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{switch:{marginRight:-4,transform:[{scale:r._.device(.8,1.12)}]}}}))},"./src/screens/user/dev/components/detail/block.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=c(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=o?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}(s("react")),d=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),a=s("./src/utils/hooks/index.ts"),i=s("./src/screens/user/dev/components/detail/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(c=function(e){return e?s:t})(e)}t.default=function(e){var t=e.title,s=e.value,r=void 0===s?[]:s,c=e.children,m=(0,n.useState)(!1),p=(0,o.default)(m,2),f=p[0],j=p[1];return(0,a.useObserver)((function(){var e=(0,i.memoStyles)();return(0,l.jsxs)(d.Flex,{style:[e.code,u._.mt.md],children:[(0,l.jsx)(d.Flex.Item,{children:(0,l.jsxs)(d.Text,{size:12,lineHeight:16,selectable:!0,children:[!!t&&(0,l.jsx)(d.Text,{size:12,lineHeight:16,type:"sub",children:t}),f&&(0,l.jsxs)(l.Fragment,{children:["string"==typeof r?r:r.map((function(e){return"\n"+JSON.stringify(e,null,2)})),c]})]})}),!f&&(0,l.jsx)(d.Touchable,{onPress:function(){return j(!0)},children:(0,l.jsx)(d.Text,{children:"open"})})]})}))}},"./src/screens/user/dev/components/detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.keys.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=r(s("./node_modules/react-native-web/dist/exports/Platform/index.js")),n=r(s("./node_modules/expo-constants/build/Constants.js")),d=s("./src/stores/index.ts"),u=s("./src/utils/hooks/index.ts"),a=s("./src/constants/index.ts"),i=r(s("./src/screens/user/dev/components/detail/block.tsx")),l=s("./node_modules/react/jsx-runtime.js"),c={},m={};t.default=function(){return(0,u.useObserver)((function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{value:JSON.stringify({tourist:1,accessToken:d.userStore.accessToken,userCookie:d.userStore.userCookie})}),(0,l.jsx)(i.default,{title:"OTA",value:[{hashSubject:Object.keys(c).length,hashSubjectOTA:Object.keys((0,a.getHashSubjectOTA)()).length,hashAvatar:Object.keys(m).length,hashAvatarOTA:Object.keys((0,a.getHashAvatarOTA)()).length,xsbRelationOTA:Object.keys((0,a.getXsbRelationOTA)().data).length}]}),(0,l.jsx)(i.default,{title:"CDN",value:[d.systemStore.state.ota]}),(0,l.jsx)(i.default,{title:"Window",value:[d._.window]}),(0,l.jsx)(i.default,{title:"Login",value:[{accessToken:d.userStore.accessToken},{userCookie:d.userStore.userCookie},{setCookie:d.userStore.setCookie}]}),(0,l.jsx)(i.default,{title:"Platform",value:[o.default]}),(0,l.jsx)(i.default,{title:"Constants",value:[n.default]})]})}))}},"./src/screens/user/dev/components/detail/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{code:{paddingVertical:r._.md,paddingHorizontal:r._.md,marginHorizontal:r._.wind,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusXs,overflow:"hidden"}}}))},"./src/screens/user/dev/components/screen-orientation/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=i(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=o?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}(s("./node_modules/expo-screen-orientation/build/ScreenOrientation.js")),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),u=s("./src/utils/hooks/index.ts"),a=s("./node_modules/react/jsx-runtime.js");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(i=function(e){return e?s:t})(e)}t.default=function(){return(0,u.useObserver)((function(){return(0,a.jsx)(d.ItemSetting,{hd:"Screen Orientation Lock",ft:(0,a.jsx)(n.Touchable,{onPress:function(){o.unlockAsync()},children:(0,a.jsx)(n.Text,{children:"解锁旋转"})}),withoutFeedback:!0})}))}},"./src/screens/user/dev/components/update-advance/index.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=h(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=o?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}(s("react")),a=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),i=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/utils/hooks/index.ts"),f=s("./src/utils/kv/index.ts"),j=s("./src/screens/user/dev/components/update-advance/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(h=function(e){return e?s:t})(e)}t.default=function(e){var t=e.navigation,s=(0,u.useState)(!0),o=(0,d.default)(s,2),h=o[0],x=o[1],v=(0,u.useState)(""),b=(0,d.default)(v,2),y=b[0],g=b[1],k=(0,u.useState)(""),w=(0,d.default)(k,2),O=w[0],S=w[1],T=(0,u.useState)("w"),P=(0,d.default)(T,2),C=P[0],M=P[1],I=(0,u.useState)({}),A=(0,d.default)(I,2),D=A[0],F=A[1],R=(0,u.useCallback)((0,n.default)(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.get)("advance");case 2:t=e.sent,F(t);case 4:case"end":return e.stop()}}),e)}))),[]),z=(0,u.useCallback)((function(e){g(e.nativeEvent.text)}),[g]),H=(0,u.useCallback)((function(e){S(e.nativeEvent.text)}),[S]),E=(0,u.useCallback)((0,n.default)(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.get)("advance");case 2:return(t=e.sent)[y]=C+"|"+O,e.next=6,(0,f.update)("advance",t);case 6:(0,m.info)("update db success"),R();case 8:case"end":return e.stop()}}),e)}))),[R,C,y,O]);return(0,p.useMount)((function(){R()})),(0,p.useObserver)((function(){var e=(0,j.memoStyles)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.ItemSetting,{hd:"Update Advance",ft:(0,_.jsx)(i.Touchable,{onPress:function(){return x(!h)},children:(0,_.jsx)(i.Text,{children:"使用"})}),withoutFeedback:!0}),h&&(0,_.jsxs)(a.default,{style:e.container,children:[(0,_.jsxs)(i.Flex,{children:[(0,_.jsx)(i.Flex.Item,{children:(0,_.jsx)(i.Input,{style:e.input,value:y,placeholder:"uid",onChange:z})}),(0,_.jsx)(i.SegmentedControl,{style:e.segmentedControl,size:12,values:["微信","支付宝"],selectedIndex:0,onValueChange:function(e){M("微信"===e?"w":"a")}}),(0,_.jsx)(i.Flex.Item,{style:c._.ml.md,children:(0,_.jsx)(i.Input,{style:e.input,value:O,keyboardType:"decimal-pad",placeholder:"val",onChange:H})})]}),(0,_.jsxs)(i.Flex,{style:c._.mt.md,children:[(0,_.jsx)(i.Flex.Item,{children:(0,_.jsx)(i.Text,{bold:!0,children:D[y]||"-"})}),(0,_.jsxs)(i.Flex,{style:c._.ml.lg,children:[(0,_.jsx)(i.Touchable,{onPress:function(){y&&t.push("Zone",{userId:y})},children:(0,_.jsx)(i.Iconfont,{name:"md-arrow-forward"})}),(0,_.jsx)(i.Touchable,{style:c._.ml.lg,onPress:E,children:(0,_.jsx)(i.Iconfont,{name:"md-check"})})]})]})]})]})}))}},"./src/screens/user/dev/components/update-advance/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingTop:r._.xs,paddingHorizontal:r._.wind,paddingBottom:r._.md},input:Object.assign({height:40,paddingVertical:0,paddingHorizontal:r._.device(r._.sm,r._.md)},r._.device(r._.fontSize12,r._.fontSize15),{backgroundColor:r._.colorBg}),segmentedControl:{height:40,width:120,marginLeft:r._.md}}}))},"./src/screens/user/dev/components/update-key/index.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=_(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=o?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}(s("react")),a=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),i=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),m=s("./src/utils/kv/index.ts"),p=s("./src/utils/hooks/index.ts"),f=s("./src/screens/user/dev/components/update-key/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(_=function(e){return e?s:t})(e)}t.default=function(){var e=(0,u.useState)(!1),t=(0,d.default)(e,2),s=t[0],o=t[1],_=(0,u.useState)(""),h=(0,d.default)(_,2),x=h[0],v=h[1],b=(0,u.useState)(""),y=(0,d.default)(b,2),g=y[0],k=y[1],w=(0,u.useCallback)((function(e){var t=e.nativeEvent.text;v(t)}),[v]),O=(0,u.useCallback)((function(e){var t=e.nativeEvent.text;k(t)}),[k]),S=(0,u.useCallback)((0,n.default)(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.update)(x,JSON.parse(g),!1);case 2:t=e.sent,(0,i.devLog)(t);case 4:case"end":return e.stop()}}),e)}))),[x,g]);return(0,p.useObserver)((function(){var e=(0,f.memoStyles)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.ItemSetting,{hd:"Update Key",ft:(0,j.jsx)(i.Touchable,{onPress:function(){return o(!s)},children:(0,j.jsx)(i.Text,{children:"使用"})}),withoutFeedback:!0}),s&&(0,j.jsx)(a.default,{style:e.container,children:(0,j.jsxs)(i.Flex,{children:[(0,j.jsx)(i.Flex.Item,{children:(0,j.jsx)(i.Input,{style:e.input,value:x,placeholder:"key",onChange:w})}),(0,j.jsx)(i.Flex.Item,{style:c._.ml.md,children:(0,j.jsx)(i.Input,{style:e.input,value:g,placeholder:"val",onChange:O})}),(0,j.jsx)(i.Touchable,{style:c._.ml.lg,onPress:S,children:(0,j.jsx)(i.Iconfont,{name:"md-check"})})]})})]})}))}},"./src/screens/user/dev/components/update-key/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingTop:r._.xs,paddingHorizontal:r._.wind,paddingBottom:r._.md},input:Object.assign({height:40,paddingVertical:0,paddingHorizontal:r._.device(r._.sm,r._.md)},r._.device(r._.fontSize12,r._.fontSize15),{backgroundColor:r._.colorBg}),segmentedControl:{height:40,width:120,marginLeft:r._.md}}}))},"./src/screens/user/dev/components/update-tourist/index.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=v(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=o?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}(s("react")),a=o(s("./node_modules/react-native-web/dist/exports/Image/index.js")),i=o(s("./node_modules/@ant-design/react-native/lib/activity-indicator/index.js")),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),f=s("./src/utils/hooks/index.ts"),j=s("./src/utils/kv/index.ts"),_=s("./src/screens/user/dev/components/update-tourist/utils.ts"),h=s("./src/screens/user/dev/components/update-tourist/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(v=function(e){return e?s:t})(e)}t.default=function(){var e=(0,u.useState)(!1),t=(0,d.default)(e,2),s=t[0],o=t[1],v=(0,u.useState)({}),b=(0,d.default)(v,2),y=b[0],g=b[1],k=(0,u.useState)(""),w=(0,d.default)(k,2),O=w[0],S=w[1],T=(0,u.useCallback)((function(e){var t=e.nativeEvent.text;S(t)}),[S]),P=(0,u.useCallback)((0,n.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.t0=g,e.next=5,(0,_.getConfig)();case 5:e.t1=e.sent,(0,e.t0)(e.t1),S("");case 8:case"end":return e.stop()}}),e)}))),[s]),C=(0,u.useCallback)((0,n.default)(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,p.info)("do login"),e.next=4,(0,_.doLogin)(y,O);case 4:return(t=e.sent)||(0,p.info)("login fail"),e.next=8,(0,j.update)("tourist",t);case 8:(0,p.info)("update db success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,p.info)("catch error: login fail");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[y,O]);return(0,u.useEffect)((function(){P()}),[P]),(0,f.useObserver)((function(){var e=(0,h.memoStyles)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.ItemSetting,{hd:"Update Tourist",ft:(0,x.jsx)(l.Touchable,{onPress:function(){return o(!s)},children:(0,x.jsx)(l.Text,{children:"使用"})}),withoutFeedback:!0}),s&&(0,x.jsxs)(l.Flex,{style:e.container,children:[(0,x.jsx)(l.Flex.Item,{children:(0,x.jsx)(l.Input,{style:e.input,value:O,placeholder:"验证码",onChange:T})}),(0,x.jsx)(l.Touchable,{style:e.captchaTouch,onPress:P,children:(0,x.jsx)(l.Flex,{style:e.captchaContainer,justify:"center",children:y.base64?(0,x.jsx)(a.default,{style:e.captcha,source:{uri:y.base64}}):(0,x.jsx)(i.default,{size:"small"})})}),(0,x.jsx)(l.Touchable,{style:m._.ml.lg,onPress:C,children:(0,x.jsx)(l.Iconfont,{name:"md-check"})})]})]})}))}},"./src/screens/user/dev/components/update-tourist/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingTop:r._.xs,paddingHorizontal:r._.wind,paddingBottom:r._.md},input:Object.assign({height:40,paddingVertical:0,paddingHorizontal:r._.device(r._.sm,r._.md)},r._.device(r._.fontSize12,r._.fontSize15),{backgroundColor:r._.colorBg}),captchaTouch:{marginLeft:r._.sm,borderRadius:r._.radiusXs,overflow:"hidden"},captchaContainer:{width:118,height:38},captcha:{width:118,height:38}}}))},"./src/screens/user/dev/components/update-tourist/utils.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/es.regexp.constructor.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.split.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.doLogin=function(e,t){return p.apply(this,arguments)},t.getConfig=function(){return m.apply(this,arguments)};var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/cheerio-without-node-native/index.js")),u=s("./src/utils/index.ts"),a=o(s("./src/utils/thirdParty/axios.js")),i=o(s("./src/utils/thirdParty/base64.ts")),l=s("./src/constants/index.ts");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return["__cfduid","chii_sid","chii_sec_id","chii_cookietime","chii_auth"].forEach((function(s){var r=new RegExp(s+"=(.+?);"),o=e.match(r);o&&(t[s]=o[1])})),Object.keys(t).map((function(e){return e+"="+t[e]})).join("; ")}function m(){return(m=(0,n.default)(r.mark((function e(){var t,s,o,n,d,i,m,p,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Mobile Safari/537.36",a.default.defaults.withCredentials=!1,e.next=4,(0,a.default)({method:"get",url:l.HOST+"/login",headers:{"User-Agent":o}});case 4:return n=e.sent,d=n.data,i=n.headers,m=c(null==i||null==(t=i["set-cookie"])?void 0:t[0]),e.next=10,(0,a.default)({method:"get",url:l.HOST+"/signup/captcha?"+(0,u.getTimestamp)(),headers:{Cookie:m,"User-Agent":o},responseType:"arraybuffer"});case 10:return p=e.sent,f=p.request,e.abrupt("return",{ua:o,cookie:m,formhash:null==(s=d.match(/<input type="hidden" name="formhash" value="(.+?)">/))?void 0:s[1],base64:"data:image/gif;base64,"+(null==f?void 0:f._response)});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return p=(0,n.default)(r.mark((function e(t,s){var o,m,p,f,j,_,h,x,v,b,y,g,k,w,O,S,T;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T=function(){return T=(0,n.default)(r.mark((function e(){var t,s,o,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)({method:"post",maxRedirects:0,validateStatus:null,url:l.HOST+"/oauth/access_token",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":f},data:(0,u.urlStringify)({grant_type:"authorization_code",client_id:l.APP_ID,client_secret:l.APP_SECRET,code:null==w||null==(t=w.responseURL)?void 0:t.split("=").slice(1).join("="),redirect_uri:l.URL_OAUTH_REDIRECT,state:(0,u.getTimestamp)()})});case 2:if(s=e.sent,o=s.status,n=s.data,200===o){e.next=12;break}if(!((O+=1)>5)){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",S());case 12:return e.abrupt("return",{tourist:1,accessToken:n,userCookie:{cookie:_,userAgent:f,v:0,tourist:0}});case 13:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)},S=function(){return T.apply(this,arguments)},p=t.ua,f=void 0===p?"":p,j=t.cookie,_=void 0===j?"":j,h=t.formhash,x=void 0===h?"":h,a.default.defaults.withCredentials=!1,e.next=6,(0,a.default)({method:"post",url:l.HOST+"/FollowTheRabbit",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":f,Cookie:_},data:(0,u.urlStringify)({formhash:x,referer:"",dreferer:"",email:i.default.atob("c2F5YWlmb3J1OThAMTYzLmNvbQ=="),password:i.default.atob("MTIzcXdlYXNkenhj"),captcha_challenge_field:s,loginsubmit:"登录"})});case 6:return v=e.sent,b=v.headers,e.next=10,(0,a.default)({method:"get",url:l.HOST+"/oauth/authorize?client_id="+l.APP_ID+"&response_type=code&redirect_uri="+l.URL_OAUTH_REDIRECT,headers:{"User-Agent":f,Cookie:c(null==b||null==(o=b["set-cookie"])?void 0:o[0])}});case 10:return y=e.sent,g=y.data,e.next=14,(0,a.default)({method:"post",maxRedirects:0,validateStatus:null,url:l.HOST+"/oauth/authorize?client_id="+l.APP_ID+"&response_type=code&redirect_uri="+l.URL_OAUTH_REDIRECT,headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":f,Cookie:c(null==b||null==(m=b["set-cookie"])?void 0:m[0])},data:(0,u.urlStringify)({formhash:d.default.load(g)("input[name=formhash]").attr("value"),redirect_uri:"",client_id:l.APP_ID,submit:"授权"})});case 14:return k=e.sent,w=k.request,O=0,e.abrupt("return",S());case 18:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},"./src/screens/user/dev/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/user/dev/components/base/index.tsx")),i=r(s("./src/screens/user/dev/components/detail/index.tsx")),l=r(s("./src/screens/user/dev/components/screen-orientation/index.tsx")),c=r(s("./src/screens/user/dev/components/update-advance/index.tsx")),m=r(s("./src/screens/user/dev/components/update-key/index.tsx")),p=r(s("./src/screens/user/dev/components/update-tourist/index.tsx")),f=s("./src/screens/user/dev/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=function(e){var t=e.navigation;return(0,u.useObserver)((function(){var e=(0,f.memoStyles)();return(0,j.jsxs)(n.Component,{id:"screen-dev",children:[(0,j.jsx)(n.Header,{title:"开发菜单",hm:["dev","DEV"]}),(0,j.jsxs)(n.ScrollView,{style:d._.container.plain,contentContainerStyle:d._.container.bottom,scrollToTop:!0,children:[(0,j.jsxs)(o.default,{style:e.container,children:[(0,j.jsx)(a.default,{navigation:t}),(0,j.jsx)(l.default,{}),d.userStore.isDeveloper&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.default,{}),(0,j.jsx)(c.default,{navigation:t}),(0,j.jsx)(m.default,{})]})]}),(0,j.jsx)(i.default,{})]})]})}))}},"./src/screens/user/dev/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingHorizontal:r._.wind-r._._wind}}}))}}]);