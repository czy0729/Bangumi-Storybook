(self.webpackChunkweb=self.webpackChunkweb||[]).push([[9246],{"./src/screens/discovery/anime/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(n.COMPONENT,"Component")},"./src/screens/discovery/anime/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(n.COMPONENT,"Extra")},"./src/screens/discovery/anime/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var n,o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),l=s("./src/screens/discovery/anime/component/extra/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ob)((function(e){var t=e.$,s=e.title,r=void 0===s?"Anime":s;t&&(n=null==t?void 0:t.isList);var d=void 0!==n||void 0!==(null==t?void 0:t.isList),l=void 0===(null==t?void 0:t.isList)?n:null==t?void 0:t.isList;return(0,c.jsxs)(o.Flex,{style:a._.mr.xs,children:[d&&(0,c.jsx)(i.IconLayout,{style:a._.mr.xs,list:l,onPress:(null==t?void 0:t.switchLayout)||function(){},children:(0,c.jsx)(o.Heatmap,{right:30,id:r+".切换布局"})}),(0,c.jsx)(i.IconHeader,{name:"md-vertical-align-top",onPress:(null==t?void 0:t.scrollToTop)||function(){},children:(0,c.jsx)(o.Heatmap,{id:r+".到顶"})})]})}),l.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenAnime"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"游戏"'},{value:'"Anime"'},{value:'"ADV"'},{value:'"Manga"'},{value:'"Hentai"'},{value:'"NSFW"'},{value:'"文库"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/anime/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/anime/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/anime/index.ts"),n=(t.COMPONENT="Anime",t.ADVANCE_LIMIT=80,[[],[]]);r.ANIME_TAGS.forEach((function(e,t){return n[t%2?1:0].push(e)}));var o=[[],[]];r.ANIME_OFFICIAL.forEach((function(e,t){return o[t%2?1:0].push(e)}));t.filterDS=[{title:"地区",type:"area",data:r.ANIME_AREA},{title:"版本",type:"type",data:r.ANIME_TYPE},{title:"首字",type:"first",data:r.ANIME_FIRST},{title:"年份",type:"year",data:r.ANIME_YEAR,always:!0},{title:"季度",type:"begin",data:r.ANIME_BEGIN,always:!0},{title:"状态",type:"status",data:r.ANIME_STATUS},{title:"类型",type:"tags",data:n,multiple:!0,multiSelect:!0},{title:"制作",type:"official",data:o,multiple:!0},{title:"排序",type:"sort",data:r.ANIME_SORT,always:!0},{title:"收藏",type:"collected",data:r.ANIME_COLLECTED}]},"./src/screens/discovery/anime/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(n.COMPONENT,"Header")},"./src/screens/discovery/anime/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var n=s("./src/components/index.ts"),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/anime/component/extra/index.tsx")),a=s("./src/screens/discovery/anime/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)((function(e,t){var s=e.title,r=void 0===s?"找番剧":s,o=e.alias,a=void 0===o?"Anime":o,l=e.hm,c=t.$;return(0,d.jsx)(n.Header,{title:r,alias:a,hm:l||["anime","Anime"],headerRight:function(){return(0,d.jsx)(i.default,{$:c,title:a})}})}),a.COMPONENT)},"./src/screens/discovery/hentai/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/hentai/index.ts"),n=s("./src/constants/index.ts"),o=(t.NAMESPACE="ScreenHentai",t.STATE={query:{first:"",year:2022,chara:"",job:"",body:"",content:"",sort:"评分人数",collected:""},data:n.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=60,[[],[]]);r.HENTAI_CONTENT.forEach((function(e,t){return o[t%2?1:0].push(e)}));t.filterDS=[{title:"首字",type:"first",data:r.HENTAI_FIRST},{title:"年份",type:"year",data:r.HENTAI_YEAR,always:!0},{title:"人物",type:"chara",data:r.HENTAI_CHARA,login:!0},{title:"职业",type:"job",data:r.HENTAI_JOB,login:!0},{title:"外貌",type:"body",data:r.HENTAI_BODY,login:!0},{title:"剧情",type:"content",data:o,multiple:!0,login:!0},{title:"排序",type:"sort",data:r.HENTAI_SORT,always:!0},{title:"收藏",type:"collected",data:r.HENTAI_COLLECTED}]},"./src/screens/discovery/hentai/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var n=s("./src/components/index.ts"),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/hentai/list/index.tsx")),u=r(s("./src/screens/discovery/hentai/store.ts")),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,a.ic)(u.default,(function(e,t){var s=t.$;return(0,d.useRunAfter)((function(){s.init()})),(0,d.useObserver)((function(){return(0,m.jsxs)(n.Component,{id:"screen-hentai",children:[(0,m.jsx)(l.default,{title:"找番剧",alias:"Hentai",hm:["hentai","Hentai"]}),(0,m.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,m.jsx)(o.Notice,{children:"此页面已不再维护"}),s.access?(0,m.jsx)(c.default,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.FilterSwitch,{name:"Hentai"}),(0,m.jsx)(n.Text,{style:i._.mt.lg,align:"center",children:"游客或您所在的用户组暂不开放此功能"})]})]})]})}))}));try{hentai.displayName="hentai",hentai.__docgenInfo={description:"",displayName:"hentai",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/index.tsx#hentai"]={docgenInfo:hentai.__docgenInfo,name:"hentai",path:"src/screens/discovery/hentai/index.tsx#hentai"})}catch(e){}},"./src/screens/discovery/hentai/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var n=s("./src/components/index.ts"),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),l=s("./src/screens/discovery/hentai/item-grid/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),u={id:"Hentai.跳转"};t.default=(0,a.obc)((function(e,t){var s=e.pickIndex,r=e.index,a=e.num,m=t.navigation,f=(0,l.memoStyles)(),p=i.otaStore.hentaiSubjectId(s),y=i.otaStore.hentai(p),j=y.id,_=y.i,h=y.c,v=y.a,x=y.s,b=y.r;if(!j){var g=i._.grid(a);return(0,c.jsx)(n.Flex,{style:{width:g.width,height:d.IMG_HEIGHT_LG,marginBottom:g.marginLeft+i._.xs,marginLeft:g.marginLeft},justify:"center",children:(0,c.jsx)(n.Loading.Raw,{})})}return(0,c.jsx)(o.ItemCollectionsGrid,{navigation:m,style:(i._.isPad||i._.isLandscape)&&!(r%a)&&f.left,event:u,num:a,id:j,cover:_?"https://lain.bgm.tv/pic/cover/m/"+_+".jpg":d.IMG_DEFAULT,cdn:!1,name:h,score:x,rank:b,airtime:v?String(v).slice(0,7):"",collection:i.collectionStore.collect(j)})}))},"./src/screens/discovery/hentai/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles((function(){return{left:{marginLeft:r._.wind}}}))},"./src/screens/discovery/hentai/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var n=s("./src/components/index.ts"),o=s("./src/components/cover/utils.ts"),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),c=s("./src/utils/subject/hentai/index.ts"),u=s("./src/constants/index.ts"),m=s("./src/screens/discovery/hentai/item/utils.ts"),f=s("./src/screens/discovery/hentai/item/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=e.index,r=e.pickIndex,d=t.$,y=t.navigation,j=(0,f.memoStyles)(),_=a.otaStore.hentaiSubjectId(r),h=a.otaStore.hentai(_),v=h.id,x=h.h,b=h.i,g=h.c,T=h.e,O=h.a,S=h.t,E=void 0===S?[]:S,I=h.s,A=h.r,N=h.n;if(!v)return(0,p.jsx)(n.Flex,{style:j.loading,justify:"center",children:(0,p.jsx)(n.Loading.Raw,{})});var M=g.length>=20?13:g.length>=14?14:15,C=b?"https://lain.bgm.tv/pic/cover/m/"+b+".jpg":u.IMG_DEFAULT,L=[T?T+"话":"",O].filter((function(e){return!!e})).join(" / "),P=a.collectionStore.collect(v);return(0,p.jsxs)(n.Touchable,{style:j.container,animate:!0,onPress:function(){y.push("Subject",{subjectId:v,_cn:g,_image:(0,o.getCoverSrc)(C,u.IMG_WIDTH_LG),_hid:x}),(0,l.t)("Hentai.跳转",{subjectId:v})},children:[(0,p.jsxs)(n.Flex,{style:j.wrap,align:"start",children:[(0,p.jsx)(i.Cover,{src:C,width:u.IMG_WIDTH_LG,height:u.IMG_HEIGHT_LG,radius:!0,cdn:!1,textOnly:u.TEXT_ONLY||!d.isLogin}),(0,p.jsx)(n.Flex.Item,{style:a._.ml.wind,children:(0,p.jsxs)(n.Flex,{style:d.isLogin&&E.length>=14?j.contentFlux:j.content,direction:"column",justify:"between",align:"start",children:[(0,p.jsxs)(n.Flex,{align:"start",children:[(0,p.jsxs)(n.Flex.Item,{children:[(0,p.jsx)(n.Text,{size:M,bold:!0,numberOfLines:3,children:g}),(0,p.jsx)(n.Text,{style:a._.mt.sm,size:11,lineHeight:14,children:L})]}),(0,p.jsx)(i.Manage,{subjectId:v,collection:P,onPress:function(){a.uiStore.showManageModal({subjectId:v,title:g,status:u.MODEL_COLLECTION_STATUS.getValue(P)},"找Hentai")}})]}),d.isLogin&&!!E.length&&(0,p.jsxs)(n.Flex,{style:a._.mt.sm,wrap:"wrap",children:[E.map((function(e){return(0,p.jsx)(i.Tag,{style:j.tag,type:(0,m.getType)(d.state,e),value:c.HENTAI_TAGS[e]},e)})),(0,p.jsx)(i.Tag,{value:"+"+E.length})]}),(0,p.jsxs)(n.Flex,{style:a._.mt.md,wrap:"wrap",children:[(0,p.jsx)(i.Rank,{value:A}),(0,p.jsx)(i.Stars,{style:a._.mr.xs,value:I,simple:!0}),!!N&&(0,p.jsxs)(n.Text,{type:"sub",size:11,bold:!0,children:["(",N,")"]})]})]})})]}),0===s&&(0,p.jsx)(n.Heatmap,{id:"Hentai.跳转"})]})}))},"./src/screens/discovery/hentai/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:n.IMG_HEIGHT_LG},contentFlux:{minHeight:n.IMG_HEIGHT_LG},tag:{marginTop:6,marginRight:6},loading:{height:n.IMG_HEIGHT_LG}}}))},"./src/screens/discovery/hentai/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,s=null==e?void 0:e.query,n=s.chara,o=s.job,i=s.body,a=s.content,d=r.HENTAI_TAGS[t];return n===d||o===d||i===d||a===d?"main":void 0};var r=s("./src/utils/subject/hentai/index.ts")},"./src/screens/discovery/hentai/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("react")),m=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/screens/discovery/hentai/ds.ts"),_=r(s("./src/screens/discovery/hentai/item/index.tsx")),h=r(s("./src/screens/discovery/hentai/item-grid/index.tsx")),v=s("./src/screens/discovery/hentai/list/utils.ts"),x=s("./node_modules/react/jsx-runtime.js");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,l.default)(e);if(t){var n=(0,l.default)(this).constructor;s=Reflect.construct(r,arguments,n)}else s=r.apply(this,arguments);return(0,d.default)(this,s)}}var g=function(e){(0,a.default)(s,e);var t=b(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,i.default)(e),"connectRef",(function(t){var s=e.context.$;t&&t.scrollToOffset&&(s.scrollToOffset=t.scrollToOffset)})),(0,c.default)((0,i.default)(e),"renderItem",(function(t){var s=t.item,r=t.index;return e.context.$.isList?(0,x.jsx)(_.default,{pickIndex:s,index:r}):(0,x.jsx)(h.default,{pickIndex:s,index:r,num:e.num})})),e}return(0,o.default)(s,[{key:"num",get:function(){return p._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,x.jsx)(f.Filter,{filterDS:j.filterDS,name:"Hentai",type:"Hentai",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能仅对正常登录用户开放，非高级会员在一个条件下会有最多只显示前 "+j.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,n=t.data;if(!s&&!n._loaded)return(0,x.jsxs)(x.Fragment,{children:[this.renderFilter(),(0,x.jsx)(m.Loading,{})]});var o=e.isList?void 0:this.num;return(0,x.jsx)(f.PaginationList2,{keyExtractor:v.keyExtractor,connectRef:this.connectRef,contentContainerStyle:p._.container.bottom,numColumns:o,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,onPage:e.onPage},""+r+o)}}]),s}(u.default.Component);t.default=(0,y.obc)(g);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/hentai/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/hentai/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e){return String(e)}},"./src/screens/discovery/hentai/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/fetch/index.ts"),h=n(s("./src/utils/store/index.ts")),v=s("./src/utils/subject/hentai/index.ts"),x=s("./src/screens/discovery/hentai/ds.ts");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;s=Reflect.construct(r,arguments,n)}else s=r.apply(this,arguments);return(0,u.default)(this,s)}}var g=!1;t.default=(o=function(e){(0,c.default)(s,e);var t=b(s);function s(){var e;(0,a.default)(this,s);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return e=t.call.apply(t,[this].concat(o)),(0,f.default)((0,l.default)(e),"params",void 0),(0,f.default)((0,l.default)(e),"state",(0,y.observable)(x.STATE)),(0,f.default)((0,l.default)(e),"init",(0,i.default)(r.mark((function t(){var s,n,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStorage(x.NAMESPACE);case 2:if(s=t.sent,e.setState(Object.assign({},s,{_loaded:g})),g){t.next=7;break}return t.next=7,(0,v.init)();case 7:g=!0,n=e.params._tags,(o=void 0===n?[]:n).length&&e.initQuery(o),j.collectionStore.fetchUserCollectionsQueue(!1),e.search(),setTimeout((function(){e.setState({_loaded:!0})}),120);case 13:case"end":return t.stop()}}),t)})))),(0,f.default)((0,l.default)(e),"save",(function(){e.setStorage(x.NAMESPACE)})),(0,f.default)((0,l.default)(e),"search",(function(t){setTimeout((function(){var s=e.state.query,r=(0,v.search)(t||s);e.setState({data:r})}),80)})),(0,f.default)((0,l.default)(e),"initQuery",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.setState({expand:!0}),t.forEach((function(t){var s=e.state.query;e.setState({query:Object.assign({},s,(0,f.default)({},(0,v.getTagType)(v.HENTAI_TAGS_MAP[t]),t))})}))})),(0,f.default)((0,l.default)(e),"onSelect",(function(t,s){e.setState({query:Object.assign({},e.state.query,(0,f.default)({},t,s))}),setTimeout((function(){e.search(),e.save(),(0,_.t)("Hentai.选择",{type:t,value:s})}),0)})),(0,f.default)((0,l.default)(e),"scrollToOffset",null),(0,f.default)((0,l.default)(e),"scrollToTop",(function(){"function"==typeof e.scrollToOffset&&(e.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("Hentai.到顶"))})),(0,f.default)((0,l.default)(e),"switchLayout",(function(){var t=e.isList?"grid":"list";e.setState({layout:t}),e.save(),(0,_.t)("Hentai.切换布局",{layout:t})})),(0,f.default)((0,l.default)(e),"onExpand",(function(){e.setState({expand:!e.state.expand}),e.save()})),(0,f.default)((0,l.default)(e),"onPage",(function(e,t){return t&&t%5==0&&(0,_.t)("Hentai.更多",{page:t}),j.otaStore.onGamePage(e)})),e}return(0,d.default)(s,[{key:"access",get:function(){return!j.userStore.isLimit}},{key:"isLogin",get:function(){return j.userStore.isLogin}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,s=e.query,r=t.list;return"隐藏"===s.collected&&(r=r.filter((function(e){var t=j.otaStore.hentaiSubjectId(e);return!j.collectionStore.collect(t)}))),j.systemStore.advance||(r=r.filter((function(e,t){return t<x.ADVANCE_LIMIT}))),r}}]),s}(h.default),(0,p.default)(o.prototype,"access",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"access"),o.prototype),(0,p.default)(o.prototype,"isLogin",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"isLogin"),o.prototype),(0,p.default)(o.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"isList"),o.prototype),(0,p.default)(o.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"total"),o.prototype),(0,p.default)(o.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"list"),o.prototype),o)}}]);