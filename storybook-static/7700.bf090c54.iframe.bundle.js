(self.webpackChunkweb=self.webpackChunkweb||[]).push([[7700],{"./src/screens/home/wiki/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/home/wiki/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Component")},"./src/screens/home/wiki/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH=t.COVER_HEIGHT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),l=s("./src/screens/home/wiki/component/ds.ts");t.COMPONENT=(0,o.rc)(l.COMPONENT,"List"),t.COVER_WIDTH=r._.r(1.28*n.IMG_WIDTH),t.COVER_HEIGHT=r._.r(1.28*n.IMG_HEIGHT)},"./src/screens/home/wiki/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.sub.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(s("react")),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),a=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),j=s("./src/utils/decorators/index.ts"),h=s("./src/utils/dev/index.ts"),b=s("./src/constants/index.ts"),_=s("./src/screens/home/wiki/component/list/ds.ts"),y=s("./node_modules/react/jsx-runtime.js");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,u.default)(this,s)}}var x=function(e){(0,l.default)(s,e);var t=v(s);function s(){return(0,o.default)(this,s),t.apply(this,arguments)}return(0,n.default)(s,[{key:"renderCovers",value:function(){var e=this.context,t=e.$,s=e.navigation,r=t.wiki.covers;return null!=r&&r.length?(0,y.jsx)(a.HorizontalList,{style:[f._.mt.md,f._.mb.md],contentContainerStyle:f._.container.wind,data:r,initialRenderNums:f._.device(4,8),renderItem:function(e,t){var o=e.cover,n=e.userId,l=e.userName;return(0,y.jsxs)(c.default,{style:(0,p.stl)({width:_.COVER_WIDTH},!!t&&f._.ml.md),children:[(0,y.jsx)(m.Cover,{src:o,size:_.COVER_WIDTH,height:_.COVER_HEIGHT,radius:!0,onPress:function(){(0,p.showImageViewer)(r.map((function(e){return{url:"https:"+(0,p.getCoverLarge)(e.cover)}})),t)}}),(0,y.jsxs)(a.Flex,{style:f._.mt.sm,children:[!b.WEB&&(0,y.jsx)(m.Avatar,{navigation:s,userId:n,src:(0,b.API_AVATAR)(n),size:20}),(0,y.jsx)(a.Flex.Item,{style:f._.ml.sm,children:(0,y.jsx)(a.Text,{size:11,bold:!0,numberOfLines:1,onPress:function(){s.push("Zone",{userId:n,_name:l})},children:l||n})})]})]},o)}}):null}},{key:"renderEdits",value:function(){var e=this.context,t=e.$,s=e.navigation,r=t.wiki.edits;return null!=r&&r.length?(0,y.jsx)(c.default,{style:f._.container.wind,children:r.map((function(e,t){var o=e.id,n=e.comment,l=e.sub,u=e.time,i=e.userId,d=e.userName;return(0,y.jsxs)(c.default,{style:f._.mt.sm,children:[(0,y.jsxs)(a.Text,{lineHeight:15,bold:!0,children:["[",r.length-t,"] ",n||"N/A",!!l&&(0,y.jsxs)(a.Text,{size:13,lineHeight:15,bold:!0,children:[" ","(",l,")"]})]}),!(!d&&!i)&&(0,y.jsxs)(a.Flex,{style:f._.mt.sm,children:[(0,y.jsx)(a.Text,{style:f._.ml.sm,size:12,lineHeight:13,bold:!0,children:(0,p.simpleTime)(u)}),(0,y.jsx)(a.Text,{style:f._.ml.xs,type:"sub",size:12,lineHeight:13,children:"by"}),!b.WEB&&(0,y.jsx)(c.default,{style:f._.ml.sm,children:(0,y.jsx)(m.Avatar,{navigation:s,userId:i,src:(0,b.API_AVATAR)(i),size:20})}),(0,y.jsx)(a.Text,{style:f._.ml.sm,size:12,lineHeight:13,bold:!0,onPress:function(){s.push("Zone",{userId:i,_name:d})},children:d||i})]}),(0,y.jsx)(a.Divider,{style:f._.mt.xs})]},o)}))}):null}},{key:"render",value:function(){return(0,h.r)(_.COMPONENT),(0,y.jsxs)(a.ScrollView,{contentContainerStyle:f._.container.bottom,scrollToTop:!0,children:[this.renderCovers(),this.renderEdits()]})}}]),s}(d.default.Component);t.default=(0,j.obc)(x)},"./src/screens/home/wiki/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="SubjectWiki"},"./src/screens/home/wiki/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/home/wiki/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Header")},"./src/screens/home/wiki/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/utils/index.ts"),l=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/wiki/header/ds.ts"),d=s("./src/screens/home/wiki/header/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var s,r=t.$;return(0,c.jsx)(o.Header,{title:null!=(s=r.params)&&s.name?r.params.name+"的修订历史":"修订历史",alias:"修订历史",hm:[r.url,"SubjectWiki"],headerTitleStyle:d.styles.title,headerRight:function(){return(0,c.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,u.t)("修订历史.右上角菜单",{key:e}),(0,n.open)(r.url))},children:(0,c.jsx)(o.Heatmap,{id:"修订历史.右上角菜单"})})}})}),i.COMPONENT)},"./src/screens/home/wiki/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts");t.styles=r._.create({title:{paddingLeft:r._.sm,paddingRight:r._.md}})},"./src/screens/home/wiki/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("react"));var o=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),u=r(s("./src/screens/home/wiki/component/list/index.tsx")),i=r(s("./src/screens/home/wiki/header/index.tsx")),d=r(s("./src/screens/home/wiki/store/index.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(d.default,(function(e,t){var s=t.$;return(0,l.useRunAfter)((function(){s.init()})),(0,l.useObserver)((function(){return(0,c.jsxs)(o.Component,{id:"screen-subject-wiki",children:[(0,c.jsx)(i.default,{}),(0,c.jsx)(o.Page,{children:(0,c.jsx)(u.default,{})})]})}))}))},"./src/screens/home/wiki/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),a=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),f=s("./src/constants/index.ts"),p=r(s("./src/screens/home/wiki/store/state.ts"));function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=(o=function(e){(0,u.default)(s,e);var t=j(s);function s(){return(0,n.default)(this,s),t.apply(this,arguments)}return(0,l.default)(s,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"subject",get:function(){return m.subjectStore.subject(this.subjectId)}},{key:"wiki",get:function(){return m.subjectStore.wiki(this.subjectId)}},{key:"url",get:function(){return f.HOST+"/subject/"+this.subjectId+"/edit"}}]),s}(p.default),(0,c.default)(o.prototype,"subjectId",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"subjectId"),o.prototype),(0,c.default)(o.prototype,"subject",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"subject"),o.prototype),(0,c.default)(o.prototype,"wiki",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"wiki"),o.prototype),(0,c.default)(o.prototype,"url",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"url"),o.prototype),o)},"./src/screens/home/wiki/store/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=s("./src/stores/index.ts"),m=r(s("./src/screens/home/wiki/store/computed.ts"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,u.default)(s,e);var t=f(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,l.default)(e),"init",(function(){return a.subjectStore.fetchWiki({subjectId:e.subjectId})})),e}return(0,o.default)(s)}(m.default)},"./src/screens/home/wiki/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r(s("./src/utils/store/index.ts"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,u.default)(s,e);var t=m(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,l.default)(e),"params",void 0),e}return(0,o.default)(s)}(a.default)}}]);