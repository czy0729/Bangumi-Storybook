(self.webpackChunkweb=self.webpackChunkweb||[]).push([[9953],{"./src/screens/user/sponsor/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Sponsor=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/sponsor/index.tsx")),l=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Sponsor",component:o.default},s.Sponsor=function(){return(0,l.jsx)(n.StorybookSPA,{children:(0,l.jsx)(n.StorybookList,{children:(0,l.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Sponsor")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Sponsor')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/timeline/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.UserTimeline=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/timeline/index.tsx")),l=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/UserTimeline",component:o.default},s.UserTimeline=function(){return(0,l.jsx)(n.StorybookSPA,{children:(0,l.jsx)(n.StorybookList,{children:(0,l.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("UserTimeline")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserTimeline')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/user-setting/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.UserSetting=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/user-setting/index.tsx")),l=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/UserSetting",component:o.default},s.UserSetting=function(){return(0,l.jsx)(n.StorybookSPA,{children:(0,l.jsx)(n.StorybookList,{children:(0,l.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("UserSetting")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/v2/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.User=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/v2/index.tsx")),l=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/User",component:o.default},s.User=function(){return(0,l.jsx)(n.StorybookSPA,{children:(0,l.jsx)(n.StorybookList,{children:(0,l.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("User")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('User')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/zone/index.stories.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Zone=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=r(t("./src/screens/user/zone/index.tsx")),l=t("./node_modules/react/jsx-runtime.js"),r=(s.default={title:"screens/Zone",component:o.default},s.Zone=function(){return(0,l.jsx)(n.StorybookSPA,{children:(0,l.jsx)(n.StorybookList,{style:{overflowY:"scroll"},children:(0,l.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Zone")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList\n      \n      style={{\n        // @ts-expect-error\n        overflowY: 'scroll'\n      }}\n    >\n      <Component {...getStorybookArgs('Zone')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/sponsor/component/chart/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Chart")},"./src/screens/user/sponsor/component/chart/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),m=t("./src/utils/dev/index.ts"),p=t("./src/utils/fetch/index.ts"),f=t("./src/utils/hooks/index.ts"),_=t("./src/screens/user/sponsor/ds.ts"),j=t("./src/screens/user/sponsor/utils.ts"),x=r(t("./src/screens/user/sponsor/component/item/index.tsx")),b=t("./src/screens/user/sponsor/component/chart/ds.ts"),y=t("./src/screens/user/sponsor/component/chart/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");function n(e){var r=e.navigation,s=((0,m.r)(b.COMPONENT),(0,y.memoStyles)()),e=(0,j.useTreemapSquarify)(),t=e.data,n=e.filterLength,o=e.filterCount,l=e.setFilter,d=e.resetFilter;return(0,f.useObserver)(function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.Flex,{style:s.filter,direction:"column",justify:"center",children:[(0,h.jsx)(i.Flex,{children:n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.Text,{size:13,bold:!0,children:["已隐藏 ",n," 格，还有 ",o," 格未显示"]}),(0,h.jsx)(a.default,{style:s.refresh,children:(0,h.jsx)(c.IconTouchable,{name:"md-refresh",color:u._.colorDesc,size:18,onPress:function(){return d()}})})]}):(0,h.jsxs)(i.Text,{size:13,bold:!0,children:["还有 ",o," 格未显示，点击方格隐藏"]})}),!n&&(0,h.jsxs)(i.Flex,{style:u._.mt.sm,children:[(0,h.jsx)(a.default,{style:[s.l,s.l4]}),(0,h.jsx)(i.Text,{style:u._.mr.sm,size:10,bold:!0,children:"≥ 200"}),(0,h.jsx)(a.default,{style:[s.l,s.l3]}),(0,h.jsx)(i.Text,{style:u._.mr.sm,size:10,bold:!0,children:"≥ 50"}),(0,h.jsx)(a.default,{style:[s.l,s.l2]}),(0,h.jsx)(i.Text,{style:u._.mr.sm,size:10,bold:!0,children:"≥ 20"}),(0,h.jsx)(a.default,{style:[s.l,s.l1]}),(0,h.jsx)(i.Text,{style:u._.mr.sm,size:10,bold:!0,children:"≥ 10"})]})]}),(0,h.jsx)(a.default,{style:s.container,children:t.map(function(t){return(0,h.jsx)(x.default,Object.assign({},t,{onPress:function(){l(t.data)},onLongPress:u.systemStore.advance?function(){var e,s=t.data;r.push("Zone",{userId:s,_name:null==(e=_.USERS_MAP[t.data])?void 0:e.n}),(0,p.t)("赞助者.跳转",{userId:s})}:void 0}),t.data)})})]})})}s.default=n;try{n.displayName="Chart",n.__docgenInfo={description:"",displayName:"Chart",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/component/chart/index.tsx#Chart"]={docgenInfo:n.__docgenInfo,name:"Chart",path:"src/screens/user/sponsor/component/chart/index.tsx#Chart"})}catch(e){}},"./src/screens/user/sponsor/component/chart/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{filter:{paddingVertical:12},container:{flex:1,backgroundColor:r._.colorPlain},refresh:{marginRight:-24},l:{width:14,height:14,marginRight:4,borderRadius:4,borderWidth:r._.hairlineWidth,borderColor:r._.colorBorder,overflow:"hidden"},l1:{backgroundColor:r._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:r._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:r._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:r._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}})},"./src/screens/user/sponsor/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/sponsor/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Item")},"./src/screens/user/sponsor/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.parse-int.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),f=t("./src/components/index.ts"),_=t("./src/screens/_/index.ts"),j=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/sponsor/ds.ts"),n=t("./src/screens/user/sponsor/component/item/ds.ts"),y=t("./src/screens/user/sponsor/component/item/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(e){var s,t=e.w,r=e.h,n=e.x,o=e.y,l=e.data,d=e.percent,a=e.price,i=e.isFilter,c=e.onPress,e=e.onLongPress,u=(0,y.memoStyles)(),d=Math.pow(d+1,2),m=Math.min(t,r)/j._.window.height*1.2,i=!i&&!!l&&10<=a&&.016<t*r/(j._.window.width*j._.window.height),m=Math.min(64,parseInt(String(240*m)));return 200<=a?s=u.l4:50<=a?s=u.l3:20<=a?s=u.l2:10<=a&&(s=u.l1),(0,h.jsxs)(p.default,{style:[u.item,{top:o,left:n}],children:[(0,h.jsx)(f.Touchable,{style:{width:t,height:r},onPress:c,onLongPress:e,children:(0,h.jsxs)(f.Flex,{style:[u.body,{width:t,height:r,backgroundColor:j._.colorPlain},s],direction:"column",justify:"center",children:[i&&(0,h.jsx)(p.default,{style:{marginBottom:parseInt(String(5.6*d))},pointerEvents:"none",children:(0,h.jsx)(f.UserStatus,{style:s,userId:(null==(a=b.USERS_MAP[l])?void 0:a.i)||l,mini:m<32,children:(0,h.jsx)(_.Avatar,{src:null!=(o=b.USERS_MAP[l])&&o.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==(n=b.USERS_MAP[l])?void 0:n.a)+".jpg":x.IMG_DEFAULT_AVATAR,size:m,radius:.36*m,borderWidth:0})})}),(0,h.jsx)(f.Flex,{style:u.content,justify:"center",children:(0,h.jsx)(f.Text,{size:8<=(null==(c=b.USERS_MAP[l])||null==(e=c.n)?void 0:e.length)?10:Math.min(14,parseInt(String(11*d))),numberOfLines:2,bold:!0,align:"center",selectable:!1,children:null==(t=b.USERS_MAP[l])?void 0:t.n})})]})}),(0,h.jsx)(p.default,{style:u.border,pointerEvents:"none"})]})},n.COMPONENT);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{w:{defaultValue:null,description:"",name:"w",required:!0,type:{name:"any"}},h:{defaultValue:null,description:"",name:"h",required:!0,type:{name:"any"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"any"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"any"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"any"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"any"}},isFilter:{defaultValue:null,description:"",name:"isFilter",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}},onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/component/item/index.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/user/sponsor/component/item/index.tsx#item"})}catch(e){}},"./src/screens/user/sponsor/component/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{item:{position:"absolute"},body:{flex:1},border:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,borderWidth:r._.hairlineWidth,borderColor:r._.select("rgba(0, 0, 0, 0.12)","rgba(255, 255, 255, 0.12)")},content:{width:"88%"},l1:{backgroundColor:r._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:r._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:r._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:r._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}})},"./src/screens/user/sponsor/component/list-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ListItem")},"./src/screens/user/sponsor/component/list-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/sponsor/ds.ts"),i=t("./src/screens/user/sponsor/component/list-item/ds.ts"),c=t("./src/screens/user/sponsor/component/list-item/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.item,s=s.navigation,t=a.USERS_MAP[e.data],e=e.data;return(0,u.jsxs)(n.Flex,{style:c.styles.item,children:[(0,u.jsx)(n.UserStatus,{userId:e,children:(0,u.jsx)(o.Avatar,{navigation:s,src:null!=t&&t.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==t?void 0:t.a)+".jpg":d.IMG_DEFAULT_AVATAR,name:null==t?void 0:t.n,userId:e,size:32})}),(0,u.jsxs)(n.Flex.Item,{style:l._.ml.sm,children:[(0,u.jsx)(n.Text,{size:12,bold:!0,children:null==t?void 0:t.n}),(0,u.jsxs)(n.Text,{size:10,type:"sub",children:["@",e]})]})]})},i.COMPONENT)},"./src/screens/user/sponsor/component/list-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({item:{width:"50%",paddingHorizontal:t._._wind,paddingVertical:t._.sm}})},"./src/screens/user/sponsor/component/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"List")},"./src/screens/user/sponsor/component/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/sponsor/ds.ts"),i=t("./src/screens/user/sponsor/component/list/utils.tsx"),c=t("./src/screens/user/sponsor/component/list/ds.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(){return(0,u.jsx)(o.PaginationList2,{contentContainerStyle:l._.container.bottom,keyExtractor:i.keyExtractor,data:a.LIST,numColumns:2,limit:40,ListHeaderComponent:(0,u.jsxs)(n.Text,{style:[l._.mt.sm,l._.mb.md],size:12,bold:!0,align:"center",children:["截止至 ",d.TEXT_UPDATE_SPONSOR," 共 ",a.LIST.length," 人投食了，感谢你们的支持！"]}),renderItem:i.renderItem})},c.COMPONENT)},"./src/screens/user/sponsor/component/list/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.keyExtractor=l,s.renderItem=d,r(t("./node_modules/react/index.js")),r(t("./src/screens/user/sponsor/component/list-item/index.tsx"))),o=t("./node_modules/react/jsx-runtime.js");function l(e){return String(e.data)}function d(e){e=e.item;return(0,o.jsx)(n.default,{item:e})}try{l.displayName="keyExtractor",l.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/component/list/utils.tsx#keyExtractor"]={docgenInfo:l.__docgenInfo,name:"keyExtractor",path:"src/screens/user/sponsor/component/list/utils.tsx#keyExtractor"})}catch(e){}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/user/sponsor/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/user/sponsor/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.sort.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.LIST=s.FILTER_RATE=s.COMPONENT=void 0,Object.defineProperty(s,"USERS_MAP",{enumerable:!0,get:function(){return d.default}}),r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=t("./src/utils/index.ts"),l=r(t("./src/assets/json/advance.json")),d=r(t("./src/assets/json/user.json"));s.COMPONENT="Sponsor",s.NAMESPACE="ScreeSponsor",s.STATE={list:!0,_loaded:!1},s.LIST=Object.keys(l.default).map(function(e){var s=l.default[e];return 1==s?{data:e,weight:10}:(s=s.split("|"),s=(0,n.default)(s,2)[1],{data:e,weight:Number(s)})}).sort(function(e,s){return(0,o.desc)(e.weight,s.weight)}),s.FILTER_RATE=.002},"./src/screens/user/sponsor/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/sponsor/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Header")},"./src/screens/user/sponsor/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/sponsor/utils.ts"),n=t("./src/screens/user/sponsor/header/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.state.list;return(0,i.jsx)(o.Header,{title:"赞助者",hm:["sponsor","Sponsor"],headerRight:function(){return(0,i.jsxs)(o.Flex,{children:[(0,i.jsx)(l.IconTouchable,{style:d._.mr.sm,name:n?"md-insert-chart-outlined":"md-sort",color:d._.colorTitle,onPress:t.onToggle}),(0,i.jsx)(l.IconTouchable,{name:"md-info-outline",color:d._.colorTitle,onPress:function(){r.push("Information",{title:"赞助者",message:["生存情况：已存活 "+(0,a.timeDiff)(),"图表根据赞助额按比例划分","点击方格隐藏 1 格，若你为赞助者长按可进入空间","除此外还有 30 多个赞助者没有留名","@senken 提供的 100 刀 iOS 开发账号","@magma 提供的服务器和 OSS 服务","数据不定期更新，感谢各位的支持！"]})}})]})}})},n.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/sponsor/header/index.tsx#header"})}catch(e){}},"./src/screens/user/sponsor/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/sponsor/component/chart/index.tsx")),a=r(t("./src/screens/user/sponsor/component/list/index.tsx")),i=r(t("./src/screens/user/sponsor/header/index.tsx")),r=r(t("./src/screens/user/sponsor/store.ts")),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$,r=s.navigation;return(0,l.useRunAfter)(function(){t.init()}),(0,l.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-sponsor",children:[(0,c.jsx)(i.default,{}),(0,c.jsx)(n.Page,{loaded:t.state._loaded,children:t.state.list?(0,c.jsx)(a.default,{}):(0,c.jsx)(d.default,{navigation:r})})]})})});try{sponsor.displayName="sponsor",sponsor.__docgenInfo={description:"",displayName:"sponsor",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/index.tsx#sponsor"]={docgenInfo:sponsor.__docgenInfo,name:"sponsor",path:"src/screens/user/sponsor/index.tsx#sponsor"})}catch(e){}},"./src/screens/user/sponsor/store.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),_=t("./src/utils/index.ts"),j=r(t("./src/utils/store/index.ts")),x=r(t("./src/assets/json/advance.json")),b=t("./src/screens/user/sponsor/ds.ts");function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var h;s.default=(r=j.default,(0,i.default)(g,r),h=y(g),(0,d.default)(g,[{key:"list",get:function(){return Object.keys(x.default)}}]),(0,p.default)((t=g).prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function g(){var s;(0,l.default)(this,g);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,m.default)((0,a.default)(s),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,a.default)(s),"init",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=Object,e.t2={},e.next=5,s.getStorage(b.NAMESPACE);case 5:return e.t3=e.sent,e.t4={_loaded:!0},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(s),"onToggle",function(){var e=!s.state.list;s.setState({list:e}),s.setStorage(b.NAMESPACE),e?(0,_.info)("列表显示"):(0,_.info)("按打赏金额分布显示")}),s}},"./src/screens/user/sponsor/utils.ts":(e,s,t)=>{var l=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.parse-float.js"),t("./node_modules/core-js/modules/es.number.to-fixed.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.devGetUsersInfo=function(){return n.apply(this,arguments)},s.devLocalUsersInfo=function(){return o.apply(this,arguments)},s.timeDiff=function(){var e=(0,a.default)("2019-03-30"),s=(0,a.default)(),s=Math.floor(s.diff(e)/1e3),e=Math.floor(s/31536e3),t=(s-=31536e3*e,Math.floor(s/2592e3)),r=(s-=2592e3*t,Math.floor(s/86400)),n=(s-=86400*r,Math.floor(s/3600)),o=(s-=3600*n,Math.floor(s/60)),s=s-=60*o;return e+"年"+t+"月"+r+"日"+n+"时"+o+"分"+s+"秒"},s.useTreemapSquarify=function(){var e=(0,m.useState)((0,c.default)(y)),e=(0,u.default)(e,2),s=e[0],t=e[1],e=(0,m.useCallback)(function(e){t([].concat((0,c.default)(s),[e])),y=[].concat((0,c.default)(s),[e])},[s,t]),r=(0,m.useCallback)(function(){t([]),y=[]},[t]),n=b.LIST.filter(function(e){return!s.includes(e.data)}),o=h(n),l=0,d=0,a=h(n=n.filter(function(e,s){return!(e.weight/o<b.FILTER_RATE||40<=s)||(l+=1,d+=e.weight,!1)})),n=n.map(function(e){return{data:e.data,weight:e.weight,price:e.weight,percent:e.weight/a}}),i=[];try{_.default.squarify({frame:{x:0,y:0,width:p._.window.width,height:p._.window.height-p._.headerHeight-56-(j.IOS?28:0)},nodes:n},function(e,s,t,r,n){return i.push({data:n.data,price:n.price,percent:n.percent,x:parseFloat((0,f.toFixed)(e,3)),y:parseFloat((0,f.toFixed)(s,3)),w:parseFloat((0,f.toFixed)(t,3)),h:parseFloat((0,f.toFixed)(r,3))})})}catch(e){}return{data:i,filterLength:s.length,filterCount:l,filterTotal:d,setFilter:e,resetFilter:r}},r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),u=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=t("./node_modules/react/index.js"),a=r(t("./node_modules/dayjs/dayjs.min.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),i=t("./src/utils/kv/index.ts"),_=r(t("./src/utils/thirdParty/treemap.ts")),j=t("./src/constants/index.ts"),x=r(t("./src/assets/json/advance.json")),b=t("./src/screens/user/sponsor/ds.ts");var y=[];function h(e){var s=0;return e.forEach(function(e){return s+=e.weight||0}),s}function n(){return(n=(0,d.default)(l.mark(function e(){var n,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("devGetUsersInfo"),n={},o=Object.keys(x.default),e.next=5,(0,f.queue)(o.map(function(t,r){return(0,d.default)(l.mark(function e(){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.usersStore.fetchUsers({userId:t});case 2:return s=e.sent,console.info(r+" / "+o.length),n[t]={n:s.userName},s.avatar&&(n[t].a=s.avatar.split("?")[0].split("/000/")[1].replace(".jpg","")),s.userId!==t&&(n[t].i=s.userId),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))}));case 5:(0,i.update)("sponsor_users_map",n),console.info("done");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=(0,d.default)(l.mark(function e(){var r;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("devLocalUsersInfo"),e.next=3,p.usersStore.init("users");case 3:r={},Object.keys(x.default).forEach(function(e,s){var t=p.usersStore.users(e);r[e]={n:t.userName},t.avatar&&(r[e].a=t.avatar.split("?")[0].split("/000/")[1].replace(".jpg","")),t.userId!==e&&(r[e].i=t.userId)}),(0,i.update)("sponsor_users_map",r),console.info("done");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"./src/screens/user/timeline/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/timeline/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/timeline/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/timeline/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Item")},"./src/screens/user/timeline/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),i=t("./src/components/cover/utils.ts"),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),m=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),p=t("./src/utils/fetch/index.ts"),n=t("./src/screens/user/timeline/component/item/ds.ts"),f=t("./src/screens/user/timeline/component/item/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=e.subject,n=e.action,o=s.navigation,l=(0,f.memoStyles)();return(0,_.jsxs)(a.Flex,{style:l.subjects,align:"start",wrap:"wrap",children:[(0,_.jsx)(d.default,{style:l.nodeDay}),r.map(function(e){var s=(0,m.findSubjectCn)(e.name),t="动画";return n.includes("读")&&(t="书籍"),n.includes("听")&&(t="音乐"),n.includes("玩")&&(t="游戏"),(0,_.jsx)(d.default,{style:1<r.length?l.subjectHalf:l.subject,children:(0,_.jsx)(a.Touchable,{animate:!0,onPress:function(){(0,p.t)("时间线.跳转",{to:"Suject",subjectId:e.id}),o.push("Subject",{subjectId:e.id,_cn:s,_jp:e.name,_image:(0,i.getCoverSrc)(e.cover,f.WIDTH),_type:t})},children:(0,_.jsxs)(a.Flex,{align:"start",children:[(0,_.jsx)(c.Cover,{src:e.cover,width:f.WIDTH,height:f.HEIGHT,type:t,radius:!0}),(0,_.jsxs)(a.Flex.Item,{style:u._.ml.md,children:[(0,_.jsxs)(a.Flex,{style:u._.mt.xs,children:[(0,_.jsx)(c.Tag,{value:n.replace("了","")}),!!e.star&&(0,_.jsx)(c.Stars,{style:u._.ml.xs,value:e.star,size:10})]}),(0,_.jsx)(a.Text,{style:u._.mt.sm,size:12,bold:!0,numberOfLines:3,children:s}),!!e.comment&&(0,_.jsx)(a.Flex,{style:u._.mt.sm,children:(0,_.jsx)(a.Text,{style:l.comment,size:12,children:e.comment})})]})]})})},String(e.id))})]})},n.COMPONENT)},"./src/screens/user/timeline/component/item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=s.WIDTH=s.HEIGHT=void 0;var r=t("./src/stores/index.ts"),t=t("./src/constants/index.ts"),n=s.WIDTH=r._.r(t.IMG_WIDTH/1.1);s.HEIGHT=r._.r(t.IMG_HEIGHT/1.1),s.memoStyles=r._.memoStyles(function(){return{nodeDay:{position:"absolute",zIndex:3,top:r._.r(8),left:0,width:r._.r(6),height:r._.r(6),marginTop:r._.r(-3),marginLeft:r._.r(-12),backgroundColor:r._.colorMain,borderRadius:r._.r(3),transform:[{translateX:r._.r(-3)}]},subjects:{marginBottom:r._.sm},cover:{width:n},subject:{width:"100%",marginRight:r._.sm,marginBottom:r._.md},subjectHalf:{width:"100%",maxWidth:(r._.window.contentWidth-2*r._.sm)/2,paddingRight:r._.sm,marginBottom:r._.md},comment:{paddingVertical:r._.sm,paddingHorizontal:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/timeline/component/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/timeline/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"List")},"./src/screens/user/timeline/component/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/timeline/component/item/index.tsx")),r=t("./src/screens/user/timeline/component/list/ds.ts"),i=t("./src/screens/user/timeline/component/list/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var t=s.$,r=(0,i.memoStyles)();return(0,c.jsx)(n.default,{style:r.container,children:t.yearsTimeline.map(function(e,s){return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.lineBottom}),(0,c.jsx)(n.default,{style:r.nodeYear}),(0,c.jsxs)(o.Flex,{children:[(0,c.jsxs)(o.Text,{size:18,lineHeight:48,type:"title",bold:!0,children:[e.title,"年"," "]}),0===s&&(0,c.jsxs)(o.Text,{style:l._.ml.sm,size:12,bold:!0,children:["加入 Bangumi",(0,c.jsxs)(o.Text,{type:"main",size:12,bold:!0,children:[" ",t.days," "]}),"天"]})]}),(0,c.jsx)(o.Heatmap,{id:"时间线.跳转"})]}),e.data.map(function(e){return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),(0,c.jsx)(n.default,{style:r.nodeMonth}),(0,c.jsxs)(n.default,{style:r.block,children:[(0,c.jsxs)(o.Text,{size:20,lineHeight:28,type:"title",bold:!0,children:[parseInt(e.title.slice(5,7)),"月"]}),(0,c.jsxs)(o.Flex,{children:[!!e.actions["看过"]&&(0,c.jsxs)(o.Text,{style:l._.mr.sm,size:13,lineHeight:20,type:"sub",children:["看过"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["看过"]," "]})]}),!!e.actions["在看"]&&(0,c.jsxs)(o.Text,{style:l._.mr.sm,size:13,lineHeight:20,type:"sub",children:["在看"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["在看"]," "]})]}),!!e.actions["想看"]&&(0,c.jsxs)(o.Text,{style:l._.mr.sm,size:13,lineHeight:20,type:"sub",children:["想看"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["想看"]," "]})]}),!!e.actions["搁置"]&&(0,c.jsxs)(o.Text,{style:l._.mr.sm,size:13,lineHeight:20,type:"sub",children:["搁置"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["搁置"]," "]})]}),!!e.actions["抛弃"]&&(0,c.jsxs)(o.Text,{style:l._.mr.sm,size:13,lineHeight:20,type:"sub",children:["抛弃"," ",(0,c.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["抛弃"]," "]})]})]})]})]}),(0,c.jsx)(n.default,{children:e.data.map(function(e){var s=e.title.split("-"),s=s[1]+"月"+s[2]+"日";return(0,c.jsxs)(n.default,{children:[(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),(0,c.jsx)(o.Text,{lineHeight:28,bold:!0,children:s})]}),(0,c.jsxs)(n.default,{children:[(0,c.jsx)(n.default,{style:r.line}),e.data.map(function(e){return(0,c.jsx)(a.default,{subject:e.subject,action:e.action},e.id)})]})]},e.title)})})]},e.title)})]},e.title)})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/timeline/component/list/index.tsx#list"})}catch(e){}},"./src/screens/user/timeline/component/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.r(32),marginRight:r._.wind,marginLeft:r._.wind-r._._wind},line:{position:"absolute",top:0,left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},lineBottom:{position:"absolute",zIndex:1,top:"50%",left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},nodeYear:{position:"absolute",zIndex:2,top:"50%",left:0,width:r._.r(4),height:r._.r(4),marginTop:r._.r(-2),marginLeft:r._.r(-12),backgroundColor:r._.colorTitle,borderRadius:r._.r(2),transform:[{translateX:r._.r(-2)}]},nodeMonth:{position:"absolute",zIndex:2,top:r._.r(22),left:0,width:r._.r(8),height:r._.r(8),marginTop:r._.r(-4),marginLeft:r._.r(-4),backgroundColor:r._.colorPlain,borderWidth:1,borderColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),borderRadius:r._.r(4),transform:[{translateX:r._.r(-12)}]},block:{paddingTop:4,paddingHorizontal:r._.md,paddingBottom:10,marginBottom:r._.md,backgroundColor:r._.select(r._.colorMainLight,r._.colorBg),borderWidth:1,borderColor:r._.select(r._.colorMain,"rgba(254, 138, 149, 0.5)"),borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/timeline/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_TYPE=s.DEFAULT_SCOPE=s.COMPONENT=void 0;t=t("./src/constants/index.ts");s.COMPONENT="UserTimeline",s.DEFAULT_SCOPE=t.MODEL_TIMELINE_SCOPE.getValue("自己"),s.DEFAULT_TYPE=t.MODEL_TIMELINE_TYPE.getValue("收藏")},"./src/screens/user/timeline/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.$.params.userName,(0,a.jsx)(n.Header,{title:s?s+"的时间线":"时间线",alias:"时间线",hm:["user/timeline","UserTimeline"],headerRight:function(){return(0,a.jsx)(o.IconTouchable,{name:"md-info-outline",color:l._.colorDesc,onPress:function(){return(0,d.info)("进度瓷砖会有延迟, 若无数据可过段时间再来")}})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/timeline/header/index.tsx#header"})}catch(e){}},"./src/screens/user/timeline/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/screens/_/index.ts"),d=t("./src/utils/decorators/index.ts"),a=t("./src/utils/hooks/index.ts"),i=r(t("./src/screens/user/timeline/component/list/index.tsx")),c=r(t("./src/screens/user/timeline/header/index.tsx")),r=r(t("./src/screens/user/timeline/store.ts")),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(r.default,function(e,s){var t=s.$;return(0,a.useRunAfter)(function(){t.init()}),(0,a.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-user-timeline",children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(o.Page,{children:(0,u.jsx)(o.ListView,{data:t.timeline,scrollToTop:!0,ListHeaderComponent:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.MosaicTile,{mosaicTile:t.mosaicTile}),(0,u.jsx)(i.default,{})]}),renderItem:function(){return(0,u.jsx)(n.default,{})},onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchTimeline})})]})})});try{timeline.displayName="timeline",timeline.__docgenInfo={description:"",displayName:"timeline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/index.tsx#timeline"]={docgenInfo:timeline.__docgenInfo,name:"timeline",path:"src/screens/user/timeline/index.tsx#timeline"})}catch(e){}},"./src/screens/user/timeline/store.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.parse-int.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),_=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),r=r(t("./src/utils/store/index.ts")),x=t("./src/screens/user/timeline/ds.ts");function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var y;s.default=(t=r.default,(0,i.default)(h,t),y=b(h),(0,d.default)(h,[{key:"userId",get:function(){return this.params.userId}},{key:"users",get:function(){return _.usersStore.users(this.userId)}},{key:"days",get:function(){var e=this.users.join;return e?(e=(0,j.getTimestamp)(e.replace(" 加入","")),Math.floor(((0,j.getTimestamp)()-e)/24/60/60)):"-"}},{key:"mosaicTile",get:function(){return _.collectionStore.mosaicTile}},{key:"timeline",get:function(){var e=_.timelineStore.timeline(x.DEFAULT_SCOPE,x.DEFAULT_TYPE);return Object.assign({},e,{list:e.list.map(function(t){var e="今天"===(e=t.date)?(0,j.date)("Y-m-d",(0,j.getTimestamp)()):"昨天"===e?(0,j.date)("Y-m-d",(0,j.getTimestamp)()-86400):String(e).split("-").map(function(e){return(0,j.pad)(e)}).join("-");return{id:t.id,date:e,action:t.p2.text,subject:(t.p3.url||[]).filter(function(e){return!!e}).map(function(e,s){return{id:parseInt(e.match(/\d+/)[0]),name:t.p3.text[s]||"",cover:t.image[s]||"",star:t.star,comment:t.comment||""}}),time:t.time}})})}},{key:"daysTimeline",get:function(){var t=[],r={};return this.timeline.list.forEach(function(e){var s=e.date;void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e]})):t[r[s]].data.push(e)}),t}},{key:"monthsTimeline",get:function(){var t=[],r={};return this.daysTimeline.forEach(function(e){var s=e.title.slice(0,7);void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e],actions:{}})):t[r[s]].data.push(e)}),t.forEach(function(t){t.data.forEach(function(e){e.data.forEach(function(e){var s=(s=e.action).replace(/玩|听|读/g,"看").replace("了","");t.actions[s]?t.actions[s]+=e.subject.length:t.actions[s]=e.subject.length})})}),t}},{key:"yearsTimeline",get:function(){var t=[],r={};return this.monthsTimeline.forEach(function(e){var s=e.title.slice(0,4);void 0===r[s]?(r[s]=t.length,t.push({title:s,data:[e]})):t[r[s]].data.push(e)}),t}}]),(0,p.default)((s=h).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,p.default)(s.prototype,"users",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,p.default)(s.prototype,"days",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"days"),s.prototype),(0,p.default)(s.prototype,"mosaicTile",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"mosaicTile"),s.prototype),(0,p.default)(s.prototype,"timeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"timeline"),s.prototype),(0,p.default)(s.prototype,"daysTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"daysTimeline"),s.prototype),(0,p.default)(s.prototype,"monthsTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"monthsTimeline"),s.prototype),(0,p.default)(s.prototype,"yearsTimeline",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"yearsTimeline"),s.prototype),s);function h(){var s;(0,l.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=y.call.apply(y,[this].concat(t)),(0,m.default)((0,a.default)(s),"params",void 0),(0,m.default)((0,a.default)(s),"init",function(){s.userId&&(s.fetchMosaicTile(),setTimeout((0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.users._loaded||_.usersStore.fetchUsers({userId:s.userId}),e.next=3,s.fetchTimeline(!0);case 3:s.fetchTimeline();case 4:case"end":return e.stop()}},e)})),1e3))}),(0,m.default)((0,a.default)(s),"fetchMosaicTile",function(){return _.collectionStore.fetchMosaicTile({userId:s.userId})}),(0,m.default)((0,a.default)(s),"fetchTimeline",function(){return _.timelineStore.fetchTimeline({scope:x.DEFAULT_SCOPE,type:x.DEFAULT_TYPE,userId:s.userId},0<arguments.length&&void 0!==arguments[0]&&arguments[0])}),(0,m.default)((0,a.default)(s),"onHeaderRefresh",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchMosaicTile();case 2:return e.abrupt("return",s.fetchTimeline(!0));case 3:case"end":return e.stop()}},e)}))),s}},"./src/screens/user/user-setting/component/avatars/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Avatars")},"./src/screens/user/user-setting/component/avatars/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/utils/user-setting/index.ts"),i=t("./src/screens/user/user-setting/component/utils.ts"),n=t("./src/screens/user/user-setting/component/avatars/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var r=e.avatar,n=s.$,e=n.state.avatars;return(0,c.jsxs)(c.Fragment,{children:[(0,d.arrGroup)(e,5).map(function(e,t){return(0,c.jsx)(o.Flex,{justify:"between",children:e.map(function(e,s){return 2===t&&4===s?(0,c.jsx)(o.Touchable,{style:l._.mb.md,animate:!0,scale:.9,onPress:function(){return n.onSelectAvatar("")},children:(0,c.jsx)(o.Image,{src:r,headers:(0,i.getHeaders)(r),size:60,radius:30,border:l._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e):(0,c.jsx)(o.Touchable,{style:l._.mb.md,animate:!0,scale:.9,onPress:function(){return n.onSelectAvatar(e)},children:(0,c.jsx)(o.Image,{src:(0,a.fixedRemote)(e,!0),headers:(0,i.getHeaders)(e),size:60,radius:30,border:l._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e)})},t)}),(0,c.jsx)(o.Text,{style:l._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"(以上图来源自 pixiv)"})]})},n.COMPONENT)},"./src/screens/user/user-setting/component/bgs/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Bgs")},"./src/screens/user/user-setting/component/bgs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/utils/user-setting/index.ts"),m=t("./src/constants/index.ts"),p=t("./src/screens/user/user-setting/component/utils.ts"),n=t("./src/screens/user/user-setting/component/bgs/ds.ts"),f=t("./src/screens/user/user-setting/component/bgs/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.avatar,r=e.more,n=e.onViewOrigin,e=e.onMore,o=s.$,l=(0,f.memoStyles)(),d=o.state.bgs;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(a.Flex,{wrap:"wrap",children:[(0,_.jsxs)(a.Touchable,{style:l.bg,animate:!0,onPress:function(){return o.onSelectBg("")},children:[(0,_.jsx)(a.Image,{src:(0,u.fixedRemote)(t),headers:(0,p.getHeaders)(t),width:l.image.width,height:l.image.height,radius:!0,blurRadius:m.IOS?o.state.avatar?64:16:8,fallback:!0},t),(0,_.jsx)(a.Text,{style:l.blurText,type:"__plain__",bold:!0,align:"center",children:"头像毛玻璃"})]}),d.filter(function(e,s){return!!r||s<=d.length/2}).map(function(e,s){return(0,_.jsxs)(a.Touchable,{style:(0,c.stl)(l.bg,s%2==0&&i._.ml.md),animate:!0,onPress:function(){return o.onSelectBg(e)},onLongPress:function(){return n(e,s)},children:[(0,_.jsx)(a.Image,{src:(0,u.fixedRemote)(e),width:l.image.width,height:l.image.height,headers:(0,p.getHeaders)(e),radius:!0},e),!s&&(0,_.jsx)(a.Heatmap,{id:"个人设置.查看原图"})]},s)})]}),(0,_.jsx)(a.Touchable,{style:[i._.mt.md,i._.mb.md],onPress:e,children:(0,_.jsx)(a.Text,{align:"center",size:13,bold:!0,children:r?"没有更多了":"点击加载更多"})}),(0,_.jsx)(a.Text,{style:i._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"长按可查看原图 (以上图来源自 pixiv)"})]})},n.COMPONENT)},"./src/screens/user/user-setting/component/bgs/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){var e=Math.floor((r._.window.width-r._.md-2*r._._wind)/2),s=.72*e;return{bg:{width:e,height:s,marginBottom:r._.md},image:{width:e,height:s},blurText:{position:"absolute",zIndex:1,top:52,left:0,right:0,textShadowOffset:{width:1,height:1},textShadowRadius:1,textShadowColor:"rgba(0, 0, 0, 0.24)",opacity:.8}}})},"./src/screens/user/user-setting/component/check/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Check")},"./src/screens/user/user-setting/component/check/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/dev/index.ts"),a=t("./src/screens/user/user-setting/component/check/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");function c(e){var s=e.$;return(0,d.r)(a.COMPONENT),(0,i.jsxs)(n.Flex,{children:[(0,i.jsx)(o.IconHeader,{style:l._.mr.sm,name:"md-remove-circle-outline",onPress:function(){return s.onInit(!0)}}),(0,i.jsx)(o.IconHeader,{style:l._.mr.xs,name:"md-check",onPress:s.onSave,children:(0,i.jsx)(n.Heatmap,{id:"个人设置.保存"})})]})}s.default=c;try{c.displayName="Check",c.__docgenInfo={description:"",displayName:"Check",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenUserSetting"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/component/check/index.tsx#Check"]={docgenInfo:c.__docgenInfo,name:"Check",path:"src/screens/user/user-setting/component/check/index.tsx#Check"})}catch(e){}},"./src/screens/user/user-setting/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/user-setting/component/form/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Form")},"./src/screens/user/user-setting/component/form/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),i=t("./src/screens/user/user-setting/component/form/ds.ts"),c=t("./src/screens/user/user-setting/component/form/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.expand,e=e.onExpand,r=s.$;return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.Flex,{style:l._.mt.md,children:[(0,u.jsx)(n.Text,{children:"昵称"}),(0,u.jsx)(n.Flex.Item,{style:l._.ml.md,children:(0,u.jsx)(n.Input,{style:c.styles.input,defaultValue:r.state.nickname,placeholder:"请填入昵称",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return r.onChangeText("nickname",e)}})})]}),(0,u.jsxs)(n.Flex,{style:l._.mt.md,children:[(0,u.jsx)(n.Text,{children:"签名"}),(0,u.jsx)(n.Flex.Item,{style:l._.ml.md,children:(0,u.jsx)(n.Input,{style:c.styles.input,defaultValue:r.state.sign_input,placeholder:"请填入签名",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return r.onChangeText("sign_input",e)}})})]}),(0,u.jsxs)(n.Flex,{style:l._.mt.md,children:[(0,u.jsx)(n.Text,{children:"头像"}),(0,u.jsx)(n.Flex.Item,{style:l._.ml.md,children:(0,u.jsx)(n.Input,{style:c.styles.input,defaultValue:r.state.avatar,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return r.onChangeText("avatar",e)}})}),(0,u.jsx)(o.IconTouchable,{style:l._.ml.xs,name:"md-info-outline",onPress:function(){return(0,d.confirm)("此头像非网页版头像，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,d.open)(a.HOST_IMAGE_UPLOAD)},"提示")}})]}),(0,u.jsxs)(n.Flex,{style:[l._.mt.md,l._.mb.md],children:[(0,u.jsx)(n.Text,{children:"背景"}),(0,u.jsx)(n.Flex.Item,{style:l._.ml.md,children:(0,u.jsx)(n.Input,{style:c.styles.input,defaultValue:r.state.bg,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return r.onChangeText("bg",e)}})}),(0,u.jsx)(o.IconTouchable,{style:l._.ml.xs,name:"md-info-outline",onPress:function(){return(0,d.confirm)("网页版没有背景概念，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,d.open)(a.HOST_IMAGE_UPLOAD)},"提示")}})]})]}),(0,u.jsx)(n.Touchable,{style:c.styles.more,onPress:e,children:(0,u.jsx)(n.Flex,{justify:"center",children:(0,u.jsx)(n.Text,{style:[l._.mt.sm,l._.mb.sm],size:13,type:"sub",bold:!0,children:t?"收起资料":"展开资料"})})})]})},i.COMPONENT)},"./src/screens/user/user-setting/component/form/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({input:{height:40,paddingVertical:0,paddingRight:40,borderRadius:t._.radiusMd,overflow:"hidden"},more:{paddingBottom:t._.md,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/user/user-setting/component/preview/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Preview")},"./src/screens/user/user-setting/component/preview/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/screens/user/user-setting/component/utils.ts"),n=t("./src/screens/user/user-setting/component/preview/ds.ts"),m=t("./src/screens/user/user-setting/component/preview/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.bg,r=e.avatar,e=e.blurRadius,n=s.$,o=s.navigation,s=(0,m.memoStyles)(),l=(n=n.usersInfo).nickname,d=n.id,n=n.username;return(0,p.jsxs)(a.default,{style:s.preview,children:[(0,p.jsx)(i.Image,{style:s.blurView,src:t,headers:(0,u.getHeaders)(t),width:c._.window.contentWidth,height:s.preview.height,blurRadius:e,fallback:!!e},t),(0,p.jsxs)(i.Flex,{style:s.mask,direction:"column",justify:"center",children:[(0,p.jsx)(i.Image,{style:s.avatar,src:r,headers:(0,u.getHeaders)(r),size:64,radius:32,border:c._.__colorPlain__,borderWidth:1.5,placeholder:!1,shadow:!0,fallback:!0},r),(0,p.jsxs)(i.Text,{style:c._.mt.sm,type:c._.select("plain","title"),size:12,children:[l,(0,p.jsxs)(i.Text,{type:c._.select("plain","title"),size:12,children:[" ",n||d?"@"+(n||d)+" ":""]})]})]}),(0,p.jsx)(a.default,{style:s.example,children:(0,p.jsx)(i.Touchable,{onPress:function(){o.push("Zone",{userId:"sukaretto"})},children:(0,p.jsx)(i.Text,{size:10,lineHeight:16,bold:!0,type:"__plain__",children:"[示例]"})})})]})},n.COMPONENT)},"./src/screens/user/user-setting/component/preview/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{blurView:{backgroundColor:r._.colorPlain,borderRadius:r._.radiusMd,overflow:"hidden"},preview:{height:Math.floor(.72*r._.window.contentWidth),marginBottom:r._.sm},mask:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.24)",borderRadius:r._.radiusMd,overflow:"hidden"},avatar:{marginTop:r._.md,backgroundColor:"rgba(255, 255, 255, 0.8)"},example:{position:"absolute",zIndex:2,right:12,bottom:12,opacity:.72}}})},"./src/screens/user/user-setting/component/refresh/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Refresh")},"./src/screens/user/user-setting/component/refresh/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/user-setting/component/refresh/ds.ts"),a=t("./src/screens/user/user-setting/component/refresh/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.onRefresh,1!==s.$.state.selectedIndex?null:(s=(0,a.memoStyles)(),(0,i.jsx)(n.default,{style:s.btn,children:(0,i.jsx)(o.Touchable,{style:s.touch,onPress:e,children:(0,i.jsx)(o.Flex,{style:s.icon,justify:"center",children:(0,i.jsx)(o.Iconfont,{name:"md-refresh",color:l._.colorPlain,size:20})})})}))},d.COMPONENT)},"./src/screens/user/user-setting/component/refresh/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{btn:{position:"absolute",zIndex:1001,right:r._.wind,bottom:n.DEV?240:64},touch:{backgroundColor:r._.colorTitle,borderRadius:20,overflow:"hidden",opacity:.8},icon:{width:40,height:40}}})},"./src/screens/user/user-setting/component/segmented/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Segmented"),s.DS=["预设背景","随机头像"]},"./src/screens/user/user-setting/component/segmented/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.index-of.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/user-setting/component/segmented/ds.ts"),l=t("./src/screens/user/user-setting/component/segmented/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return(0,d.jsx)(n.SegmentedControl,{style:l.styles.segmented,values:o.DS,selectedIndex:t.state.selectedIndex,onValueChange:function(e){return t.onValueChange(o.DS.indexOf(e))}},String(t.state._loaded))},o.COMPONENT);try{segmented.displayName="segmented",segmented.__docgenInfo={description:"",displayName:"segmented",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/component/segmented/index.tsx#segmented"]={docgenInfo:segmented.__docgenInfo,name:"segmented",path:"src/screens/user/user-setting/component/segmented/index.tsx#segmented"})}catch(e){}},"./src/screens/user/user-setting/component/segmented/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({segmented:{width:t._.window.contentWidth,height:36,marginBottom:24}})},"./src/screens/user/user-setting/component/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHeaders=function(e){return"string"==typeof e&&e.includes("hdslb.com")?{Referer:"https://www.bilibili.com/"}:{Referer:""}}},"./src/screens/user/user-setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.REG_FIXED=s.REG_BG=s.REG_AVATAR=s.ONLINE_BGS_URL=s.NAMESPACE=s.COMPONENT=void 0;t=t("./src/constants/index.ts");s.COMPONENT="UserSetting",s.NAMESPACE="ScreenUserSetting",s.STATE={nickname:"",sign_input:"",avatar:"",bg:"",selectedIndex:0,bgs:[],pixivs:[],avatars:[],_loaded:!1},s.ONLINE_BGS_URL=t.GITHUB_HOST+"/raw/master/bg.json",s.REG_BG=/\[bg\](.+?)\[\/bg\]/,s.REG_AVATAR=/\[avatar\](.+?)\[\/avatar\]/,s.REG_FIXED=/\[size=0\]\[avatar\]\[\/avatar\]\[\/size\]|\[size=0\]\[bg\]\[\/bg\]\[\/size\]/g},"./src/screens/user/user-setting/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Header")},"./src/screens/user/user-setting/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/user-setting/component/check/index.tsx")),r=t("./src/screens/user/user-setting/header/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){var t=s.$;return(0,d.jsx)(n.Header,{title:"个人设置",hm:["userSetting","UserSetting"],headerRight:function(){return(0,d.jsx)(l.default,{$:t})}})},r.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/user-setting/header/index.tsx#header"})}catch(e){}},"./src/screens/user/user-setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/user-setting/header/index.tsx")),a=r(t("./src/screens/user/user-setting/scroll/index.tsx")),r=r(t("./src/screens/user/user-setting/store.ts")),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(r.default,function(e,s){var t=s.$;return(0,l.useRunAfter)(function(){t.init()}),(0,l.useObserver)(function(){return(0,i.jsxs)(n.Component,{id:"screen-user-setting",children:[(0,i.jsx)(d.default,{}),(0,i.jsx)(a.default,{})]})})});try{usersetting.displayName="usersetting",usersetting.__docgenInfo={description:"",displayName:"usersetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/index.tsx#usersetting"]={docgenInfo:usersetting.__docgenInfo,name:"usersetting",path:"src/screens/user/user-setting/index.tsx#usersetting"})}catch(e){}},"./src/screens/user/user-setting/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Scroll")},"./src/screens/user/user-setting/scroll/index.tsx":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/react/index.js")),f=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),_=t("./src/components/index.ts"),j=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),b=t("./src/utils/decorators/index.ts"),y=t("./src/utils/dev/index.ts"),h=t("./src/utils/fetch/index.ts"),g=t("./src/utils/user-setting/index.ts"),v=t("./src/constants/index.ts"),O=r(t("./src/screens/user/user-setting/component/avatars/index.tsx")),T=r(t("./src/screens/user/user-setting/component/bgs/index.tsx")),S=r(t("./src/screens/user/user-setting/component/form/index.tsx")),E=r(t("./src/screens/user/user-setting/component/preview/index.tsx")),C=r(t("./src/screens/user/user-setting/component/refresh/index.tsx")),P=r(t("./src/screens/user/user-setting/component/segmented/index.tsx")),R=t("./src/screens/user/user-setting/scroll/ds.ts"),N=t("./src/screens/user/user-setting/scroll/styles.ts"),I=t("./node_modules/react/jsx-runtime.js");function M(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}r=p.default.Component,(0,i.default)(w,r),A=M(w),(0,d.default)(w,[{key:"avatar",get:function(){var e;return null==(e=this.context.$.usersInfo.avatar)?void 0:e.large}},{key:"previewAvatarSrc",get:function(){var e,s=this.context.$;return s.state.avatar&&(0,g.fixedRemote)(s.state.avatar,!0)||(null==(e=s.usersInfo.avatar)?void 0:e.large)}},{key:"previewBgSrc",get:function(){var e=this.context.$;return e.state.bg?(0,g.fixedRemote)(e.state.bg)||(0,g.fixedRemote)(e.state.avatar,!0)||(null==(e=e.usersInfo.avatar)?void 0:e.large):this.previewAvatarSrc}},{key:"blurRadius",get:function(){var e=this.context.$;return e.state.bg?0:v.IOS?""===e.state.bg&&e.state.avatar?48:10:8}},{key:"render",value:function(){var s=this;(0,y.r)(R.COMPONENT);var e=this.context.$.state.selectedIndex,t=this.state.expand,r=(0,I.jsx)(E.default,{bg:this.previewBgSrc,avatar:this.previewAvatarSrc,blurRadius:this.blurRadius});return(0,I.jsxs)(f.default,{style:j._.container.plain,children:[(0,I.jsx)(f.default,{style:this.styles.preview,children:!t&&r}),(0,I.jsxs)(_.ScrollView,{connectRef:function(e){return s.scrollTo=e},contentContainerStyle:this.styles.contentContainerStyle,keyboardDismissMode:"on-drag",children:[t&&r,(0,I.jsx)(S.default,{expand:this.state.expand,onExpand:this.onExpand}),(0,I.jsx)(P.default,{}),0===e&&(0,I.jsx)(T.default,{avatar:this.previewAvatarSrc,more:this.state.more,onViewOrigin:this.onViewOrigin,onMore:this.onMore}),1===e&&(0,I.jsx)(O.default,{avatar:this.avatar})]}),(0,I.jsx)(C.default,{onRefresh:this.onRefresh})]})}},{key:"styles",get:function(){return(0,N.memoStyles)()}}]);var A,t=w;function w(){var t;(0,l.default)(this,w);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=A.call.apply(A,[this].concat(s)),(0,m.default)((0,a.default)(t),"state",{expand:!1,more:!1}),(0,m.default)((0,a.default)(t),"scrollTo",function(){}),(0,m.default)((0,a.default)(t),"onViewOrigin",function(e,s){(0,h.t)("个人设置.查看原图",{index:s}),(0,x.open)(e.replace("small","origin"))}),(0,m.default)((0,a.default)(t),"onExpand",function(){t.setState({expand:!t.state.expand})}),(0,m.default)((0,a.default)(t),"onMore",function(){t.setState({more:!0})}),(0,m.default)((0,a.default)(t),"onRefresh",(0,o.default)(n.mark(function e(){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.IOS&&t.scrollTo({x:0,y:0,animated:!0}),s=t.context,s.$.onRefresh();case 3:case"end":return e.stop()}},e)}))),t}s.default=(0,b.obc)(t);try{scroll.displayName="scroll",scroll.__docgenInfo={description:"",displayName:"scroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/scroll/index.tsx#scroll"]={docgenInfo:scroll.__docgenInfo,name:"scroll",path:"src/screens/user/user-setting/scroll/index.tsx#scroll"})}catch(e){}},"./src/screens/user/user-setting/scroll/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom},preview:{marginHorizontal:r._.wind}}})},"./src/screens/user/user-setting/store.ts":(e,s,t)=>{var c=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=t("./node_modules/mobx/dist/mobx.esm.js"),_=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),x=t("./src/utils/fetch/index.ts"),r=r(t("./src/utils/store/index.ts")),b=t("./src/utils/user-setting/index.ts"),y=t("./src/screens/user/user-setting/ds.ts");function h(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,i.default)(this,e)}}var g;s.default=(t=r.default,(0,a.default)(v,t),g=h(v),(0,l.default)(v,[{key:"userSetting",get:function(){return _.userStore.userSetting}},{key:"myUserId",get:function(){return _.userStore.myUserId}},{key:"usersInfo",get:function(){return _.userStore.usersInfo(this.myUserId)}},{key:"users",get:function(){return _.usersStore.users(this.myUserId)}},{key:"bg",get:function(){var e=this.state.bg;return e||(e=this.userSetting.sign.match(y.REG_BG),(0,j.HTMLDecode)(String(e?String(e[1]).trim():"").replace(y.REG_FIXED,"")))}},{key:"avatar",get:function(){var e=this.state.avatar;return e||(e=this.userSetting.sign.match(y.REG_AVATAR),(0,j.HTMLDecode)(String(e?String(e[1]).trim():"").replace(y.REG_FIXED,"")))}}]),(0,p.default)((s=v).prototype,"userSetting",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"userSetting"),s.prototype),(0,p.default)(s.prototype,"myUserId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"myUserId"),s.prototype),(0,p.default)(s.prototype,"usersInfo",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,p.default)(s.prototype,"users",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,p.default)(s.prototype,"bg",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,p.default)(s.prototype,"avatar",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),s);function v(){var i;(0,o.default)(this,v);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return i=g.call.apply(g,[this].concat(s)),(0,m.default)((0,d.default)(i),"state",(0,f.observable)(y.STATE)),(0,m.default)((0,d.default)(i),"init",(0,n.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(y.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return s=e.t0,i.setState({avatar:s.avatar||"",bg:s.bg||"",selectedIndex:s.selectedIndex||0,bgs:s.bgs||[],pixivs:s.pixivs||[],avatars:s.avatars||[],_loaded:(0,j.getTimestamp)()}),e.next=9,i.onInit();case 9:return i.onRefresh(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"fetchUserSetting",(0,n.default)(c.mark(function e(){var s,t,r;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.userStore.fetchUserSetting();case 2:return s=e.sent,t=s.nickname,t=void 0===t?"":t,r=s.sign_input,r=void 0===r?"":r,i.setState({nickname:t,sign_input:r}),i.setStorage(y.NAMESPACE),e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"fetchBgs",(0,n.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y.ONLINE_BGS_URL+"?t="+(0,j.getTimestamp)()).then(function(e){return e.json()});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return s=e.t0,i.setState({bgs:s}),i.setStorage(y.NAMESPACE),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"fetchAvatars",(0,n.default)(c.mark(function e(){var s;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,b.randomAvatars)(),i.setState({avatars:s}),i.setStorage(y.NAMESPACE),e.abrupt("return",s);case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"onInit",(0,n.default)(c.mark(function e(){var s,t,r,n=arguments;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0<n.length&&void 0!==n[0]&&n[0],e.next=3,i.fetchUserSetting();case 3:r=i.userSetting.sign,t=r.match(y.REG_BG),r=r.match(y.REG_AVATAR),i.setState({bg:(0,j.HTMLDecode)(String(t?String(t[1]).trim():"").replace(y.REG_FIXED,"")),avatar:(0,j.HTMLDecode)(String(r?String(r[1]).trim():"").replace(y.REG_FIXED,""))}),s&&(0,j.info)("已还原");case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"onRefresh",function(){var e=i.state.selectedIndex;return 0===e?i.fetchBgs():1===e?i.fetchAvatars():void 0}),(0,m.default)((0,d.default)(i),"onChangeText",function(e,s){i.setState((0,m.default)({},e,s))}),(0,m.default)((0,d.default)(i),"onSelectBg",function(e){i.setState({bg:e})}),(0,m.default)((0,d.default)(i),"onSelectAvatar",function(e){i.setState({avatar:e})}),(0,m.default)((0,d.default)(i),"onSave",(0,n.default)(c.mark(function e(){var s,t,r,n,o,l,d,a;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=i.userSetting,s=t.formhash,d=t.sign,t=t.timeoffsetnew,l=i.state,r=l.avatar,n=l.bg,o=l.nickname,l=l.sign_input,(d=d).match(y.REG_AVATAR)?d=d.replace(y.REG_AVATAR,"[avatar]"+(r||"")+"[/avatar]"):d+="[size=0][avatar]"+(r||"")+"[/avatar][/size]","string"==typeof(a=n||"")&&a.includes("i.pixiv.re")&&(a=a.replace("/c/540x540_70","")),d.match(y.REG_BG)?d=d.replace(y.REG_BG,"[bg]"+a+"[/bg]"):d+="[size=0][bg]"+a+"[/bg][/size]",d=d.replace(y.REG_FIXED,""),_.userStore.doUpdateUserSetting({formhash:s,nickname:o,sign_input:l,newbio:d,timeoffsetnew:t},function(){(0,x.t)("个人设置.保存",{id:i.myUserId}),(0,j.feedback)(),(0,j.info)("保存成功"),i.fetchUserSetting(),_.usersStore.fetchUsers({userId:i.myUserId}),i.setState({bg:a}),i.setStorage(y.NAMESPACE)},function(){});case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"onValueChange",function(e){i.setState({selectedIndex:e}),(0===e&&!i.state.bgs.length||1===e&&!i.state.avatars.length)&&i.onRefresh(),i.setStorage(y.NAMESPACE)}),i}},"./src/screens/user/v2/component/center-avatar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.HIT_SLOP=s.COMPONENT=s.AVATAR_SIZE=void 0;var r=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,n.rc)(t.COMPONENT,"CenterAvatar"),s.AVATAR_SIZE=r._.r(88),s.HIT_SLOP={top:28,right:16,bottom:16,left:28}},"./src/screens/user/v2/component/center-avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),a=t("./src/components/avatar/utils.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/v2/component/center-avatar/utils.ts"),u=t("./src/screens/user/v2/component/center-avatar/ds.ts"),m=t("./src/screens/user/v2/component/center-avatar/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=i.systemStore.setting.onlineStatus,n=t.usersInfo.avatar,o="string"==typeof(t=(0,a.getCDNAvatar)(t.avatar||(null==n?void 0:n.large),"bgm_poster_200"))&&!t.includes("//lain.bgm.tv/pic/user/l/");return(0,p.jsxs)(l.default,{style:i._.mt.md,children:[(0,p.jsx)(d.Touchable,{animate:!0,onPress:function(){return(0,c.handleAvatarPress)(r)},children:(0,p.jsx)(d.Image,{style:m.styles.avatar,src:t,size:u.AVATAR_SIZE,radius:u.AVATAR_SIZE/2,border:m.styles.avatar.backgroundColor,borderWidth:2,placeholder:!1,fallback:o,fallbackSrc:null==n?void 0:n.large},t)}),(0,p.jsx)(l.default,{style:m.styles.status,children:(0,p.jsx)(d.Touchable,{hitSlop:u.HIT_SLOP,animate:!0,scale:.9,onPress:c.handleOnlinePress,children:(0,p.jsx)(d.Flex,{style:m.styles.touch,justify:"center",children:s?(0,p.jsx)(l.default,{style:m.styles.online}):(0,p.jsx)(d.Iconfont,{style:m.styles.edit,name:"md-edit",color:"rgba(96, 96, 96, 0.48)",size:11})})})}),(0,p.jsx)(d.Heatmap,{id:"我的.跳转",to:"UserSetting",alias:"个人设置"})]})},u.COMPONENT);try{centeravatar.displayName="centeravatar",centeravatar.__docgenInfo={description:"",displayName:"centeravatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/center-avatar/index.tsx#centeravatar"]={docgenInfo:centeravatar.__docgenInfo,name:"centeravatar",path:"src/screens/user/v2/component/center-avatar/index.tsx#centeravatar"})}catch(e){}},"./src/screens/user/v2/component/center-avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"},status:{position:"absolute",zIndex:1,right:1,bottom:1},touch:{width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{width:t._.ios(14,13),height:t._.ios(14,13),backgroundColor:"rgb(9, 241, 117)",borderRadius:t._.ios(14,13)},edit:{marginLeft:t._.ios(1,0)}})},"./src/screens/user/v2/component/center-avatar/utils.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js"),n=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.handleAvatarPress=function(e){(0,i.t)("我的.跳转",{to:"UserSetting"}),e.push("UserSetting")},s.handleOnlinePress=function(){var e=d.systemStore.setting.onlineStatus,s=[{text:(0,c.s2tAsync)("取消"),onPress:function(){}}];s.push(e?{text:(0,c.s2tAsync)("取消公开"),onPress:function(){d.systemStore.switchSetting("onlineStatus"),(0,a.feedback)(),(0,i.t)("我的.在线状态",{status:"off"})}}:{text:(0,c.s2tAsync)("公开"),onPress:function(){var e=(0,o.default)(r.mark(function e(){var s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.userStore.fetchOnlines();case 2:if(s=e.sent){e.next=6;break}return(0,a.info)("服务出错，设置公开状态失败"),e.abrupt("return");case 6:d.systemStore.switchSetting("onlineStatus"),"object"==typeof s&&(0,a.info)("当前有 "+Object.keys(s).length+" 个用户公开状态"),(0,a.feedback)(),(0,i.t)("我的.在线状态",{status:"on"});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});l.default.alert((0,c.s2tAsync)("公开在线状态"),(0,c.s2tAsync)("此功能仅在 APP 内生效。\n    \n同意公开后，在所有正在公开状态的用户间，会尽可能地在头像旁边显示在线状态标识\n    \n1天内使用过 APP 是绿色标识，3天内是橙色，超过3天没有使用则会消失\n    \n请注意，一旦同意后，标识会至少公开3天，尽管同意后又立马取消公开"),s)},n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=n(t("./node_modules/react-native-web/dist/exports/Alert/index.js")),d=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),i=t("./src/utils/fetch/index.ts"),c=t("./src/utils/async/index.ts")},"./src/screens/user/v2/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/v2/component/extra/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Extra")},"./src/screens/user/v2/component/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/v2/component/heatmaps/index.tsx")),r=t("./src/screens/user/v2/component/extra/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){return s=s.$,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Track,{title:"时光机",hm:["user/"+s.myUserId+"?route=user","User"]}),(0,d.jsx)(l.default,{})]})},r.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/user/v2/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/user/v2/component/filter/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"Filter");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},showFilter:!1,fliterInputText:"",isTabActive:!1,isFiltering:!1,onFilterChange:function(){}}},"./src/screens/user/v2/component/filter/filter.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),i=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),c=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),n=t("./src/screens/user/v2/component/filter/ds.ts"),m=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}t=(0,r.memo)(function(e){var s=e.styles,t=e.showFilter,r=e.fliterInputText,n=e.isTabActive,o=e.isFiltering,e=e.onFilterChange,l=(0,a.useRef)(null),d=(0,a.useRef)(new i.default.Value(0));return(0,a.useEffect)(function(){setTimeout(function(){i.default.timing(d.current,{toValue:t?1:0,duration:160,useNativeDriver:!1}).start(),t&&n&&setTimeout(function(){var e;"function"==typeof(null==(e=l.current)?void 0:e.onFocus)&&l.current.onFocus()},160)},t?160:0)},[n,t]),(0,m.jsx)(i.default.View,{style:[s.container,{height:d.current.interpolate({inputRange:[0,1],outputRange:[0,s.filter.height]})}],children:(0,m.jsxs)(c.Flex,{style:s.filter,justify:"center",children:[(0,m.jsx)(c.Input,{ref:l,inputStyle:s.input,value:r,placeholder:"搜索",clearButtonMode:"never",onChangeText:e}),o&&(0,m.jsx)(c.Flex,{style:s.loading,justify:"center",children:(0,m.jsx)(c.Loading.Normal,{color:u._.colorSub,size:16})})]})})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);s.default=t;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { display: "flex"; justifyContent: "center"; alignItems: "center"; overflow: "hidden"; }; filter: { width: number; height: number; paddingVertical: number; }; input: { height: number; paddingVertical: number; ... 6 more ...; overflow: "hidden"; }; loading: { ...; }; }'}},showFilter:{defaultValue:null,description:"",name:"showFilter",required:!0,type:{name:"boolean"}},fliterInputText:{defaultValue:null,description:"",name:"fliterInputText",required:!0,type:{name:"string"}},isTabActive:{defaultValue:null,description:"",name:"isTabActive",required:!0,type:{name:"boolean"}},isFiltering:{defaultValue:null,description:"",name:"isFiltering",required:!0,type:{name:"boolean"}},onFilterChange:{defaultValue:null,description:"",name:"onFilterChange",required:!0,type:{name:"(filter: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/filter/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/v2/component/filter/filter.tsx#filter"})}catch(e){}},"./src/screens/user/v2/component/filter/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),l=t("./src/screens/user/v2/ds.ts"),d=r(t("./src/screens/user/v2/component/filter/filter.tsx")),r=t("./src/screens/user/v2/component/filter/ds.ts"),a=t("./src/screens/user/v2/component/filter/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var e=e.page,s=s.$,t=s.state,r=t.subjectType,n=t.showFilter,t=t.fliterInputText,e=l.TABS[e].key,o=s.isTabActive(r,e),r=s.isFiltering(r,e);return(0,i.jsx)(d.default,{styles:(0,a.memoStyles)(),showFilter:n,fliterInputText:t,isTabActive:o,isFiltering:r,onFilterChange:s.onFilterChange})},r.COMPONENT)},"./src/screens/user/v2/component/filter/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},filter:{width:252,height:40+2*r._.sm,paddingVertical:r._.sm},input:{height:40,paddingVertical:0,marginVertical:0,fontSize:14,lineHeight:14,textAlign:"center",backgroundColor:r._.select("rgba(238, 238, 238, 0.8)",r._._colorDarkModeLevel1),borderRadius:40,overflow:"hidden"},loading:{position:"absolute",zIndex:2,top:r._.sm-1,right:1,width:40,height:40}}})},"./src/screens/user/v2/component/fixed-tool-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"FixedToolBar")},"./src/screens/user/v2/component/fixed-tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),n=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/v2/component/tool-bar/index.tsx")),a=t("./src/screens/user/v2/component/fixed-tool-bar/styles.ts"),r=t("./src/screens/user/v2/component/fixed-tool-bar/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.fixed,r=e.page,n=e.pageCurrent,o=e.pageTotal,e=e.onRefreshOffset,s=s.$;return t?s.state.fixed?(0,i.jsx)(l.default,{style:a.styles.fixed,children:(0,i.jsx)(d.default,{page:s.state.page,pageCurrent:n,pageTotal:o,onRefreshOffset:s.onRefreshOffset})}):null:s.state.fixed?(0,i.jsx)(l.default,{style:a.styles.placeholder}):(0,i.jsx)(d.default,{page:r,pageCurrent:n,pageTotal:o,onRefreshOffset:e})},r.COMPONENT)},"./src/screens/user/v2/component/fixed-tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({fixed:{marginTop:-2},placeholder:{height:70}})},"./src/screens/user/v2/component/header-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"HeaderComponent")},"./src/screens/user/v2/component/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/v2/component/center-avatar/index.tsx")),r=t("./src/screens/user/v2/component/header-component/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)(function(e,s){var e=e.style,t=(s=s.$.usersInfo).nickname,r=s.id,s=s.username;return(0,c.jsxs)(n.Flex,{style:e,direction:"column",justify:"center",children:[(0,c.jsx)(i.default,{}),(0,c.jsx)(n.Flex,{style:l._.mt.md,children:(0,c.jsxs)(o.VerticalAlign,{text:t,type:l._.select("plain","title"),bold:!0,shadow:!0,children:[(0,d.HTMLDecode)(t),s||r?" @"+(s||r):""]})})]})},r.COMPONENT)},"./src/screens/user/v2/component/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,l.jsx)(n.Heatmap,{bottom:o._.bottom,id:"我的",screen:"User"})})},"./src/screens/user/v2/component/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Item"),s.EVENT={id:"我的.跳转",type:"list"}},"./src/screens/user/v2/component/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/v2/component/item/item-list/index.tsx")),l=r(t("./src/screens/user/v2/component/item/item-grid/index.tsx")),r=t("./src/screens/user/v2/component/item/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.item,r=e.index,e=e.page;return(s=s.$).state.list?(0,d.jsx)(o.default,{item:t,index:r,page:e}):(0,d.jsx)(l.default,{item:t,numColumns:s.numColumns})},r.COMPONENT)},"./src/screens/user/v2/component/item/item-grid/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ItemGrid"),s.EVENT={id:"我的.跳转",type:"grid"}},"./src/screens/user/v2/component/item/item-grid/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/v2/component/item/item-grid/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.item,e=e.numColumns,r=s.$,s=s.navigation,n=(r=r.state).subjectType,r=r.showYear,n=d.MODEL_SUBJECT_TYPE.getTitle(n);return(0,i.jsx)(o.ItemCollectionsGrid,Object.assign({navigation:s,num:e,type:n,event:a.EVENT},t,{isRectangle:"音乐"===n,airtime:!!r&&("动画"===n?(0,l.matchYearAndMonth):(0,l.matchYear))(t.tip)}))},a.COMPONENT)},"./src/screens/user/v2/component/item/item-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/item/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ItemList"),s.EVENT={id:"我的.跳转",type:"list"}},"./src/screens/user/v2/component/item/item-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/screens/_/index.ts")),c=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/user/v2/ds.ts"),p=t("./src/screens/user/v2/component/item/item-list/ds.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,r=e.item,n=e.index,e=e.page,o=s.$,s=s.navigation,l=(d=o.state).subjectType,d=d.filter,e=m.TABS[e].key,a=u.MODEL_SUBJECT_TYPE.getTitle(l),l=d&&o.isTabActive(l,e)?d:"",d="";return o.isSortByScore&&((t=c.subjectStore.rank(r.id)).s&&(d+=t.s),t.r)&&(d+=" #"+t.r),(0,f.jsx)(i.ItemCollections,Object.assign({navigation:s,index:n,inViewY:m.H_HEADER},r,{showLabel:!1,type:a,isDo:"do"===e,isDropped:"dropped"===e,isOnHold:"on_hold"===e,event:p.EVENT,filter:l,simpleStars:!0,rank:d,collection:o.isMe?void 0:c.collectionStore.collect(r.id),relatedId:c.timelineStore.relatedId(o.username||o.userId,r.id),onManagePress:o.onManagePress}))},p.COMPONENT)},"./src/screens/user/v2/component/loading/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Loading")},"./src/screens/user/v2/component/loading/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/v2/component/loading/ds.ts"),d=t("./src/screens/user/v2/component/loading/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,a.jsx)(n.Loading,{style:[o._.ios(o._.container.plain,o._.container._plain),d.styles.loading]})},l.COMPONENT)},"./src/screens/user/v2/component/loading/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.window.height/3}})},"./src/screens/user/v2/component/menu/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DATA_OTHER=s.DATA_ME=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Menu"),s.DATA_ME=["我的空间","我的好友","我的人物","我的目录","我的日志","我的netaba.re"],s.DATA_OTHER=["TA的好友","TA的netaba.re"]},"./src/screens/user/v2/component/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),c=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/screens/user/v2/component/menu/utils.ts"),p=t("./src/screens/user/v2/component/menu/ds.ts"),f=t("./src/screens/user/v2/component/menu/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,n=t.params.userId,o=(s=t.usersInfo).id,l=s.username,d=s.nickname,s=!!o&&t.myUserId===o;return(0,_.jsxs)(_.Fragment,{children:[!!n&&(0,_.jsx)(a.default,{style:f.styles.back,children:(0,_.jsx)(c.IconBack,{navigation:r,color:u._.__colorPlain__})}),(0,_.jsx)(a.default,{style:!n&&s?f.styles.menu:f.styles.more,children:(0,_.jsxs)(c.Popover,{style:f.styles.touch,data:s?p.DATA_ME:p.DATA_OTHER,onSelect:function(e){return(0,m.handleMenuPopoverPress)(r,e,{id:o,userId:t.userId})},children:[(0,_.jsx)(i.Flex,{style:f.styles.icon,justify:"center",children:(0,_.jsx)(i.Iconfont,{name:"md-menu",color:u._.__colorPlain__})}),(0,_.jsx)(i.Heatmap,{right:-40,id:"我的.右上角菜单"})]})}),(0,_.jsxs)(a.default,{style:f.styles.timeline,children:[(0,_.jsx)(c.IconHeader,{name:"md-timeline",color:u._.__colorPlain__,size:21,onPress:function(){return(0,m.handleUserTimelinePress)(r,{id:o,nickname:d,paramsUserId:n,username:l})}}),(0,_.jsx)(i.Heatmap,{right:48,id:"我的.跳转",to:"UserTimeline",alias:"时间线"})]}),!n&&(0,_.jsxs)(a.default,{style:f.styles.setting,children:[(0,_.jsx)(c.IconHeader,{name:"setting",color:u._.__colorPlain__,onPress:function(){return(0,m.handleSettingPress)(r)}}),(0,_.jsx)(i.Heatmap,{id:"我的.跳转",to:"Setting",alias:"设置"})]})]})},p.COMPONENT);try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/v2/component/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/v2/component/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/styles/index.ts");s.styles=r._.create({back:Object.assign({},r._.header.left,{zIndex:1,marginTop:r._.ios(t.IS_IOS_5_6_7_8?-6:-7,-4)}),more:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios(-6,-4),opacity:.88}),menu:Object.assign({},r._.header.left,{zIndex:1,padding:r._.sm,marginTop:r._.ios(t.IS_IOS_5_6_7_8?-14:-16,-12),marginLeft:-4,opacity:.88}),touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},timeline:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((t.IS_IOS_5_6_7_8,-6),-4),marginRight:r._.device(44,54),opacity:.88}),setting:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((t.IS_IOS_5_6_7_8,-6),-4),opacity:.88})})},"./src/screens/user/v2/component/menu/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.handleMenuPopoverPress=function(e,s,t){var r=t.id,n=t.userId;switch((0,l.t)("我的.右上角菜单",{key:s}),s){case"我的空间":e.push("Zone",{userId:n});break;case"我的好友":e.push("Friends");break;case"我的人物":e.push("Character");break;case"我的目录":e.push("Catalogs");break;case"我的日志":e.push("Blogs");break;case"我的netaba.re":(0,o.open)("https://netaba.re/user/"+r);break;case"TA的好友":e.push("Friends",{userId:r});break;case"TA的netaba.re":(0,o.open)("https://netaba.re/user/"+r)}},s.handleSettingPress=function(e){(0,l.t)("我的.跳转",{to:"Setting"}),e.push("Setting")},s.handleUserTimelinePress=function(e,s){var t=s.id,r=s.nickname,n=s.paramsUserId,s=s.username,s=((0,l.t)("我的.跳转",{to:"UserTimeline"}),{userId:s||t});n&&(s.userName=r);e.push("UserTimeline",s)};var o=t("./src/utils/index.ts"),l=t("./src/utils/fetch/index.ts")},"./src/screens/user/v2/component/pagination/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Pagination")},"./src/screens/user/v2/component/pagination/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/v2/component/pagination/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=t.state.ipt;return(0,d.jsx)(n.Pagination,{style:o._.mt.md,input:r,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onPageChange,onSearch:function(){return t.onPage(r)}})},l.COMPONENT);try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/user/v2/component/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLabel");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={style:{},title:"",count:0,focused:!1}},"./src/screens/user/v2/component/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=t("./src/constants/index.ts"),l=r(t("./src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx")),r=t("./src/screens/user/v2/component/tab-bar-label/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.style,r=e.title,e=e.focused,n=(s=s.$).state.subjectType;return(0,d.jsx)(l.default,{style:t,title:r.replace("看",s.action),count:s.count(o.MODEL_SUBJECT_TYPE.getTitle(n),r),focused:e})},r.COMPONENT)},"./src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/v2/component/tab-bar-label/ds.ts"),l=t("./node_modules/react/jsx-runtime.js"),t=(0,r.memo)(function(e){var s=e.style,t=e.title,r=e.count,e=e.focused;return(0,l.jsxs)(n.Flex,{style:s,justify:"center",align:"start",children:[(0,l.jsx)(n.Text,{type:"title",size:13,bold:e,noWrap:!0,children:t}),!!r&&(0,l.jsxs)(n.Text,{type:"sub",size:10,lineHeight:11,bold:!0,children:[" ",r," "]})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);s.default=t;try{tabbarlabel.displayName="tabbarlabel",tabbarlabel.__docgenInfo={description:"",displayName:"tabbarlabel",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},focused:{defaultValue:null,description:"",name:"focused",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx#tabbarlabel"]={docgenInfo:tabbarlabel.__docgenInfo,name:"tabbarlabel",path:"src/screens/user/v2/component/tab-bar-label/tab-bar-label.tsx#tabbarlabel"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-left/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLeft"),s.DS=n.SUBJECT_TYPE.map(function(e){return e.title})},"./src/screens/user/v2/component/tab-bar-left/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/v2/component/tab-bar-left/ds.ts"),i=t("./src/screens/user/v2/component/tab-bar-left/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(0,i.memoStyles)(),r=s.state.subjectType;return(0,c.jsxs)(o.Popover,{data:a.DS,onSelect:s.onSelectSubjectType,children:[(0,c.jsx)(n.Flex,{style:t.tabBarLeft,justify:"center",children:(0,c.jsx)(n.Button,{style:t.btn,styleText:(0,l.stl)(t.text,d.IOS&&t.textIOS),type:"ghostMain",size:"sm",children:d.MODEL_SUBJECT_TYPE.getTitle(r)})}),(0,c.jsx)(n.Heatmap,{id:"我的.类型选择"})]})},a.COMPONENT);try{tabbarleft.displayName="tabbarleft",tabbarleft.__docgenInfo={description:"",displayName:"tabbarleft",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tab-bar-left/index.tsx#tabbarleft"]={docgenInfo:tabbarleft.__docgenInfo,name:"tabbarleft",path:"src/screens/user/v2/component/tab-bar-left/index.tsx#tabbarleft"})}catch(e){}},"./src/screens/user/v2/component/tab-bar-left/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){return{tabBarLeft:{zIndex:10,paddingLeft:r._.r(r._._wind)-4,paddingRight:r._.sm,marginTop:r._.r(13)-n.H_RADIUS_LINE,backgroundColor:"transparent",borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},btn:{width:r._.r(56),height:r._.ios(28,22),marginTop:r._.ios(r._.device(0,3),3),borderRadius:r._.r(16)},text:{width:56,lineHeight:16},textIOS:{lineHeight:r._.r(14)}}})},"./src/screens/user/v2/component/tool-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ToolBar")},"./src/screens/user/v2/component/tool-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),i=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),m=r(t("./src/screens/user/v2/component/filter/index.tsx")),p=r(t("./src/screens/user/v2/component/tool-bar/more.tsx")),f=r(t("./src/screens/user/v2/component/tool-bar/pagination.tsx")),_=r(t("./src/screens/user/v2/component/tool-bar/search.tsx")),j=r(t("./src/screens/user/v2/component/tool-bar/sort.tsx")),x=r(t("./src/screens/user/v2/component/tool-bar/tag.tsx")),r=t("./src/screens/user/v2/component/tool-bar/ds.ts"),b=t("./src/screens/user/v2/component/tool-bar/styles.ts"),y=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.page,r=e.pageCurrent,n=e.pageTotal,o=void 0===(e=e.onRefreshOffset)?void 0:e,l=s.$,e=(0,b.memoStyles)(),s=l.state.list,d=c.systemStore.setting.userPagination;return(0,y.jsxs)(a.default,{style:(0,u.stl)(e.container,s&&e.list),children:[(0,y.jsxs)(i.ToolBar,{children:[(0,y.jsx)(j.default,{}),(0,y.jsx)(x.default,{page:t}),d&&(0,y.jsx)(f.default,{pageCurrent:r,pageTotal:n}),(0,y.jsx)(_.default,{}),(0,y.jsx)(p.default,{onRefreshOffset:function(){"function"==typeof o&&o(),l.onRefreshOffset()}})]}),(0,y.jsx)(m.default,{page:t})]})},r.COMPONENT)},"./src/screens/user/v2/component/tool-bar/more.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.onRefreshOffset,r=s.$,e=l.systemStore.setting.userPagination,n=(s=r.state).list,s=s.showYear,e="分页 · "+(e?"开启":"关闭");return(0,d.jsx)(o.ToolBar.Popover,{data:n?["布局 · 列表",e]:["布局 · 网格",e,"年份 · "+(s?"显示":"不显示")],icon:"md-more-vert",iconColor:l._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?t():e.includes("年份")?r.onToggleShowYear():void(e.includes("分页")&&(l.systemStore.switchSetting("userPagination"),r.fetchUserCollectionsNormal(!0)))}})})},"./src/screens/user/v2/component/tool-bar/pagination.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.pageCurrent,e=e.pageTotal,r=s.$;return(0,l.jsx)(n.ToolBar.Popover,{data:function(e){for(var s=[],t=1;t<=Number(e);t+=1)s.push(String(t));return s}(e),icon:"md-notes",iconColor:o._.colorDesc,text:t,type:"desc",onSelect:function(e){return r.onPage(e)}})})},"./src/screens/user/v2/component/tool-bar/search.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state.showFilter;return(0,l.jsx)(n.ToolBar.Icon,{icon:"md-search",iconColor:t?o._.colorMain:o._.colorDesc,onSelect:s.onToggleFilter})});try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tool-bar/search.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/user/v2/component/tool-bar/search.tsx#search"})}catch(e){}},"./src/screens/user/v2/component/tool-bar/sort.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/constants/index.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=(s=s.$).state.order;return(0,d.jsx)(n.ToolBar.Popover,{data:l.COLLECTIONS_ORDERBY.map(function(e){return e.label}),icon:"md-sort",iconColor:o._.colorDesc,text:t?l.MODEL_COLLECTIONS_ORDERBY.getLabel(t):"收藏时间",type:"desc",heatmap:"我的.筛选选择",onSelect:s.onOrderSelect})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/component/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/v2/component/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/user/v2/component/tool-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingTop:20,paddingBottom:12,backgroundColor:r._.colorPlain},list:{paddingBottom:0}}})},"./src/screens/user/v2/component/tool-bar/tag.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/v2/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.page,t=(s=s.$).state,r=void 0===(r=t.subjectType)?a.DEFAULT_SUBJECT_TYPE:r,t=t.tag,n=["重置"],e=d.MODEL_COLLECTION_STATUS.getValue(a.TABS[e].title);return s.userCollectionsTags(r,e).forEach(function(e){return n.push(e.tag+" ("+e.count+")")}),(0,i.jsx)(o.ToolBar.Popover,{data:n,icon:"md-bookmark-outline",iconSize:17,iconColor:l._.colorDesc,text:t?t.replace(/ \(\d+\)/,""):"标签",type:"desc",heatmap:"我的.排序选择",onSelect:s.onTagSelect})})},"./src/screens/user/v2/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.TABS=s.H_TABBAR=s.H_RADIUS_LINE=s.H_HEADER=s.DEFAULT_SUBJECT_TYPE=s.DEFAULT_ORDER=s.COMPONENT=void 0,r(t("./node_modules/expo-constants/build/Constants.js"))),n=t("./src/stores/index.ts"),t=t("./src/constants/index.ts"),o=(s.COMPONENT="User",s.DEFAULT_SUBJECT_TYPE=t.MODEL_SUBJECT_TYPE.getLabel("动画"),s.DEFAULT_ORDER=t.MODEL_COLLECTIONS_ORDERBY.getValue("收藏时间"),s.H_RADIUS_LINE=n._.radiusLg);s.H_HEADER=n._.platforms(88,68,80,80-r.default.statusBarHeight)+o,s.H_TABBAR=n._.r(48),s.TABS=t.COLLECTION_STATUS.map(function(e){return{title:e.label,key:e.value}})},"./src/screens/user/v2/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useUserPage=function(e){var s=e.$,t=e.navigation;(0,o.useRunAfter)(function(){s.init(),t.addListener(n.EVENT_APP_TAB_PRESS+"|User",function(){s.onRefreshThenScrollTop()})}),(0,o.useFocusEffect)(function(){setTimeout(function(){r.StatusBar.setBarStyle("light-content")},40)})};var r=t("./src/components/index.ts"),n=t("./src/navigations/tab-bar/index.tsx"),o=t("./src/utils/hooks/index.ts")},"./src/screens/user/v2/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),a=t("./src/utils/hooks/index.ts"),i=t("./src/constants/index.ts"),c=r(t("./src/screens/user/v2/component/extra/index.tsx")),u=t("./src/screens/user/v2/hooks.ts"),m=r(t("./src/screens/user/v2/nested-scroll/index.tsx")),p=r(t("./src/screens/user/v2/scroll/index.tsx")),r=r(t("./src/screens/user/v2/store/index.ts")),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.ic)(r.default,function(e,s){(0,u.useUserPage)(s);var t=s.$;return(0,a.useObserver)(function(){return(0,f.jsxs)(n.Component,{id:"screen-user",children:[(0,f.jsx)(n.Page,{children:t.usersInfo.id||l.userStore.isLogin?t.params.userId?!!t.state._loaded&&(i.IOS||i.STORYBOOK?(0,f.jsx)(p.default,{}):(0,f.jsx)(m.default,{})):(0,f.jsxs)(o.BlurViewRoot,{children:[!!t.state._loaded&&(i.IOS||i.STORYBOOK?(0,f.jsx)(p.default,{}):(0,f.jsx)(m.default,{})),(0,f.jsx)(o.BlurViewBottomTab,{})]}):(0,f.jsx)(o.Login,{style:l._.container.plain})}),(0,f.jsx)(c.default,{})]})})});try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/user/v2/index.tsx#v2"})}catch(e){}},"./src/screens/user/v2/nested-scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"NestedScroll")},"./src/screens/user/v2/nested-scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/v2/component/header-component/index.tsx")),d=r(t("./src/screens/user/v2/component/menu/index.tsx")),a=r(t("./src/screens/user/v2/component/tab-bar-label/index.tsx")),i=r(t("./src/screens/user/v2/component/tab-bar-left/index.tsx")),c=t("./src/screens/user/v2/ds.ts"),u=r(t("./src/screens/user/v2/nested-scroll/list/index.tsx")),m=r(t("./src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx")),r=t("./src/screens/user/v2/nested-scroll/ds.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){var t=(s=s.$).state.page;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.NestedScrollParallaxHeader,{pages:c.TABS.map(function(e){return e.title}),initialPage:t,imageSource:s.imageSource,blurRadius:s.blurRadius,tabBarLocalKey:"UserV2|NestedScroll",HeaderComponent:(0,p.jsx)(l.default,{}),TopNavbarComponent:(0,p.jsx)(m.default,{}),TabBarLeft:(0,p.jsx)(i.default,{}),renderLabel:f,onIndexChange:s.onChange,children:c.TABS.map(function(e){e=e.title;return(0,p.jsx)(u.default,{title:e},e)})}),(0,p.jsx)(d.default,{})]})},r.COMPONENT);function f(e){var s=e.style,e=e.title;return(0,p.jsx)(a.default,{style:s,title:e})}try{nestedscroll.displayName="nestedscroll",nestedscroll.__docgenInfo={description:"",displayName:"nestedscroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/index.tsx#nestedscroll"]={docgenInfo:nestedscroll.__docgenInfo,name:"nestedscroll",path:"src/screens/user/v2/nested-scroll/index.tsx#nestedscroll"})}catch(e){}},"./src/screens/user/v2/nested-scroll/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/nested-scroll/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"List");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},list:!0,page:0,data:n.LIST_EMPTY,numColumns:void 0,userPagination:!1,onScroll:n.FN,onHeaderRefresh:n.FN,onFooterRefresh:n.FN}},"./src/screens/user/v2/nested-scroll/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),i=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/v2/ds.ts"),m=r(t("./src/screens/user/v2/nested-scroll/list/list.tsx")),r=t("./src/screens/user/v2/nested-scroll/list/ds.ts"),p=t("./src/screens/user/v2/nested-scroll/list/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.title,r=s.$,e=(0,p.memoStyles)(),s=i.systemStore.setting.userPagination,n=r.state,o=n.subjectType,n=n.list,l=u.TABS.findIndex(function(e){return e.title===t}),d=r.userCollections(o,c.MODEL_COLLECTION_STATUS.getValue(t));return r.loadedPage(l)&&null!=d&&d._loaded?(o=o+"|"+n,s&&(o+=d.pagination.page),(0,f.jsx)(m.default,{styles:e,list:n,page:l,data:d,numColumns:r.numColumns,userPagination:s,onScroll:r.onScroll,onHeaderRefresh:function(){return r.fetchIsNeedToEnd(!0)},onFooterRefresh:r.fetchUserCollections},o)):(0,f.jsx)(a.Loading,{style:e.loading})},r.COMPONENT)},"./src/screens/user/v2/nested-scroll/list/list.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),c=t("./src/components/index.ts"),u=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),m=r(t("./src/screens/user/v2/component/item/index.tsx")),p=r(t("./src/screens/user/v2/component/pagination/index.tsx")),f=r(t("./src/screens/user/v2/component/tool-bar/index.tsx")),r=t("./src/screens/user/v2/nested-scroll/list/ds.ts"),_=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var s=e.styles,t=e.list,r=e.page,n=e.data,o=e.numColumns,l=e.userPagination,d=e.onScroll,a=e.onHeaderRefresh,e=e.onFooterRefresh,t={contentContainerStyle:t?s.list:s.grid},s=(l?t.ListFooterComponent=(0,_.jsx)(p.default,{}):(t.onHeaderRefresh=a,t.onFooterRefresh=e),(0,i.useCallback)(function(e){var s=e.item,e=e.index;return(0,_.jsx)(m.default,{item:s,index:e,page:r})},[r])),l=n.pagination,a=l.page,e=l.pageTotal;return(0,_.jsx)(c.ListView,Object.assign({keyExtractor:u.keyExtractor,nestedScrollEnabled:!0,data:n,numColumns:o,keyboardDismissMode:"on-drag",scrollEventThrottle:4,renderItem:s,ListHeaderComponent:(0,_.jsx)(f.default,{page:r,pageCurrent:a,pageTotal:e}),onScroll:d},t))},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ loading: { marginTop: number; }; list: { paddingBottom: number; }; grid: { paddingLeft: number; paddingRight: number; paddingBottom: number; }; }"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"boolean"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ pagination?: { page: number; pageTotal: number; }; _list?: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; _loaded?: Loaded; list: { ...; }[]; }"}},numColumns:{defaultValue:null,description:"",name:"numColumns",required:!0,type:{name:"number"}},userPagination:{defaultValue:null,description:"",name:"userPagination",required:!0,type:{name:"boolean"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"Fn"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/v2/nested-scroll/list/list.tsx#list"})}catch(e){}},"./src/screens/user/v2/nested-scroll/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{loading:{marginTop:-r._.parallaxImageHeight},list:{paddingBottom:r._.bottom+r._.tabBarHeight},grid:{paddingLeft:r._.wind-r._._wind-r._.device(0,8),paddingRight:r._.wind-r._._wind,paddingBottom:r._.bottom+r._.tabBarHeight}}})},"./src/screens/user/v2/nested-scroll/top-navbar-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TopNavbarComponent")},"./src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/v2/nested-scroll/top-navbar-component/ds.ts"),i=t("./src/screens/user/v2/nested-scroll/top-navbar-component/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).avatar,r=r.nickname;return(0,c.jsxs)(n.Flex,{justify:"center",children:[(0,c.jsx)(n.Avatar,{style:i.styles.avatar,size:28,src:s.avatar||t.large,fallbackSrc:t.large,borderWidth:0}),(0,c.jsx)(o.VerticalAlign,{style:l._.ml.sm,text:r,type:l._.select("plain","title"),align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,d.HTMLDecode)(r)})]})},a.COMPONENT);try{topnavbarcomponent.displayName="topnavbarcomponent",topnavbarcomponent.__docgenInfo={description:"",displayName:"topnavbarcomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"]={docgenInfo:topnavbarcomponent.__docgenInfo,name:"topnavbarcomponent",path:"src/screens/user/v2/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"})}catch(e){}},"./src/screens/user/v2/nested-scroll/top-navbar-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/v2/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/stores/index.ts"),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/ds.ts"),o=s.COMPONENT=(0,n.rc)(t.COMPONENT,"Scroll");s.COMPONENT_MAIN=(0,n.rc)(o),s.DEFAULT_PROPS={fixedHeight:r._.parallaxImageHeight-t.H_HEADER,page:0,scrollToOffset:{},fetchCollections:function(){},onChange:function(){},onScroll:function(){}}},"./src/screens/user/v2/scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/utils/decorators/index.ts")),o=r(t("./src/screens/user/v2/scroll/scroll.web.tsx")),r=t("./src/screens/user/v2/scroll/ds.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var s=s.$,t=s.state.page;return(0,l.jsx)(o.default,{fixedHeight:s.fixedHeight,page:t,scrollToOffset:s.scrollToOffset,fetchCollections:s.fetchCollections,onChange:s.onChange,onScroll:s.onScroll})},r.COMPONENT);try{scroll.displayName="scroll",scroll.__docgenInfo={description:"iOS 和 WEB 用",displayName:"scroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/index.tsx#scroll"]={docgenInfo:scroll.__docgenInfo,name:"scroll",path:"src/screens/user/v2/scroll/index.tsx#scroll"})}catch(e){}},"./src/screens/user/v2/scroll/list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.COMPONENT_MAIN=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts"),t=s.COMPONENT=(0,r.rc)(t.COMPONENT,"List");s.COMPONENT_MAIN=(0,r.rc)(t),s.DEFAULT_PROPS={styles:{},forwardRef:function(){},scrollY:0,page:0,list:!0,userPagination:!1,userGridNum:4,userCollections:n.LIST_EMPTY,onScroll:function(){},onRefreshOffset:function(){},onHeaderRefresh:function(){},onFooterRefresh:function(){}}},"./src/screens/user/v2/scroll/list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/stores/index.ts")),m=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),p=t("./src/constants/index.ts"),f=r(t("./src/screens/user/v2/component/loading/index.tsx")),_=r(t("./src/screens/user/v2/scroll/list/list.tsx")),r=t("./src/screens/user/v2/scroll/list/ds.ts"),j=t("./src/screens/user/v2/scroll/list/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t,r,n,o=e.page,l=e.title,d=e.scrollY,a=e.onScroll,e=e.onRefreshOffset,i=s.$,s=i.state,c=s.subjectType,s=s.list,l=i.userCollections(c,p.MODEL_COLLECTION_STATUS.getValue(l));return l._loaded?(t=(r=u.systemStore.setting).userPagination,r=r.userGridNum,n=Number(r)+(u._.isLandscape?1:0),(0,x.jsx)(_.default,{styles:(0,j.memoStyles)(),forwardRef:i.forwardRef,scrollY:d,page:o,list:s,userPagination:t,userGridNum:n,userCollections:l,onScroll:a,onRefreshOffset:e,onHeaderRefresh:function(){return i.fetchIsNeedToEnd(!0)},onFooterRefresh:i.fetchUserCollections},(0,m.getKeyString)(u._.orientation,c,r))):(0,x.jsx)(f.default,{})},r.COMPONENT)},"./src/screens/user/v2/scroll/list/list.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),h=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),g=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),v=t("./src/components/index.ts"),O=t("./src/stores/index.ts"),T=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),S=t("./src/utils/hooks/index.ts"),E=r(t("./src/screens/user/v2/component/fixed-tool-bar/index.tsx")),C=r(t("./src/screens/user/v2/component/item/index.tsx")),P=r(t("./src/screens/user/v2/component/pagination/index.tsx")),r=t("./src/screens/user/v2/scroll/list/ds.ts"),R=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var s=e.styles,t=e.forwardRef,r=e.scrollY,n=e.page,o=e.list,l=e.userPagination,d=e.userGridNum,a=e.userCollections,i=e.onScroll,c=e.onRefreshOffset,u=e.onHeaderRefresh,e=e.onFooterRefresh,m=a.pagination,p=m.page,f=m.pageTotal,m=(0,y.useMemo)(function(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(g.default,{style:s.header}),(0,R.jsx)(E.default,{page:n,pageCurrent:p,pageTotal:f,onRefreshOffset:c})]})},[c,n,p,f,s]),_=(0,y.useMemo)(function(){return h.default.event([{nativeEvent:{contentOffset:{y:r}}}],{useNativeDriver:!0,listener:i})},[i,r]),j=(0,y.useCallback)(function(e){t(e,n)},[t,n]),d=o?void 0:d,x=(0,y.useCallback)(function(e){var s=e.item,e=e.index;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(C.default,{item:s,index:e,page:n}),0===e&&(0,R.jsx)(v.Heatmap,{id:"我的.跳转",to:"Subject",alias:"条目"})]})},[n]),b=((0,S.useMount)(function(){requestAnimationFrame(function(){c(n)})}),{});return l?b.ListFooterComponent=(0,R.jsx)(P.default,{}):(b.onHeaderRefresh=u,b.onFooterRefresh=e),(0,R.jsx)(v.ListView,Object.assign({ref:j,keyExtractor:T.keyExtractor,style:s.listView,contentContainerStyle:o?s.list:s.grid,animated:!0,data:a,numColumns:d,progressViewOffset:O._.parallaxImageHeight+32,lazy:12,keyboardDismissMode:"on-drag",renderItem:x,ListHeaderComponent:m,scrollEventThrottle:4,onScroll:_},b),(0,T.getKeyString)(o,d))},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ listView: { zIndex: number; }; list: { paddingBottom: number; minHeight: number; }; grid: { paddingLeft: number; paddingRight: number; paddingBottom: number; minHeight: number; }; header: { height: number; }; }"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!0,type:{name:"(ref: { scrollToIndex: any; scrollToOffset: any; }, index: string | number) => void"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"boolean"}},userPagination:{defaultValue:null,description:"",name:"userPagination",required:!0,type:{name:"boolean"}},userGridNum:{defaultValue:null,description:"",name:"userGridNum",required:!0,type:{name:"number"}},userCollections:{defaultValue:null,description:"",name:"userCollections",required:!0,type:{name:"{ pagination?: { page: number; pageTotal: number; }; _list?: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; _loaded?: Loaded; list: { ...; }[]; }"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"Fn"}},onHeaderRefresh:{defaultValue:null,description:"",name:"onHeaderRefresh",required:!0,type:{name:"Fn"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/v2/scroll/list/list.tsx#list"})}catch(e){}},"./src/screens/user/v2/scroll/list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts"),o=r._.r(42);s.memoStyles=r._.memoStyles(function(){return{listView:{zIndex:0},list:{paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},grid:{paddingLeft:r._.wind-r._._wind-r._.device(0,8),paddingRight:r._.wind-r._._wind,paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},header:{height:r._.parallaxImageHeight+n.H_TABBAR-r._.radiusLg}}})},"./src/screens/user/v2/scroll/parallax-image/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_PROPS=s.DATA_OTHER=s.DATA_ME=s.COMPONENT_MAIN=s.COMPONENT=void 0,r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),n=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts"),t=s.COMPONENT=(0,n.rc)(t.COMPONENT,"ParallaxImage");s.COMPONENT_MAIN=(0,n.rc)(t),s.DATA_ME=["我的空间","我的好友","我的人物","我的目录","我的日志","我的netaba.re"],s.DATA_OTHER=["TA的好友","TA的netaba.re"],s.DEFAULT_PROPS={navigation:{},themeStyles:{},parallaxImageHeight:0,avatar:{},bg:"",bgAvatar:"",fixed:!1,id:"",myUserId:"",nickname:"",paramsUserId:"",scrollY:new r.default.Value(0),src:"",textType:"plain",userId:"",username:""}},"./src/screens/user/v2/scroll/parallax-image/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/stores/index.ts")),n=t("./src/utils/decorators/index.ts"),i=r(t("./src/screens/user/v2/scroll/parallax-image/parallax-image.tsx")),r=t("./src/screens/user/v2/scroll/parallax-image/ds.ts"),c=t("./src/screens/user/v2/scroll/parallax-image/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=e.scrollY,e=e.fixed,r=s.$,s=s.navigation,n=r.usersInfo,o=n.id,l=n.avatar,d=n.nickname,n=n.username;return(0,u.jsx)(i.default,{navigation:s,themeStyles:(0,c.memoStyles)(),parallaxImageHeight:a._.parallaxImageHeight,avatar:l,bg:r.bg,bgAvatar:r.avatar,fixed:e,id:o,myUserId:r.myUserId,nickname:d,paramsUserId:r.params.userId,scrollY:t,src:r.avatar||l.large,textType:a._.select("plain","title"),userId:r.userId,username:n})},r.COMPONENT)},"./src/screens/user/v2/scroll/parallax-image/parallax-image.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),h=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),g=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),v=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),O=t("./src/components/index.ts"),T=t("./src/screens/_/index.ts"),S=t("./src/stores/index.ts"),E=t("./src/utils/index.ts"),n=t("./src/utils/decorators/index.ts"),C=t("./src/utils/fetch/index.ts"),P=t("./src/constants/index.ts"),R=r(t("./src/screens/user/v2/component/header-component/index.tsx")),N=t("./src/screens/user/v2/ds.ts"),I=t("./src/screens/user/v2/scroll/parallax-image/ds.ts"),M=t("./src/screens/user/v2/scroll/parallax-image/styles.ts"),A=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}s.default=(0,n.memo)(function(e){var t=e.navigation,s=e.themeStyles,r=e.parallaxImageHeight,n=e.avatar,o=e.bg,l=e.bgAvatar,d=e.fixed,a=e.id,i=e.myUserId,c=e.nickname,u=e.paramsUserId,m=e.scrollY,p=e.src,f=e.textType,_=e.userId,j=e.username,x={transform:[{translateY:m.interpolate({inputRange:[-r,0,r-N.H_HEADER,r],outputRange:[r/2,0,-(r-N.H_HEADER),-(r-N.H_HEADER)]})}]},b=(P.IOS&&x.transform.push({scale:m.interpolate({inputRange:[-r,0,r],outputRange:[2,1,1]})}),(0,h.useCallback)(function(e){switch((0,C.t)("我的.右上角菜单",{key:e}),e){case"我的空间":t.push("Zone",{userId:_});break;case"我的好友":t.push("Friends");break;case"我的人物":t.push("Character");break;case"我的目录":t.push("Catalogs");break;case"我的日志":t.push("Blogs");break;case"我的netaba.re":(0,E.open)("https://netaba.re/user/"+a);break;case"TA的好友":t.push("Friends",{userId:a});break;case"TA的netaba.re":(0,E.open)("https://netaba.re/user/"+a)}},[t,_,a])),e=(0,h.useMemo)(function(){var e=o||l||n.large;return"string"==typeof e&&(e=e.replace("http://","https://")),(0,A.jsxs)(A.Fragment,{children:[P.TEXT_ONLY?(0,A.jsx)(g.default.View,{style:[s.parallaxImage,x]}):(0,A.jsx)(g.default.Image,{style:[s.parallaxImage,x],source:{uri:e},blurRadius:(0,E.getBlurRadius)(e,o,null==n?void 0:n.large)}),(0,A.jsx)(g.default.View,{style:[M.styles.parallaxWrap,M.styles.parallaxMask,x,{opacity:m.interpolate({inputRange:[-r,0,r-N.H_HEADER,r],outputRange:S._.select([0,.4,1,1],[.4,.8,1,1])})}]}),(0,A.jsx)(g.default.View,{style:[M.styles.parallaxMask,x,{opacity:m.interpolate({inputRange:[-r,0,r-N.H_HEADER,r],outputRange:[0,0,1,1]})}],children:(0,A.jsxs)(O.Flex,{style:M.styles.title,justify:"center",children:[(0,A.jsx)(T.Avatar,{style:M.styles.avatar,size:28,src:p,borderWidth:0,fallbackSrc:n.large}),(0,A.jsx)(O.Text,{style:S._.ml.sm,type:f,align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,E.HTMLDecode)(c)})]})}),(0,A.jsxs)(g.default.View,{style:[M.styles.parallaxWrap,x],children:[(0,A.jsx)(g.default.View,{style:{opacity:m.interpolate({inputRange:[-r,0,r-N.H_HEADER,r],outputRange:[1,1,0,0]})},children:(0,A.jsx)(R.default,{style:s.head})}),(0,A.jsx)(v.default,{style:s.parallaxLine})]})]})},[n.large,o,l,c,r,x,m,p,f,s]),y=(0,h.useMemo)(function(){var e=!!a&&i===a,s=e?I.DATA_ME:I.DATA_OTHER;return(0,A.jsxs)(A.Fragment,{children:[!!u&&(0,A.jsx)(v.default,{style:M.styles.back,children:(0,A.jsx)(T.IconBack,{navigation:t,color:S._.__colorPlain__})}),(0,A.jsx)(v.default,{style:!u&&e?M.styles.menu:M.styles.more,children:(0,A.jsxs)(T.Popover,{style:M.styles.touch,data:s,onSelect:b,children:[(0,A.jsx)(O.Flex,{style:M.styles.icon,justify:"center",children:(0,A.jsx)(O.Iconfont,{name:"md-menu",color:S._.__colorPlain__})}),(0,A.jsx)(O.Heatmap,{right:-40,id:"我的.右上角菜单"})]})}),(0,A.jsxs)(v.default,{style:M.styles.timeline,children:[(0,A.jsx)(T.IconHeader,{name:"md-timeline",color:S._.__colorPlain__,size:21,onPress:function(){(0,C.t)("我的.跳转",{to:"UserTimeline"});var e={userId:j||a};u&&(e.userName=c),t.push("UserTimeline",e)}}),(0,A.jsx)(O.Heatmap,{right:48,id:"我的.跳转",to:"UserTimeline",alias:"时间线"})]}),!u&&(0,A.jsxs)(v.default,{style:M.styles.setting,children:[(0,A.jsx)(T.IconHeader,{name:"setting",color:S._.__colorPlain__,onPress:function(){(0,C.t)("我的.跳转",{to:"Setting"}),t.push("Setting")}}),(0,A.jsx)(O.Heatmap,{id:"我的.跳转",to:"Setting",alias:"设置"})]})]})},[a,i,t,c,b,u,j]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.default,{style:M.styles.parallax,pointerEvents:d?"none":void 0,children:e}),y]})},I.DEFAULT_PROPS,I.COMPONENT_MAIN);try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},themeStyles:{defaultValue:null,description:"",name:"themeStyles",required:!0,type:{name:'{ parallaxLine: { position: "absolute"; right: number; bottom: number; left: number; height: number; backgroundColor: string; borderTopLeftRadius: number; borderTopRightRadius: number; overflow: "hidden"; }; parallaxImage: { ...; }; head: { ...; }; }'}},parallaxImageHeight:{defaultValue:null,description:"",name:"parallaxImageHeight",required:!0,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"ImagesAvatar"}},bg:{defaultValue:null,description:"",name:"bg",required:!0,type:{name:"string"}},bgAvatar:{defaultValue:null,description:"",name:"bgAvatar",required:!0,type:{name:"string"}},fixed:{defaultValue:null,description:"",name:"fixed",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"UserId"}},myUserId:{defaultValue:null,description:"",name:"myUserId",required:!0,type:{name:"UserId"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string"}},paramsUserId:{defaultValue:null,description:"",name:"paramsUserId",required:!0,type:{name:"UserId"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"Value"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},textType:{defaultValue:null,description:"",name:"textType",required:!0,type:{name:"enum",value:[{value:'"plain"'},{value:'"title"'}]}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/parallax-image/parallax-image.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/v2/scroll/parallax-image/parallax-image.tsx#parallaximage"})}catch(e){}},"./src/screens/user/v2/scroll/parallax-image/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/styles/index.ts"),o=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){var e=r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1);return{parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:o.H_RADIUS_LINE,backgroundColor:e,borderTopLeftRadius:o.H_RADIUS_LINE,borderTopRightRadius:o.H_RADIUS_LINE,overflow:"hidden"},parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8,backgroundColor:e},head:{marginTop:r._.device((r._.parallaxImageHeight-120)/2,80)}}}),s.styles=r._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxMask:{backgroundColor:"rgba(0, 0, 0, 0.24)"},title:{position:"absolute",left:"50%",width:240,bottom:o.H_RADIUS_LINE+10,transform:[{translateX:-120}]},back:Object.assign({},r._.header.left,{zIndex:1,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-6:-7,-4)}),menu:Object.assign({},r._.header.left,{zIndex:1,padding:r._.sm,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-14:-16,-12),marginLeft:-4,opacity:.88}),more:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios(-6,-4),opacity:.88}),timeline:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),marginRight:r._.device(44,54),opacity:.88}),setting:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),opacity:.88}),touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/v2/scroll/scroll.web.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js"))),_=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),j=t("./src/utils/hooks/index.ts"),n=t("./src/utils/decorators/index.ts"),x=r(t("./src/screens/user/v2/scroll/parallax-image/index.tsx")),b=r(t("./src/screens/user/v2/scroll/tab/index.tsx")),r=t("./src/screens/user/v2/scroll/ds.ts"),y=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}t=(0,n.memo)(function(e){var t=e.fixedHeight,r=e.page,n=e.scrollToOffset,s=e.fetchCollections,o=e.onChange,l=e.onScroll,e=((0,j.useMount)(function(){s()}),(0,f.useRef)(new _.default.Value(0))),d=(0,f.useRef)(0),a=(0,f.useRef)(!1),i=(0,f.useCallback)(function(e){l(e);e=e.nativeEvent.contentOffset.y;d.current=e,a.current&&e<t-20?a.current=!1:!a.current&&t-20<=e&&(a.current=!0)},[t,l]),c=(0,f.useCallback)(function(e){if(e)try{var s={offset:a.current?t:d.current,animated:!1};Array.isArray(e)&&e.forEach(function(e){"function"==typeof n[r+e]&&n[r+e](s)}),"number"==typeof e&&"function"==typeof n[e]&&n[e](s)}catch(e){}},[t,r,n]),u=(0,f.useCallback)(function(){c([-1,1])},[c]),m=(0,f.useCallback)(function(e){o(e),setTimeout(function(){c([0])},0)},[o,c]),p=(0,f.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0];setTimeout(function(){c(e)},0)},[c]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.default,{page:r,scrollY:e.current,onScroll:i,onSwipeStart:u,onIndexChange:m,onRefreshOffset:p}),(0,y.jsx)(x.default,{scrollY:e.current,fixed:a.current})]})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);s.default=t;try{scrollweb.displayName="scrollweb",scrollweb.__docgenInfo={description:"",displayName:"scrollweb",props:{fixedHeight:{defaultValue:null,description:"",name:"fixedHeight",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},scrollToOffset:{defaultValue:null,description:"",name:"scrollToOffset",required:!0,type:{name:"{}"}},fetchCollections:{defaultValue:null,description:"",name:"fetchCollections",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(page: number) => void"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/scroll.web.tsx#scrollweb"]={docgenInfo:scrollweb.__docgenInfo,name:"scrollweb",path:"src/screens/user/v2/scroll/scroll.web.tsx#scrollweb"})}catch(e){}},"./src/screens/user/v2/scroll/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tab")},"./src/screens/user/v2/scroll/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/defineProperty.js"))),u=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),m=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=l(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),p=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=t("./src/components/index.ts"),_=t("./src/stores/index.ts"),j=t("./src/utils/dev/index.ts"),x=r(t("./src/screens/user/v2/component/tab-bar-left/index.tsx")),b=r(t("./src/screens/user/v2/scroll/list/index.tsx")),y=t("./src/screens/user/v2/ds.ts"),h=r(t("./src/screens/user/v2/scroll/tab/tab-bar/index.tsx")),g=t("./src/screens/user/v2/scroll/tab/ds.ts"),v=t("./src/screens/user/v2/scroll/tab/styles.ts"),O=t("./node_modules/react/jsx-runtime.js");function l(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(l=function(e){return e?t:s})(e))}function n(e){var s=e.page,n=e.scrollY,t=e.onIndexChange,o=e.onScroll,r=e.onSwipeStart,l=e.onRefreshOffset,e=((0,j.r)(g.COMPONENT),(0,m.useRef)((0,f.SceneMap)(Object.assign.apply(Object,[{}].concat((0,u.default)(y.TABS.map(function(e,s){var t=e.key,r=e.title;return(0,c.default)({},t,function(){return(0,O.jsx)(b.default,{page:s,title:r,scrollY:n,onScroll:o,onRefreshOffset:l})})}))))))),d=(0,m.useMemo)(function(){return{index:s,routes:y.TABS}},[s]),a=(0,m.useMemo)(function(){return{transform:[{translateY:n.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight-y.H_HEADER,_._.parallaxImageHeight],outputRange:[2*_._.parallaxImageHeight,_._.parallaxImageHeight,y.H_HEADER,y.H_HEADER]})}]}},[n]),i=(0,m.useCallback)(function(e){return(0,O.jsx)(p.default.View,{style:[v.styles.tabBarWrap,a],children:(0,O.jsx)(h.default,Object.assign({},e))})},[a]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(f.TabView,{lazy:!0,lazyPreloadDistance:0,navigationState:d,renderTabBar:i,renderScene:e.current,onSwipeStart:r,onIndexChange:t},_._.orientation),(0,O.jsx)(p.default.View,{style:[v.styles.tabBarLeft,a],children:(0,O.jsx)(x.default,{})})]})}s.default=n;try{n.displayName="Tab",n.__docgenInfo={description:"",displayName:"Tab",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"any"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"any"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"any"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/tab/index.tsx#Tab"]={docgenInfo:n.__docgenInfo,name:"Tab",path:"src/screens/user/v2/scroll/tab/index.tsx#Tab"})}catch(e){}},"./src/screens/user/v2/scroll/tab/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/v2/ds.ts");s.styles=r._.create({tabBarWrap:{position:"absolute",zIndex:2,top:2-t.H_RADIUS_LINE,right:0,left:0},tabBarLeft:{position:"absolute",zIndex:100,left:0,marginTop:0}})},"./src/screens/user/v2/scroll/tab/tab-bar/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/v2/scroll/tab/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBar")},"./src/screens/user/v2/scroll/tab/tab-bar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/v2/component/fixed-tool-bar/index.tsx")),a=r(t("./src/screens/user/v2/component/tab-bar-label/index.tsx")),r=t("./src/screens/user/v2/scroll/tab/tab-bar/ds.ts"),i=t("./src/screens/user/v2/scroll/tab/tab-bar/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.ob)(function(e){var s=(0,i.memoStyles)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.TabBar,Object.assign({},e,{style:s.tabBar,tabStyle:s.tab,labelStyle:s.label,indicatorStyle:s.indicator,pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:u})),(0,c.jsx)(d.default,{fixed:!0}),(0,c.jsx)(n.Heatmap,{right:o._.wind+62,id:"我的.标签页切换",transparent:!0}),(0,c.jsx)(n.Heatmap,{right:o._.wind,id:"我的.标签页点击",transparent:!0})]})},r.COMPONENT);function u(e){var s=e.route,e=e.focused;return(0,c.jsx)(a.default,{title:s.title,focused:e})}try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/scroll/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/user/v2/scroll/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/user/v2/scroll/tab/tab-bar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.flat.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/v2/ds.ts");s.memoStyles=r._.memoStyles(function(){var e=r._.r(72),s=(r._.window.width-e)/5,t=r._.r(16);return{tabBarWrap:{position:"absolute",zIndex:2,top:2-n.H_RADIUS_LINE,right:0,left:0},tabBar:{paddingLeft:e,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.flat?0:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{width:s,height:r._.r(48)},label:{padding:0},indicator:{width:t,height:4,marginLeft:(s-t)/2+e,backgroundColor:r._.colorMain,borderRadius:4}}})},"./src/screens/user/v2/store/action.ts":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.function.bind.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),j=t("./src/utils/fetch/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/fetch.ts"));function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var h;s.default=(t=r.default,(0,c.default)(g,t),h=y(g),(0,n.default)(g));function g(){var n;(0,a.default)(this,g);for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=h.call.apply(h,[this].concat(t)),(0,p.default)((0,i.default)(n),"scrollToIndex",{}),(0,p.default)((0,i.default)(n),"scrollToOffset",{}),(0,p.default)((0,i.default)(n),"forwardRef",function(e,s){n.scrollToIndex[s]=null==e?void 0:e.scrollToIndex,n.scrollToOffset[s]=null==e?void 0:e.scrollToOffset}),(0,p.default)((0,i.default)(n),"onRefreshThenScrollTop",function(){try{var e=n.state.page;"function"==typeof n.scrollToIndex[e]&&((0,j.t)("其他.刷新到顶",{screen:"User"}),n.scrollToIndex[e]({animated:!0,index:0,viewOffset:8e3}),setTimeout(function(){(0,_.feedback)()},400),n.fetchIsNeedToEnd(!0))}catch(e){console.error("User","onRefreshThenScrollTop",e)}}),(0,p.default)((0,i.default)(n),"onChange",function(e){var s,t;e!==n.state.page&&((0,j.t)("我的.标签页切换",{page:e}),t={page:e,tag:"",ipt:"1"},(s=n.state.loadedPage).includes(e)||(t.loadedPage=[].concat((0,d.default)(s),[e])),n.setState(t),n.fetchIsNeedToEnd(!0),n.save())}),(0,p.default)((0,i.default)(n),"onSelectSubjectType",function(e){var s=x.MODEL_SUBJECT_TYPE.getLabel(e);s!==n.state.subjectType&&((0,j.t)("我的.类型选择",{title:e}),e=n.state.page,n.setState({subjectType:s,tag:"",ipt:"1",loadedPage:[e]}),n.fetchIsNeedRefreshToEnd(),n.save())}),(0,p.default)((0,i.default)(n),"onOrderSelect",(s=(0,l.default)(o.mark(function e(s){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,j.t)("我的.排序选择",{label:s}),n.setState({order:x.MODEL_COLLECTIONS_ORDERBY.getValue(s)}),n.fetchIsNeedRefreshToEnd(),n.save();case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,p.default)((0,i.default)(n),"onTagSelect",function(e){(0,j.t)("我的.筛选选择",{label:e}),e="重置"===e?"":e.replace(/ \(\d+\)/,""),n.setState({tag:e}),n.fetchIsNeedRefreshToEnd(),n.save()}),(0,p.default)((0,i.default)(n),"onRefreshOffset",function(){var e=n.state.list;(0,j.t)("我的.布局选择",{list:!e}),n.setState({list:!e}),n.save()}),(0,p.default)((0,i.default)(n),"onToggleFixed",function(){var e=n.state.fixed;n.setState({fixed:!e}),n.save()}),(0,p.default)((0,i.default)(n),"onToggleShowYear",function(){var e=n.state.showYear;n.setState({showYear:!e}),n.save()}),(0,p.default)((0,i.default)(n),"onToggleFilter",function(){var e=n.state.showFilter;e?(n.setState({showFilter:!e,fliterInputText:""}),setTimeout(function(){n.setState({filter:""})},160)):(n.setState({showFilter:!e,filter:""}),setTimeout(function(){var e,s=n.state.page;null!=(s=(e=n.scrollToOffset)[s])&&s.call(e,{offset:n.fixedHeight,animated:!0})},0))}),(0,p.default)((0,i.default)(n),"_onFilterChange",(0,_.debounce)(function(e){try{n.setState({filter:e});var s=n.state,t=s.subjectType,r=s.page;e.length&&n.fetchUntilTheEnd(t,b.TABS[r].key)}catch(e){}},1200)),(0,p.default)((0,i.default)(n),"onFilterChange",function(e){e=String(e).trim();n.setState({fliterInputText:e}),n._onFilterChange(e)}),(0,p.default)((0,i.default)(n),"onManagePress",function(e){f.uiStore.showManageModal(e,"时光机",function(e){n.isMe&&n.type&&null!=e&&e.status&&n.type!==(null==e?void 0:e.status)&&f.collectionStore.removeOneInUserCollections({userId:n.username,subjectType:n.state.subjectType,type:n.type,subjectId:e.subjectId})})}),(0,p.default)((0,i.default)(n),"onPrev",function(){var e=n.state.ipt;1!==Number(e)&&(e=Number(e)-1,n.onPage(e))}),(0,p.default)((0,i.default)(n),"onNext",function(){var e=n.state.ipt,e=Number(e)+1;n.onPage(e)}),(0,p.default)((0,i.default)(n),"onPageChange",function(e){e=e.nativeEvent.text;n.setState({ipt:e}),n.save()}),(0,p.default)((0,i.default)(n),"onPage",function(e){var s=n.state.page;n.setState({ipt:String(e)}),n.save();try{n.scrollToOffset[s]({offset:f._.parallaxImageHeight-100,animated:!0})}catch(e){}n.fetchUserCollectionsNormal(e)}),(0,p.default)((0,i.default)(n),"onScroll",_.updateVisibleBottom.bind((0,i.default)(n))),n}},"./src/screens/user/v2/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=t("./node_modules/mobx/dist/mobx.esm.js"),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),j=t("./src/utils/user-setting/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/state.ts")),y=t("./src/screens/user/v2/store/ds.ts"),h=["list"];function g(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,c.default)(t);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,i.default)(this,e)}}var v;s.default=(t=r.default,(0,a.default)(O,t),v=g(O),(0,l.default)(O,[{key:"myUserId",get:function(){return f.userStore.myUserId}},{key:"userId",get:function(){return this.params.userId||this.myUserId}},{key:"username",get:function(){return this.usersInfo.username||this.userId}},{key:"isMe",get:function(){var e=this.params.userId;return!e||e===f.userStore.myId}},{key:"usersInfo",get:function(){return f.userStore.usersInfo(this.userId)}},{key:"sign",get:function(){var e;return(null==(e=f.usersStore.users(this.userId))?void 0:e.sign)||""}},{key:"avatar",get:function(){var e=this.sign.match(/\[avatar\](.+?)\[\/avatar\]/),e=e?String(e[1]).trim():"";return(0,j.fixedRemote)((0,_.HTMLDecode)(e),!0)}},{key:"bg",get:function(){var e=this.sign.match(/\[bg\](.+?)\[\/bg\]/);return(0,j.fixedRemote)((0,_.HTMLDecode)(e?String(e[1]).trim():""))}},{key:"type",get:function(){return x.MODEL_COLLECTION_STATUS.getValue(b.TABS[this.state.page].title)}},{key:"label",get:function(){return b.TABS[this.state.page].title}},{key:"action",get:function(){switch(x.MODEL_SUBJECT_TYPE.getTitle(this.state.subjectType)){case"书籍":return"读";case"音乐":return"听";case"游戏":return"玩";default:return"看"}}},{key:"counts",get:function(){var r={"动画":{},"书籍":{},"游戏":{},"音乐":{},"三次元":{}},e=f.userStore.userCollectionsStatus(this.userId);return e.length&&e.forEach(function(t){t.collects.forEach(function(e){var s=x.MODEL_COLLECTION_STATUS.getLabel(e.status.type);r[t.name_cn][s]=e.count})}),r}},{key:"count",value:function(e,s){var t=this;return(0,p.computed)(function(){return t.counts[e][s]}).get()}},{key:"fixedHeight",get:function(){return f._.parallaxImageHeight-b.H_HEADER}},{key:"isTabActive",value:function(t,r){var n=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(0,p.computed)(function(){var e,s=n.state.subjectType;return t===s&&(s=n.state.page,o?(null==(e=b.TABS[s])?void 0:e.key)===r||(null==(e=b.TABS[s-1])?void 0:e.key)===r||(null==(e=b.TABS[s+1])?void 0:e.key)===r:(null==(e=b.TABS[s])?void 0:e.key)===r)}).get()}},{key:"isFiltering",value:function(e,s){var t=this;return(0,p.computed)(function(){return!!t.isTabActive(e,s)&&!!(t.state.showFilter&&t.state.filter&&t.state.fetching)}).get()}},{key:"filter",get:function(){return(0,_.t2s)(this.state.filter.toUpperCase())}},{key:"userCollections",value:function(t,r){var n=this;return(0,p.computed)(function(){var e=f.collectionStore.userCollections(n.username,t,r),s=e.list,e=(0,o.default)(e,h);return n.isTabActive(t,r,!0)&&n.filter&&(s=s.filter(function(e){var s=(e.nameCn||"").toUpperCase(),e=(e.name||"").toUpperCase();return!(!s.includes(n.filter)&&!e.includes(n.filter))||(0,_.getPinYinFilterValue)(s,n.filter)||(0,_.getPinYinFilterValue)(e,n.filter)})),f.userStore.isLimit&&(s=s.filter(function(e){return!(0,_.x18)(e.id)})),Object.assign({list:s},e)}).get()}},{key:"userCollectionsTags",value:function(e,s){var t=this;return(0,p.computed)(function(){return f.collectionStore.userCollectionsTags(t.username,e,s)}).get()}},{key:"isSortByScore",get:function(){return"网站评分"===x.MODEL_COLLECTIONS_ORDERBY.getLabel(this.state.order)}},{key:"imageSource",get:function(){var e;return{uri:this.bg||this.avatar||(null==(e=this.usersInfo.avatar)?void 0:e.large)}}},{key:"blurRadius",get:function(){var e;return(0,_.getBlurRadius)(this.imageSource.uri,this.bg,null==(e=this.usersInfo.avatar)?void 0:e.large)}},{key:"numColumns",get:function(){return this.state.list?void 0:Number(f.systemStore.setting.userGridNum)}},{key:"loadedPage",value:function(e){var s=this;return(0,p.computed)(function(){return s.state.loadedPage.includes(e)}).get()}}]),(0,m.default)((s=O).prototype,"myUserId",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"myUserId"),s.prototype),(0,m.default)(s.prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,m.default)(s.prototype,"username",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"username"),s.prototype),(0,m.default)(s.prototype,"isMe",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"isMe"),s.prototype),(0,m.default)(s.prototype,"usersInfo",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,m.default)(s.prototype,"sign",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"sign"),s.prototype),(0,m.default)(s.prototype,"avatar",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),(0,m.default)(s.prototype,"bg",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,m.default)(s.prototype,"type",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"type"),s.prototype),(0,m.default)(s.prototype,"label",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"label"),s.prototype),(0,m.default)(s.prototype,"action",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"action"),s.prototype),(0,m.default)(s.prototype,"counts",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"counts"),s.prototype),(0,m.default)(s.prototype,"fixedHeight",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"fixedHeight"),s.prototype),(0,m.default)(s.prototype,"filter",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"filter"),s.prototype),(0,m.default)(s.prototype,"isSortByScore",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSortByScore"),s.prototype),(0,m.default)(s.prototype,"imageSource",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"imageSource"),s.prototype),(0,m.default)(s.prototype,"blurRadius",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"blurRadius"),s.prototype),(0,m.default)(s.prototype,"numColumns",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"numColumns"),s.prototype),s);function O(){var e;(0,n.default)(this,O);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=v.call.apply(v,[this].concat(t)),(0,u.default)((0,d.default)(e),"save",function(){return e.saveStorage(y.NAMESPACE,y.EXCLUDE_STATE)}),e}},"./src/screens/user/v2/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/v2/ds.ts"),r=(s.NAMESPACE="ScreenUser",s.EXCLUDE_STATE={visibleBottom:r._.window.height,isFocused:!0,showFilter:!1,fixed:!1,filter:"",fliterInputText:"",fetching:!1,loadedPage:[]});s.STATE=Object.assign({subjectType:t.DEFAULT_SUBJECT_TYPE,order:t.DEFAULT_ORDER,list:!0,showYear:!0,tag:"",page:2,ipt:"1"},r,{_loaded:!1})},"./src/screens/user/v2/store/fetch.ts":(e,s,t)=>{var a=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/constants/index.ts"),j=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/v2/store/computed.ts"));function x(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var b,y={};s.default=(t=r.default,(0,d.default)(h,t),b=x(h),(0,o.default)(h));function h(){var d;(0,l.default)(this,h);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return d=b.call.apply(b,[this].concat(s)),(0,m.default)((0,i.default)(d),"fetchUsersInfo",function(){return p.userStore.fetchUsersInfo(d.userId)}),(0,m.default)((0,i.default)(d),"fetchUsers",function(){return p.usersStore.fetchUsers({userId:d.userId})}),(0,m.default)((0,i.default)(d),"fetchCollections",function(){var e=d.state,s=e.subjectType,e=e.page;d.userCollections(s,_.MODEL_COLLECTION_STATUS.getValue(j.TABS[e].title))._loaded||d.fetchUserCollections(!0)}),(0,m.default)((0,i.default)(d),"fetchUserCollectionsNormal",(0,n.default)(a.mark(function e(){var s,t,r,n,o,l=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0<l.length&&void 0!==l[0]&&l[0],n=d.state,t=n.subjectType,r=n.order,n=n.tag,e.next=4,p.collectionStore.fetchUserCollections({subjectType:t,type:d.type,order:r,tag:n,userId:d.username},s);case 4:return o=e.sent,d.isMe||setTimeout(function(){p.collectionStore.fetchCollectionStatusQueue(o.list.filter(function(e){return e.collected}).map(function(e){return e.id}))},160),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"fetchUserCollectionsByScore",(0,n.default)(a.mark(function e(){var s,t,r,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=d.state.subjectType,t=JSON.stringify([d.username,s,d.type]),y[t])return e.abrupt("return",!0);e.next=4;break;case 4:return(0,f.info)("正在获取所有收藏"),y[t]=!0,e.next=8,d.fetchUserCollectionsNormal(!0);case 8:n=e.sent,n=n.pagination,r=n.pageTotal,n=n.page;case 12:if(n<r)return e.next=15,d.fetchUserCollectionsNormal();e.next=18;break;case 15:n+=1,e.next=12;break;case 18:return(0,f.info)("正在获取所有评分, 实际排序会在之后呈现"),e.next=21,p.collectionStore.sortUserCollectionsByScore(d.username,s,d.type);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"fetchUserCollections",(0,n.default)(a.mark(function e(){var s,t=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=0<t.length&&void 0!==t[0]&&t[0],d.isSortByScore)return e.abrupt("return",d.fetchUserCollectionsByScore());e.next=3;break;case 3:return e.abrupt("return",d.fetchUserCollectionsNormal(s));case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"fetchUntilTheEnd",(t=(0,n.default)(a.mark(function e(s,t){var r,n,o,l=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]&&l[2],d.isTabActive(s,t)){e.next=3;break}return e.abrupt("return");case 3:if(o=d.state,n=o.subjectType,o=o.page,o=j.TABS[o].key,n=p.collectionStore.userCollections(d.username,n,o),(o=n.pagination).page>=o.pageTotal)return r&&(console.info("fetchUntilTheEnd end"),d.setState({fetching:!1})),e.abrupt("return");e.next=9;break;case 9:return d.setState({fetching:!0}),e.next=12,d.fetchUserCollections();case 12:return e.abrupt("return",d.fetchUntilTheEnd(s,t,!0));case 13:case"end":return e.stop()}},e)})),function(e,s){return t.apply(this,arguments)})),(0,m.default)((0,i.default)(d),"fetchIsNeedToEnd",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s=d.state,t=s.showFilter,r=s.filter,n=s.subjectType,s=s.page;return t&&r?d.fetchUntilTheEnd(n,j.TABS[s].key):d.fetchUserCollections(e)}),(0,m.default)((0,i.default)(d),"fetchIsNeedRefreshToEnd",(0,n.default)(a.mark(function e(){var s,t,r,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.state,s=n.showFilter,t=n.filter,r=n.subjectType,n=n.page,s&&t)return e.next=4,d.fetchUserCollections(!0);e.next=5;break;case 4:return e.abrupt("return",d.fetchUntilTheEnd(r,j.TABS[n].key));case 5:return e.abrupt("return",d.fetchUserCollections(!0));case 6:case"end":return e.stop()}},e)}))),d}},"./src/screens/user/v2/store/index.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/constants/index.ts"),r=r(t("./src/screens/user/v2/store/action.ts")),j=t("./src/screens/user/v2/store/ds.ts");function x(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var b;s.default=(t=r.default,(0,i.default)(y,t),b=x(y),(0,l.default)(y));function y(){var t;(0,d.default)(this,y);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=b.call.apply(b,[this].concat(s)),(0,m.default)((0,a.default)(t),"init",(0,o.default)(n.mark(function e(){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1={},e.next=4,t.getStorage(j.NAMESPACE);case 4:return e.t2=e.sent,e.t3=j.EXCLUDE_STATE,e.t4={_loaded:!0},(s=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3,e.t4)).loadedPage=[s.page],t.setState(s),e.next=12,(0,f.queue)([function(){return t.fetchUsersInfo()},function(){return p.userStore.fetchUserCollectionsStatus(t.userId)},function(){if("网站评分"!==_.MODEL_COLLECTIONS_ORDERBY.getLabel(t.state.order))return p.systemStore.setting.userPagination?t.fetchUserCollectionsNormal(Number(t.state.ipt)):t.fetchUserCollections(!0)},function(){return t.fetchUsers()},function(){return p.timelineStore.fetchUsersCollectionsTimelineQueue(t.username||t.userId)}]);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e)}))),t}},"./src/screens/user/v2/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/createClass.js"))),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=t("./node_modules/mobx/dist/mobx.esm.js"),r=r(t("./src/utils/store/index.ts")),m=t("./src/screens/user/v2/store/ds.ts");function p(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}var f;s.default=(t=r.default,(0,d.default)(_,t),f=p(_),(0,n.default)(_));function _(){var e;(0,o.default)(this,_);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=f.call.apply(f,[this].concat(t)),(0,c.default)((0,l.default)(e),"params",void 0),(0,c.default)((0,l.default)(e),"state",(0,u.observable)(m.STATE)),e}},"./src/screens/user/zone/component/about/content/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/about/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Content")},"./src/screens/user/zone/component/about/content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/about/content/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation;return t.users._loaded?(s=String(t.users.sign||"").replace(/<span style="font-size:0px; line-height:0px;">(.+?)<\/span>/g,"")||"(没有填写简介)",(0,a.jsx)(n.RenderHtml,{style:o._.mt.sm,html:s,onLinkPress:function(e){(0,l.appNavigate)(e,r,{},{id:"空间.跳转",data:{from:"关于TA",userId:t.userId}})}})):(0,a.jsx)(n.Loading,{})},d.COMPONENT);try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/user/zone/component/about/content/index.tsx#content"})}catch(e){}},"./src/screens/user/zone/component/about/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"About")},"./src/screens/user/zone/component/about/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),i=t("./src/screens/user/zone/ds.ts"),c=r(t("./src/screens/user/zone/component/lock/index.tsx")),u=r(t("./src/screens/user/zone/component/u/index.tsx")),m=r(t("./src/screens/user/zone/component/about/content/index.tsx")),p=r(t("./src/screens/user/zone/component/about/service/index.tsx")),r=t("./src/screens/user/zone/component/about/ds.ts"),f=t("./src/screens/user/zone/component/about/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var t=s.$,s=(0,f.memoStyles)();return(0,_.jsx)(n.default.ScrollView,Object.assign({ref:function(e){var s=i.TABS.findIndex(function(e){return"关于"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,a.SCROLL_VIEW_RESET_PROPS,{onScroll:a.STORYBOOK?void 0:n.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:e.onScroll}),children:(0,_.jsxs)(o.default,{style:s.page,children:[(0,_.jsx)(c.default,{}),(0,_.jsx)(p.default,{}),(0,_.jsx)(m.default,{}),l.userStore.isDeveloper&&!!t.usersInfo.username&&(0,_.jsx)(u.default,{})]})}))},r.COMPONENT);try{about.displayName="about",about.__docgenInfo={description:"",displayName:"about",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/index.tsx#about"]={docgenInfo:about.__docgenInfo,name:"about",path:"src/screens/user/zone/component/about/index.tsx#about"})}catch(e){}},"./src/screens/user/zone/component/about/service/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/about/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Service")},"./src/screens/user/zone/component/about/service/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/about/service/ds.ts"),a=t("./src/screens/user/zone/component/about/service/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return null!=(s=s.$.users.networkService)&&s.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Flex,{style:a.styles.service,wrap:"wrap",children:s.map(function(e){return(0,i.jsxs)(o.Flex,{style:a.styles.item,children:[(0,i.jsx)(n.default,{style:(0,l.stl)(a.styles.badge,e.color&&{backgroundColor:e.color}),children:(0,i.jsx)(o.Text,{size:10,type:"__plain__",bold:!0,shadow:!0,children:e.label})}),(0,i.jsx)(o.Text,{size:11,bold:!0,onPress:e.href?function(){(0,l.open)(e.href)}:void 0,children:e.value})]},e.label)})}),(0,i.jsx)(o.Divider,{})]}):null},d.COMPONENT);try{service.displayName="service",service.__docgenInfo={description:"",displayName:"service",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/service/index.tsx#service"]={docgenInfo:service.__docgenInfo,name:"service",path:"src/screens/user/zone/component/about/service/index.tsx#service"})}catch(e){}},"./src/screens/user/zone/component/about/service/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({service:{marginRight:-t._._wind},item:{marginRight:t._.md,marginTop:t._.md},badge:{paddingVertical:4,paddingHorizontal:8,marginRight:t._.sm,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.08)",borderRadius:t._.radiusMd,overflow:"hidden"}})},"./src/screens/user/zone/component/about/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{paddingTop:r._.md,minHeight:r._.window.height-r._.parallaxImageHeight},nestScroll:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom}}})},"./src/screens/user/zone/component/bangumi-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"BangumiList")},"./src/screens/user/zone/component/bangumi-list/footer/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),d=t("./src/screens/user/zone/component/bangumi-list/footer/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation;return(0,a.jsxs)(n.Flex,{style:o._.mt.lg,justify:"center",children:[(0,a.jsxs)(n.Touchable,{style:d.styles.touch,onPress:function(){(0,l.t)("空间.跳转",{to:"User"}),t.navigateToUser(r)},children:[(0,a.jsx)(n.Text,{type:"sub",size:12,bold:!0,children:"查看TA的所有收藏"}),(0,a.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]}),(0,a.jsx)(n.Text,{style:d.styles.touch,type:"sub",children:"·"}),(0,a.jsxs)(n.Touchable,{style:d.styles.touch,onPress:function(){o.systemStore.switchSetting("zoneCollapse")},children:[(0,a.jsxs)(n.Text,{type:"sub",size:12,bold:!0,children:["自动折叠 [",o.systemStore.setting.zoneCollapse?"开":"关","]"]}),(0,a.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]})]})});try{footer.displayName="footer",footer.__docgenInfo={description:"",displayName:"footer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"]={docgenInfo:footer.__docgenInfo,name:"footer",path:"src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/footer/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{paddingVertical:t._.sm,paddingHorizontal:t._.sm,borderRadius:t._.radiusSm,overflow:"hidden"}})},"./src/screens/user/zone/component/bangumi-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/utils/decorators/index.ts"),j=t("./src/utils/dev/index.ts"),x=t("./src/constants/index.ts"),b=t("./src/screens/user/zone/ds.ts"),y=r(t("./src/screens/user/zone/component/bangumi-list/footer/index.tsx")),h=r(t("./src/screens/user/zone/component/bangumi-list/item/index.tsx")),g=r(t("./src/screens/user/zone/component/bangumi-list/section-header/index.tsx")),v=t("./src/screens/user/zone/component/bangumi-list/ds.ts"),O=t("./src/screens/user/zone/component/bangumi-list/styles.ts"),T=t("./node_modules/react/jsx-runtime.js");function S(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(C,r),E=S(C),(0,o.default)(C,[{key:"sections",get:function(){return this.context.$.userCollections.list.map(function(e){return{title:e.status,count:e.count,data:[{list:e.list}]}})}},{key:"render",value:function(){(0,j.r)(v.COMPONENT);var e=this.context.$;return e.userCollections._loaded?(0,T.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:this.styles.contentContainerStyle,keyExtractor:f.keyExtractor,animated:!0,sections:this.sections,showFooter:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,ListFooterComponent:(0,T.jsx)(y.default,{})},this.props,{onScroll:x.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:!0,listener:this.props.onScroll})})):(0,T.jsx)(p.Loading,{style:this.styles.loading})}},{key:"styles",get:function(){return(0,O.memoStyles)()}}]);var E,t=C;function C(){var r;(0,n.default)(this,C);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=E.call.apply(E,[this].concat(s)),(0,c.default)((0,l.default)(r),"connectRef",function(e){var s=r.context.$,t=b.TABS.findIndex(function(e){return"番剧"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,l.default)(r),"renderSectionHeader",function(e){var e=e.section,s=e.title,e=e.count;return(0,T.jsx)(g.default,{title:s,count:e})}),(0,c.default)((0,l.default)(r),"renderItem",function(e){var s=e.item,e=e.section.title;return(0,T.jsx)(h.default,{item:s,title:e})}),r}s.default=(0,_.obc)(t);try{bangumilist.displayName="bangumilist",bangumilist.__docgenInfo={description:"",displayName:"bangumilist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"]={docgenInfo:bangumilist.__docgenInfo,name:"bangumilist",path:"src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=void 0;s.EVENT={id:"空间.跳转"}},"./src/screens/user/zone/component/bangumi-list/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),l=t("./src/screens/_/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/component/bangumi-list/item/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.item,e=e.title,r=s.$,n=s.navigation;return r.state.expand[e]?(0,i.jsxs)(o.Flex,{wrap:"wrap",align:"start",children:[t.list.filter(function(e,s){return s<20}).map(function(e){var s;return(0,i.jsx)(l.ItemBangumiList,{navigation:n,subjectId:e.id,image:null==(s=e.images)?void 0:s.medium,name:(0,d.cnjp)(e.name_cn,e.name),event:a.EVENT},e.id)}),e.includes("在看")&&(0,i.jsx)(o.Heatmap,{id:"空间.跳转",to:"Subject",alias:"条目"})]}):null})},"./src/screens/user/zone/component/bangumi-list/section-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/component/bangumi-list/section-header/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.title,e=e.count,r=s.$,s=(0,a.memoStyles)();return(0,i.jsxs)(n.Touchable,{style:(0,d.stl)(s.section,"在看"===t&&l._.mt.sm),onPress:function(){return r.onToggleSection(t)},children:[(0,i.jsxs)(o.SectionHeader,{style:s.sectionHeader,type:"title",size:15,right:(0,i.jsx)(n.Iconfont,{style:s.arrow,name:r.state.expand[t]?"md-keyboard-arrow-down":"md-keyboard-arrow-up"}),children:[t," ",(0,i.jsx)(n.Text,{type:"sub",size:13,bold:!0,lineHeight:15,children:e})]}),"在看"===t&&(0,i.jsx)(n.Heatmap,{id:"空间.展开分组"})]})})},"./src/screens/user/zone/component/bangumi-list/section-header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{sectionHeader:{paddingHorizontal:r._._wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},section:{backgroundColor:r._.colorBg},arrow:{marginRight:-3}}})},"./src/screens/user/zone/component/bangumi-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles(function(){return{loading:{marginTop:r._.window.height/3},contentContainerStyle:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},nestScroll:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}})},"./src/screens/user/zone/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Component")},"./src/screens/user/zone/component/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/zone/component/heatmaps/index.tsx")),d=r(t("./src/screens/user/zone/component/remark-modal/index.tsx")),a=r(t("./src/screens/user/zone/component/used-modal/index.tsx")),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)(function(e,s){return s=s.$,(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.default,{visible:s.state.visible,defaultAvatar:s.src}),(0,i.jsx)(d.default,{}),(0,i.jsx)(n.Track,{title:"空间",hm:["user/"+s.params.userId+"?route=zone","Zone"]}),(0,i.jsx)(l.default,{})]})});try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/user/zone/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/user/zone/component/head/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/head/avatar/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).avatar,r=r.username,n="string"==typeof s.src&&!s.src.includes("//lain.bgm.tv/pic/user/l/"),r=(0,d.getUserStatus)(r),o=a._.r(88);return(0,c.jsxs)(l.default,{children:[(0,c.jsx)(d.Image,{style:i.styles.avatar,src:s.src,size:o,radius:o/2,placeholder:!1,border:a._.__colorPlain__,borderWidth:2,fallback:n,fallbackSrc:null==t?void 0:t.large},String(s.src)),!!r&&(0,c.jsx)(l.default,{style:[i.styles.status,i.styles.online,i.styles["online"+r]]})]})});try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/avatar/index.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/screens/user/zone/component/head/avatar/index.tsx#avatar"})}catch(e){}},"./src/screens/user/zone/component/head/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({avatar:{marginTop:14,backgroundColor:t._.__colorPlain__,overflow:"hidden"},status:{position:"absolute",zIndex:1,right:1,bottom:1,width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{borderWidth:2,borderColor:t._.__colorPlain__},onlineSuccess:{backgroundColor:"rgb(9, 241, 117)"},onlineWarning:{backgroundColor:t._.colorWarning}})},"./src/screens/user/zone/component/head/blogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=s.$,r=s.navigation;return(0,a.jsxs)(n.default,{style:e,children:[(0,a.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:t.userId,to:"Blogs"}),r.push("Blogs",{userId:t.userId})},children:(0,a.jsx)(o.Text,{type:l._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:"日志"})}),(0,a.jsx)(o.Heatmap,{right:-74,bottom:-8,id:"空间.跳转",to:"Blogs",alias:"日志"})]})})},"./src/screens/user/zone/component/head/catalogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=s.$,r=s.navigation;return(0,a.jsxs)(n.default,{style:e,children:[(0,a.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:t.userId,to:"Catalogs"}),r.push("Catalogs",{userId:t.userId})},children:(0,a.jsx)(o.Text,{type:l._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:"目录"})}),(0,a.jsx)(o.Heatmap,{right:-76,bottom:-8,id:"空间.跳转",to:"Catalogs",alias:"目录"})]})})},"./src/screens/user/zone/component/head/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Head")},"./src/screens/user/zone/component/head/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/zone/component/head/avatar/index.tsx")),a=r(t("./src/screens/user/zone/component/head/blogs/index.tsx")),i=r(t("./src/screens/user/zone/component/head/catalogs/index.tsx")),c=r(t("./src/screens/user/zone/component/head/join/index.tsx")),u=r(t("./src/screens/user/zone/component/head/name/index.tsx")),m=r(t("./src/screens/user/zone/component/head/recent/index.tsx")),p=r(t("./src/screens/user/zone/component/head/remark/index.tsx")),f=r(t("./src/screens/user/zone/component/head/sync/index.tsx")),r=t("./src/screens/user/zone/component/head/ds.ts"),_=t("./src/screens/user/zone/component/head/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.ob)(function(e){var e=e.style,s=(0,_.memoStyles)();return(0,j.jsxs)(o.Flex,{style:e,direction:"column",children:[(0,j.jsxs)(n.default,{children:[(0,j.jsx)(d.default,{}),(0,j.jsx)(c.default,{style:s.l1}),(0,j.jsx)(f.default,{style:s.l2}),(0,j.jsx)(m.default,{style:s.l3}),(0,j.jsx)(a.default,{style:s.r1}),(0,j.jsx)(i.default,{style:s.r2}),(0,j.jsx)(p.default,{style:s.r3})]}),(0,j.jsx)(u.default,{})]})},r.COMPONENT);try{head.displayName="head",head.__docgenInfo={description:"",displayName:"head",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/index.tsx#head"]={docgenInfo:head.__docgenInfo,name:"head",path:"src/screens/user/zone/component/head/index.tsx#head"})}catch(e){}},"./src/screens/user/zone/component/head/join/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$.users.join,(0,l.jsx)(n.Text,{style:e,type:o._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:s||"- 加入"})})},"./src/screens/user/zone/component/head/name/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),d=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/component/head/name/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(r=s.usersInfo).id,r=r.username,t=t||s.params._id,n=!!r&&r!=t,o=i._.select("plain","title");return(0,u.jsxs)(l.default,{style:i._.mt.md,children:[(0,u.jsxs)(d.Flex,{children:[(0,u.jsx)(a.VerticalAlign,{text:s.nickname,type:o,lineHeight:14,bold:!0,shadow:!0,children:s.nickname}),!(!r&&!t)&&(0,u.jsxs)(d.Text,{style:i._.ml.xs,type:o,bold:!0,shadow:!0,children:["@",!s.state.originUid&&r||t]})]}),(0,u.jsx)(d.Flex,{style:c.styles.icons,children:n&&(0,u.jsx)(d.Touchable,{style:c.styles.icon,onPress:s.toggleOriginUid,children:(0,u.jsx)(d.Iconfont,{name:"md-compare-arrows",size:17,color:i._.__colorPlain__})})})]})});try{name.displayName="name",name.__docgenInfo={description:"",displayName:"name",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/name/index.tsx#name"]={docgenInfo:name.__docgenInfo,name:"name",path:"src/screens/user/zone/component/head/name/index.tsx#name"})}catch(e){}},"./src/screens/user/zone/component/head/name/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({icons:{position:"absolute",zIndex:1,top:0,right:-54,width:48,height:18},icon:{paddingHorizontal:6,opacity:.92}})},"./src/screens/user/zone/component/head/recent/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t,e=e.style,r=s.$,s="历史";return r.usersTimeline.list.length&&null!=(t=r.usersTimeline.list)&&null!=(t=t[0])&&t.time&&(s=String(null==(t=r.usersTimeline.list[0])||null==(t=t.time.split(" ·"))?void 0:t[0]).replace("·","")+"活跃"),(0,a.jsxs)(n.default,{style:e,children:[(0,a.jsx)(o.Touchable,{animate:!0,scale:.9,onPress:function(){(0,d.t)("空间.历史",{userId:r.userId}),r.openUsedModal()},children:(0,a.jsx)(o.Text,{type:l._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:s})}),(0,a.jsx)(o.Heatmap,{id:"空间.历史"})]})})},"./src/screens/user/zone/component/head/remark/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/head/remark/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$,(0,a.jsx)(n.default,{style:e,children:(0,a.jsx)(o.Touchable,{style:d.styles.remark,animate:!0,scale:.8,onPress:s.openRemarkModal,children:(0,a.jsx)(o.Text,{type:l._.select("plain","title"),size:11,bold:!0,shadow:!0,numberOfLines:1,noWrap:!0,children:s.userRemark?"["+s.userRemark+"]":"备注"})})})})},"./src/screens/user/zone/component/head/remark/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({remark:{maxWidth:100}})},"./src/screens/user/zone/component/head/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;function r(e,s){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),right:o._.r(s-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}function n(e,s){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),left:o._.r(s-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}var o=t("./src/stores/index.ts");s.memoStyles=o._.memoStyles(function(){return{l1:r(16,100),l2:r(52,116),l3:r(88,100),r1:n(16,100),r2:n(52,116),r3:n(88,100)}})},"./src/screens/user/zone/component/head/sync/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=(s=s.$.users).percent,s=s.hobby;return(0,l.jsxs)(n.Text,{style:e,type:o._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:["同步率 ",isNaN(t)?"-":t,"% (",s,")"]})})},"./src/screens/user/zone/component/heatmaps/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Heatmaps")},"./src/screens/user/zone/component/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/heatmaps/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height/1.6,id:"空间.标签页切换",transparent:!0}),(0,d.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height/1.6,id:"空间.标签页点击",transparent:!0}),(0,d.jsx)(n.Heatmap,{bottom:o._.bottom,id:"空间",screen:"Zone"})]})},l.COMPONENT)},"./src/screens/user/zone/component/list-header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ListHeader")},"./src/screens/user/zone/component/list-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store/index.ts"),d=t("./src/screens/user/zone/component/list-header/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.ob)(function(){return(0,a.jsx)(n.default,{style:{height:o._.parallaxImageHeight+l.H_TABBAR-16}})},d.COMPONENT)},"./src/screens/user/zone/component/lock/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Lock")},"./src/screens/user/zone/component/lock/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),r=t("./src/utils/decorators/index.ts"),o=t("./src/screens/user/zone/component/lock/ds.ts"),l=t("./src/screens/user/zone/component/lock/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t;return(s=s.$.users.ban)?(t=(0,l.memoStyles)(),(0,d.jsxs)(n.Flex,{style:t.container,children:[(0,d.jsx)(n.Mesume,{index:2,size:60}),(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(n.Text,{bold:!0,children:s})})]})):null},o.COMPONENT);try{lock.displayName="lock",lock.__docgenInfo={description:"",displayName:"lock",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/lock/index.tsx#lock"]={docgenInfo:lock.__docgenInfo,name:"lock",path:"src/screens/user/zone/component/lock/index.tsx#lock"})}catch(e){}},"./src/screens/user/zone/component/lock/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingRight:r._._wind,paddingLeft:r._.xs,marginTop:r._.md,marginBottom:r._.lg,borderWidth:1,borderColor:r._.colorMain,borderRadius:r._.radiusSm}}})},"./src/screens/user/zone/component/menu/back/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/back/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.navigation,(0,a.jsx)(n.default,{style:[l._.header.left,d.styles.back],children:(0,a.jsx)(o.IconBack,{navigation:s,color:l._.__colorPlain__})})});try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/back/index.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/user/zone/component/menu/back/index.tsx#back"})}catch(e){}},"./src/screens/user/zone/component/menu/back/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({back:{zIndex:1,marginTop:t._.platforms(-8,-8,-8,0),marginLeft:2}})},"./src/screens/user/zone/component/menu/friend/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/menu/friend/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return(s=s.$).users.disconnectUrl?(0,d.jsx)(n.Touchable,{style:l.styles.touch,onPress:s.logFriendStatus,children:(0,d.jsx)(n.Flex,{style:l.styles.icon,justify:"center",children:(0,d.jsx)(n.Iconfont,{name:"md-face",size:19,color:o._.__colorPlain__})})}):null});try{friend.displayName="friend",friend.__docgenInfo={description:"",displayName:"friend",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/friend/index.tsx#friend"]={docgenInfo:friend.__docgenInfo,name:"friend",path:"src/screens/user/zone/component/menu/friend/index.tsx#friend"})}catch(e){}},"./src/screens/user/zone/component/menu/friend/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=r(t("./src/screens/user/zone/component/menu/back/index.tsx")),a=r(t("./src/screens/user/zone/component/menu/friend/index.tsx")),i=r(t("./src/screens/user/zone/component/menu/member/index.tsx")),c=r(t("./src/screens/user/zone/component/menu/menu/index.tsx")),u=t("./src/screens/user/zone/component/menu/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.ob)(function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.default,{}),(0,m.jsxs)(n.Flex,{style:[o._.header.right,u.styles.right],children:[(0,m.jsx)(a.default,{}),(0,m.jsx)(i.default,{}),(0,m.jsx)(c.default,{})]})]})})},"./src/screens/user/zone/component/menu/member/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/member/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$;return t.isAdvance?(0,a.jsx)(n.Touchable,{style:[d.styles.touch,o._.ml.xs],onPress:function(){return(0,l.info)("TA 也是高级会员"+(t.advanceDetail?" "+t.advanceDetail:""))},children:(0,a.jsx)(n.Flex,{style:d.styles.icon,justify:"center",children:(0,a.jsx)(n.Iconfont,{name:"md-attach-money",color:o._.__colorPlain__})})}):null});try{member.displayName="member",member.__docgenInfo={description:"",displayName:"member",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/member/index.tsx#member"]={docgenInfo:member.__docgenInfo,name:"member",path:"src/screens/user/zone/component/menu/member/index.tsx#member"})}catch(e){}},"./src/screens/user/zone/component/menu/member/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/menu/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_PM=s.TEXT_IGNORE=s.TEXT_FRIEND=s.TEXT_DISCONNECT=s.TEXT_COPY_SHARE=s.TEXT_COPY_LINK=s.TEXT_CONNECT=s.TEXT_COLLECT=s.TEXT_BROWSER=s.TEXT_BLOCK=void 0;s.TEXT_BROWSER="浏览器查看",s.TEXT_COPY_LINK="复制链接",s.TEXT_COPY_SHARE="复制分享",s.TEXT_PM="发短信",s.TEXT_COLLECT="TA的收藏",s.TEXT_FRIEND="TA的好友",s.TEXT_CONNECT="加为好友",s.TEXT_DISCONNECT="解除好友",s.TEXT_BLOCK="屏蔽用户",s.TEXT_IGNORE="绝交"},"./src/screens/user/zone/component/menu/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),l=t("./src/screens/_/index.ts"),d=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),i=t("./src/screens/user/zone/component/menu/menu/utils.ts"),c=t("./src/screens/user/zone/component/menu/menu/ds.ts"),u=t("./src/screens/user/zone/component/menu/menu/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=[c.TEXT_BROWSER,c.TEXT_COPY_LINK,c.TEXT_COPY_SHARE];return a.STORYBOOK||r.push(c.TEXT_PM),r.push(c.TEXT_COLLECT,c.TEXT_FRIEND),a.STORYBOOK||(t.users.connectUrl?r.push(c.TEXT_CONNECT):t.users.disconnectUrl&&r.push(c.TEXT_DISCONNECT),r.push(c.TEXT_IGNORE)),(0,m.jsx)(n.default,{style:u.styles.touch,children:(0,m.jsxs)(l.Popover,{data:r,onSelect:function(e){return(0,i.handleSelect)(e,s)},children:[(0,m.jsx)(o.Flex,{style:u.styles.icon,justify:"center",children:(0,m.jsx)(o.Iconfont,{name:"md-more-vert",color:d._.__colorPlain__})}),(0,m.jsx)(o.Heatmap,{id:"空间.右上角菜单"}),(0,m.jsx)(o.Heatmap,{right:62,id:"空间.添加好友",transparent:!0}),(0,m.jsx)(o.Heatmap,{right:113,id:"空间.解除好友",transparent:!0}),(0,m.jsx)(o.Heatmap,{right:170,id:"空间.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]},t.usersInfo.id||t.usersInfo.username)})});try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/zone/component/menu/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/zone/component/menu/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/menu/utils.ts":(e,s,t)=>{var d=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(s,"__esModule",{value:!0}),s.handleSelect=function(e,s){var t=s.$,r=s.navigation,n=m.HOST+"/user/"+t.usersInfo.username,o=t.usersInfo.username||t.usersInfo.id||t.userId,l=(0,c.HTMLDecode)(t.usersInfo.nickname||t.params._name);switch((0,u.t)("空间.右上角菜单",{key:e,userId:o}),e){case p.TEXT_BROWSER:(0,c.open)(n);break;case p.TEXT_COPY_LINK:(0,c.copy)(n,"已复制链接");break;case p.TEXT_COPY_SHARE:(0,c.copy)("【链接】"+l+" | Bangumi番组计划\n"+n,"已复制分享文案");break;case p.TEXT_PM:r.push("PM",{userId:t.usersInfo.id,userName:l});break;case p.TEXT_COLLECT:t.navigateToUser(r);break;case p.TEXT_FRIEND:r.push("Friends",{userId:o});break;case p.TEXT_CONNECT:t.doConnect();break;case p.TEXT_DISCONNECT:(0,c.confirm)("确定解除好友?",function(){return t.doDisconnect()});break;case p.TEXT_IGNORE:(0,c.confirm)("与 "+l+" 绝交（不再看到用户的所有话题、评论、日志、私信、提醒）?",(0,a.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.rakuenStore.formhash){e.next=3;break}return e.next=3,i.rakuenStore.fetchPrivacy();case 3:i.rakuenStore.doBlockUser({keyword:String(o)},(0,a.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.t)("空间.绝交"),(0,c.info)("已添加绝交"),(0,c.feedback)(),i.rakuenStore.fetchPrivacy();case 4:case"end":return e.stop()}},e)})),function(){(0,c.info)("添加失败, 可能授权信息过期")});case 4:case"end":return e.stop()}},e)})))}},r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),u=t("./src/utils/fetch/index.ts"),m=t("./src/constants/index.ts"),p=t("./src/screens/user/zone/component/menu/menu/ds.ts")},"./src/screens/user/zone/component/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:t._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/parallax-image/bg/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/parallax-image/bg/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,s=s.$,t=(0,l.memoStyles)();return(0,d.jsx)(n.default.Image,{style:[t.parallaxImage,e],source:s.imageSource,blurRadius:(0,o.getBlurRadius)(s.imageSource.uri,s.bg,null==(t=s.usersInfo.avatar)?void 0:t.large)})})},"./src/screens/user/zone/component/parallax-image/bg/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8}}})},"./src/screens/user/zone/component/parallax-image/center/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/store/index.ts"),i=r(t("./src/screens/user/zone/component/head/index.tsx")),c=t("./src/screens/user/zone/component/parallax-image/center/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)(function(e,s){var e=e.style,s=s.$,t=(0,c.memoStyles)();return(0,u.jsxs)(n.default.View,{style:[t.parallaxWrap,e],children:[(0,u.jsx)(n.default.View,{style:{opacity:s.scrollY.interpolate({inputRange:[-l._.parallaxImageHeight,0,l._.parallaxImageHeight-a.H_HEADER,l._.parallaxImageHeight],outputRange:[1,1,0,0]})},children:(0,u.jsx)(i.default,{style:t.head})}),(0,u.jsx)(o.default,{style:t.parallaxLine})]})})},"./src/screens/user/zone/component/parallax-image/center/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/zone/store/index.ts");s.memoStyles=r._.memoStyles(function(){return{parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:n.H_RADIUS_LINE,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},head:{marginTop:(r._.parallaxImageHeight-120)/2}}})},"./src/screens/user/zone/component/parallax-image/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"ParallaxImage")},"./src/screens/user/zone/component/parallax-image/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),l=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),i=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/store/index.ts"),u=t("./src/screens/user/zone/component/parallax-image/header/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var e=e.style,t=(s=s.$).params._name,r=(n=s.usersInfo).avatar,n=n.nickname;return(0,m.jsx)(o.default.View,{style:[u.styles.parallaxWrap,e,{opacity:s.scrollY.interpolate({inputRange:[-a._.parallaxImageHeight,0,a._.parallaxImageHeight-c.H_HEADER,a._.parallaxImageHeight],outputRange:[0,0,1,1]})}],children:(0,m.jsxs)(l.Flex,{style:u.styles.title,justify:"center",children:[(0,m.jsx)(d.Avatar,{style:u.styles.avatar,size:28,src:s.src,borderWidth:0,fallbackSrc:null==r?void 0:r.large}),(0,m.jsx)(l.Text,{style:a._.ml.sm,type:a._.select("plain","title"),align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,i.HTMLDecode)(n||t)})]})})})},"./src/screens/user/zone/component/parallax-image/header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),t=t("./src/screens/user/zone/store/index.ts");s.styles=r._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},title:{position:"absolute",left:"50%",width:240,bottom:t.H_RADIUS_LINE+14,transform:[{translateX:-120}]},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/component/parallax-image/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/store/index.ts"),a=r(t("./src/screens/user/zone/component/menu/index.tsx")),i=r(t("./src/screens/user/zone/component/parallax-image/bg/index.tsx")),c=r(t("./src/screens/user/zone/component/parallax-image/center/index.tsx")),u=r(t("./src/screens/user/zone/component/parallax-image/header/index.tsx")),m=r(t("./src/screens/user/zone/component/parallax-image/mask/index.tsx")),r=t("./src/screens/user/zone/component/parallax-image/ds.ts"),p=t("./src/screens/user/zone/component/parallax-image/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)(function(e,s){var t={transform:[{translateY:(s=s.$).scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight-d.H_HEADER,o._.parallaxImageHeight],outputRange:[o._.parallaxImageHeight/2,0,-(o._.parallaxImageHeight-d.H_HEADER),-(o._.parallaxImageHeight-d.H_HEADER)]})},{scale:s.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight],outputRange:[2,1,1]})}]};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.default,{style:p.styles.parallax,pointerEvents:s.state.fixed?"none":void 0,children:[(0,f.jsx)(i.default,{style:t}),(0,f.jsx)(m.default,{style:t}),(0,f.jsx)(u.default,{style:t}),(0,f.jsx)(c.default,{style:t})]}),(0,f.jsx)(a.default,{})]})},r.COMPONENT);try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/mask/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),o=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store/index.ts"),d=t("./src/screens/user/zone/component/parallax-image/mask/styles.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return e=e.style,s=s.$,(0,a.jsx)(n.default.View,{style:[d.styles.parallaxWrap,e,{backgroundColor:"rgba(0, 0, 0, 0.24)",opacity:s.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight-l.H_HEADER,o._.parallaxImageHeight],outputRange:o._.select([0,.4,1,1],[.4,.8,1,1])})}]})})},"./src/screens/user/zone/component/parallax-image/mask/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0}})},"./src/screens/user/zone/component/parallax-image/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:t._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/rakuen-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"RakuenList")},"./src/screens/user/zone/component/rakuen-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),x=t("./src/utils/decorators/index.ts"),b=t("./src/utils/dev/index.ts"),y=t("./src/constants/index.ts"),h=t("./src/screens/user/zone/ds.ts"),g=r(t("./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx")),v=t("./src/screens/user/zone/component/rakuen-list/utils.ts"),O=t("./src/screens/user/zone/component/rakuen-list/ds.ts"),T=t("./src/screens/user/zone/component/rakuen-list/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function E(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(P,r),C=E(P),(0,o.default)(P,[{key:"render",value:function(){var e,s,t,r,n;return(0,b.r)(O.COMPONENT),y.SHARE_MODE?(0,S.jsx)(p.Loading,{style:T.styles.loading,children:(0,S.jsx)(p.Text,{style:_._.mt.md,children:"网页端不支持此功能"})}):(e=(t=this.context).$,s=t.navigation,t=e.state.timeout,r=this.props.onScroll,r=y.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:!0,listener:r}),e.userTopicsFormCDN._loaded?(n=0<(n=void 0===(n=e.userTopicsFormCDN._filter)?0:n)?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.Text,{style:_._.mt.md,type:"sub",align:"center",size:12,children:["还有",n,"条数据未显示"]}),(0,S.jsxs)(p.Text,{style:_._.mt.xs,type:"sub",align:"center",size:12,children:[(0,S.jsx)(p.Text,{type:"warning",size:12,onPress:function(){return(0,v.handleToQiafan)(s)},children:"高级会员"}),"显示所有"]})]}):void 0,(0,S.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:(0,j.stl)(T.styles.contentContainerStyle,!y.STORYBOOK&&_._.container.bottom),keyExtractor:R,data:e.userTopicsFormCDN,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,ListFooterComponent:n,onScroll:r,onFooterRefresh:e.fetchUsersTimeline},this.props))):(0,S.jsx)(p.ScrollView,{contentContainerStyle:T.styles.contentContainerStyle,animated:!0,onScroll:r,children:(0,S.jsx)(p.Loading,{style:T.styles.loading,children:t&&(0,S.jsx)(p.Text,{style:_._.mt.md,children:"查询超时，TA可能没有发过帖子"})})}))}}]);var C,t=P;function P(){var r;(0,n.default)(this,P);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return r=C.call.apply(C,[this].concat(s)),(0,c.default)((0,l.default)(r),"connectRef",function(e){var s=r.context.$,t=h.TABS.findIndex(function(e){return"超展开"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,l.default)(r),"renderSectionHeader",function(e){e=e.section.title;return(0,S.jsx)(f.SectionHeader,{size:14,children:e})}),(0,c.default)((0,l.default)(r),"renderItem",function(e){var s=e.item,e=e.index,t=r.context.navigation;return(0,S.jsx)(g.default,Object.assign({navigation:t,index:e},s,{children:!e&&(0,S.jsx)(p.Heatmap,{id:"空间.跳转",to:"Topic",alias:"帖子"})}))}),r}s.default=(0,x.obc)(t);function R(e){return String(e.id)}try{rakuenlist.displayName="rakuenlist",rakuenlist.__docgenInfo={description:"",displayName:"rakuenlist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"]={docgenInfo:rakuenlist.__docgenInfo,name:"rakuenlist",path:"src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"})}catch(e){}},"./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/rakuen-list/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"RakuenItem")},"./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),u=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),m=t("./src/utils/fetch/index.ts"),n=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts"),p=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.topicId,r=(e.avatar,e.userName),n=e.title,o=e.group,l=e.date,d=e.time,a=e.userId,e=e.children,i=s.navigation,s=(0,p.memoStyles)();return(0,f.jsxs)(c.Flex,{style:s.container,align:"start",children:[(0,f.jsx)(c.Flex.Item,{children:(0,f.jsx)(c.Touchable,{style:s.item,animate:!0,onPress:function(){(0,m.t)("空间.跳转",{to:"Topic",from:"超展开",topicId:t}),i.push("Topic",{topicId:t,_title:n,_group:o,_time:l+" "+d,_userName:r,_userId:a})},children:(0,f.jsx)(c.Flex,{align:"start",children:(0,f.jsxs)(c.Flex.Item,{children:[(0,f.jsx)(c.Text,{size:16,children:n}),(0,f.jsxs)(c.Text,{style:u._.mt.sm,type:"sub",size:12,children:[d," / ",o]})]})})})}),e]})},n.COMPONENT)},"./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind}}})},"./src/screens/user/zone/component/rakuen-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.lg},contentContainerStyle:{minHeight:t._.window.height+t._.parallaxImageHeight-t._.tabBarHeight},nestScroll:{paddingBottom:t._.bottom},nestScrollLoading:{marginTop:-320}})},"./src/screens/user/zone/component/rakuen-list/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.handleToQiafan=function(e){(0,r.t)("空间.跳转",{from:"高级会员",to:"Qiafan"}),e.push("Qiafan")};var r=t("./src/utils/fetch/index.ts")},"./src/screens/user/zone/component/remark-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"RemarkModal")},"./src/screens/user/zone/component/remark-modal/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./node_modules/mobx/dist/mobx.esm.js"),f=t("./src/components/index.ts"),_=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),j=t("./src/utils/dev/index.ts"),x=t("./src/screens/user/zone/component/remark-modal/ds.ts"),b=t("./src/screens/user/zone/component/remark-modal/styles.ts"),y=t("./node_modules/react/jsx-runtime.js");function h(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}var g;s.default=(0,r.obc)((t=u.default.Component,(0,d.default)(v,t),g=h(v),(0,o.default)(v,[{key:"componentDidMount",value:function(){var t=this,e=this.context.$;(0,p.autorun)(function(){e.state.remarkModalVisible&&setTimeout(function(){try{var e,s;"function"==typeof(null==t||null==(e=t.iptRef)||null==(s=e.inputRef)?void 0:s.focus)&&t.iptRef.inputRef.focus()}catch(e){}},240)})}},{key:"render",value:function(){(0,j.r)(x.COMPONENT);var e=this.context.$,s=e.state,t=s.remarkModalVisible,s=s.remarkModalInput;return(0,y.jsx)(f.Modal,{style:this.styles.modal,visible:t,title:"备注",onClose:e.closeRemarkModal,children:(0,y.jsxs)(m.default,{style:this.styles.container,children:[(0,y.jsx)(f.Text,{size:13,bold:!0,children:"在页面中出现该用户，使用备注内容高亮覆盖"}),(0,y.jsxs)(f.Flex,{style:_._.mt.md,align:"center",children:[(0,y.jsx)(f.Flex.Item,{children:(0,y.jsx)(f.Input,{ref:this.handleRef,style:this.styles.ipt,defaultValue:s,placeholder:"输入",showClear:!0,onChangeText:e.changeRemarkModal,onSubmitEditing:e.submitRemarkModal})}),(0,y.jsx)(f.Touchable,{style:this.styles.btn,onPress:e.submitRemarkModal,children:(0,y.jsx)(f.Text,{size:13,children:"保存"})})]})]})})}},{key:"styles",get:function(){return(0,b.memoStyles)()}}]),v));function v(){var s;(0,n.default)(this,v);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=g.call.apply(g,[this].concat(t)),(0,c.default)((0,l.default)(s),"iptRef",void 0),(0,c.default)((0,l.default)(s),"handleRef",function(e){return s.iptRef=e}),s}try{remarkmodal.displayName="remarkmodal",remarkmodal.__docgenInfo={description:"",displayName:"remarkmodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/remark-modal/index.tsx#remarkmodal"]={docgenInfo:remarkmodal.__docgenInfo,name:"remarkmodal",path:"src/screens/user/zone/component/remark-modal/index.tsx#remarkmodal"})}catch(e){}},"./src/screens/user/zone/component/remark-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},btn:{paddingVertical:4,paddingRight:r._.sm,paddingLeft:20}}})},"./src/screens/user/zone/component/stats/chart/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.reverse.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=(r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),i=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/component/stats/chart/utils.ts"),u=t("./src/screens/user/zone/component/stats/chart/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,r=(0,u.memoStyles)(),n=null==(s=(null==(s=s.users)?void 0:s.userStats)||{})?void 0:s.chart,o=Math.max.apply(Math,(0,l.default)(Object.keys(n||{}).map(function(e){return Number((null==n?void 0:n[e])||0)})));return(0,m.jsx)(a.Flex,{style:r.chart,children:Object.keys(n||{}).reverse().map(function(e,s){var t=(0,c.getHeight)(o,null==n?void 0:n[e]);return(0,m.jsxs)(a.Flex.Item,{style:0<s&&i._.ml.xs,children:[(0,m.jsxs)(a.Flex,{style:r.item,justify:"center",align:"end",children:[(0,m.jsx)(d.default,{style:[r.itemFill,{height:t}]}),(0,m.jsxs)(a.Text,{style:[r.count,{bottom:t}],size:11,type:"sub",align:"center",bold:!0,children:[null==n?void 0:n[e]," "]})]}),(0,m.jsx)(a.Text,{style:i._.mt.sm,size:12,bold:!0,type:"title",align:"center",children:e})]},e)})})});try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/chart/index.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/user/zone/component/stats/chart/index.tsx#chart"})}catch(e){}},"./src/screens/user/zone/component/stats/chart/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{chart:{paddingHorizontal:r._.sm,marginTop:56,marginHorizontal:-4},item:{height:r._.r(128),paddingBottom:r._.xs,marginTop:-r._.md},itemFill:{position:"absolute",left:"50%",width:16,marginLeft:-8,backgroundColor:r._.select(r._.colorWait,r._._colorSub),borderRadius:r._.radiusXs},count:{position:"absolute",zIndex:1,right:0,left:0,marginBottom:4}}})},"./src/screens/user/zone/component/stats/chart/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHeight=function(e,s){if(!e||!s)return 0;s=Number(s)/Number(e);0<s&&s<r&&(s=r);return 100*s+"%"};var r=.04},"./src/screens/user/zone/component/stats/counts/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),o=t("./src/components/index.ts"),r=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/stats/counts/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var s=s.$,t=(0,l.memoStyles)(),s=(null==(s=s.users)?void 0:s.userStats)||{};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockMain],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.total}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"收藏"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockSuccess],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.collect}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockPrimary],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.percent}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成率"})]})})]}),(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockWarning],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.avg}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"平均分"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockPurple],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.std}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"标准差"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[t.block,t.blockSky],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==s?void 0:s.scored}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"评分数"})]})})]})]})});try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/user/zone/component/stats/counts/index.tsx#counts"})}catch(e){}},"./src/screens/user/zone/component/stats/counts/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{block:{paddingVertical:8,paddingHorizontal:r._.sm,margin:r._.xs,borderRadius:r._.radiusMd,overflow:"hidden"},blockMain:{backgroundColor:r._.colorMain},blockSuccess:{backgroundColor:"#70B941"},blockPrimary:{backgroundColor:"#6BAAE8"},blockWarning:{backgroundColor:r._.colorWarning},blockPurple:{backgroundColor:"#9065ED"},blockSky:{backgroundColor:"#369CF8"}}})},"./src/screens/user/zone/component/stats/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Stats")},"./src/screens/user/zone/component/stats/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),l=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),d=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),n=t("./src/utils/decorators/index.ts"),i=t("./src/utils/fetch/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/zone/ds.ts"),m=r(t("./src/screens/user/zone/component/stats/chart/index.tsx")),p=r(t("./src/screens/user/zone/component/stats/counts/index.tsx")),r=t("./src/screens/user/zone/component/stats/ds.ts"),f=t("./src/screens/user/zone/component/stats/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,n.obc)(function(e,s){var t=s.$,r=s.navigation,s=(0,f.memoStyles)(),n=e.onScroll;return(0,_.jsx)(o.default.ScrollView,Object.assign({ref:function(e){var s=u.TABS.findIndex(function(e){return"统计"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,c.SCROLL_VIEW_RESET_PROPS,{onScroll:c.STORYBOOK?void 0:o.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,_.jsxs)(l.default,{style:s.page,children:[(0,_.jsx)(p.default,{}),(0,_.jsx)(m.default,{}),(0,_.jsx)(d.Flex,{style:a._.mt.lg,justify:"center",children:(0,_.jsx)(d.Touchable,{style:s.touch,onPress:function(){var e=t.username||t.userId;(0,i.t)("空间.跳转",{userId:e,to:"UserTimeline"}),r.push("UserTimeline",{userId:e,userName:t.nickname})},children:(0,_.jsx)(d.Text,{type:"sub",bold:!0,children:"查看TA的时间线热力图"})})})]})}))},r.COMPONENT);try{stats.displayName="stats",stats.__docgenInfo={description:"",displayName:"stats",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/index.tsx#stats"]={docgenInfo:stats.__docgenInfo,name:"stats",path:"src/screens/user/zone/component/stats/index.tsx#stats"})}catch(e){}},"./src/screens/user/zone/component/stats/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+3*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"},nestScroll:{paddingTop:r._.md,paddingHorizontal:r._.wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}})},"./src/screens/user/zone/component/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TIMELINE_PAGE=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/ds.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TabBarLabel"),s.TIMELINE_PAGE=n.TABS.findIndex(function(e){return"时间线"===e.title})},"./src/screens/user/zone/component/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),a=t("./src/screens/user/zone/component/tab-bar-label/ds.ts"),i=t("./src/screens/user/zone/component/tab-bar-label/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=e.style,e=e.title,s=s.$,t=(0,c.jsx)(n.Text,{style:t,type:"title",size:13,lineHeight:13,noWrap:!0,children:e});return"时间线"===e&&s.state.page===a.TIMELINE_PAGE?(0,c.jsx)(o.Popover,{style:l._.container.block,data:d.TIMELINE_TYPE.map(function(e){return e.label}),onSelect:s.onSelectTimelineType,children:(0,c.jsxs)(n.Flex,{style:i.styles.popover,justify:"center",children:[t,(0,c.jsxs)(n.Text,{size:10,lineHeight:13,type:"sub",noWrap:!0,children:[" ",d.MODEL_TIMELINE_TYPE.getLabel(s.state.timelineType)," "]})]})}):t},a.COMPONENT)},"./src/screens/user/zone/component/tab-bar-label/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({popover:{width:"100%",paddingVertical:t._.xs}})},"./src/screens/user/zone/component/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tab")},"./src/screens/user/zone/component/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),_=t("./src/utils/decorators/index.ts"),j=t("./src/utils/dev/index.ts"),x=t("./src/screens/user/zone/store/index.ts"),b=r(t("./src/screens/user/zone/component/about/index.tsx")),y=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),h=r(t("./src/screens/user/zone/component/list-header/index.tsx")),g=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),v=r(t("./src/screens/user/zone/component/stats/index.tsx")),O=r(t("./src/screens/user/zone/component/tab-bar-label/index.tsx")),T=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),S=r(t("./src/screens/user/zone/component/tinygrail/index.tsx")),E=t("./src/screens/user/zone/component/tab/ds.ts"),C=t("./src/screens/user/zone/component/tab/styles.ts"),P=t("./node_modules/react/jsx-runtime.js");function R(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(I,r),N=R(I),(0,o.default)(I,[{key:"navigationState",get:function(){var e=this.context.$;return{index:e.state.page,routes:e.tabs}}},{key:"transform",get:function(){return{transform:[{translateY:this.context.$.scrollY.interpolate({inputRange:[-f._.parallaxImageHeight,0,f._.parallaxImageHeight-x.H_HEADER,f._.parallaxImageHeight],outputRange:[2*f._.parallaxImageHeight,f._.parallaxImageHeight,x.H_HEADER,x.H_HEADER]})}]}}},{key:"render",value:function(){return(0,j.r)(E.COMPONENT),(0,P.jsx)(p.TabView,{lazy:!0,lazyPreloadDistance:0,navigationState:this.navigationState,renderTabBar:this.renderTabBar,renderScene:this.renderScene,onSwipeStart:this.props.onSwipeStart,onIndexChange:this.onIndexChange},f._.orientation)}},{key:"styles",get:function(){return(0,C.memoStyles)()}}]);var N,t=I;function I(){var t;(0,n.default)(this,I);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=N.call.apply(N,[this].concat(s)),(0,c.default)((0,l.default)(t),"onIndexChange",function(e){var s=t.context.$;(0,t.props.onIndexChange)(e),s.onTabChange(e)}),(0,c.default)((0,l.default)(t),"renderScene",(0,p.SceneMap)({bangumi:function(){return(0,P.jsx)(y.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},stats:function(){return(0,P.jsx)(v.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},timeline:function(){return(0,P.jsx)(T.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},rakuen:function(){return(0,P.jsx)(g.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},about:function(){return(0,P.jsx)(b.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})},tinygrail:function(){return(0,P.jsx)(S.default,{ListHeaderComponent:h.default,scrollEventThrottle:4,onScroll:t.props.onScroll})}})),(0,c.default)((0,l.default)(t),"renderLabel",function(e){e=e.route;return(0,P.jsx)(p.Flex,{style:t.styles.labelText,justify:"center",children:(0,P.jsx)(O.default,{title:e.title})})}),(0,c.default)((0,l.default)(t),"renderTabBar",function(e){var s=t.context.$,s=f._.window.width/s.tabs.length;return(0,P.jsx)(m.default.View,{style:[t.styles.tabBarWrap,t.transform],children:(0,P.jsx)(p.TabBar,Object.assign({},e,{style:t.styles.tabBar,tabStyle:[t.styles.tab,{width:s}],labelStyle:t.styles.label,indicatorStyle:[t.styles.indicator,{marginLeft:(s-t.styles.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:t.renderLabel}))})}),t}s.default=(0,_.obc)(t);try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"Fn"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/user/zone/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/user/zone/component/tab/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n={tabBarWrap:{position:"absolute",zIndex:2,top:2-t("./src/screens/user/zone/store/index.ts").H_RADIUS_LINE,right:0,left:0},label:{padding:0},labelText:{width:"100%"},tabBarLeft:{position:"absolute",zIndex:3,left:0,marginTop:2}};s.memoStyles=r._.memoStyles(function(){return Object.assign({},n,{tabBar:{backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{height:r._.r(48)},indicator:{width:r._.r(16),height:4,backgroundColor:r._.colorMain,borderRadius:4}})})},"./src/screens/user/zone/component/timeline-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TimelineList"),s.EVENT={id:"空间.跳转",data:{from:"时间胶囊"}}},"./src/screens/user/zone/component/timeline-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),j=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),x=t("./src/utils/dev/index.ts"),b=t("./src/constants/index.ts"),y=t("./src/screens/user/zone/ds.ts"),h=t("./src/screens/user/zone/component/timeline-list/ds.ts"),g=t("./src/screens/user/zone/component/timeline-list/styles.ts"),v=t("./node_modules/react/jsx-runtime.js");function O(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}t=u.default.Component,(0,d.default)(S,t),T=O(S),(0,n.default)(S,[{key:"render",value:function(){(0,x.r)(h.COMPONENT);var e,s=this.context.$;return s.usersTimeline._loaded?(e=this.props.onScroll,(0,v.jsx)(f.TapListener,{children:(0,v.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:!b.STORYBOOK&&_._.container.bottom,keyExtractor:j.keyExtractor,data:s.usersTimeline,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,onFooterRefresh:function(){return s.fetchUsersTimeline()}},this.props,{onScroll:b.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:e})}))})):(0,v.jsx)(p.Loading,{style:g.styles.loading})}}]);var T,u=S;function S(){var n;(0,o.default)(this,S);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=T.call.apply(T,[this].concat(s)),(0,c.default)((0,l.default)(n),"connectRef",function(e){var s=n.context.$,t=y.TABS.findIndex(function(e){return"时间线"===e.title});return s.connectRef(e,t)}),(0,c.default)((0,l.default)(n),"renderSectionHeader",function(e){e=e.section.title;return(0,v.jsx)(f.SectionHeader,{children:e})}),(0,c.default)((0,l.default)(n),"renderItem",function(e){var s=e.item,e=e.index,t=n.context,r=t.$,t=t.navigation;return(0,v.jsx)(f.ItemTimeline,Object.assign({navigation:t,index:e,event:h.EVENT},s,{full:!0,onDelete:r.doDelete}))}),n}s.default=(0,r.obc)(u);try{timelinelist.displayName="timelinelist",timelinelist.__docgenInfo={description:"",displayName:"timelinelist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"]={docgenInfo:timelinelist.__docgenInfo,name:"timelinelist",path:"src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"})}catch(e){}},"./src/screens/user/zone/component/timeline-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({loading:{marginTop:t._.window.height/3},nestScroll:{paddingBottom:t._.bottom},nestScrollLoading:{marginTop:160}})},"./src/screens/user/zone/component/tinygrail/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Tinygrail")},"./src/screens/user/zone/component/tinygrail/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./node_modules/react-native-web/dist/exports/Animated/index.js"))),c=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),u=t("./src/components/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/utils/fetch/index.ts"),_=t("./src/constants/index.ts"),j=t("./src/screens/user/zone/ds.ts"),n=t("./src/screens/user/zone/component/tinygrail/ds.ts"),x=t("./src/screens/user/zone/component/tinygrail/styles.ts"),b=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){var t=s.$,r=s.navigation,s=(0,x.memoStyles)(),n=e.onScroll,o=(d=t.userAssets).assets,l=d.balance,d=d.lastIndex,a=t.usersInfo.nickname;return(0,b.jsx)(i.default.ScrollView,Object.assign({ref:function(e){var s=j.TABS_WITH_TINYGRAIL.findIndex(function(e){return"小圣杯"===e.title});return t.connectRef(e,s)},contentContainerStyle:s.contentContainerStyle},e,_.SCROLL_VIEW_RESET_PROPS,{onScroll:i.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,b.jsxs)(c.default,{style:s.page,children:[(0,b.jsxs)(u.Text,{style:m._.mt.lg,children:["总资产: ",(0,p.formatNumber)(o)," / ",(0,p.formatNumber)(l),0!==d&&" / #"+d]}),(0,b.jsxs)(u.Text,{style:m._.mt.sm,children:[t.templeTotal,"座圣殿"]}),(0,b.jsxs)(u.Text,{style:m._.mt.sm,children:[t.charaTotal,"个人物"]}),(0,b.jsx)(u.Flex,{style:m._.mt.lg,justify:"center",children:(0,b.jsxs)(u.Touchable,{style:s.touch,onPress:function(){(0,f.t)("空间.跳转",{userId:t.userId,to:"TinygrailCharaAssets"}),r.push("TinygrailCharaAssets",{userId:t.username,userName:(0,p.HTMLDecode)(a),from:"tinygrail"})},children:[(0,b.jsx)(u.Text,{type:m._.select("desc","main"),bold:!0,children:"查看TA的持仓"}),(0,b.jsx)(u.Heatmap,{id:"空间.跳转",to:"TinygrailCharaAssets",alias:"小圣杯持仓"})]})})]})}))},n.COMPONENT);try{tinygrail.displayName="tinygrail",tinygrail.__docgenInfo={description:"",displayName:"tinygrail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"]={docgenInfo:tinygrail.__docgenInfo,name:"tinygrail",path:"src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"})}catch(e){}},"./src/screens/user/zone/component/tinygrail/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/user/zone/component/u/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.KEYS=void 0;s.KEYS=["v","a","n","t","ipa"]},"./src/screens/user/zone/component/u/index.tsx":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};s=y(s);if(s&&s.has(e))return s.get(e);var t,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e){var o;"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&((o=n?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(r,t,o):r[t]=e[t])}return r.default=e,s&&s.set(e,r),r}(t("./node_modules/react/index.js")),i=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),c=t("./src/components/index.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),f=t("./src/utils/hooks/index.ts"),_=t("./src/utils/kv/index.ts"),j=t("./src/screens/user/zone/component/u/utils.ts"),x=t("./src/screens/user/zone/component/u/ds.ts"),b=t("./node_modules/react/jsx-runtime.js");function y(e){var s,t;return"function"!=typeof WeakMap?null:(s=new WeakMap,t=new WeakMap,(y=function(e){return e?t:s})(e))}s.default=(0,r.c)(function(e,s){var t=s.$,s=(0,a.useState)({}),r=(s=(0,d.default)(s,2))[0],n=s[1];return(0,f.useMount)(function(){e=(0,l.default)(o.mark(function e(){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.get)("u_"+t.usersInfo.username);case 2:"object"==typeof(s=e.sent)&&(s.ts&&(s.ts=(0,p.date)(s.ts)),n(s));case 4:case"end":return e.stop()}},e)}));var e,s=function(){return e.apply(this,arguments)};setTimeout(function(){s()},0)}),(0,f.useObserver)(function(){return m.userStore.isDeveloper?(0,b.jsxs)(i.default,{style:m._.mt.md,children:[(0,b.jsx)(c.Divider,{}),(0,b.jsx)(c.Text,{children:JSON.stringify(Object.assign({},(0,p.pick)(r,x.KEYS),{avatar:t.avatar,bg:t.bg}),null,2)}),!(null==r||!r.v)&&(0,b.jsx)(c.Expand,{style:m._.mt.md,children:(0,b.jsx)(c.Text,{children:JSON.stringify((0,j.formatString)((0,p.omit)(r,x.KEYS)),null,2)})})]}):null})});try{u.displayName="u",u.__docgenInfo={description:"",displayName:"u",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/u/index.tsx#u"]={docgenInfo:u.__docgenInfo,name:"u",path:"src/screens/user/zone/component/u/index.tsx#u"})}catch(e){}},"./src/screens/user/zone/component/u/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.entries.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.formatString=function(){var r,n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=e.e;return s?(r={},n={},Object.entries(s).forEach(function(e){var e=(0,o.default)(e,2),s=e[0],e=e[1],s=s.split("."),s=(0,o.default)(s,2),t=s[0],s=s[1];/^T[A-Z]/.test(t)?(t in n||(n[t]={}),n[t][s]=e):(t in r||(r[t]={}),r[t][s]=e)}),Object.assign({},e,{e:r,tinygrail:n})):e},r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")))},"./src/screens/user/zone/component/used-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"UsedModal")},"./src/screens/user/zone/component/used-modal/index.tsx":(e,s,t)=>{var o=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(t("./node_modules/react/index.js")),_=r(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),j=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),x=t("./src/components/index.ts"),b=t("./src/stores/index.ts"),r=t("./src/utils/decorators/index.ts"),y=t("./src/utils/dev/index.ts"),h=t("./src/constants/index.ts"),g=t("./src/screens/user/zone/component/used-modal/ds.ts"),v=t("./src/screens/user/zone/component/used-modal/styles.ts"),O=t("./node_modules/react/jsx-runtime.js");function T(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}t=f.default.Component,(0,c.default)(E,t),S=T(E),(0,n.default)(E,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.visible&&!this.state.name._loaded&&(this.checkUsedName(),this.checkUserAvatar())}},{key:"renderAvatars",value:function(){var e=this.state.avatar;return(0,O.jsx)(_.default,Object.assign({contentContainerStyle:this.styles.avatars,horizontal:!0},h.SCROLL_VIEW_RESET_PROPS,{children:e.map(function(e,s){return(0,O.jsx)(x.Image,{style:b._.mr.sm,src:e,size:40,radius:20,placeholder:!1,errorToHide:!0},s)})}))}},{key:"renderNames",value:function(){var t=this,e=this.state.name;return(0,O.jsx)(_.default,Object.assign({contentContainerStyle:this.styles.names},h.SCROLL_VIEW_RESET_PROPS,{children:e._loaded?e.list.length?e.list.map(function(e,s){return(0,O.jsxs)(x.Flex,{style:t.styles.item,align:"start",children:[(0,O.jsx)(x.Text,{style:t.styles.date,type:"sub",size:12,children:e.date}),(0,O.jsx)(x.Flex.Item,{style:b._.ml.sm,children:(0,O.jsx)(x.Text,{size:12,children:e.content})})]},s)}):(0,O.jsx)(x.Flex,{style:this.styles.empty,direction:"column",justify:"center",children:(0,O.jsx)(x.Text,{size:12,align:"center",children:"该用户没有修改过名字"})}):(0,O.jsx)(x.Loading,{})}))}},{key:"render",value:function(){(0,y.r)(g.COMPONENT);var e=this.context.$,s=this.props.visible;return(0,O.jsx)(x.Modal,{style:this.styles.modal,visible:s,title:"用户资料修改历史",onClose:e.closeUsedModal,children:(0,O.jsxs)(j.default,{style:this.styles.content,children:[this.renderAvatars(),this.renderNames()]})})}},{key:"styles",get:function(){return(0,v.memoStyles)()}}]);var S,f=E;function E(){var n;(0,a.default)(this,E);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return n=S.call.apply(S,[this].concat(s)),(0,p.default)((0,i.default)(n),"state",{name:{list:[],_loaded:0},avatar:[{uri:n.props.defaultAvatar}]}),(0,p.default)((0,i.default)(n),"checkUsedName",(0,d.default)(o.mark(function e(){var s,t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.context,s=s.$,s=s.usersInfo,t=s.id,s=s.username,t={userId:s=s||t,type:h.MODEL_TIMELINE_TYPE.getValue("吐槽")},e.next=6,b.timelineStore.fetchUsersTimeline(t,!0);case 6:return e.next=8,b.timelineStore.fetchUsersTimeline(t);case 8:return e.next=10,b.timelineStore.fetchUsersTimeline(t);case 10:n.setState({name:{list:b.timelineStore.usersTimeline(s).list.filter(function(e){return e.reply&&e.reply.content&&e.reply.content.includes("改名为")}).map(function(e){return{date:e.date,content:e.reply.content}}),_loaded:1}});case 11:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(n),"checkUserAvatar",(0,d.default)(o.mark(function e(){var s,t,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.context,r=r.$,r=r.usersInfo.avatar,r=(r||{}).medium,r=(r=-1===(r=String(r||"").split("?")[0]).indexOf("https:")&&-1===r.indexOf("http:")?"https:"+r:r).replace("http://","https://"),s=(0,h.hash)(r),t=s.slice(0,1).toLocaleLowerCase(),r=h.VERSIONS_AVATAR.map(function(e){return h.HOST_CDN+"/gh/czy0729/Bangumi-OSS@"+e+"/data/avatar/m/"+t+"/"+s+".jpg"}),n.setState({avatar:[n.props.defaultAvatar].concat((0,l.default)(r))});case 10:case"end":return e.stop()}},e)}))),n}(0,p.default)(f,"defaultProps",{title:"",visible:!1});s.default=(0,r.obc)(f);try{usedmodal.displayName="usedmodal",usedmodal.__docgenInfo={description:"",displayName:"usedmodal",props:{defaultAvatar:{defaultValue:null,description:"",name:"defaultAvatar",required:!1,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/used-modal/index.tsx#usedmodal"]={docgenInfo:usedmodal.__docgenInfo,name:"usedmodal",path:"src/screens/user/zone/component/used-modal/index.tsx#usedmodal"})}catch(e){}},"./src/screens/user/zone/component/used-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.width-2*r._.wind),maxWidth:r._.r(320),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},content:{paddingHorizontal:r._.sm},avatars:{minHeight:r._.r(40),paddingVertical:r._.sm,marginTop:r._.sm},names:{height:r._.r(240),paddingVertical:r._.sm},item:{paddingVertical:r._.sm},date:{width:r._.r(80)},empty:{marginTop:-r._.md,height:"100%"}}})},"./src/screens/user/zone/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TABS_WITH_TINYGRAIL=s.TABS=s.COMPONENT=void 0;s.COMPONENT="Zone";t=s.TABS=[{title:"关于",key:"about"},{title:"番剧",key:"bangumi"},{title:"统计",key:"stats"},{title:"时间线",key:"timeline"},{title:"超展开",key:"rakuen"}];s.TABS_WITH_TINYGRAIL=[].concat(t,[{title:"小圣杯",key:"tinygrail"}])},"./src/screens/user/zone/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useZonePage=function(e){var s=e.$,t=((0,l.useRunAfter)(function(){s.init()}),(0,l.useIsFocused)());(0,r.useEffect)(function(){t||(s.resetRemarkModal(),o.uiStore.closePopableSubject(),o.uiStore.closeLikesGrid())},[t]),(0,l.useFocusEffect)(function(){setTimeout(function(){n.StatusBar.setBarStyle("light-content")},40)}),(0,l.useMount)(function(){return function(){s.setState({mounted:!1})}})};var r=t("./node_modules/react/index.js"),n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),l=t("./src/utils/hooks/index.ts")},"./src/screens/user/zone/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/utils/hooks/index.ts"),a=t("./src/constants/index.ts"),i=r(t("./src/screens/user/zone/component/extra/index.tsx")),c=t("./src/screens/user/zone/hooks.ts"),u=r(t("./src/screens/user/zone/nested-scroll/index.tsx")),m=r(t("./src/screens/user/zone/scroll/index.tsx")),r=r(t("./src/screens/user/zone/store/index.ts")),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.ic)(r.default,function(e,s){(0,c.useZonePage)(s);var t=s.$;return(0,d.useObserver)(function(){return(0,p.jsx)(n.Component,{id:"screen-zone",style:o._.container.plain,children:!!t.state._loaded&&(0,p.jsxs)(p.Fragment,{children:[a.IOS||a.STORYBOOK?(0,p.jsx)(m.default,{}):(0,p.jsx)(u.default,{}),(0,p.jsx)(i.default,{})]})})})});try{zone.displayName="zone",zone.__docgenInfo={description:"",displayName:"zone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/index.tsx#zone"]={docgenInfo:zone.__docgenInfo,name:"zone",path:"src/screens/user/zone/index.tsx#zone"})}catch(e){}},"./src/screens/user/zone/nested-scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"NestedScroll")},"./src/screens/user/zone/nested-scroll/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),r(t("./src/screens/user/zone/component/head/index.tsx"))),o=t("./node_modules/react/jsx-runtime.js");s.default=function(){return(0,o.jsx)(n.default,{})}},"./src/screens/user/zone/nested-scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/zone/component/about/index.tsx")),d=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),a=r(t("./src/screens/user/zone/component/menu/index.tsx")),i=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),c=r(t("./src/screens/user/zone/component/stats/index.tsx")),u=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),m=t("./src/screens/user/zone/ds.ts"),p=r(t("./src/screens/user/zone/nested-scroll/header-component/index.tsx")),f=r(t("./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx")),_=t("./src/screens/user/zone/nested-scroll/utils.tsx"),r=t("./src/screens/user/zone/nested-scroll/ds.ts"),j=t("./src/screens/user/zone/nested-scroll/styles.ts"),x=t("./node_modules/react/jsx-runtime.js"),b=m.TABS.map(function(e){return e.title});s.default=(0,o.obc)(function(e,s){var s=s.$,t=(0,j.memoStyles)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(n.NestedScrollParallaxHeader,{tabStyle:t.tab,pages:b,initialPage:s.state.page,imageSource:s.imageSource,blurRadius:s.blurRadius,tabBarLocalKey:"Zone|NestedScroll",HeaderComponent:(0,x.jsx)(p.default,{}),TopNavbarComponent:(0,x.jsx)(f.default,{}),renderLabel:_.renderLabel,onIndexChange:s.onTabChange,children:[(0,x.jsx)(l.default,{}),(0,x.jsx)(d.default,{}),(0,x.jsx)(c.default,{}),(0,x.jsx)(u.default,{}),(0,x.jsx)(i.default,{})]}),(0,x.jsx)(a.default,{})]})},r.COMPONENT);try{nestedscroll.displayName="nestedscroll",nestedscroll.__docgenInfo={description:"",displayName:"nestedscroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"]={docgenInfo:nestedscroll.__docgenInfo,name:"nestedscroll",path:"src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"})}catch(e){}},"./src/screens/user/zone/nested-scroll/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles(function(){return{tab:{flex:1,width:r._.window.contentWidth/5}}})},"./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"TopNavbarComponent")},"./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/react/index.js")),t("./src/components/index.ts")),o=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),r=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts"),i=t("./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,r.obc)(function(e,s){return s=s.$,(0,c.jsxs)(n.Flex,{style:i.styles.topNavbar,justify:"center",children:[(0,c.jsx)(n.Avatar,{style:i.styles.avatar,size:28,src:s.src,fallbackSrc:s.usersInfo.avatar.large,borderWidth:0},String(s.src)),(0,c.jsx)(o.VerticalAlign,{style:l._.ml.sm,text:s.usersInfo.nickname,type:l._.select("plain","title"),align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,d.HTMLDecode)(s.usersInfo.nickname)})]})},a.COMPONENT);try{topnavbarcomponent.displayName="topnavbarcomponent",topnavbarcomponent.__docgenInfo={description:"",displayName:"topnavbarcomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"]={docgenInfo:topnavbarcomponent.__docgenInfo,name:"topnavbarcomponent",path:"src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"})}catch(e){}},"./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;t=t("./src/stores/index.ts");s.styles=t._.create({topNavbar:{marginTop:-8},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/nested-scroll/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.renderLabel=l,r(t("./node_modules/react/index.js")),r(t("./src/screens/user/zone/component/tab-bar-label/index.tsx"))),o=t("./node_modules/react/jsx-runtime.js");function l(e){var s=e.style,e=e.title;return(0,o.jsx)(n.default,{style:s,title:e})}try{l.displayName="renderLabel",l.__docgenInfo={description:"",displayName:"renderLabel",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/utils.tsx#renderLabel"]={docgenInfo:l.__docgenInfo,name:"renderLabel",path:"src/screens/user/zone/nested-scroll/utils.tsx#renderLabel"})}catch(e){}},"./src/screens/user/zone/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),t=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(t.COMPONENT,"Scroll")},"./src/screens/user/zone/scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react/index.js")),m=t("./src/utils/decorators/index.ts"),p=t("./src/utils/dev/index.ts"),f=r(t("./src/screens/user/zone/component/parallax-image/index.tsx")),_=r(t("./src/screens/user/zone/component/tab/index.tsx")),j=t("./src/screens/user/zone/scroll/ds.ts"),x=t("./node_modules/react/jsx-runtime.js");function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(h,r),y=b(h),(0,o.default)(h,[{key:"render",value:function(){return(0,p.r)(j.COMPONENT),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(_.default,{scrollEventThrottle:4,onScroll:this.onScroll,onSwipeStart:this.onSwipeStart,onIndexChange:this.onIndexChange}),(0,x.jsx)(f.default,{})]})}}]);var y,t=h;function h(){var s;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=y.call.apply(y,[this].concat(t)),(0,c.default)((0,l.default)(s),"onSwipeStart",function(){s.context.$.updatePageOffset()}),(0,c.default)((0,l.default)(s),"onIndexChange",function(){setTimeout(function(){s.context.$.updatePageOffset([0])},0)}),(0,c.default)((0,l.default)(s),"onScroll",function(e){s.context.$.onScroll(e)}),s}s.default=(0,m.obc)(t);try{scroll.displayName="scroll",scroll.__docgenInfo={description:"",displayName:"scroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/scroll/index.tsx#scroll"]={docgenInfo:scroll.__docgenInfo,name:"scroll",path:"src/screens/user/zone/scroll/index.tsx#scroll"})}catch(e){}},"./src/screens/user/zone/store/action.ts":(e,s,t)=>{var a=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/utils/fetch/index.ts"),j=t("./src/utils/webhooks/index.ts"),x=t("./src/constants/index.ts"),r=r(t("./src/screens/user/zone/store/fetch.ts"));function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}var y;s.default=(t=r.default,(0,d.default)(h,t),y=b(h),(0,n.default)(h));function h(){var d;(0,l.default)(this,h);for(var s,t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d=y.call.apply(y,[this].concat(r)),(0,m.default)((0,i.default)(d),"y",0),(0,m.default)((0,i.default)(d),"scrollToOffset",{}),(0,m.default)((0,i.default)(d),"scrollTo",{}),(0,m.default)((0,i.default)(d),"connectRef",function(e,s){d.scrollToOffset[s]=null==e?void 0:e.scrollToOffset,d.scrollTo[s]=(null==e?void 0:e.scrollResponderScrollTo)||(null==e?void 0:e.scrollTo)}),(0,m.default)((0,i.default)(d),"updatePageOffset",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[-1,1],s=d.state,t=s.page,r=s.fixed?d.h_fixed:d.y;e.forEach(function(e){var s=d.scrollToOffset[t+e];"function"==typeof s?s({offset:r,animated:!1}):"function"==typeof(s=d.scrollTo[t+e])&&s({y:r,animated:!1})})}),(0,m.default)((0,i.default)(d),"onScroll",function(e){p.uiStore.closePopableSubject(),p.uiStore.closeLikesGrid();var s=d.state.fixed,e=e.nativeEvent.contentOffset.y,t=(d.y=e,d.h_fixed-20);s&&e<t?d.setState({fixed:!1}):!s&&t<=e&&d.setState({fixed:!0})}),(0,m.default)((0,i.default)(d),"onTabChange",function(e){(0,_.t)("空间.标签页切换",{userId:d.userId,page:e}),d.setState({page:e}),d.save(),d.onTabChangeCallback(e)}),(0,m.default)((0,i.default)(d),"onTabChangeCallback",(s=(0,o.default)(a.mark(function e(s){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("番剧"===(t=d.tabs[s].title))return e.next=4,d.fetchUserCollections();e.next=6;break;case 4:e.next=24;break;case 6:if("时间线"===t)return e.next=9,d.fetchUsersTimeline(!0);e.next=11;break;case 9:e.next=24;break;case 11:if("超展开"===t)return d.checkUserTopicsIsTimeout(),e.next=15,d.fetchUserTopicsFormCDN();e.next=17;break;case 15:e.next=24;break;case 17:if("小圣杯"!==t||d.fromTinygrail){e.next=24;break}return e.next=20,d.fetchCharaAssets();case 20:return e.next=22,d.fetchTempleTotal();case 22:return e.next=24,d.fetchCharaTotal();case 24:setTimeout(function(){return d.updatePageOffset([0])},0);case 25:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,i.default)(d),"checkUserTopicsIsTimeout",function(){setTimeout(function(){0===d.userTopicsFormCDN.list.length&&d.setState({timeout:!0})},3600)}),(0,m.default)((0,i.default)(d),"onToggleSection",function(e){var s=d.state.expand;(0,_.t)("空间.展开分组",{userId:d.userId,title:e,expand:!s[e]}),p.systemStore.setting.zoneCollapse?d.setState({expand:(0,m.default)({"在看":!1,"看过":!1,"想看":!1,"搁置":!1,"抛弃":!1},e,!s[e])}):(d.setState({expand:Object.assign({},s,(0,m.default)({},e,!s[e]))}),d.save())}),(0,m.default)((0,i.default)(d),"navigateToUser",function(e){var s=d.params._name,t=d.usersInfo,r=t.avatar,n=t.nickname,t=t.username;e.push("User",{userId:t,_name:(0,f.HTMLDecode)(n||s),_image:null==r?void 0:r.large})}),(0,m.default)((0,i.default)(d),"openUsedModal",function(){d.setState({visible:!0})}),(0,m.default)((0,i.default)(d),"closeUsedModal",function(){d.setState({visible:!1})}),(0,m.default)((0,i.default)(d),"toggleOriginUid",function(){var e=d.state.originUid;d.setState({originUid:!e})}),(0,m.default)((0,i.default)(d),"onSelectTimelineType",function(e){e=x.MODEL_TIMELINE_TYPE.getValue(e);e&&e!==d.state.timelineType&&(d.setState({timelineType:e}),d.fetchUsersTimeline(!0,!0))}),(0,m.default)((0,i.default)(d),"openRemarkModal",function(){d.setState({remarkModalVisible:!0,remarkModalInput:d.userRemark||""})}),(0,m.default)((0,i.default)(d),"closeRemarkModal",function(){d.setState({remarkModalVisible:!1})}),(0,m.default)((0,i.default)(d),"changeRemarkModal",function(e){d.setState({remarkModalInput:e})}),(0,m.default)((0,i.default)(d),"submitRemarkModal",function(){d.username&&(p.systemStore.updateUserRemark(d.username,d.state.remarkModalInput),d.resetRemarkModal(),(0,f.info)("已保存"),(0,f.feedback)())}),(0,m.default)((0,i.default)(d),"resetRemarkModal",function(){d.setState({remarkModalVisible:!1,remarkModalInput:""})}),(0,m.default)((0,i.default)(d),"logFriendStatus",(0,o.default)(a.mark(function e(){var s,t,r,n,o,l;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.usersInfo.username,t={scope:x.MODEL_TIMELINE_SCOPE.getValue("自己"),type:x.MODEL_TIMELINE_TYPE.getValue("好友")},r=(0,f.loading)("查询好友信息中..."),e.next=5,p.timelineStore.fetchTimeline(t,!0);case 5:if(n=e.sent,o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+s)})){e.next=15;break}return e.next=10,p.timelineStore.fetchTimeline(t);case 10:return e.next=12,p.timelineStore.fetchTimeline(t);case 12:return e.next=14,p.timelineStore.fetchTimeline(t);case 14:n=e.sent;case 15:if(o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+s)}),r(),o){e.next=19;break}return e.abrupt("return",(0,f.info)("是你的好友"));case 19:return l=o.time,(0,f.info)(l.split(" · ")[0]+"加为了好友"),e.abrupt("return");case 22:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"doConnect",(0,o.default)(a.mark(function e(){var s;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,_.t)("空间.添加好友",{userId:d.userId}),s=d.users.connectUrl)return e.next=5,(0,_.fetchHTML)({url:""+x.HOST+s});e.next=9;break;case 5:(0,f.feedback)(),(0,f.info)("已添加好友"),d.fetchUsers(),(0,j.webhookFriend)(d.usersInfo,p.userStore.userInfo);case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"doDisconnect",(0,o.default)(a.mark(function e(){var s;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,_.t)("空间.解除好友",{userId:d.userId}),s=d.users.disconnectUrl)return e.next=5,(0,_.fetchHTML)({url:""+x.HOST+s});e.next=8;break;case 5:(0,f.feedback)(),(0,f.info)("已解除好友"),d.fetchUsers();case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,i.default)(d),"doDelete",(t=(0,o.default)(a.mark(function e(s){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,_.fetchHTML)({method:"POST",url:s});case 4:return t=e.sent,(0,f.feedback)(),d.fetchUsersTimeline(!0),e.abrupt("return",t);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),d}},"./src/screens/user/zone/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),i=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),c=t("./node_modules/mobx/dist/mobx.esm.js"),u=t("./src/screens/_/base/avatar/utils.ts"),m=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),f=t("./src/utils/user-setting/index.ts"),_=t("./src/constants/index.ts"),j=t("./src/screens/user/v2/ds.ts"),x=t("./src/screens/user/zone/ds.ts"),r=r(t("./src/screens/user/zone/store/state.ts"));function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,a.default)(t);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,d.default)(this,e)}}var y;s.default=(t=r.default,(0,l.default)(h,t),y=b(h),(0,o.default)(h,[{key:"tabs",get:function(){return m.systemStore.setting.tinygrail?x.TABS_WITH_TINYGRAIL:x.TABS}},{key:"fromTinygrail",get:function(){return"tinygrail"===this.params.from}},{key:"userId",get:function(){var e;return(null==(e=this.params)?void 0:e.userId)||""}},{key:"usersInfo",get:function(){return m.userStore.usersInfo(this.userId)}},{key:"username",get:function(){return this.usersInfo.username}},{key:"userCollections",get:function(){return m.userStore.userCollections(void 0,this.userId)}},{key:"usersTimeline",get:function(){return m.timelineStore.usersTimeline(this.userId)}},{key:"userTopicsFormCDN",get:function(){var e,s=m.rakuenStore.userTopicsFormCDN(this.usersInfo.username||this.usersInfo.id);return m.systemStore.advance?s:(e=s.list.filter(function(e,s){return s<8}),Object.assign({},s,{list:e,_filter:s.list.length-8}))}},{key:"users",get:function(){var e=m.usersStore.users(this.userId);return e._loaded?e:this.state.users}},{key:"recent",get:function(){var e=this.usersInfo.username;return e&&this.state.recent[e]||!1}},{key:"bg",get:function(){var e;return this.recent?(e=(void 0===(e=this.users.sign)?"":e).match(/\[bg\](.+?)\[\/bg\]/),(0,f.fixedRemote)((0,p.HTMLDecode)(e?String(e[1]).trim():""))):""}},{key:"avatar",get:function(){var e;return this.recent?(e=(e=(void 0===(e=this.users.sign)?"":e).match(/\[avatar\](.+?)\[\/avatar\]/))?String(e[1]).trim():"",(0,f.fixedRemote)((0,p.HTMLDecode)(e),!0)):""}},{key:"src",get:function(){var e;return(0,u.getCDNAvatar)((0,u.fixedHD)(this.avatar||this.params._image||(null==(e=this.usersInfo.avatar)?void 0:e.large)),"bgm_poster_200")}},{key:"imageSource",get:function(){var e=this.params._image,s=this.usersInfo.avatar,s={uri:null==s?void 0:s.large};return _.TEXT_ONLY?s=_.IMG_EMPTY_DARK:("string"==typeof e&&(s.uri=e),s.uri=(0,u.fixedHD)(this.bg||this.avatar||s.uri)),s}},{key:"blurRadius",get:function(){var e;return(0,p.getBlurRadius)(this.imageSource.uri,this.bg,null==(e=this.usersInfo.avatar)?void 0:e.large)}},{key:"nickname",get:function(){return(0,p.HTMLDecode)(this.usersInfo.nickname||this.params._name)}},{key:"userRemark",get:function(){return m.systemStore.userRemark(this.username)}},{key:"userAssets",get:function(){return m.tinygrailStore.userAssets(this.username)}},{key:"templeTotal",get:function(){return m.tinygrailStore.templeTotal(this.username)}},{key:"charaTotal",get:function(){return m.tinygrailStore.charaTotal(this.username)}},{key:"h_fixed",get:function(){return m._.parallaxImageHeight-j.H_HEADER}},{key:"isAdvance",get:function(){return m.systemStore.isAdvance(this.userId,this.username)}},{key:"advanceDetail",get:function(){return m.userStore.isDeveloper?m.systemStore.advanceDetail[this.userId||this.username]:""}}]),(0,i.default)((s=h).prototype,"tabs",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"tabs"),s.prototype),(0,i.default)(s.prototype,"fromTinygrail",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"fromTinygrail"),s.prototype),(0,i.default)(s.prototype,"userId",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,i.default)(s.prototype,"usersInfo",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersInfo"),s.prototype),(0,i.default)(s.prototype,"username",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"username"),s.prototype),(0,i.default)(s.prototype,"userCollections",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"userCollections"),s.prototype),(0,i.default)(s.prototype,"usersTimeline",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"usersTimeline"),s.prototype),(0,i.default)(s.prototype,"userTopicsFormCDN",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"userTopicsFormCDN"),s.prototype),(0,i.default)(s.prototype,"users",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"users"),s.prototype),(0,i.default)(s.prototype,"recent",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"recent"),s.prototype),(0,i.default)(s.prototype,"bg",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"bg"),s.prototype),(0,i.default)(s.prototype,"avatar",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"avatar"),s.prototype),(0,i.default)(s.prototype,"src",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"src"),s.prototype),(0,i.default)(s.prototype,"imageSource",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"imageSource"),s.prototype),(0,i.default)(s.prototype,"blurRadius",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"blurRadius"),s.prototype),(0,i.default)(s.prototype,"nickname",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"nickname"),s.prototype),(0,i.default)(s.prototype,"userRemark",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"userRemark"),s.prototype),(0,i.default)(s.prototype,"userAssets",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"userAssets"),s.prototype),(0,i.default)(s.prototype,"templeTotal",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"templeTotal"),s.prototype),(0,i.default)(s.prototype,"charaTotal",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"charaTotal"),s.prototype),(0,i.default)(s.prototype,"h_fixed",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"h_fixed"),s.prototype),(0,i.default)(s.prototype,"isAdvance",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"isAdvance"),s.prototype),(0,i.default)(s.prototype,"advanceDetail",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"advanceDetail"),s.prototype),s);function h(){return(0,n.default)(this,h),y.apply(this,arguments)}},"./src/screens/user/zone/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var r=t("./src/stores/users/init.ts"),n=t("./src/constants/index.ts"),t=t("./src/screens/user/zone/ds.ts"),t=(s.NAMESPACE="Screen"+t.COMPONENT,s.EXCLUDE_STATE={expand:{"在看":!0,"看过":!1,"想看":!1,"搁置":!1,"抛弃":!1},visible:!1,timeout:!1,originUid:!1,fixed:!1,users:Object.assign({},r.INIT_USERS,{_loaded:!1}),timelineType:n.TIMELINE_TYPE[0].value,remarkModalVisible:!1,remarkModalInput:"",mounted:!0});s.STATE=Object.assign({page:0,recent:{}},t,{_loaded:!1})},"./src/screens/user/zone/store/fetch.ts":(e,s,t)=>{var l=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),j=t("./src/utils/kv/index.ts"),x=t("./src/constants/index.ts"),r=r(t("./src/screens/user/zone/store/computed.ts")),b=["ts"];function y(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,m.default)(t);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,u.default)(this,e)}}var h;s.default=(t=r.default,(0,c.default)(g,t),h=y(g),(0,o.default)(g));function g(){var o;(0,a.default)(this,g);for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return o=h.call.apply(h,[this].concat(s)),(0,p.default)((0,i.default)(o),"fetchUsersInfo",function(){return f.userStore.fetchUsersInfo(o.userId)}),(0,p.default)((0,i.default)(o),"fetchUsersFromOSS",(0,n.default)(l.mark(function e(){var s,t,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.users._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,j.get)("zone_"+o.userId);case 5:if(s=e.sent){e.next=9;break}return o.updateThirdParty(),e.abrupt("return");case 9:t=s.ts,r=(0,d.default)(s,b),n=(0,_.getTimestamp)(),"object"!=typeof r||Array.isArray(r)||o.setState({users:Object.assign({},r,{_loaded:n})}),604800<=n-t&&o.updateThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,p.default)((0,i.default)(o),"fetchUsers",function(){return f.usersStore.fetchUsers({userId:o.userId})}),(0,p.default)((0,i.default)(o),"fetchUserCollections",function(){return f.userStore.fetchUserCollections("anime",o.userId)}),(0,p.default)((0,i.default)(o),"fetchUsersTimeline",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]||!e||!(0,_.opitimize)(o.usersTimeline,60)?f.timelineStore.fetchUsersTimeline({userId:o.userId,type:o.state.timelineType},e):o.usersTimeline}),(0,p.default)((0,i.default)(o),"fetchUserTopicsFormCDN",function(){var e,s;return!x.SHARE_MODE&&(e=(s=o.usersInfo).id,s=s.username,f.rakuenStore.fetchUserTopicsFormCDN(s||e))}),(0,p.default)((0,i.default)(o),"fetchCharaAssets",function(){return f.tinygrailStore.fetchUserAssets(o.username)}),(0,p.default)((0,i.default)(o),"fetchTempleTotal",function(){return f.tinygrailStore.fetchTempleTotal(o.username)}),(0,p.default)((0,i.default)(o),"fetchCharaTotal",function(){return f.tinygrailStore.fetchCharaTotal(o.username)}),(0,p.default)((0,i.default)(o),"fetchRecent",(0,n.default)(l.mark(function e(){var s,t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.usersInfo.username){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,j.get)("u_"+s);case 5:t=e.sent,o.setState({recent:(0,p.default)({},s,!(null==t||!t.ts)&&(0,_.getTimestamp)()-Number(t.ts||0)<=108e3)}),o.save();case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,i.default)(o),"updateThirdParty",function(){setTimeout(function(){if(!o.userId||!o.users._loaded)return!1;(0,j.update)("zone_"+o.userId,Object.assign({},(0,_.omit)(o.users,["recent","connectUrl","disconnectUrl","formhash","_loaded"])))},1e4)}),o}},"./src/screens/user/zone/store/index.ts":(e,s,t)=>{var n=t("./node_modules/@babel/runtime/regenerator/index.js"),r=(t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"H_HEADER",{enumerable:!0,get:function(){return _.H_HEADER}}),Object.defineProperty(s,"H_RADIUS_LINE",{enumerable:!0,get:function(){return _.H_RADIUS_LINE}}),Object.defineProperty(s,"H_TABBAR",{enumerable:!0,get:function(){return _.H_TABBAR}}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/utils/index.ts"),f=t("./src/constants/index.ts"),_=t("./src/screens/user/v2/ds.ts"),r=r(t("./src/screens/user/zone/store/action.ts")),j=t("./src/screens/user/zone/store/utils.ts"),x=t("./src/screens/user/zone/store/ds.ts");function b(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,u.default)(t);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,c.default)(this,e)}}t=r.default,(0,i.default)(h,t),y=b(h);var y,r=(0,l.default)(h);function h(){var t;(0,d.default)(this,h);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=y.call.apply(y,[this].concat(s)),(0,m.default)((0,a.default)(t),"init",(0,o.default)(n.mark(function e(){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1={},e.next=4,t.getStorage(x.NAMESPACE);case 4:return e.t2=e.sent,e.t3=x.EXCLUDE_STATE,e.t4={_loaded:!0},s=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3,e.t4),t.state._loaded?s.page=t.state.page:1<s.page&&(s.page=0),t.setState(s),e.abrupt("return",(0,p.queue)([function(){if(t.state.mounted)return t.onTabChangeCallback(t.state.page)},function(){if(t.state.mounted)return t.fetchUsersInfo()},function(){if(t.state.mounted)return t.fetchUsersFromOSS()},function(){if(t.state.mounted)return t.fetchUsers()},function(){if(t.state.mounted&&t.fromTinygrail)return t.fetchCharaAssets()},function(){if(t.state.mounted&&t.fromTinygrail)return t.fetchTempleTotal()},function(){if(t.state.mounted&&t.fromTinygrail)return t.fetchCharaTotal()},function(){if(t.state.mounted)return t.fetchUsersTimeline(!0)},function(){if(t.state.mounted&&!f.STORYBOOK)return t.fetchRecent()},function(){t.state.mounted&&!f.STORYBOOK&&(0,j.updateTrackUserInfo)(t.usersInfo)}]));case 11:case"end":return e.stop()}},e)}))),t}s.default=r},"./src/screens/user/zone/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,r(t("./node_modules/@babel/runtime/helpers/createClass.js"))),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),m=t("./node_modules/mobx/dist/mobx.esm.js"),r=r(t("./src/utils/store/index.ts")),p=t("./src/screens/user/zone/store/ds.ts");function f(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,s=(0,i.default)(t);return e=r?(e=(0,i.default)(this).constructor,Reflect.construct(s,arguments,e)):s.apply(this,arguments),(0,a.default)(this,e)}}var _;s.default=(t=r.default,(0,d.default)(j,t),_=f(j),(0,n.default)(j));function j(){var e;(0,o.default)(this,j);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return e=_.call.apply(_,[this].concat(t)),(0,c.default)((0,l.default)(e),"params",void 0),(0,c.default)((0,l.default)(e),"state",(0,m.observable)(p.STATE)),(0,c.default)((0,l.default)(e),"scrollY",new u.default.Value(0)),(0,c.default)((0,l.default)(e),"save",function(){return e.saveStorage(p.NAMESPACE,p.EXCLUDE_STATE)}),e}},"./src/screens/user/zone/store/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.updateTrackUserInfo=function(s){var e,t;null!=s&&s.username&&null!=s&&null!=(e=s.avatar)&&e.medium&&null!=s&&s.nickname&&(t=!1,o.SUBJECT_TYPE.forEach(function(e){t||null!=(e=r.systemStore.setting["comment"+(0,n.titleCase)(e.label)])&&e.length&&-1!==e.findIndex(function(e){return e===s.username})&&(t=!0)}),t)&&r.usersStore.updateUsersInfo({avatar:s.avatar.medium,userId:s.username,userName:s.nickname})};var r=t("./src/stores/index.ts"),n=t("./src/utils/index.ts"),o=t("./src/constants/index.ts")}}]);