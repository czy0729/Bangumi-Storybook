(self.webpackChunkbangumi_pro=self.webpackChunkbangumi_pro||[]).push([[954],{"./src/screens/user/actions/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Actions")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Actions=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/actions/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Actions",component:i.default};t.default=n;(t.Actions=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Actions')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/backup/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (本地备份)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("Backup")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Backup=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/Backup",component:r};(t.Backup=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Backup')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/user/blogs/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Blogs")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Blogs=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/blogs/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Blogs",component:i.default};t.default=n;(t.Blogs=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Blogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/catalogs/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Catalogs")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Catalogs=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/catalogs/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Catalogs",component:i.default};t.default=n;(t.Catalogs=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Catalogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/friends/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Friends")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Friends=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/friends/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Friends",component:i.default};t.default=n;(t.Friends=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Friends')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/origin-setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("OriginSetting")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OriginSetting=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/origin-setting/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/OriginSetting",component:i.default};t.default=n;(t.OriginSetting=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('OriginSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/pm/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("PM")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PM=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/pm/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/PM",component:i.default};t.default=n;(t.PM=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('PM')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/qiafan/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{style:{overflowY:"scroll"},children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Qiafan")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Qiafan=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/qiafan/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Qiafan",component:i.default};t.default=n;(t.Qiafan=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList\n      \n      style={{\n        // @ts-expect-error\n        overflowY: 'scroll'\n      }}\n    >\n      <Component {...getStorybookArgs('Qiafan')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Setting")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Setting=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/setting/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Setting",component:i.default};t.default=n;(t.Setting=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      {/* @ts-expect-error */}\n      <Component {...getStorybookArgs('Setting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/smb/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (SMB本地管理)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("SMB")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SMB=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/SMB",component:r};(t.SMB=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('SMB')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/user/sponsor/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Sponsor")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Sponsor=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/sponsor/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Sponsor",component:i.default};t.default=n;(t.Sponsor=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Sponsor')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/timeline/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("UserTimeline")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UserTimeline=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/timeline/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/UserTimeline",component:i.default};t.default=n;(t.UserTimeline=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserTimeline')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/user-setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("UserSetting")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UserSetting=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/user-setting/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/UserSetting",component:i.default};t.default=n;(t.UserSetting=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('UserSetting')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/v2/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("User")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.User=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/v2/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/User",component:i.default};t.default=n;(t.User=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('User')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/zone/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{style:{overflowY:"scroll"},children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Zone")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Zone=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/user/zone/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Zone",component:i.default};t.default=n;(t.Zone=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList\n      \n      style={{\n        // @ts-expect-error\n        overflowY: 'scroll'\n      }}\n    >\n      <Component {...getStorybookArgs('Zone')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/web-view/bilibili-sync/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (bilibili 同步)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("BilibiliSync")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BilibiliSync=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/BilibiliSync",component:r};(t.BilibiliSync=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('BilibiliSync')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/web-view/douban-sync/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (豆瓣同步)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("DoubanSync")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DoubanSync=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/DoubanSync",component:r};(t.DoubanSync=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('DoubanSync')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/web-view/information/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Information")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Information=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/web-view/information/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Information",component:i.default};t.default=n;(t.Information=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Information')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/web-view/share/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (拼图分享)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("Share")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Share=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/Share",component:r};(t.Share=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Share')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/web-view/web-browser/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,l.jsx)(i.Page,{children:(0,l.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (Webview)"})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("WebBrowser")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WebBrowser=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/WebBrowser",component:r};(t.WebBrowser=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('WebBrowser')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/web-view/webhook/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Webhook")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Webhook=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/web-view/webhook/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Webhook",component:i.default};t.default=n;(t.Webhook=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Webhook')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/user/actions/create/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/actions/form/index.tsx")),l=s("./src/screens/user/actions/create/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),r=(0,i.obc)(function(e,t){var s=t.$,t=s.state.edit;return t.show&&""===t.uuid?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Text,{style:o._.mt.md,size:15,bold:!0,children:"添加"}),(0,d.jsx)(a.default,{style:o._.mt.md,name:t.name,url:t.url})]}):(0,d.jsx)(n.Button,{style:l.styles.btn,type:o._.select("ghostPlain","plain"),onPress:function(){s.openEdit({uuid:"",name:"",url:"",sort:"",active:1})},children:"添加"})});t.default=r;try{create.displayName="create",create.__docgenInfo={description:"",displayName:"create",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/create/index.tsx#create"]={docgenInfo:create.__docgenInfo,name:"create",path:"src/screens/user/actions/create/index.tsx#create"})}catch(e){}},"./src/screens/user/actions/create/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({btn:{marginVertical:s._.md}});t.styles=s},"./src/screens/user/actions/form/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/user/actions/form/styles.ts"),m=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.style,s=void 0===s?void 0:s,r=e.name,r=void 0===r?"":r,e=e.url,e=void 0===e?"":e,n=t.$,t=(0,c.memoStyles)(),o=n.state.edit;return(0,m.jsxs)(a.Flex,{style:(0,u.stl)(t.form,s),align:"end",children:[(0,m.jsxs)(a.Flex.Item,{children:[(0,m.jsx)(a.Text,{size:13,bold:!0,children:"描述"}),(0,m.jsx)(a.Input,{style:[t.input,d._.mt.sm],defaultValue:String(r),placeholder:"在菜单上显示，唯一",onChangeText:function(e){return n.onChangeText("name",e)}}),(0,m.jsx)(a.Text,{style:d._.mt.md,size:13,bold:!0,children:"网址或协议"}),(0,m.jsxs)(a.Text,{style:d._.mt.sm,type:"sub",size:10,lineHeight:13,bold:!0,children:["打开指定网址","\n","例：https:// 或 http:// 开头会调用浏览器打开","\n\n","URL Scheme 唤起 App","\n","例：orpheus://search?q=xxx 直接打开网易云 App 搜索","\n","例：bilibili://search/xxx 直接打开 bilibili App 搜索","\n","因为命令是对应单独条目的，xxx 请自行替换为实际文字"]}),(0,m.jsx)(a.Input,{style:d._.mt.sm,defaultValue:String(e),multiline:!0,numberOfLines:3,textAlignVertical:"top",placeholder:"输入 URI",onChangeText:function(e){return n.onChangeText("url",e)}}),(0,m.jsx)(a.Text,{style:d._.mt.md,size:13,bold:!0,children:"排序"}),(0,m.jsx)(a.Input,{style:[t.input,d._.mt.sm],value:String(o.sort),placeholder:"数字，越大越前，选填",keyboardType:"number-pad",onChangeText:function(e){return n.onChangeText("sort",e)}})]}),(0,m.jsx)(l.IconTouchable,{style:d._.ml.md,name:"md-check",size:22,color:d._.colorDesc,onPress:n.submitEdit}),(0,m.jsx)(i.default,{style:t.close,children:(0,m.jsx)(l.IconTouchable,{name:"md-close",size:22,color:d._.colorDesc,onPress:n.closeEdit})})]})});t.default=s},"./src/screens/user/actions/form/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{form:{padding:12,paddingRight:8,marginBottom:r._.md,backgroundColor:r._.colorBg,borderColor:r._.colorBorder,borderWidth:1,borderRadius:r._.radiusSm,overflow:"hidden"},close:{position:"absolute",zIndex:1,top:4,right:7},input:{height:44,paddingVertical:0}}});t.memoStyles=s},"./src/screens/user/actions/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=s.params.name;return(0,a.jsx)(n.Header,{title:t||"自定义跳转",hm:["actions","Actions"],headerRight:function(){return(0,a.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,onPress:function(){r.push("Information",{title:"自定义跳转",message:["目前为实验性。","本功能对应到具体条目，通常用于给单独条目添加特定跳转。","后续会开发云同步和共享功能，请慎重添加带个人信息隐私的链接。"]})}})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/actions/header/index.tsx#header"})}catch(e){}},"./src/screens/user/actions/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/user/actions/header/index.tsx")),l=r(s("./src/screens/user/actions/list/index.tsx")),d=r(s("./src/screens/user/actions/create/index.tsx")),r=r(s("./src/screens/user/actions/store.ts")),u=s("./src/screens/user/actions/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useMount)(function(){s.init()}),(0,i.useObserver)(function(){var e=(0,u.memoStyles)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsx)(n.Page,{loaded:s.state._loaded,children:(0,c.jsxs)(n.ScrollView,{contentContainerStyle:e.scrollView,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(d.default,{})]})})]})})});t.default=s;try{actions.displayName="actions",actions.__docgenInfo={description:"",displayName:"actions",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/index.tsx#actions"]={docgenInfo:actions.__docgenInfo,name:"actions",path:"src/screens/user/actions/index.tsx#actions"})}catch(e){}},"./src/screens/user/actions/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=r(s("./src/screens/user/actions/form/index.tsx")),j=s("./src/screens/user/actions/item/styles.ts"),h=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.uuid,r=e.active,n=e.name,o=e.url,i=e.sort,a=t.$,e=[],t=!!r,l=(e.push("编辑",t?"停用":"启用","删除","测试"),a.state.edit),l=l.show&&s&&l.uuid===s;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(u.Flex,{style:(0,f.stl)(j.styles.item,!t&&j.styles.disabled),children:[(0,h.jsxs)(u.Flex.Item,{children:[(0,h.jsx)(u.Text,{size:15,bold:!0,children:n}),(0,h.jsxs)(u.Flex,{style:m._.mt.sm,children:[0<=i&&(0,h.jsx)(c.Tag,{style:m._.mr.sm,value:i}),(0,h.jsx)(u.Flex.Item,{children:(0,h.jsx)(u.Text,{size:12,type:"sub",numberOfLines:1,children:o})})]})]}),t&&(0,h.jsx)(c.Tag,{style:m._.ml.md,value:"生效"}),(0,h.jsx)(c.Popover,{style:m._.ml.md,data:e,onSelect:function(e){switch(e){case"编辑":a.openEdit({uuid:s,name:n,url:o,sort:i,active:r});break;case"删除":(0,f.confirm)("确定删除 ["+n+"] ?",function(){a.deleteItem({uuid:s})});break;case"停用":a.disableItem({uuid:s});break;case"启用":a.activeItem({uuid:s});break;case"测试":a.go({url:o})}},children:(0,h.jsx)(d.default,{style:j.styles.touch,children:(0,h.jsx)(u.Iconfont,{name:"md-more-vert",color:m._.colorDesc})})})]}),l&&(0,h.jsx)(p.default,{name:n,url:o})]})});t.default=r},"./src/screens/user/actions/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({item:{marginVertical:s._.md},touch:{padding:s._.sm,marginRight:-s._.sm},disabled:{opacity:.5}});t.styles=s},"./src/screens/user/actions/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/user/actions/item/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");r=(0,o.obc)(function(e,t){return t=t.$,(0,a.jsx)(n.default,{children:t.data.map(function(e){return(0,a.jsx)(i.default,Object.assign({},e),e.uuid)})})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/actions/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/actions/list/index.tsx#list"})}catch(e){}},"./src/screens/user/actions/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),n=n(s("./src/utils/store/index.ts")),g=s("./src/utils/fetch/index.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=n.default,(0,d.default)(b,s),_=x(b),(0,a.default)(b,[{key:"data",get:function(){return this.state.data.data.slice().sort(function(e,t){return(0,h.desc)(Number(e.sort)||0,Number(t.sort)||0)}).sort(function(e,t){return(0,h.desc)(e.active,t.active)})}}]),(0,f.default)((n=b).prototype,"data",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"data"),n.prototype);var _,d=n;function b(){var n;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=_.call.apply(_,[this].concat(t)),(0,m.default)((0,l.default)(n),"params",void 0),(0,m.default)((0,l.default)(n),"state",(0,p.observable)({data:{data:[]},edit:{show:!1,uuid:"",name:"",url:"",sort:"",active:1},_loaded:!1})),(0,m.default)((0,l.default)(n),"init",(0,o.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.subjectStore.init("actions");case 2:if(t=n.params.subjectId){e.next=5;break}return e.abrupt("return",!1);case 5:n.setState({data:{data:j.subjectStore.actions(t)},_loaded:!0});case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onChangeText",function(e,t){var s=n.state.edit,t=t.trim();"sort"===e&&(t=isNaN(Number(t))?"":Number(t)),n.setState({edit:Object.assign({},s,(0,m.default)({},e,t))})}),(0,m.default)((0,l.default)(n),"submitEdit",function(){var t,e,s=n.state,r=s.edit,s=s.data;r.name?r.url?(t=r.uuid,s=(0,p.toJS)(s),""===t?s.data.push({uuid:(0,h.getTimestamp)(),name:r.name||"",url:r.url||"",sort:r.sort||"",active:1}):(e=s.data.findIndex(function(e){return e.uuid===t}),s.data[e]&&(s.data[e]=Object.assign({},s.data[e],r))),n.setState({data:s}),n.closeEdit(),n.updateOrigin(),e=n.params.subjectId,(0,g.t)("自定义跳转.保存",{subjectId:e})):(0,h.info)("命令不能为空"):(0,h.info)("描述不能为空")}),(0,m.default)((0,l.default)(n),"openEdit",function(e){n.setState({edit:Object.assign({},e,{show:!0})});e=n.params.subjectId;(0,g.t)("自定义跳转.编辑表单",{subjectId:e})}),(0,m.default)((0,l.default)(n),"closeEdit",function(){n.setState({edit:{show:!1,uuid:"",name:"",url:"",sort:0,active:1}});var e=n.params.subjectId;(0,g.t)("自定义跳转.关闭表单",{subjectId:e})}),(0,m.default)((0,l.default)(n),"disableItem",function(e){var t=e.uuid,e=n.state.data,e=(0,p.toJS)(e),s=e.data.find(function(e){return e.uuid===t}),s=(s&&(s.active=0),n.setState({data:e}),n.updateOrigin(),n.params.subjectId);(0,g.t)("自定义跳转.停用",{subjectId:s})}),(0,m.default)((0,l.default)(n),"activeItem",function(e){var t=e.uuid,e=n.state.data,e=(0,p.toJS)(e),s=e.data.find(function(e){return e.uuid===t}),s=(s&&(s.active=1),n.setState({data:e}),n.updateOrigin(),n.params.subjectId);(0,g.t)("自定义跳转.启用",{subjectId:s})}),(0,m.default)((0,l.default)(n),"deleteItem",function(e){var t=e.uuid;t&&(e=n.state.data,(e=(0,p.toJS)(e)).data=e.data.filter(function(e){return e.uuid!==t}),n.setState({data:e}),n.updateOrigin(),e=n.params.subjectId,(0,g.t)("自定义跳转.删除",{subjectId:e}))}),(0,m.default)((0,l.default)(n),"go",function(e){var t=e.url;if(t)try{setTimeout(function(){(0,h.open)(t,!0)},1600)}catch(e){(0,h.info)("跳转协议解析出错, 请检查")}}),(0,m.default)((0,l.default)(n),"updateOrigin",function(){setTimeout(function(){var e=n.params.subjectId;e&&j.subjectStore.updateActions((0,m.default)({},e,n.data))},0)}),n}t.default=d},"./src/screens/user/actions/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{scrollView:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.window.height/2}}});t.memoStyles=s},"./src/screens/user/blogs/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"用户日志",hm:[s.url,"Blogs"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("用户日志.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"用户日志.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/blogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/blogs/header/index.tsx#header"})}catch(e){}},"./src/screens/user/blogs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),d=s("./src/utils/app/index.ts"),u=r(s("./src/screens/user/blogs/header/index.tsx")),r=r(s("./src/screens/user/blogs/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),m={id:"用户日志.跳转"},s=(0,a.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,l.useRunAfter)(function(){s.init()}),(0,l.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.default,{}),(0,c.jsx)(n.Page,{children:(0,c.jsx)(n.ListView,{keyExtractor:d.keyExtractor,data:s.blogs,scrollToTop:!0,renderItem:function(e){var t=e.item,e=e.index;return(0,c.jsx)(o.ItemBlog,Object.assign({navigation:r,event:m,index:e},t),t.userId)},onHeaderRefresh:s.refresh,onFooterRefresh:function(){return s.fetchBlogs()}})}),(0,c.jsx)(n.Heatmap,{bottom:i._.bottom,id:"用户日志",screen:"Blogs"})]})})});t.default=s;try{blogs.displayName="blogs",blogs.__docgenInfo={description:"",displayName:"blogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/blogs/index.tsx#blogs"]={docgenInfo:blogs.__docgenInfo,name:"blogs",path:"src/screens/user/blogs/index.tsx#blogs"})}catch(e){}},"./src/screens/user/blogs/store.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),p=s("./src/constants/index.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(g,s),h=j(g),(0,o.default)(g,[{key:"userId",get:function(){return this.params.userId||f.userStore.myId}},{key:"blogs",get:function(){return f.usersStore.blogs(this.userId)}},{key:"url",get:function(){return(0,p.HTML_USERS_BLOGS)(this.userId)}}]),(0,c.default)((r=g).prototype,"userId",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,c.default)(r.prototype,"blogs",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"blogs"),r.prototype),(0,c.default)(r.prototype,"url",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype);var h,a=r;function g(){var e;(0,n.default)(this,g);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=h.call.apply(h,[this].concat(s)),(0,u.default)((0,i.default)(e),"params",void 0),(0,u.default)((0,i.default)(e),"state",(0,m.observable)({_loaded:!1})),(0,u.default)((0,i.default)(e),"init",function(){return e.refresh()}),(0,u.default)((0,i.default)(e),"refresh",function(){return e.fetchBlogs(!0)}),(0,u.default)((0,i.default)(e),"fetchBlogs",function(){return f.usersStore.fetchBlogs({userId:e.userId},0<arguments.length&&void 0!==arguments[0]&&arguments[0])}),e}t.default=a},"./src/screens/user/catalogs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.NAMESPACE=void 0;t.NAMESPACE="ScreenCatelogs";t.TABS=[{title:"创建的",key:"create"},{title:"收藏的",key:"collect"}]},"./src/screens/user/catalogs/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"用户目录",hm:[s.url,"Board"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("用户目录.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"用户目录.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/catalogs/header/index.tsx#header"})}catch(e){}},"./src/screens/user/catalogs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/user/catalogs/header/index.tsx")),d=r(s("./src/screens/user/catalogs/tabs/index.tsx")),r=r(s("./src/screens/user/catalogs/store.ts")),u=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(n.Page,{loaded:s.state._loaded,children:(0,u.jsx)(d.default,{})}),(0,u.jsx)(n.Heatmap,{bottom:o._.bottom,id:"用户目录",screen:"Catelogs"})]})})});t.default=s;try{catalogs.displayName="catalogs",catalogs.__docgenInfo={description:"",displayName:"catalogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/index.tsx#catalogs"]={docgenInfo:catalogs.__docgenInfo,name:"catalogs",path:"src/screens/user/catalogs/index.tsx#catalogs"})}catch(e){}},"./src/screens/user/catalogs/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.id,r=t.$;return(e=r.catalogs(s))._loaded?(0,l.jsx)(n.ListView,{style:i._.container.plain,contentContainerStyle:i._.container.bottom,keyExtractor:a.keyExtractor,data:e,scrollToTop:!0,renderItem:function(e){e=e.item;return(0,l.jsx)(o.ItemCatalog,Object.assign({},e,{isUser:!0,event:{id:"用户目录.跳转",data:{userId:r.userId}}}))},onHeaderRefresh:function(){return r.fetchCatalogs(s,!0)},onFooterRefresh:function(){return r.fetchCatalogs(s)}}):(0,l.jsx)(n.Loading,{style:i._.container.plain})});t.default=s},"./src/screens/user/catalogs/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),o=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),h=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),x=s("./src/screens/user/catalogs/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,o.default)(y,s),b=_(y),(0,n.default)(y,[{key:"userId",get:function(){var e=this.params.userId;return void 0===e?j.userStore.myId:e}},{key:"url",get:function(){return(0,g.HTML_USERS_CATALOGS)(this.userId)}},{key:"catalogs",value:function(e){return j.usersStore.catalogs(this.userId,"collect"===e)}},{key:"catalogDetail",value:function(e){return(0,p.computed)(function(){return j.discoveryStore.catalogDetail(e)}).get()}}]),(0,f.default)((r=y).prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,f.default)(r.prototype,"url",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype);var b,o=r;function y(){var o;(0,l.default)(this,y);for(var t,s,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return o=b.call.apply(b,[this].concat(r)),(0,m.default)((0,d.default)(o),"params",void 0),(0,m.default)((0,d.default)(o),"state",(0,p.observable)({page:0,_loaded:!1})),(0,m.default)((0,d.default)(o),"init",(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(x.NAMESPACE);case 2:return t=e.sent,o.setState(Object.assign({},t,{_loaded:!0})),t=o.state.page,t=x.TABS[t].key,e.abrupt("return",o.fetchCatalogs(t,!0));case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(o),"fetchCatalogs",(t=(0,a.default)(i.mark(function e(t){var s,r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=1<n.length&&void 0!==n[1]&&n[1],s=j.usersStore.fetchCatalogs({userId:o.userId,isCollect:"collect"===t},s),e.next=4,s;case 4:return r=e.sent,r=r.list,(0,h.queue)(r.map(function(e){return function(){return o.fetchCatalogDetail(e.id)}})),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,d.default)(o),"fetchCatalogDetail",(s=(0,a.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=j.discoveryStore.catalogDetail(t),s._loaded)return e.abrupt("return",!0);e.next=3;break;case 3:return e.abrupt("return",j.discoveryStore.fetchCatalogDetail({id:t}));case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,d.default)(o),"onChange",function(e){e!==o.state.page&&((0,h.t)("用户目录.标签页切换"),o.setState({page:e}),o.setStorage(x.NAMESPACE),o.tabChangeCallback(e))}),(0,m.default)((0,d.default)(o),"tabChangeCallback",function(e){e=x.TABS[e].key;o.catalogs(e)._loaded||o.fetchCatalogs(e,!0)}),o}t.default=o},"./src/screens/user/catalogs/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/catalogs/list/index.tsx")),l=s("./src/screens/user/catalogs/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,d.jsx)(n.TabsV2,{routes:l.TABS,page:s,renderItem:function(e){return(0,d.jsx)(a.default,{id:e.key},e.key)},onChange:t.onChange},o._.orientation)});t.default=r;try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/catalogs/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/user/catalogs/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/user/friends/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s={filter:"",fetching:!(t.NAMESPACE="ScreenFriends")},t.EXCLUDE_STATE=s,s=Object.assign({sort:""},s,{_loaded:!1});t.STATE=s},"./src/screens/user/friends/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/user/friends/filter/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(0,d.memoStyles)(),r=(n=t.state).fetching,n=n.filter,o=t.friends.list;return(0,u.jsxs)(i.default,{style:s.filter,children:[(0,u.jsx)(a.Input,{style:s.input,clearButtonMode:"never",value:n,placeholder:o.length+"个好友",onChangeText:t.onFilterChange}),r&&(0,u.jsx)(i.default,{style:s.loading,children:(0,u.jsx)(a.Loading.Medium,{color:l._.colorSub,size:16})})]})});t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/friends/filter/index.tsx#filter"})}catch(e){}},"./src/screens/user/friends/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{filter:{height:56,paddingVertical:10,paddingHorizontal:r._.wind,backgroundColor:r._.colorBg},input:Object.assign({height:36,paddingVertical:0},r._.fontSize(16),{fontWeight:"800",textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},loading:{position:"absolute",zIndex:2,top:20,right:16,width:44,height:44}}});t.memoStyles=s},"./src/screens/user/friends/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),a=s("./src/utils/fetch/index.ts"),l=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/user/friends/sort/index.tsx")),u=s("./node_modules/react/jsx-runtime.js");r=(0,l.obc)(function(e,t){var s=t.$;return(0,u.jsx)(n.Header,{title:"好友",headerTitleAlign:"left",headerTitleStyle:o._.ml._md,hm:[s.url,"Friends"],headerRight:function(){return(0,u.jsxs)(n.Flex,{children:[(0,u.jsx)(d.default,{$:s}),(0,u.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,a.t)("好友.右上角菜单",{key:e}),(0,i.open)(s.url))},children:(0,u.jsx)(n.Heatmap,{id:"好友.右上角菜单"})})]})}})});t.default=r;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/friends/header/index.tsx#header"})}catch(e){}},"./src/screens/user/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/user/friends/header/index.tsx")),u=r(s("./src/screens/user/friends/filter/index.tsx")),c=s("./src/screens/user/friends/utils.tsx"),r=r(s("./src/screens/user/friends/store.ts")),m=s("./node_modules/react/jsx-runtime.js"),s=(0,a.ic)(r.default,function(e,t){var s=t.$;return(0,l.useRunAfter)(function(){s.init()}),(0,l.useObserver)(function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.default,{}),(0,m.jsxs)(n.Page,{children:[(0,m.jsx)(u.default,{}),(0,m.jsx)(o.PaginationList2,{keyExtractor:c.keyExtractor,data:s.list,scrollToTop:!0,renderItem:c.renderItem,onHeaderRefresh:s.onRefresh})]}),(0,m.jsx)(n.Heatmap,{bottom:i._.bottom+i._.sm,id:"好友",screen:"Friends"})]})})});t.default=s;try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/user/friends/index.tsx#friends"})}catch(e){}},"./src/screens/user/friends/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./node_modules/react/jsx-runtime.js"),i={id:"好友.跳转"};s=(0,r.obc)(function(e,t){var e=e.item,s=t.$,t=t.navigation,r=s.state.filter,s=s.users(e.userId);return(0,o.jsx)(n.ItemFriends,Object.assign({navigation:t,event:i},e,s,{filter:r}))});t.default=s},"./src/screens/user/friends/sort/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/user/friends/sort/styles.ts"),a=s("./node_modules/react/jsx-runtime.js"),l=["默认","同步率","最近"];s=(0,r.ob)(function(e){var e=e.$,t=(s=e.state).sort,s=s._loaded;return(0,a.jsxs)(n.default,{children:[(0,a.jsx)(o.SegmentedControl,{style:i.styles.segment,size:11,values:l,selectedIndex:"percent"===t?1:"recent"===t?2:0,onValueChange:e.onSort},String(s)),(0,a.jsx)(o.Heatmap,{id:"好友.排序"})]})});t.default=s;try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenFriends"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/sort/index.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/friends/sort/index.tsx#sort"})}catch(e){}},"./src/screens/user/friends/sort/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({segment:{width:s._.r(168),height:s._.r(28),marginRight:s._.xs}});t.styles=s},"./src/screens/user/friends/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),g=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),_=r(s("./src/utils/cache-manager/index.ts")),b=s("./src/constants/index.ts"),y=s("./src/screens/user/friends/utils.tsx"),S=s("./src/screens/user/friends/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}r=g.default,(0,d.default)(O,r),T=v(O),(0,n.default)(O,[{key:"userId",get:function(){return this.params.userId}},{key:"users",value:function(e){return(0,p.computed)(function(){return j.usersStore.users(e)}).get()}},{key:"friends",get:function(){return j.usersStore.friends(this.userId)}},{key:"list",get:function(){var s=this,e=S.NAMESPACE+"|list|"+this.userId;if(this.state.fetching&&_.default.get(e))return _.default.get(e);var t=this.friends.list,r=this.state,n=r.filter,r=r.sort,o=n.toUpperCase();return o.length&&(t=t.filter(function(e){e=e.userName;return!!e.includes(o)||(0,h.getPinYinFilterValue)(e,o)})),"percent"===r&&(t=t.slice().sort(function(e,t){return(0,h.desc)(e,t,function(e){return null==(e=s.users(e.userId))?void 0:e.percent})})),"recent"===r&&(t=t.slice().sort(function(e,t){return(0,y.sortByRecent)(s.users(e.userId).recent,s.users(t.userId).recent)})),_.default.set(e,t)}},{key:"url",get:function(){var e;return(0,b.HTML_FRIENDS)((null==(e=this.params)?void 0:e.userId)||j.userStore.myId)}}]),(0,f.default)((s=O).prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,f.default)(s.prototype,"friends",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"friends"),s.prototype),(0,f.default)(s.prototype,"list",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"list"),s.prototype),(0,f.default)(s.prototype,"url",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype);var T,g=s;function O(){var n;(0,a.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=T.call.apply(T,[this].concat(t)),(0,m.default)((0,l.default)(n),"params",void 0),(0,m.default)((0,l.default)(n),"state",(0,p.observable)(S.STATE)),(0,m.default)((0,l.default)(n),"init",(0,i.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(S.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,n.setState(Object.assign({},t,S.EXCLUDE_STATE,{_loaded:!0})),e.next=9,n.fetchUsers();case 9:return n.onRefresh(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onRefresh",(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchFriends();case 2:return n.fetchUsersBatch(),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"fetchFriends",function(){return j.usersStore.fetchFriends({userId:n.userId})}),(0,m.default)((0,l.default)(n),"fetchUsers",function(){return j.usersStore.fetchUsers({userId:n.userId})}),(0,m.default)((0,l.default)(n),"fetchUsersBatch",(0,i.default)(o.mark(function e(){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.fetching)return e.abrupt("return",!1);e.next=3;break;case 3:return n.setState({fetching:!0}),r=[],n.list.forEach(function(e,t){var s=n.users(e.userId)._loaded;(!s||(0,h.getTimestamp)()-Number(s)>=60*(15+t))&&r.push(function(){return j.usersStore.fetchUsers({userId:e.userId})})}),e.next=8,(0,x.queue)(r);case 8:return n.setState({fetching:!1}),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onSort",function(e){(0,x.t)("好友.排序",{title:e});e="最近"===e?"recent":"同步率"===e?"percent":"";n.setState({sort:e}),n.setStorage(S.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onFilterChange",function(e){n.setState({filter:e.trim()})}),n}t.default=g},"./src/screens/user/friends/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=d,t.renderItem=l,t.sortByRecent=function(e,t){return e.includes("-")&&!t.includes("-")?1:!e.includes("-")&&t.includes("-")?-1:e.includes("-")&&t.includes("-")?(0,o.desc)((0,o.getTimestamp)(e)||0,(0,o.getTimestamp)(t)||0):(0,o.asc)((0,o.getRecentTimestamp)(e)||0,(0,o.getRecentTimestamp)(t)||0)},r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=r(s("./src/screens/user/friends/item/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");function l(e){var t=e.item,e=e.index;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{item:t}),!e&&(0,a.jsx)(n.Heatmap,{id:"好友.跳转"})]})}function d(e){return String(e.userId)}try{l.displayName="renderItem",l.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/utils.tsx#renderItem"]={docgenInfo:l.__docgenInfo,name:"renderItem",path:"src/screens/user/friends/utils.tsx#renderItem"})}catch(e){}try{d.displayName="keyExtractor",d.__docgenInfo={description:"",displayName:"keyExtractor",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/friends/utils.tsx#keyExtractor"]={docgenInfo:d.__docgenInfo,name:"keyExtractor",path:"src/screens/user/friends/utils.tsx#keyExtractor"})}catch(e){}},"./src/screens/user/origin-setting/cloud/index.tsx":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=b(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),u=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),p=s("./src/utils/hooks/index.ts"),j=s("./src/utils/db/index.ts"),h=s("./src/utils/fetch/index.ts"),g=r(s("./src/constants/i18n/index.ts")),x=s("./src/screens/user/origin-setting/cloud/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function b(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(b=function(e){return e?s:t})(e))}t.default=function(e){var t=e.active,s=e.onToggle,r=e.onDownloaded,e=(0,d.useState)(0),e=(0,l.default)(e,2),n=e[0],o=e[1];return(0,p.useMount)(function(){setTimeout((0,a.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m.userStore.userInfo.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,j.read)({path:"origin/"+t+".json"});case 6:s=e.sent,null!=(s=s.content)&&s.length&&o(s.length),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,null,[[0,11]])})),2400)}),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(c.ItemSettingBlock,{style:x.styles.container,title:"同步设置",size:20,children:[(0,_.jsx)(c.ItemSettingBlock.Item,{icon:"md-ios-share",iconStyle:{transform:[{rotate:"180deg"}]},title:"下载",information:n?(n/1e3).toFixed(1)+" kb":(!m.userStore.isLogin||!m.userStore.userInfo.id)&&"需"+g.default.login(),onPress:function(){if(!m.userStore.isLogin||!m.userStore.userInfo.id)return(0,f.info)("下载需先"+g.default.login());setTimeout(function(){(0,f.confirm)("确定恢复到云端的设置?",(0,a.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.loading)("下载中..."),e.next=3,m.subjectStore.downloadOrigin();case 3:s=e.sent,t(),(0,f.feedback)(),(0,f.info)(s?"已恢复":"下载失败"),s&&(r(),(0,h.t)("自定义源头.下载"));case 8:case"end":return e.stop()}},e)})))},160)}}),(0,_.jsx)(c.ItemSettingBlock.Item,{style:m._.ml.md,icon:"md-ios-share",title:"上传",information:(!m.userStore.isLogin||!m.userStore.userInfo.id)&&"需"+g.default.login(),onPress:function(){if(!m.userStore.isLogin||!m.userStore.userInfo.id)return(0,f.info)("上传需先"+g.default.login());setTimeout(function(){(0,f.confirm)("确定上传当前设置到云端?",(0,a.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.loading)("上传中..."),e.next=3,m.subjectStore.uploadOrigin();case 3:s=e.sent,t(),(0,f.feedback)(),(0,f.info)(s?"已上传":"上传失败，云服务异常，请待作者修复"),s&&(0,h.t)("自定义源头.上传");case 8:case"end":return e.stop()}},e)})))},160)}})]}),(0,_.jsxs)(u.Flex,{style:x.styles.setting,children:[(0,_.jsx)(u.Flex.Item,{children:(0,_.jsx)(u.Text,{size:15,bold:!0,children:"显示所有项"})}),(0,_.jsx)(u.SwitchPro,{style:x.styles.switch,value:t,onSyncPress:s},t)]})]})};try{cloud.displayName="cloud",cloud.__docgenInfo={description:"",displayName:"cloud",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"any"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"any"}},onDownloaded:{defaultValue:null,description:"",name:"onDownloaded",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/cloud/index.tsx#cloud"]={docgenInfo:cloud.__docgenInfo,name:"cloud",path:"src/screens/user/origin-setting/cloud/index.tsx#cloud"})}catch(e){}},"./src/screens/user/origin-setting/cloud/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({container:{paddingHorizontal:0,marginBottom:s._.md},setting:{marginBottom:40},switch:{marginRight:-4,transform:[{scale:s._.device(.8,1.12)}]}});t.styles=s},"./src/screens/user/origin-setting/create/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/origin-setting/form/index.tsx")),l=s("./src/screens/user/origin-setting/create/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),r=(0,i.obc)(function(e,t){var s=e.type,e=e.name,r=t.$,t=r.state.edit;return t.type===s&&""===t.item.id&&""===t.item.uuid?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.Text,{style:o._.mt.md,size:15,bold:!0,children:["添加",e,"源头"]}),(0,d.jsx)(a.default,{style:o._.mt.md,name:t.item.name,url:t.item.url})]}):(0,d.jsxs)(n.Button,{style:l.styles.btn,type:o._.select("ghostPlain","plain"),onPress:function(){return r.openEdit(s,{id:"",uuid:"",name:"",url:"",sort:0,active:1})},children:["添加",e,"源头"]})});t.default=r},"./src/screens/user/origin-setting/create/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({btn:{marginVertical:s._.md}});t.styles=s},"./src/screens/user/origin-setting/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES_DS=t.SITES_WENKU=t.SITES_REAL=t.SITES_NSFW=t.SITES_MUSIC=t.SITES_MANGA=t.SITES_GAME=t.SITES_ANIME=t.NAMESPACE=void 0;t.NAMESPACE="ScreenOriginSetting",t.TYPES_DS=[{type:"anime",name:"动画",test:{CN:"电锯人",JP:"チェンソーマン",ID:321885}},{type:"hanime",name:"NSFW",test:{CN:"缘之空",JP:"ヨスガノソラ",ID:7157}},{type:"manga",name:"漫画",test:{CN:"蓦然回首",JP:"ルックバック",ID:342254}},{type:"wenku",name:"小说",test:{CN:"来自新世界",JP:"新世界より",ID:37782}},{type:"music",name:"音乐",test:{CN:"One Last Kiss",JP:"One Last Kiss",ID:321924}},{type:"game",name:"游戏",test:{CN:"艾尔登法环",JP:"ELDEN RING",ID:284100}},{type:"real",name:"三次元",test:{CN:"边缘世界",JP:"The Peripheral",ID:403404}}],t.SITES_ANIME=[{id:"anime|dmys3",name:"大米星球",url:"https://dmys3.com/vodsearch/-------------.html?wd=[CN]",sort:0,active:1},{id:"anime|libvio",name:"LIBVIO",url:"https://www.libvio.me/search/-------------.html?wd=[CN]",sort:0,active:0},{id:"anime|pixivel",name:"pixivel.moe",url:"https://pixivel.moe/search?keyword=[JP]&mode=tag&features=sortpop",sort:0,active:0},{id:"anime|cupfox",name:"茶杯狐",url:"https://www.cupfox.app/search?key=[CN]",sort:0,active:0},{id:"anime|mx",name:"MX动漫",url:"http://www.mxdm8.com/search/[CN]-------------.html",sort:0,active:0},{id:"anime|anime1",name:"Anime1",url:"https://anime1.me/?s=[CN_S2T]",sort:0,active:0},{id:"anime|moe",name:"萌番组",desc:"复制当前[CN]后跳转，请自行粘贴搜索",url:"https://bangumi.moe/search/index",sort:0,active:0}],t.SITES_NSFW=[{id:"hanime|hanime1",name:"Hanime1",url:"https://hanime1.me/search?query=[JP]",sort:0,active:1}],t.SITES_MANGA=[{id:"manga|moxmoe",name:"[DL] Kox.moe",url:"https://kox.moe/list.php?s=[CN]",sort:0,active:1},{id:"manga|dlraw",name:"[DL] Dl-Raw",url:"https://dl-raw.net/?s=[JP]",sort:0,active:0}],t.SITES_WENKU=[{id:"wenku|linovelib",name:"哔哩轻小说",url:"https://w.linovelib.com/S8/?searchkey=[CN]&searchtype=all",sort:0,active:1}],t.SITES_MUSIC=[{id:"music|163",name:"网易云",url:"https://www.baidu.com/s?word=site%3Amusic.163.com+%E4%B8%93%E8%BE%91+[JP]",sort:0,active:1},{id:"music|qq",name:"QQ音乐",url:"https://www.baidu.com/s?word=site%3Ay.qq.com+%E4%B8%93%E8%BE%91+[JP]",sort:0,active:1},{id:"music|bilibili",name:"bilibili",url:"https://search.bilibili.com/all?keyword=[JP]&from_source=nav_suggest_new&order=stow&duration=0&tids_1=3",sort:0,active:1},{id:"music|minimummusic",name:"[DL] MinimumMusic",url:"https://minimummusic.com/?s=[JP]",sort:0,active:1}],t.SITES_GAME=[{id:"game|psnine",name:"PSNINE",url:"https://psnine.com/psngame?title=[CN]",sort:0,active:1},{id:"game|gcore",name:"机核GCORES",url:"https://www.gcores.com/search?keyword=[CN]&tab=all",sort:0,active:1},{id:"game|xxxx520",name:"[DL] xxxx520",url:"https://xxxxx525.com/?s=[CN]",sort:0,active:1},{id:"game|vgtime",name:"VGTIME",url:"https://www.vgtime.com/search/list.jhtml?keyword=[CN]",sort:0,active:0}];t.SITES_REAL=[{id:"real|libvio",name:"LIBVIO",url:"https://www.libvio.me/search/-------------.html?wd=[CN]",sort:0,active:1},{id:"anime|dmys3",name:"大米星球",url:"https://dmys3.com/vodsearch/-------------.html?wd=[CN]",sort:0,active:1},{id:"real|cupfox",name:"茶杯狐",url:"https://www.cupfox.app/search?key=[CN]",sort:0,active:0},{id:"real|dianyinggou",name:"电影狗",url:"https://www.dianyinggou.com/so/[CN]",sort:0,active:0}]},"./src/screens/user/origin-setting/form/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/screens/user/origin-setting/form/styles.ts"),f=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.style,s=void 0===s?void 0:s,r=e.name,r=void 0===r?"":r,n=e.url,n=void 0===n?"":n,e=e.isBase,e=void 0!==e&&e,o=t.$,t=(0,m.memoStyles)(),i=o.state.edit;return(0,f.jsxs)(l.Flex,{style:(0,c.stl)(t.form,s),align:"end",children:[(0,f.jsxs)(l.Flex.Item,{children:[(0,f.jsxs)(l.Text,{size:13,bold:!0,children:["名字",e&&(0,f.jsxs)(l.Text,{type:"sub",size:10,lineHeight:13,bold:!0,children:[" ","示例不允许修改"]})]}),(0,f.jsx)(l.Input,{style:[t.input,u._.mt.sm],defaultValue:String(r),placeholder:"菜单显示名称，唯一",onChangeText:e?void 0:function(e){return o.onChangeText("name",e)}}),(0,f.jsxs)(l.Text,{style:u._.mt.md,size:13,bold:!0,children:["网址",e&&(0,f.jsxs)(l.Text,{type:"sub",size:10,lineHeight:13,bold:!0,children:[" ","默认项不允许修改"]})]}),(0,f.jsxs)(l.Text,{style:u._.mt.sm,type:"sub",size:10,lineHeight:13,bold:!0,children:["支持参数：",(0,f.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[CN]"})," ","会被替换成条目中文名，",(0,f.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[JP]"})," ","日文名，",(0,f.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[CN_S2T]"})," ","中文繁体名，",(0,f.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[TIME]"})," ","时间戳，",(0,f.jsx)(l.Text,{type:"warning",size:10,lineHeight:13,bold:!0,children:"[ID]"})," ","bgm条目id"]}),(0,f.jsx)(l.Input,{style:u._.mt.sm,defaultValue:String(n),multiline:!0,numberOfLines:4,textAlignVertical:"top",placeholder:"https://",onChangeText:e?void 0:function(e){return o.onChangeText("url",e)}}),(0,f.jsx)(l.Text,{style:u._.mt.md,size:13,bold:!0,children:"排序"}),(0,f.jsx)(l.Input,{style:[t.input,u._.mt.sm],value:String(i.item.sort),placeholder:"数字，越大越前，选填",keyboardType:"number-pad",onChangeText:function(e){return o.onChangeText("sort",e)}})]}),(0,f.jsx)(d.IconTouchable,{style:u._.ml.md,name:"md-check",size:22,color:u._.colorDesc,onPress:o.submitEdit}),(0,f.jsx)(a.default,{style:t.close,children:(0,f.jsx)(d.IconTouchable,{name:"md-close",size:22,color:u._.colorDesc,onPress:o.closeEdit})})]})});t.default=s},"./src/screens/user/origin-setting/form/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{form:{padding:12,paddingRight:8,marginBottom:r._.md,backgroundColor:r._.colorBg,borderColor:r._.colorBorder,borderWidth:1,borderRadius:r._.radiusSm,overflow:"hidden"},close:{position:"absolute",zIndex:1,top:4,right:8},input:{height:44,paddingVertical:0}}});t.memoStyles=s},"./src/screens/user/origin-setting/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,a.jsx)(n.Header,{title:"自定义源头",hm:["origin-setting","OriginSetting"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["说明文档"],onSelect:function(e){"说明文档"===e&&((0,i.t)("自定义源头.右上角菜单",{key:e}),(0,o.open)("https://www.yuque.com/chenzhenyu-k0epm/znygb4/brbd33"))},children:(0,a.jsx)(n.Heatmap,{id:"自定义源头.右上角菜单"})})}})});t.default=s},"./src/screens/user/origin-setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/user/origin-setting/header/index.tsx")),l=r(s("./src/screens/user/origin-setting/cloud/index.tsx")),d=r(s("./src/screens/user/origin-setting/list/index.tsx")),r=r(s("./src/screens/user/origin-setting/store.ts")),u=s("./src/screens/user/origin-setting/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var r=t.$;return(0,i.useRunAfter)(function(){r.init()}),(0,i.useObserver)(function(){var e=(0,u.memoStyles)(),t=r.state,s=t._loaded,t=t.active;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsx)(n.Page,{loaded:s,children:(0,c.jsxs)(n.ScrollView,{contentContainerStyle:e.scrollView,children:[(0,c.jsx)(l.default,{active:t,onToggle:r.onToggle,onDownloaded:r.init}),(0,c.jsx)(d.default,{})]})})]})})});t.default=s;try{originsetting.displayName="originsetting",originsetting.__docgenInfo={description:"",displayName:"originsetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/index.tsx#originsetting"]={docgenInfo:originsetting.__docgenInfo,name:"originsetting",path:"src/screens/user/origin-setting/index.tsx#originsetting"})}catch(e){}},"./src/screens/user/origin-setting/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),g=r(s("./src/screens/user/origin-setting/form/index.tsx")),x=s("./src/screens/user/origin-setting/item/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.type,r=e.id,n=e.uuid,o=e.active,i=e.name,a=e.url,l=e.sort,d=t.$,e=[],t=!!r,u=!!o,c=(e.push(t?"编辑排序":"编辑",u?"停用":"启用"),t||e.push("删除"),e.push("测试"),d.state.edit),c=c.type===s&&(r&&c.item.id===r||n&&c.item.uuid===n);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(f.Flex,{style:(0,h.stl)(x.styles.item,!u&&x.styles.disabled),children:[(0,_.jsxs)(f.Flex.Item,{children:[(0,_.jsxs)(f.Text,{size:15,bold:!0,children:[i,t&&(0,_.jsxs)(f.Text,{type:"sub",size:10,lineHeight:15,bold:!0,children:[" ","示例"]})]}),(0,_.jsxs)(f.Flex,{style:j._.mt.sm,children:[0<=l&&(0,_.jsx)(p.Tag,{style:j._.mr.sm,value:l}),(0,_.jsx)(f.Flex.Item,{children:(0,_.jsx)(f.Text,{size:12,type:"sub",numberOfLines:1,children:a})})]})]}),u&&(0,_.jsx)(p.Tag,{style:j._.ml.md,value:"生效"}),(0,_.jsx)(p.Popover,{style:j._.ml.md,data:e,onSelect:function(e){switch(e){case"编辑排序":d.openEdit(s,{id:r,uuid:"",name:i,url:a,sort:l,active:o});break;case"编辑":d.openEdit(s,{id:"",uuid:n,name:i,url:a,sort:l,active:o});break;case"删除":(0,h.confirm)("确定删除 ["+i+"] ?",function(){d.deleteItem({uuid:n,type:s})});break;case"停用":d.disableItem({id:r,uuid:n,type:s});break;case"启用":d.activeItem({id:r,uuid:n,type:s});break;case"测试":d.go({type:s,url:a})}},children:(0,_.jsx)(m.default,{style:x.styles.touch,children:(0,_.jsx)(f.Iconfont,{name:"md-more-vert",color:j._.colorDesc})})})]}),c&&(0,_.jsx)(g.default,{name:i,url:a,isBase:t})]})});t.default=r},"./src/screens/user/origin-setting/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({item:{marginVertical:s._.md},touch:{padding:s._.sm,marginRight:-s._.sm},disabled:{opacity:.5}});t.styles=s},"./src/screens/user/origin-setting/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/origin-setting/title/index.tsx")),l=r(s("./src/screens/user/origin-setting/item/index.tsx")),d=r(s("./src/screens/user/origin-setting/create/index.tsx")),u=s("./src/screens/user/origin-setting/ds.ts"),c=s("./src/screens/user/origin-setting/list/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=t.$,r=s.state.active;return(0,m.jsx)(m.Fragment,{children:u.TYPES_DS.map(function(t,e){return(0,m.jsxs)(n.default,{children:[!!e&&(0,m.jsx)(o.Divider,{}),(0,m.jsx)(a.default,{type:t.type,name:t.name}),(0,m.jsxs)(n.default,{style:c.styles.list,children:[s.data[t.type].filter(function(e){return!!r||e.active}).map(function(e){return(0,m.jsx)(l.default,Object.assign({},e,{type:t.type}),e.id+"|"+e.uuid)}),(0,m.jsx)(d.default,{type:t.type,name:t.name})]})]},t.type)})})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/origin-setting/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/origin-setting/list/index.tsx#list"})}catch(e){}},"./src/screens/user/origin-setting/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({list:{minHeight:80,marginTop:s._.md}});t.styles=s},"./src/screens/user/origin-setting/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),n=n(s("./src/utils/store/index.ts")),g=s("./src/utils/fetch/index.ts"),x=s("./src/screens/user/origin-setting/utils.ts"),_=s("./src/screens/user/origin-setting/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=n.default,(0,d.default)(S,s),y=b(S),(0,i.default)(S,[{key:"data",get:function(){var e=this.state.data;return(0,x.getOriginConfig)(e)}}]),(0,f.default)((n=S).prototype,"data",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"data"),n.prototype);var y,d=n;function S(){var i;(0,a.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=y.call.apply(y,[this].concat(t)),(0,m.default)((0,l.default)(i),"state",(0,p.observable)({data:{base:{},custom:{anime:[],hanime:[],manga:[],wenku:[],music:[],game:[],real:[]}},edit:{type:"",item:{id:"",uuid:"",name:"",url:"",sort:0,active:1}},active:!0,_loaded:!1})),(0,m.default)((0,l.default)(i),"init",(0,o.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(_.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,i.setState({data:(0,p.toJS)(j.subjectStore.origin),active:(null==t?void 0:t.active)||!1,_loaded:(0,h.getTimestamp)()});case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"onToggle",function(){var e=i.state.active;i.setState({active:!e}),i.setStorage(_.NAMESPACE)}),(0,m.default)((0,l.default)(i),"updateOrigin",function(){setTimeout(function(){var e=i.state.data;j.subjectStore.updateOrigin(e)},0)}),(0,m.default)((0,l.default)(i),"openEdit",function(e,t){i.setState({edit:{type:e,item:t}}),(0,g.t)("自定义源头.编辑表单",{type:e})}),(0,m.default)((0,l.default)(i),"closeEdit",function(){i.setState({edit:{type:"",item:{id:"",uuid:"",name:"",url:"",sort:0,active:1}}}),(0,g.t)("自定义源头.关闭表单")}),(0,m.default)((0,l.default)(i),"onChangeText",function(e,t){var s=i.state.edit,t=t.trim();"sort"===e&&(t=isNaN(Number(t))?0:Number(t)),i.setState({edit:Object.assign({},s,{item:Object.assign({},s.item,(0,m.default)({},e,t))})})}),(0,m.default)((0,l.default)(i),"submitEdit",function(){var e=i.state,t=e.edit,e=e.data,s=t.type,t=t.item,r=t.id,n=t.uuid;if(""===r&&""===n){if(!t.name)return void(0,h.info)("名字不能为空");if(!t.url)return void(0,h.info)("网址不能为空");(o=(0,p.toJS)(e)).custom[s].push({uuid:(0,h.getTimestamp)(),name:t.name||"",url:t.url||"",sort:t.sort||0,active:1})}else if(r)(o=(0,p.toJS)(e)).base[r]?o.base[r]=Object.assign({},o.base[r],{sort:t.sort}):o.base[r]={sort:t.sort};else{if(!t.name)return void(0,h.info)("名字不能为空");if(!t.url)return void(0,h.info)("网址不能为空");var o,r=(o=(0,p.toJS)(e)).custom[s].findIndex(function(e){return e.uuid===n});o.custom[s][r]&&(o.custom[s][r]=Object.assign({},o.custom[s][r],t))}i.setState({data:o}),i.closeEdit(),i.updateOrigin(),(0,g.t)("自定义源头.保存源头",{type:s})}),(0,m.default)((0,l.default)(i),"disableItem",function(e){var t,s=e.id,r=e.uuid,e=e.type;e&&(t=i.state.data,t=(0,p.toJS)(t),s?t.base[s]?t.base[s]=Object.assign({},t.base[s],{active:0}):t.base[s]={active:0}:(s=t.custom[e].find(function(e){return e.uuid===r}))&&(s.active=0),i.setState({data:t}),i.updateOrigin(),(0,g.t)("自定义源头.停用源头",{type:e}))}),(0,m.default)((0,l.default)(i),"activeItem",function(e){var t,s=e.id,r=e.uuid,e=e.type;e&&(t=i.state.data,t=(0,p.toJS)(t),s?t.base[s]?t.base[s]=Object.assign({},t.base[s],{active:1}):t.base[s]={active:1}:(s=t.custom[e].find(function(e){return e.uuid===r}))&&(s.active=1),i.setState({data:t}),i.updateOrigin(),(0,g.t)("自定义源头.启用源头",{type:e}))}),(0,m.default)((0,l.default)(i),"deleteItem",function(e){var t,s=e.uuid,e=e.type;s&&e&&(t=i.state.data,(t=(0,p.toJS)(t)).custom[e]=t.custom[e].filter(function(e){return e.uuid!==s}),i.setState({data:t}),i.updateOrigin())}),(0,m.default)((0,l.default)(i),"go",function(e){var t=e.type,e=e.url;if(t&&e)try{var s,r=_.TYPES_DS.find(function(e){return e.type===t}).test,n=(0,x.replaceOriginUrl)(e,r);n&&((s=j.systemStore.setting.openInfo)&&(0,h.copy)(n,"已复制地址"),setTimeout(function(){(0,h.open)(n)},s?1600:0))}catch(e){(0,h.info)("网址解析出错, 请检查")}}),i}t.default=d},"./src/screens/user/origin-setting/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{scrollView:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.bottom}}});t.memoStyles=s},"./src/screens/user/origin-setting/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.type,e=e.name,r=t.$,n=r.data[s].filter(function(e){return 1===e.active}),t=n.map(function(e){return e.name});return(0,l.jsxs)(o.Flex,{children:[(0,l.jsx)(o.Flex.Item,{children:(0,l.jsx)(o.Text,{size:20,bold:!0,children:e})}),(0,l.jsx)(i.Popover,{style:a._.ml.md,data:t.length?t:["空"],onSelect:function(t){var e;"空"!==t&&(e=n.find(function(e){return e.name===t}),r.go({type:s,url:e.url}))},children:(0,l.jsx)(o.Iconfont,{name:"md-airplay",size:20,color:a._.colorDesc})})]})});t.default=s},"./src/screens/user/origin-setting/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseOriginConfig=u,t.getOriginConfig=function(e,s){var e=(0,i.toJS)(e),t=e.base,r=void 0===t?{}:t,t=e.custom,n=void 0===t?{}:t,o=u();return Object.keys(o).forEach(function(e){var t;void 0!==s&&s!==e||((t=o[e]).forEach(function(e){var t;"object"==typeof(null==r?void 0:r[e.id])&&(void 0!==(t=r[e.id]).sort&&(e.sort=t.sort),void 0!==t.active)&&(e.active=t.active)}),Array.isArray(null==n?void 0:n[e])&&n[e].forEach(function(e){t.push(e)}),o[e]=t.slice().sort(function(e,t){return(0,a.desc)(e.sort,t.sort)}).sort(function(e,t){return(0,a.desc)(e.active,t.active)}))}),void 0!==s&&s?o[s]:o},t.replaceOriginUrl=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/\[CN\]/g,encodeURIComponent(t.CN)).replace(/\[JP\]/g,encodeURIComponent(t.JP)).replace(/\[CN_S2T\]/g,encodeURIComponent((0,o.s2t)(t.CN))).replace(/\[TIME\]/g,String((0,a.getTimestamp)())).replace(/\[ID\]/g,String(t.ID))},r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=s("./node_modules/mobx/dist/mobx.esm.js"),a=s("./src/utils/index.ts"),o=s("./src/utils/thirdParty/cn-char/index.ts"),l=s("./src/constants/index.ts"),d=s("./src/screens/user/origin-setting/ds.ts");function u(){return{anime:[{id:"anime|age",name:"AGE动漫",url:(0,l.SITE_AGEFANS)()+"/search?query=[CN]&page=1",sort:0,active:1}].concat((0,n.default)(d.SITES_ANIME)),hanime:(0,n.default)(d.SITES_NSFW),manga:[{id:"manga|wnacg",name:"绅士漫画",url:(0,l.SITE_WNACG)()+"/search/?q=[CN]&f=_all&s=create_time_DESC",sort:0,active:1},{id:"manga|mangabz",name:"Mangabz",url:(0,l.SITE_MANGABZ)()+"/search?title=[CN]",sort:0,active:1}].concat((0,n.default)(d.SITES_MANGA)),wenku:[{id:"wenku|wk8",name:"轻小说文库",url:(0,l.SITE_WK8)()+"/modules/article/search.php?searchtype=articlename&searchkey=[CN]",sort:0,active:1}].concat((0,n.default)(d.SITES_WENKU)),music:(0,n.default)(d.SITES_MUSIC),game:(0,n.default)(d.SITES_GAME),real:(0,n.default)(d.SITES_REAL)}}},"./src/screens/user/pm/chat/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/user/pm/chat/styles.ts"),u=s("./node_modules/react/jsx-runtime.js"),c={id:"短信.跳转"};s=(0,r.obc)(function(e,t){var n=t.$,t=(0,d.memoStyles)(),o=n.pmDetail.list;return(0,u.jsxs)(i.default,{style:t.container,children:[(0,u.jsx)(a.Text,{size:12,type:"sub",align:"center",children:!!o.length&&o[0].date}),o.map(function(e,t){var s=0===t?{}:o[t-1],r=e.userId===n.myId;return(0,u.jsx)(l.ItemSay,{event:c,index:t,position:r?"right":"left",avatar:e.avatar,showName:s.name!==e.name,name:e.name,text:e.content,id:e.userId,format:!1})})]})});t.default=s;try{chat.displayName="chat",chat.__docgenInfo={description:"",displayName:"chat",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/chat/index.tsx#chat"]={docgenInfo:chat.__docgenInfo,name:"chat",path:"src/screens/user/pm/chat/index.tsx#chat"})}catch(e){}},"./src/screens/user/pm/chat/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingHorizontal:r._.wind}}});t.memoStyles=s},"./src/screens/user/pm/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=s.pmDetail.list;return(0,d.jsx)(n.Header,{title:"短信",hm:["pm","PM"],headerRight:function(){return(0,d.jsxs)(n.Flex,{children:[10<=r.length&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.IconTouchable,{style:i._.mr._xs,name:"md-keyboard-arrow-up",size:24,color:i._.colorTitle,onPress:function(){s.scrollToTop(s.scrollViewRef,!0)}}),(0,d.jsx)(o.IconTouchable,{name:"md-keyboard-arrow-down",size:24,color:i._.colorTitle,onPress:function(){s.scrollToBottom(s.scrollViewRef,!0)}})]}),(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,l.t)("短信.右上角菜单",{key:e}),(0,a.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"短信.右上角菜单"})})]})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/pm/header/index.tsx#header"})}catch(e){}},"./src/screens/user/pm/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Heatmap,{bottom:o._.bottom,id:"短信",screen:"Say"}),(0,i.jsx)(n.Heatmap,{right:67,bottom:o._.bottom,id:"短信.显示评论框",transparent:!0}),(0,i.jsx)(n.Heatmap,{right:67,bottom:o._.bottom-68,id:"短信.回复短信",transparent:!0})]})});t.default=s},"./src/screens/user/pm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/user/pm/header/index.tsx")),a=r(s("./src/screens/user/pm/page/index.tsx")),l=r(s("./src/screens/user/pm/heatmaps/index.tsx")),r=r(s("./src/screens/user/pm/store.tsx")),d=s("./node_modules/react/jsx-runtime.js"),s=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,o.useRunAfter)(function(){s.init()}),(0,o.useKeyboardAdjustResize)(),(0,o.useObserver)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.default,{}),(0,d.jsx)(a.default,{}),(0,d.jsx)(l.default,{})]})})});t.default=s;try{pm.displayName="pm",pm.__docgenInfo={description:"",displayName:"pm",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/index.tsx#pm"]={docgenInfo:pm.__docgenInfo,name:"pm",path:"src/screens/user/pm/index.tsx#pm"})}catch(e){}},"./src/screens/user/pm/page/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),p=s("./src/components/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/decorators/index.ts"),g=r(s("./src/screens/user/pm/chat/index.tsx")),x=s("./src/screens/user/pm/page/styles.tsx"),_=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}r=c.default.Component,(0,a.default)(S,r),y=b(S),(0,o.default)(S,[{key:"componentDidMount",value:function(){this.context.$.init(this.scrollView)}},{key:"componentWillUnmount",value:function(){this.context.$.scrollViewRef=null}},{key:"renderNewForm",value:function(){var e=this.context.$.params,t=e.userId,e=e.userName;return t?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.default,{style:this.styles.form,children:(0,_.jsxs)(p.Text,{children:["收件人: ",e]})}),(0,_.jsx)(p.Input,{style:this.styles.ipt,placeholder:"输入标题",onChange:this.onTitleChange})]}):null}},{key:"render",value:function(){var e=this.context.$,t=e.state.value;return(0,_.jsxs)(p.Page,{style:j._.container.screen,children:[e.pmParams._loaded||e.pmDetail._loaded?(0,_.jsx)(f.default,{ref:this.connectRefScrollView,style:j._.container.screen,contentContainerStyle:j._.container.bottom,children:(0,_.jsx)(g.default,{})}):(0,_.jsx)(p.Loading,{}),(0,_.jsx)(p.FixedTextarea,{placeholder:"回复",value:t,onChange:e.onChange,onClose:e.closeFixedTextarea,onSubmit:this.onSubmit,children:this.renderNewForm()})]})}},{key:"styles",get:function(){return(0,x.memoStyles)()}}]);var y,s=S;function S(){var r;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=y.call.apply(y,[this].concat(t)),(0,u.default)((0,i.default)(r),"scrollView",void 0),(0,u.default)((0,i.default)(r),"connectRefScrollView",function(e){e&&(r.context.$.scrollViewRef=e,r.scrollView=e)}),(0,u.default)((0,i.default)(r),"onTitleChange",function(e){var t=r.context.$,e=e.nativeEvent.text;t.onTitleChange(e)}),(0,u.default)((0,i.default)(r),"onSubmit",function(e){var t=r.context,s=t.$,t=t.navigation;return s.doSubmit(e,r.scrollView,t)}),r}c=(0,h.obc)(s);t.default=c;try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/pm/page/index.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/pm/page/index.tsx#page"})}catch(e){}},"./src/screens/user/pm/page/styles.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{form:{paddingVertical:r._.md,paddingHorizontal:r._.wind},ipt:{height:48,paddingVertical:0,paddingHorizontal:r._.wind,borderRadius:0}}});t.memoStyles=s},"./src/screens/user/pm/store.tsx":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),g=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,d.default)(y,s),b=_(y),(0,n.default)(y,[{key:"pmDetail",get:function(){var e=this.params.id;return j.userStore.pmDetail(e)}},{key:"pmParams",get:function(){var e=this.params.userId;return j.userStore.pmParams(e)}},{key:"myId",get:function(){return j.userStore.myId}},{key:"url",get:function(){var e=this.params.id;return(0,x.HTML_PM_DETAIL)(e)}}]),(0,f.default)((r=y).prototype,"pmDetail",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"pmDetail"),r.prototype),(0,f.default)(r.prototype,"pmParams",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"pmParams"),r.prototype),(0,f.default)(r.prototype,"myId",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"myId"),r.prototype),(0,f.default)(r.prototype,"url",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype);var b,d=r;function y(){var r;(0,a.default)(this,y);for(var t,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return r=b.call.apply(b,[this].concat(s)),(0,m.default)((0,l.default)(r),"params",void 0),(0,m.default)((0,l.default)(r),"state",(0,p.observable)({title:"",value:"",_loaded:!1})),(0,m.default)((0,l.default)(r),"scrollViewRef",null),(0,m.default)((0,l.default)(r),"init",(t=(0,i.default)(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(r.scrollViewRef=t),r.params.userId)return e.abrupt("return",r.fetchPMParams());e.next=4;break;case 4:return r.pmDetail._loaded&&r.scrollToBottom(r.scrollViewRef),e.next=8,r.fetchPMDetail();case 8:return setTimeout(function(){r.scrollToBottom(r.scrollViewRef)},320),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,l.default)(r),"fetchPMParams",function(){var e=r.params.userId;return j.userStore.fetchPMParams({userId:e})}),(0,m.default)((0,l.default)(r),"fetchPMDetail",function(){var e=r.params.id;return j.userStore.fetchPMDetail({id:e})}),(0,m.default)((0,l.default)(r),"scrollToBottom",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];try{null!=e&&e.scrollToEnd&&setTimeout(function(){e.scrollToEnd({animated:t,duration:640})},160)}catch(e){}}),(0,m.default)((0,l.default)(r),"scrollToTop",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];try{null!=e&&e.scrollTo&&setTimeout(function(){e.scrollTo({x:0,y:0,animated:t,duration:640})},160)}catch(e){}}),(0,m.default)((0,l.default)(r),"closeFixedTextarea",function(){(0,g.t)("短信.显示评论框"),r.setState({placeholder:"",replySub:"",message:""})}),(0,m.default)((0,l.default)(r),"onTitleChange",function(e){return r.setState({title:e})}),(0,m.default)((0,l.default)(r),"onChange",function(e){return r.setState({value:e})}),(0,m.default)((0,l.default)(r),"doSubmit",function(e,t,s){if(r.params.userId)return r.pmParams.formhash?void r.doCreate(e,s):void(0,h.info)("获取表单授权码失败");s=r.pmDetail.form,s=void 0===s?{}:s;null!=s&&s.formhash?r.doReply(e,t):(0,h.info)("获取表单授权码失败, 需要别人回复过才能继续发送")}),(0,m.default)((0,l.default)(r),"doCreate",function(e,t){(0,g.t)("短信.新短信");var s=r.state.title;j.userStore.doPM(Object.assign({msg_title:s,msg_body:e,submit:"发送"},r.pmParams),(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,h.feedback)(),r.setState({title:"",value:""}),t.goBack(),t.push("Notify",{type:"out"});case 4:case"end":return e.stop()}},e)})))}),(0,m.default)((0,l.default)(r),"doReply",function(e,t){(0,g.t)("短信.回复短信");var s=r.pmDetail.form;j.userStore.doPM(Object.assign({msg_body:e,chat:"on",submit:"回复"},void 0===s?{}:s),(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({value:""}),e.next=3,r.fetchPMDetail();case 3:(0,h.feedback)(),t&&t.scrollToEnd&&setTimeout(function(){t.scrollToEnd()},0);case 5:case"end":return e.stop()}},e)})))}),r}t.default=d},"./src/screens/user/qiafan/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/screens/user/qiafan/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,a.useObserver)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Header,{title:"关于",hm:["qiafan","Qiafan"]}),(0,d.jsxs)(n.ScrollView,{style:o._.container.plain,contentContainerStyle:[o._.container.wind,o._.container.bottom],children:[(0,d.jsx)(n.Text,{lineHeight:16,children:"　　自 19 年 2 月以来项目已持续开发超过 4 年。最初仅是为练手，是第一次做 App，后来发现很有趣便一直开发至今。回头一看，已有 1500 次代码提交，超过 100 万行代码的增删改，150 多次版本发布，用爱发电时间超过 1 万小时。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　不得不说 App 比网页难做太多了，很多正常的功能比如图片加载、网络并发请求，浏览器直接就能提供最优解，而 App 内几乎一切都是刀耕火种。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　目前功能已经是够用的，再做更多功能也仅仅是画蛇添足罢了，所以后续方向是倾向于用户反馈和网页的新增功能。最近 v7.5 之后的一直在优化迭代一些几年前的代码，这个过程复杂又容易出错，但总算是挺过来了。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　作为一个第三方客户端，相较于网页版 bgm.tv 在出发点上可能会存在分歧，App 的主要目的还是让用户能发现喜欢的番剧，所以在聚合各种元素，无任欢迎提各种意见和需求。"}),(0,d.jsxs)(n.Text,{style:o._.mt.sm,lineHeight:16,children:["　　",(0,d.jsxs)(n.Text,{bold:!0,lineHeight:16,underline:!0,children:["好看 ",">>"," 好用 ",">"," 速度 ",">>>"," 稳定性"]})," ","一直都是本 App 的开发理念。若不能接受崩溃，网页版可能更适合你。"]}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　您的支持就是作者继续开发下去的动力，觉得好用的不忘到 Github 上给星星，这些无形的资产绝对会对作者日后的职业生涯产生重要的帮助。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　2022 年以来，因各种你懂的原因，且不说开发新功能，有时候因很多突发的问题，维护 App 的正常使用就已经使人力不从心。目前有打算使用一点资金，在后续的版本中提供更加快速稳定的内容访问服务。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　最近有被人说我是网络乞丐，我寻思我也没赚到多少 (笑哭)。作者把 3 年间绝大部分的业余时间都投入到了开发里面，95% 以上的功能都是免费更新的，就算是余下的 5% 非免费功能也是在一定程度上免费提供使用，你要是还有意见那就是你对。后续会开发更多的专属于会员的服务，因为巧妇难为无米之炊。"}),(0,d.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,align:"right",children:"　　最后编辑∶2023-04-20"}),!o.userStore.isLimit&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Divider,{style:o._.mt.md}),(0,d.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,children:"　　App 内并没有直接播放视频的功能，请你先知悉 App 是用来干什么的！"}),(0,d.jsxs)(n.Text,{style:o._.mt.sm,lineHeight:16,children:["　　补充说明一下何为",(0,d.jsx)(n.Text,{type:"main",bold:!0,lineHeight:16,children:"高级用户"}),"，只要给予过打赏，",(0,d.jsx)(n.Text,{type:"main",bold:!0,lineHeight:16,children:"并且留言 / 告知用户 id"}),"。作者看见会第一时间把您加进高级用户组，可以无限制享受 App 内特有功能。"]}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　目前定义为：只有源站点没有的功能才能成为高级功能，并且普通用户也能使用，只会在不影响使用的程度内进行限制，以避免滥用。"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"　　为了能继续发展，部分功能可能会突然消失，懂的都懂 (bgm38)。"}),(0,d.jsx)(n.Divider,{style:o._.mt.md}),(0,d.jsx)(n.Text,{style:o._.mt.lg,size:16,bold:!0,align:"center",children:"目前有如下高级功能"}),(0,d.jsx)(n.Text,{style:o._.mt.lg,lineHeight:16,children:"　无限制畅用多达 100 个功能 / 页面"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔条目封面〕高清私域反代（最优需达 10 元）"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔需求反馈〕优先跟进"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔首页收藏〕支持最大显示 300 个条目"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔用户空间〕支持浏览用户历史帖子"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔关联系列〕支持更多相关搜索"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔bilibili 同步〕无限制同步"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔SMB〕添加多个服务器"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔小圣杯〕高级功能"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔豆瓣同步〕研究中"}),(0,d.jsx)(n.Text,{style:o._.mt.sm,lineHeight:16,children:"〔翻译功能〕因 API 突然收费，非会员可能会有限制"}),(0,d.jsx)(n.Divider,{style:o._.mt.md}),(0,d.jsx)(n.Text,{style:o._.mt.lg,size:16,bold:!0,align:"center",children:"支持下面方式"}),(0,d.jsxs)(n.Text,{style:o._.mt.md,lineHeight:16,children:["　　投食请务必备注一下你的站内 bgm 的 id，在支付的时候留下这个"," ",(0,d.jsx)(n.Text,{type:"main",bold:!0,children:o.userStore.myUserId}),"，以后若有新的高级功能，会第一时间为投食用户开放！"]}),(0,d.jsx)(n.Flex,{style:l.styles.mt160,justify:"center",children:(0,d.jsx)(n.Image,{size:240,height:274,src:s("./src/assets/images/qr/alipay.png"),onLongPress:function(){return(0,i.open)("https://p.sda1.dev/6/8f23cd20e8ec57182a86bc479d7775d6/alipay.png")}})}),(0,d.jsx)(n.Text,{style:l.styles.mt120,align:"center",type:"sub",children:"(上面是支付宝，长按可使用浏览器打开)"}),(0,d.jsx)(n.Text,{style:l.styles.mt120,align:"center",type:"sub",children:"(下面是微信，长按可使用浏览器打开)"}),(0,d.jsx)(n.Flex,{style:l.styles.mt120,justify:"center",children:(0,d.jsx)(n.Image,{size:240,height:295,src:s("./src/assets/images/qr/wx.png"),onLongPress:function(){return(0,i.open)("https://p.sda1.dev/6/0ab83a02772a88ccb3d687d311f0e033/wx.png")}})})]})]})]})})}},"./src/screens/user/qiafan/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts")._.create({mt80:{marginTop:80},mt120:{marginTop:120,marginBottom:20},mt160:{marginTop:160},mv20:{marginVertical:20}});t.styles=s},"./src/screens/user/setting/block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/user/setting/block/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var e=e.children,t=(0,i.memoStyles)();return(0,a.jsx)(n.default,{style:(0,o.stl)(t.block,1<(null==e?void 0:e.length)&&t.padding),children:e})});t.default=s;try{block.displayName="block",block.__docgenInfo={description:"",displayName:"block",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/block/index.tsx#block"]={docgenInfo:block.__docgenInfo,name:"block",path:"src/screens/user/setting/block/index.tsx#block"})}catch(e){}},"./src/screens/user/setting/block/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{block:{marginVertical:r._.sm,marginHorizontal:r._.wind,backgroundColor:r._.select(r._.colorPlain,r._.colorBg),borderRadius:r._.radiusMd,overflow:"hidden"},padding:{paddingBottom:r._.sm}}});t.memoStyles=s},"./src/screens/user/setting/blocks/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={blocks:{hd:"屏蔽"}}},"./src/screens/user/setting/blocks/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),d=s("./src/utils/hooks/index.ts"),u=r(s("./src/screens/rakuen/setting/blocks/index.tsx")),c=s("./src/screens/user/setting/utils.ts"),m=s("./src/screens/user/setting/blocks/ds.ts"),f=s("./node_modules/react/jsx-runtime.js");function n(e){var s=e.navigation,t=e.filter,e=(0,d.useBoolean)(!1),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,c.getShows)(t,m.TEXTS);return(0,d.useObserver)(function(){return i?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.ItemSetting,{hd:"屏蔽",arrow:!0,highlight:!0,filter:t,onPress:n}),(0,f.jsx)(a.ActionSheet,{show:r,title:"屏蔽",height:760,onClose:o,children:(0,f.jsx)(u.default,{navigation:s,onNavigate:function(e,t){o(),setTimeout(function(){s.push(e,t)},240)}})})]}):null})}t.default=n;try{n.displayName="Blocks",n.__docgenInfo={description:"",displayName:"Blocks",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/blocks/index.tsx#Blocks"]={docgenInfo:n.__docgenInfo,name:"Blocks",path:"src/screens/user/setting/blocks/index.tsx#Blocks"})}catch(e){}},"./src/screens/user/setting/cdn/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.URL_ONEDRIVE=t.URL_LAIN_NEW=t.URL_LAIN=t.URL_JSDELIVR=t.URL_FASTLY=t.TEXTS=t.IMG_WIDTH=t.IMG_HEIGHT=void 0;var s=s("./src/stores/index.ts"),r=(t.URL_LAIN="https://lain.bgm.tv/pic/cover/c/fa/1d/25833_kZIjD.jpg",t.URL_LAIN_NEW="https://lain.bgm.tv/pic/cover/c/ff/e5/327606_Q11Sq.jpg","https://cdn.jsdelivr.net/gh/czy0729/Bangumi-OSS@master/data/subject/c/t/TfOdAB.jpg"),r=(t.URL_JSDELIVR=r).replace("cdn","fastly"),r=(t.URL_FASTLY=r,t.URL_ONEDRIVE="https://bangumi.stdcdn.com/subject/c/t/TfOdAB.jpg",Math.floor((s._.window.contentWidth-2*s._.sm)/3)),s=(t.IMG_WIDTH=r,Math.floor(1.44*r));t.IMG_HEIGHT=s;t.TEXTS={cover:{setting:{title:"封面加速",information:"使用特定 CDN 域名加速访问，切换后可能需要重新启动才能生效"},lain:{title:"lain.bgm.tv",information:"不使用加速\n稳定但没清晰加成"},magma:{title:"Magma",information:"条件开放，支持试用中\n@magma 提供的高速付费域"}},test:{title:"测试",information:"有 ms 并不代表能顺利加载，只是 ping 后立马返回结果的时间"},deprecated:{setting:{title:"旧版本域"},jsDelivr:{title:"jsDelivr",information:"免费开放\n目前可能已失效"},oneDrive:{title:"OneDrive",information:"已失效\n请尽快设置到别的域"},fastly:{title:"fastly",information:"免费开放\n目前可能已失效"}},cdnAvatarV2:{hd:"头像加速",information:"若你经常碰到部分用户头像一直加载不出来，可尝试启用此高速付费域，原理同封面加速"},iOSImageCache:{hd:"iOS 使用系统默认图片缓存策略",information:"警告：此选项仅建议部分加载不到图片的 iOS 设备开启，若您的设备图片能正常加载请勿开启，开启后可能会导致图片每次都进行网络请求，切换后需要重新冷启动才能生效"},imageSkeleton:{hd:"图片加载动画",information:"部分手机显示骨架屏动画卡顿，可尝试关闭提升流畅度"}}},"./src/screens/user/setting/cdn/index.tsx":(e,t,s)=>{var h=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),g=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),x=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),_=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),b=s("./src/components/index.ts"),y=s("./src/components/image/image.web.tsx"),S=s("./src/screens/_/index.ts"),v=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),o=s("./src/utils/hooks/index.ts"),O=s("./src/utils/fetch/index.ts"),w=s("./src/constants/index.ts"),i=s("./src/screens/user/setting/utils.ts"),I=r(s("./src/screens/user/setting/styles.ts")),C=s("./src/screens/user/setting/cdn/ds.ts"),k=s("./node_modules/react/jsx-runtime.js");function a(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(a=function(e){return e?s:t})(e))}function l(e){var a=e.navigation,l=e.filter,e=(0,o.useBoolean)(!1),d=e.state,u=e.setTrue,c=e.setFalse,e=(0,n.useState)(!1),e=(0,x.default)(e,2),m=e[0],f=e[1],e=(0,n.useState)({}),e=(0,x.default)(e,2),p=e[0],s=e[1],j=((0,n.useEffect)(function(){var e,t;m&&!Object.keys(p).length&&(e=function(){return(e=(0,g.default)(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.ping)(C.URL_LAIN);case 2:return t.lain=e.sent,e.next=5,(0,O.ping)((0,w.CDN_OSS_MAGMA_POSTER)(C.URL_LAIN));case 5:t.magma=e.sent,s(t);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},t={},function(){e.apply(this,arguments)}())},[m]),(0,i.getShows)(l,C.TEXTS));return(0,o.useObserver)(function(){var r,e,n,t,s,o,i;return j?(i=v.systemStore.setting,r=i.cdn,e=i.cdnOrigin,n=i.cdnAvatarV2,t=i.imageSkeleton,s=i.iosImageCacheV2,o=w.MODEL_SETTING_CDN_ORIGIN.getLabel(e),i=[],r||i.push("关闭"),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(S.ItemSetting,{hd:"图片",ft:(0,k.jsx)(b.Text,{type:"sub",size:15,children:i.join("、")}),arrow:!0,highlight:!0,filter:l,onPress:u}),(0,k.jsxs)(b.ActionSheet,{show:d,title:"图片",height:l?400:640,onClose:c,children:[(0,k.jsxs)(S.ItemSettingBlock,Object.assign({style:v._.mt.sm,show:!w.STORYBOOK&&j.cover,filter:l,align:"start"},C.TEXTS.cover.setting,{children:[(0,k.jsx)(S.ItemSettingBlock.Item,Object.assign({active:!r,filter:l,onPress:(0,g.default)(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:(0,O.t)("设置.切换",{title:"CDN加速",checked:!r,origin:"lain.bgm.tv"}),v.systemStore.switchSetting("cdn"),setTimeout(function(){(0,y.clearCache)()},0);case 5:case"end":return e.stop()}},e)}))},C.TEXTS.cover.lain)),(0,k.jsx)(S.ItemSettingBlock.Item,Object.assign({style:v._.ml.md,active:r&&"magma"===o,filter:l,onPress:(0,g.default)(h.mark(function e(){var t,s;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"magma"===o)return e.abrupt("return");e.next=2;break;case 2:if(v.systemStore.advance){e.next=5;break}return(0,T.confirm)("此域名对达到条件的高级会员开放，当前开放试用，10 分钟后或下次启动后会还原，是否试用？",function(){r||v.systemStore.switchSetting("cdn"),v.systemStore.setSetting("cdnOrigin",w.MODEL_SETTING_CDN_ORIGIN.getValue("magma")),setTimeout(function(){v.systemStore.resetCDN()&&(0,T.info)("CDN 试用结束")},6e5),(0,O.t)("其他.试用CDN",{id:v.userStore.myId})}),e.abrupt("return");case 5:return e.next=7,v.systemStore.fetchAdvanceDetail();case 7:1!=(t=e.sent)?e.next=12:((0,T.info)("你是老打赏用户或特殊关照会员，允许开启"),e.next=16);break;case 12:if(s=String(t).split("|"),s=(0,x.default)(s,2),s=s[1],Number(s||0)<w.ADVANCE_CDN)return(0,T.info)("历史打赏为 "+s+"，不足条件 "+w.ADVANCE_CDN),e.abrupt("return");e.next=16;break;case 16:(0,O.t)("设置.切换",{title:"CDN加速",checked:!r,origin:"magma"}),r||v.systemStore.switchSetting("cdn"),v.systemStore.setSetting("cdnOrigin",w.MODEL_SETTING_CDN_ORIGIN.getValue("magma")),setTimeout(function(){(0,y.clearCache)()},0);case 20:case"end":return e.stop()}},e)}))},C.TEXTS.cover.magma)),(0,k.jsx)(_.default,{style:v._.ml.xs,children:(0,k.jsx)(S.IconTouchable,{name:"md-info-outline",size:18,onPress:function(){c(),setTimeout(function(){a.push("Information",{title:"关于 Magma ",message:["此域名为用户 @magma 提供，支持非 NSFW 封面图（NSFW 会回滚到 bgm），并自带缩放压缩、webp、稳定CDN加速。","作者与其达成了约定，因流量是需要自费的，目前仅对历史打赏达到 ["+w.ADVANCE_CDN+"元] 的高级会员开放测试，恳请谅解。","科普: 目前 OSS 1G 的费用因有各种回流等策略，资费不低于 0.2 元，1 个用户首次访问 10-20 个路径的页面，封面图可能会产生 50-100MB 的流量。","为什么需要？因官方图片第二档质量不够清晰，而最高质量又过大，如果直接使用最大图片，一来会浪费大量流量，二来就算手机再强也会随着程序使用而崩溃。","PS: 若漏算了历史打赏金额的，可私信作者修正。"]})},240)}})}),(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"CDN加速"})]})),(0,k.jsx)(S.ItemSettingBlock,Object.assign({show:!w.STORYBOOK&&j.test,style:v._.mt.md,filter:l},C.TEXTS.test,{children:m?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.Flex.Item,{children:(0,k.jsxs)(b.Flex,{style:v._.container.block,direction:"column",justify:"center",children:[(0,k.jsx)(S.Cover,{size:C.IMG_WIDTH,height:C.IMG_HEIGHT,src:C.URL_LAIN,cdn:!1,radius:!0}),(0,k.jsxs)(b.Highlight,{style:v._.mt.sm,type:"sub",size:10,align:"center",value:l,children:["不使用: ",p.lain||0,"ms"]})]})}),(0,k.jsx)(b.Flex.Item,{style:v._.ml.md,children:(0,k.jsxs)(b.Flex,{style:v._.container.block,direction:"column",justify:"center",children:[(0,k.jsx)(S.Cover,{size:C.IMG_WIDTH,height:C.IMG_HEIGHT,src:(0,w.CDN_OSS_MAGMA_POSTER)(C.URL_LAIN),radius:!0}),(0,k.jsxs)(b.Text,{style:v._.mt.sm,type:"sub",size:10,align:"center",children:["Magma: ",p.magma||0,"ms"]})]})}),(0,k.jsx)(b.Flex.Item,{style:v._.ml.md})]}):(0,k.jsxs)(b.Text,{style:I.default.test,size:12,type:"sub",onPress:function(){return f(!0)},children:["各资源域的图片质量和访问速度，",(0,k.jsx)(b.Text,{size:12,type:"warning",children:"点击测试"})]})})),(0,k.jsx)(S.ItemSetting,Object.assign({show:!w.STORYBOOK&&j.cdnAvatarV2,ft:(0,k.jsx)(b.SwitchPro,{style:I.default.switch,value:n,onAsyncPress:(0,g.default)(h.mark(function e(){var t,s;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.systemStore.advance){e.next=3;break}return(0,T.info)("此为高级会员功能"),e.abrupt("return");case 3:return e.next=5,v.systemStore.fetchAdvanceDetail();case 5:1!=(t=e.sent)?e.next=10:((0,T.info)("你是老打赏用户或特殊关照会员，允许开启"),e.next=14);break;case 10:if(s=String(t).split("|"),s=(0,x.default)(s,2),s=s[1],Number(s||0)<w.ADVANCE_CDN)return(0,T.info)("历史打赏为 "+s+"，不足条件 "+w.ADVANCE_CDN),e.abrupt("return");e.next=14;break;case 14:(0,O.t)("设置.切换",{title:"头像加速",checked:!n}),v.systemStore.switchSetting("cdnAvatarV2");case 16:case"end":return e.stop()}},e)}))}),filter:l},C.TEXTS.cdnAvatarV2,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"头像加速"})})),(0,k.jsx)(S.ItemSetting,Object.assign({show:j.imageSkeleton,ft:(0,k.jsx)(b.SwitchPro,{style:I.default.switch,value:t,onSyncPress:function(){(0,O.t)("设置.切换",{title:"图片加载动画",checked:!t}),v.systemStore.switchSetting("imageSkeleton")}}),filter:l},C.TEXTS.imageSkeleton,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"图片加载动画"})})),w.IOS&&(0,k.jsx)(S.ItemSetting,Object.assign({show:j.iOSImageCache,ft:(0,k.jsx)(b.SwitchPro,{style:I.default.switch,value:s,onSyncPress:function(){(0,O.t)("设置.切换",{title:"默认图片缓存策略",checked:!s}),v.systemStore.switchSetting("iosImageCacheV2")}}),filter:l},C.TEXTS.iOSImageCache,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"默认图片缓存策略"})}))]})]})):null})}t.default=l;try{l.displayName="CDN",l.__docgenInfo={description:"",displayName:"CDN",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/cdn/index.tsx#CDN"]={docgenInfo:l.__docgenInfo,name:"CDN",path:"src/screens/user/setting/cdn/index.tsx#CDN"})}catch(e){}},"./src/screens/user/setting/contact/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={say:{hd:"反馈",information:"欢迎提BUG提需求"},qiafan:{search:"关于, 投食"},advance:{hd:"赞助者"}}},"./src/screens/user/setting/contact/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/utils/fetch/index.ts"),d=s("./src/constants/index.ts"),u=s("./src/screens/user/setting/utils.ts"),c=s("./src/screens/user/setting/contact/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");function f(e){var t=e.navigation,s=e.filter,r=(0,u.getShows)(s,c.TEXTS);return(0,a.useObserver)(function(){return r?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.ItemSetting,Object.assign({show:r.say,arrow:!0,filter:s,highlight:!0,onPress:function(){(0,l.t)("设置.跳转",{to:"Say"}),t.push("Say",{id:d.APP_ID_SAY_DEVELOP,sayId:d.APP_ID_SAY_DEVELOP})}},c.TEXTS.say,{children:(0,m.jsx)(n.Heatmap,{id:"设置.跳转",to:"Say",alias:"吐槽"})})),(0,m.jsx)(o.ItemSetting,{show:r.qiafan,hd:i.userStore.isLimit?"关于":"投食🍚",arrow:!0,highlight:!0,information:i.systemStore.advance&&"已收到巨款，您已成为高级会员，感谢支持",informationType:"success",filter:s,ft:"23-04-20",onPress:function(){(0,l.t)("设置.跳转",{to:"Qiafan"}),t.push("Qiafan")},children:(0,m.jsx)(n.Heatmap,{id:"设置.跳转",to:"Qiafan",alias:"投食"})}),(0,m.jsx)(o.ItemSetting,Object.assign({show:r.advance,arrow:!0,highlight:!0,filter:s},c.TEXTS.advance,{onPress:function(){(0,l.t)("设置.跳转",{to:"Sponsor"}),t.push("Sponsor")},children:(0,m.jsx)(n.Heatmap,{id:"设置.跳转",to:"Sponsor",alias:"赞助者"})}))]}):null})}t.default=f;try{f.displayName="Contact",f.__docgenInfo={description:"",displayName:"Contact",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/contact/index.tsx#Contact"]={docgenInfo:f.__docgenInfo,name:"Contact",path:"src/screens/user/setting/contact/index.tsx#Contact"})}catch(e){}},"./src/screens/user/setting/custom/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={cnFirst:{title:"优先中文",information:"条目名称会尽可能匹配中文名"},heatMap:{title:"章节讨论热力图",information:"按钮下方不同透明度橙色条块，可快速了解讨论激烈程度"},openInfo:{hd:"打开外部浏览器前复制网址",information:"开启会先停顿 300ms 再进行跳转"},s2t:{hd:"繁体"},hideScore:{hd:"隐藏评分"},filterDefault:{hd:"屏蔽无头像用户相关信息"},filter18x:{hd:"屏蔽敏感内容",information:"条目、小组、时间胶囊、排行榜等，因站规对于 NSFW 不返回数据，建议注册少于 3 个月的用户开启"}}},"./src/screens/user/setting/custom/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./src/components/index.ts"),h=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts"),x=s("./src/utils/fetch/index.ts"),_=s("./src/screens/user/setting/utils.ts"),b=r(s("./src/screens/user/setting/styles.ts")),y=s("./src/screens/user/setting/custom/ds.ts"),S=s("./src/screens/user/setting/custom/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");function o(e){var d=e.filter,e=(0,n.useBoolean)(!1),u=e.state,c=e.setTrue,m=e.setFalse,f=(0,_.getShows)(d,y.TEXTS);return(0,n.useObserver)(function(){var e,t,s,r,n,o,i,a,l;return f?(e=(0,S.memoStyles)(),t=g.systemStore.setting,s=t.s2t,r=t.hideScore,n=t.openInfo,o=t.cnFirst,i=t.heatMap,a=t.filterDefault,l=t.filter18x,(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h.ItemSetting,{hd:"定制",arrow:!0,highlight:!0,filter:d,onPress:c}),(0,v.jsxs)(j.ActionSheet,{show:u,title:"定制",height:d?400:760,onClose:m,children:[(0,v.jsxs)(h.ItemSettingBlock,Object.assign({show:f.cnFirst,style:g._.mt.sm,filter:d,thumb:(0,_.getYuqueThumbs)(["0/2022/png/386799/1661129866639-05608a0c-bc41-4065-b3c2-aa53bd63d327.png","0/2022/png/386799/1661129870321-251db53c-5a80-4d99-a32b-a31749c40b27.png"])},y.TEXTS.cnFirst,{children:[(0,v.jsx)(h.ItemSettingBlock.Item,{title:"开启",active:o,filter:d,onPress:function(){o||((0,x.t)("设置.切换",{title:"优先中文",checked:!o}),g.systemStore.switchSetting("cnFirst"))},children:(0,v.jsxs)(j.Text,{style:g._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,v.jsx)(j.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女小圆"})]})}),(0,v.jsx)(h.ItemSettingBlock.Item,{style:g._.ml.md,title:"关闭",active:!o,filter:d,onPress:function(){o&&((0,x.t)("设置.切换",{title:"优先中文",checked:!o}),g.systemStore.switchSetting("cnFirst"))},children:(0,v.jsxs)(j.Text,{style:g._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,v.jsx)(j.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女まどか☆マギカ"})]})}),(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"优先中文"})]})),(0,v.jsxs)(h.ItemSettingBlock,Object.assign({show:f.heatMap,style:g._.mt.sm,filter:d,thumb:(0,_.getYuqueThumbs)(["0/2022/png/386799/1661129933349-1237edae-2c52-4724-bcb9-ff0ae77b3dfe.png","0/2022/png/386799/1661129928244-485360af-e293-4573-ad60-680a5b5b9c38.png"])},y.TEXTS.heatMap,{children:[(0,v.jsx)(h.ItemSettingBlock.Item,{title:"开启",active:i,filter:d,onPress:function(){i||((0,x.t)("设置.切换",{title:"章节讨论热力图",checked:!i}),g.systemStore.switchSetting("heatMap"))},children:(0,v.jsxs)(j.Flex,{style:g._.mt.sm,children:[(0,v.jsxs)(p.default,{children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"1"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar3]})]}),(0,v.jsxs)(p.default,{style:g._.ml.xs,children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"2"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar2]})]}),(0,v.jsxs)(p.default,{style:g._.ml.xs,children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"3"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar1]})]})]})}),(0,v.jsx)(h.ItemSettingBlock.Item,{style:g._.ml.md,title:"关闭",active:!i,filter:d,onPress:function(){i&&((0,x.t)("设置.切换",{title:"章节讨论热力图",checked:!i}),g.systemStore.switchSetting("heatMap"))},children:(0,v.jsxs)(j.Flex,{style:g._.mt.sm,children:[(0,v.jsxs)(p.default,{children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"1"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar0]})]}),(0,v.jsxs)(p.default,{style:g._.ml.xs,children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"2"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar0]})]}),(0,v.jsxs)(p.default,{style:g._.ml.xs,children:[(0,v.jsx)(j.Button,{type:"ghostPlain",size:"sm",children:"3"}),(0,v.jsx)(p.default,{style:[e.bar,e.bar0]})]})]})}),(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"章节讨论热力图"})]})),(0,v.jsx)(h.ItemSetting,Object.assign({show:f.s2t,ft:(0,v.jsx)(j.SwitchPro,{style:b.default.switch,value:s,onSyncPress:function(){(0,x.t)("设置.切换",{title:"繁体",checked:!s}),g.systemStore.switchSetting("s2t")}}),filter:d,thumb:(0,_.getYuqueThumbs)(["0/2022/png/386799/1661132384882-626c4647-44c6-4462-8f6a-6faf757590c0.png","0/2022/png/386799/1661132388033-f8d5e64b-be21-4712-9c87-e15f340e9b98.png"])},y.TEXTS.s2t,{children:(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"繁体"})})),(0,v.jsx)(h.ItemSetting,Object.assign({show:f.openInfo,ft:(0,v.jsx)(j.SwitchPro,{style:b.default.switch,value:n,onSyncPress:function(){(0,x.t)("设置.切换",{title:"复制网址",checked:!n}),g.systemStore.switchSetting("openInfo")}}),filter:d},y.TEXTS.openInfo,{children:(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"复制网址"})})),(0,v.jsx)(h.ItemSetting,Object.assign({show:f.hideScore,ft:(0,v.jsx)(j.SwitchPro,{style:b.default.switch,value:r,onSyncPress:function(){(0,x.t)("设置.切换",{title:"隐藏评分",checked:!r}),g.systemStore.switchSetting("hideScore")}}),filter:d,thumb:(0,_.getYuqueThumbs)(["0/2022/png/386799/1661132442436-448bd333-0fbc-4c7d-b411-044753cf9f47.png","0/2022/png/386799/1661132444558-4965411c-4319-4050-b63c-98a28a28ddb2.png"])},y.TEXTS.hideScore,{children:(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"隐藏评分"})})),(0,v.jsx)(h.ItemSetting,Object.assign({show:f.filterDefault,ft:(0,v.jsx)(j.SwitchPro,{style:b.default.switch,value:a,onSyncPress:function(){(0,x.t)("设置.切换",{title:"屏蔽默认头像用户相关信息",checked:!a}),g.systemStore.switchSetting("filterDefault")}}),filter:d,thumb:(0,_.getYuqueThumbs)(["0/2022/png/386799/1661132417052-63f81f6b-30ab-4da7-a31f-3a6c927847d6.png","0/2022/png/386799/1661132420774-00900fe7-99c8-4d8d-bdd7-a23a9f7fec07.png"])},y.TEXTS.filterDefault,{children:(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"屏蔽默认头像用户相关信息"})})),(0,v.jsx)(h.ItemSetting,Object.assign({show:f.filter18x,hd:"屏蔽敏感内容",ft:(0,v.jsx)(j.SwitchPro,{style:b.default.switch,value:l,onSyncPress:function(){(0,x.t)("设置.切换",{title:"屏蔽敏感内容",checked:!l}),g.systemStore.switchSetting("filter18x")}}),filter:d},y.TEXTS.filter18x,{children:(0,v.jsx)(j.Heatmap,{id:"设置.切换",title:"屏蔽敏感内容"})}))]})]})):null})}t.default=o;try{o.displayName="Custom",o.__docgenInfo={description:"",displayName:"Custom",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/custom/index.tsx#Custom"]={docgenInfo:o.__docgenInfo,name:"Custom",path:"src/screens/user/setting/custom/index.tsx#Custom"})}catch(e){}},"./src/screens/user/setting/custom/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{bar:{height:4,backgroundColor:r._.colorWarning,borderRadius:4},bar0:{opacity:0},bar1:{opacity:.2},bar2:{opacity:.4},bar3:{opacity:.9}}});t.memoStyles=s},"./src/screens/user/setting/danger-zone/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={logout:{hd:"退出登录"}}},"./src/screens/user/setting/danger-zone/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=r(s("./src/stores/index.ts")),a=s("./src/utils/hooks/index.ts"),l=s("./src/utils/fetch/index.ts"),d=s("./src/constants/index.ts"),u=r(s("./src/constants/i18n/index.ts")),c=s("./src/screens/user/setting/utils.ts"),m=s("./src/screens/user/setting/danger-zone/ds.ts"),f=s("./node_modules/react/jsx-runtime.js");function p(e){var t=e.navigation,s=e.filter,r=(0,c.getShows)(s,m.TEXTS);return(0,a.useObserver)(function(){return d.STORYBOOK||!r?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(o.ItemSetting,{show:r.logout,hd:(0,f.jsx)(n.Text,{type:"danger",size:16,bold:!0,children:u.default.logout()}),arrow:!0,highlight:!0,filter:s,onPress:function(){(0,l.t)("设置.退出登陆"),i.default.logout(t)},children:(0,f.jsx)(n.Heatmap,{id:"设置.退出登陆"})})})})}t.default=p;try{p.displayName="DangerZone",p.__docgenInfo={description:"",displayName:"DangerZone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/danger-zone/index.tsx#DangerZone"]={docgenInfo:p.__docgenInfo,name:"DangerZone",path:"src/screens/user/setting/danger-zone/index.tsx#DangerZone"})}catch(e){}},"./src/screens/user/setting/discovery/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={discoveryMenuNum:{hd:"菜单每行个数"},discoveryTodayOnair:{hd:"今日放送"},live2D:{hd:"看板娘 Live2D"},live2DVoice:{hd:"看板娘 Live2D 声音"}}},"./src/screens/user/setting/discovery/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts"),f=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),j=s("./src/screens/user/setting/utils.ts"),h=r(s("./src/screens/user/setting/styles.ts")),g=s("./src/screens/user/setting/discovery/ds.ts"),x=s("./node_modules/react/jsx-runtime.js");function o(e){var o=e.filter,e=e.open,e=(0,n.useBoolean)(void 0!==e&&e),i=e.state,a=e.setTrue,l=e.setFalse,d=(0,j.getShows)(o,g.TEXTS);return(0,n.useObserver)(function(){var e,t,s,r,n;return d?(e=m.systemStore.setting,t=e.discoveryMenuNum,s=e.discoveryTodayOnair,r=e.live2D,n=e.live2DVoice,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.ItemSetting,{hd:"发现",arrow:!0,highlight:!0,filter:o,onPress:a}),(0,x.jsxs)(u.ActionSheet,{show:i,title:"发现",onClose:l,children:[(0,x.jsx)(c.ItemSetting,Object.assign({show:d.discoveryMenuNum,ft:(0,x.jsx)(u.SegmentedControl,{style:h.default.segmentedControl,size:12,values:["4","5"],selectedIndex:4===t?0:1,onValueChange:function(e){e&&((0,f.t)("设置.切换",{title:"发现菜单个数",label:e}),m.systemStore.setSetting("discoveryMenuNum",4===t?5:4))}}),filter:o},g.TEXTS.discoveryMenuNum,{children:(0,x.jsx)(u.Heatmap,{id:"设置.切换",title:"菜单每行个数"})})),(0,x.jsx)(c.ItemSetting,Object.assign({show:!p.STORYBOOK&&d.live2D,ft:(0,x.jsx)(u.SwitchPro,{style:h.default.switch,value:r,onSyncPress:function(){(0,f.t)("设置.切换",{title:"看板娘 Live2D",checked:!r}),m.systemStore.switchSetting("live2D")}}),filter:o},g.TEXTS.live2D,{children:(0,x.jsx)(u.Heatmap,{id:"设置.切换",title:"看板娘 Live2D"})})),r&&(0,x.jsx)(c.ItemSetting,Object.assign({show:!p.STORYBOOK&&d.live2DVoice,ft:(0,x.jsx)(u.SwitchPro,{style:h.default.switch,value:n,onSyncPress:function(){(0,f.t)("设置.切换",{title:"看板娘 Live2D 声音",checked:!n}),m.systemStore.switchSetting("live2DVoice")}}),filter:o},g.TEXTS.live2DVoice,{children:(0,x.jsx)(u.Heatmap,{id:"设置.切换",title:"看板娘 Live2D 声音"})})),(0,x.jsx)(c.ItemSetting,Object.assign({show:d.discoveryTodayOnair,ft:(0,x.jsx)(u.SwitchPro,{style:h.default.switch,value:s,onSyncPress:function(){(0,f.t)("设置.切换",{title:"发现今日放送",checked:!s}),m.systemStore.switchSetting("discoveryTodayOnair")}}),filter:o},g.TEXTS.discoveryTodayOnair,{children:(0,x.jsx)(u.Heatmap,{id:"设置.切换",title:"发现今日放送"})}))]})]})):null})}t.default=o;try{o.displayName="Discovery",o.__docgenInfo={description:"",displayName:"Discovery",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}},open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/discovery/index.tsx#Discovery"]={docgenInfo:o.__docgenInfo,name:"Discovery",path:"src/screens/user/setting/discovery/index.tsx#Discovery"})}catch(e){}},"./src/screens/user/setting/home/custom-btn/btn.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/screens/user/setting/home/custom-btn/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.item,s=void 0!==(s=e.active)&&s,e=e.onPress,r=(0,l.memoStyles)();return t?(0,d.jsx)(o.Touchable,{style:(0,a.stl)(r.btn,s&&r.btnActive),onPress:e,children:(0,d.jsxs)(o.Flex,{style:r.btn,direction:"column",justify:"center",children:[(0,d.jsx)(o.Flex,{style:r.icon,justify:"center",children:t.text?(0,d.jsx)(o.Text,{style:i._.mb.xs,size:Math.floor(.9*(t.size||24)),bold:!0,children:t.text}):(0,d.jsx)(o.Iconfont,{style:i._.mb.xs,name:t.icon,color:i._.colorDesc,size:Math.floor(.9*(t.size||24))})}),(0,d.jsx)(o.Text,{size:10,bold:!0,children:t.name})]})}):(0,d.jsx)(n.default,{style:r.btn})});t.default=s;try{btn.displayName="btn",btn.__docgenInfo={description:"",displayName:"btn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/home/custom-btn/btn.tsx#btn"]={docgenInfo:btn.__docgenInfo,name:"btn",path:"src/screens/user/setting/home/custom-btn/btn.tsx#btn"})}catch(e){}},"./src/screens/user/setting/home/custom-btn/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),c=s("./src/components/index.ts"),m=s("./src/utils/hooks/index.ts"),f=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),p=s("./src/screens/discovery/index/ds.ts"),j=r(s("./src/screens/user/setting/home/custom-btn/btn.tsx")),h=s("./src/screens/user/setting/home/custom-btn/styles.ts"),g=s("./src/utils/fetch/index.ts"),x=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}var _=Object.keys(p.MENU_MAP).filter(function(e){var e=p.MENU_MAP[e]||{},t=!0;return(t=n.IOS?!1!==e.ios:t)&&"Open"!==e.key}),b={name:"不设置",icon:"md-do-not-disturb-alt"},y="",S="";t.default=function(){var e=(0,u.useState)({key:"",setting:""}),n=(e=(0,d.default)(e,2))[0],o=e[1],i=(e=(0,m.useBoolean)(!1)).state,a=e.setTrue,l=e.setFalse;return(0,m.useObserver)(function(){var e=(0,h.memoStyles)(),t=f.systemStore.setting,s=t.homeTopLeftCustom,r=t.homeTopRightCustom;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(c.Flex,{style:e.btns,children:[(0,x.jsx)(j.default,{item:p.MENU_MAP[s]||b,onPress:function(){o({key:S=y=s||"",setting:"homeTopLeftCustom"}),a()}}),(0,x.jsx)(j.default,{item:p.MENU_MAP[r]||b,onPress:function(){o({key:S=y=r||"",setting:"homeTopRightCustom"}),a()}})]}),(0,x.jsxs)(c.ActionSheet,{show:i,height:440,onClose:function(){l(),y!==S&&((0,g.t)("设置.切换",{title:"右上角功能入口",value:n.setting+"|"+S}),S=y="")},children:[(0,x.jsx)(c.Text,{style:[f._.mt.sm,f._.mb.xs],bold:!0,align:"center",children:"选择一个功能作为入口"}),(0,x.jsxs)(c.Flex,{style:f._.mt.md,wrap:"wrap",justify:"center",children:[(0,x.jsx)(j.default,{item:{name:"不设置",icon:"md-do-not-disturb-alt"},active:""===n.key,onPress:function(){S="",o(Object.assign({},n,{key:""})),setTimeout(function(){f.systemStore.setSetting(n.setting,"")},40)}}),_.map(function(e){var t=p.MENU_MAP[e];return(0,x.jsx)(j.default,{item:t,active:n&&n.key===e,onPress:function(){S=t.key,o(Object.assign({},n,{key:t.key})),setTimeout(function(){f.systemStore.setSetting(n.setting,t.key)},40)}},t.key)}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{}),(0,x.jsx)(j.default,{})]})]})]})})}},"./src/screens/user/setting/home/custom-btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{btns:{paddingHorizontal:r._.xs,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},btn:{width:64,height:56,borderWidth:1,borderColor:"transparent",borderRadius:r._.radiusMd,overflow:"hidden"},btnActive:{borderColor:r._.colorSuccess},icon:{height:26}}});t.memoStyles=s},"./src/screens/user/setting/home/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.VALUES=t.TEXTS=t.HOME_SORTING_INFORMATION=t.HOME_COUNT_VIEW=void 0;var s=s("./src/constants/index.ts"),r={A:"4 / 12",B:"4 / 6 (12)",C:"4 / 12 (6)",D:"4 / 6 / 12"},n=(t.HOME_COUNT_VIEW=r,{APP:"当季放送 > 当季未看 > 未看 > 网页","放送":"放送中 > 明天放送 > 网页","网页":"与网页 bgm.tv 一致"}),o=(t.HOME_SORTING_INFORMATION=n,["全部","基本","隐藏"]),s=(t.VALUES=o,{homeLayout:{setting:{title:"布局"},list:{title:"列表"},grid:{title:"网格"}},homeListLimit:{hd:"列表最大显示"},homeGridCoverLayout:{hd:"封面形状",information:"开启网格布局时条目封面形状",search:s.SETTING_HOME_GRID_COVER_LAYOUT.map(function(e){return e.label}).join()},homeGridTitle:{hd:"条目下方显示标题"},homeGridEpAutoAdjust:{hd:"自动调整章节按钮大小",information:"因网格模式高度有限只够放 3 排按钮\n对章节较少的条目，按钮宽度自适应尽量铺满"},homeCountView:{title:"放送数字显示",information:"自定义显示组合\n例：4 代表看到，6 代表已放送，12 代表总集数",search:r},homeCustom:{hd:"右上角功能入口"},homeICS:{hd:"放送提醒菜单增加导出 ICS",information:"ICS 文件是一种以通用日历格式保存的日历文件，利于跨设备日程同步"},homeEpStartAtLastWathed:{hd:"长篇动画从最后看过开始显示"},homeSorting:{title:"排序",information:"若需要使当前没有能观看章节的番剧不靠前，建议打开下方的条目自动下沉设置",search:n},homeOrigin:{hd:"收藏项右侧菜单",information:"收藏项右侧按钮组显示菜单按钮\n全部 = 基本 (置顶、收起展开、提醒) + 源头数据菜单",search:o},homeOnAir:{hd:"一直显示放送时间",information:"不开启时只有在条目今天或者明天放送时才显示具体放送时间"},homeSortSink:{hd:"条目自动下沉",information:"当条目没有未观看的已放送章节时，自动下沉到底"},showGame:{hd:"游戏标签页",information:"首页收藏显示在玩的游戏"},homeFilter:{hd:"列表搜索框"}});t.TEXTS=s},"./src/screens/user/setting/home/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),y=s("./src/screens/_/index.ts"),S=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts"),v=s("./src/utils/fetch/index.ts"),T=s("./src/constants/index.ts"),O=s("./src/screens/user/setting/utils.ts"),w=r(s("./src/screens/user/setting/styles.ts")),I=s("./src/screens/user/setting/home/ds.ts"),C=r(s("./src/screens/user/setting/home/custom-btn/index.tsx")),k=s("./node_modules/react/jsx-runtime.js");function o(e){var j=e.filter,e=(0,n.useBoolean)(!1),h=e.state,g=e.setTrue,x=e.setFalse,_=(0,O.getShows)(j,I.TEXTS);return(0,n.useObserver)(function(){var e,t,s,r,n,o,i,a,l,d,u,c,m,f,p;return T.STORYBOOK||!_?null:(e=S.systemStore.setting,t=e.exportICS,s=e.homeCountView,r=e.homeEpStartAtLastWathed,n=e.homeFilter,o=e.homeGridCoverLayout,i=e.homeGridEpAutoAdjust,a=e.homeGridTitle,l=e.homeLayout,d=e.homeOnAir,u=e.homeOrigin,c=e.homeSortSink,m=e.homeSorting,f=e.showGame,p=T.MODEL_SETTING_HOME_LAYOUT.getValue("列表"),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(y.ItemSetting,{hd:"进度",arrow:!0,highlight:!0,filter:j,onPress:g}),(0,k.jsxs)(b.ActionSheet,{show:h,title:"进度",height:j?400:760,onClose:x,children:[(0,k.jsxs)(y.ItemSettingBlock,Object.assign({show:_.homeLayout,style:S._.mt.sm,filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661062359544-87e2ab4e-ca1f-4e7e-8efb-ccadf891ccc0.png","0/2022/png/386799/1661062365513-c52a1484-e585-48e9-b672-8a0c547543b4.png"])},I.TEXTS.homeLayout.setting,{children:[(0,k.jsx)(y.ItemSettingBlock.Item,Object.assign({icon:"md-menu",active:l===p,filter:j,onPress:function(){l!==p&&((0,v.t)("设置.切换",{title:"首页布局",label:"列表"}),S.systemStore.setHomeLayout("列表"))}},I.TEXTS.homeLayout.list)),(0,k.jsx)(y.ItemSettingBlock.Item,Object.assign({style:S._.ml.md,icon:"md-grid-view",active:l===T.MODEL_SETTING_HOME_LAYOUT.getValue("网格"),filter:j,onPress:function(){l!==T.MODEL_SETTING_HOME_LAYOUT.getValue("网格")&&((0,v.t)("设置.切换",{title:"首页布局",label:"网格"}),S.systemStore.setHomeLayout("网格"))}},I.TEXTS.homeLayout.grid)),(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"首页布局"})]})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeGridCoverLayout&&l!==p,ft:(0,k.jsx)(b.SegmentedControl,{style:w.default.segmentedControl,size:12,values:T.SETTING_HOME_GRID_COVER_LAYOUT.map(function(e){return e.label}),selectedIndex:T.SETTING_HOME_GRID_COVER_LAYOUT.findIndex(function(e){return e.value===o}),onValueChange:function(e){e&&((0,v.t)("设置.切换",{title:"封面形状",label:e}),S.systemStore.setSetting("homeGridCoverLayout",T.MODEL_SETTING_HOME_GRID_COVER_LAYOUT.getValue(e)))}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661062400888-2f305de2-9e5a-40ac-a878-1294c4de40fa.png","0/2022/png/386799/1661062406213-0d748359-9e14-41e3-88a2-eeea58a1617c.png"])},I.TEXTS.homeGridCoverLayout,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"封面形状"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeGridTitle&&l!==p,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:a,onSyncPress:function(){(0,v.t)("设置.切换",{title:"条目下方显示标题",checked:!a}),S.systemStore.switchSetting("homeGridTitle")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2023/png/386799/1678163227317-132cc2a7-cc59-4857-80e4-1f3514bc2b54.png","0/2023/png/386799/1678163282725-900bfed3-3d91-466e-ba92-cf62079b69bb.png"])},I.TEXTS.homeGridTitle,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"条目下方显示标题"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeGridEpAutoAdjust&&l!==p,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:i,onSyncPress:function(){(0,v.t)("设置.切换",{title:"自动调整章节按钮大小",checked:!i}),S.systemStore.switchSetting("homeGridEpAutoAdjust")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2023/png/386799/1678163227317-132cc2a7-cc59-4857-80e4-1f3514bc2b54.png","0/2023/png/386799/1678163234746-1e3952a5-73cc-495d-9e6a-6480f7d60b48.png"])},I.TEXTS.homeGridEpAutoAdjust,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"自动调整章节按钮大小"})})),(0,k.jsx)(y.ItemSetting,Object.assign({style:[S._.mt.sm,S._.mb.md],show:_.homeListLimit,ft:(0,k.jsx)(b.Text,{size:13,bold:!0,children:S.systemStore.advance?"当前 300 项":"当前 100 项"}),information:S.systemStore.advance?"非会员 100，网页版 25":"会员 300，网页版 25",filter:j},I.TEXTS.homeListLimit)),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeCustom,ft:(0,k.jsx)(C.default,{}),filter:j},I.TEXTS.homeCustom,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"右上角功能入口"})})),(0,k.jsxs)(y.ItemSettingBlock,Object.assign({show:_.homeCountView,style:S._.mt.sm,filter:j},I.TEXTS.homeCountView,{children:[T.SETTING_HOME_COUNT_VIEW.map(function(e,t){return(0,k.jsx)(y.ItemSettingBlock.Item,{style:!!t&&S._.ml.md,title:e.label,information:I.HOME_COUNT_VIEW[e.label],active:s===e.value,filter:j,onPress:function(){s!==e.value&&((0,v.t)("设置.切换",{title:"放送数字显示",label:e.label}),S.systemStore.setHomeCountView(e.label))}})}),(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"放送数字显示"})]})),(0,k.jsxs)(y.ItemSettingBlock,Object.assign({show:_.homeSorting,style:S._.mt.sm,filter:j},I.TEXTS.homeSorting,{children:[T.SETTING_HOME_SORTING.map(function(e,t){return(0,k.jsx)(y.ItemSettingBlock.Item,{style:!!t&&S._.ml.sm,title:e.label,information:I.HOME_SORTING_INFORMATION[e.label],active:m===e.value,filter:j,onPress:function(){m!==e.value&&((0,v.t)("设置.切换",{title:"首页排序",label:e.label}),S.systemStore.setHomeSorting(e.label))}})}),(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"首页排序"})]})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeSortSink&&m!==T.MODEL_SETTING_HOME_SORTING.getValue("网页"),ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:c,onSyncPress:function(){(0,v.t)("设置.切换",{title:"自动下沉",checked:!c}),S.systemStore.switchSetting("homeSortSink")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661045651857-7de7e8b7-34ce-4810-b6bd-d61d35412124.png","0/2022/png/386799/1661045660979-be977cea-5eb2-45a7-8dd2-49ef4ec3966c.png"])},I.TEXTS.homeSortSink,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"自动下沉"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeOrigin&&!S.userStore.isLimit,ft:(0,k.jsx)(b.SegmentedControl,{style:w.default.segmentedControl,size:12,values:I.VALUES,selectedIndex:-1===u?2:u?0:1,onValueChange:function(e){(0,v.t)("设置.切换",{title:"显示搜索源头按钮",checked:!1!==u});e=e===I.VALUES[0]||e!==I.VALUES[1]&&-1;S.systemStore.setSetting("homeOrigin",e)}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661061347638-6ba991c5-b296-43e6-8d95-2b3c9da920ab.png","0/2022/png/386799/1661061354378-cc1ece33-5a8c-419c-8e05-8559106ffb9d.png","0/2022/png/386799/1661060959608-f312593f-5512-4b75-9060-c9b0071ed6ce.png"])},I.TEXTS.homeOrigin,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"显示搜索源头按钮"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeEpStartAtLastWathed,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:t,onSyncPress:function(){(0,v.t)("设置.切换",{title:"导出ICS",checked:!t}),S.systemStore.switchSetting("exportICS")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2023/png/386799/1675513866337-d4753afd-b998-4e5a-8955-faacfb3d9eae.png","0/2023/png/386799/1675513933249-3b66e0de-9c53-425d-a263-0e6047595196.png","0/2023/png/386799/1675513995664-4a1cfef0-66ed-47d5-8285-29df1534c1ee.png"])},I.TEXTS.homeICS,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"导出ICS"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeEpStartAtLastWathed,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:r,onSyncPress:function(){(0,v.t)("设置.切换",{title:"长篇动画从最后看过开始显示",checked:!r}),S.systemStore.switchSetting("homeEpStartAtLastWathed")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2023/png/386799/1673684120408-ee3db302-a9d2-41a3-bc53-56788d523839.png","0/2023/png/386799/1673684144406-ff53b877-e632-4c13-af16-b5daad4033ba.png"])},I.TEXTS.homeEpStartAtLastWathed,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"长篇动画从最后看过开始显示"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeOnAir,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:d,onSyncPress:function(){(0,v.t)("设置.切换",{title:"一直显示放送时间",checked:!d}),S.systemStore.switchSetting("homeOnAir")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661241773996-701bcab2-3841-4f04-be90-7fb7b6baaf6a.png","0/2022/png/386799/1661241775968-cd2588bb-32e4-46d9-b59e-786c82c46cd8.png"])},I.TEXTS.homeOnAir,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"一直显示放送时间"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.showGame,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:f,onSyncPress:function(){(0,v.t)("设置.切换",{title:"显示游戏",checked:!f}),S.systemStore.switchSetting("showGame")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661045149065-c6d393f9-8649-4239-a459-b9f8c99c3a50.png","0/2022/png/386799/1661045159272-5b09aea4-c609-4caa-b705-281d23026fa7.png"])},I.TEXTS.showGame,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"显示游戏"})})),(0,k.jsx)(y.ItemSetting,Object.assign({show:_.homeFilter,ft:(0,k.jsx)(b.SwitchPro,{style:w.default.switch,value:n,onSyncPress:function(){(0,v.t)("设置.切换",{title:"显示列表搜索框",checked:!n}),S.systemStore.switchSetting("homeFilter")}}),filter:j,thumb:(0,O.getYuqueThumbs)(["0/2022/png/386799/1661060312559-a94c0975-3b5e-4623-bfd2-9e00aedc4e59.png","0/2022/png/386799/1661060318569-a7c55607-7a61-489f-ae6a-7bad94a6bb41.png"])},I.TEXTS.homeFilter,{children:(0,k.jsx)(b.Heatmap,{id:"设置.切换",title:"显示列表搜索框"})}))]})]}))})}t.default=o;try{o.displayName="Home",o.__docgenInfo={description:"",displayName:"Home",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/home/index.tsx#Home"]={docgenInfo:o.__docgenInfo,name:"Home",path:"src/screens/user/setting/home/index.tsx#Home"})}catch(e){}},"./src/screens/user/setting/index.tsx":(r,e,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var s=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=H(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(t("./node_modules/react/index.js")),l=t("./src/components/index.ts"),d=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),c=t("./src/utils/index.ts"),m=t("./src/utils/hooks/index.ts"),f=s(t("./src/constants/i18n/index.ts")),p=s(t("./src/screens/user/setting/block/index.tsx")),j=s(t("./src/screens/user/setting/tip/index.tsx")),h=s(t("./src/screens/user/setting/version/index.tsx")),g=s(t("./src/screens/user/setting/zhinan/index.tsx")),x=s(t("./src/screens/user/setting/user/index.tsx")),_=s(t("./src/screens/user/setting/user-setting/index.tsx")),b=s(t("./src/screens/user/setting/rakuen/index.tsx")),y=s(t("./src/screens/user/setting/subject/index.tsx")),S=s(t("./src/screens/user/setting/discovery/index.tsx")),v=s(t("./src/screens/user/setting/timeline/index.tsx")),T=s(t("./src/screens/user/setting/theme/index.tsx")),O=s(t("./src/screens/user/setting/custom/index.tsx")),w=s(t("./src/screens/user/setting/ui/index.tsx")),I=s(t("./src/screens/user/setting/cdn/index.tsx")),C=s(t("./src/screens/user/setting/tinygrail/index.tsx")),k=s(t("./src/screens/user/setting/katakana/index.tsx")),R=s(t("./src/screens/user/setting/route/index.tsx")),E=s(t("./src/screens/user/setting/blocks/index.tsx")),P=s(t("./src/screens/user/setting/home/index.tsx")),A=s(t("./src/screens/user/setting/contact/index.tsx")),M=s(t("./src/screens/user/setting/storage/index.tsx")),D=s(t("./src/screens/user/setting/system/index.tsx")),z=s(t("./src/screens/user/setting/timezone/index.tsx")),N=s(t("./src/screens/user/setting/danger-zone/index.tsx")),L=t("./src/screens/user/setting/styles.ts"),F=t("./src/constants/index.ts"),B=t("./node_modules/react/jsx-runtime.js");function H(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(H=function(e){return e?s:t})(e))}e.default=function(e){var s=e.navigation,r=e.route,e=(0,a.useState)(""),e=(0,i.default)(e,2),n=e[0],o=e[1];return(0,m.useRunAfter)(function(){u.systemStore.fetchAdvance()}),(0,m.useObserver)(function(){var e=String(u.userStore.userCookie.userAgent).match(/(\d{10})/g),t=(null==r||null==(t=r.params)?void 0:t.open)||"";return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.Header,{title:f.default.setting(),alias:"设置",hm:["settings","Setting"]}),(0,B.jsxs)(l.Page,{style:u._.select(u._.container.bg,u._.container.plain),children:[(0,B.jsx)(d.NavigationBarEvents,{}),(0,B.jsxs)(l.ScrollView,{contentContainerStyle:L.styles.container,children:[(0,B.jsx)(p.default,{children:(0,B.jsx)(l.Input,{style:L.styles.input,placeholder:"搜索",defaultValue:n,onChangeText:o})}),(0,B.jsx)(p.default,{children:(0,B.jsx)(h.default,{filter:n})}),(0,B.jsxs)(p.default,{children:[(0,B.jsx)(j.default,{children:"基本"}),(0,B.jsx)(T.default,{navigation:s,filter:n}),(0,B.jsx)(w.default,{filter:n}),(0,B.jsx)(O.default,{filter:n}),(0,B.jsx)(I.default,{navigation:s,filter:n}),(0,B.jsx)(R.default,{filter:n}),(0,B.jsx)(E.default,{navigation:s,filter:n}),(0,B.jsx)(k.default,{navigation:s,filter:n})]}),(0,B.jsxs)(p.default,{children:[(0,B.jsx)(j.default,{children:"模块"}),(0,B.jsx)(P.default,{filter:n}),(0,B.jsx)(S.default,{filter:n,open:"Discovery"===t}),(0,B.jsx)(v.default,{filter:n}),(0,B.jsx)(b.default,{navigation:s,filter:n}),(0,B.jsx)(x.default,{filter:n}),(0,B.jsx)(_.default,{navigation:s,filter:n}),(0,B.jsx)(y.default,{filter:n}),(0,B.jsx)(C.default,{filter:n})]}),(0,B.jsxs)(p.default,{children:[(0,B.jsx)(j.default,{children:f.default.contact()}),(0,B.jsx)(A.default,{navigation:s,filter:n}),(0,B.jsx)(g.default,{navigation:s,filter:n})]}),(0,B.jsxs)(p.default,{children:[(0,B.jsx)(j.default,{children:"系统"}),(0,B.jsx)(M.default,{filter:n}),(0,B.jsx)(D.default,{navigation:s,filter:n}),(0,B.jsx)(z.default,{filter:n}),(0,B.jsx)(N.default,{navigation:s,filter:n})]}),!(null==e||!e[0])&&(0,B.jsxs)(l.Text,{style:u._.mt.xs,size:10,type:"icon",bold:!0,align:"center",children:["last logged on: ",(0,c.date)("y-m-d H:i",e[0]),", ",F.DEVICE_MODEL_NAME]}),(0,B.jsx)(l.Flex,{style:u._.mt.lg,justify:"center",children:(0,B.jsx)(d.IconTouchable,{style:L.styles.transparent,name:"md-more-horiz",onPress:function(){return s.push("DEV")}})})]})]})]})})};try{setting.displayName="setting",setting.__docgenInfo={description:"",displayName:"setting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ key: string; name: string; params: AnyObject; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/index.tsx#setting"]={docgenInfo:setting.__docgenInfo,name:"setting",path:"src/screens/user/setting/index.tsx#setting"})}catch(e){}},"./src/screens/user/setting/katakana/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={engine:{setting:{title:"翻译引擎"},baidu:{title:"百度翻译"},google:{title:"谷歌翻译",information:"规划中暂不可用"}},katakana:{title:"[实验性] 片假名终结者",information:"匹配日语片假名延迟翻译，翻译成功后在上方标注英文原词\n开启后资源消耗增大，非必要请勿开启"},cnFirst:{title:"优先中文",information:"若开启片假名终结者，建议还需要日语优先效果才会好"},origin:{hd:"源头",information:"给不同类型的条目，自定义通用跳转"},webhook:{hd:"Webhook",information:"影响用户时间线的操作，允许通知外部自定义接口"}}},"./src/screens/user/setting/katakana/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),m=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),j=s("./src/utils/hooks/index.ts"),h=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),x=s("./src/screens/user/setting/utils.ts"),_=s("./src/screens/user/setting/katakana/ds.ts"),b=s("./src/screens/user/setting/katakana/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var r=e.navigation,n=e.filter,e=(0,j.useBoolean)(!1),o=e.state,i=e.setTrue,a=e.setFalse,l=(0,u.useCallback)(function(){(0,h.t)("设置.切换",{title:"片假名终结者",checked:!p.systemStore.setting.katakana}),p.systemStore.switchSetting("katakana")},[]),d=(0,x.getShows)(n,_.TEXTS);return(0,j.useObserver)(function(){var e,t,s;return d?(e=p.systemStore.setting,t=e.katakana,s=e.cnFirst,(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(f.ItemSetting,{hd:"其他",arrow:!0,highlight:!0,filter:n,onPress:i,children:(0,y.jsx)(m.Heatmap,{id:"设置.切换",title:"片假名终结者"})}),(0,y.jsxs)(m.ActionSheet,{show:o,title:"其他",height:n?400:640,onClose:a,children:[(0,y.jsx)(f.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:n,onPress:function(){(0,h.t)("设置.跳转",{title:"自定义源头",to:"OriginSetting"}),a(),setTimeout(function(){r.push("OriginSetting")},80)}},_.TEXTS.origin,{children:(0,y.jsx)(m.Heatmap,{id:"设置.跳转",to:"OriginSetting",alias:"自定义源头"})})),(0,y.jsx)(f.ItemSetting,Object.assign({show:!g.STORYBOOK,arrow:!0,highlight:!0,filter:n,onPress:function(){(0,h.t)("设置.跳转",{title:"Webhook",to:"Webhook"}),a(),setTimeout(function(){r.push("Webhook")},80)}},_.TEXTS.webhook,{children:(0,y.jsx)(m.Heatmap,{id:"设置.跳转",to:"Webhook",alias:"Webhook"})})),(0,y.jsxs)(f.ItemSettingBlock,Object.assign({show:d.engine,style:p._.mt.md,filter:n},_.TEXTS.engine.setting,{children:[(0,y.jsx)(f.ItemSettingBlock.Item,Object.assign({active:!0,filter:n,onPress:function(){}},_.TEXTS.engine.baidu)),(0,y.jsx)(f.ItemSettingBlock.Item,Object.assign({style:p._.ml.md,active:!1,filter:n,onPress:function(){}},_.TEXTS.engine.google))]})),(0,y.jsxs)(f.ItemSettingBlock,Object.assign({show:d.katakana,style:p._.mt.sm,filter:n,thumb:(0,x.getYuqueThumbs)(["0/2022/png/386799/1661142420758-e002913c-f976-4a42-943b-5e106187fc29.png","0/2022/png/386799/1661142591445-037feac4-31c1-4418-a377-557d1843e1e7.png"])},_.TEXTS.katakana,{children:[(0,y.jsx)(f.ItemSettingBlock.Item,{title:"关闭",active:!t,filter:n,onPress:function(){t&&l()},children:(0,y.jsx)(m.Text,{style:p._.mt.sm,type:"sub",size:12,lineHeight:20,bold:!0,children:"魔法少女まどか☆マギカ"})}),(0,y.jsx)(f.ItemSettingBlock.Item,{style:p._.ml.md,title:"开启",active:t,filter:n,onPress:function(){t||l()},children:(0,y.jsx)(c.default,{style:p._.mt.sm,children:(0,y.jsx)(m.Katakana.Provider,{itemStyle:b.styles.katakana,size:12,lineHeight:20,active:!0,children:(0,y.jsx)(m.Katakana,{type:"sub",size:12,lineHeight:20,bold:!0,children:"魔法少女まどか☆マギカ"})})})})]})),(0,y.jsxs)(f.ItemSettingBlock,Object.assign({show:t&&d.cnFirst,style:p._.mt.sm,filter:n},_.TEXTS.cnFirst,{children:[(0,y.jsx)(f.ItemSettingBlock.Item,{title:"开启",active:s,filter:n,onPress:function(){s||((0,h.t)("设置.切换",{title:"优先中文",checked:!s}),p.systemStore.switchSetting("cnFirst"))},children:(0,y.jsxs)(m.Text,{style:p._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,y.jsx)(m.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女小圆"})]})}),(0,y.jsx)(f.ItemSettingBlock.Item,{style:p._.ml.md,title:"关闭",active:!s,filter:n,onPress:function(){s&&((0,h.t)("设置.切换",{title:"优先中文",checked:!s}),p.systemStore.switchSetting("cnFirst"))},children:(0,y.jsxs)(m.Text,{style:p._.mt.xs,type:"sub",size:11,lineHeight:13,align:"center",children:["看过 ep.1 始まりの物語","\n",(0,y.jsx)(m.Text,{type:"sub",size:11,lineHeight:13,underline:!0,children:"魔法少女まどか☆マギカ"})]})}),(0,y.jsx)(m.Heatmap,{id:"设置.切换",title:"优先中文"})]}))]})]})):null})}t.default=n;try{n.displayName="Katakana",n.__docgenInfo={description:"",displayName:"Katakana",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/katakana/index.tsx#Katakana"]={docgenInfo:n.__docgenInfo,name:"Katakana",path:"src/screens/user/setting/katakana/index.tsx#Katakana"})}catch(e){}},"./src/screens/user/setting/katakana/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts")._.create({katakana:{marginTop:-8}});t.styles=s},"./src/screens/user/setting/rakuen/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={rakuen:{hd:"超展开"}}},"./src/screens/user/setting/rakuen/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),a=s("./src/screens/user/setting/utils.ts"),l=s("./src/screens/user/setting/rakuen/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.navigation,e=e.filter;return(0,a.getShows)(e,l.TEXTS)?(0,d.jsx)(o.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:e,onPress:function(){(0,i.t)("设置.跳转",{title:"超展开",to:"RakuenSetting"}),t.push("RakuenSetting")}},l.TEXTS.rakuen,{children:(0,d.jsx)(n.Heatmap,{id:"设置.跳转",to:"RakuenSetting",alias:"超展开设置"})})):null});t.default=s;try{rakuen.displayName="rakuen",rakuen.__docgenInfo={description:"",displayName:"rakuen",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/rakuen/index.tsx#rakuen"]={docgenInfo:rakuen.__docgenInfo,name:"rakuen",path:"src/screens/user/setting/rakuen/index.tsx#rakuen"})}catch(e){}},"./src/screens/user/setting/route/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={blocks:{setting:"功能块",discovery:"发现",timeline:"时间胶囊",home:"进度",rakuen:"超展开",user:"时光机"},initialPage:{setting:"启动页",discovery:"发现",timeline:"时间胶囊",home:"进度",rakuen:"超展开",user:"时光机",tinygrail:"小圣杯"}}},"./src/screens/user/setting/route/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),f=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),j=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),o=s("./src/utils/hooks/index.ts"),x=s("./src/utils/fetch/index.ts"),_=s("./src/constants/index.ts"),b=s("./src/screens/user/setting/utils.ts"),y=s("./src/screens/user/setting/route/ds.ts"),S=s("./src/screens/user/setting/route/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function a(e){var i=e.filter,e=(0,o.useBoolean)(!1),a=e.state,l=e.setTrue,d=e.setFalse,u=(0,n.useCallback)(function(e){e&&((0,x.t)("设置.切换",{title:"首页功能块",label:e}),h.systemStore.setHomeRenderTabs(e))},[]),c=(0,n.useCallback)(function(e){e&&((0,x.t)("设置.切换",{title:"启动页",label:e}),h.systemStore.setInitialPage(e))},[]),m=(0,b.getShows)(i,y.TEXTS);return(0,o.useObserver)(function(){var e,t,s,r,n,o;return _.STORYBOOK||!m?null:(e=(0,S.memoStyles)(),o=(s=h.systemStore.setting).homeRenderTabs,t=s.initialPage,s=s.tinygrail,r=o.includes("Discovery"),n=o.includes("Timeline"),o=o.includes("Rakuen"),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j.ItemSetting,{hd:"底栏",arrow:!0,highlight:!0,filter:i,onPress:l}),(0,v.jsxs)(p.ActionSheet,{show:a,title:"底栏",onClose:d,children:[m.blocks&&(0,v.jsxs)(f.default,{style:e.blocks,children:[(0,v.jsx)(p.Highlight,{type:"title",size:16,bold:!0,value:i,children:y.TEXTS.blocks.setting}),(0,v.jsx)(p.Text,{style:h._.mt.sm,type:"sub",size:12,children:"点击切换是否显示，切换后需要重新启动才能生效"}),(0,v.jsxs)(p.Flex,{style:e.tabs,children:[(0,v.jsx)(p.Flex.Item,{children:(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return u("Discovery")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"home",color:r?h._.colorDesc:h._.colorIcon,size:18})}),(0,v.jsx)(p.Highlight,{type:r?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.blocks.discovery}),!r&&(0,v.jsx)(f.default,{style:e.disabledLine})]})})}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return u("Timeline")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"md-access-time",color:n?h._.colorDesc:h._.colorIcon,size:19})}),(0,v.jsx)(p.Highlight,{type:n?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.blocks.timeline}),!n&&(0,v.jsx)(f.default,{style:e.disabledLine})]})})}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return(0,g.info)("进度暂不允许关闭")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{style:e.iconStar,name:"md-star-outline",color:h._.colorDesc,size:21})}),(0,v.jsx)(p.Highlight,{size:11,bold:!0,value:i,children:y.TEXTS.blocks.home})]})})}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return u("Rakuen")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{style:h._.mt.xxs,name:"md-chat-bubble-outline",color:o?h._.colorDesc:h._.colorIcon,size:17})}),(0,v.jsx)(p.Highlight,{type:o?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.blocks.rakuen}),!o&&(0,v.jsx)(f.default,{style:e.disabledLine})]})})}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return(0,g.info)("时光机暂不允许关闭")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"md-person-outline",color:h._.colorDesc,size:21})}),(0,v.jsx)(p.Highlight,{size:11,bold:!0,value:i,children:y.TEXTS.blocks.user})]})})})]}),(0,v.jsx)(p.Heatmap,{id:"设置.切换",title:"首页功能块"})]}),m.initialPage&&(0,v.jsxs)(f.default,{style:e.blocks,children:[(0,v.jsx)(p.Highlight,{type:"title",size:16,bold:!0,value:i,children:y.TEXTS.initialPage.setting}),(0,v.jsxs)(p.Flex,{style:e.tabs,children:[(0,v.jsxs)(p.Flex.Item,{children:[(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return c("发现")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"home",color:r?h._.colorDesc:h._.colorIcon,size:18})}),(0,v.jsx)(p.Highlight,{type:r?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.initialPage.discovery})]})}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"Discovery"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]}),(0,v.jsxs)(p.Flex.Item,{children:[(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return c("时间胶囊")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"md-access-time",color:n?h._.colorDesc:h._.colorIcon,size:19})}),(0,v.jsx)(p.Highlight,{type:n?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.initialPage.timeline})]})}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"Timeline"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]}),(0,v.jsxs)(p.Flex.Item,{children:[(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return c("进度")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{style:e.iconStar,name:"md-star-outline",color:h._.colorDesc,size:21})}),(0,v.jsx)(p.Highlight,{size:11,bold:!0,value:i,children:y.TEXTS.initialPage.home})]})}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"Home"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]}),(0,v.jsxs)(p.Flex.Item,{children:[(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){return c("超展开")},children:(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{style:h._.mt.xxs,name:"md-chat-bubble-outline",color:o?h._.colorDesc:h._.colorIcon,size:17})}),(0,v.jsx)(p.Highlight,{type:o?void 0:"icon",size:11,bold:!0,value:i,children:y.TEXTS.initialPage.rakuen})]})}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"Rakuen"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsxs)(p.Touchable,{animate:!0,onPress:function(){return c("时光机")},children:[(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{name:"md-person-outline",color:h._.colorDesc,size:21})}),(0,v.jsx)(p.Highlight,{size:11,bold:!0,value:i,children:y.TEXTS.initialPage.timeline})]}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"User"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]})}),s&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.default,{style:e.split}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsxs)(p.Touchable,{animate:!0,onPress:function(){return c("小圣杯")},children:[(0,v.jsxs)(p.Flex,{style:e.tab,justify:"center",direction:"column",children:[(0,v.jsx)(f.default,{style:e.icon,children:(0,v.jsx)(p.Iconfont,{style:e.iconTrophy,name:"trophy",color:h._.colorDesc,size:16})}),(0,v.jsx)(p.Highlight,{size:11,bold:!0,value:i,children:y.TEXTS.initialPage.tinygrail})]}),(0,v.jsx)(p.Flex,{style:e.activeBar,justify:"center",children:"Tinygrail"===t&&(0,v.jsx)(f.default,{style:e.activeLine})})]})})]})]}),(0,v.jsx)(p.Heatmap,{id:"设置.切换",title:"启动页"})]})]})]}))})}t.default=a;try{a.displayName="Route",a.__docgenInfo={description:"",displayName:"Route",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/route/index.tsx#Route"]={docgenInfo:a.__docgenInfo,name:"Route",path:"src/screens/user/setting/route/index.tsx#Route"})}catch(e){}},"./src/screens/user/setting/route/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{blocks:{paddingHorizontal:r._.wind,paddingVertical:r._.md-2},tabs:{paddingHorizontal:r._.xs,marginTop:r._.md,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),borderRadius:r._.radiusSm,overflow:"hidden"},tab:{paddingTop:r._.sm+2,paddingBottom:r._.sm+4,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2)},icon:{height:24},iconStar:{marginTop:-1},iconTrophy:{marginTop:3},disabledLine:{position:"absolute",zIndex:1,top:5,bottom:4,width:5,backgroundColor:r._.select(r._.colorIcon,"#777"),borderLeftWidth:2,borderRightWidth:1,borderColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),transform:[{rotateZ:"45deg"}]},split:{width:1,height:20,marginHorizontal:2,backgroundColor:r._.select(r._.colorIcon,"#777"),borderRadius:r._.radiusSm,overflow:"hidden",opacity:.64},activeBar:{position:"absolute",zIndex:1,right:0,bottom:0,left:0},activeLine:{width:16,height:4,backgroundColor:r._.colorSuccess,borderRadius:r._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/user/setting/storage/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={clearStorage:{hd:"清除数据缓存",information:"推荐大于 10mb 或遇到数据不刷新等情况进行清除"},clearImages:{hd:"清除图片缓存"},clearAll:{hd:"清除全部缓存",information:"包括数据缓存和图片缓存"},iOSImageCache:{hd:"iOS 使用系统默认图片缓存策略",information:"警告：此选项仅建议部分加载不到图片的 iOS 设备开启，若您的设备图片能正常加载请勿开启，开启后可能会导致图片每次都进行网络请求，切换后需要重新冷启动才能生效"}}},"./src/screens/user/setting/storage/index.tsx":(e,t,s)=>{var m=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),p=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),j=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),h=r(s("./src/components/@/react-native-async-storage/index.js")),g=s("./src/components/index.ts"),x=s("./src/components/image/image.web.tsx"),_=s("./src/screens/_/index.ts"),b=r(s("./src/stores/index.ts")),y=s("./src/utils/index.ts"),S=s("./src/utils/fetch/index.ts"),v=s("./src/utils/hooks/index.ts"),T=r(s("./src/constants/i18n/index.ts")),O=s("./src/screens/user/setting/utils.ts"),w=s("./src/screens/user/setting/storage/ds.ts"),I=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var t=e.filter,e=(0,v.useBoolean)(!1),s=e.state,r=e.setTrue,n=e.setFalse,e=(0,j.useState)(""),e=(0,p.default)(e,2),o=e[0],i=e[1],a=(0,j.useCallback)((0,f.default)(m.mark(function e(){var t,s;return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.default.getAllKeys();case 3:return t=e.sent,e.next=6,h.default.multiGet(t);case 6:t=e.sent,s=0,t.forEach(function(e){s+=e[0].length+e[1].length}),i((0,y.toFixed)(s/1e3/1e3,1)+" mb"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Setting","caculateStorageSize",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),[]),l=(0,j.useCallback)(function(){(0,y.confirm)("清除所有数据"+T.default.cache()+"，确定?",(0,f.default)(m.mark(function e(){return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,S.t)("设置.清除缓存",{type:"storage"}),e.next=3,b.default.clearStorage();case 3:setTimeout(function(){(0,y.info)("已清除数据缓存"),a()},2400);case 4:case"end":return e.stop()}},e)})))},[a]),d=(0,j.useCallback)(function(){(0,y.confirm)("清除所有图片缓存，确定?",function(){(0,S.t)("设置.清除缓存",{type:"images"}),setTimeout(function(){(0,x.clearCache)(),(0,y.info)("已清除图片缓存")},0)})},[]),u=(0,j.useCallback)(function(){(0,y.confirm)("清除所有包括页面接口的数据"+T.default.cache()+" (若需清除图片"+T.default.cache()+"，请到系统里面清除应用数据)，确定?",(0,f.default)(m.mark(function e(){return m.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,S.t)("设置.清除缓存",{type:"all"}),e.next=3,b.default.clearStorage();case 3:(0,x.clearCache)(),setTimeout(function(){(0,y.info)("已清除"),a()},2400);case 5:case"end":return e.stop()}},e)})))},[a]),c=((0,v.useMount)(function(){a()}),(0,O.getShows)(t,w.TEXTS));return(0,v.useObserver)(function(){return c?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(_.ItemSetting,{hd:"缓存",arrow:!0,highlight:!0,filter:t,onPress:r}),(0,I.jsxs)(g.ActionSheet,{show:s,title:"缓存",onClose:n,children:[(0,I.jsx)(_.ItemSetting,Object.assign({show:c.clearStorage,ft:(0,I.jsx)(g.Text,{type:"sub",size:15,children:o}),arrow:!0,highlight:!0,filter:t,onPress:l},w.TEXTS.clearStorage,{hd:"清除数据"+T.default.cache(),children:(0,I.jsx)(g.Heatmap,{id:"设置.清除缓存"})})),(0,I.jsx)(_.ItemSetting,Object.assign({show:c.clearImages,arrow:!0,highlight:!0,filter:t,onPress:d},w.TEXTS.clearImages,{hd:"清除图片"+T.default.cache(),children:(0,I.jsx)(g.Heatmap,{id:"设置.清除缓存"})})),(0,I.jsx)(_.ItemSetting,Object.assign({show:c.clearAll,arrow:!0,highlight:!0,filter:t,onPress:u},w.TEXTS.clearAll,{hd:"清除全部"+T.default.cache(),children:(0,I.jsx)(g.Heatmap,{id:"设置.清除缓存"})}))]})]}):null})}t.default=n;try{n.displayName="Storage",n.__docgenInfo={description:"",displayName:"Storage",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/storage/index.tsx#Storage"]={docgenInfo:n.__docgenInfo,name:"Storage",path:"src/screens/user/setting/storage/index.tsx#Storage"})}catch(e){}},"./src/screens/user/setting/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.default=void 0;var s=s("./src/stores/index.ts"),r=s._.create({switch:{marginRight:-4,transform:[{scale:s._.device(.8,1.12)}]},segmentedControl:{height:s._.r(32),width:s._.r(180)},test:{marginTop:-8},acSearch:{paddingLeft:s._._wind,marginTop:s._.sm,marginBottom:s._.md},closePopablePlaceholder:{width:"100%",height:160}}),r=(t.default=r,s._.create({container:{paddingTop:s._.sm,paddingBottom:s._.md},transparent:{opacity:0},input:Object.assign({height:44,paddingVertical:0,paddingHorizontal:17},s._.fontSize16,{backgroundColor:"transparent"})}));t.styles=r},"./src/screens/user/setting/subject/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.VALUES_2=t.VALUES=t.THUMBS=t.TEXTS=t.DATA=void 0,r(s("./src/constants/i18n/index.ts"))),n={showRelation:"前传 / 续作",showEp:"章节",showTags:"标签",showSummary:"简介",showInfo:"详情",showThumbs:"预览图",showGameInfo:"游戏条目信息",showRating:"评分",showCharacter:"角色",showStaff:"制作人员",showAnitabi:"取景地标",showRelations:"关联条目",showCatalog:"目录",showRecent:"动态",showBlog:"日志",showTopic:"帖子",showLike:"猜你喜欢",showComic:"单行本",showComment:"吐槽"},s=(t.DATA=n,t.THUMBS={showRelation:["0/2022/png/386799/1661209910450-16b3c627-295f-40a1-a2ec-7870faeb4c1f.png","0/2022/png/386799/1661209913550-b4af7ba0-6a5c-4059-a041-b7be25d491a5.png"],showEp:["0/2022/png/386799/1661211756880-d0abf61a-fa43-4424-aa71-087e70ef1ded.png","0/2022/png/386799/1661211759613-21462348-9c11-4497-8fb4-1d7a742bca9c.png","0/2022/png/386799/1661211761597-084b3fd1-2032-416b-9afa-ab731cdeb2df.png"],showTags:["0/2022/png/386799/1661210180566-de6913da-25ae-4bbc-a43e-97c066945525.png"],showSummary:["0/2022/png/386799/1661210189925-bba17696-dd76-4586-81a8-25955f890ed6.png","0/2022/png/386799/1661210197003-59c8df25-c24a-481a-b7c6-66823e798013.png"],showInfo:["0/2022/png/386799/1661210396795-7bc8804d-6704-4f7e-b3d3-e059efcb46d5.png"],showThumbs:["0/2022/png/386799/1661210559030-e6ddfee6-c3ce-40b1-8bd4-eea33792a129.png","0/2022/png/386799/1661210561536-2bd8bc5f-e3b4-4445-89b8-91a099f5b24b.png","0/2022/png/386799/1661210564336-1ef74bcd-a15d-4ed6-bdef-d465ffa5cbe6.png"],showGameInfo:!1,showRating:["0/2022/png/386799/1661210404254-c11d15dd-bbcb-4bdd-a2eb-a5611ca29290.png"],showCharacter:["0/2022/png/386799/1661210775424-81389b5c-888d-4c7c-a51a-a9d5bb1f54cf.png"],showStaff:!1,showRelations:!1,showAnitabi:["0/2023/png/386799/1673548775309-cfad2c26-a0bf-4808-8846-7a4bc1a49ba8.png","0/2023/png/386799/1673565704431-39a95c3f-2911-4eff-bbbe-5f2862da9286.png"],showCatalog:["0/2022/png/386799/1661210861856-595c3ace-d109-4c01-a39e-712515e2a99e.png","0/2022/png/386799/1661211121070-5ab05df8-c5d3-460d-8535-72b1403cfae2.png"],showRecent:!1,showBlog:["0/2022/png/386799/1661210959469-bfe9246a-fba9-47a4-854e-c7ecb8756e7a.png"],showTopic:!1,showLike:["0/2022/png/386799/1661211415018-10587b5b-47fc-4cef-b17b-bafa2913b7f9.png"],showComic:["0/2022/png/386799/1661211873095-111ba1c2-19f5-475d-9bc8-e895b0de6d08.png"],showComment:["0/2022/png/386799/1661211511329-99bac0c2-44f1-4945-9db1-0e4af5238040.png"]},t.VALUES=["显示","折叠","隐藏"],t.VALUES_2=["显示","隐藏"],{showCount:{hd:"其他用户收藏数量",information:"站点所有用户各收藏状态计数"},showEpInput:{hd:"进度输入框",information:"批量快速操作章节看过，也可用于标记到没有录入的章节"},showCustomOnair:{hd:"自定义放送时间块",information:"收藏状态为在看的动画，章节的右下方，"+r.default.initial()+"值为线上放送时间，手动更改后首页收藏排序以此为准"},layout:{text:"页面布局",search:Object.keys(n).map(function(e){return n[e]}).join()}});t.TEXTS=s},"./src/screens/user/setting/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts"),u=s("./src/utils/fetch/index.ts"),c=r(s("./src/constants/i18n/index.ts")),m=s("./src/screens/user/setting/utils.ts"),f=r(s("./src/screens/user/setting/styles.ts")),p=s("./src/screens/user/setting/subject/ds.ts"),j=s("./node_modules/react/jsx-runtime.js");function o(e){var o=e.filter,e=(0,n.useBoolean)(!1),t=e.state,s=e.setTrue,r=e.setFalse,i=(0,m.getShows)(o,p.TEXTS);return(0,n.useObserver)(function(){var n;return i?(n=d.systemStore.setting,(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.ItemSetting,{hd:"条目",arrow:!0,highlight:!0,filter:o,onPress:s}),(0,j.jsxs)(a.ActionSheet,{show:t,title:"条目",height:o?400:760,onClose:r,children:[(0,j.jsx)(l.ItemSetting,Object.assign({show:i.showCount,ft:(0,j.jsx)(a.SegmentedControl,{style:f.default.segmentedControl,size:12,values:p.VALUES_2,selectedIndex:n.showCount?0:1,onValueChange:function(e){(0,u.t)("设置.切换",{title:"条目.其他用户收藏数量",label:e}),d.systemStore.setSetting("showCount","显示"===e)}}),filter:o,thumb:(0,m.getYuqueThumbs)(["0/2022/png/386799/1661209187428-25d8eb90-0a10-4ec6-9ac3-0e9512fd62d5.png"])},p.TEXTS.showCount,{children:(0,j.jsx)(a.Heatmap,{id:"设置.切换",title:"条目.其他用户收藏数量"})})),(0,j.jsx)(l.ItemSetting,Object.assign({show:i.showEpInput,ft:(0,j.jsx)(a.SegmentedControl,{style:f.default.segmentedControl,size:12,values:p.VALUES_2,selectedIndex:n.showEpInput?0:1,onValueChange:function(e){(0,u.t)("设置.切换",{title:"条目.进度输入框",label:e}),d.systemStore.setSetting("showEpInput","显示"===e)}}),filter:o,thumb:(0,m.getYuqueThumbs)(["0/2022/png/386799/1661209205559-20bb627c-a3bc-49ef-8ead-2e5b7e557ef3.png"])},p.TEXTS.showEpInput,{children:(0,j.jsx)(a.Heatmap,{id:"设置.切换",title:"条目.进度输入框"})})),(0,j.jsx)(l.ItemSetting,Object.assign({show:i.showCustomOnair,ft:(0,j.jsx)(a.SegmentedControl,{style:f.default.segmentedControl,size:12,values:p.VALUES_2,selectedIndex:n.showCustomOnair?0:1,onValueChange:function(e){(0,u.t)("设置.切换",{title:"条目.自定义放送时间块",label:e}),d.systemStore.setSetting("showCustomOnair","显示"===e)}}),filter:o,thumb:(0,m.getYuqueThumbs)(["0/2022/png/386799/1661209627915-8d0fe927-8c1e-4849-9993-d87df4ea5e6d.png","0/2022/png/386799/1661209631943-1d4861c5-396f-4641-9b72-c88148e2cafd.png"])},p.TEXTS.showCustomOnair,{information:"收藏状态为在看的动画，章节的右下方，"+c.default.initial()+"值为线上放送时间，手动更改后首页收藏排序以此为准",children:(0,j.jsx)(a.Heatmap,{id:"设置.切换",title:"条目.自定义放送时间块"})})),i.layout&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.Highlight,{style:[d._.container.wind,d._.mt.md,d._.mb.sm],type:"sub",size:12,lineHeight:13,value:o,children:p.TEXTS.layout.text}),Object.keys(p.DATA).map(function(t){var s=p.DATA[t],e=n[t],r=-1===e?2:e?0:1;return(0,j.jsx)(l.ItemSetting,{hd:s,ft:"showEp"===t||"showComic"===t?(0,j.jsx)(a.Text,{style:f.default.segmentedControl,bold:!0,align:"center",children:"此功能块不支持自定义"}):(0,j.jsx)(a.SegmentedControl,{style:f.default.segmentedControl,size:12,values:p.VALUES,selectedIndex:r,onValueChange:function(e){e&&e===p.VALUES[r]||((0,u.t)("设置.切换",{title:"条目."+s,label:e}),d.systemStore.setSetting(t,"显示"===e||"折叠"!==e&&-1))}}),filter:o,thumb:(0,m.getYuqueThumbs)(p.THUMBS[t]),children:(0,j.jsx)(a.Heatmap,{id:"设置.切换",title:"条目."+s})},t)})]})]})]})):null})}t.default=o;try{o.displayName="Subject",o.__docgenInfo={description:"",displayName:"Subject",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/subject/index.tsx#Subject"]={docgenInfo:o.__docgenInfo,name:"Subject",path:"src/screens/user/setting/subject/index.tsx#Subject"})}catch(e){}},"./src/screens/user/setting/system/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={setting:{setting:{title:"同步设置",information:"同步设置、超展开设置、自定义放送数据"},download:{title:"下载"},upload:{title:"上传"},reset:{title:"恢复默认"}},settingTopic:{hd:"同步收藏的帖子",information:"规划中暂不可用，当前均为自动同步，后续会改为手动"},serverStatus:{hd:"网络探针"}}},"./src/screens/user/setting/system/index.tsx":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),f=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),g=s("./src/utils/hooks/index.ts"),x=s("./src/utils/fetch/index.ts"),_=s("./src/utils/db/index.ts"),b=s("./src/constants/index.ts"),y=r(s("./src/constants/i18n/index.ts")),S=s("./src/screens/user/setting/utils.ts"),v=s("./src/screens/user/setting/system/ds.ts"),T=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var t=e.navigation,s=e.filter,e=(0,m.useState)(0),e=(0,c.default)(e,2),r=e[0],n=e[1],e=(0,g.useBoolean)(!1),o=e.state,i=e.setTrue,a=e.setFalse,l=((0,g.useMount)(function(){setTimeout((0,u.default)(d.mark(function e(){var t,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=j.userStore.userInfo.id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,_.read)({path:"setting/"+t+".json"});case 6:s=e.sent,null!=(s=s.content)&&s.length&&n(s.length),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,null,[[0,11]])})),2400)}),(0,S.getShows)(s,v.TEXTS));return(0,g.useObserver)(function(){return l?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(p.ItemSetting,{hd:"同步"+y.default.setting(),arrow:!0,highlight:!0,filter:s,onPress:i}),(0,T.jsxs)(f.ActionSheet,{show:o,title:"同步",onClose:a,children:[(0,T.jsxs)(p.ItemSettingBlock,{show:l.setting,style:j._.mt.sm,title:"同步"+y.default.setting(),information:"同步"+y.default.setting()+"、超展开"+y.default.setting()+"、自定义放送数据",filter:s,children:[(0,T.jsx)(p.ItemSettingBlock.Item,{icon:"md-ios-share",iconStyle:{transform:[{rotate:"180deg"}]},title:"下载",information:r?(r/1e3).toFixed(1)+" kb":(!j.userStore.isLogin||!j.userStore.userInfo.id)&&"需"+y.default.login(),filter:s,onPress:function(){if((0,x.t)("设置.恢复默认设置",{label:"下载"}),!j.userStore.isLogin||!j.userStore.userInfo.id)return(0,h.info)("下载需先"+y.default.login());setTimeout(function(){(0,h.confirm)("确定恢复到云端的设置?",(0,u.default)(d.mark(function e(){var t,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.loading)("下载设置(1/3)..."),e.next=3,j.systemStore.downloadSetting();case 3:return s=e.sent,t(),t=(0,h.loading)("超展开设置(2/3)..."),e.next=8,j.rakuenStore.downloadSetting();case 8:return t(),t=(0,h.loading)("自定义放送数据(3/3)"),e.next=12,j.calendarStore.downloadSetting();case 12:t(),(0,h.feedback)(),(0,h.info)(s?"已恢复":"下载设置失败");case 15:case"end":return e.stop()}},e)})))},160)}}),(0,T.jsx)(p.ItemSettingBlock.Item,{style:j._.ml.md,icon:"md-ios-share",title:"上传",information:(!j.userStore.isLogin||!j.userStore.userInfo.id)&&"需"+y.default.login(),filter:s,onPress:function(){if((0,x.t)("设置.恢复默认设置",{label:"上传"}),!j.userStore.isLogin||!j.userStore.userInfo.id)return(0,h.info)("上传需先"+y.default.login());setTimeout(function(){(0,h.confirm)("确定上传当前设置到云端?",(0,u.default)(d.mark(function e(){var t,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.loading)("上传设置(1/3)..."),e.next=3,j.systemStore.uploadSetting();case 3:return s=e.sent,t(),t=(0,h.loading)("超展开设置(2/3)..."),e.next=8,j.rakuenStore.uploadSetting();case 8:return t(),t=(0,h.loading)("自定义放送数据(3/3)"),e.next=12,j.calendarStore.uploadSetting();case 12:t(),(0,h.feedback)(),(0,h.info)(s?"已上传":"上传失败，云服务异常，请待作者修复");case 15:case"end":return e.stop()}},e)})))},160)}}),(0,T.jsx)(p.ItemSettingBlock.Item,{style:j._.ml.md,icon:"md-refresh",title:"恢复"+y.default.initial(),filter:s,onPress:function(){(0,x.t)("设置.恢复默认设置",{label:"恢复默认"}),setTimeout(function(){(0,h.confirm)("仅会恢复"+y.default.initial()+"设置，不包含超展开设置和自定义放送数据，确定?",function(){j.systemStore.resetSetting(),setTimeout(function(){(0,h.info)("已恢复")},160)})},160)}})]}),(0,T.jsx)(p.ItemSetting,Object.assign({show:l.settingTopic,filter:s},v.TEXTS.settingTopic))]}),(0,T.jsx)(p.ItemSetting,Object.assign({show:!b.STORYBOOK&&l.serverStatus,arrow:!0,highlight:!0,filter:s,onPress:function(){(0,x.t)("设置.跳转",{title:"网络探针",to:"ServerStatus"}),t.push("ServerStatus")}},v.TEXTS.serverStatus,{children:(0,T.jsx)(f.Heatmap,{id:"设置.跳转",to:"ServerStatus",alias:"网络探针"})}))]}):null})}t.default=n;try{n.displayName="System",n.__docgenInfo={description:"",displayName:"System",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/system/index.tsx#System"]={docgenInfo:n.__docgenInfo,name:"System",path:"src/screens/user/setting/system/index.tsx#System"})}catch(e){}},"./src/screens/user/setting/theme/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={theme:{setting:{title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效"},light:{title:"明亮"},deepDark:{title:"纯黑"},dark:{title:"黑暗"}},autoColorScheme:{hd:"跟随系统",information:"启动 App 时黑白主题是否跟随系统"}}},"./src/screens/user/setting/theme/index.tsx":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/components/header/utils.tsx"),f=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),j=s("./src/utils/hooks/index.ts"),h=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),x=s("./src/screens/user/setting/utils.ts"),_=r(s("./src/screens/user/setting/styles.ts")),b=s("./src/screens/user/setting/theme/ds.ts"),y=s("./node_modules/react/jsx-runtime.js");function n(e){var r=e.navigation,n=e.filter,e=(0,j.useBoolean)(!1),o=e.state,i=e.setTrue,a=e.setFalse,l=(0,x.getShows)(n,b.TEXTS);return(0,j.useObserver)(function(){var e,t,s;return g.STORYBOOK||!l?null:(e=p.systemStore.setting,t=e.deepDark,s=e.autoColorScheme,(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(f.ItemSetting,{hd:"主题",arrow:!0,highlight:!0,filter:n,onPress:i}),(0,y.jsxs)(c.ActionSheet,{show:o,title:"主题",onClose:a,children:[(0,y.jsxs)(f.ItemSettingBlock,Object.assign({style:p._.mt.sm,show:l.theme,filter:n,thumb:(0,x.getYuqueThumbs)(["0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png","0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png","0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"])},b.TEXTS.theme.setting,{children:[(0,y.jsx)(f.ItemSettingBlock.Item,Object.assign({icon:"ios-sunny",iconColor:p._.colorYellow,active:!p._.isDark,filter:n,onPress:(0,u.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p._.isDark){e.next=2;break}return e.abrupt("return");case 2:(0,h.t)("设置.切换",{title:"黑暗模式",checked:!p._.isDark}),p._.toggleMode(),setTimeout(function(){(0,m.updateHeader)({navigation:r})},0),setTimeout(function(){p._.mode!==p._.tinygrailThemeMode&&p._.toggleTinygrailThemeMode()},40);case 6:case"end":return e.stop()}},e)}))},b.TEXTS.theme.light,{children:(0,y.jsx)(c.Heatmap,{id:"设置.切换",title:"黑暗模式"})})),(0,y.jsx)(f.ItemSettingBlock.Item,Object.assign({style:p._.ml.md,icon:"ios-moon",iconColor:p._.colorYellow,active:p._.isDark&&t,filter:n,onPress:(0,u.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p._.isDark&&t)return e.abrupt("return");e.next=2;break;case 2:(0,h.t)("设置.切换",{title:"纯黑",checked:!t}),t||p.systemStore.switchSetting("deepDark"),p._.toggleMode("dark"),setTimeout(function(){(0,m.updateHeader)({navigation:r})},0),setTimeout(function(){p._.mode!==p._.tinygrailThemeMode&&p._.toggleTinygrailThemeMode()},40);case 7:case"end":return e.stop()}},e)}))},b.TEXTS.theme.deepDark,{children:(0,y.jsx)(c.Heatmap,{id:"设置.切换",title:"纯黑"})})),(0,y.jsx)(f.ItemSettingBlock.Item,Object.assign({style:p._.ml.md,icon:"ios-moon",iconColor:p._.colorYellow,active:p._.isDark&&!t,filter:n,onPress:(0,u.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p._.isDark&&!t)return e.abrupt("return");e.next=2;break;case 2:(0,h.t)("设置.切换",{title:"纯黑",checked:t}),t&&p.systemStore.switchSetting("deepDark"),p._.toggleMode("dark"),setTimeout(function(){(0,m.updateHeader)({navigation:r})},0),setTimeout(function(){p._.mode!==p._.tinygrailThemeMode&&p._.toggleTinygrailThemeMode()},40);case 7:case"end":return e.stop()}},e)}))},b.TEXTS.theme.dark,{children:(0,y.jsx)(c.Heatmap,{id:"设置.切换",title:"黑暗模式"})}))]})),(0,y.jsx)(f.ItemSetting,Object.assign({show:l.autoColorScheme&&!g.IS_BEFORE_ANDROID_10,ft:(0,y.jsx)(c.SwitchPro,{style:_.default.switch,value:s,onSyncPress:function(){(0,h.t)("设置.切换",{title:"跟随系统",checked:!s}),p.systemStore.switchSetting("autoColorScheme")}}),filter:n},b.TEXTS.autoColorScheme,{children:(0,y.jsx)(c.Heatmap,{id:"设置.切换",title:"跟随系统"})}))]})]}))})}t.default=n;try{n.displayName="Theme",n.__docgenInfo={description:"",displayName:"Theme",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/theme/index.tsx#Theme"]={docgenInfo:n.__docgenInfo,name:"Theme",path:"src/screens/user/setting/theme/index.tsx#Theme"})}catch(e){}},"./src/screens/user/setting/timeline/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={timelinePopable:{hd:"点击条目名字先显示缩略信息"}}},"./src/screens/user/setting/timeline/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),l=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),c=s("./src/utils/hooks/index.ts"),m=s("./src/utils/fetch/index.ts"),f=s("./src/screens/user/setting/utils.ts"),p=r(s("./src/screens/user/setting/styles.ts")),j=s("./src/screens/user/setting/timeline/ds.ts"),h=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var t=e.filter,s=(0,c.useIsFocused)(),e=(0,c.useBoolean)(!1),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,f.getShows)(t,j.TEXTS);return(0,a.useEffect)(function(){s||(o(),u.uiStore.closePopableSubject())},[s,o]),(0,c.useObserver)(function(){var e;return i?(e=u.systemStore.setting.timelinePopable,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.ItemSetting,{hd:"时间胶囊",arrow:!0,highlight:!0,filter:t,onPress:function(){n(),setTimeout(function(){u.uiStore.updatePopableSubjectPortalKey()},160)}}),(0,h.jsxs)(l.ActionSheet,{show:r,title:"时间胶囊",onClose:function(){o(),u.uiStore.closePopableSubject()},children:[(0,h.jsx)(d.ItemSetting,Object.assign({show:i.timelinePopable,ft:(0,h.jsx)(l.SwitchPro,{style:p.default.switch,value:e,onSyncPress:function(){(0,m.t)("设置.切换",{title:"显示缩略信息",checked:!e}),u.systemStore.switchSetting("timelinePopable")}}),filter:t},j.TEXTS.timelinePopable,{children:(0,h.jsx)(l.Heatmap,{id:"设置.切换",title:"显示缩略信息"})})),(0,h.jsxs)(d.TapListener,{children:[(0,h.jsxs)(l.Flex,{style:p.default.acSearch,children:[(0,h.jsx)(l.Text,{size:13,children:"试一试∶"}),(0,h.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,h.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"在看"})," ",(0,h.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){u.uiStore.showPopableSubject({subjectId:364450})},children:"リコリス・リコイル"})]})]}),(0,h.jsxs)(l.Flex,{style:p.default.acSearch,children:[(0,h.jsx)(l.Text,{size:13,children:"　　　　"}),(0,h.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,h.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"想读"})," ",(0,h.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){u.uiStore.showPopableSubject({subjectId:377599})},children:"さよなら絵梨"})]})]}),(0,h.jsxs)(l.Flex,{style:p.default.acSearch,children:[(0,h.jsx)(l.Text,{size:13,children:"　　　　"}),(0,h.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,h.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"玩过"})," ",(0,h.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){u.uiStore.showPopableSubject({subjectId:368785})},children:"ゼノブレイド3"})]})]}),(0,h.jsxs)(l.Flex,{style:p.default.acSearch,children:[(0,h.jsx)(l.Text,{size:13,children:"　　　　"}),(0,h.jsxs)(l.Text,{size:13,children:["春菜"," ",(0,h.jsx)(l.Text,{type:"sub",size:13,bold:!0,children:"听过"})," ",(0,h.jsx)(l.Text,{size:13,type:"main",bold:!0,onPress:function(){u.uiStore.showPopableSubject({subjectId:368936})},children:"夢が僕らの太陽さ"})]})]})]}),(0,h.jsx)(l.Touchable,{style:p.default.closePopablePlaceholder,withoutFeedback:!0,onPress:function(){u.uiStore.closePopableSubject()}})]})]})):null})}t.default=n;try{n.displayName="Timeline",n.__docgenInfo={description:"",displayName:"Timeline",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/timeline/index.tsx#Timeline"]={docgenInfo:n.__docgenInfo,name:"Timeline",path:"src/screens/user/setting/timeline/index.tsx#Timeline"})}catch(e){}},"./src/screens/user/setting/timezone/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;s={timezone:{hd:"设置时区",information:(s("./src/constants/index.ts").TIMEZONE_IS_GMT8?"检测到你是 GMT+8 时区用户, 不建议你设置!\n":"")+"会影响到帖子楼层回复时间、条目评论时间等的显示"}};t.TEXTS=s},"./src/screens/user/setting/timezone/index.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),m=n(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),p=n(s("./node_modules/react-native-web/dist/exports/View/index.js")),j=s("./src/components/index.ts"),h=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),_=s("./src/utils/hooks/index.ts"),b=s("./src/utils/fetch/index.ts"),y=s("./src/constants/index.ts"),S=s("./src/screens/user/setting/utils.ts"),v=s("./src/screens/user/setting/timezone/ds.ts"),T=s("./src/screens/user/setting/timezone/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function o(e){var n=e.filter,e=(0,_.useBoolean)(!1),o=e.state,i=e.setTrue,a=e.setFalse,e=(0,f.useState)({formhash:"",nickname:"",sign_input:"",newbio:"",timeoffsetnew:""}),e=(0,m.default)(e,2),l=e[0],s=e[1],t=(0,f.useCallback)((0,c.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.userStore.fetchUserSetting();case 2:(t=e.sent)._loaded&&t.formhash&&s({formhash:t.formhash,nickname:t.nickname,sign_input:t.sign_input,newbio:t.sign,timeoffsetnew:t.timeoffsetnew});case 4:case"end":return e.stop()}},e)})),[]),d=(0,f.useCallback)(function(e){g.userStore.doUpdateUserSetting(Object.assign({},l,{timeoffsetnew:e}),(0,c.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:(0,x.feedback)();case 3:case"end":return e.stop()}},e)})))},[t,l]),u=((0,f.useEffect)(function(){o&&t()},[o,t]),(0,S.getShows)(n,v.TEXTS));return(0,_.useObserver)(function(){var e,s,t,r;return u&&g.userStore.isLogin?(s=(0,T.memoStyles)(),t=null==(t=y.TIMEZONE.find(function(e){return e.value==l.timeoffsetnew}))?void 0:t.label,r=(null==(e=x.TZ.split("/"))?void 0:e[1])||"",(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(h.ItemSetting,{hd:"时区",arrow:!0,highlight:!0,filter:n,onPress:i}),(0,O.jsxs)(j.ActionSheet,{show:o,height:n?400:640,title:"时区",onClose:a,children:[(0,O.jsx)(h.ItemSetting,Object.assign({show:u.timezone,filter:n},v.TEXTS.timezone,{children:(0,O.jsx)(j.Heatmap,{id:"设置.切换",title:"设置时区"})})),(0,O.jsxs)(p.default,{style:g._.container.wind,children:[(0,O.jsxs)(j.Text,{style:g._.mt.sm,size:13,bold:!0,children:["当前账户设置的时区为：",(0,O.jsx)(j.Text,{type:"warning",size:13,bold:!0,children:t})]}),y.TIMEZONE.slice().sort(function(e,t){return(0,x.desc)("默认时区"===e.label?2:e.label.includes(r)?1:0,"默认时区"===t.label?2:t.label.includes(r)?1:0)}).map(function(e){var t=e.value==l.timeoffsetnew;return(0,O.jsx)(j.Touchable,{style:(0,x.stl)(s.item,t&&s.itemActive),animate:!0,onPress:function(){t||(0,x.confirm)("提交时区设置 "+e.label+" 到服务器, 会影响到所有设备的显示, 确定?",function(){d(e.value),(0,b.t)("设置.切换",{title:"设置时区",timezone:e.value})})},children:(0,O.jsx)(j.Text,{children:e.label})},e.value)})]})]})]})):null})}t.default=o;try{o.displayName="Timezone",o.__docgenInfo={description:"",displayName:"Timezone",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/timezone/index.tsx#Timezone"]={docgenInfo:o.__docgenInfo,name:"Timezone",path:"src/screens/user/setting/timezone/index.tsx#Timezone"})}catch(e){}},"./src/screens/user/setting/timezone/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{padding:r._.md,marginTop:r._.md,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},itemActive:{borderColor:r._.colorSuccess}}});t.memoStyles=s},"./src/screens/user/setting/tinygrail/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={tinygrail:{hd:"小圣杯",information:"人物卡片交易玩法（玩法已死，目前你也可以当成是每天的人物抽奖刮刮乐，人物塔图收集玩法罢了）"},tinygrailMode:{hd:"涨跌色",search:"绿涨红跌, 红涨绿跌"},homeCustom:{hd:"进度页右上角入口",information:"v7.3.2 后不再默认配置小圣杯入口\n若需要请手动设置"}}},"./src/screens/user/setting/tinygrail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/hooks/index.ts"),c=s("./src/utils/fetch/index.ts"),m=r(s("./src/screens/user/setting/home/custom-btn/index.tsx")),f=s("./src/screens/user/setting/utils.ts"),p=r(s("./src/screens/user/setting/styles.ts")),j=s("./src/screens/user/setting/tinygrail/ds.ts"),h=s("./node_modules/react/jsx-runtime.js");function n(e){var t=e.filter,e=(0,u.useBoolean)(!1),s=e.state,r=e.setTrue,n=e.setFalse,o=["绿涨红跌","红涨绿跌"],i=(0,f.getShows)(t,j.TEXTS);return(0,u.useObserver)(function(){var e;return i?(e=d.systemStore.setting.tinygrail,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.ItemSetting,{hd:"小圣杯",ft:e?(0,h.jsx)(a.Text,{type:"sub",size:15,children:"开启"}):null,arrow:!0,highlight:!0,filter:t,onPress:r}),(0,h.jsxs)(a.ActionSheet,{show:s,title:"小圣杯",onClose:n,children:[(0,h.jsx)(l.ItemSetting,Object.assign({show:i.tinygrail,ft:(0,h.jsx)(a.SwitchPro,{style:p.default.switch,value:e,onSyncPress:function(){(0,c.t)("设置.切换",{title:"小圣杯",checked:!e}),d.systemStore.switchSetting("tinygrail")}}),filter:t,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661214518986-f6760da2-6a78-489b-85fc-2c7fabf97279.png","0/2022/png/386799/1661214525841-58dcbaf0-c0a7-446f-8045-69d855e32914.png","0/2022/png/386799/1661214653550-d0132b94-b2ff-4e6c-97ab-2cd15b1bc48b.png","0/2022/png/386799/1661214535802-72f9dad6-5869-4518-86a1-048e4046c900.png","0/2022/png/386799/1661214600784-c75037d5-4c7a-4022-92ad-679dc49be9b9.png","0/2022/png/386799/1661214604762-9e11c96f-7841-4581-8e34-e77c5a71a139.png"])},j.TEXTS.tinygrail,{children:(0,h.jsx)(a.Heatmap,{id:"设置.切换",title:"小圣杯"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.tinygrailMode,ft:(0,h.jsx)(a.SegmentedControl,{style:p.default.segmentedControl,size:12,values:o,selectedIndex:d._.isWeb?2:d._.isGreen?0:1,onValueChange:function(e){if(!(d._.isGreen&&e===o[0]||!d._.isGreen&&e===o[1]||d._.isWeb&&e===o[2])){if((0,c.t)("设置.切换",{title:"小圣杯涨跌色",label:d._.isWeb?"网页一致":d._.isGreen?"红涨绿跌":"绿涨红跌"}),e===o[2])return d._.toggleTinygrailMode("web");d._.toggleTinygrailMode()}}}),filter:t,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661214673062-50a40076-90c3-499f-9ea6-bc4694a92f05.png","0/2022/png/386799/1661214675966-24eb1061-9a89-4c72-8173-e3a3f3f16adb.png"])},j.TEXTS.tinygrailMode,{children:(0,h.jsx)(a.Heatmap,{id:"设置.切换",title:"小圣杯涨跌色"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.homeCustom,ft:(0,h.jsx)(m.default,{}),filter:t},j.TEXTS.homeCustom,{children:(0,h.jsx)(a.Heatmap,{id:"设置.切换",title:"右上角功能入口"})}))]})]})):null})}t.default=n;try{n.displayName="Tinygrail",n.__docgenInfo={description:"",displayName:"Tinygrail",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/tinygrail/index.tsx#Tinygrail"]={docgenInfo:n.__docgenInfo,name:"Tinygrail",path:"src/screens/user/setting/tinygrail/index.tsx#Tinygrail"})}catch(e){}},"./src/screens/user/setting/tip/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/user/setting/tip/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){return e=e.children,(0,i.jsx)(n.Flex,{style:o.styles.tip,children:(0,i.jsx)(n.Flex.Item,{children:(0,i.jsx)(n.Text,{type:"sub",bold:!0,children:e})})})});t.default=s;try{tip.displayName="tip",tip.__docgenInfo={description:"",displayName:"tip",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/tip/index.tsx#tip"]={docgenInfo:tip.__docgenInfo,name:"tip",path:"src/screens/user/setting/tip/index.tsx#tip"})}catch(e){}},"./src/screens/user/setting/tip/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({tip:{paddingTop:s._.md,paddingHorizontal:s._._wind,paddingBottom:s._.sm}});t.styles=s},"./src/screens/user/setting/ui/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.width=t.height=t.URL_MUSIC=t.URL_GAME=t.URL_BOOK=t.TEXTS=void 0;var s=s("./src/constants/index.ts"),r=(t.URL_BOOK="https://lain.bgm.tv/pic/cover/c/6b/5d/360454_CQqJt.jpg",t.URL_MUSIC="https://lain.bgm.tv/pic/cover/c/68/f3/363071_LfafL.jpg",t.URL_GAME="https://lain.bgm.tv/pic/cover/c/ac/2f/368785_ukWkl.jpg",Math.floor(s.IMG_WIDTH_SM/1.8)),r=(t.width=r,Math.floor(s.IMG_HEIGHT_SM/1.8)),r=(t.height=r,{font:{title:"字体",information:"开启后会强制使用 Resource Han Rounded (思源幼圆) 字体，以便在各设备达到设计上面的 UI 统一"},coverThings:{title:"封面拟物",information:"能确定类型的条目封面拟物化，增加区分度"},coverRadius:{setting:{title:"图片圆角"},sm:{title:"小"},md:{title:"中"},lg:{title:"大"}},speech:{title:"看板娘吐槽",information:"通常在列表尾部出现表示已到底"},avatarRound:{setting:{title:"头像"},round:{title:"圆形"},square:{title:"方形"}},fontSize:{title:"字号",search:s.SETTING_FONTSIZEADJUST.map(function(e){return e.label}).join()},ripple:{hd:"点击水纹效果",information:"按钮被按下时产生涟漪效果，关闭可提升性能"},transition:{hd:"切页动画",information:"切换可能需要重新启动才能正确生效",search:s.SETTING_TRANSITION.map(function(e){return e.label}).join()},vibration:{hd:"震动",information:"提交操作完成后追加轻震动反馈"}});t.TEXTS=r},"./src/screens/user/setting/ui/index.tsx":(e,t,s)=>{var p=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),h=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),g=s("./src/components/index.ts"),x=s("./src/components/mesume/utils.ts"),_=s("./src/screens/_/index.ts"),b=s("./src/stores/index.ts"),n=s("./src/utils/hooks/index.ts"),y=s("./src/utils/fetch/index.ts"),S=s("./src/utils/hooks/useCachedResources.ts"),v=s("./src/constants/index.ts"),T=s("./src/screens/user/setting/utils.ts"),O=r(s("./src/screens/user/setting/styles.ts")),w=s("./src/screens/user/setting/ui/ds.ts"),I=s("./src/screens/user/setting/ui/styles.ts"),C=s("./node_modules/react/jsx-runtime.js");function o(e){var d=e.filter,e=(0,n.useBoolean)(!1),u=e.state,c=e.setTrue,m=e.setFalse,f=(0,T.getShows)(d,w.TEXTS);return(0,n.useObserver)(function(){var e,t,s,r,n,o,i,a,l;return f?(e=(0,I.memoStyles)(),l=b.systemStore.setting,t=l.vibration,s=l.coverThings,r=l.coverRadius,n=l.speech,o=l.avatarRound,i=l.transition,a=l.customFontFamily,l=(null==(l=b.userStore.usersInfo())||null==(l=l.avatar)?void 0:l.large)||v.IMG_DEFAULT_AVATAR,(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_.ItemSetting,{hd:"画面",arrow:!0,highlight:!0,filter:d,onPress:c}),(0,C.jsxs)(g.ActionSheet,{show:u,title:"画面",height:d?400:760,onClose:m,children:[(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.font,style:b._.mt.sm,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661070600959-cfe3b7a7-696b-4325-a81e-fe3f58f99edf.png","0/2022/png/386799/1661070607888-446ff81c-6acf-4416-8a73-e2aca67932db.png"])},w.TEXTS.font,{children:[(0,C.jsxs)(_.ItemSettingBlock.Item,{title:"开启",active:!a,filter:d,onPress:(0,j.default)(p.mark(function e(){return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return(0,y.t)("设置.切换",{title:"字体",checked:!a}),e.next=5,(0,S.loadAppFontsAsync)();case 5:b.systemStore.switchSetting("customFontFamily"),(0,g.setComponentsDefaultProps)();case 7:case"end":return e.stop()}},e)})),children:[(0,C.jsx)(g.Text,{overrideStyle:e.fontStyleBold,type:"sub",size:12,align:"center",bold:!0,children:"Bangumi 番组计划"}),(0,C.jsx)(g.Text,{overrideStyle:e.fontStyle,type:"sub",size:10,align:"center",children:"Abc ばんぐみ 123"})]}),(0,C.jsxs)(_.ItemSettingBlock.Item,{style:b._.ml.md,title:"关闭",active:a,filter:d,onPress:function(){a||((0,y.t)("设置.切换",{title:"字体",checked:!a}),b.systemStore.switchSetting("customFontFamily"),(0,g.setComponentsDefaultProps)())},children:[(0,C.jsx)(g.Text,{overrideStyle:e.fontStyleBoldCustom,type:"sub",size:12,align:"center",bold:!0,children:"Bangumi 番组计划"}),(0,C.jsx)(g.Text,{overrideStyle:e.fontStyleCustom,type:"sub",size:10,align:"center",children:"Abc ばんぐみ 123"})]}),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"看板娘吐槽"})]})),(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.coverThings,style:b._.mt.sm,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661071481482-cb9d38b1-1f09-4188-a13d-c10f5b6bbf75.png","0/2022/png/386799/1661071487013-ae69bffd-7e68-40be-a3d7-2ded444e7d3c.png"])},w.TEXTS.coverThings,{children:[(0,C.jsx)(_.ItemSettingBlock.Item,{itemStyle:e.item,title:"开启",active:s,filter:d,onPress:function(){s||((0,y.t)("设置.切换",{title:"封面拟物",checked:!s}),b.systemStore.switchSetting("coverThings"))},children:(0,C.jsxs)(g.Flex,{style:b._.mt.sm,children:[(0,C.jsx)(h.default,{children:(0,C.jsx)(_.Cover,{type:"书籍",useType:!0,size:w.width,height:w.height,src:w.URL_BOOK,radius:!0})}),(0,C.jsx)(h.default,{style:b._.ml.sm,children:(0,C.jsx)(_.Cover,{containerStyle:e.gameContainer,bodyStyle:e.gameBody,angleStyle:e.gameAngle,type:"游戏",useType:!0,size:w.width,height:w.height,src:w.URL_GAME,radius:!0})}),(0,C.jsx)(h.default,{style:b._.ml.sm,children:(0,C.jsx)(_.Cover,{angleStyle:e.musicAngle,type:"音乐",useType:!0,size:1.1*w.width,height:1.1*w.height,src:w.URL_MUSIC,radius:!0})})]})}),(0,C.jsx)(_.ItemSettingBlock.Item,{style:b._.ml.md,itemStyle:e.item,title:"关闭",active:!s,filter:d,onPress:function(){s&&((0,y.t)("设置.切换",{title:"封面拟物",checked:!s}),b.systemStore.switchSetting("coverThings"))},children:(0,C.jsxs)(g.Flex,{style:b._.mt.sm,children:[(0,C.jsx)(h.default,{children:(0,C.jsx)(_.Cover,{size:w.width,height:w.height,src:w.URL_BOOK,radius:!0})}),(0,C.jsx)(h.default,{style:b._.ml.sm,children:(0,C.jsx)(_.Cover,{size:w.width,height:w.height,src:w.URL_GAME,radius:!0})}),(0,C.jsx)(h.default,{style:b._.ml.sm,children:(0,C.jsx)(_.Cover,{size:w.width,height:w.height,src:w.URL_MUSIC,radius:!0})})]})}),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"封面拟物"})]})),(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.coverRadius,style:b._.mt.sm,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661071928529-37497a51-74f6-4024-adec-b7d3c7a06e8c.png","0/2022/png/386799/1661071931109-1464ee05-7d82-43a8-9fe1-14f214de16a3.png","0/2022/png/386799/1661071933774-201d5370-7fd0-4e97-91ac-cda5b4be45f7.png"])},w.TEXTS.coverRadius.setting,{children:[(0,C.jsx)(_.ItemSettingBlock.Item,Object.assign({active:r===b._.radiusXs,filter:d,onPress:function(){r!==b._.radiusXs&&((0,y.t)("设置.切换",{title:"图片圆角",label:"小"}),b.systemStore.setSetting("coverRadius",b._.radiusXs))}},w.TEXTS.coverRadius.sm,{children:(0,C.jsx)(h.default,{style:b._.mt.xs,children:(0,C.jsx)(_.Cover,{angleStyle:e.musicAngle,type:"音乐",size:1.1*w.width,height:1.1*w.height,src:w.URL_MUSIC,radius:b._.radiusXs})})})),(0,C.jsx)(_.ItemSettingBlock.Item,Object.assign({style:b._.ml.md,active:r===b._.radiusSm,filter:d,onPress:function(){r!==b._.radiusSm&&((0,y.t)("设置.切换",{title:"图片圆角",label:"中"}),b.systemStore.setSetting("coverRadius",b._.radiusSm))}},w.TEXTS.coverRadius.md,{children:(0,C.jsx)(h.default,{style:b._.mt.xs,children:(0,C.jsx)(_.Cover,{angleStyle:e.musicAngle,type:"音乐",size:1.1*w.width,height:1.1*w.height,src:w.URL_MUSIC,radius:b._.radiusSm})})})),(0,C.jsx)(_.ItemSettingBlock.Item,Object.assign({style:b._.ml.md,active:r===b._.radiusMd,filter:d,onPress:function(){r!==b._.radiusMd&&((0,y.t)("设置.切换",{title:"图片圆角",label:"大"}),b.systemStore.setSetting("coverRadius",b._.radiusMd))}},w.TEXTS.coverRadius.lg,{children:(0,C.jsx)(h.default,{style:b._.mt.xs,children:(0,C.jsx)(_.Cover,{angleStyle:e.musicAngle,type:"音乐",size:1.1*w.width,height:1.1*w.height,src:w.URL_MUSIC,radius:b._.radiusMd})})})),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"图片圆角"})]})),(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.speech,style:b._.mt.sm,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661072680253-59856506-ac70-44d7-bba3-fd34fb8ffef3.png"])},w.TEXTS.speech,{children:[(0,C.jsx)(_.ItemSettingBlock.Item,{title:"开启",active:n,filter:d,onPress:function(){n||((0,y.t)("设置.切换",{title:"看板娘吐槽",checked:!n}),b.systemStore.switchSetting("speech"))},children:(0,C.jsx)(g.Text,{style:[e.speech,b._.mt.sm],type:"sub",size:11,align:"center",numberOfLines:2,children:(0,x.randomSpeech)()})}),(0,C.jsx)(_.ItemSettingBlock.Item,{style:b._.ml.md,title:"关闭",active:!n,filter:d,onPress:function(){n&&((0,y.t)("设置.切换",{title:"看板娘吐槽",checked:!n}),b.systemStore.switchSetting("speech"))},children:(0,C.jsx)(g.Mesume,{style:b._.mt.xxs,size:40})}),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"看板娘吐槽"})]})),(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.avatarRound,style:b._.mt.sm,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661073314717-f67e17c1-0ae4-4e19-b61a-4fdaf2eb4bdd.png","0/2022/png/386799/1661073326148-8687046a-026a-4217-a3b3-1209dc3470e2.png"])},w.TEXTS.avatarRound.setting,{children:[(0,C.jsx)(_.ItemSettingBlock.Item,Object.assign({active:o,filter:d,onPress:function(){o||((0,y.t)("设置.切换",{title:"圆形头像",checked:!o}),b.systemStore.switchSetting("avatarRound"))}},w.TEXTS.avatarRound.round,{children:(0,C.jsx)(_.Avatar,{style:b._.mt.sm,size:28,src:l,round:!0})})),(0,C.jsx)(_.ItemSettingBlock.Item,Object.assign({style:b._.ml.md,active:!o,filter:d,onPress:function(){o&&((0,y.t)("设置.切换",{title:"圆形头像",checked:!o}),b.systemStore.switchSetting("avatarRound"))}},w.TEXTS.avatarRound.square,{children:(0,C.jsx)(_.Avatar,{style:b._.mt.sm,size:28,src:l,radius:b._.radiusSm})})),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"圆形头像"})]})),(0,C.jsxs)(_.ItemSettingBlock,Object.assign({show:f.fontSize,style:e.fontBlock,filter:d,thumb:(0,T.getYuqueThumbs)(["0/2022/png/386799/1661073553895-58817e4e-68c6-4236-9d4b-aef6a2d2eb6b.png","0/2022/png/386799/1661073556659-29544f2b-ddef-443f-8d0f-b8f562536bc6.png","0/2022/png/386799/1661073559152-353bcac8-6cd2-475b-8826-98288110e9cc.png","0/2022/png/386799/1661073561929-ef4508fd-a12b-4c38-bb93-a7d9b0021965.png","0/2022/png/386799/1661073564431-15d38cf2-04d1-4514-96cb-2f1c8ddea115.png"])},w.TEXTS.fontSize,{children:[(0,C.jsx)(g.ScrollView,{contentContainerStyle:e.fontScroll,horizontal:!0,children:v.SETTING_FONTSIZEADJUST.map(function(e,t){return(0,C.jsx)(_.ItemSettingBlock.Item,{style:!!t&&b._.ml.sm,title:e.label,active:b._.fontSizeAdjust==Number(e.value),filter:d,onPress:function(){b._.fontSizeAdjust!=Number(e.value)&&((0,y.t)("设置.切换",{title:"字号",label:e.label}),b._.changeFontSizeAdjust(e.value))},children:(0,C.jsx)(g.Text,{style:b._.mt.sm,size:11+Number(e.value)-b._.fontSizeAdjust,children:"番组计划"})},e.label)})}),(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"字号"})]})),(0,C.jsx)(_.ItemSetting,Object.assign({show:!v.STORYBOOK&&f.transition,ft:(0,C.jsx)(g.SegmentedControl,{style:O.default.segmentedControl,size:12,values:v.SETTING_TRANSITION.map(function(e){return e.label}),selectedIndex:v.SETTING_TRANSITION.findIndex(function(e){return e.value===i}),onValueChange:function(e){e&&((0,y.t)("设置.切换",{title:"切页动画",label:e}),b.systemStore.setTransition(e))}}),filter:d},w.TEXTS.transition,{children:(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"切页动画"})})),(0,C.jsx)(_.ItemSetting,Object.assign({show:!v.STORYBOOK&&f.vibration,ft:(0,C.jsx)(g.SwitchPro,{style:O.default.switch,value:t,onSyncPress:function(){(0,y.t)("设置.切换",{title:"震动",checked:!t}),b.systemStore.switchSetting("vibration")}}),filter:d},w.TEXTS.vibration,{children:(0,C.jsx)(g.Heatmap,{id:"设置.切换",title:"震动"})}))]})]})):null})}t.default=o;try{o.displayName="UI",o.__docgenInfo={description:"",displayName:"UI",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/ui/index.tsx#UI"]={docgenInfo:o.__docgenInfo,name:"UI",path:"src/screens/user/setting/ui/index.tsx#UI"})}catch(e){}},"./src/screens/user/setting/ui/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{height:104},gameContainer:{backgroundColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2),borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2)},gameBody:{backgroundColor:r._.select("rgba(0, 0, 0, 0.2)",r._._colorBorder)},gameAngle:{borderTopColor:r._.select("rgba(0, 0, 0, 0.2)",r._._colorBorder)},musicAngle:{marginRight:-4},speech:{width:"92%",marginTop:r._.sm},fontBlock:{marginTop:r._.sm,marginRight:-r._._wind},fontScroll:{paddingRight:r._._wind},fontStyle:{marginTop:r._.sm-2,fontFamily:"rhrm",fontWeight:"normal"},fontStyleBold:{marginTop:r._.sm-2,fontFamily:"rhrb",fontWeight:"normal"},fontStyleCustom:{marginTop:r._.sm-2,fontFamily:r._.ios(void 0,""),fontWeight:"normal"},fontStyleBoldCustom:{marginTop:r._.sm-2,fontFamily:r._.ios(void 0,""),fontWeight:"bold"}}});t.memoStyles=s},"./src/screens/user/setting/user-setting/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={userSetting:{hd:"个人资料"}}},"./src/screens/user/setting/user-setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/user/setting/utils.ts"),d=s("./src/screens/user/setting/user-setting/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.navigation,e=e.filter,s=(0,l.getShows)(e,d.TEXTS);return a.STORYBOOK||!s?null:(0,u.jsx)(o.ItemSetting,Object.assign({arrow:!0,highlight:!0,filter:e,onPress:function(){(0,i.t)("设置.跳转",{title:"个人设置",to:"UserSetting"}),t.push("UserSetting")}},d.TEXTS.userSetting,{children:(0,u.jsx)(n.Heatmap,{id:"设置.跳转",to:"UserSetting",alias:"个人设置"})}))});t.default=s;try{usersetting.displayName="usersetting",usersetting.__docgenInfo={description:"",displayName:"usersetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/user-setting/index.tsx#usersetting"]={docgenInfo:usersetting.__docgenInfo,name:"usersetting",path:"src/screens/user/setting/user-setting/index.tsx#usersetting"})}catch(e){}},"./src/screens/user/setting/user/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={userGridNum:{hd:"网格布局个数"}}},"./src/screens/user/setting/user/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/hooks/index.ts"),c=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),f=s("./src/screens/user/setting/utils.ts"),p=r(s("./src/screens/user/setting/styles.ts")),j=s("./src/screens/user/setting/user/ds.ts"),h=s("./node_modules/react/jsx-runtime.js");function n(e){var s=e.filter,e=(0,u.useBoolean)(!1),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,f.getShows)(s,j.TEXTS);return(0,u.useObserver)(function(){var t;return m.STORYBOOK||!i?null:(t=d.systemStore.setting.userGridNum,(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.ItemSetting,{hd:"时光机",arrow:!0,highlight:!0,filter:s,onPress:n}),(0,h.jsx)(a.ActionSheet,{show:r,title:"时光机",onClose:o,children:(0,h.jsx)(l.ItemSetting,Object.assign({show:i.userGridNum,ft:(0,h.jsx)(a.SegmentedControl,{style:p.default.segmentedControl,size:12,values:m.SETTING_USER_GRID_NUM.map(function(e){return e.label}),selectedIndex:m.SETTING_USER_GRID_NUM.findIndex(function(e){return e.value===t}),onValueChange:function(e){e&&((0,c.t)("设置.切换",{title:"网格布局个数",label:e}),d.systemStore.setUserGridNum(e))}}),filter:s,thumb:(0,f.getYuqueThumbs)(["0/2022/png/386799/1661208352105-3fa86285-01cd-4d4d-9a1b-cc45f70ef80f.png","0/2022/png/386799/1661208356246-d2be037e-2770-4d8c-911f-3ce549dc46b0.png","0/2022/png/386799/1661208362277-16206efc-d59d-49a1-b023-b3a9626ff2c3.png"])},j.TEXTS.userGridNum,{children:(0,h.jsx)(a.Heatmap,{id:"设置.切换",title:"网格布局个数"})}))})]}))})}t.default=n;try{n.displayName="User",n.__docgenInfo={description:"",displayName:"User",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/user/index.tsx#User"]={docgenInfo:n.__docgenInfo,name:"User",path:"src/screens/user/setting/user/index.tsx#User"})}catch(e){}},"./src/screens/user/setting/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.every.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getShow=o,t.getShows=function(t,s){var r={};t?Object.keys(s).forEach(function(e){r[e]=o(t,s[e])}):Object.keys(s).forEach(function(e){return r[e]=!0});return!Object.keys(r).every(function(e){return!r[e]})&&r},t.getYuqueThumbs=function(e){return!!e&&e.map(function(e){return{url:"https://cdn.nlark.com/yuque/"+e}})};var n=s("./src/utils/thirdParty/cn-char/index.ts");function o(e,s){if(!e)return!0;try{var r=(0,n.t2s)(e).toLocaleUpperCase();return Object.keys(s).some(function(t){return"string"==typeof s[t]?s[t].toLocaleUpperCase().includes(r):"object"==typeof s[t]&&Object.keys(s[t]).some(function(e){return s[t][e].toLocaleUpperCase().includes(r)})})}catch(e){return!1}}},"./src/screens/user/setting/version/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={version:{hd:"版本",ft:"有新版本"}}},"./src/screens/user/setting/version/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),d=s("./src/screens/user/setting/utils.ts"),u=s("./src/screens/user/setting/version/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){if(e=e.filter,!(0,d.getShows)(e,u.TEXTS))return null;var t,s=i.systemStore.release.name;try{t=s!==l.VERSION_GITHUB_RELEASE&&Number(l.VERSION_GITHUB_RELEASE.replace(/\./g,""))<Number(s.replace(/\./g,""))}catch(e){}return(0,c.jsx)(o.ItemSetting,{hd:u.TEXTS.version.hd,arrow:!0,arrowStyle:[i._.ml.sm,i._.mr.xxs],arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,ft:t?(0,c.jsxs)(n.Text,{type:"success",size:15,children:[u.TEXTS.version.ft,s,(0,c.jsxs)(n.Text,{type:"sub",size:15,children:[" ","/ ",l.VERSION_GITHUB_RELEASE]})]}):(0,c.jsx)(n.Text,{type:"sub",size:15,children:l.VERSION_GITHUB_RELEASE}),filter:e,onPress:function(){return(0,a.appNavigate)(l.URL_RELEASE,void 0,void 0,{id:"设置.跳转"})}})});t.default=s;try{version.displayName="version",version.__docgenInfo={description:"",displayName:"version",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/version/index.tsx#version"]={docgenInfo:version.__docgenInfo,name:"version",path:"src/screens/user/setting/version/index.tsx#version"})}catch(e){}},"./src/screens/user/setting/zhinan/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXTS=void 0;t.TEXTS={topic:{hd:"项目帖子"},github:{hd:"Github",information:"欢迎⭐️"},zhinan:{hd:"使用指南"},notion:{hd:"开发状况"},jihua:{hd:"开发计划问卷"},privacy:{hd:"隐私保护政策"}}},"./src/screens/user/setting/zhinan/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),c=s("./src/utils/hooks/index.ts"),m=s("./src/utils/fetch/index.ts"),f=s("./src/constants/index.ts"),p=s("./src/screens/user/setting/utils.ts"),j=s("./src/screens/user/setting/zhinan/ds.ts"),h=s("./node_modules/react/jsx-runtime.js");function n(e){var t=e.navigation,s=e.filter,e=(0,c.useBoolean)(!1),r=e.state,n=e.setTrue,o=e.setFalse,i=(0,p.getShows)(s,j.TEXTS);return(0,c.useObserver)(function(){return i?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.ItemSetting,{hd:"更多",arrow:!0,highlight:!0,filter:s,onPress:n}),(0,h.jsxs)(a.ActionSheet,{show:r,title:"更多",onClose:o,children:[(0,h.jsx)(l.ItemSetting,Object.assign({show:i.topic,arrow:!0,highlight:!0,filter:s,onPress:function(){o(),setTimeout(function(){(0,u.appNavigate)(f.URL_FEEDBACK,t,void 0,{id:"设置.跳转"})},160)}},j.TEXTS.topic,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"Topic",alias:"帖子"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.github,style:d._.mt.xs,arrow:!0,arrowStyle:d._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:s,onPress:function(){return(0,u.appNavigate)(f.GITHUB_PROJECT,void 0,void 0,{id:"设置.跳转"})}},j.TEXTS.github,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"WebBrowser",alias:"浏览器"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.zhinan,arrow:!0,arrowStyle:d._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:s,onPress:function(){(0,m.t)("设置.跳转",{title:"个人设置",to:"Zhinan"}),o(),setTimeout(function(){t.push("WebBrowser",{url:f.URL_ZHINAN,title:"使用指南"})},240)}},j.TEXTS.zhinan,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"Zhinan",alias:"个人设置"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.notion,style:d._.mt.xs,arrow:!0,arrowStyle:d._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:s,onPress:function(){(0,m.t)("设置.跳转",{title:"当前开发中",to:"Notion"}),o(),setTimeout(function(){t.push("WebBrowser",{url:f.URL_DEV,title:"当前开发中"})},240)}},j.TEXTS.notion,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"Notion",alias:"当前开发中"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.jihua,style:d._.mt.xs,arrow:!0,arrowStyle:d._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:s,onPress:function(){(0,m.t)("设置.跳转",{title:"开发计划",to:"Jihua"}),(0,u.open)(f.URL_WENJUAN)}},j.TEXTS.jihua,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"Jihua",alias:"开发计划"})})),(0,h.jsx)(l.ItemSetting,Object.assign({show:i.privacy,style:d._.mt.xs,arrow:!0,arrowStyle:d._.mr.xxs,arrowIcon:"md-open-in-new",arrowSize:18,highlight:!0,filter:s,onPress:function(){(0,m.t)("设置.跳转",{title:"隐私保护政策",to:"Privacy"}),o(),setTimeout(function(){t.push("WebBrowser",{url:f.URL_PRIVACY,title:"隐私保护政策"})},240)}},j.TEXTS.privacy,{children:(0,h.jsx)(a.Heatmap,{id:"设置.跳转",to:"Privacy",alias:"隐私保护政策"})}))]})]}):null})}t.default=n;try{n.displayName="Zhinan",n.__docgenInfo={description:"",displayName:"Zhinan",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/setting/zhinan/index.tsx#Zhinan"]={docgenInfo:n.__docgenInfo,name:"Zhinan",path:"src/screens/user/setting/zhinan/index.tsx#Zhinan"})}catch(e){}},"./src/screens/user/sponsor/chart/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),m=s("./src/utils/hooks/index.ts"),f=s("./src/utils/fetch/index.ts"),p=r(s("./src/screens/user/sponsor/item/index.tsx")),j=s("./src/screens/user/sponsor/ds.ts"),h=s("./src/screens/user/sponsor/utils.ts"),g=s("./src/screens/user/sponsor/chart/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function n(e){var r=e.navigation,t=(0,g.memoStyles)(),e=(0,h.useTreemapSquarify)(),s=e.data,n=e.filterLength,o=e.filterCount,i=e.setFilter,a=e.resetFilter;return(0,m.useObserver)(function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Flex,{style:t.filter,justify:"center",children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.Text,{size:13,bold:!0,children:["已隐藏 ",n," 格，还有 ",o," 格未显示"]}),(0,x.jsx)(l.default,{style:t.refresh,children:(0,x.jsx)(u.IconTouchable,{name:"md-refresh",color:c._.colorDesc,size:18,onPress:function(){return a()}})})]}):(0,x.jsxs)(d.Text,{size:13,bold:!0,children:["还有 ",o," 格未显示，点击方格隐藏"]})}),(0,x.jsx)(l.default,{style:t.container,children:s.map(function(s){return(0,x.jsx)(p.default,Object.assign({},s,{onPress:function(){i(s.data)},onLongPress:c.systemStore.advance?function(){var e,t=(null==(t=j.USERS_MAP[s.data])?void 0:t.i)||s.data;r.push("Zone",{userId:t,_name:null==(e=j.USERS_MAP[s.data])?void 0:e.n}),(0,f.t)("赞助者.跳转",{userId:t})}:void 0}),s.data)})})]})})}t.default=n;try{n.displayName="Chart",n.__docgenInfo={description:"",displayName:"Chart",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/chart/index.tsx#Chart"]={docgenInfo:n.__docgenInfo,name:"Chart",path:"src/screens/user/sponsor/chart/index.tsx#Chart"})}catch(e){}},"./src/screens/user/sponsor/chart/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{filter:{height:56},container:{flex:1,backgroundColor:r._.colorPlain},refresh:{marginRight:-24}}});t.memoStyles=s},"./src/screens/user/sponsor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.LIST=t.FILTER_RATE=void 0,Object.defineProperty(t,"USERS_MAP",{enumerable:!0,get:function(){return a.default}}),r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=s("./src/utils/index.ts"),i=r(s("./src/assets/json/advance.json")),a=r(s("./src/assets/json/user.json")),r=Object.keys(i.default).map(function(e){var t=i.default[e];return 1==t?{data:e,weight:10}:(t=t.split("|"),t=(0,n.default)(t,2)[1],{data:e,weight:Number(t)})}).sort(function(e,t){return(0,o.desc)(e.weight,t.weight)});t.LIST=r;t.FILTER_RATE=.005},"./src/screens/user/sponsor/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/screens/user/sponsor/utils.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=s.state.list;return(0,d.jsx)(o.Header,{title:"赞助者",hm:["sponsor","Sponsor"],headerRight:function(){return(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(i.IconTouchable,{style:a._.mr.sm,name:n?"md-insert-chart-outlined":"md-sort",color:a._.colorTitle,onPress:s.onToggle}),(0,d.jsx)(i.IconTouchable,{name:"md-info-outline",color:a._.colorTitle,onPress:function(){r.push("Information",{title:"赞助者",message:["生存情况：已存活 "+(0,l.timeDiff)(),"图表根据赞助额按比例划分","点击方格隐藏 1 格，若你为赞助者长按可进入空间","除此外还有 30 多个赞助者没有留名","@senken 提供的 100 刀 iOS 开发账号","@magma 提供的服务器和 OSS 服务","数据不定期更新，感谢各位的支持！"]})}})]})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/sponsor/header/index.tsx#header"})}catch(e){}},"./src/screens/user/sponsor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/hooks/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/sponsor/header/index.tsx")),l=r(s("./src/screens/user/sponsor/list/index.tsx")),d=r(s("./src/screens/user/sponsor/chart/index.tsx")),r=r(s("./src/screens/user/sponsor/store.ts")),u=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,o.useRunAfter)(function(){s.init()}),(0,o.useObserver)(function(){var e=s.state.list;return(0,u.jsxs)(n.Page,{children:[(0,u.jsx)(a.default,{}),e?(0,u.jsx)(l.default,{}):(0,u.jsx)(d.default,{navigation:r})]})})});t.default=s;try{sponsor.displayName="sponsor",sponsor.__docgenInfo={description:"",displayName:"sponsor",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/index.tsx#sponsor"]={docgenInfo:sponsor.__docgenInfo,name:"sponsor",path:"src/screens/user/sponsor/index.tsx#sponsor"})}catch(e){}},"./src/screens/user/sponsor/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.parse-int.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),j=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),g=s("./src/screens/user/sponsor/ds.ts"),x=s("./src/screens/user/sponsor/item/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t,s=e.w,r=e.h,n=e.x,o=e.y,i=e.data,a=e.percent,l=e.price,d=e.isFilter,u=e.onPress,e=e.onLongPress,c=(0,x.memoStyles)(),a=Math.pow(a+1,2),m=Math.min(s,r)/h._.window.height*1.2,d=!d&&!!i&&10<=l&&.016<s*r/(h._.window.width*h._.window.height),m=Math.min(64,parseInt(String(240*m)));return 200<=l?t=c.l4:50<=l?t=c.l3:20<=l?t=c.l2:10<=l&&(t=c.l1),(0,_.jsxs)(f.default,{style:[c.item,{top:o,left:n}],children:[(0,_.jsx)(p.Touchable,{onPress:u,onLongPress:e,children:(0,_.jsxs)(p.Flex,{style:[c.body,{width:s,height:r,backgroundColor:h._.colorPlain},t],direction:"column",justify:"center",children:[d&&(0,_.jsx)(f.default,{style:{marginBottom:parseInt(String(5.6*a))},pointerEvents:"none",children:(0,_.jsx)(p.UserStatus,{style:t,userId:(null==(l=g.USERS_MAP[i])?void 0:l.i)||i,mini:m<32,children:(0,_.jsx)(j.Avatar,{src:null!=(o=g.USERS_MAP[i])&&o.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==(n=g.USERS_MAP[i])?void 0:n.a)+".jpg":"",size:m,radius:.36*m,borderWidth:0})})}),(0,_.jsx)(p.Flex,{style:c.content,justify:"center",children:(0,_.jsx)(p.Text,{size:8<=(null==(u=g.USERS_MAP[i])||null==(e=u.n)?void 0:e.length)?10:Math.min(14,parseInt(String(11*a))),numberOfLines:2,bold:!0,align:"center",selectable:!1,children:null==(s=g.USERS_MAP[i])?void 0:s.n})})]})}),(0,_.jsx)(f.default,{style:c.border,pointerEvents:"none"})]})});t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{w:{defaultValue:null,description:"",name:"w",required:!0,type:{name:"any"}},h:{defaultValue:null,description:"",name:"h",required:!0,type:{name:"any"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"any"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"any"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},percent:{defaultValue:null,description:"",name:"percent",required:!0,type:{name:"any"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"any"}},isFilter:{defaultValue:null,description:"",name:"isFilter",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}},onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/sponsor/item/index.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/user/sponsor/item/index.tsx#item"})}catch(e){}},"./src/screens/user/sponsor/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{position:"absolute"},body:{flex:1},border:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,borderWidth:r._.hairlineWidth,borderColor:r._.select("rgba(0, 0, 0, 0.12)","rgba(255, 255, 255, 0.12)")},content:{width:"88%"},l1:{backgroundColor:r._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:r._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:r._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:r._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}});t.memoStyles=s},"./src/screens/user/sponsor/list-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/user/sponsor/ds.ts"),l=s("./src/screens/user/sponsor/list-item/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var e=e.item,t=t.navigation,s=a.USERS_MAP[e.data],e=(null==s?void 0:s.i)||e.data;return(0,d.jsxs)(n.Flex,{style:l.styles.item,children:[(0,d.jsx)(n.UserStatus,{userId:e,children:(0,d.jsx)(o.Avatar,{navigation:t,src:null!=s&&s.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==s?void 0:s.a)+".jpg":"",userId:e,size:32})}),(0,d.jsx)(n.Flex.Item,{style:i._.ml.sm,children:(0,d.jsx)(n.Text,{size:12,bold:!0,children:null==s?void 0:s.n})})]})});t.default=s},"./src/screens/user/sponsor/list-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({item:{width:"50%",paddingHorizontal:s._._wind,paddingVertical:s._.sm}});t.styles=s},"./src/screens/user/sponsor/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/user/sponsor/list-item/index.tsx")),d=s("./src/screens/user/sponsor/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(){return(0,u.jsx)(o.PaginationList2,{contentContainerStyle:i._.container.bottom,keyExtractor:function(e){return String(e.data)},data:d.LIST,numColumns:2,limit:40,ListHeaderComponent:(0,u.jsxs)(n.Text,{style:[i._.mt.sm,i._.mb.md],size:12,bold:!0,align:"center",children:["截止至 2023-02-06 共 ",d.LIST.length," 人投食了，感谢你们的支持！"]}),renderItem:c})});function c(e){e=e.item;return(0,u.jsx)(l.default,{item:e})}t.default=r},"./src/screens/user/sponsor/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/utils/index.ts"),h=r(s("./src/utils/store/index.ts")),g=r(s("./src/assets/json/advance.json"));function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var _,b="ScreeSponsor",h=(r=h.default,(0,d.default)(y,r),_=x(y),(0,a.default)(y,[{key:"list",get:function(){return Object.keys(g.default)}}]),(0,f.default)((s=y).prototype,"list",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"list"),s.prototype),s);function y(){var s;(0,i.default)(this,y);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=_.call.apply(_,[this].concat(t)),(0,m.default)((0,l.default)(s),"state",(0,p.observable)({list:!0,_loaded:!1})),(0,m.default)((0,l.default)(s),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(b);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,s.setState(Object.assign({},t,{_loaded:!0})),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(s),"onToggle",function(){var e=!s.state.list;s.setState({list:e}),s.setStorage(b),e?(0,j.info)("列表显示"):(0,j.info)("按打赏金额分布显示")}),s}t.default=h},"./src/screens/user/sponsor/utils.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.parse-float.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.devGetUsersInfo=function(){return n.apply(this,arguments)},t.timeDiff=function(){var e=(0,a.default)("2019-03-30"),t=(0,a.default)(),t=Math.floor(t.diff(e)/1e3),e=Math.floor(t/31536e3),s=(t-=31536e3*e,Math.floor(t/2592e3)),r=(t-=2592e3*s,Math.floor(t/86400)),n=(t-=86400*r,Math.floor(t/3600)),o=(t-=3600*n,Math.floor(t/60)),t=t-=60*o;return e+"年"+s+"月"+r+"日"+n+"时"+o+"分"+t+"秒"},t.useTreemapSquarify=function(){var e=(0,m.useState)((0,u.default)(x)),e=(0,c.default)(e,2),t=e[0],s=e[1],e=(0,m.useCallback)(function(e){s([].concat((0,u.default)(t),[e])),x=[].concat((0,u.default)(t),[e])},[t,s]),r=(0,m.useCallback)(function(){s([]),x=[]},[s]),n=g.LIST.filter(function(e){return!t.includes(e.data)}),o=_(n),i=0,a=0,l=_(n=n.filter(function(e,t){return!(e.weight/o<g.FILTER_RATE||40<=t)||(i+=1,a+=e.weight,!1)})),n=n.map(function(e){return{data:e.data,weight:e.weight,price:e.weight,percent:e.weight/l}}),d=[];try{j.default.squarify({frame:{x:0,y:0,width:f._.window.width,height:f._.window.height-f._.headerHeight-56-(h.IOS?28:0)},nodes:n},function(e,t,s,r,n){return d.push({data:n.data,price:n.price,percent:n.percent,x:parseFloat((0,p.toFixed)(e,3)),y:parseFloat((0,p.toFixed)(t,3)),w:parseFloat((0,p.toFixed)(s,3)),h:parseFloat((0,p.toFixed)(r,3))})})}catch(e){}return{data:d,filterLength:t.length,filterCount:i,filterTotal:a,setFilter:e,resetFilter:r}},r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),u=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),c=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),m=s("./node_modules/react/index.js"),a=r(s("./node_modules/dayjs/dayjs.min.js")),f=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),l=s("./src/utils/kv/index.ts"),j=r(s("./src/utils/thirdParty/treemap.ts")),h=s("./src/constants/index.ts"),d=r(s("./src/assets/json/advance.json")),g=s("./src/screens/user/sponsor/ds.ts");var x=[];function _(e){var t=0;return e.forEach(function(e){return t+=e.weight||0}),t}function n(){return(n=(0,i.default)(o.mark(function e(){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,(0,p.queue)(Object.keys(d.default).map(function(s,r){return(0,i.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.usersStore.fetchUsers({userId:s});case 2:return t=e.sent,console.info(r),n[s]={n:t.userName},t.avatar&&(n[s].a=t.avatar),t.userId!==s&&(n[s].i=t.userId),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))}));case 3:(0,l.update)("sponsor_users_map",n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"./src/screens/user/timeline/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TYPE=t.DEFAULT_SCOPE=void 0;var s=s("./src/constants/index.ts"),r=s.MODEL_TIMELINE_SCOPE.getValue("自己"),r=(t.DEFAULT_SCOPE=r,s.MODEL_TIMELINE_TYPE.getValue("收藏"));t.DEFAULT_TYPE=r},"./src/screens/user/timeline/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){return t=t.$.params.userName,(0,l.jsx)(n.Header,{title:t?t+"的时间线":"时间线",alias:"时间线",hm:["user/timeline","UserTimeline"],headerRight:function(){return(0,l.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,onPress:function(){return(0,a.info)("进度瓷砖会有延迟, 若无数据可过段时间再来")}})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/user/timeline/header/index.tsx#header"})}catch(e){}},"./src/screens/user/timeline/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/user/timeline/header/index.tsx")),d=r(s("./src/screens/user/timeline/mosaic-tile/index.tsx")),u=r(s("./src/screens/user/timeline/list/index.tsx")),r=r(s("./src/screens/user/timeline/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(o.Page,{children:(0,c.jsx)(o.ListView,{data:s.timeline,scrollToTop:!0,ListHeaderComponent:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsx)(u.default,{})]}),renderItem:function(){return(0,c.jsx)(n.default,{})},onHeaderRefresh:s.onHeaderRefresh,onFooterRefresh:s.fetchTimeline})})]})})});t.default=s;try{timeline.displayName="timeline",timeline.__docgenInfo={description:"",displayName:"timeline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/index.tsx#timeline"]={docgenInfo:timeline.__docgenInfo,name:"timeline",path:"src/screens/user/timeline/index.tsx#timeline"})}catch(e){}},"./src/screens/user/timeline/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),f=s("./src/screens/user/timeline/item/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var r=e.subject,n=e.action,o=t.navigation,i=(0,f.memoStyles)();return(0,p.jsxs)(l.Flex,{style:i.subjects,align:"start",wrap:"wrap",children:[(0,p.jsx)(a.default,{style:i.nodeDay}),r.map(function(e){var t=(0,c.findSubjectCn)(e.name),s="动画";return n.includes("读")&&(s="书籍"),n.includes("听")&&(s="音乐"),n.includes("玩")&&(s="游戏"),(0,p.jsx)(a.default,{style:1<r.length?i.subjectHalf:i.subject,children:(0,p.jsx)(l.Touchable,{animate:!0,onPress:function(){(0,m.t)("时间线.跳转",{to:"Suject",subjectId:e.id}),o.push("Subject",{subjectId:e.id,_cn:t,_jp:e.name,_image:e.cover,_type:s})},children:(0,p.jsxs)(l.Flex,{align:"start",children:[(0,p.jsx)(d.Cover,{src:e.cover,width:f.WIDTH,height:f.HEIGHT,type:s,radius:!0}),(0,p.jsxs)(l.Flex.Item,{style:u._.ml.md,children:[(0,p.jsxs)(l.Flex,{style:u._.mt.xs,children:[(0,p.jsx)(d.Tag,{value:n.replace("了","")}),!!e.star&&(0,p.jsx)(d.Stars,{style:u._.ml.xs,value:e.star,size:10})]}),(0,p.jsx)(l.Text,{style:u._.mt.sm,size:12,bold:!0,numberOfLines:3,children:t}),!!e.comment&&(0,p.jsx)(l.Flex,{style:u._.mt.sm,children:(0,p.jsx)(l.Text,{style:i.comment,size:12,children:e.comment})})]})]})})},String(e.id))})]})});t.default=s},"./src/screens/user/timeline/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=t.WIDTH=t.HEIGHT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=r._.r(s.IMG_WIDTH/1.1),s=(t.WIDTH=n,r._.r(s.IMG_HEIGHT/1.1)),s=(t.HEIGHT=s,r._.memoStyles(function(){return{nodeDay:{position:"absolute",zIndex:3,top:r._.r(8),left:0,width:r._.r(6),height:r._.r(6),marginTop:r._.r(-3),marginLeft:r._.r(-12),backgroundColor:r._.colorMain,borderRadius:r._.r(3),transform:[{translateX:r._.r(-3)}]},subjects:{marginBottom:r._.sm},cover:{width:n},subject:{width:"100%",marginRight:r._.sm,marginBottom:r._.md},subjectHalf:{width:"100%",maxWidth:(r._.window.contentWidth-2*r._.sm)/2,paddingRight:r._.sm,marginBottom:r._.md},comment:{paddingVertical:r._.sm,paddingHorizontal:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,overflow:"hidden"}}}));t.memoStyles=s},"./src/screens/user/timeline/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/user/timeline/item/index.tsx")),d=s("./src/screens/user/timeline/list/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(e,t){var s=t.$,r=(0,d.memoStyles)();return(0,u.jsx)(n.default,{style:r.container,children:s.yearsTimeline.map(function(e,t){return(0,u.jsxs)(n.default,{children:[(0,u.jsxs)(n.default,{children:[(0,u.jsx)(n.default,{style:r.lineBottom}),(0,u.jsx)(n.default,{style:r.nodeYear}),(0,u.jsxs)(o.Flex,{children:[(0,u.jsxs)(o.Text,{size:18,lineHeight:48,type:"title",bold:!0,children:[e.title,"年"," "]}),0===t&&(0,u.jsxs)(o.Text,{style:i._.ml.sm,size:12,bold:!0,children:["加入 Bangumi",(0,u.jsxs)(o.Text,{type:"main",size:12,bold:!0,children:[" ",s.days," "]}),"天"]})]}),(0,u.jsx)(o.Heatmap,{id:"时间线.跳转"})]}),e.data.map(function(e){return(0,u.jsxs)(n.default,{children:[(0,u.jsxs)(n.default,{children:[(0,u.jsx)(n.default,{style:r.line}),(0,u.jsx)(n.default,{style:r.nodeMonth}),(0,u.jsxs)(n.default,{style:r.block,children:[(0,u.jsxs)(o.Text,{size:20,lineHeight:28,type:"title",bold:!0,children:[parseInt(e.title.slice(5,7)),"月"]}),(0,u.jsxs)(o.Flex,{children:[!!e.actions["看过"]&&(0,u.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["看过"," ",(0,u.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["看过"]," "]})]}),!!e.actions["在看"]&&(0,u.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["在看"," ",(0,u.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["在看"]," "]})]}),!!e.actions["想看"]&&(0,u.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["想看"," ",(0,u.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["想看"]," "]})]}),!!e.actions["搁置"]&&(0,u.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["搁置"," ",(0,u.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["搁置"]," "]})]}),!!e.actions["抛弃"]&&(0,u.jsxs)(o.Text,{style:i._.mr.sm,size:13,lineHeight:20,type:"sub",children:["抛弃"," ",(0,u.jsxs)(o.Text,{size:13,lineHeight:20,type:"main",bold:!0,children:[e.actions["抛弃"]," "]})]})]})]})]}),(0,u.jsx)(n.default,{children:e.data.map(function(e){var t=e.title.split("-"),t=t[1]+"月"+t[2]+"日";return(0,u.jsxs)(n.default,{children:[(0,u.jsxs)(n.default,{children:[(0,u.jsx)(n.default,{style:r.line}),(0,u.jsx)(o.Text,{lineHeight:28,bold:!0,children:t})]}),(0,u.jsxs)(n.default,{children:[(0,u.jsx)(n.default,{style:r.line}),e.data.map(function(e){return(0,u.jsx)(l.default,{subject:e.subject,action:e.action},e.id)})]})]},e.title)})})]},e.title)})]},e.title)})})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/timeline/list/index.tsx#list"})}catch(e){}},"./src/screens/user/timeline/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.r(32),marginRight:r._.wind,marginLeft:r._.wind-r._._wind},line:{position:"absolute",top:0,left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},lineBottom:{position:"absolute",zIndex:1,top:"50%",left:0,width:1,height:"100%",marginLeft:r._.r(-12),backgroundColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),transform:[{translateX:r._.r(-.5)}]},nodeYear:{position:"absolute",zIndex:2,top:"50%",left:0,width:r._.r(4),height:r._.r(4),marginTop:r._.r(-2),marginLeft:r._.r(-12),backgroundColor:r._.colorTitle,borderRadius:r._.r(2),transform:[{translateX:r._.r(-2)}]},nodeMonth:{position:"absolute",zIndex:2,top:r._.r(22),left:0,width:r._.r(8),height:r._.r(8),marginTop:r._.r(-4),marginLeft:r._.r(-4),backgroundColor:r._.colorPlain,borderWidth:1,borderColor:r._.select(r._.colorBorder,"rgb(57, 57, 59)"),borderRadius:r._.r(4),transform:[{translateX:r._.r(-12)}]},block:{paddingTop:4,paddingHorizontal:r._.md,paddingBottom:10,marginBottom:r._.md,backgroundColor:r._.select(r._.colorMainLight,r._.colorBg),borderWidth:1,borderColor:r._.select(r._.colorMain,"rgba(254, 138, 149, 0.5)"),borderRadius:r._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/user/timeline/mosaic-tile/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),d=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),u=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),j=s("./src/screens/user/timeline/mosaic-tile/utils.ts"),h=s("./src/screens/user/timeline/mosaic-tile/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=(0,h.memoStyles)(),n={"01-25":0,"02-22":0,"03-25":0,"04-24":0,"05-25":0,"06-24":0,"07-25":0,"08-25":0,"09-24":0,"10-25":0,"11-24":0,"12-25":0},o=((t=(0,j.getDates)()).forEach(function(e,t){var s,e=e.slice(5,e.length);e in n&&!n[e]&&(s=parseInt(e.slice(0,2)),n[s]=Math.floor(t/7),delete n[e])}),new Array(12).fill(0).map(function(e,t){return t+1})),i=(0,m.date)("Y-m-d",(0,m.getTimestamp)()),a={1:c._.select("#ffd8db","rgba(254, 138, 149, 0.32)"),2:c._.select("#fe9da7","rgba(254, 138, 149, 0.48)"),3:c._.select("#fe8a95","rgba(254, 138, 149, 0.64)"),4:c._.select("#fe5060","rgba(254, 138, 149, 0.8)"),5:c._.select("#fd293d","rgba(254, 138, 149, 1)")};return(0,g.jsxs)(u.Flex,{style:r.container,children:[(0,g.jsxs)(d.default,{style:r.days,children:[(0,g.jsx)(u.Text,{style:[r.day,{top:h.PX+h.MARGIN}],size:10,type:"sub",children:"日"}),(0,g.jsx)(u.Text,{style:[r.day,{top:3*(h.PX+h.MARGIN)}],size:10,type:"sub",children:"二"}),(0,g.jsx)(u.Text,{style:[r.day,{top:5*(h.PX+h.MARGIN)}],size:10,type:"sub",children:"四"}),(0,g.jsx)(u.Text,{style:[r.day,{top:7*(h.PX+h.MARGIN)}],size:10,type:"sub",children:"六"})]}),(0,g.jsx)(u.Flex.Item,{children:(0,g.jsx)(l.default,Object.assign({contentContainerStyle:r.contentContainerStyle,horizontal:!0},p.SCROLL_VIEW_RESET_PROPS,{children:(0,g.jsxs)(d.default,{children:[(0,g.jsx)(u.Flex,{style:r.months,children:o.map(function(e){return(0,g.jsxs)(u.Text,{style:[r.month,{left:(n[e]||0)*(h.PX+h.MARGIN)+2}],size:10,type:"sub",children:[e,"月"]},String(e))})}),(0,g.jsx)(u.Flex,{style:r.items,direction:"column",wrap:"wrap",children:t.map(function(e){return(0,g.jsx)(u.Touchable,{style:(0,m.stl)(r.item,e===i&&r.itemToday,{backgroundColor:a[s.mosaicTile[e]]||(s.mosaicTile[e]?a[5]:c._.select(c._.colorBg,c._._colorDarkModeLevel1))}),onPress:function(){(0,f.t)("时间线.点击瓷砖",{date:e,value:s.mosaicTile[e]||0}),(0,m.info)(e+"："+(s.mosaicTile[e]||0))}},String(e))})})]})}))}),(0,g.jsx)(u.Heatmap,{id:"时间线.点击瓷砖"})]})});t.default=s;try{mosaictile.displayName="mosaictile",mosaictile.__docgenInfo={description:"",displayName:"mosaictile",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/timeline/mosaic-tile/index.tsx#mosaictile"]={docgenInfo:mosaictile.__docgenInfo,name:"mosaictile",path:"src/screens/user/timeline/mosaic-tile/index.tsx#mosaictile"})}catch(e){}},"./src/screens/user/timeline/mosaic-tile/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=t.PX=t.MARGIN=void 0;var r=s("./src/stores/index.ts"),n=r._.r(12),o=(t.PX=n,r._.r(3)),s=(t.MARGIN=o,r._.memoStyles(function(){return{container:{paddingVertical:r._.sm},months:{height:r._.r(16)},month:{position:"absolute",zIndex:1,top:0,whiteSpace:"nowrap"},days:{marginLeft:r._.wind,width:r._.r(16),height:"100%"},day:{position:"absolute",zIndex:1,top:0,left:0},contentContainerStyle:{paddingRight:r._.wind},items:{minWidth:"100%",height:7*(n+o),transform:[{rotateX:"180deg"}]},item:{width:n,height:n,marginRight:o,marginTop:o,borderRadius:r._.radiusSm,overflow:"hidden"},itemToday:{borderWidth:1,borderColor:r._.colorTitle}}}));t.memoStyles=s},"./src/screens/user/timeline/mosaic-tile/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getDates=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:52,s=+new Date-24*((new Date).getDay()+7*e)*60*60*1e3;return new Array(7*(e+1)).fill(0).map(function(e,t){return(0,r.date)("Y-m-d",+new Date(s+24*t*60*60*1e3)/1e3)}).reverse()};var r=s("./src/utils/index.ts")},"./src/screens/user/timeline/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),g=s("./src/screens/user/timeline/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,d.default)(b,s),_=x(b),(0,a.default)(b,[{key:"userId",get:function(){return this.params.userId}},{key:"users",get:function(){return j.usersStore.users(this.userId)}},{key:"days",get:function(){var e=this.users.join;return e?(e=(0,h.getTimestamp)(e.replace(" 加入","")),Math.floor(((0,h.getTimestamp)()-e)/24/60/60)):"-"}},{key:"mosaicTile",get:function(){return j.collectionStore.mosaicTile}},{key:"timeline",get:function(){var e=j.timelineStore.timeline(g.DEFAULT_SCOPE,g.DEFAULT_TYPE);return Object.assign({},e,{list:e.list.map(function(s){var e="今天"===(e=s.date)?(0,h.date)("Y-m-d",(0,h.getTimestamp)()):"昨天"===e?(0,h.date)("Y-m-d",(0,h.getTimestamp)()-86400):String(e).split("-").map(function(e){return(0,h.pad)(e)}).join("-");return{id:s.id,date:e,action:s.p2.text,subject:(s.p3.url||[]).filter(function(e){return!!e}).map(function(e,t){return{id:parseInt(e.match(/\d+/)[0]),name:s.p3.text[t]||"",cover:s.image[t]||"",star:s.star,comment:s.comment||""}}),time:s.time}})})}},{key:"daysTimeline",get:function(){var s=[],r={};return this.timeline.list.forEach(function(e){var t=e.date;void 0===r[t]?(r[t]=s.length,s.push({title:t,data:[e]})):s[r[t]].data.push(e)}),s}},{key:"monthsTimeline",get:function(){var s=[],r={};return this.daysTimeline.forEach(function(e){var t=e.title.slice(0,7);void 0===r[t]?(r[t]=s.length,s.push({title:t,data:[e],actions:{}})):s[r[t]].data.push(e)}),s.forEach(function(s){s.data.forEach(function(e){e.data.forEach(function(e){var t=(t=e.action).replace(/玩|听|读/g,"看").replace("了","");s.actions[t]?s.actions[t]+=e.subject.length:s.actions[t]=e.subject.length})})}),s}},{key:"yearsTimeline",get:function(){var s=[],r={};return this.monthsTimeline.forEach(function(e){var t=e.title.slice(0,4);void 0===r[t]?(r[t]=s.length,s.push({title:t,data:[e]})):s[r[t]].data.push(e)}),s}}]),(0,f.default)((r=b).prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,f.default)(r.prototype,"users",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"users"),r.prototype),(0,f.default)(r.prototype,"days",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"days"),r.prototype),(0,f.default)(r.prototype,"mosaicTile",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"mosaicTile"),r.prototype),(0,f.default)(r.prototype,"timeline",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"timeline"),r.prototype),(0,f.default)(r.prototype,"daysTimeline",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"daysTimeline"),r.prototype),(0,f.default)(r.prototype,"monthsTimeline",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"monthsTimeline"),r.prototype),(0,f.default)(r.prototype,"yearsTimeline",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"yearsTimeline"),r.prototype);var _,d=r;function b(){var t;(0,i.default)(this,b);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=_.call.apply(_,[this].concat(s)),(0,m.default)((0,l.default)(t),"params",void 0),(0,m.default)((0,l.default)(t),"init",function(){t.userId&&(t.fetchMosaicTile(),setTimeout((0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.users._loaded||j.usersStore.fetchUsers({userId:t.userId}),e.next=3,t.fetchTimeline(!0);case 3:t.fetchTimeline();case 4:case"end":return e.stop()}},e)})),1e3))}),(0,m.default)((0,l.default)(t),"fetchMosaicTile",function(){return j.collectionStore.fetchMosaicTile({userId:t.userId})}),(0,m.default)((0,l.default)(t),"fetchTimeline",function(){return j.timelineStore.fetchTimeline({scope:g.DEFAULT_SCOPE,type:g.DEFAULT_TYPE,userId:t.userId},0<arguments.length&&void 0!==arguments[0]&&arguments[0])}),(0,m.default)((0,l.default)(t),"onHeaderRefresh",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchMosaicTile();case 2:return e.abrupt("return",t.fetchTimeline(!0));case 3:case"end":return e.stop()}},e)}))),t}t.default=d},"./src/screens/user/user-setting/check.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./node_modules/react/jsx-runtime.js");function l(e){var t=e.$;return(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(o.IconHeader,{style:i._.mr.sm,name:"md-remove-circle-outline",onPress:function(){return t.onInit(!0)}}),(0,a.jsx)(o.IconHeader,{style:i._.mr.xs,name:"md-check",onPress:t.onSave,children:(0,a.jsx)(n.Heatmap,{id:"个人设置.保存"})})]})}t.default=l;try{l.displayName="Check",l.__docgenInfo={description:"",displayName:"Check",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/check.tsx#Check"]={docgenInfo:l.__docgenInfo,name:"Check",path:"src/screens/user/user-setting/check.tsx#Check"})}catch(e){}},"./src/screens/user/user-setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/user/user-setting/page.tsx")),l=r(s("./src/screens/user/user-setting/check.tsx")),r=r(s("./src/screens/user/user-setting/store.ts")),d=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Header,{title:"个人设置",hm:["userSetting","UserSetting"],headerRight:function(){return(0,d.jsx)(l.default,{$:s})}}),(0,d.jsx)(a.default,{})]})})});t.default=s;try{usersetting.displayName="usersetting",usersetting.__docgenInfo={description:"",displayName:"usersetting",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/index.tsx#usersetting"]={docgenInfo:usersetting.__docgenInfo,name:"usersetting",path:"src/screens/user/user-setting/index.tsx#usersetting"})}catch(e){}},"./src/screens/user/user-setting/page.tsx":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/react/index.js")),p=n(s("./node_modules/react-native-web/dist/exports/View/index.js")),j=s("./src/components/index.ts"),h=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),b=s("./src/utils/user-setting/index.ts"),y=s("./src/constants/index.ts"),S=s("./src/screens/user/user-setting/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");function T(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,w={Referer:""},f=(s=f.default.Component,(0,d.default)(I,s),O=T(I),(0,a.default)(I,[{key:"avatar",get:function(){var e=this.context.$.usersInfo.avatar;return null==e?void 0:e.large}},{key:"previewAvatarSrc",get:function(){var e=this.context.$,t=e.usersInfo.avatar;return e.state.avatar&&(0,b.fixedRemote)(e.state.avatar,!0)||(null==t?void 0:t.large)}},{key:"previewBgSrc",get:function(){var e=this.context.$,t=e.usersInfo.avatar;return e.state.bg?(0,b.fixedRemote)(e.state.bg)||(0,b.fixedRemote)(e.state.avatar,!0)||(null==t?void 0:t.large):this.previewAvatarSrc}},{key:"blurRadius",get:function(){var e=this.context.$;return e.state.bg?0:y.IOS?""===e.state.bg&&e.state.avatar?48:10:8}},{key:"renderPreview",value:function(){var e=this.context,t=e.$,s=e.navigation,e=t.usersInfo,t=e.nickname,r=e.id,e=e.username;return(0,v.jsxs)(p.default,{style:g._.mb.md,children:[(0,v.jsxs)(p.default,{style:this.styles.container,children:[(0,v.jsx)(j.Image,{style:this.styles.blurView,src:this.previewBgSrc,headers:w,width:g._.window.contentWidth,height:this.styles.preview.height,blurRadius:this.blurRadius,fallback:!!this.blurRadius},this.previewBgSrc),(0,v.jsxs)(j.Flex,{style:this.styles.mask,direction:"column",justify:"center",children:[(0,v.jsx)(j.Image,{style:this.styles.avatar,src:this.previewAvatarSrc,headers:w,size:64,radius:32,border:g._.__colorPlain__,borderWidth:1.5,placeholder:!1,shadow:!0,fallback:!0},this.previewAvatarSrc),(0,v.jsxs)(j.Text,{style:g._.mt.md,type:g._.select("plain","title"),size:12,children:[t,(0,v.jsxs)(j.Text,{type:g._.select("plain","title"),size:12,children:[" ",e||r?"@"+(e||r)+" ":""]})]})]})]}),(0,v.jsx)(p.default,{style:this.styles.example,children:(0,v.jsx)(j.Touchable,{onPress:function(){s.push("Zone",{userId:"sukaretto"})},children:(0,v.jsx)(j.Text,{size:10,lineHeight:16,bold:!0,type:"__plain__",children:"〔示例〕"})})})]})}},{key:"renderForm",value:function(){var t=this.context.$,e=t.state,s=e.nickname,r=e.sign_input,n=e.bg,e=e.avatar,o=this.state.expand;return(0,v.jsxs)(v.Fragment,{children:[o&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(j.Flex,{style:g._.mt.md,children:[(0,v.jsx)(j.Text,{children:"昵称"}),(0,v.jsx)(j.Flex.Item,{style:g._.ml.md,children:(0,v.jsx)(j.Input,{style:this.styles.input,defaultValue:s,placeholder:"请填入昵称",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return t.onChangeText("nickname",e)}})})]}),(0,v.jsxs)(j.Flex,{style:g._.mt.md,children:[(0,v.jsx)(j.Text,{children:"签名"}),(0,v.jsx)(j.Flex.Item,{style:g._.ml.md,children:(0,v.jsx)(j.Input,{style:this.styles.input,defaultValue:r,placeholder:"请填入签名",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return t.onChangeText("sign_input",e)}})})]}),(0,v.jsxs)(j.Flex,{style:g._.mt.md,children:[(0,v.jsx)(j.Text,{children:"头像"}),(0,v.jsx)(j.Flex.Item,{style:g._.ml.md,children:(0,v.jsx)(j.Input,{style:this.styles.input,defaultValue:e,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return t.onChangeText("avatar",e)}})}),(0,v.jsx)(h.IconTouchable,{style:g._.ml.xs,name:"md-info-outline",onPress:function(){return(0,x.confirm)("此头像非网页版头像，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,x.open)(y.HOST_IMAGE_UPLOAD)},"提示")}})]}),(0,v.jsxs)(j.Flex,{style:[g._.mt.md,g._.mb.md],children:[(0,v.jsx)(j.Text,{children:"背景"}),(0,v.jsx)(j.Flex.Item,{style:g._.ml.md,children:(0,v.jsx)(j.Input,{style:this.styles.input,defaultValue:n,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return t.onChangeText("bg",e)}})}),(0,v.jsx)(h.IconTouchable,{style:g._.ml.xs,name:"md-info-outline",onPress:function(){return(0,x.confirm)("网页版没有背景概念，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",function(){return(0,x.open)(y.HOST_IMAGE_UPLOAD)},"提示")}})]})]}),(0,v.jsx)(j.Touchable,{style:this.styles.more,onPress:this.onExpand,children:(0,v.jsx)(j.Flex,{justify:"center",children:(0,v.jsx)(j.Text,{style:[g._.mt.sm,g._.mb.sm],size:13,type:"sub",bold:!0,children:o?"收起资料":"展开资料"})})})]})}},{key:"renderTabs",value:function(){var t=this.context.$,e=t.state.selectedIndex,s=["预设背景","随机头像"];return(0,v.jsx)(j.SegmentedControl,{style:this.styles.segment,values:s,selectedIndex:e,onValueChange:function(e){return t.onValueChange(s.indexOf(e))}},String(t.state._loaded))}},{key:"renderOnlineBgs",value:function(){var s=this,r=this.context.$,n=r.state.bgs,o=this.state.more;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(j.Flex,{wrap:"wrap",children:[(0,v.jsxs)(j.Touchable,{style:this.styles.bg,animate:!0,onPress:function(){return r.onSelectBg("")},children:[(0,v.jsx)(j.Image,{src:(0,b.fixedRemote)(this.previewAvatarSrc),headers:w,width:this.styles.image.width,height:this.styles.image.height,radius:!0,blurRadius:y.IOS?r.state.avatar?64:16:8,fallback:!0},this.previewAvatarSrc),(0,v.jsx)(j.Text,{style:this.styles.blurText,type:"__plain__",bold:!0,align:"center",children:"头像毛玻璃"})]}),n.filter(function(e,t){return!!o||t<=n.length/2}).map(function(e,t){return(0,v.jsxs)(j.Touchable,{style:(0,x.stl)(s.styles.bg,t%2==0&&g._.ml.md),animate:!0,onPress:function(){return r.onSelectBg(e)},onLongPress:function(){return s.onViewOrigin(e,t)},children:[(0,v.jsx)(j.Image,{src:(0,b.fixedRemote)(e),width:s.styles.image.width,height:s.styles.image.height,headers:w,radius:!0},e),!t&&(0,v.jsx)(j.Heatmap,{id:"个人设置.查看原图"})]},t)})]}),(0,v.jsx)(j.Touchable,{style:[g._.mt.md,g._.mb.md],onPress:function(){s.setState({more:!0})},children:(0,v.jsx)(j.Text,{align:"center",size:13,bold:!0,children:o?"没有更多了":"点击加载更多"})}),(0,v.jsx)(j.Text,{style:g._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"长按可查看原图 (以上图来源自 pixiv)"})]})}},{key:"renderPixivs",value:function(){var s=this,r=this.context.$,e=r.state.pixivs;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j.Flex,{wrap:"wrap",children:e.map(function(e,t){return(0,v.jsx)(j.Touchable,{style:(0,x.stl)(s.styles.bg,t%2==1&&g._.ml.md),animate:!0,onPress:function(){return r.onSelectBg(e)},onLongPress:function(){return s.onViewOrigin(e.replace("/c/540x540_70",""),t)},children:(0,v.jsx)(j.Image,{src:e,width:s.styles.image.width,height:s.styles.image.height,headers:w,radius:!0})},t+"|"+e)})}),(0,v.jsx)(j.Text,{style:g._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"背景图保存后会替换成高清版本"})]})}},{key:"renderRefresh",value:function(){return 1!==this.context.$.state.selectedIndex?null:(0,v.jsx)(p.default,{style:this.styles.btn,children:(0,v.jsx)(j.Touchable,{style:this.styles.touch,onPress:this.onRefresh,children:(0,v.jsx)(j.Flex,{style:this.styles.icon,justify:"center",children:(0,v.jsx)(j.Iconfont,{name:"md-refresh",color:g._.colorPlain,size:20})})})})}},{key:"render",value:function(){var t=this,e=this.context.$.state.selectedIndex;return(0,v.jsxs)(p.default,{style:g._.container.plain,children:[this.renderPreview(),(0,v.jsxs)(j.ScrollView,{connectRef:function(e){return t.scrollTo=e},contentContainerStyle:this.styles.contentContainerStyle,keyboardDismissMode:"on-drag",children:[this.renderForm(),this.renderTabs(),0===e&&this.renderOnlineBgs(),1===e&&this.renderAvatars()]}),this.renderRefresh()]})}},{key:"styles",get:function(){return(0,S.memoStyles)()}}]),I);function I(){var n;(0,i.default)(this,I);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=O.call.apply(O,[this].concat(t)),(0,m.default)((0,l.default)(n),"state",{expand:!1,more:!1}),(0,m.default)((0,l.default)(n),"scrollTo",function(){}),(0,m.default)((0,l.default)(n),"onViewOrigin",function(e,t){(0,_.t)("个人设置.查看原图",{index:t}),(0,x.open)(e.replace("small","origin"))}),(0,m.default)((0,l.default)(n),"onExpand",function(){var e=n.state.expand;n.setState({expand:!e})}),(0,m.default)((0,l.default)(n),"onRefresh",(0,o.default)(r.mark(function e(){return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.IOS&&n.scrollTo({x:0,y:0,animated:!0}),n.context.$.onRefresh();case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"renderAvatars",function(){var r=n.context.$,e=r.state.avatars;return(0,v.jsxs)(v.Fragment,{children:[(0,x.arrGroup)(e,5).map(function(e,s){return(0,v.jsx)(j.Flex,{justify:"between",children:e.map(function(e,t){return 2===s&&4===t?(0,v.jsx)(j.Touchable,{style:g._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar("")},children:(0,v.jsx)(j.Image,{src:n.avatar,headers:w,size:60,radius:30,border:g._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e):(0,v.jsx)(j.Touchable,{style:g._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar(e)},children:(0,v.jsx)(j.Image,{src:(0,b.fixedRemote)(e,!0),headers:w,size:60,radius:30,border:g._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e)})},s)}),(0,v.jsx)(j.Text,{style:g._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"(以上图来源自 pixiv)"})]})}),n}d=(0,n.obc)(f);t.default=d;try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/user-setting/page.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/user-setting/page.tsx#page"})}catch(e){}},"./src/screens/user/user-setting/store.ts":(e,t,s)=>{var u=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=s("./node_modules/mobx/dist/mobx.esm.js"),h=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),_=s("./src/utils/user-setting/index.ts"),b=s("./src/constants/index.ts");function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var S,v="ScreenUserSetting",T=/\[bg\](.+?)\[\/bg\]/,O=/\[avatar\](.+?)\[\/avatar\]/,w=/\[size=0\]\[avatar\]\[\/avatar\]\[\/size\]|\[size=0\]\[bg\]\[\/bg\]\[\/size\]/g,d=(s=r.default,(0,d.default)(I,s),S=y(I),(0,a.default)(I,[{key:"userSetting",get:function(){return h.userStore.userSetting}},{key:"myUserId",get:function(){return h.userStore.myUserId}},{key:"usersInfo",get:function(){return h.userStore.usersInfo(this.myUserId)}},{key:"users",get:function(){return h.usersStore.users(this.myUserId)}},{key:"bg",get:function(){var e=this.state.bg;return e||(e=this.userSetting.sign.match(T),(0,g.HTMLDecode)(String(e?String(e[1]).trim():"").replace(w,"")))}},{key:"avatar",get:function(){var e=this.state.avatar;return e||(e=this.userSetting.sign.match(O),(0,g.HTMLDecode)(String(e?String(e[1]).trim():"").replace(w,"")))}}]),(0,p.default)((r=I).prototype,"userSetting",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"userSetting"),r.prototype),(0,p.default)(r.prototype,"myUserId",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"myUserId"),r.prototype),(0,p.default)(r.prototype,"usersInfo",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"usersInfo"),r.prototype),(0,p.default)(r.prototype,"users",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"users"),r.prototype),(0,p.default)(r.prototype,"bg",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"bg"),r.prototype),(0,p.default)(r.prototype,"avatar",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"avatar"),r.prototype),r);function I(){var d;(0,i.default)(this,I);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=S.call.apply(S,[this].concat(t)),(0,f.default)((0,l.default)(d),"state",(0,j.observable)({nickname:"",sign_input:"",avatar:"",bg:"",selectedIndex:0,bgs:[],pixivs:[],avatars:[],_loaded:!1})),(0,f.default)((0,l.default)(d),"init",(0,o.default)(u.mark(function e(){var t;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getStorage(v);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,d.setState({avatar:t.avatar||"",bg:t.bg||"",selectedIndex:t.selectedIndex||0,bgs:t.bgs||[],pixivs:t.pixivs||[],avatars:t.avatars||[],_loaded:(0,g.getTimestamp)()}),e.next=9,d.onInit();case 9:return d.onRefresh(),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"fetchUserSetting",(0,o.default)(u.mark(function e(){var t,s,r;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.userStore.fetchUserSetting();case 2:return t=e.sent,s=t.nickname,s=void 0===s?"":s,r=t.sign_input,r=void 0===r?"":r,d.setState({nickname:s,sign_input:r}),d.setStorage(v),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"fetchBgs",(0,o.default)(u.mark(function e(){var t;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gitee.com/a296377710/bangumi/raw/master/bg.json?t="+(0,g.getTimestamp)()).then(function(e){return e.json()});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,d.setState({bgs:t}),d.setStorage(v),e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"fetchAvatars",(0,o.default)(u.mark(function e(){var t;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_.randomAvatars)(),d.setState({avatars:t}),d.setStorage(v),e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"fetchSetus",(0,o.default)(u.mark(function e(){var t;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.t0=t.push,e.t1=t,e.t2=n.default,e.next=6,fetch((0,b.API_SETU)()).then(function(e){return e.json()});case 6:return e.t3=e.sent.data,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.t5=t.push,e.t6=t,e.t7=n.default,e.next=14,fetch((0,b.API_SETU)()).then(function(e){return e.json()});case 14:return e.t8=e.sent.data,e.t9=(0,e.t7)(e.t8),e.t5.apply.call(e.t5,e.t6,e.t9),d.setState({pixivs:t.filter(function(e){return 1.28*e.width>=e.height}).map(function(e){return e.urls.small})}),e.t10=t.push,e.t11=t,e.t12=n.default,e.next=23,fetch((0,b.API_SETU)()).then(function(e){return e.json()});case 23:return e.t13=e.sent.data,e.t14=(0,e.t12)(e.t13),e.t10.apply.call(e.t10,e.t11,e.t14),e.t15=t.push,e.t16=t,e.t17=n.default,e.next=31,fetch((0,b.API_SETU)()).then(function(e){return e.json()});case 31:return e.t18=e.sent.data,e.t19=(0,e.t17)(e.t18),e.t15.apply.call(e.t15,e.t16,e.t19),d.setState({pixivs:t.filter(function(e){return 1.28*e.width>=e.height}).map(function(e){return e.urls.small})}),d.setStorage(v),e.abrupt("return",t);case 37:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"onInit",(0,o.default)(u.mark(function e(){var t,s,r,n=arguments;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]&&n[0],e.next=3,d.fetchUserSetting();case 3:r=d.userSetting.sign,s=r.match(T),r=r.match(O),d.setState({bg:(0,g.HTMLDecode)(String(s?String(s[1]).trim():"").replace(w,"")),avatar:(0,g.HTMLDecode)(String(r?String(r[1]).trim():"").replace(w,""))}),t&&(0,g.info)("已还原");case 8:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"onRefresh",function(){var e=d.state.selectedIndex;return 0===e?d.fetchBgs():1===e?d.fetchAvatars():void 0}),(0,f.default)((0,l.default)(d),"onChangeText",function(e,t){d.setState((0,f.default)({},e,t))}),(0,f.default)((0,l.default)(d),"onSelectBg",function(e){d.setState({bg:e})}),(0,f.default)((0,l.default)(d),"onSelectAvatar",function(e){d.setState({avatar:e})}),(0,f.default)((0,l.default)(d),"onSave",(0,o.default)(u.mark(function e(){var t,s,r,n,o,i,a,l;return u.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=d.userSetting,t=s.formhash,a=s.sign,s=s.timeoffsetnew,i=d.state,r=i.avatar,n=i.bg,o=i.nickname,i=i.sign_input,(a=a).match(O)?a=a.replace(O,"[avatar]"+(r||"")+"[/avatar]"):a+="[size=0][avatar]"+(r||"")+"[/avatar][/size]","string"==typeof(l=n||"")&&l.includes("i.pixiv.re")&&(l=l.replace("/c/540x540_70","")),a.match(T)?a=a.replace(T,"[bg]"+l+"[/bg]"):a+="[size=0][bg]"+l+"[/bg][/size]",a=a.replace(w,""),h.userStore.doUpdateUserSetting({formhash:t,nickname:o,sign_input:i,newbio:a,timeoffsetnew:s},function(){(0,x.t)("个人设置.保存",{id:d.myUserId}),(0,g.feedback)(),(0,g.info)("保存成功"),d.fetchUserSetting(),h.usersStore.fetchUsers({userId:d.myUserId}),d.setState({bg:l}),d.setStorage(v)},function(){});case 9:case"end":return e.stop()}},e)}))),(0,f.default)((0,l.default)(d),"onValueChange",function(e){d.setState({selectedIndex:e}),(0===e&&!d.state.bgs.length||1===e&&!d.state.avatars.length)&&d.onRefresh(),d.setStorage(v)}),d}t.default=d},"./src/screens/user/user-setting/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/constants/index.ts"),n=s("./src/stores/index.ts"),s=n._.memoStyles(function(){var e=Math.floor(.88*n._.window.contentWidth),t=Math.floor((n._.window.width-n._.md-2*n._._wind)/2),s=.88*t;return{container:{marginHorizontal:n._.wind},mask:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.24)",borderRadius:n._.radiusMd,overflow:"hidden"},blurView:{backgroundColor:n._.colorPlain,borderRadius:n._.radiusMd,overflow:"hidden"},avatar:{marginTop:n._.md,backgroundColor:"rgba(255, 255, 255, 0.8)"},contentContainerStyle:{paddingHorizontal:n._.wind,paddingBottom:n._.bottom},bg:{width:t,height:s,marginBottom:n._.md},input:{height:44,paddingVertical:0,paddingRight:40,borderRadius:n._.radiusMd,overflow:"hidden"},preview:{height:e},image:{width:t,height:s},example:{position:"absolute",zIndex:2,right:n._.wind+n._.sm,bottom:n._.sm,opacity:.5},more:{paddingBottom:n._.md,borderRadius:n._.radiusSm,overflow:"hidden"},btn:{position:"absolute",zIndex:1001,right:n._.wind,bottom:r.DEV?240:64},touch:{backgroundColor:n._.colorTitle,borderRadius:20,overflow:"hidden",opacity:.8},icon:{width:40,height:40},segment:{width:n._.r(n._.window.contentWidth),height:n._.r(36),marginBottom:n._.md+16},blurText:{position:"absolute",zIndex:1,top:64,left:0,right:0,textShadowOffset:{width:1,height:1},textShadowRadius:1,textShadowColor:"rgba(0, 0, 0, 0.24)",opacity:.8}}});t.memoStyles=s},"./src/screens/user/v2/center-avatar/index.tsx":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),l=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=r(s("./node_modules/react-native-web/dist/exports/Alert/index.js")),u=s("./src/components/index.ts"),c=s("./src/screens/_/base/avatar/utils.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),j=s("./src/utils/async/index.ts"),h=s("./src/screens/user/v2/center-avatar/styles.ts"),g=s("./node_modules/react/jsx-runtime.js"),x=m._.r(88),_={top:28,right:16,bottom:16,left:28};s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=m.systemStore.setting.onlineStatus,n=s.usersInfo.avatar,o="string"==typeof(s=(0,c.getCDNAvatar)(s.avatar||(null==n?void 0:n.large)))&&!s.includes("//lain.bgm.tv/pic/user/l/");return(0,g.jsxs)(l.default,{style:m._.mt.md,children:[(0,g.jsx)(u.Heatmap,{id:"我的.跳转",to:"UserSetting",alias:"个人设置"}),(0,g.jsx)(u.Touchable,{animate:!0,onPress:function(){(0,p.t)("我的.跳转",{to:"UserSetting"}),r.push("UserSetting")},children:(0,g.jsx)(u.Image,{style:h.styles.avatar,src:s,size:x,radius:x/2,border:h.styles.avatar.backgroundColor,borderWidth:2,shadow:!0,fallback:o,fallbackSrc:null==n?void 0:n.large},s)}),(0,g.jsx)(l.default,{style:h.styles.status,children:(0,g.jsx)(u.Touchable,{hitSlop:_,animate:!0,scale:.9,onPress:function(){var e,t=m.systemStore.setting.onlineStatus,s=[{text:(0,j.s2tAsync)("取消"),onPress:function(){}}];s.push(t?{text:(0,j.s2tAsync)("取消公开"),onPress:function(){m.systemStore.switchSetting("onlineStatus"),(0,f.feedback)(),(0,p.t)("我的.在线状态",{status:"off"})}}:{text:(0,j.s2tAsync)("公开"),onPress:(e=(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.userStore.fetchOnlines();case 2:if(t=e.sent){e.next=6;break}return(0,f.info)("服务出错，设置公开状态失败"),e.abrupt("return");case 6:m.systemStore.switchSetting("onlineStatus"),"object"==typeof t&&(0,f.info)("当前有 "+Object.keys(t).length+" 个用户公开状态"),(0,f.feedback)(),(0,p.t)("我的.在线状态",{status:"on"});case 10:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})}),d.default.alert((0,j.s2tAsync)("公开在线状态"),(0,j.s2tAsync)("此功能仅在 APP 内生效。\n            \n同意公开后，在所有正在公开状态的用户间，会尽可能地在头像旁边显示在线状态标识\n            \n1天内使用过 APP 是绿色标识，3天内是橙色，超过3天没有使用则会消失\n            \n请注意，一旦同意后，标识会至少公开3天，尽管同意后又立马取消公开"),s)},children:(0,g.jsx)(u.Flex,{style:h.styles.touch,justify:"center",children:t?(0,g.jsx)(l.default,{style:h.styles.online}):(0,g.jsx)(u.Iconfont,{style:h.styles.edit,name:"md-edit",color:"rgba(96, 96, 96, 0.48)",size:11})})})})]})});t.default=s;try{centeravatar.displayName="centeravatar",centeravatar.__docgenInfo={description:"",displayName:"centeravatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/center-avatar/index.tsx#centeravatar"]={docgenInfo:centeravatar.__docgenInfo,name:"centeravatar",path:"src/screens/user/v2/center-avatar/index.tsx#centeravatar"})}catch(e){}},"./src/screens/user/v2/center-avatar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"},status:{position:"absolute",zIndex:1,right:1,bottom:1},touch:{width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},edit:{marginLeft:s._.ios(1,0)},online:{width:s._.ios(14,13),height:s._.ios(14,13),backgroundColor:"rgb(9, 241, 117)",borderRadius:s._.ios(14,13)}});t.styles=s},"./src/screens/user/v2/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.H_TABBAR=t.H_RADIUS_LINE=t.H_HEADER=t.DEFAULT_SUBJECT_TYPE=t.DEFAULT_ORDER=void 0,r(s("./node_modules/expo-constants/build/Constants.js"))),n=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),o=s.MODEL_SUBJECT_TYPE.getLabel("动画"),o=(t.DEFAULT_SUBJECT_TYPE=o,s.MODEL_COLLECTIONS_ORDERBY.getValue("收藏时间")),o=(t.DEFAULT_ORDER=o,n._.radiusLg),r=(t.H_RADIUS_LINE=o,n._.platforms(88,68,80,80-r.default.statusBarHeight)+o),o=(t.H_HEADER=r,n._.r(48)),r=(t.H_TABBAR=o,s.COLLECTION_STATUS.map(function(e){return{title:e.label,key:e.value}}));t.TABS=r},"./src/screens/user/v2/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={styles:{},showFilter:!1,fliterInputText:"",isTabActive:!1,isFiltering:!1,onFilterChange:function(){}}},"./src/screens/user/v2/filter/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),u=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),m=s("./src/components/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/user/v2/filter/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}s=(0,r.memo)(function(e){var t=e.styles,s=e.showFilter,r=e.fliterInputText,n=e.isTabActive,o=e.isFiltering,e=e.onFilterChange,i=(0,d.useRef)(null),a=(0,d.useRef)(new u.default.Value(0)),l=(0,d.useMemo)(function(){return{height:a.current.interpolate({inputRange:[0,1],outputRange:[0,56]}),overflow:"hidden"}},[]);return(0,d.useEffect)(function(){setTimeout(function(){u.default.timing(a.current,{toValue:s?1:0,duration:160,useNativeDriver:!1}).start(),s&&n&&setTimeout(function(){var e;"function"==typeof(null==(e=i.current)?void 0:e.onFocus)&&i.current.onFocus()},160)},s?160:0)},[n,s]),(0,p.jsx)(u.default.View,{style:l,children:(0,p.jsx)(c.default,{style:t.container,children:(0,p.jsx)(m.Flex,{style:t.filter,justify:"center",children:(0,p.jsxs)(c.default,{style:t.wrap,children:[(0,p.jsx)(m.Input,{ref:i,style:t.input,clearButtonMode:"never",value:r,placeholder:"搜索",onChangeText:e}),o&&(0,p.jsx)(m.Flex,{style:t.loading,justify:"center",children:(0,p.jsx)(m.Loading.Normal,{color:f._.colorSub,size:16})})]})})})})},n.DEFAULT_PROPS);t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { height: number; }; filter: { paddingTop: number; paddingBottom: number; }; wrap: { width: number; }; input: { textAlign: "center"; backgroundColor: string; borderRadius: number; marginRight: number; ... 5 more ...; paddingVertical: number; } | { ...; }; icon: { ...; }; loading: { ...; }; }'}},showFilter:{defaultValue:null,description:"",name:"showFilter",required:!0,type:{name:"boolean"}},fliterInputText:{defaultValue:null,description:"",name:"fliterInputText",required:!0,type:{name:"string"}},isTabActive:{defaultValue:null,description:"",name:"isTabActive",required:!0,type:{name:"boolean"}},isFiltering:{defaultValue:null,description:"",name:"isFiltering",required:!0,type:{name:"boolean"}},onFilterChange:{defaultValue:null,description:"",name:"onFilterChange",required:!0,type:{name:"(filter: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/filter/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/user/v2/filter/filter.tsx#filter"})}catch(e){}},"./src/screens/user/v2/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),i=s("./src/screens/user/v2/ds.ts"),a=r(s("./src/screens/user/v2/filter/filter.tsx")),l=s("./src/screens/user/v2/filter/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var e=e.page,t=t.$,s=t.state,r=s.subjectType,n=s.showFilter,s=s.fliterInputText,e=i.TABS[e].key,o=t.isTabActive(r,e),r=t.isFiltering(r,e);return(0,d.jsx)(a.default,{styles:(0,l.memoStyles)(),showFilter:n,fliterInputText:s,isTabActive:o,isFiltering:r,onFilterChange:t.onFilterChange})});t.default=r},"./src/screens/user/v2/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{height:48},filter:{paddingTop:r._.sm-4,paddingBottom:r._.sm},wrap:{width:r._.r(248)},input:Object.assign({height:44,paddingVertical:0},r._.fontSize(16),{textAlign:"center",backgroundColor:r._.select("rgba(238, 238, 238, 0.8)",r._._colorDarkModeLevel1),borderRadius:44}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},loading:{position:"absolute",zIndex:2,top:0,right:0,width:44,height:44}}});t.memoStyles=s},"./src/screens/user/v2/fixed-tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/v2/tool-bar/index.tsx")),l=s("./src/screens/user/v2/fixed-tool-bar/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.fixed,r=e.page,n=e.pageCurrent,o=e.pageTotal,e=e.onRefreshOffset,t=t.$;return s?t.state.fixed?(0,d.jsx)(i.default,{style:l.styles.fixed,children:(0,d.jsx)(a.default,{page:t.state.page,pageCurrent:n,pageTotal:o,onRefreshOffset:t.onRefreshOffset})}):null:t.state.fixed?(0,d.jsx)(i.default,{style:l.styles.placeholder}):(0,d.jsx)(a.default,{page:r,pageCurrent:n,pageTotal:o,onRefreshOffset:e})});t.default=r},"./src/screens/user/v2/fixed-tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts")._.create({fixed:{marginTop:-2},placeholder:{height:70}});t.styles=s},"./src/screens/user/v2/head/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/stores/index.ts"),a=r(s("./src/screens/user/v2/center-avatar/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");r=(0,o.obc)(function(e,t){var e=e.style,s=(t=t.$.usersInfo).nickname,r=t.id,t=t.username;return(0,l.jsxs)(n.Flex,{style:e,justify:"center",direction:"column",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(n.Flex,{style:i._.mt.md,children:(0,l.jsxs)(n.Text,{type:i._.select("plain","title"),bold:!0,children:[s,t||r?" @"+(t||r):""]})})]})});t.default=r},"./src/screens/user/v2/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,i.jsx)(n.Heatmap,{bottom:o._.bottom,id:"我的",screen:"User"})});t.default=s},"./src/screens/user/v2/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/navigations/tab-bar/index.tsx"),a=s("./src/stores/index.ts"),l=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),u=r(s("./src/screens/user/v2/wrap/index.tsx")),c=r(s("./src/screens/user/v2/heatmaps/index.tsx")),r=r(s("./src/screens/user/v2/store/index.ts")),m=s("./node_modules/react/jsx-runtime.js"),s=(0,l.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,d.useRunAfter)(function(){s.init(),r.addListener(i.EVENT_APP_TAB_PRESS+"|User",function(){s.onRefreshThenScrollTop()})}),(0,d.useObserver)(function(){var e;return s.usersInfo.id||a.userStore.isLogin?(e=s.state._loaded,(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.StatusBarEvents,{barStyle:"light-content",backgroundColor:"transparent"}),(0,m.jsx)(n.Page,{children:!!e&&(0,m.jsx)(u.default,{})}),(0,m.jsx)(n.Track,{title:"时光机",hm:["user/"+s.myUserId+"?route=user","User"]}),(0,m.jsx)(c.default,{})]})):(0,m.jsx)(o.Login,{style:a._.container.plain})})});t.default=s;try{v2.displayName="v2",v2.__docgenInfo={description:"",displayName:"v2",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/index.tsx#v2"]={docgenInfo:v2.__docgenInfo,name:"v2",path:"src/screens/user/v2/index.tsx#v2"})}catch(e){}},"./src/screens/user/v2/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0});s={styles:{},forwardRef:function(){},scrollY:0,page:0,list:!(t.DEFAULT_PROPS=void 0),userPagination:!1,userGridNum:4,userCollections:s("./src/constants/index.ts").LIST_EMPTY,onScroll:function(){},onRefreshOffset:function(){},onFooterRefresh:function(){}};t.DEFAULT_PROPS=s},"./src/screens/user/v2/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),p=r(s("./src/screens/user/v2/list/list.tsx")),j=r(s("./src/screens/user/v2/list/loading/index.tsx")),h=s("./src/screens/user/v2/list/styles.ts"),g=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s,r,n,o=e.page,i=e.title,a=e.scrollY,l=e.onScroll,e=e.onRefreshOffset,t=t.$,d=t.state,u=d.subjectType,d=d.list,i=t.userCollections(u,f.MODEL_COLLECTION_STATUS.getValue(i));return i._loaded?(s=(r=c.systemStore.setting).userPagination,r=r.userGridNum,n=Number(r)+(c._.isLandscape?1:0),(0,g.jsx)(p.default,{styles:(0,h.memoStyles)(),forwardRef:t.forwardRef,scrollY:a,page:o,list:d,userPagination:s,userGridNum:n,userCollections:i,onScroll:l,onRefreshOffset:e,onFooterRefresh:t.fetchUserCollections},(0,m.getKeyString)(c._.orientation,u,r))):(0,g.jsx)(j.default,{})});t.default=r},"./src/screens/user/v2/list/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js"),u={id:"我的.跳转",type:"grid"};s=(0,r.obc)(function(e,t){var s=e.item,e=e.numColumns,r=t.$,t=t.navigation,n=(o=r.state).subjectType,o=o.showYear,n=l.MODEL_SUBJECT_TYPE.getTitle(n);return(0,d.jsx)(i.ItemCollectionsGrid,Object.assign({navigation:t,num:e,type:n,userCollection:r.label,event:u},s,{isRectangle:"音乐"===n,airtime:!!o&&("动画"===n?(0,a.matchYearAndMonth):(0,a.matchYear))(s.tip)}))});t.default=s},"./src/screens/user/v2/list/item-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),u=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),m=s("./src/screens/user/v2/ds.ts"),f=s("./node_modules/react/jsx-runtime.js"),p={id:"我的.跳转",type:"list"};s=(0,r.obc)(function(e,t){var s,r=e.item,n=e.index,e=e.page,o=t.$,t=t.navigation,i=o.state.subjectType,e=m.TABS[e].key,a=c.MODEL_SUBJECT_TYPE.getTitle(i),i=o.isTabActive(i,e)?o.state.filter:"",l="";return o.isSortByScore&&((s=u.subjectStore.rank(r.id)).s&&(l+=s.s),s.r)&&(l+=" #"+s.r),(0,f.jsx)(d.ItemCollections,Object.assign({navigation:t,index:n,inViewY:m.H_HEADER},r,{showLabel:!1,type:a,userCollection:o.label,isDo:"do"===e,isDropped:"dropped"===e,isOnHold:"on_hold"===e,event:p,filter:i,simpleStars:!0,rank:l,collection:o.isMe?void 0:u.collectionStore.collect(r.id),onManagePress:o.onManagePress}))});t.default=s},"./src/screens/user/v2/list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/user/v2/list/item-list/index.tsx")),i=r(s("./src/screens/user/v2/list/item-grid/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.item,r=e.index,n=e.page,e=e.numColumns;return t.$.state.list?(0,a.jsx)(o.default,{item:s,index:r,page:n}):(0,a.jsx)(i.default,{item:s,numColumns:e})});t.default=r},"./src/screens/user/v2/list/list.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),_=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),b=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),y=s("./src/components/index.ts"),S=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),v=s("./src/utils/hooks/index.ts"),T=r(s("./src/screens/user/v2/fixed-tool-bar/index.tsx")),O=r(s("./src/screens/user/v2/list/item/index.tsx")),w=r(s("./src/screens/user/v2/list/pagination/index.tsx")),r=s("./src/screens/user/v2/list/ds.ts"),I=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var t=e.styles,s=e.forwardRef,r=e.scrollY,n=e.page,o=e.list,i=e.userPagination,a=e.userGridNum,l=e.userCollections,d=e.onScroll,u=e.onRefreshOffset,e=e.onFooterRefresh,c=l.pagination,m=c.page,f=c.pageTotal,c=(0,x.useMemo)(function(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(b.default,{style:t.header}),(0,I.jsx)(T.default,{page:n,pageCurrent:m,pageTotal:f,onRefreshOffset:u})]})},[u,n,m,f,t]),p=(0,x.useMemo)(function(){return _.default.event([{nativeEvent:{contentOffset:{y:r}}}],{useNativeDriver:!0,listener:d})},[d,r]),j=(0,x.useCallback)(function(e){s(e,n)},[s,n]),h=o?void 0:a,a=(0,x.useCallback)(function(e){var t=e.item,e=e.index;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(O.default,{item:t,index:e,page:n,numColumns:h}),0===e&&(0,I.jsx)(y.Heatmap,{id:"我的.跳转",to:"Subject",alias:"条目"})]})},[n,h]),g=((0,v.useMount)(function(){u(n)}),{});return i?g.ListFooterComponent=(0,I.jsx)(w.default,{}):g.onFooterRefresh=e,(0,I.jsx)(y.ListView,Object.assign({ref:j,keyExtractor:S.keyExtractor,style:t.listView,contentContainerStyle:o?t.list:t.grid,animated:!0,data:l,numColumns:h,lazy:12,keyboardDismissMode:"on-drag",renderItem:a,ListHeaderComponent:c,scrollEventThrottle:16,onScroll:p},g),(0,S.getKeyString)(o,h))},r.DEFAULT_PROPS);t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ listView: { zIndex: number; }; list: { paddingBottom: number; minHeight: number; }; grid: { paddingLeft: number; paddingRight: number; paddingBottom: number; minHeight: number; }; header: { height: number; }; }"}},forwardRef:{defaultValue:null,description:"",name:"forwardRef",required:!0,type:{name:"(ref: { scrollToIndex: any; scrollToOffset: any; }, index: string | number) => void"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"boolean"}},userPagination:{defaultValue:null,description:"",name:"userPagination",required:!0,type:{name:"boolean"}},userGridNum:{defaultValue:null,description:"",name:"userGridNum",required:!0,type:{name:"number"}},userCollections:{defaultValue:null,description:"",name:"userCollections",required:!0,type:{name:"{ pagination?: { page: number; pageTotal: number; }; _list?: { id: SubjectId; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; name: string; nameCn: string; tip: string; tags: string; comments: string; score: string | number; time: string; collected: boolean; }[]; _loaded?: Loaded; list: { ...; }[]; }"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"Fn"}},onFooterRefresh:{defaultValue:null,description:"",name:"onFooterRefresh",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/list/list.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/user/v2/list/list.tsx#list"})}catch(e){}},"./src/screens/user/v2/list/loading/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/user/v2/list/loading/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,a.jsx)(n.Loading,{style:[o._.ios(o._.container.plain,o._.container._plain),i.styles.loading]})});t.default=s},"./src/screens/user/v2/list/loading/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({loading:{marginTop:s._.window.height/3}});t.styles=s},"./src/screens/user/v2/list/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=s.state.ipt;return(0,i.jsx)(n.Pagination,{style:o._.mt.md,input:r,onPrev:s.onPrev,onNext:s.onNext,onChange:s.onPageChange,onSearch:function(){return s.onPage(r)}})});t.default=s;try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/list/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/user/v2/list/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/user/v2/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/user/v2/ds.ts"),o=r._.r(42),s=r._.memoStyles(function(){return{listView:{zIndex:0},list:{paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},grid:{paddingLeft:r._.wind-r._._wind-r._.device(0,8),paddingRight:r._.wind-r._._wind,paddingBottom:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight-o},header:{height:r._.parallaxImageHeight+n.H_TABBAR-r._.radiusLg}}});t.memoStyles=s},"./src/screens/user/v2/parallax-image/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.DATA_OTHER=t.DATA_ME=void 0,r(s("./node_modules/react-native-web/dist/exports/Animated/index.js"))),s=(t.DATA_ME=["我的空间","我的好友","我的人物","我的目录","我的日志","我的netaba.re"],{navigation:{},themeStyles:{},parallaxImageHeight:0,avatar:{},bg:"",bgAvatar:"",fixed:!(t.DATA_OTHER=["TA的好友","TA的netaba.re"]),id:"",myUserId:"",nickname:"",paramsUserId:"",scrollY:new r.default.Value(0),src:"",textType:"plain",userId:"",username:""});t.DEFAULT_PROPS=s},"./src/screens/user/v2/parallax-image/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/user/v2/parallax-image/parallax-image.tsx")),u=s("./src/screens/user/v2/parallax-image/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.scrollY,e=e.fixed,r=t.$,t=t.navigation,n=r.usersInfo,o=n.id,i=n.avatar,a=n.nickname,n=n.username;return(0,c.jsx)(d.default,{navigation:t,themeStyles:(0,u.memoStyles)(),parallaxImageHeight:l._.parallaxImageHeight,avatar:i,bg:r.bg,bgAvatar:r.avatar,fixed:e,id:o,myUserId:r.myUserId,nickname:a,paramsUserId:r.params.userId,scrollY:s,src:r.avatar||i.large,textType:l._.select("plain","title"),userId:r.userId,username:n})});t.default=r},"./src/screens/user/v2/parallax-image/parallax-image.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),y=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),S=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),v=s("./src/components/index.ts"),T=s("./src/screens/_/index.ts"),O=s("./src/stores/index.ts"),w=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),I=s("./src/utils/fetch/index.ts"),C=s("./src/constants/index.ts"),k=r(s("./src/screens/user/v2/head/index.tsx")),R=s("./src/screens/user/v2/ds.ts"),E=s("./src/screens/user/v2/parallax-image/ds.ts"),P=s("./src/screens/user/v2/parallax-image/styles.ts"),A=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}r=(0,n.memo)(function(e){var s=e.navigation,t=e.themeStyles,r=e.parallaxImageHeight,n=e.avatar,o=e.bg,i=e.bgAvatar,a=e.fixed,l=e.id,d=e.myUserId,u=e.nickname,c=e.paramsUserId,m=e.scrollY,f=e.src,p=e.textType,j=e.userId,h=e.username,g={transform:[{translateY:m.interpolate({inputRange:[-r,0,r-R.H_HEADER,r],outputRange:[r/2,0,-(r-R.H_HEADER),-(r-R.H_HEADER)]})}]},x=(C.IOS&&g.transform.push({scale:m.interpolate({inputRange:[-r,0,r],outputRange:[2,1,1]})}),(0,b.useCallback)(function(e){switch((0,I.t)("我的.右上角菜单",{key:e}),e){case"我的空间":s.push("Zone",{userId:j});break;case"我的好友":s.push("Friends");break;case"我的人物":s.push("Character");break;case"我的目录":s.push("Catalogs");break;case"我的日志":s.push("Blogs");break;case"我的netaba.re":(0,w.open)("https://netaba.re/user/"+l);break;case"TA的好友":s.push("Friends",{userId:l});break;case"TA的netaba.re":(0,w.open)("https://netaba.re/user/"+l)}},[s,j,l])),e=(0,b.useMemo)(function(){var e=o||i||n.large;return"string"==typeof e&&(e=e.replace("http://","https://")),(0,A.jsxs)(A.Fragment,{children:[C.TEXT_ONLY?(0,A.jsx)(y.default.View,{style:[t.parallaxImage,g]}):(0,A.jsx)(y.default.Image,{style:[t.parallaxImage,g],source:{uri:e},blurRadius:(0,w.getBlurRadius)(e,o,null==n?void 0:n.large)}),(0,A.jsx)(y.default.View,{style:[P.styles.parallaxWrap,P.styles.parallaxMask,g,{opacity:m.interpolate({inputRange:[-r,0,r-R.H_HEADER,r],outputRange:O._.select([0,.4,1,1],[.4,.8,1,1])})}]}),(0,A.jsx)(y.default.View,{style:[P.styles.parallaxMask,g,{opacity:m.interpolate({inputRange:[-r,0,r-R.H_HEADER,r],outputRange:[0,0,1,1]})}],children:(0,A.jsxs)(v.Flex,{style:P.styles.title,justify:"center",children:[(0,A.jsx)(T.Avatar,{style:P.styles.avatar,size:28,src:f,borderWidth:0,fallbackSrc:n.large}),(0,A.jsx)(v.Text,{style:O._.ml.sm,type:p,align:"center",bold:!0,numberOfLines:1,children:(0,w.HTMLDecode)(u)})]})}),(0,A.jsxs)(y.default.View,{style:[P.styles.parallaxWrap,g],children:[(0,A.jsx)(y.default.View,{style:{opacity:m.interpolate({inputRange:[-r,0,r-R.H_HEADER,r],outputRange:[1,1,0,0]})},children:(0,A.jsx)(k.default,{style:t.head})}),(0,A.jsx)(S.default,{style:t.parallaxLine})]})]})},[n.large,o,i,u,r,g,m,f,p,t]),_=(0,b.useMemo)(function(){var e=!!l&&d===l,t=e?E.DATA_ME:E.DATA_OTHER;return(0,A.jsxs)(A.Fragment,{children:[!!c&&(0,A.jsx)(S.default,{style:P.styles.back,children:(0,A.jsx)(T.IconBack,{navigation:s,color:O._.__colorPlain__})}),(0,A.jsx)(S.default,{style:!c&&e?P.styles.menu:P.styles.more,children:(0,A.jsxs)(T.Popover,{style:P.styles.touch,data:t,onSelect:x,children:[(0,A.jsx)(v.Flex,{style:P.styles.icon,justify:"center",children:(0,A.jsx)(v.Iconfont,{name:"md-menu",color:O._.__colorPlain__})}),(0,A.jsx)(v.Heatmap,{right:-40,id:"我的.右上角菜单"})]})}),(0,A.jsxs)(S.default,{style:P.styles.timeline,children:[(0,A.jsx)(T.IconHeader,{name:"md-timeline",color:O._.__colorPlain__,size:21,onPress:function(){(0,I.t)("我的.跳转",{to:"UserTimeline"});var e={userId:h||l};c&&(e.userName=u),s.push("UserTimeline",e)}}),(0,A.jsx)(v.Heatmap,{right:48,id:"我的.跳转",to:"UserTimeline",alias:"时间线"})]}),!c&&(0,A.jsxs)(S.default,{style:P.styles.setting,children:[(0,A.jsx)(T.IconHeader,{name:"setting",color:O._.__colorPlain__,onPress:function(){(0,I.t)("我的.跳转",{to:"Setting"}),s.push("Setting")}}),(0,A.jsx)(v.Heatmap,{id:"我的.跳转",to:"Setting",alias:"设置"})]})]})},[l,d,s,u,x,c,h]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.default,{style:P.styles.parallax,pointerEvents:a?"none":void 0,children:e}),_]})},E.DEFAULT_PROPS);t.default=r;try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},themeStyles:{defaultValue:null,description:"",name:"themeStyles",required:!0,type:{name:'{ parallaxLine: { position: "absolute"; right: number; bottom: number; left: number; height: number; backgroundColor: string; borderTopLeftRadius: number; borderTopRightRadius: number; overflow: "hidden"; }; parallaxImage: { ...; }; head: { ...; }; }'}},parallaxImageHeight:{defaultValue:null,description:"",name:"parallaxImageHeight",required:!0,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"ImagesAvatar"}},bg:{defaultValue:null,description:"",name:"bg",required:!0,type:{name:"string"}},bgAvatar:{defaultValue:null,description:"",name:"bgAvatar",required:!0,type:{name:"string"}},fixed:{defaultValue:null,description:"",name:"fixed",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"UserId"}},myUserId:{defaultValue:null,description:"",name:"myUserId",required:!0,type:{name:"UserId"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string"}},paramsUserId:{defaultValue:null,description:"",name:"paramsUserId",required:!0,type:{name:"UserId"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"Value"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},textType:{defaultValue:null,description:"",name:"textType",required:!0,type:{name:"enum",value:[{value:'"plain"'},{value:'"title"'}]}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/parallax-image/parallax-image.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/v2/parallax-image/parallax-image.tsx#parallaximage"})}catch(e){}},"./src/screens/user/v2/parallax-image/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/styles/index.ts"),o=s("./src/screens/user/v2/ds.ts"),s=r._.memoStyles(function(){var e=r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1);return{parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:o.H_RADIUS_LINE,backgroundColor:e,borderTopLeftRadius:o.H_RADIUS_LINE,borderTopRightRadius:o.H_RADIUS_LINE,overflow:"hidden"},parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8,backgroundColor:e},head:{marginTop:r._.device((r._.parallaxImageHeight-120)/2,80)}}}),s=(t.memoStyles=s,r._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxMask:{backgroundColor:"rgba(0, 0, 0, 0.24)"},title:{position:"absolute",left:"50%",width:240,bottom:o.H_RADIUS_LINE+10,transform:[{translateX:-120}]},back:Object.assign({},r._.header.left,{zIndex:1,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-6:-7,-4)}),menu:Object.assign({},r._.header.left,{zIndex:1,padding:r._.sm,marginTop:r._.ios(n.IS_IOS_5_6_7_8?-14:-16,-12),marginLeft:-4,opacity:.88}),more:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios(-6,-4),opacity:.88}),timeline:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),marginRight:r._.device(44,54),opacity:.88}),setting:Object.assign({},r._.header.right,{zIndex:1,marginTop:r._.ios((n.IS_IOS_5_6_7_8,-6),-4),opacity:.88}),touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}}));t.styles=s},"./src/screens/user/v2/store/action.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),g=s("./src/screens/user/v2/ds.ts"),r=r(s("./src/screens/user/v2/store/fetch.ts")),x=s("./src/screens/user/v2/store/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,d.default)(y,s),b=_(y);var b,r=(0,n.default)(y);function y(){var n;(0,a.default)(this,y);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=b.call.apply(b,[this].concat(s)),(0,m.default)((0,l.default)(n),"scrollToIndex",{}),(0,m.default)((0,l.default)(n),"scrollToOffset",{}),(0,m.default)((0,l.default)(n),"forwardRef",function(e,t){n.scrollToIndex[t]=null==e?void 0:e.scrollToIndex,n.scrollToOffset[t]=null==e?void 0:e.scrollToOffset}),(0,m.default)((0,l.default)(n),"onRefreshThenScrollTop",function(){try{var e=n.state.page;"function"==typeof n.scrollToIndex[e]&&((0,j.t)("其他.刷新到顶",{screen:"User"}),n.scrollToIndex[e]({animated:!0,index:0,viewOffset:8e3}),setTimeout(function(){(0,p.feedback)()},400),n.fetchIsNeedToEnd(!0))}catch(e){console.error("User","onRefreshThenScrollTop",e)}}),(0,m.default)((0,l.default)(n),"onChange",function(e){(0,j.t)("我的.标签页切换",{page:e}),n.setState({page:e,tag:"",ipt:"1"}),n.fetchIsNeedToEnd(!0),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onSelectSubjectType",function(e){(0,j.t)("我的.类型选择",{title:e});var t=n.state.subjectType,e=h.MODEL_SUBJECT_TYPE.getLabel(e);e!==t&&(n.setState({subjectType:e,tag:"",ipt:"1"}),n.fetchIsNeedRefreshToEnd(),n.setStorage(x.NAMESPACE))}),(0,m.default)((0,l.default)(n),"onOrderSelect",(t=(0,i.default)(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,j.t)("我的.排序选择",{label:t}),n.setState({order:h.MODEL_COLLECTIONS_ORDERBY.getValue(t)}),n.fetchIsNeedRefreshToEnd(),n.setStorage(x.NAMESPACE);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,l.default)(n),"onTagSelect",function(e){(0,j.t)("我的.筛选选择",{label:e}),e="重置"===e?"":e.replace(/ \(\d+\)/,""),n.setState({tag:e}),n.fetchIsNeedRefreshToEnd(),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onRefreshOffset",function(){var e=n.state.list;(0,j.t)("我的.布局选择",{list:!e}),n.setState({list:!e}),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onToggleFixed",function(){var e=n.state.fixed;n.setState({fixed:!e}),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onToggleShowYear",function(){var e=n.state.showYear;n.setState({showYear:!e}),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onToggleFilter",function(){var e=n.state.showFilter;e?(n.setState({showFilter:!e,fliterInputText:""}),setTimeout(function(){n.setState({filter:""})},160)):(n.setState({showFilter:!e,filter:""}),setTimeout(function(){var e,t=n.state.page;null!=(t=(e=n.scrollToOffset)[t])&&t.call(e,{offset:n.fixedHeight,animated:!0})},0))}),(0,m.default)((0,l.default)(n),"_onFilterChange",(0,p.debounce)(function(e){try{n.setState({filter:e});var t=n.state,s=t.subjectType,r=t.page;e.length&&n.fetchUntilTheEnd(s,g.TABS[r].key)}catch(e){}},1200)),(0,m.default)((0,l.default)(n),"onFilterChange",function(e){e=String(e).trim();n.setState({fliterInputText:e}),n._onFilterChange(e)}),(0,m.default)((0,l.default)(n),"onManagePress",function(e){f.uiStore.showManageModal(e,"时光机",function(e){n.isMe&&n.type&&null!=e&&e.status&&n.type!==(null==e?void 0:e.status)&&f.collectionStore.removeOneInUserCollections({userId:n.username,subjectType:n.state.subjectType,type:n.type,subjectId:e.subjectId})})}),(0,m.default)((0,l.default)(n),"onPrev",function(){var e=n.state.ipt;1!==Number(e)&&(e=Number(e)-1,n.onPage(e))}),(0,m.default)((0,l.default)(n),"onNext",function(){var e=n.state.ipt,e=Number(e)+1;n.onPage(e)}),(0,m.default)((0,l.default)(n),"onPageChange",function(e){e=e.nativeEvent.text;n.setState({ipt:e}),n.setStorage(x.NAMESPACE)}),(0,m.default)((0,l.default)(n),"onPage",function(e){var t=n.state.page;n.setState({ipt:String(e)}),n.setStorage(x.NAMESPACE);try{n.scrollToOffset[t]({offset:f._.parallaxImageHeight-100,animated:!0})}catch(e){}n.fetchUserCollectionsNormal(e)}),(0,m.default)((0,l.default)(n),"onScroll",p.updateVisibleBottom.bind((0,l.default)(n))),n}t.default=r},"./src/screens/user/v2/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),c=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),p=s("./src/utils/user-setting/index.ts"),j=s("./src/constants/index.ts"),h=s("./src/screens/user/v2/ds.ts"),r=r(s("./src/screens/user/v2/store/state.ts")),g=["list"];function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(b,s),_=x(b),(0,i.default)(b,[{key:"myUserId",get:function(){return m.userStore.myUserId}},{key:"userId",get:function(){return this.params.userId||this.myUserId}},{key:"username",get:function(){return this.usersInfo.username||this.userId}},{key:"isMe",get:function(){var e=this.params.userId;return!e||e===m.userStore.myId}},{key:"usersInfo",get:function(){return m.userStore.usersInfo(this.userId)}},{key:"sign",get:function(){var e;return(null==(e=m.usersStore.users(this.userId))?void 0:e.sign)||""}},{key:"avatar",get:function(){var e=this.sign.match(/\[avatar\](.+?)\[\/avatar\]/),e=e?String(e[1]).trim():"";return(0,p.fixedRemote)((0,f.HTMLDecode)(e),!0)}},{key:"bg",get:function(){var e=this.sign.match(/\[bg\](.+?)\[\/bg\]/);return(0,p.fixedRemote)((0,f.HTMLDecode)(e?String(e[1]).trim():""))}},{key:"type",get:function(){var e=this.state.page;return j.MODEL_COLLECTION_STATUS.getValue(h.TABS[e].title)}},{key:"label",get:function(){var e=this.state.page;return h.TABS[e].title}},{key:"action",get:function(){var e=this.state.subjectType;switch(j.MODEL_SUBJECT_TYPE.getTitle(e)){case"书籍":return"读";case"音乐":return"听";case"游戏":return"玩";default:return"看"}}},{key:"counts",get:function(){var r={"动画":{},"书籍":{},"游戏":{},"音乐":{},"三次元":{}},e=m.userStore.userCollectionsStatus(this.userId);return e.length&&e.forEach(function(s){s.collects.forEach(function(e){var t=j.MODEL_COLLECTION_STATUS.getLabel(e.status.type);r[s.name_cn][t]=e.count})}),r}},{key:"fixedHeight",get:function(){return m._.parallaxImageHeight-h.H_HEADER}},{key:"isTabActive",value:function(s,r){var n=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return(0,c.computed)(function(){var e=n.state,t=e.subjectType,e=e.page;return s===t&&(o?(null==(t=h.TABS[e])?void 0:t.key)===r||(null==(t=h.TABS[e-1])?void 0:t.key)===r||(null==(t=h.TABS[e+1])?void 0:t.key)===r:(null==(t=h.TABS[e])?void 0:t.key)===r)}).get()}},{key:"isFiltering",value:function(r,n){var o=this;return(0,c.computed)(function(){var e,t,s;return!!o.isTabActive(r,n)&&(e=(s=o.state).showFilter,t=s.filter,s=s.fetching,!!(e&&t&&s))}).get()}},{key:"filter",get:function(){var e=this.state.filter;return(0,f.t2s)(e.toUpperCase())}},{key:"userCollections",value:function(s,r){var n=this;return(0,c.computed)(function(){var e=m.collectionStore.userCollections(n.username,s,r),t=e.list,e=(0,o.default)(e,g);return n.isTabActive(s,r,!0)&&n.filter&&(t=t.filter(function(e){var t=(e.nameCn||"").toUpperCase(),e=(e.name||"").toUpperCase();return!(!t.includes(n.filter)&&!e.includes(n.filter))||(0,f.getPinYinFilterValue)(t,n.filter)||(0,f.getPinYinFilterValue)(e,n.filter)})),m.userStore.isLimit&&(t=t.filter(function(e){return!(0,f.x18)(e.id)})),Object.assign({list:t},e)}).get()}},{key:"userCollectionsTags",value:function(e,t){var s=this;return(0,c.computed)(function(){return m.collectionStore.userCollectionsTags(s.username,e,t)}).get()}},{key:"isSortByScore",get:function(){var e=this.state.order;return"网站评分"===j.MODEL_COLLECTIONS_ORDERBY.getLabel(e)}}]),(0,u.default)((r=b).prototype,"myUserId",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"myUserId"),r.prototype),(0,u.default)(r.prototype,"userId",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,u.default)(r.prototype,"username",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"username"),r.prototype),(0,u.default)(r.prototype,"isMe",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"isMe"),r.prototype),(0,u.default)(r.prototype,"usersInfo",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"usersInfo"),r.prototype),(0,u.default)(r.prototype,"sign",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"sign"),r.prototype),(0,u.default)(r.prototype,"avatar",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"avatar"),r.prototype),(0,u.default)(r.prototype,"bg",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"bg"),r.prototype),(0,u.default)(r.prototype,"type",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"type"),r.prototype),(0,u.default)(r.prototype,"label",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"label"),r.prototype),(0,u.default)(r.prototype,"action",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"action"),r.prototype),(0,u.default)(r.prototype,"counts",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"counts"),r.prototype),(0,u.default)(r.prototype,"fixedHeight",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"fixedHeight"),r.prototype),(0,u.default)(r.prototype,"filter",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"filter"),r.prototype),(0,u.default)(r.prototype,"isSortByScore",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"isSortByScore"),r.prototype);var _,a=r;function b(){return(0,n.default)(this,b),_.apply(this,arguments)}t.default=a},"./src/screens/user/v2/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/screens/user/v2/ds.ts"),r=(t.NAMESPACE="ScreenUser",{visibleBottom:r._.window.height,isFocused:!0,showFilter:!1,fixed:!1,filter:"",fliterInputText:"",fetching:!1}),s=(t.EXCLUDE_STATE=r,Object.assign({subjectType:s.DEFAULT_SUBJECT_TYPE,order:s.DEFAULT_ORDER,list:!0,showYear:!0,tag:"",page:2,ipt:"1"},r,{_loaded:!1}));t.STATE=s},"./src/screens/user/v2/store/fetch.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),j=s("./src/constants/index.ts"),h=s("./src/screens/user/v2/ds.ts"),r=r(s("./src/screens/user/v2/store/computed.ts"));function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var x,_={},r=(s=r.default,(0,a.default)(b,s),x=g(b),(0,o.default)(b));function b(){var a;(0,i.default)(this,b);for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a=x.call.apply(x,[this].concat(t)),(0,m.default)((0,d.default)(a),"fetchUsersInfo",function(){return f.userStore.fetchUsersInfo(a.userId)}),(0,m.default)((0,d.default)(a),"fetchUsers",function(){return f.usersStore.fetchUsers({userId:a.userId})}),(0,m.default)((0,d.default)(a),"fetchCollections",function(){var e=a.state,t=e.subjectType,e=e.page;a.userCollections(t,j.MODEL_COLLECTION_STATUS.getValue(h.TABS[e].title))._loaded||a.fetchUserCollections(!0)}),(0,m.default)((0,d.default)(a),"fetchUserCollectionsNormal",(0,n.default)(l.mark(function e(){var t,s,r,n,o,i=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]&&i[0],n=a.state,s=n.subjectType,r=n.order,n=n.tag,e.next=4,f.collectionStore.fetchUserCollections({subjectType:s,type:a.type,order:r,tag:n,userId:a.username},t);case 4:return o=e.sent,a.isMe||setTimeout(function(){f.collectionStore.fetchCollectionStatusQueue(o.list.filter(function(e){return e.collected}).map(function(e){return e.id}))},160),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(a),"fetchUserCollectionsByScore",(0,n.default)(l.mark(function e(){var t,s,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.subjectType,s=JSON.stringify([a.username,t,a.type]),_[s])return e.abrupt("return",!0);e.next=4;break;case 4:return(0,p.info)("正在获取所有收藏"),_[s]=!0,e.next=8,a.fetchUserCollectionsNormal(!0);case 8:n=e.sent,n=n.pagination,r=n.pageTotal,n=n.page;case 12:if(n<r)return e.next=15,a.fetchUserCollectionsNormal();e.next=18;break;case 15:n+=1,e.next=12;break;case 18:return(0,p.info)("正在获取所有评分, 实际排序会在之后呈现"),e.next=21,f.collectionStore.sortUserCollectionsByScore(a.username,t,a.type);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(a),"fetchUserCollections",(0,n.default)(l.mark(function e(){var t,s=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<s.length&&void 0!==s[0]&&s[0],a.isSortByScore)return e.abrupt("return",a.fetchUserCollectionsByScore());e.next=3;break;case 3:return e.abrupt("return",a.fetchUserCollectionsNormal(t));case 4:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(a),"fetchUntilTheEnd",(s=(0,n.default)(l.mark(function e(t,s){var r,n,o,i=arguments;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<i.length&&void 0!==i[2]&&i[2],a.isTabActive(t,s)){e.next=3;break}return e.abrupt("return");case 3:if(o=a.state,n=o.subjectType,o=o.page,o=h.TABS[o].key,n=f.collectionStore.userCollections(a.username,n,o),(o=n.pagination).page>=o.pageTotal)return r&&(console.info("fetchUntilTheEnd end"),a.setState({fetching:!1})),e.abrupt("return");e.next=9;break;case 9:return a.setState({fetching:!0}),e.next=12,a.fetchUserCollections();case 12:return e.abrupt("return",a.fetchUntilTheEnd(t,s,!0));case 13:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),(0,m.default)((0,d.default)(a),"fetchIsNeedToEnd",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=a.state,s=t.showFilter,r=t.filter,n=t.subjectType,t=t.page;return s&&r?a.fetchUntilTheEnd(n,h.TABS[t].key):a.fetchUserCollections(e)}),(0,m.default)((0,d.default)(a),"fetchIsNeedRefreshToEnd",(0,n.default)(l.mark(function e(){var t,s,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,t=n.showFilter,s=n.filter,r=n.subjectType,n=n.page,t&&s)return e.next=4,a.fetchUserCollections(!0);e.next=5;break;case 4:return e.abrupt("return",a.fetchUntilTheEnd(r,h.TABS[n].key));case 5:return e.abrupt("return",a.fetchUserCollections(!0));case 6:case"end":return e.stop()}},e)}))),a}t.default=r},"./src/screens/user/v2/store/index.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/user/v2/store/action.ts")),j=s("./src/screens/user/v2/store/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,d.default)(x,s),g=h(x);var g,r=(0,i.default)(x);function x(){var r;(0,a.default)(this,x);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=g.call.apply(g,[this].concat(t)),(0,m.default)((0,l.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(j.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,r.setState(Object.assign({},t,j.EXCLUDE_STATE,{_loaded:!0})),e.next=9,r.fetchUsersInfo();case 9:return f.userStore.fetchUserCollectionsStatus(r.userId),t=r.state.order,"网站评分"!==p.MODEL_COLLECTIONS_ORDERBY.getLabel(t)&&(f.systemStore.setting.userPagination?(s=r.state.ipt,r.fetchUserCollectionsNormal(Number(s))):r.fetchUserCollections(!0)),r.fetchUsers(),e.abrupt("return",!0);case 14:case"end":return e.stop()}},e)}))),r}t.default=r},"./src/screens/user/v2/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/user/v2/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(j,s),p=f(j);var p,r=(0,n.default)(j);function j(){var e;(0,o.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=p.call.apply(p,[this].concat(s)),(0,u.default)((0,i.default)(e),"params",void 0),(0,u.default)((0,i.default)(e),"state",(0,c.observable)(m.STATE)),e}t.default=r},"./src/screens/user/v2/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/defineProperty.js"))),f=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),j=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),h=s("./src/components/index.ts"),g=s("./src/stores/index.ts"),x=r(s("./src/screens/user/v2/list/index.tsx")),_=s("./src/screens/user/v2/ds.ts"),b=r(s("./src/screens/user/v2/tab/tab-bar/index.tsx")),y=r(s("./src/screens/user/v2/tab/tab-bar-left/index.tsx")),S=s("./src/screens/user/v2/tab/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var t=e.page,n=e.scrollY,s=e.onIndexChange,o=e.onScroll,r=e.onSelectSubjectType,i=e.onSwipeStart,a=e.onRefreshOffset,e=(0,p.useRef)((0,h.SceneMap)(Object.assign.apply(Object,[{}].concat((0,f.default)(_.TABS.map(function(e,t){var s=e.key,r=e.title;return(0,m.default)({},s,function(){return(0,v.jsx)(x.default,{page:t,title:r,scrollY:n,onScroll:o,onRefreshOffset:a})})})))))),l=(0,p.useMemo)(function(){return{index:t,routes:_.TABS}},[t]),d=(0,p.useMemo)(function(){return{transform:[{translateY:n.interpolate({inputRange:[-g._.parallaxImageHeight,0,g._.parallaxImageHeight-_.H_HEADER,g._.parallaxImageHeight],outputRange:[2*g._.parallaxImageHeight,g._.parallaxImageHeight,_.H_HEADER,_.H_HEADER]})}]}},[n]),u=(0,p.useCallback)(function(e){return(0,v.jsx)(j.default.View,{style:[S.styles.tabBarWrap,d],children:(0,v.jsx)(b.default,Object.assign({},e))})},[d]),c=(0,p.useCallback)(function(e){r(e)},[r]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h.TabView,{lazy:!0,lazyPreloadDistance:1,navigationState:l,renderTabBar:u,renderScene:e.current,onSwipeStart:i,onIndexChange:s},g._.orientation),(0,v.jsx)(j.default.View,{style:[S.styles.tabBarLeft,d],children:(0,v.jsx)(y.default,{onSelect:c})})]})}t.default=n;try{n.displayName="Tab",n.__docgenInfo={description:"",displayName:"Tab",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"any"}},scrollY:{defaultValue:null,description:"",name:"scrollY",required:!0,type:{name:"any"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"any"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}},onSelectSubjectType:{defaultValue:null,description:"",name:"onSelectSubjectType",required:!0,type:{name:"any"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"any"}},onRefreshOffset:{defaultValue:null,description:"",name:"onRefreshOffset",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/tab/index.tsx#Tab"]={docgenInfo:n.__docgenInfo,name:"Tab",path:"src/screens/user/v2/tab/index.tsx#Tab"})}catch(e){}},"./src/screens/user/v2/tab/label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.title,e=e.focused,r=(t=t.$).state.subjectType,r=t.counts[i.MODEL_SUBJECT_TYPE.getTitle(r)][s];return(0,a.jsxs)(n.Flex,{style:o._.container.block,justify:"center",align:"start",children:[(0,a.jsx)(n.Text,{type:"title",size:13,bold:e,noWrap:!0,children:s.replace("看",t.action)}),!!r&&(0,a.jsxs)(n.Text,{type:"sub",size:10,lineHeight:11,bold:!0,children:[" ",r," "]})]})});t.default=s},"./src/screens/user/v2/tab/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/screens/user/v2/ds.ts"),r=r._.create({tabBarWrap:{position:"absolute",zIndex:2,top:2-s.H_RADIUS_LINE,right:0,left:0},tabBarLeft:{position:"absolute",zIndex:100,left:0,marginTop:0}});t.styles=r},"./src/screens/user/v2/tab/tab-bar-left/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/user/v2/tab/tab-bar-left/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),u=a.SUBJECT_TYPE.map(function(e){return e.title});s=(0,r.obc)(function(e,t){var e=e.onSelect,t=t.$,s=(0,l.memoStyles)(),t=t.state.subjectType;return(0,d.jsxs)(o.Popover,{data:u,onSelect:e,children:[(0,d.jsx)(n.Flex,{style:s.tabBarLeft,justify:"center",children:(0,d.jsx)(n.Button,{style:s.btn,styleText:(0,i.stl)(s.text,a.IOS&&s.textIOS),type:"ghostMain",size:"sm",children:a.MODEL_SUBJECT_TYPE.getTitle(t)})}),(0,d.jsx)(n.Heatmap,{id:"我的.类型选择"})]})});t.default=s},"./src/screens/user/v2/tab/tab-bar-left/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/user/v2/ds.ts"),s=r._.memoStyles(function(){return{tabBarLeft:{zIndex:10,paddingLeft:r._.r(r._._wind)-4,paddingRight:r._.sm,marginTop:13-n.H_RADIUS_LINE,backgroundColor:r._.select("transparent",r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},btn:{width:r._.r(56),height:r._.ios(28,22),marginTop:r._.ios(0,3),borderRadius:r._.r(16)},text:{width:r._.r(56)},textIOS:{lineHeight:14}}});t.memoStyles=s},"./src/screens/user/v2/tab/tab-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/user/v2/fixed-tool-bar/index.tsx")),l=r(s("./src/screens/user/v2/tab/label/index.tsx")),d=s("./src/screens/user/v2/tab/tab-bar/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");r=(0,i.ob)(function(e){var t=(0,d.memoStyles)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.TabBar,Object.assign({},e,{style:t.tabBar,tabStyle:t.tab,labelStyle:t.label,indicatorStyle:t.indicator,pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:c})),(0,u.jsx)(a.default,{fixed:!0}),(0,u.jsx)(n.Heatmap,{right:o._.wind+62,id:"我的.标签页切换",transparent:!0}),(0,u.jsx)(n.Heatmap,{right:o._.wind,id:"我的.标签页点击",transparent:!0})]})});function c(e){var t=e.route,e=e.focused;return(0,u.jsx)(l.default,{title:t.title,focused:e})}t.default=r;try{tabbar.displayName="tabbar",tabbar.__docgenInfo={description:"",displayName:"tabbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/tab/tab-bar/index.tsx#tabbar"]={docgenInfo:tabbar.__docgenInfo,name:"tabbar",path:"src/screens/user/v2/tab/tab-bar/index.tsx#tabbar"})}catch(e){}},"./src/screens/user/v2/tab/tab-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.flat.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/user/v2/ds.ts"),s=r._.memoStyles(function(){var e=r._.r(72),t=(r._.window.width-e)/5,s=r._.r(16);return{tabBarWrap:{position:"absolute",zIndex:2,top:2-n.H_RADIUS_LINE,right:0,left:0},tabBar:{paddingLeft:e,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.flat?0:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{width:t,height:r._.r(48)},label:{padding:0},indicator:{width:s,height:4,marginLeft:(t-s)/2+e,backgroundColor:r._.colorMain,borderRadius:4}}});t.memoStyles=s},"./src/screens/user/v2/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),m=r(s("./src/screens/user/v2/filter/index.tsx")),f=r(s("./src/screens/user/v2/tool-bar/sort.tsx")),p=r(s("./src/screens/user/v2/tool-bar/tag.tsx")),j=r(s("./src/screens/user/v2/tool-bar/pagination.tsx")),h=r(s("./src/screens/user/v2/tool-bar/search.tsx")),g=r(s("./src/screens/user/v2/tool-bar/more.tsx")),x=s("./src/screens/user/v2/tool-bar/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.page,r=e.pageCurrent,n=e.pageTotal,o=e.onRefreshOffset,i=t.$,e=(0,x.memoStyles)(),t=i.state.list,a=u.systemStore.setting.userPagination;return(0,_.jsxs)(l.default,{style:(0,c.stl)(e.container,t&&e.list),children:[(0,_.jsxs)(d.ToolBar,{children:[(0,_.jsx)(f.default,{}),(0,_.jsx)(p.default,{page:s}),a&&(0,_.jsx)(j.default,{pageCurrent:r,pageTotal:n}),(0,_.jsx)(h.default,{}),(0,_.jsx)(g.default,{onRefreshOffset:function(){o(),i.onRefreshOffset()}})]}),(0,_.jsx)(m.default,{page:s})]})});t.default=r},"./src/screens/user/v2/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.onRefreshOffset,r=t.$,e=i.systemStore.setting.userPagination,n=(t=r.state).list,t=t.showYear,e="分页（"+(e?"开启":"关闭")+"）";return(0,a.jsx)(o.ToolBar.Popover,{data:n?["布局（列表）",e]:["布局（网格）",e,"年份（"+(t?"显示":"隐藏")+"）"],icon:"md-more-vert",iconColor:i._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?s():e.includes("年份")?r.onToggleShowYear():void(e.includes("分页")&&(i.systemStore.switchSetting("userPagination"),r.fetchUserCollectionsNormal(!0)))}})});t.default=s},"./src/screens/user/v2/tool-bar/pagination.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.pageCurrent,e=e.pageTotal,r=t.$;return(0,i.jsx)(n.ToolBar.Popover,{data:function(e){for(var t=[],s=1;s<=Number(e);s+=1)t.push(String(s));return t}(e),icon:"md-notes",iconColor:o._.colorDesc,text:s,type:"desc",onSelect:function(e){return r.onPage(e)}})});t.default=s},"./src/screens/user/v2/tool-bar/search.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.showFilter;return(0,i.jsx)(n.ToolBar.Icon,{icon:"md-search",iconColor:s?o._.colorMain:o._.colorDesc,onSelect:t.onToggleFilter})});t.default=s;try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/tool-bar/search.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/user/v2/tool-bar/search.tsx#search"})}catch(e){}},"./src/screens/user/v2/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.order;return(0,a.jsx)(n.ToolBar.Popover,{data:i.COLLECTIONS_ORDERBY.map(function(e){return e.label}),icon:"md-sort",iconColor:o._.colorDesc,text:s?i.MODEL_COLLECTIONS_ORDERBY.getLabel(s):"收藏时间",type:"desc",heatmap:"我的.筛选选择",onSelect:t.onOrderSelect})});t.default=s;try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/user/v2/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/user/v2/tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingTop:12,paddingBottom:12,backgroundColor:r._.colorPlain},list:{paddingBottom:0}}});t.memoStyles=s},"./src/screens/user/v2/tool-bar/tag.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/user/v2/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var e=e.page,s=(t=t.$).state,r=void 0===(r=s.subjectType)?l.DEFAULT_SUBJECT_TYPE:r,s=s.tag,n=["重置"],e=a.MODEL_COLLECTION_STATUS.getValue(l.TABS[e].title);return t.userCollectionsTags(r,e).forEach(function(e){return n.push(e.tag+" ("+e.count+")")}),(0,d.jsx)(o.ToolBar.Popover,{data:n,icon:"md-bookmark-outline",iconSize:17,iconColor:i._.colorDesc,text:s?s.replace(/ \(\d+\)/,""):"标签",type:"desc",heatmap:"我的.排序选择",onSelect:t.onTagSelect})});t.default=s},"./src/screens/user/v2/wrap/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;var r=s("./src/stores/index.ts"),s=s("./src/screens/user/v2/ds.ts"),r={fixedHeight:r._.parallaxImageHeight-s.H_HEADER,page:0,scrollToOffset:{},fetchCollections:function(){},onChange:function(){},onScroll:function(){},onSelectSubjectType:function(){}};t.DEFAULT_PROPS=r},"./src/screens/user/v2/wrap/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/user/v2/wrap/wrap.web.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var t=t.$,s=t.state.page;return(0,i.jsx)(o.default,{fixedHeight:t.fixedHeight,page:s,scrollToOffset:t.scrollToOffset,fetchCollections:t.fetchCollections,onChange:t.onChange,onScroll:t.onScroll,onSelectSubjectType:t.onSelectSubjectType})});t.default=r;try{wrap.displayName="wrap",wrap.__docgenInfo={description:"",displayName:"wrap",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/wrap/index.tsx#wrap"]={docgenInfo:wrap.__docgenInfo,name:"wrap",path:"src/screens/user/v2/wrap/index.tsx#wrap"})}catch(e){}},"./src/screens/user/v2/wrap/wrap.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),h=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),g=s("./src/utils/hooks/index.ts"),n=s("./src/utils/decorators/index.ts"),x=r(s("./src/screens/user/v2/tab/index.tsx")),_=r(s("./src/screens/user/v2/parallax-image/index.tsx")),r=s("./src/screens/user/v2/wrap/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var s=e.fixedHeight,r=e.page,n=e.scrollToOffset,t=e.fetchCollections,o=e.onChange,i=e.onScroll,e=e.onSelectSubjectType,a=((0,g.useMount)(function(){t()}),(0,j.useRef)(new h.default.Value(0))),l=(0,j.useRef)(0),d=(0,j.useRef)(!1),u=(0,j.useCallback)(function(e){i(e);e=e.nativeEvent.contentOffset.y;l.current=e,d.current&&e<s-20?d.current=!1:!d.current&&s-20<=e&&(d.current=!0)},[s,i]),c=(0,j.useCallback)(function(e){if(e)try{var t={offset:d.current?s:l.current,animated:!1};Array.isArray(e)&&e.forEach(function(e){"function"==typeof n[r+e]&&n[r+e](t)}),"number"==typeof e&&"function"==typeof n[e]&&n[e](t)}catch(e){}},[s,r,n]),m=(0,j.useCallback)(function(){c([-1,1])},[c]),f=(0,j.useCallback)(function(e){o(e),setTimeout(function(){c([0])},0)},[o,c]),p=(0,j.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0];setTimeout(function(){c(e)},0)},[c]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.default,{page:r,scrollY:a.current,onScroll:u,onSwipeStart:m,onIndexChange:f,onSelectSubjectType:e,onRefreshOffset:p}),(0,b.jsx)(_.default,{scrollY:a.current,fixed:d.current})]})},r.DEFAULT_PROPS);t.default=s;try{wrapweb.displayName="wrapweb",wrapweb.__docgenInfo={description:"",displayName:"wrapweb",props:{fixedHeight:{defaultValue:null,description:"",name:"fixedHeight",required:!0,type:{name:"number"}},page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},scrollToOffset:{defaultValue:null,description:"",name:"scrollToOffset",required:!0,type:{name:"{}"}},fetchCollections:{defaultValue:null,description:"",name:"fetchCollections",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(page: number) => void"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"any"}},onSelectSubjectType:{defaultValue:null,description:"",name:"onSelectSubjectType",required:!0,type:{name:'(title: "动画" | "书籍" | "音乐" | "游戏" | "三次元") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/v2/wrap/wrap.web.tsx#wrapweb"]={docgenInfo:wrapweb.__docgenInfo,name:"wrapweb",path:"src/screens/user/v2/wrap/wrap.web.tsx#wrapweb"})}catch(e){}},"./src/screens/user/zone/about/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),l=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),m=s("./src/screens/user/zone/ds.ts"),f=s("./src/screens/user/zone/about/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,f.memoStyles)(),n=e.onScroll,o=String(s.users.sign).replace(/<span style="font-size:0px; line-height:0px;">(.+?)<\/span>/g,"")||"(什么都没有)";return(0,p.jsx)(a.default.ScrollView,Object.assign({ref:function(e){var t=m.TABS.findIndex(function(e){return"关于TA"===e.title});return s.connectRef(e,t)},contentContainerStyle:t.contentContainerStyle},e,c.SCROLL_VIEW_RESET_PROPS,{onScroll:c.STORYBOOK?void 0:a.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,p.jsx)(i.default,{style:t.page,children:(0,p.jsx)(l.RenderHtml,{style:d._.mt.lg,html:o,onLinkPress:function(e){var t={id:"空间.跳转",data:{from:"关于TA",userId:s.userId}};(0,u.appNavigate)(e,r,{},t)}})})}))});t.default=s;try{about.displayName="about",about.__docgenInfo={description:"",displayName:"about",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!0,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/about/index.tsx#about"]={docgenInfo:about.__docgenInfo,name:"about",path:"src/screens/user/zone/about/index.tsx#about"})}catch(e){}},"./src/screens/user/zone/about/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight}}});t.memoStyles=s},"./src/screens/user/zone/bangumi-list/footer/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),l=r(s("./src/screens/user/zone/bangumi-list/lock/index.tsx")),d=r(s("./src/screens/user/zone/bangumi-list/u/index.tsx")),u=s("./src/screens/user/zone/bangumi-list/footer/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=t.$,r=t.navigation;return(t=s.users.ban)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.default,{text:t}),o.userStore.isDeveloper&&(0,c.jsx)(d.default,{username:s.usersInfo.username})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Flex,{style:o._.mt.lg,justify:"center",children:(0,c.jsxs)(n.Touchable,{style:u.styles.touch,onPress:function(){(0,a.t)("空间.跳转",{to:"User"}),s.navigateToUser(r)},children:[(0,c.jsx)(n.Text,{type:o._.select("desc","main"),bold:!0,children:"查看TA的所有收藏"}),(0,c.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]})}),o.userStore.isDeveloper&&(0,c.jsx)(d.default,{username:s.usersInfo.username})]})});t.default=r;try{footer.displayName="footer",footer.__docgenInfo={description:"",displayName:"footer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/bangumi-list/footer/index.tsx#footer"]={docgenInfo:footer.__docgenInfo,name:"footer",path:"src/screens/user/zone/bangumi-list/footer/index.tsx#footer"})}catch(e){}},"./src/screens/user/zone/bangumi-list/footer/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({touch:{paddingVertical:s._.sm,paddingHorizontal:s._.md,borderRadius:s._.radiusSm,overflow:"hidden"}});t.styles=s},"./src/screens/user/zone/bangumi-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=s("./src/components/index.ts"),p=s("./src/utils/index.ts"),j=s("./src/utils/decorators/index.ts"),h=s("./src/constants/index.ts"),g=s("./src/screens/user/zone/ds.ts"),x=r(s("./src/screens/user/zone/bangumi-list/section-header/index.tsx")),_=r(s("./src/screens/user/zone/bangumi-list/item/index.tsx")),b=r(s("./src/screens/user/zone/bangumi-list/footer/index.tsx")),y=s("./src/screens/user/zone/bangumi-list/styles.ts"),S=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}r=c.default.Component,(0,a.default)(O,r),T=v(O),(0,o.default)(O,[{key:"sections",get:function(){return this.context.$.userCollections.list.map(function(e){return{title:e.status,count:e.count,data:[{list:e.list}]}})}},{key:"render",value:function(){var e,t=this.context.$;return t.userCollections._loaded?(e=this.props.onScroll,(0,S.jsx)(f.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:this.styles.contentContainerStyle,keyExtractor:p.keyExtractor,animated:!0,sections:this.sections,showFooter:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,ListFooterComponent:this.ListFooterComponent},this.props,{onScroll:h.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:e})}))):(0,S.jsx)(f.Loading,{style:this.styles.loading})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]);var T,s=O;function O(){var r;(0,n.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=T.call.apply(T,[this].concat(t)),(0,u.default)((0,i.default)(r),"connectRef",function(e){var t=r.context.$,s=g.TABS.findIndex(function(e){return"番剧"===e.title});return t.connectRef(e,s)}),(0,u.default)((0,i.default)(r),"renderSectionHeader",function(e){var e=e.section,t=e.title,e=e.count;return(0,S.jsx)(x.default,{title:t,count:e})}),(0,u.default)((0,i.default)(r),"renderItem",function(e){var t=e.item,e=e.section.title;return(0,S.jsx)(_.default,{item:t,title:e})}),(0,u.default)((0,i.default)(r),"ListFooterComponent",function(){return(0,S.jsx)(b.default,{})}),r}c=(0,j.obc)(s);t.default=c;try{bangumilist.displayName="bangumilist",bangumilist.__docgenInfo={description:"",displayName:"bangumilist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!0,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/bangumi-list/index.tsx#bangumilist"]={docgenInfo:bangumilist.__docgenInfo,name:"bangumilist",path:"src/screens/user/zone/bangumi-list/index.tsx#bangumilist"})}catch(e){}},"./src/screens/user/zone/bangumi-list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js"),d={id:"空间.跳转"};s=(0,r.obc)(function(e,t){var s=e.item,e=e.title,r=t.$,n=t.navigation;return r.state.expand[e]?(0,l.jsxs)(o.Flex,{wrap:"wrap",align:"start",children:[s.list.filter(function(e,t){return t<15}).map(function(e){return(0,l.jsx)(i.ItemBangumiList,{navigation:n,subjectId:e.id,images:e.images,name:(0,a.cnjp)(e.name_cn,e.name),event:d},e.id)}),e.includes("在看")&&(0,l.jsx)(o.Heatmap,{id:"空间.跳转",to:"Subject",alias:"条目"})]}):null});t.default=s},"./src/screens/user/zone/bangumi-list/lock/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/user/zone/bangumi-list/lock/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e){var e=e.text,t=(0,o.memoStyles)();return(0,i.jsxs)(n.Flex,{style:t.container,children:[(0,i.jsx)(n.Mesume,{index:2,size:60}),(0,i.jsx)(n.Flex.Item,{children:(0,i.jsx)(n.Text,{bold:!0,children:e})})]})});t.default=s;try{lock.displayName="lock",lock.__docgenInfo={description:"",displayName:"lock",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/bangumi-list/lock/index.tsx#lock"]={docgenInfo:lock.__docgenInfo,name:"lock",path:"src/screens/user/zone/bangumi-list/lock/index.tsx#lock"})}catch(e){}},"./src/screens/user/zone/bangumi-list/lock/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingVertical:r._.md,paddingRight:r._.wind,paddingLeft:r._.xs,margin:r._.wind,marginTop:r._.md,borderWidth:1,borderColor:r._.colorMain,borderRadius:r._.radiusSm}}});t.memoStyles=s},"./src/screens/user/zone/bangumi-list/section-header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/user/zone/bangumi-list/section-header/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.title,e=e.count,r=t.$,t=(0,d.memoStyles)(),n=r.state.expand;return(0,u.jsxs)(o.Touchable,{style:(0,l.stl)(t.section,"在看"===s&&a._.mt.sm),onPress:function(){return r.onToggleSection(s)},children:[(0,u.jsxs)(i.SectionHeader,{style:t.sectionHeader,type:"title",size:15,right:(0,u.jsx)(o.Iconfont,{style:t.arrow,name:n[s]?"md-keyboard-arrow-down":"md-keyboard-arrow-up"}),children:[s," ",(0,u.jsxs)(o.Text,{type:"sub",size:12,bold:!0,lineHeight:15,children:[e," "]})]}),"在看"===s&&(0,u.jsx)(o.Heatmap,{id:"空间.展开分组"})]})});t.default=s},"./src/screens/user/zone/bangumi-list/section-header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{sectionHeader:{paddingHorizontal:r._._wind,backgroundColor:r._.colorPlain},section:{backgroundColor:r._.colorBg},arrow:{marginRight:-3}}});t.memoStyles=s},"./src/screens/user/zone/bangumi-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{loading:{marginTop:r._.window.height/3},contentContainerStyle:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight}}});t.memoStyles=s},"./src/screens/user/zone/bangumi-list/u/index.tsx":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=p(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),l=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),c=s("./src/utils/hooks/index.ts"),m=s("./src/utils/kv/index.ts"),f=s("./node_modules/react/jsx-runtime.js");function p(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(p=function(e){return e?s:t})(e))}function j(e){var s=e.username,e=(0,a.useState)({}),e=(0,i.default)(e,2),t=e[0],r=e[1];return(0,c.useMount)((0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.get)("u_"+s);case 2:"object"==typeof(t=e.sent)&&(t.ts&&(t.ts=(0,u.date)(t.ts)),r(t));case 4:case"end":return e.stop()}},e)}))),(0,f.jsx)(l.Text,{style:[d._.mt.md,d._.ml.md],children:JSON.stringify(t,null,2)})}t.default=j;try{j.displayName="U",j.__docgenInfo={description:"",displayName:"U",props:{username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/bangumi-list/u/index.tsx#U"]={docgenInfo:j.__docgenInfo,name:"U",path:"src/screens/user/zone/bangumi-list/u/index.tsx#U"})}catch(e){}},"./src/screens/user/zone/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_WITH_TINYGRAIL=t.TABS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/users/init.ts"),s={visible:!(t.NAMESPACE="ScreenZone"),timeout:!1,originUid:!1,fixed:!1,users:Object.assign({},s.INIT_USERS,{_loaded:!1})},t.EXCLUDE_STATE=s,s=Object.assign({expand:{"在看":!0,"看过":!1,"想看":!1,"搁置":!1,"抛弃":!1},page:0},s,{_loaded:!1}),t.STATE=s,s=[{title:"番剧",key:"bangumi"},{title:"统计",key:"stats"},{title:"时间线",key:"timeline"},{title:"超展开",key:"rakuen"},{title:"关于TA",key:"about"}],t.TABS=s,s=[].concat(s,[{title:"小圣杯",key:"tinygrail"}]);t.TABS_WITH_TINYGRAIL=s},"./src/screens/user/zone/head/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),g=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),x=s("./src/components/index.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),S=s("./src/screens/user/zone/head/styles.ts"),v=s("./node_modules/react/jsx-runtime.js"),T=_._.r(88);s=(0,r.obc)(function(e,t){var s,e=e.style,r=t.$,n=t.navigation,t=(0,S.memoStyles)(),o=(i=r.params)._id,i=i._name,a=r.state.originUid,l=(c=r.usersInfo).avatar,d=c.nickname,u=c.id,c=c.username,m=(f=r.users).join,f=f.percent,u=u||o,o=!!c&&c!=u,d=(0,b.HTMLDecode)(d||i),i=_._.select("plain","title"),p="string"==typeof r.src&&!r.src.includes("//lain.bgm.tv/pic/user/l/"),j=(0,x.getUserStatus)(c),h="历史";return r.usersTimeline.list.length&&null!=(s=r.usersTimeline.list)&&null!=(s=s[0])&&s.time&&(h=(null==(s=r.usersTimeline.list[0])||null==(s=s.time.split(" ·"))?void 0:s[0])+"活跃"),(0,v.jsxs)(x.Flex,{style:e,direction:"column",children:[(0,v.jsxs)(g.default,{children:[(0,v.jsxs)(g.default,{children:[(0,v.jsx)(x.Image,{style:t.avatar,src:r.src,size:T,radius:T/2,border:_._.__colorPlain__,borderWidth:2,shadow:!0,fallback:p,fallbackSrc:null==l?void 0:l.large}),!!j&&(0,v.jsx)(x.Flex,{style:t.status,justify:"center",children:(0,v.jsx)(g.default,{style:[t.online,t["online"+j]]})})]}),(0,v.jsx)(x.Text,{style:t.l1,type:i,size:11,bold:!0,noWrap:!0,children:m||"- 加入"}),(0,v.jsxs)(x.Text,{style:t.l2,type:i,size:11,bold:!0,noWrap:!0,children:["同步率 ",isNaN(f)?"-":f,"%"]}),(0,v.jsxs)(g.default,{style:t.l3,children:[(0,v.jsx)(x.Touchable,{animate:!0,scale:.9,onPress:function(){(0,y.t)("空间.历史",{userId:r.userId}),r.openUsedModal()},children:(0,v.jsx)(x.Text,{type:i,size:11,bold:!0,noWrap:!0,children:h})}),(0,v.jsx)(x.Heatmap,{id:"空间.历史"})]}),(0,v.jsxs)(g.default,{style:t.r1,children:[(0,v.jsx)(x.Touchable,{animate:!0,scale:.8,onPress:function(){(0,y.t)("空间.跳转",{userId:r.userId,to:"Character"}),n.push("Character",{userName:r.userId})},children:(0,v.jsx)(x.Text,{type:i,size:11,bold:!0,noWrap:!0,children:"人物"})}),(0,v.jsx)(x.Heatmap,{right:-84,bottom:-8,id:"空间.跳转",to:"Character",alias:"人物"})]}),(0,v.jsxs)(g.default,{style:t.r2,children:[(0,v.jsx)(x.Touchable,{animate:!0,scale:.8,onPress:function(){(0,y.t)("空间.跳转",{userId:r.userId,to:"Blogs"}),n.push("Blogs",{userId:r.userId})},children:(0,v.jsx)(x.Text,{type:i,size:11,bold:!0,noWrap:!0,children:"日志"})}),(0,v.jsx)(x.Heatmap,{right:-74,bottom:-8,id:"空间.跳转",to:"Blogs",alias:"日志"})]}),(0,v.jsxs)(g.default,{style:t.r3,children:[(0,v.jsx)(x.Touchable,{animate:!0,scale:.8,onPress:function(){(0,y.t)("空间.跳转",{userId:r.userId,to:"Catalogs"}),n.push("Catalogs",{userId:r.userId})},children:(0,v.jsx)(x.Text,{type:i,size:11,bold:!0,noWrap:!0,children:"目录"})}),(0,v.jsx)(x.Heatmap,{right:-76,bottom:-8,id:"空间.跳转",to:"Catalogs",alias:"目录"})]})]}),(0,v.jsxs)(g.default,{style:_._.mt.md,children:[(0,v.jsxs)(x.Flex,{children:[(0,v.jsx)(x.Text,{type:i,bold:!0,children:d}),!(!c&&!u)&&(0,v.jsxs)(x.Text,{style:_._.ml.xs,type:i,bold:!0,children:["@",!a&&c||u]})]}),(0,v.jsx)(x.Flex,{style:t.icons,children:o&&(0,v.jsx)(x.Touchable,{style:t.icon,onPress:r.toggleOriginUid,children:(0,v.jsx)(x.Iconfont,{name:"md-compare-arrows",size:17,color:_._.__colorPlain__})})})]})]})});t.default=s},"./src/screens/user/zone/head/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;function r(e,t){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),right:o._.r(t-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}function n(e,t){return{position:"absolute",zIndex:1,top:o._.r(e-o._.xs),left:o._.r(t-o._.sm),paddingVertical:o._.xs,paddingHorizontal:o._.sm,borderRadius:o._.radiusSm,overflow:"hidden",opacity:.92}}var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{avatar:{marginTop:14,backgroundColor:o._.__colorPlain__,overflow:"hidden"},icons:{position:"absolute",zIndex:1,top:0,right:-54,width:48,height:18},icon:{paddingHorizontal:6,opacity:.92},l1:r(16,100),l2:r(52,116),l3:r(88,100),r0:{position:"absolute",zIndex:1,top:140,right:o._.wind,opacity:.92},r1:n(16,100),r2:n(52,116),r3:n(88,100),friend:{opacity:.92},status:{position:"absolute",zIndex:1,right:1,bottom:1,width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{width:13,height:13,borderRadius:13},onlineSuccess:{backgroundColor:"rgb(9, 241, 117)"},onlineWarning:{backgroundColor:o._.colorWarning}}});t.memoStyles=s},"./src/screens/user/zone/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height/1.6,id:"空间.标签页切换",transparent:!0}),(0,i.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height/1.6,id:"空间.标签页点击",transparent:!0}),(0,i.jsx)(n.Heatmap,{bottom:o._.bottom,id:"空间",screen:"Zone"})]})});t.default=s},"./src/screens/user/zone/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/user/zone/page/index.tsx")),r=r(s("./src/screens/user/zone/store.ts")),d=s("./node_modules/react/jsx-runtime.js");function u(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(u=function(e){return e?s:t})(e))}s=(0,i.ic)(r.default,function(e,t){var s=t.$,r=(0,a.useIsFocused)();return(0,a.useRunAfter)(function(){s.init()}),(0,n.useEffect)(function(){r||o.uiStore.closePopableSubject()},[r]),(0,d.jsx)(l.default,{})});t.default=s;try{zone.displayName="zone",zone.__docgenInfo={description:"",displayName:"zone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/index.tsx#zone"]={docgenInfo:zone.__docgenInfo,name:"zone",path:"src/screens/user/zone/index.tsx#zone"})}catch(e){}},"./src/screens/user/zone/list-header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/user/zone/store.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,a.jsx)(n.default,{style:{height:o._.parallaxImageHeight+i.H_TABBAR-16}})});t.default=s},"./src/screens/user/zone/page/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),f=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/decorators/index.ts"),g=r(s("./src/screens/user/zone/parallax-image/index.tsx")),x=r(s("./src/screens/user/zone/tab/index.tsx")),_=r(s("./src/screens/user/zone/used-modal/index.tsx")),b=r(s("./src/screens/user/zone/heatmaps/index.tsx")),y=s("./node_modules/react/jsx-runtime.js");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}r=c.default.Component,(0,a.default)(T,r),v=S(T),(0,o.default)(T,[{key:"render",value:function(){var e,t=this.context.$;return t.state._loaded?(e=t.state.visible,(0,y.jsxs)(m.default,{style:j._.container.plain,children:[(0,y.jsx)(f.StatusBarEvents,{barStyle:"light-content",backgroundColor:"transparent"}),(0,y.jsx)(p.NavigationBarEvents,{}),(0,y.jsx)(x.default,{scrollEventThrottle:16,onScroll:this.onScroll,onSwipeStart:this.onSwipeStart,onIndexChange:this.onIndexChange}),(0,y.jsx)(g.default,{}),(0,y.jsx)(_.default,{visible:e,defaultAvatar:t.src}),(0,y.jsx)(f.Track,{title:"空间",hm:["user/"+t.params.userId+"?route=zone","Zone"]}),(0,y.jsx)(b.default,{})]})):(0,y.jsx)(m.default,{style:j._.container.plain})}}]);var v,s=T;function T(){var t;(0,n.default)(this,T);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=v.call.apply(v,[this].concat(s)),(0,u.default)((0,i.default)(t),"onSwipeStart",function(){t.context.$.updatePageOffset()}),(0,u.default)((0,i.default)(t),"onIndexChange",function(){setTimeout(function(){t.context.$.updatePageOffset([0])},0)}),(0,u.default)((0,i.default)(t),"onScroll",function(e){t.context.$.onScroll(e),j.uiStore.closePopableSubject()}),t}c=(0,h.obc)(s);t.default=c;try{page.displayName="page",page.__docgenInfo={description:"",displayName:"page",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/page/index.tsx#page"]={docgenInfo:page.__docgenInfo,name:"page",path:"src/screens/user/zone/page/index.tsx#page"})}catch(e){}},"./src/screens/user/zone/parallax-image/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/Animated/index.js"))),h=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),g=s("./src/components/index.ts"),x=s("./src/screens/_/index.ts"),_=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),S=s("./src/constants/index.ts"),v=r(s("./src/screens/user/zone/head/index.tsx")),T=s("./src/screens/user/zone/store.ts"),O=s("./src/screens/user/zone/parallax-image/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var r=t.$,n=t.navigation,t=(0,O.memoStyles)(),s=(i=r.params)._image,o=i._name,i=r.state.fixed,a=(c=r.usersInfo).avatar,l=c.nickname,d=c.id,u=c.username,c=!!r.users.disconnectUrl,m={transform:[{translateY:r.scrollY.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight-T.H_HEADER,_._.parallaxImageHeight],outputRange:[_._.parallaxImageHeight/2,0,-(_._.parallaxImageHeight-T.H_HEADER),-(_._.parallaxImageHeight-T.H_HEADER)]})}]},f=(S.IOS&&m.transform.push({scale:r.scrollY.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight],outputRange:[2,1,1]})}),["浏览器查看","复制链接","复制分享","发短信","TA的收藏","TA的好友"]),p=(r.users.connectUrl?f.push("加为好友"):r.users.disconnectUrl&&f.push("解除好友"),f.push("屏蔽用户"),null==a?void 0:a.large);return"string"==typeof s&&(p=0===(null==s?void 0:s.indexOf("http"))?s:"https:"+s),"string"==typeof(p=r.bg||r.avatar||p)&&(p=p.replace("http://","https://")),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.default,{style:t.parallax,pointerEvents:i?"none":void 0,children:[(0,w.jsx)(j.default.Image,{style:[t.parallaxImage,m],source:{uri:p},blurRadius:(0,b.getBlurRadius)(p,r.bg,null==a?void 0:a.large)}),(0,w.jsx)(j.default.View,{style:[t.parallaxWrap,m,{backgroundColor:"rgba(0, 0, 0, 0.24)",opacity:r.scrollY.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight-T.H_HEADER,_._.parallaxImageHeight],outputRange:_._.select([0,.4,1,1],[.4,.8,1,1])})}]}),(0,w.jsx)(j.default.View,{style:[t.parallaxWrap,m,{opacity:r.scrollY.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight-T.H_HEADER,_._.parallaxImageHeight],outputRange:[0,0,1,1]})}],children:(0,w.jsxs)(g.Flex,{style:t.title,justify:"center",children:[(0,w.jsx)(x.Avatar,{style:t.avatar,size:28,src:r.src,borderWidth:0,fallbackSrc:null==a?void 0:a.large}),(0,w.jsx)(g.Text,{style:_._.ml.sm,type:_._.select("plain","title"),align:"center",bold:!0,numberOfLines:1,children:(0,b.HTMLDecode)(l||o)})]})}),(0,w.jsxs)(j.default.View,{style:[t.parallaxWrap,m],children:[(0,w.jsx)(j.default.View,{style:{opacity:r.scrollY.interpolate({inputRange:[-_._.parallaxImageHeight,0,_._.parallaxImageHeight-T.H_HEADER,_._.parallaxImageHeight],outputRange:[1,1,0,0]})},children:(0,w.jsx)(v.default,{style:t.head})}),(0,w.jsx)(h.default,{style:t.parallaxLine})]})]}),(0,w.jsx)(h.default,{style:[_._.header.left,t.back],children:(0,w.jsx)(x.IconBack,{navigation:n,color:_._.__colorPlain__})}),(0,w.jsxs)(g.Flex,{style:[_._.header.right,t.right],children:[c&&(0,w.jsx)(g.Touchable,{style:t.touch,onPress:r.logFriendStatus,children:(0,w.jsx)(g.Flex,{style:t.icon,justify:"center",children:(0,w.jsx)(g.Iconfont,{name:"md-face",size:19,color:_._.__colorPlain__})})}),r.isAdvance&&(0,w.jsx)(g.Touchable,{style:[t.touch,_._.ml.xs],onPress:function(){return(0,b.info)("TA 也是高级会员"+(r.advanceDetail?" "+r.advanceDetail:""))},children:(0,w.jsx)(g.Flex,{style:t.icon,justify:"center",children:(0,w.jsx)(g.Iconfont,{name:"md-attach-money",color:_._.__colorPlain__})})}),!S.SHARE_MODE&&(0,w.jsx)(h.default,{style:t.touch,children:(0,w.jsxs)(x.Popover,{data:f,onSelect:function(e){(0,y.t)("空间.右上角菜单",{key:e,userId:r.userId});var t=S.HOST+"/user/"+u,s=(0,b.HTMLDecode)(l||o);switch(e){case"浏览器查看":(0,b.open)(t);break;case"复制链接":(0,b.copy)(t,"已复制链接");break;case"复制分享":(0,b.copy)("【链接】"+s+" | Bangumi番组计划\n"+t,"已复制分享文案");break;case"发短信":n.push("PM",{userId:d,userName:s});break;case"TA的收藏":r.navigateToUser(n);break;case"TA的好友":n.push("Friends",{userId:u||d});break;case"加为好友":r.doConnect();break;case"解除好友":(0,b.confirm)("确定解除好友?",function(){return r.doDisconnect()});break;case"屏蔽用户":(u||d)&&(0,b.confirm)("屏蔽来自 "+s+"@"+(u||d)+" 的包括条目评论、时间胶囊、超展开相关信息，确定?",function(){_.rakuenStore.addBlockUser(s+"@"+(u||d)),(0,b.info)("已屏蔽 "+s)})}},children:[(0,w.jsx)(g.Flex,{style:t.icon,justify:"center",children:(0,w.jsx)(g.Iconfont,{name:"md-more-vert",color:_._.__colorPlain__})}),(0,w.jsx)(g.Heatmap,{id:"空间.右上角菜单"}),(0,w.jsx)(g.Heatmap,{right:62,id:"空间.添加好友",transparent:!0}),(0,w.jsx)(g.Heatmap,{right:113,id:"空间.解除好友",transparent:!0}),(0,w.jsx)(g.Heatmap,{right:170,id:"空间.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]},d||u)})]})]})});t.default=r;try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/parallax-image/index.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/zone/parallax-image/index.tsx#parallaximage"})}catch(e){}},"./src/screens/user/zone/parallax-image/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/user/zone/store.ts"),s=r._.memoStyles(function(){return{parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8},parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:n.H_RADIUS_LINE,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},head:{marginTop:(r._.parallaxImageHeight-120)/2},title:{position:"absolute",left:"50%",width:240,bottom:n.H_RADIUS_LINE+14,transform:[{translateX:-120}]},back:{zIndex:1,marginTop:r._.platforms(-8,-8,-8,0)},right:{zIndex:1,marginTop:r._.platforms(-6,-6,-6,0)},touch:{borderRadius:20,overflow:"hidden"},icon:{width:34,height:36,marginRight:-2},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}}});t.memoStyles=s},"./src/screens/user/zone/rakuen-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),p=s("./src/screens/user/zone/rakuen-item/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.topicId,r=e.avatar,n=e.userName,o=e.title,i=e.group,a=e.date,l=e.time,d=e.userId,e=e.children,u=t.navigation,t=(0,p.memoStyles)();return(0,j.jsxs)(c.Flex,{style:t.container,align:"start",children:[(0,j.jsx)(c.Flex.Item,{children:(0,j.jsx)(c.Touchable,{style:t.item,animate:!0,onPress:function(){(0,f.t)("空间.跳转",{to:"Topic",from:"超展开",topicId:s}),u.push("Topic",{topicId:s,_title:o,_group:i,_time:a+" "+l,_avatar:r,_userName:n,_userId:d})},children:(0,j.jsx)(c.Flex,{align:"start",children:(0,j.jsxs)(c.Flex.Item,{children:[(0,j.jsx)(c.Text,{size:16,children:o}),(0,j.jsxs)(c.Text,{style:m._.mt.sm,type:"sub",size:12,children:[l," / ",i]})]})})})}),e]})});t.default=s},"./src/screens/user/zone/rakuen-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind}}});t.memoStyles=s},"./src/screens/user/zone/rakuen-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/decorators/index.ts"),g=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),_=r(s("./src/screens/user/zone/rakuen-item/index.tsx")),b=s("./src/screens/user/zone/ds.ts"),y=s("./src/screens/user/zone/rakuen-list/styles.ts"),S=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var T,O={id:"空间.跳转",data:{from:"超展开"}},s=(r=c.default.Component,(0,a.default)(w,r),T=v(w),(0,o.default)(w,[{key:"render",value:function(){var e,t,s,r;return x.SHARE_MODE?(0,S.jsx)(f.Loading,{style:y.styles.loading,children:(0,S.jsx)(f.Text,{style:j._.mt.md,children:"网页端不支持此功能"})}):(t=(e=this.context.$).state.timeout,e.userTopicsFormCDN._loaded?(s=0<(s=void 0===(s=e.userTopicsFormCDN._filter)?0:s)?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(f.Text,{style:j._.mt.md,type:"sub",align:"center",size:12,children:["还有",s,"条数据未显示"]}),(0,S.jsxs)(f.Text,{style:j._.mt.xs,type:"sub",align:"center",size:12,children:[(0,S.jsx)(f.Text,{type:"warning",size:12,onPress:this.toQiafan,children:"高级会员"}),"显示所有"]})]}):void 0,r=this.props.onScroll,(0,S.jsx)(f.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:!x.STORYBOOK&&j._.container.bottom,keyExtractor:I,data:e.userTopicsFormCDN,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,ListFooterComponent:s,onFooterRefresh:e.fetchUsersTimeline},this.props,{onScroll:x.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:!0,listener:r})}))):(0,S.jsx)(f.Loading,{style:y.styles.loading,children:t&&(0,S.jsx)(f.Text,{style:j._.mt.md,children:"查询超时，TA可能没有发过帖子"})}))}}]),w);function w(){var r;(0,n.default)(this,w);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=T.call.apply(T,[this].concat(t)),(0,u.default)((0,i.default)(r),"connectRef",function(e){var t=r.context.$,s=b.TABS.findIndex(function(e){return"超展开"===e.title});return t.connectRef(e,s)}),(0,u.default)((0,i.default)(r),"toQiafan",function(){var e=r.context.navigation;(0,g.t)("空间.跳转",{from:"高级会员",to:"Qiafan"}),e.push("Qiafan")}),(0,u.default)((0,i.default)(r),"renderSectionHeader",function(e){e=e.section.title;return(0,S.jsx)(p.SectionHeader,{size:14,children:e})}),(0,u.default)((0,i.default)(r),"renderItem",function(e){var t=e.item,e=e.index,s=r.context.navigation;return(0,S.jsx)(_.default,Object.assign({navigation:s,index:e,event:O},t,{children:!e&&(0,S.jsx)(f.Heatmap,{id:"空间.跳转",to:"Topic",alias:"帖子"})}))}),r}c=(0,h.obc)(s);function I(e){return String(e.id)}t.default=c;try{rakuenlist.displayName="rakuenlist",rakuenlist.__docgenInfo={description:"",displayName:"rakuenlist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!0,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/rakuen-list/index.tsx#rakuenlist"]={docgenInfo:rakuenlist.__docgenInfo,name:"rakuenlist",path:"src/screens/user/zone/rakuen-list/index.tsx#rakuenlist"})}catch(e){}},"./src/screens/user/zone/rakuen-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({loading:{marginTop:s._.window.height/3}});t.styles=s},"./src/screens/user/zone/stats/chart/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.reverse.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/screens/user/zone/stats/chart/utils.ts"),c=s("./src/screens/user/zone/stats/chart/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e){var r=e.count,n=(0,c.memoStyles)(),o=Math.max.apply(Math,(0,i.default)(Object.keys(r||{}).map(function(e){return Number((null==r?void 0:r[e])||0)})));return(0,m.jsx)(l.Flex,{style:n.chart,children:Object.keys(r||{}).reverse().map(function(e,t){var s=(0,u.getHeight)(o,null==r?void 0:r[e]);return(0,m.jsxs)(l.Flex.Item,{style:0<t&&d._.ml.xs,children:[(0,m.jsxs)(l.Flex,{style:n.item,justify:"center",align:"end",children:[(0,m.jsx)(a.default,{style:[n.itemFill,{height:s}]}),(0,m.jsxs)(l.Text,{style:[n.count,{bottom:s}],size:11,type:"sub",align:"center",bold:!0,children:[null==r?void 0:r[e]," "]})]}),(0,m.jsx)(l.Text,{style:d._.mt.sm,size:12,bold:!0,type:"title",align:"center",children:e})]},e)})})});t.default=s;try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/stats/chart/index.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/user/zone/stats/chart/index.tsx#chart"})}catch(e){}},"./src/screens/user/zone/stats/chart/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{chart:{paddingHorizontal:r._.sm,marginTop:56,marginHorizontal:-4},item:{height:r._.r(128),paddingBottom:r._.xs,marginTop:-r._.md},itemFill:{position:"absolute",left:"50%",width:16,marginLeft:-8,backgroundColor:r._.select(r._.colorWait,r._._colorSub),borderRadius:r._.radiusXs},count:{position:"absolute",zIndex:1,right:0,left:0,marginBottom:4}}});t.memoStyles=s},"./src/screens/user/zone/stats/chart/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHeight=function(e,t){if(!e||!t)return 0;t=Number(t)/Number(e);0<t&&t<r&&(t=r);return 100*t+"%"};var r=.04},"./src/screens/user/zone/stats/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),a=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),d=s("./src/screens/user/zone/ds.ts"),u=r(s("./src/screens/user/zone/stats/chart/index.tsx")),c=s("./src/screens/user/zone/stats/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=t.$,t=(0,c.memoStyles)(),r=(null==(r=s.users)?void 0:r.userStats)||{},n=e.onScroll;return(0,m.jsx)(i.default.ScrollView,Object.assign({ref:function(e){var t=d.TABS.findIndex(function(e){return"统计"===e.title});return s.connectRef(e,t)},contentContainerStyle:t.contentContainerStyle},e,l.SCROLL_VIEW_RESET_PROPS,{onScroll:l.STORYBOOK?void 0:i.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,m.jsxs)(o.default,{style:t.page,children:[(0,m.jsxs)(a.Flex,{children:[(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockMain],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.total}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"收藏"})]})}),(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockSuccess],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.collect}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"完成"})]})}),(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockPrimary],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.percent}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"完成率"})]})})]}),(0,m.jsxs)(a.Flex,{children:[(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockWarning],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.avg}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"平均分"})]})}),(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockPurple],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.std}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"标准差"})]})}),(0,m.jsx)(a.Flex.Item,{children:(0,m.jsxs)(o.default,{style:[t.block,t.blockSky],children:[(0,m.jsx)(a.Text,{type:"__plain__",size:20,bold:!0,children:null==r?void 0:r.scored}),(0,m.jsx)(a.Text,{type:"__plain__",size:12,bold:!0,children:"评分数"})]})})]}),(0,m.jsx)(u.default,{count:null==r?void 0:r.chart})]})}))});t.default=r;try{stats.displayName="stats",stats.__docgenInfo={description:"",displayName:"stats",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/stats/index.tsx#stats"]={docgenInfo:stats.__docgenInfo,name:"stats",path:"src/screens/user/zone/stats/index.tsx#stats"})}catch(e){}},"./src/screens/user/zone/stats/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+3*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"},block:{paddingVertical:8,paddingHorizontal:r._.sm,margin:r._.xs,borderRadius:r._.radiusMd,overflow:"hidden"},blockMain:{backgroundColor:r._.colorMain},blockSuccess:{backgroundColor:"#70B941"},blockPrimary:{backgroundColor:"#6BAAE8"},blockWarning:{backgroundColor:r._.colorWarning},blockPurple:{backgroundColor:"#9065ED"},blockSky:{backgroundColor:"#369CF8"}}});t.memoStyles=s},"./src/screens/user/zone/store.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"H_HEADER",{enumerable:!0,get:function(){return O.H_HEADER}}),Object.defineProperty(t,"H_RADIUS_LINE",{enumerable:!0,get:function(){return O.H_RADIUS_LINE}}),Object.defineProperty(t,"H_TABBAR",{enumerable:!0,get:function(){return O.H_TABBAR}}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),i=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),h=s("./node_modules/mobx/dist/mobx.esm.js"),g=s("./src/screens/_/base/avatar/utils.ts"),x=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/utils/fetch/index.ts"),y=s("./src/utils/kv/index.ts"),S=s("./src/utils/user-setting/index.ts"),v=s("./src/utils/webhooks/index.ts"),T=s("./src/constants/index.ts"),O=s("./src/screens/user/v2/ds.ts"),w=s("./src/screens/user/zone/ds.ts"),I=["ts"];function C(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,a.default)(R,s),k=C(R),(0,n.default)(R,[{key:"tabs",get:function(){return x.systemStore.setting.tinygrail?w.TABS_WITH_TINYGRAIL:w.TABS}},{key:"fromTinygrail",get:function(){return"tinygrail"===this.params.from}},{key:"userId",get:function(){var e;return(null==(e=this.params)?void 0:e.userId)||""}},{key:"usersInfo",get:function(){return x.userStore.usersInfo(this.userId)}},{key:"username",get:function(){return this.usersInfo.username}},{key:"userCollections",get:function(){return x.userStore.userCollections(void 0,this.userId)}},{key:"usersTimeline",get:function(){return x.timelineStore.usersTimeline(this.userId)}},{key:"userTopicsFormCDN",get:function(){var e=x.systemStore.advance,t=this.usersInfo,s=t.id,t=t.username,t=x.rakuenStore.userTopicsFormCDN(t||s);return e?t:(s=t.list.filter(function(e,t){return t<8}),Object.assign({},t,{list:s,_filter:t.list.length-8}))}},{key:"users",get:function(){var e=x.usersStore.users(this.userId);return e._loaded?e:this.state.users}},{key:"bg",get:function(){var e=this.users.sign,e=(void 0===e?"":e).match(/\[bg\](.+?)\[\/bg\]/);return(0,S.fixedRemote)((0,_.HTMLDecode)(e?String(e[1]).trim():""))}},{key:"avatar",get:function(){var e=this.users.sign,e=(void 0===e?"":e).match(/\[avatar\](.+?)\[\/avatar\]/),e=e?String(e[1]).trim():"";return(0,S.fixedRemote)((0,_.HTMLDecode)(e),!0)}},{key:"src",get:function(){var e=this.params._image,t=this.usersInfo.avatar;return(0,g.getCDNAvatar)(this.avatar||e||(null==t?void 0:t.large))}},{key:"userAssets",get:function(){return x.tinygrailStore.userAssets(this.username)}},{key:"templeTotal",get:function(){return x.tinygrailStore.templeTotal(this.username)}},{key:"charaTotal",get:function(){return x.tinygrailStore.charaTotal(this.username)}},{key:"h_fixed",get:function(){return x._.parallaxImageHeight-O.H_HEADER}},{key:"advanceDetail",get:function(){return x.userStore.isDeveloper?x.systemStore.advanceDetail[this.userId||this.username]:""}},{key:"isAdvance",get:function(){return x.systemStore.isAdvance(this.userId,this.username)}}]),(0,p.default)((r=R).prototype,"tabs",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"tabs"),r.prototype),(0,p.default)(r.prototype,"fromTinygrail",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"fromTinygrail"),r.prototype),(0,p.default)(r.prototype,"userId",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,p.default)(r.prototype,"usersInfo",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"usersInfo"),r.prototype),(0,p.default)(r.prototype,"username",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"username"),r.prototype),(0,p.default)(r.prototype,"userCollections",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"userCollections"),r.prototype),(0,p.default)(r.prototype,"usersTimeline",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"usersTimeline"),r.prototype),(0,p.default)(r.prototype,"userTopicsFormCDN",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"userTopicsFormCDN"),r.prototype),(0,p.default)(r.prototype,"users",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"users"),r.prototype),(0,p.default)(r.prototype,"bg",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"bg"),r.prototype),(0,p.default)(r.prototype,"avatar",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"avatar"),r.prototype),(0,p.default)(r.prototype,"src",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"src"),r.prototype),(0,p.default)(r.prototype,"userAssets",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"userAssets"),r.prototype),(0,p.default)(r.prototype,"templeTotal",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"templeTotal"),r.prototype),(0,p.default)(r.prototype,"charaTotal",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"charaTotal"),r.prototype),(0,p.default)(r.prototype,"h_fixed",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"h_fixed"),r.prototype),(0,p.default)(r.prototype,"advanceDetail",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"advanceDetail"),r.prototype),(0,p.default)(r.prototype,"isAdvance",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAdvance"),r.prototype);var k,a=r;function R(){var a;(0,d.default)(this,R);for(var t,s,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return a=k.call.apply(k,[this].concat(r)),(0,f.default)((0,u.default)(a),"params",void 0),(0,f.default)((0,u.default)(a),"state",(0,h.observable)(w.STATE)),(0,f.default)((0,u.default)(a),"scrollY",new j.default.Value(0)),(0,f.default)((0,u.default)(a),"y",0),(0,f.default)((0,u.default)(a),"init",(0,i.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getStorage(w.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,a.setState(Object.assign({},t,{page:a.fromTinygrail?w.TABS_WITH_TINYGRAIL.findIndex(function(e){return"tinygrail"===e.key}):0},w.EXCLUDE_STATE,{_loaded:!0})),a.fetchUsersFromOSS(),a.fetchUsers(),a.fromTinygrail?(a.fetchCharaAssets(),a.fetchTempleTotal(),a.fetchCharaTotal()):a.fetchUserCollections(),a.fetchUsersTimeline(!0),e.abrupt("return",a.fetchUsersInfo());case 12:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"fetchUsersInfo",function(){return x.userStore.fetchUsersInfo(a.userId)}),(0,f.default)((0,u.default)(a),"fetchUsersFromOSS",(0,i.default)(l.mark(function e(){var t,s,r,n;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.users._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,y.get)("zone_"+a.userId);case 5:if(t=e.sent){e.next=9;break}return a.updateThirdParty(),e.abrupt("return");case 9:s=t.ts,r=(0,o.default)(t,I),n=(0,_.getTimestamp)(),"object"!=typeof r||Array.isArray(r)||a.setState({users:Object.assign({},r,{_loaded:n})}),604800<=n-s&&a.updateThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,f.default)((0,u.default)(a),"fetchUsers",function(){return x.usersStore.fetchUsers({userId:a.userId})}),(0,f.default)((0,u.default)(a),"fetchUserCollections",function(){return x.userStore.fetchUserCollections(void 0,a.userId)}),(0,f.default)((0,u.default)(a),"fetchUsersTimeline",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e&&(0,_.opitimize)(a.usersTimeline,60)?a.usersTimeline:x.timelineStore.fetchUsersTimeline({userId:a.userId},e)}),(0,f.default)((0,u.default)(a),"fetchUserTopicsFormCDN",function(){var e,t;return!T.SHARE_MODE&&(e=(t=a.usersInfo).id,t=t.username,x.rakuenStore.fetchUserTopicsFormCDN(t||e))}),(0,f.default)((0,u.default)(a),"fetchCharaAssets",function(){return x.tinygrailStore.fetchUserAssets(a.username)}),(0,f.default)((0,u.default)(a),"fetchTempleTotal",function(){return x.tinygrailStore.fetchTempleTotal(a.username)}),(0,f.default)((0,u.default)(a),"fetchCharaTotal",function(){return x.tinygrailStore.fetchCharaTotal(a.username)}),(0,f.default)((0,u.default)(a),"scrollToOffset",{}),(0,f.default)((0,u.default)(a),"scrollTo",{}),(0,f.default)((0,u.default)(a),"connectRef",function(e,t){a.scrollToOffset[t]=null==e?void 0:e.scrollToOffset,a.scrollTo[t]=(null==e?void 0:e.scrollResponderScrollTo)||(null==e?void 0:e.scrollTo)}),(0,f.default)((0,u.default)(a),"updatePageOffset",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[-1,1],t=a.state,s=t.page,r=t.fixed?a.h_fixed:a.y;e.forEach(function(e){var t=a.scrollToOffset[s+e];"function"==typeof t?t({offset:r,animated:!1}):"function"==typeof(t=a.scrollTo[s+e])&&t({y:r,animated:!1})})}),(0,f.default)((0,u.default)(a),"onScroll",function(e){var t=a.state.fixed,e=e.nativeEvent.contentOffset.y,s=(a.y=e,a.h_fixed-20);t&&e<s?a.setState({fixed:!1}):!t&&s<=e&&a.setState({fixed:!0})}),(0,f.default)((0,u.default)(a),"onTabChange",function(e){(0,b.t)("空间.标签页切换",{userId:a.userId,page:e}),a.setState({page:e}),a.onTabChangeCallback(e)}),(0,f.default)((0,u.default)(a),"onTabChangeCallback",(t=(0,i.default)(l.mark(function e(t){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("时间线"===(s=a.tabs[t].title))return e.next=4,a.fetchUsersTimeline(!0);e.next=6;break;case 4:e.next=24;break;case 6:if("超展开"===s)return a.checkUserTopicsIsTimeout(),e.next=10,a.fetchUserTopicsFormCDN();e.next=12;break;case 10:e.next=24;break;case 12:if("番剧"===s&&a.fromTinygrail)return e.next=15,a.fetchUserCollections();e.next=17;break;case 15:e.next=24;break;case 17:if("小圣杯"!==s||a.fromTinygrail){e.next=24;break}return e.next=20,a.fetchCharaAssets();case 20:return e.next=22,a.fetchTempleTotal();case 22:return e.next=24,a.fetchCharaTotal();case 24:setTimeout(function(){return a.updatePageOffset([0])},0);case 25:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,f.default)((0,u.default)(a),"checkUserTopicsIsTimeout",function(){setTimeout(function(){0===a.userTopicsFormCDN.list.length&&a.setState({timeout:!0})},3600)}),(0,f.default)((0,u.default)(a),"onToggleSection",function(e){var t=a.state.expand;(0,b.t)("空间.展开分组",{userId:a.userId,title:e,expand:!t[e]}),a.setState({expand:Object.assign({},t,(0,f.default)({},e,!t[e]))}),a.setStorage(w.NAMESPACE)}),(0,f.default)((0,u.default)(a),"navigateToUser",function(e){var t=a.params._name,s=a.usersInfo,r=s.avatar,n=s.nickname,s=s.username;e.push("User",{userId:s,_name:(0,_.HTMLDecode)(n||t),_image:null==r?void 0:r.large})}),(0,f.default)((0,u.default)(a),"openUsedModal",function(){a.setState({visible:!0})}),(0,f.default)((0,u.default)(a),"closeUsedModal",function(){a.setState({visible:!1})}),(0,f.default)((0,u.default)(a),"toggleOriginUid",function(){var e=a.state.originUid;a.setState({originUid:!e})}),(0,f.default)((0,u.default)(a),"logFriendStatus",(0,i.default)(l.mark(function e(){var t,s,r,n,o,i;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.usersInfo.username,s={scope:T.MODEL_TIMELINE_SCOPE.getValue("自己"),type:T.MODEL_TIMELINE_TYPE.getValue("好友")},r=(0,_.loading)("查询好友信息中..."),e.next=5,x.timelineStore.fetchTimeline(s,!0);case 5:if(n=e.sent,o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+t)})){e.next=15;break}return e.next=10,x.timelineStore.fetchTimeline(s);case 10:return e.next=12,x.timelineStore.fetchTimeline(s);case 12:return e.next=14,x.timelineStore.fetchTimeline(s);case 14:n=e.sent;case 15:if(o=n.list.find(function(e){return null==e||null==(e=e.p3)||null==(e=e.url)||null==(e=e[0])?void 0:e.includes("/user/"+t)}),r(),o){e.next=19;break}return e.abrupt("return",(0,_.info)("是你的好友"));case 19:return i=o.time,e.abrupt("return",(0,_.info)(i.split(" · ")[0]+"加为了好友"));case 21:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"doConnect",(0,i.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b.t)("空间.添加好友",{userId:a.userId}),t=a.users.connectUrl)return e.next=5,(0,b.fetchHTML)({url:""+T.HOST+t});e.next=9;break;case 5:(0,_.feedback)(),(0,_.info)("已添加好友"),a.fetchUsers(),(0,v.webhookFriend)(a.usersInfo,x.userStore.userInfo);case 9:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"doDisconnect",(0,i.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b.t)("空间.解除好友",{userId:a.userId}),t=a.users.disconnectUrl)return e.next=5,(0,b.fetchHTML)({url:""+T.HOST+t});e.next=8;break;case 5:(0,_.feedback)(),(0,_.info)("已解除好友"),a.fetchUsers();case 8:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"doDelete",(s=(0,i.default)(l.mark(function e(t){var s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return s=(0,b.fetchHTML)({method:"POST",url:t}),e.next=5,s;case 5:return(0,_.feedback)(),a.fetchUsersTimeline(!0),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,f.default)((0,u.default)(a),"updateThirdParty",function(){setTimeout(function(){if(!a.userId||!a.users._loaded)return!1;(0,y.update)("zone_"+a.userId,Object.assign({},(0,_.omit)(a.users,["recent","connectUrl","disconnectUrl","formhash","_loaded"])))},1e4)}),a}t.default=a},"./src/screens/user/zone/tab/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=s("./node_modules/react-native-tab-view/lib/module/index.js"),p=r(s("./src/components/@/react-native-tab-view/TabBar.tsx")),j=r(s("./src/components/@/react-native-tab-view/TabView.tsx")),h=s("./src/components/index.ts"),g=s("./src/stores/index.ts"),x=s("./src/utils/decorators/index.ts"),_=r(s("./src/screens/user/zone/list-header/index.tsx")),b=r(s("./src/screens/user/zone/bangumi-list/index.tsx")),y=r(s("./src/screens/user/zone/stats/index.tsx")),S=r(s("./src/screens/user/zone/timeline-list/index.tsx")),v=r(s("./src/screens/user/zone/rakuen-list/index.tsx")),T=r(s("./src/screens/user/zone/about/index.tsx")),O=r(s("./src/screens/user/zone/tinygrail/index.tsx")),w=s("./src/screens/user/zone/store.ts"),I=s("./src/screens/user/zone/tab/styles.ts"),C=s("./node_modules/react/jsx-runtime.js");function k(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}r=c.default.Component,(0,a.default)(E,r),R=k(E),(0,o.default)(E,[{key:"navigationState",get:function(){var e=this.context.$;return{index:e.state.page,routes:e.tabs}}},{key:"transform",get:function(){return{transform:[{translateY:this.context.$.scrollY.interpolate({inputRange:[-g._.parallaxImageHeight,0,g._.parallaxImageHeight-w.H_HEADER,g._.parallaxImageHeight],outputRange:[2*g._.parallaxImageHeight,g._.parallaxImageHeight,w.H_HEADER,w.H_HEADER]})}]}}},{key:"render",value:function(){return(0,C.jsx)(j.default,{lazy:!0,lazyPreloadDistance:1,navigationState:this.navigationState,renderTabBar:this.renderTabBar,renderScene:this.renderScene,onSwipeStart:this.props.onSwipeStart,onIndexChange:this.onIndexChange},g._.orientation)}},{key:"styles",get:function(){return(0,I.memoStyles)()}}]);var R,s=E;function E(){var s;(0,n.default)(this,E);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=R.call.apply(R,[this].concat(t)),(0,u.default)((0,i.default)(s),"onIndexChange",function(e){var t=s.context.$;(0,s.props.onIndexChange)(e),t.onTabChange(e)}),(0,u.default)((0,i.default)(s),"renderScene",(0,f.SceneMap)({bangumi:function(){return(0,C.jsx)(b.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})},stats:function(){return(0,C.jsx)(y.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})},timeline:function(){return(0,C.jsx)(S.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})},rakuen:function(){return(0,C.jsx)(v.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})},about:function(){return(0,C.jsx)(T.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})},tinygrail:function(){return(0,C.jsx)(O.default,{ListHeaderComponent:_.default,scrollEventThrottle:16,onScroll:s.props.onScroll})}})),(0,u.default)((0,i.default)(s),"renderLabel",function(e){var t=e.route,e=e.focused;return(0,C.jsx)(h.Flex,{style:s.styles.labelText,justify:"center",children:(0,C.jsx)(h.Text,{type:"title",size:13,bold:e,noWrap:!0,children:t.title})})}),(0,u.default)((0,i.default)(s),"renderTabBar",function(e){var t=s.context.$,t=g._.window.width/t.tabs.length;return(0,C.jsx)(m.default.View,{style:[s.styles.tabBarWrap,s.transform],children:(0,C.jsx)(p.default,Object.assign({},e,{style:s.styles.tabBar,tabStyle:[s.styles.tab,{width:t}],labelStyle:s.styles.label,indicatorStyle:[s.styles.indicator,{marginLeft:(t-s.styles.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:s.renderLabel}))})}),s}c=(0,x.obc)(s);t.default=c;try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"Fn"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/user/zone/tab/index.tsx#tab"})}catch(e){}},"./src/screens/user/zone/tab/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n={tabBarWrap:{position:"absolute",zIndex:2,top:2-s("./src/screens/user/zone/store.ts").H_RADIUS_LINE,right:0,left:0},label:{padding:0},labelText:{width:"100%"},tabBarLeft:{position:"absolute",zIndex:3,left:0,marginTop:2}},s=r._.memoStyles(function(){return Object.assign({},n,{tabBar:{backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{height:r._.r(48)},indicator:{width:r._.r(16),height:4,backgroundColor:r._.colorMain,borderRadius:4}})});t.memoStyles=s},"./src/screens/user/zone/timeline-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),f=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),g=s("./src/constants/index.ts"),x=s("./src/screens/user/zone/ds.ts"),_=s("./src/screens/user/zone/timeline-list/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var S,v={id:"空间.跳转",data:{from:"时间胶囊"}},c=(s=c.default.Component,(0,a.default)(T,s),S=y(T),(0,n.default)(T,[{key:"render",value:function(){var e,t=this.context.$;return t.usersTimeline._loaded?(e=this.props.onScroll,(0,b.jsx)(p.TapListener,{children:(0,b.jsx)(f.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:!g.STORYBOOK&&j._.container.bottom,keyExtractor:h.keyExtractor,data:t.usersTimeline,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,onFooterRefresh:function(){return t.fetchUsersTimeline()}},this.props,{onScroll:g.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:!0,listener:e})}))})):(0,b.jsx)(f.Loading,{style:_.styles.loading})}}]),T);function T(){var n;(0,o.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=S.call.apply(S,[this].concat(t)),(0,u.default)((0,i.default)(n),"connectRef",function(e){var t=n.context.$,s=x.TABS.findIndex(function(e){return"时间线"===e.title});return t.connectRef(e,s)}),(0,u.default)((0,i.default)(n),"renderSectionHeader",function(e){e=e.section.title;return(0,b.jsx)(p.SectionHeader,{children:e})}),(0,u.default)((0,i.default)(n),"renderItem",function(e){var t=e.item,e=e.index,s=n.context,r=s.$,s=s.navigation;return(0,b.jsx)(p.ItemTimeline,Object.assign({navigation:s,index:e,event:v},t,{onDelete:r.doDelete}))}),n}a=(0,r.obc)(c);t.default=a;try{timelinelist.displayName="timelinelist",timelinelist.__docgenInfo={description:"",displayName:"timelinelist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!0,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/timeline-list/index.tsx#timelinelist"]={docgenInfo:timelinelist.__docgenInfo,name:"timelinelist",path:"src/screens/user/zone/timeline-list/index.tsx#timelinelist"})}catch(e){}},"./src/screens/user/zone/timeline-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({loading:{marginTop:s._.window.height/3}});t.styles=s},"./src/screens/user/zone/tinygrail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=r(s("./node_modules/react-native-web/dist/exports/Animated/index.js")),c=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),h=s("./src/screens/user/zone/ds.ts"),g=s("./src/screens/user/zone/tinygrail/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,g.memoStyles)(),n=e.onScroll,o=(a=s.userAssets).assets,i=a.balance,a=a.lastIndex,l=s.usersInfo.nickname;return(0,x.jsx)(u.default.ScrollView,Object.assign({ref:function(e){var t=h.TABS_WITH_TINYGRAIL.findIndex(function(e){return"小圣杯"===e.title});return s.connectRef(e,t)},contentContainerStyle:t.contentContainerStyle},e,j.SCROLL_VIEW_RESET_PROPS,{onScroll:u.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:!0,listener:n}),children:(0,x.jsxs)(d.default,{style:t.page,children:[(0,x.jsxs)(c.Text,{style:m._.mt.lg,children:["总资产: ",(0,f.formatNumber)(o)," / ",(0,f.formatNumber)(i),0!==a&&" / #"+a]}),(0,x.jsxs)(c.Text,{style:m._.mt.sm,children:[s.templeTotal,"座圣殿"]}),(0,x.jsxs)(c.Text,{style:m._.mt.sm,children:[s.charaTotal,"个人物"]}),(0,x.jsx)(c.Flex,{style:m._.mt.lg,justify:"center",children:(0,x.jsxs)(c.Touchable,{style:t.touch,onPress:function(){(0,p.t)("空间.跳转",{userId:s.userId,to:"TinygrailCharaAssets"}),r.push("TinygrailCharaAssets",{userId:s.username,userName:(0,f.HTMLDecode)(l),from:"tinygrail"})},children:[(0,x.jsx)(c.Text,{type:m._.select("desc","main"),bold:!0,children:"查看TA的持仓"}),(0,x.jsx)(c.Heatmap,{id:"空间.跳转",to:"TinygrailCharaAssets",alias:"小圣杯持仓"})]})})]})}))});t.default=s;try{tinygrail.displayName="tinygrail",tinygrail.__docgenInfo={description:"",displayName:"tinygrail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/tinygrail/index.tsx#tinygrail"]={docgenInfo:tinygrail.__docgenInfo,name:"tinygrail",path:"src/screens/user/zone/tinygrail/index.tsx#tinygrail"})}catch(e){}},"./src/screens/user/zone/tinygrail/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/user/zone/used-modal/index.tsx":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/react/index.js")),j=r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),h=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),g=s("./src/components/index.ts"),x=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),b=s("./src/screens/user/zone/used-modal/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=p.default.Component,(0,u.default)(T,s),v=S(T),(0,n.default)(T,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.visible&&!this.state.name._loaded&&(this.checkUsedName(),this.checkUserAvatar())}},{key:"renderAvatars",value:function(){var e=this.state.avatar;return(0,y.jsx)(j.default,Object.assign({contentContainerStyle:this.styles.avatars,horizontal:!0},_.SCROLL_VIEW_RESET_PROPS,{children:e.map(function(e,t){return(0,y.jsx)(g.Image,{style:x._.mr.sm,src:e,size:40,radius:20,placeholder:!1},t)})}))}},{key:"renderNames",value:function(){var s=this,e=this.state.name;return(0,y.jsx)(j.default,Object.assign({contentContainerStyle:this.styles.names},_.SCROLL_VIEW_RESET_PROPS,{children:e._loaded?e.list.length?e.list.map(function(e,t){return(0,y.jsxs)(g.Flex,{style:s.styles.item,align:"start",children:[(0,y.jsx)(g.Text,{style:s.styles.date,type:"sub",size:12,children:e.date}),(0,y.jsx)(g.Flex.Item,{style:x._.ml.sm,children:(0,y.jsx)(g.Text,{size:12,children:e.content})})]},t)}):(0,y.jsx)(g.Flex,{style:this.styles.empty,direction:"column",justify:"center",children:(0,y.jsx)(g.Text,{size:12,align:"center",children:"该用户没有修改过名字"})}):(0,y.jsx)(g.Loading,{})}))}},{key:"render",value:function(){var e=this.context.$,t=this.props.visible;return(0,y.jsx)(g.Modal,{style:this.styles.modal,visible:t,title:"用户资料修改历史",onClose:e.closeUsedModal,children:(0,y.jsxs)(h.default,{style:this.styles.content,children:[this.renderAvatars(),this.renderNames()]})})}},{key:"styles",get:function(){return(0,b.memoStyles)()}}]);var v,p=T;function T(){var n;(0,l.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=v.call.apply(v,[this].concat(t)),(0,f.default)((0,d.default)(n),"state",{name:{list:[],_loaded:0},avatar:[{uri:n.props.defaultAvatar}]}),(0,f.default)((0,d.default)(n),"checkUsedName",(0,a.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.$,t=t.usersInfo,s=t.id,t=t.username,s={userId:t=t||s,type:_.MODEL_TIMELINE_TYPE.getValue("吐槽")},e.next=6,x.timelineStore.fetchUsersTimeline(s,!0);case 6:return e.next=8,x.timelineStore.fetchUsersTimeline(s);case 8:return e.next=10,x.timelineStore.fetchUsersTimeline(s);case 10:n.setState({name:{list:x.timelineStore.usersTimeline(t).list.filter(function(e){return e.reply&&e.reply.content&&e.reply.content.includes("改名为")}).map(function(e){return{date:e.date,content:e.reply.content}}),_loaded:1}});case 11:case"end":return e.stop()}},e)}))),(0,f.default)((0,d.default)(n),"checkUserAvatar",(0,a.default)(o.mark(function e(){var t,s,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.context.$,r=r.usersInfo.avatar,r=(r||{}).medium,r=(r=-1===(r=String(r||"").split("?")[0]).indexOf("https:")&&-1===r.indexOf("http:")?"https:"+r:r).replace("http://","https://"),t=(0,_.hash)(r),s=t.slice(0,1).toLocaleLowerCase(),r=_.VERSIONS_AVATAR.map(function(e){return _.HOST_CDN+"/gh/czy0729/Bangumi-OSS@"+e+"/data/avatar/m/"+s+"/"+t+".jpg"}),n.setState({avatar:[n.props.defaultAvatar].concat((0,i.default)(r))});case 10:case"end":return e.stop()}},e)}))),n}(0,f.default)(p,"defaultProps",{title:"",visible:!1});u=(0,r.obc)(p);t.default=u;try{usedmodal.displayName="usedmodal",usedmodal.__docgenInfo={description:"",displayName:"usedmodal",props:{defaultAvatar:{defaultValue:null,description:"",name:"defaultAvatar",required:!1,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/used-modal/index.tsx#usedmodal"]={docgenInfo:usedmodal.__docgenInfo,name:"usedmodal",path:"src/screens/user/zone/used-modal/index.tsx#usedmodal"})}catch(e){}},"./src/screens/user/zone/used-modal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{modal:{width:r._.r(r._.window.width-2*r._.wind),maxWidth:r._.r(320),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},content:{paddingHorizontal:r._.sm},avatars:{minHeight:r._.r(40),paddingVertical:r._.sm,marginTop:r._.sm},names:{height:r._.r(240),paddingVertical:r._.sm},item:{paddingVertical:r._.sm},date:{width:r._.r(80)},empty:{height:"100%"}}});t.memoStyles=s},"./src/screens/web-view/information/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=function(e){var t=e.navigation,e=e.route.params,s=e.title,s=void 0===s?"":s,r=e.message,r=void 0===r?[]:r,e=e.advance,e=void 0!==e&&e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Header,{title:""}),(0,i.jsx)(n.Page,{children:(0,i.jsxs)(n.ScrollView,{style:o._.container.wind,contentContainerStyle:o._.container.bottom,children:[!!s&&(0,i.jsxs)(n.Text,{style:[o._.mt.md,o._.mb.sm],size:24,lineHeight:28,bold:!0,children:[s,"说明"]}),("string"==typeof r?[r]:r).filter(function(e){return!!e.trim()}).map(function(e,t){return(0,i.jsx)(n.Text,{style:o._.mt.md,size:16,lineHeight:18,children:e.replace(/,/g,"，").replace(/\?/g,"？").replace(/\(/g,"「").replace(/\)/g,"」")},t)}),!!e&&(0,i.jsx)(n.Text,{style:o._.mt.lg,type:"sub",size:16,lineHeight:18,onPress:function(){return t.push("Qiafan")},children:"关于会员 〉"})]})})]})};try{information.displayName="information",information.__docgenInfo={description:"",displayName:"information",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},route:{defaultValue:null,description:"",name:"route",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/web-view/information/index.tsx#information"]={docgenInfo:information.__docgenInfo,name:"information",path:"src/screens/web-view/information/index.tsx#information"})}catch(e){}},"./src/screens/web-view/webhook/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,l.jsx)(n.Header,{title:"Webhook",hm:["webhook","Webhook"],headerRight:function(){return(0,l.jsx)(o.IconTouchable,{name:"md-open-in-new",size:20,color:i._.colorDesc,onPress:function(){(0,a.open)("https://www.yuque.com/chenzhenyu-k0epm/znygb4/kfpfze0u7old4en1?singleDoc")}})}})});t.default=s},"./src/screens/web-view/webhook/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),l=s("./src/utils/hooks/index.ts"),d=s("./src/utils/webhooks/index.ts"),u=r(s("./src/screens/web-view/webhook/header/index.tsx")),c=s("./src/screens/web-view/webhook/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,l.useObserver)(function(){var s=(0,c.memoStyles)(),e=i.systemStore.setting,t=e.webhook,e=e.webhookUrl;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.default,{}),(0,m.jsxs)(o.Page,{style:s.container,children:[(0,m.jsxs)(o.Flex,{children:[(0,m.jsx)(o.Flex.Item,{children:(0,m.jsxs)(o.Text,{size:15,bold:!0,children:["启用",(0,m.jsxs)(o.Text,{size:12,lineHeight:15,type:"sub",bold:!0,children:["  ","不清楚什么用途的请勿开启"]})]})}),(0,m.jsx)(o.SwitchPro,{style:s.switch,value:t,onSyncPress:function(){i.systemStore.switchSetting("webhook")}})]}),(0,m.jsxs)(n.default,{style:i._.mt.md,children:[(0,m.jsx)(o.Text,{size:15,bold:!0,children:"地址"}),(0,m.jsx)(o.Input,{style:s.input,placeholder:"输入你的 webhook 地址\n默认：https://postman-echo.com/post",multiline:!0,numberOfLines:3,defaultValue:e||"",onChangeText:function(e){i.systemStore.setSetting("webhookUrl",String(e).trim())}})]}),(0,m.jsx)(o.ScrollView,{style:i._.mt.md,contentContainerStyle:s.scrollView,children:d.logs.map(function(e,t){return(0,m.jsx)(n.default,{style:s.item,children:(0,m.jsxs)(o.Expand,{ratio:2,linearGradient:!1,children:[(0,m.jsxs)(o.Flex,{children:[(0,m.jsx)(o.Text,{type:"ERROR"===e.label?"danger":"POST"===e.label?"bid":"warning",bold:!0,children:e.label}),(0,m.jsx)(o.Text,{style:i._.ml.sm,type:"sub",bold:!0,children:(0,a.date)("y-m-d H:i:s",e.ts)})]}),(0,m.jsx)(o.Text,{style:i._.mt.sm,size:12,children:e.content})]},t+"|"+e.ts)})})})]})]})})}},"./src/screens/web-view/webhook/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingTop:r._.md,paddingHorizontal:r._.wind},switch:{marginRight:-4,transform:[{scale:r._.device(.8,1.12)}]},input:{marginTop:r._.md,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd,overflow:"hidden"},scrollView:{paddingBottom:r._.bottom},item:{padding:r._.md,marginBottom:r._.md,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:r._.select(r._.hairlineWidth,0),borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}});t.memoStyles=s}}]);