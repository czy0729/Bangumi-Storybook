(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2876],{"./src/screens/user/sponsor/component/chart/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"Chart")},"./src/screens/user/sponsor/component/chart/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.filter.js"),r("./node_modules/core-js/modules/es.array.map.js"),r("./node_modules/core-js/modules/es.object.assign.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=t(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),l=r("./src/screens/_/index.ts"),d=r("./src/stores/index.ts"),u=r("./src/utils/dev/index.ts"),i=r("./src/utils/fetch/index.ts"),c=r("./src/utils/hooks/index.ts"),a=r("./src/screens/user/sponsor/ds.ts"),m=r("./src/screens/user/sponsor/utils.ts"),f=t(r("./src/screens/user/sponsor/component/item/index.tsx")),p=r("./src/screens/user/sponsor/component/chart/ds.ts"),h=r("./src/screens/user/sponsor/component/chart/styles.ts"),j=r("./node_modules/react/jsx-runtime.js");s.default=function(e){var s=e.navigation;(0,u.r)(p.COMPONENT);var r=(0,h.memoStyles)(),t=(0,m.useTreemapSquarify)(),b=t.data,_=t.filterLength,v=t.filterCount,x=t.handleFilter,y=t.handleBatchFilter,g=t.handleResetFilter;return(0,c.useObserver)((function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(n.Flex,{style:r.filter,direction:"column",justify:"center",children:[(0,j.jsx)(n.Flex,{children:_?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(n.Text,{size:12,bold:!0,children:["已隐藏 ",_," 格，还有 ",v," 格未显示"]}),(0,j.jsx)(o.default,{style:r.refresh,children:(0,j.jsx)(l.IconTouchable,{name:"md-refresh",color:d._.colorDesc,size:18,onPress:function(){return g()}})})]}):(0,j.jsxs)(n.Text,{size:12,bold:!0,children:["还有 ",v," 格未显示，点击方格隐藏，点击色块显示区间"]})}),!_&&(0,j.jsxs)(n.Flex,{style:r.block,justify:"around",children:[(0,j.jsx)(n.Touchable,{style:r.touch,onPress:function(){return y(200)},children:(0,j.jsxs)(n.Flex,{children:[(0,j.jsx)(o.default,{style:[r.l,r.l4]}),(0,j.jsx)(n.Text,{style:d._.mr.sm,size:10,bold:!0,children:"≥ 200"})]})}),(0,j.jsx)(n.Touchable,{onPress:function(){return y(50)},children:(0,j.jsxs)(n.Flex,{children:[(0,j.jsx)(o.default,{style:[r.l,r.l3]}),(0,j.jsx)(n.Text,{style:d._.mr.sm,size:10,bold:!0,children:"≥ 50"})]})}),(0,j.jsx)(n.Touchable,{onPress:function(){return y(20)},children:(0,j.jsxs)(n.Flex,{children:[(0,j.jsx)(o.default,{style:[r.l,r.l2]}),(0,j.jsx)(n.Text,{style:d._.mr.sm,size:10,bold:!0,children:"≥ 20"})]})}),(0,j.jsx)(n.Touchable,{onPress:function(){return y(10)},children:(0,j.jsxs)(n.Flex,{children:[(0,j.jsx)(o.default,{style:[r.l,r.l1]}),(0,j.jsx)(n.Text,{style:d._.mr.sm,size:10,bold:!0,children:"≥ 10"})]})})]})]}),(0,j.jsx)(o.default,{style:r.container,children:b.map((function(e){return(0,j.jsx)(f.default,Object.assign({},e,{onPress:function(){x(e.data)},onLongPress:d.systemStore.advance?function(){var r,t=e.data;s.push("Zone",{userId:t,_name:null==(r=a.USERS_MAP[e.data])?void 0:r.n}),(0,i.t)("赞助者.跳转",{userId:t})}:void 0}),e.data)}))})]})}))}},"./src/screens/user/sponsor/component/chart/styles.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=r("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{filter:{paddingVertical:12},container:{flex:1,backgroundColor:t._.colorPlain},refresh:{marginRight:-24},touch:{paddingVertical:4,paddingHorizontal:6,marginHorizontal:2},block:{width:"80%",marginTop:t._.sm},l:{width:18,height:18,marginRight:6,borderRadius:4,borderWidth:1,borderColor:t._.colorBorder,overflow:"hidden"},l1:{backgroundColor:t._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:t._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:t._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:t._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}}))},"./src/screens/user/sponsor/component/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"Component")},"./src/screens/user/sponsor/component/item/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"Item")},"./src/screens/user/sponsor/component/item/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.parse-int.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=t(r("./node_modules/react-native-web/dist/exports/View/index.js")),n=r("./src/components/index.ts"),l=r("./src/screens/_/index.ts"),d=r("./src/stores/index.ts"),u=r("./src/utils/index.ts"),i=r("./src/utils/decorators/index.ts"),c=r("./src/constants/index.ts"),a=r("./src/screens/user/sponsor/ds.ts"),m=r("./src/screens/user/sponsor/component/item/ds.ts"),f=r("./src/screens/user/sponsor/component/item/styles.ts"),p=r("./node_modules/react/jsx-runtime.js");s.default=(0,i.ob)((function(e){var s,r,t,i,m,h,j,b=e.w,_=e.h,v=e.x,x=e.y,y=e.data,g=e.percent,O=e.price,P=e.isFilter,w=e.onPress,M=e.onLongPress,T=(0,f.memoStyles)(),S=Math.pow(g+1,2),C=Math.min(b,_)/d._.window.height*1.2,N=!P&&!!y&&O>=10&&b*_/(d._.window.width*d._.window.height)>.016,E=Math.min(64,parseInt(String(240*C)));return O>=200?j=T.l4:O>=50?j=T.l3:O>=20?j=T.l2:O>=10&&(j=T.l1),(0,p.jsxs)(o.default,{style:[T.item,{top:x,left:v}],children:[(0,p.jsx)(n.Touchable,{style:{width:b,height:_},onPress:w,onLongPress:M,children:(0,p.jsxs)(n.Flex,{style:[T.body,{width:b,height:_,backgroundColor:d._.colorPlain},j],direction:"column",justify:"center",children:[N&&(0,p.jsx)(o.default,{style:{marginBottom:parseInt(String(5.6*S))},pointerEvents:"none",children:(0,p.jsx)(n.UserStatus,{style:j,userId:(null==(s=a.USERS_MAP[y])?void 0:s.i)||y,mini:E<32,children:(0,p.jsx)(l.Avatar,{src:null!=(r=a.USERS_MAP[y])&&r.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==(t=a.USERS_MAP[y])?void 0:t.a)+".jpg":c.IMG_DEFAULT_AVATAR,size:E,radius:Math.floor(.28*E),borderWidth:0})})}),(0,p.jsx)(n.Flex,{style:T.content,justify:"center",children:(0,p.jsx)(n.Text,{size:(null==(i=a.USERS_MAP[y])||null==(m=i.n)?void 0:m.length)>=8?10:Math.min(14,parseInt(String(11*S))),numberOfLines:2,bold:!0,align:"center",selectable:!1,children:(0,u.HTMLDecode)(null==(h=a.USERS_MAP[y])?void 0:h.n)})})]})}),(0,p.jsx)(o.default,{style:T.border,pointerEvents:"none"})]})}),m.COMPONENT)},"./src/screens/user/sponsor/component/item/styles.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var t=r("./src/stores/index.ts");s.memoStyles=t._.memoStyles((function(){return{item:{position:"absolute"},body:{flex:1},border:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,borderWidth:t._.hairlineWidth,borderColor:t._.select("rgba(0, 0, 0, 0.12)","rgba(255, 255, 255, 0.12)")},content:{width:"88%"},l1:{backgroundColor:t._.select("rgb(210, 210, 210)","rgb(12, 12, 12)")},l2:{backgroundColor:t._.select("rgb(222, 222, 222)","rgb(20, 20, 20)")},l3:{backgroundColor:t._.select("rgb(238, 238, 238)","rgb(36, 36, 36)")},l4:{backgroundColor:t._.select("rgb(255, 255, 255)","rgb(52, 52, 52)")}}}))},"./src/screens/user/sponsor/component/list-item/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"ListItem")},"./src/screens/user/sponsor/component/list-item/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=r("./src/components/index.ts"),n=r("./src/screens/_/index.ts"),l=r("./src/stores/index.ts"),d=r("./src/utils/index.ts"),u=r("./src/utils/decorators/index.ts"),i=r("./src/constants/index.ts"),c=r("./src/screens/user/sponsor/ds.ts"),a=r("./src/screens/user/sponsor/component/list-item/ds.ts"),m=r("./src/screens/user/sponsor/component/list-item/styles.ts"),f=r("./node_modules/react/jsx-runtime.js");s.default=(0,u.obc)((function(e,s){var r=e.item,t=s.navigation,u=c.USERS_MAP[r.data],a=r.data;return(0,f.jsxs)(o.Flex,{style:m.styles.item,children:[(0,f.jsx)(o.UserStatus,{userId:a,children:(0,f.jsx)(n.Avatar,{navigation:t,src:null!=u&&u.a?"https://lain.bgm.tv/pic/user/l/000/"+(null==u?void 0:u.a)+".jpg":i.IMG_DEFAULT_AVATAR,name:null==u?void 0:u.n,userId:a,size:32})}),(0,f.jsxs)(o.Flex.Item,{style:l._.ml.sm,children:[(0,f.jsx)(o.Text,{size:12,bold:!0,children:(0,d.HTMLDecode)(null==u?void 0:u.n)}),(0,f.jsxs)(o.Text,{size:10,type:"sub",children:["@",a]})]})]})}),a.COMPONENT)},"./src/screens/user/sponsor/component/list-item/styles.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var t=r("./src/stores/index.ts");s.styles=t._.create({item:{width:"50%",paddingHorizontal:t._._wind,paddingVertical:t._.sm}})},"./src/screens/user/sponsor/component/list/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/component/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"List")},"./src/screens/user/sponsor/component/list/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=r("./src/components/index.ts"),n=r("./src/screens/_/index.ts"),l=r("./src/stores/index.ts"),d=r("./src/utils/decorators/index.ts"),u=r("./src/constants/index.ts"),i=r("./src/screens/user/sponsor/ds.ts"),c=r("./src/screens/user/sponsor/component/list/utils.tsx"),a=r("./src/screens/user/sponsor/component/list/ds.ts"),m=r("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(){return(0,m.jsx)(n.PaginationList2,{contentContainerStyle:l._.container.bottom,keyExtractor:c.keyExtractor,data:i.LIST,numColumns:2,limit:40,ListHeaderComponent:(0,m.jsxs)(o.Text,{style:[l._.mt.sm,l._.mb.md],size:12,bold:!0,align:"center",children:["截止至 ",u.TEXT_UPDATE_SPONSOR," 共 ",i.LIST.length," 人投食了，感谢你们的支持！"]}),renderItem:c.renderItem})}),a.COMPONENT)},"./src/screens/user/sponsor/component/list/utils.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.keyExtractor=function(e){return String(e.data)},s.renderItem=function(e){var s=e.item;return(0,n.jsx)(o.default,{item:s})};t(r("react"));var o=t(r("./src/screens/user/sponsor/component/list-item/index.tsx")),n=r("./node_modules/react/jsx-runtime.js")},"./src/screens/user/sponsor/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.sort.js"),r("./node_modules/core-js/modules/es.array.map.js"),r("./node_modules/core-js/modules/es.array.filter.js"),r("./node_modules/core-js/modules/es.object.entries.js"),r("./node_modules/core-js/modules/es.string.split.js"),r("./node_modules/core-js/modules/es.regexp.exec.js"),r("./node_modules/core-js/modules/es.number.constructor.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.LIST=s.FILTER_RATE=s.COMPONENT=void 0,Object.defineProperty(s,"USERS_MAP",{enumerable:!0,get:function(){return d.default}});var o=t(r("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=r("./src/utils/index.ts"),l=t(r("./src/assets/json/advance.json")),d=t(r("./src/assets/json/user.json"));s.COMPONENT="Sponsor",s.LIST=Object.entries(l.default).filter((function(e){var s=(0,o.default)(e,2)[1];return!(1!=s&&"string"!=typeof s)})).map((function(e){var s=(0,o.default)(e,2),r=s[0],t=s[1],n=String(t);if("1"===n)return{data:r,weight:10};var l=n.split("|"),d=(0,o.default)(l,2)[1];return{data:r,weight:Number(d)}})).sort((function(e,s){return(0,n.desc)(e.weight,s.weight)})),s.FILTER_RATE=.002},"./src/screens/user/sponsor/header/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var t=r("./src/utils/dev/index.ts"),o=r("./src/screens/user/sponsor/ds.ts");s.COMPONENT=(0,t.rc)(o.COMPONENT,"Header")},"./src/screens/user/sponsor/header/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=r("./src/components/index.ts"),n=r("./src/screens/_/index.ts"),l=r("./src/stores/index.ts"),d=r("./src/utils/decorators/index.ts"),u=r("./src/utils/fetch/index.ts"),i=r("./src/screens/user/sponsor/utils.ts"),c=r("./src/screens/user/sponsor/header/ds.ts"),a=r("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var r=s.$,t=s.navigation,d=r.state.list;return(0,a.jsx)(o.Header,{title:"赞助者",hm:["sponsor","Sponsor"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[(0,a.jsx)(n.IconTouchable,{style:l._.mr.sm,name:d?"md-insert-chart-outlined":"md-sort",color:l._.colorTitle,onPress:r.onToggle}),(0,a.jsx)(n.IconTouchable,{name:"md-info-outline",color:l._.colorTitle,onPress:function(){t.push("Information",{title:"赞助者",message:["生存情况：已存活 "+(0,i.timeDiff)(),"图表根据赞助额按比例划分","点击方格隐藏 1 格，若你为赞助者长按可进入空间","除此外还有 30 多个赞助者没有留名","@senken 提供的 100 刀 iOS 开发账号","@magma 提供的服务器和 OSS 服务","数据不定期更新，感谢各位的支持！"]}),(0,u.t)("赞助者.提示")}})]})}})}),c.COMPONENT)},"./src/screens/user/sponsor/index.tsx":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;t(r("react"));var o=r("./src/components/index.ts"),n=r("./src/utils/decorators/index.ts"),l=r("./src/utils/hooks/index.ts"),d=t(r("./src/screens/user/sponsor/component/chart/index.tsx")),u=t(r("./src/screens/user/sponsor/component/list/index.tsx")),i=t(r("./src/screens/user/sponsor/header/index.tsx")),c=t(r("./src/screens/user/sponsor/store/index.ts")),a=r("./node_modules/react/jsx-runtime.js");s.default=(0,n.ic)(c.default,(function(e,s){var r=s.$,t=s.navigation;return(0,l.useRunAfter)((function(){r.init()})),(0,l.useObserver)((function(){return(0,a.jsxs)(o.Component,{id:"screen-sponsor",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)(o.Page,{loaded:r.state._loaded,children:r.state.list?(0,a.jsx)(u.default,{}):(0,a.jsx)(d.default,{navigation:t})})]})}))}))},"./src/screens/user/sponsor/store/action.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=t(r("./node_modules/@babel/runtime/helpers/createClass.js")),n=t(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=t(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=t(r("./node_modules/@babel/runtime/helpers/inherits.js")),u=t(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=t(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=t(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r("./src/utils/index.ts"),m=r("./src/utils/fetch/index.ts"),f=t(r("./src/screens/user/sponsor/store/state.ts"));function p(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,t=(0,i.default)(e);if(s){var o=(0,i.default)(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}s.default=function(e){(0,d.default)(r,e);var s=p(r);function r(){var e;(0,n.default)(this,r);for(var t=arguments.length,o=new Array(t),d=0;d<t;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,l.default)(e),"onToggle",(function(){var s=!e.state.list;e.setState({list:s}),e.save(),(0,a.info)(s?"列表显示":"按打赏金额分布显示"),(0,m.t)("赞助者.切换布局",{list:s})})),e}return(0,o.default)(r)}(f.default)},"./src/screens/user/sponsor/store/ds.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=void 0;var t=r("./src/screens/user/sponsor/ds.ts");s.NAMESPACE="Scree"+t.COMPONENT,s.STATE={list:!0,_loaded:!1}},"./src/screens/user/sponsor/store/index.ts":(e,s,r)=>{var t=r("./node_modules/@babel/runtime/regenerator/index.js");r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/es.object.assign.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=o(r("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=o(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(r("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(r("./src/screens/user/sponsor/store/action.ts")),p=r("./src/screens/user/sponsor/store/ds.ts");function h(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,t=(0,a.default)(e);if(s){var o=(0,a.default)(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return(0,c.default)(this,r)}}s.default=function(e){(0,i.default)(r,e);var s=h(r);function r(){var e;(0,d.default)(this,r);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return e=s.call.apply(s,[this].concat(l)),(0,m.default)((0,u.default)(e),"init",(0,n.default)(t.mark((function s(){return t.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=e,s.t1=Object,s.t2={},s.next=5,e.getStorage(p.NAMESPACE);case 5:return s.t3=s.sent,s.t4={_loaded:!0},s.t5=s.t1.assign.call(s.t1,s.t2,s.t3,s.t4),s.t0.setState.call(s.t0,s.t5),s.abrupt("return",!0);case 10:case"end":return s.stop()}}),s)})))),e}return(0,l.default)(r)}(f.default)},"./src/screens/user/sponsor/store/state.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.reflect.construct.js"),r("./node_modules/core-js/modules/es.array.concat.js");var t=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=t(r("./node_modules/@babel/runtime/helpers/createClass.js")),n=t(r("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=t(r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=t(r("./node_modules/@babel/runtime/helpers/inherits.js")),u=t(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=t(r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=t(r("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=r("./node_modules/mobx/dist/mobx.esm.js"),m=t(r("./src/utils/store/index.ts")),f=r("./src/screens/user/sponsor/store/ds.ts");function p(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,t=(0,i.default)(e);if(s){var o=(0,i.default)(this).constructor;r=Reflect.construct(t,arguments,o)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}s.default=function(e){(0,d.default)(r,e);var s=p(r);function r(){var e;(0,n.default)(this,r);for(var t=arguments.length,o=new Array(t),d=0;d<t;d++)o[d]=arguments[d];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,l.default)(e),"state",(0,a.observable)(f.STATE)),(0,c.default)((0,l.default)(e),"save",(function(){return e.saveStorage(f.NAMESPACE)})),e}return(0,o.default)(r)}(m.default)},"./src/screens/user/sponsor/utils.ts":(e,s,r)=>{var t=r("./node_modules/@babel/runtime/regenerator/index.js");r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.concat.js"),r("./node_modules/core-js/modules/es.array.map.js"),r("./node_modules/core-js/modules/es.array.filter.js"),r("./node_modules/core-js/modules/es.object.entries.js"),r("./node_modules/core-js/modules/es.string.split.js"),r("./node_modules/core-js/modules/es.regexp.exec.js"),r("./node_modules/core-js/modules/es.number.constructor.js"),r("./node_modules/core-js/modules/es.array.includes.js"),r("./node_modules/core-js/modules/es.string.includes.js"),r("./node_modules/core-js/modules/es.parse-float.js"),r("./node_modules/core-js/modules/es.number.to-fixed.js"),r("./node_modules/core-js/modules/es.array.for-each.js"),r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./node_modules/core-js/modules/es.object.keys.js"),r("./node_modules/core-js/modules/es.string.replace.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.devGetUsersInfo=function(){return v.apply(this,arguments)},s.devLocalUsersInfo=function(){return x.apply(this,arguments)},s.timeDiff=function(){var e=(0,i.default)("2019-03-30"),s=(0,i.default)(),r=Math.floor(s.diff(e)/1e3),t=Math.floor(r/31536e3);r-=31536e3*t;var o=Math.floor(r/2592e3);r-=2592e3*o;var n=Math.floor(r/86400);r-=86400*n;var l=Math.floor(r/3600);r-=3600*l;var d=Math.floor(r/60);return t+"年"+o+"月"+n+"日"+l+"时"+d+"分"+(r-=60*d)+"秒"},s.useTreemapSquarify=function(){var e=(0,u.useState)((0,l.default)(b)),s=(0,d.default)(e,2),r=s[0],t=s[1],o=(0,u.useCallback)((function(e){t([].concat((0,l.default)(r),[e])),b=[].concat((0,l.default)(r),[e])}),[r,t]),n=(0,u.useCallback)((function(e){var s=Object.entries(h.default).filter((function(s){var r=(0,d.default)(s,2)[1],t=0;if(1===r)t=10;else if("string"==typeof r){var o=r.split("|"),n=(0,d.default)(o,2)[1];t=Number(n)}return!t||(200===e?!(t>=200):50===e?!(t<200&&t>=50):20===e?!(t<50&&t>=20):10!==e||!(t<20&&t>=10))})).map((function(e){return(0,d.default)(e,1)[0]}));t((0,l.default)(s))}),[t]),i=(0,u.useCallback)((function(){t([]),b=[]}),[t]),m=j.LIST.filter((function(e){return!r.includes(e.data)})),v=_(m),x=0,y=0,g=_(m=m.filter((function(e,s){return!(e.weight/v<j.FILTER_RATE||s>=40)||(x+=1,y+=e.weight,!1)}))),O=m.map((function(e){return{data:e.data,weight:e.weight,price:e.weight,percent:e.weight/g}})),P=[];try{f.default.squarify({frame:{x:0,y:0,width:c._.window.width,height:c._.window.height-c._.headerHeight-64-(p.IOS?28:0)},nodes:O},(function(e,s,r,t,o){return P.push({data:o.data,price:o.price,percent:o.percent,x:parseFloat((0,a.toFixed)(e,3)),y:parseFloat((0,a.toFixed)(s,3)),w:parseFloat((0,a.toFixed)(r,3)),h:parseFloat((0,a.toFixed)(t,3))})}))}catch(e){}return{data:P,filterLength:r.length,filterCount:x,filterTotal:y,handleFilter:o,handleBatchFilter:n,handleResetFilter:i}};var n=o(r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=o(r("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),d=o(r("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=r("react"),i=o(r("./node_modules/dayjs/dayjs.min.js")),c=r("./src/stores/index.ts"),a=r("./src/utils/index.ts"),m=r("./src/utils/kv/index.ts"),f=o(r("./src/utils/thirdParty/treemap.ts")),p=r("./src/constants/index.ts"),h=o(r("./src/assets/json/advance.json")),j=r("./src/screens/user/sponsor/ds.ts");var b=[];function _(e){var s=0;return e.forEach((function(e){return s+=e.weight||0})),s}function v(){return(v=(0,n.default)(t.mark((function e(){var s,r;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("devGetUsersInfo start"),s={},r=Object.keys(h.default),e.next=5,(0,a.queue)(r.map((function(e,o){return(0,n.default)(t.mark((function n(){var l;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.usersStore.fetchUsers({userId:e});case 2:return l=t.sent,console.info("devGetUsersInfo "+o+" / "+r.length),s[e]={n:l.userName},l.avatar&&(s[e].a=l.avatar.split("?")[0].split("/000/")[1].replace(".jpg","")),l.userId!==e&&(s[e].i=l.userId),t.abrupt("return",!0);case 8:case"end":return t.stop()}}),n)})))})));case 5:(0,m.update)("sponsor_users_map",s),console.info("devGetUsersInfo done");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,n.default)(t.mark((function e(){var s;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("devLocalUsersInfo"),e.next=3,c.usersStore.init("users");case 3:s={},Object.keys(h.default).forEach((function(e){var r=c.usersStore.users(e);s[e]={n:r.userName},r.avatar&&(s[e].a=r.avatar.split("?")[0].split("/000/")[1].replace(".jpg","")),r.userId!==e&&(s[e].i=r.userId)})),(0,m.update)("sponsor_users_map",s),console.info("done");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"./src/utils/thirdParty/treemap.ts":(e,s,r)=>{r("./node_modules/core-js/modules/es.object.define-property.js"),r("./node_modules/core-js/modules/es.array.slice.js"),r("./node_modules/core-js/modules/es.array.sort.js"),r("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t={},o=function(){function e(e,s){this.weight=0,this.frame={x:0,y:0,width:0,height:0},this.weight=e,this.data=s}return e.weigh=function(e){var s=new Array,r=new Array;for(e.level=0,r.push(e);r.length>0;){var t=r.pop();if(s[t.level]||(s[t.level]=new Array),s[t.level].push(t),t.nodes)for(var o=0;o<t.nodes.length;++o){var n=t.nodes[o];n.level=t.level+1,n.parent=t,r.push(n)}}for(o=s.length-2;o>=0;--o)for(var l=0;l<s[o].length;++l){for(var d=0,u=0;u<s[o][l].nodes.length;++u)d+=s[o][l].nodes[u].weight;s[o][l].weight=d}},e}();t.InternalNode=o;var n=function(){};function l(){return.05}t.Size=n,t.maxFontSize=function(e){return.1*(e.width+e.height)},t.minFontSize=function(e){return 8},t.fontSize=function(e,s){var r=this.minFontSize(e),t=this.maxFontSize(e);return Math.max(r,(s.width+s.height)/(e.width+e.height)*t)},t.tileMarginPercentage=l,t.xMargin=function(e){return.05*e.width},t.yMargin=function(e){return.05*e.height};var d=function(){function e(){}return e.squarify=function(e,s,r,o){var n=e.slice(0);this.scaleWeights(e,s,r),n.sort((function(e,s){return s.weight-e.weight})),n.push(new t.InternalNode(0,null));for(var l=r<s,d=l?r:s,u=0,i=0,c=s,a=r,m=[];n.length>0;){var f=n[0],p=f.weight,h=this.sum(m),j=this.min(m),b=this.max(m),_=this.worst(h+p,Math.min(j,p),Math.max(b,p),d),v=this.worst(h,j,b,d);if(0==m.length||_<v)m.push(f),n.shift();else{var x,y=u,g=i,O=h/d;for(x=0;x<m.length;++x){var P=m[x].weight/O;l?(o(y,g,O,P,m[x]),g+=P):(o(y,g,P,O,m[x]),y+=P)}l?(u+=O,c-=O):(i+=O,a-=O),d=(l=a<c)?a:c,m=[]}}},e.worst=function(e,s,r,t){return Math.max(t*t*r/(e*e),e*e/(t*t*s))},e.scaleWeights=function(e,s,r){for(var t=s*r/this.sum(e),o=0;o<e.length;o++)e[o].weight=t*e[o].weight},e.max=function(e){return Math.max.apply(Math,this.weights(e))},e.min=function(e){return Math.min.apply(Math,this.weights(e))},e.sum=function(e){for(var s=0,r=0;r<e.length;++r)s+=e[r].weight;return s},e.weights=function(e){return e.map((function(e){return e.weight}),e)},e}();t.squarify=function(e,s){t.InternalNode.weigh(e);var r=new Array;for(r.push(e);r.length>0;){if((l=r.shift()).nodes&&l.nodes.length>0){d.squarify(l.nodes,l.frame.width,l.frame.height,(function(e,s,r,t,o){o.frame={x:l.frame.x+e,y:l.frame.y+s,width:r,height:t}}));for(var o=0;o<l.nodes.length;++o){var n=l.nodes[o];n.nodes&&n.nodes.length>0&&r.push(n)}}}for(r.push(e);r.length>0;){var l;if(s((l=r.pop()).frame.x,l.frame.y,l.frame.width,l.frame.height,l),l.nodes)for(o=0;o<l.nodes.length;++o)r.push(l.nodes[o])}};s.default=t}}]);