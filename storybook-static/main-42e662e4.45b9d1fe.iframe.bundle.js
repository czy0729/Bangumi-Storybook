(self.webpackChunkweb=self.webpackChunkweb||[]).push([[506],{"./src/screens/_/item/friends/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/friends/index.tsx"),i=s("./src/screens/_/item/friends/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemFriends",component:o.ItemFriends},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{radius:!0,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemFriends,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e){return(0,d.jsx)(o.ItemFriends,Object.assign({},e),e.userId)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.userId} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},hobby:{defaultValue:null,description:"",name:"hobby",required:!1,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!1,type:{name:"string | number"}},recent:{defaultValue:null,description:"",name:"recent",required:!1,type:{name:"string"}},doing:{defaultValue:null,description:"",name:"doing",required:!1,type:{name:"string | number"}},collect:{defaultValue:null,description:"",name:"collect",required:!1,type:{name:"string | number"}},wish:{defaultValue:null,description:"",name:"wish",required:!1,type:{name:"string | number"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!1,type:{name:"string | number"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"string | number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/friends/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/notify/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/notify/index.tsx"),i=s("./src/screens/_/item/notify/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemNotify",component:o.ItemNotify},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{radius:!0,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemNotify,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e){return(0,d.jsx)(o.ItemNotify,Object.assign({},e),e.userId)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.userId} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},message2:{defaultValue:null,description:"",name:"message2",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},repeat:{defaultValue:null,description:"",name:"repeat",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/notify/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/notify/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/post/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/post/index.tsx"),i=s("./src/screens/_/item/post/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemPost",component:o.ItemPost},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{radius:!0,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemPost,Object.assign({},e))})})}),s=(r.args=i.list[7],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e){return(0,d.jsx)(o.ItemPost,Object.assign({},e),e.id)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{inViewY:{defaultValue:null,description:"",name:"inViewY",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},contentStyle:{defaultValue:null,description:"容器样式",name:"contentStyle",required:!1,type:{name:"ViewStyle"}},extraStyle:{defaultValue:null,description:"右侧菜单按钮样式",name:"extraStyle",required:!1,type:{name:"ViewStyle"}},avatar:{defaultValue:null,description:"头像地址",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"用户 Id",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"用户昵称",name:"userName",required:!1,type:{name:"string"}},replySub:{defaultValue:null,description:"存放 bgm 特有的子回复配置字符串",name:"replySub",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"回复内容",name:"message",required:!1,type:{name:"string"}},sub:{defaultValue:null,description:"子回复数据",name:"sub",required:!1,type:{name:"any[]"}},id:{defaultValue:null,description:"楼层 Id",name:"id",required:!1,type:{name:"Id"}},authorId:{defaultValue:null,description:"作者 Id",name:"authorId",required:!1,type:{name:"UserId"}},postId:{defaultValue:null,description:"楼层 Id, 存在就跳转到对应楼层",name:"postId",required:!1,type:{name:"Id"}},time:{defaultValue:null,description:"发帖时间",name:"time",required:!1,type:{name:"string"}},floor:{defaultValue:null,description:"楼层",name:"floor",required:!1,type:{name:"string"}},userSign:{defaultValue:null,description:"用户签名",name:"userSign",required:!1,type:{name:"string"}},erase:{defaultValue:null,description:"删除楼层的请求地址",name:"erase",required:!1,type:{name:"string"}},directFloor:{defaultValue:null,description:"高亮标记楼层",name:"directFloor",required:!1,type:{name:"string"}},rendered:{defaultValue:null,description:"是否允许渲染 (用于优化)",name:"rendered",required:!1,type:{name:"boolean"}},matchLink:{defaultValue:null,description:"是否自动检测媒体块",name:"matchLink",required:!1,type:{name:"boolean"}},expandNums:{defaultValue:null,description:"楼层自动折叠子回复数",name:"expandNums",required:!1,type:{name:"number"}},showFixedTextare:{defaultValue:null,description:"传递显示回复弹窗的函数",name:"showFixedTextare",required:!1,type:{name:"Fn"}},onJumpTo:{defaultValue:null,description:"",name:"onJumpTo",required:!1,type:{name:"Fn"}},event:{defaultValue:null,description:"埋点",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/post/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/say/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/screens/_/item/say/index.tsx"),d=s("./src/screens/_/item/say/index.mock.tsx"),a=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemSay",component:i.ItemSay},t.Item=function(e){return(0,a.jsx)(n.StorybookPage,{children:(0,a.jsx)(n.Flex.Item,{children:(0,a.jsx)(i.ItemSay,Object.assign({},e))})})}),s=(r.args=d.list[0],t.List=function(){return(0,a.jsx)(n.StorybookPage,{children:(0,a.jsx)(n.StorybookList,{style:o._.container.wind,children:d.list.map(function(e){return(0,a.jsx)(i.ItemSay,Object.assign({},e),e.id)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList style={_.container.wind}>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},showName:{defaultValue:null,description:"",name:"showName",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"UserId"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"boolean"}},onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/say/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/say/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/search/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/search/index.tsx"),i=s("./src/screens/_/item/search/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemSearch",component:o.ItemSearch},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemSearch,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e){return(0,d.jsx)(o.ItemSearch,Object.assign({},e),e.id)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},collected:{defaultValue:null,description:"",name:"collected",required:!1,type:{name:"boolean"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/search/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/setting-block/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/setting-block/index.tsx"),i=s("./src/screens/_/item/setting-block/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemSettingBlock",component:o.ItemSettingBlock},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemSettingBlock,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{space:!0,children:i.list.map(function(e,t){return(0,d.jsx)(o.ItemSettingBlock,Object.assign({},e),t)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList space>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"main"'},{value:'"primary"'},{value:'"warning"'},{value:'"bid"'},{value:'"ask"'},{value:'"title"'},{value:'"__plain__"'},{value:'"success"'},{value:'"danger"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting-block/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/setting-block/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/setting/index.tsx"),i=s("./src/screens/_/item/setting/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemSetting",component:o.ItemSetting},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemSetting,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{space:!0,children:i.list.map(function(e,t){return(0,d.jsx)(o.ItemSetting,Object.assign({},e),t)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList space>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{animate:{defaultValue:null,description:"是否使用缩放动画",name:"animate",required:!1,type:{name:"boolean"}},withoutFeedback:{defaultValue:null,description:"是否无反馈效果",name:"withoutFeedback",required:!1,type:{name:"boolean"}},delay:{defaultValue:null,description:"是否防止快速多次点击",name:"delay",required:!1,type:{name:"boolean"}},scale:{defaultValue:null,description:"点击中动画缩放比例, 默认 0.95",name:"scale",required:!1,type:{name:"number"}},delayPressIn:{defaultValue:null,description:"在 onPressOut 和 onPress 之前的时间",name:"delayPressIn",required:!1,type:{name:"number"}},delayPressOut:{defaultValue:null,description:"松开手后的时间",name:"delayPressOut",required:!1,type:{name:"number"}},highlight:{defaultValue:null,description:"是否高亮反馈效果",name:"highlight",required:!1,type:{name:"boolean"}},useRN:{defaultValue:null,description:"iOS 端此值无变化\n安卓端 Touchable 都使用了 react-native-gesture-handler 提供的封装\n有比 RN 提供的更快的反馈效果，若设置为 true 强制使用 RN 提供的 <Touchable>",name:"useRN",required:!1,type:{name:"boolean"}},ripple:{defaultValue:null,description:"涟漪状的背景（安卓 only）",name:"ripple",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},contentStyle:{defaultValue:null,description:"",name:"contentStyle",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},hd:{defaultValue:null,description:"",name:"hd",required:!1,type:{name:"ReactNode"}},hdSize:{defaultValue:null,description:"",name:"hdSize",required:!1,type:{name:"number"}},ft:{defaultValue:null,description:"",name:"ft",required:!1,type:{name:"ReactNode"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}},arrowStyle:{defaultValue:null,description:"",name:"arrowStyle",required:!1,type:{name:"TextStyle"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"number"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"main"'},{value:'"primary"'},{value:'"warning"'},{value:'"bid"'},{value:'"ask"'},{value:'"title"'},{value:'"__plain__"'},{value:'"success"'},{value:'"danger"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},onInfoPress:{defaultValue:null,description:"",name:"onInfoPress",required:!1,type:{name:"Fn"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/setting/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/timeline/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/timeline/index.tsx"),i=s("./src/screens/_/item/timeline/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemTimeline",component:o.ItemTimeline},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{radius:!0,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemTimeline,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e,t){return(0,d.jsx)(o.ItemTimeline,Object.assign({},e),t)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},full:{defaultValue:null,description:"",name:"full",required:!1,type:{name:"boolean"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"{ url?: string; src?: string; }"}},p1:{defaultValue:null,description:"",name:"p1",required:!1,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!1,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!1,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!1,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!1,type:{name:"{ count: number; url?: string; content?: string; }"}},like:{defaultValue:null,description:"",name:"like",required:!1,type:{name:"{ type: string; mainId: string; relatedId: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!1,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!1,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/timeline/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/voice/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/item/voice/index.tsx"),i=s("./src/screens/_/item/voice/index.mock.tsx"),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"item/ItemVoice",component:o.ItemVoice},t.Item=function(e){return(0,d.jsx)(n.StorybookPage,{radius:!0,children:(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(o.ItemVoice,Object.assign({},e))})})}),s=(r.args=i.list[0],t.List=function(){return(0,d.jsx)(n.StorybookPage,{children:(0,d.jsx)(n.StorybookList,{children:i.list.map(function(e){return(0,d.jsx)(o.ItemVoice,Object.assign({},e),e.name)})})})});r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),s.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        // @ts-expect-error\n        <Component key={item.name} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},s.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"MonoId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"{ id?: SubjectId; name?: string; nameCn?: string; cover?: string; staff?: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/voice/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/voice/index.stories.tsx#Item"})}catch(e){}},"./src/screens/discovery/adv/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ADV=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/adv/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/ADV",component:o.default},t.ADV=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("ADV")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('ADV')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anime/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anime=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/anime/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Anime",component:o.default},t.Anime=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Anime")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anime')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anitama/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,d.jsx)(o.Page,{children:(0,d.jsx)(o.Text,{style:i._.mt.center,align:"center",children:"网页端暂不支持此功能 (资讯)"})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anitama=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),d=s("./node_modules/react/jsx-runtime.js"),n=(t.default={title:"screens/Anitama",component:r},t.Anitama=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(r,Object.assign({},(0,o.getStorybookArgs)("Anitama")))})})});n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anitama')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/discovery/award/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Award=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/award/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Award",component:o.default},t.Award=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Award")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Award')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/blog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DiscoveryBlog=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/blog/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/DiscoveryBlog",component:o.default},t.DiscoveryBlog=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("DiscoveryBlog")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('DiscoveryBlog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/browser/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Browser=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/browser/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Browser",component:o.default},t.Browser=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Browser")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Browser')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/calendar/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Calendar=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/calendar/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Calendar",component:o.default},t.Calendar=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Calendar")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Calendar')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog-detail/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CatalogDetail=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/catalog-detail/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/CatalogDetail",component:o.default},t.CatalogDetail=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("CatalogDetail")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('CatalogDetail')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Catalog=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/catalog/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Catalog",component:o.default},t.Catalog=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Catalog")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Catalog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/channel/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Channel=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/channel/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Channel",component:o.default},t.Channel=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Channel")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Channel')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/character/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Character=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/character/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Character",component:o.default},t.Character=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Character")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Character')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/dollars/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Dollars=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/dollars/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Dollars",component:o.default},t.Dollars=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Dollars")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Dollars')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/game/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Game=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/game/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Game",component:o.default},t.Game=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Game")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Game')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/hentai/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Hentai=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/hentai/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Hentai",component:o.default},t.Hentai=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Hentai")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Hentai')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/index/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Discovery=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/index/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Discovery",component:o.default},t.Discovery=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Discovery")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Discovery')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/manga/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Manga=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/manga/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Manga",component:o.default},t.Manga=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Manga")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Manga')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/rank/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rank=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/rank/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Rank",component:o.default},t.Rank=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Rank")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Rank')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/recommend/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Recommend=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/recommend/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Recommend",component:o.default},t.Recommend=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Recommend")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Recommend')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/search/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Search=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/search/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Search",component:o.default},t.Search=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Search")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Search')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/series/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Series=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/series/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Series",component:o.default},t.Series=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Series")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Series')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/staff/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Staff=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/staff/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Staff",component:o.default},t.Staff=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Staff")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Staff')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/tags/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Tags=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/tags/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Tags",component:o.default},t.Tags=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Tags")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Tags')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wenku/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wenku=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/wenku/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Wenku",component:o.default},t.Wenku=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Wenku")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wenku')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wiki/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wiki=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/wiki/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Wiki",component:o.default},t.Wiki=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Wiki")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wiki')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/yearbook/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Yearbook=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/yearbook/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Yearbook",component:o.default},t.Yearbook=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(o.default,Object.assign({},(0,n.getStorybookArgs)("Yearbook")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Yearbook')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/_/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Item"},"./src/screens/_/item/friends/counts/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/_/item/friends/counts/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.wish,s=e.collect,r=e.doing,n=e.onHold,e=e.dropped;return(0,a.jsxs)(o.Flex,{style:d.styles.counts,children:[!!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-favorite",size:12,color:i._.colorSub}),(0,a.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:t})]}),!!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-visibility",size:14,color:i._.colorSub}),(0,a.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:r})]}),!!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-check",size:14,color:i._.colorSub}),(0,a.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:s})]}),!!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-visibility-off",size:13,color:i._.colorSub}),(0,a.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:n})]}),!!e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-delete-outline",size:14,color:i._.colorSub}),(0,a.jsx)(o.Text,{size:11,type:"sub",children:e})]})]})});try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{wish:{defaultValue:null,description:"",name:"wish",required:!0,type:{name:"any"}},collect:{defaultValue:null,description:"",name:"collect",required:!0,type:{name:"any"}},doing:{defaultValue:null,description:"",name:"doing",required:!0,type:{name:"any"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!0,type:{name:"any"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/_/item/friends/counts/index.tsx#counts"})}catch(e){}},"./src/screens/_/item/friends/counts/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({counts:{marginTop:s._.sm,marginBottom:s._.xs}})},"./src/screens/_/item/friends/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/c/000/00/00/1.jpg?r=1671687974&hd=1",userId:"sai",userName:"Sai🖖",hobby:"15",percent:6.61,recent:"2023-4-1 12:22",doing:28,collect:225,wish:166,onHold:40,dropped:19,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/10/14/101403.jpg?r=1673256692&hd=1",userId:"vistaing",userName:"f_vistaing",hobby:"12",percent:5.29,recent:"2023-3-12 12:55",doing:27,collect:309,wish:99,onHold:32,dropped:49,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/23/54/235458.jpg?r=1552660673",userId:"lhyzf",userName:"猫苇",hobby:"54",percent:23.79,recent:"3h 36m ago",doing:17,collect:684,wish:73,onHold:15,dropped:5,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/13/50/135015.jpg?r=1523800130",userId:"moe_taiga",userName:"掌中萌虎",hobby:"44",percent:19.38,recent:"2022-10-13 21:12",doing:38,collect:623,wish:53,dropped:81,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/43/11/431197.jpg?r=1575107896",userId:"cts",userName:"影约",hobby:"47",percent:20.7,recent:"17h 39m ago",doing:30,collect:1241,wish:2425,onHold:14,dropped:57,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/29/13/291383.jpg?r=1672044593&hd=1",userId:"tttbbx",userName:"雪の宿❄️",hobby:"13",percent:5.73,recent:"4h 18m ago",doing:14,collect:437,wish:107,onHold:5,dropped:77,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/21/04/210454.jpg?r=1671770242&hd=1",userId:"mp4spig",userName:"狂犬榨汁姬艾莉丝",hobby:"23",percent:10.13,recent:"1d 4h ago",doing:49,collect:522,wish:377,onHold:34,dropped:25,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/10/21/102150.jpg?r=1464620237",userId:"xu940830",userName:"工藤龍一郎",hobby:"22",percent:9.69,recent:"1d 4h ago",doing:86,collect:485,wish:75,onHold:48,dropped:142,filter:""}]},"./src/screens/_/item/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemFriends=void 0,Object.defineProperty(t,"ItemFriendsProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),x=r(s("./node_modules/@ant-design/react-native/lib/progress/index.js")),g=s("./src/components/index.ts"),b=s("./src/stores/index.ts"),v=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),h=s("./src/constants/index.ts"),S=s("./src/screens/_/base/index.ts"),O=r(s("./src/screens/_/item/friends/name/index.tsx")),T=r(s("./src/screens/_/item/friends/counts/index.tsx")),E=s("./src/screens/_/item/friends/styles.ts"),o=s("./src/screens/_/item/friends/types.ts"),C=s("./node_modules/react/jsx-runtime.js"),r=t.ItemFriends=(0,n.ob)(function(e){var s=e.navigation,r=e.avatar,n=e.userId,o=e.userName,t=e.hobby,i=e.percent,d=e.recent,a=e.doing,l=e.collect,c=e.wish,u=e.onHold,m=e.dropped,p=e.filter,f=e.event,y=void 0===f?h.EVENT:f,f=e.children,e=(0,E.memoStyles)(),j=b._.window.contentWidth-144;return(0,C.jsx)(g.Component,{id:"item-friends","data-key":n,children:(0,C.jsxs)(g.Touchable,{style:e.container,animate:!0,onPress:function(){var e=y.id,t=y.data;(0,v.t)(e,Object.assign({to:"Zone",userId:n},void 0===t?{}:t)),s.push("Zone",{userId:n,_name:o,_image:r})},children:[(0,C.jsxs)(g.Flex,{children:[(0,C.jsx)(_.default,{style:e.avatar,children:(0,C.jsx)(g.UserStatus,{userId:n,children:(0,C.jsx)(S.Avatar,{navigation:s,name:o,userId:n,src:r})})}),(0,C.jsxs)(g.Flex.Item,{style:e.item,children:[(0,C.jsxs)(g.Flex,{children:[(0,C.jsx)(g.Flex.Item,{children:(0,C.jsx)(O.default,{userName:o,filter:p})}),(0,C.jsx)(g.Text,{style:b._.ml.sm,size:13,children:d})]}),(0,C.jsx)(T.default,{wish:c,collect:l,doing:a,onHold:u,dropped:m}),(0,C.jsx)(x.default,{style:e.progress,barStyle:e.bar,wrapWidth:j,percent:Number(i)})]}),(0,C.jsxs)(g.Text,{style:e.hobby,size:12,type:"sub",children:[t||"-"," / ",i||"-","%"]})]}),f]})})});try{r.displayName="ItemFriends",r.__docgenInfo={description:"",displayName:"ItemFriends",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},hobby:{defaultValue:null,description:"",name:"hobby",required:!1,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!1,type:{name:"string | number"}},recent:{defaultValue:null,description:"",name:"recent",required:!1,type:{name:"string"}},doing:{defaultValue:null,description:"",name:"doing",required:!1,type:{name:"string | number"}},collect:{defaultValue:null,description:"",name:"collect",required:!1,type:{name:"string | number"}},wish:{defaultValue:null,description:"",name:"wish",required:!1,type:{name:"string | number"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!1,type:{name:"string | number"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"string | number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/index.tsx#ItemFriends"]={docgenInfo:r.__docgenInfo,name:"ItemFriends",path:"src/screens/_/item/friends/index.tsx#ItemFriends"})}catch(e){}},"./src/screens/_/item/friends/name/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.userName,e=e.filter,e=(0,o.getPinYinFilterValue)(t,e);return(0,i.jsx)(n.Highlight,{numberOfLines:1,bold:!0,value:e,children:t})});try{name.displayName="name",name.__docgenInfo={description:"",displayName:"name",props:{userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/name/index.tsx#name"]={docgenInfo:name.__docgenInfo,name:"name",path:"src/screens/_/item/friends/name/index.tsx#name"})}catch(e){}},"./src/screens/_/item/friends/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingBottom:r._.md,backgroundColor:r._.colorPlain},avatar:{marginTop:2,marginLeft:r._.wind},item:{paddingTop:r._.md-2,paddingRight:r._.wind,paddingBottom:r._.sm+2,marginLeft:r._.md-2},progress:{position:"absolute",right:"32%",bottom:0,left:0,borderRadius:8,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),overflow:"hidden"},bar:{backgroundColor:"transparent",borderBottomColor:r._.colorPrimary,borderBottomWidth:4,borderRadius:4},hobby:{position:"absolute",right:r._.wind-r._.sm,bottom:0,paddingHorizontal:r._.sm,marginBottom:-4,backgroundColor:r._.colorPlain},count:{marginTop:r._.sm,marginBottom:r._.xs}}})},"./src/screens/_/item/friends/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(t,"__esModule",{value:!0});var r=s("./src/screens/_/item/article/index.tsx"),n=(Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),s("./src/screens/_/item/bangumi-list/index.tsx")),o=(Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),s("./src/screens/_/item/blog/index.tsx")),i=(Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}),s("./src/screens/_/item/catalog/index.tsx")),d=(Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),s("./src/screens/_/item/character/index.tsx")),a=(Object.keys(d).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}),s("./src/screens/_/item/collections/index.tsx")),l=(Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),s("./src/screens/_/item/collections-grid/index.tsx")),c=(Object.keys(l).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}),s("./src/screens/_/item/comment/index.tsx")),u=(Object.keys(c).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}),s("./src/screens/_/item/friends/index.tsx")),m=(Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}),s("./src/screens/_/item/notify/index.tsx")),p=(Object.keys(m).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}),s("./src/screens/_/item/pm/index.tsx")),f=(Object.keys(p).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}),s("./src/screens/_/item/post/index.tsx")),y=(Object.keys(f).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}),s("./src/screens/_/item/say/index.tsx")),j=(Object.keys(y).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}),s("./src/screens/_/item/search/index.tsx")),_=(Object.keys(j).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}})}),s("./src/screens/_/item/setting/index.tsx")),x=(Object.keys(_).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})}),s("./src/screens/_/item/setting-block/index.tsx")),g=(Object.keys(x).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}})}),s("./src/screens/_/item/subject/index.tsx")),b=(Object.keys(g).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}),s("./src/screens/_/item/timeline/index.tsx")),v=(Object.keys(b).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})}),s("./src/screens/_/item/voice/index.tsx"));Object.keys(v).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})})},"./src/screens/_/item/notify/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141582",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/51/65/516549.jpg?r=1675609244&hd=1",userId:"516549",userName:"希望人冇事",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141577",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/73/42/734240.jpg?r=1667519932",userId:"734240",userName:"黑色幽默",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141573",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/60/37/603776.jpg?r=1648998420",userId:"603776",userName:"哈利·波特",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141553",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/35/11/351149.jpg?r=1680257835&hd=1",userId:"351149",userName:"Otone",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/53/38/533872.jpg?r=1645015013",userId:"nofttwiq",userName:"Nofttwiq.",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141523",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/32/28/322898.jpg?r=1516957049",userId:"322898",userName:"青鸟千秋",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141517",repeat:0}]},"./src/screens/_/item/notify/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.repeat.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemNotify=void 0,Object.defineProperty(t,"ItemNotifyProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/constants/index.ts"),v=s("./src/screens/_/base/index.ts"),h=s("./src/screens/_/item/notify/styles.ts"),n=s("./src/screens/_/item/notify/types.ts"),S=s("./node_modules/react/jsx-runtime.js"),s=t.ItemNotify=(0,r.ob)(function(e){var t,s,r=e.navigation,n=e.index,o=e.avatar,i=e.userId,d=e.userName,a=e.title,l=e.message,c=e.message2,u=e.href,m=e.repeat,p=e.event,f=void 0===p?b.EVENT:p,p=e.children,e=(0,h.memoStyles)(),y=null==(y=String(u).split("/status/"))?void 0:y[1];return y&&(s=x.timelineStore.say(y)).list.length&&(t=null==(s=s.list[0])?void 0:s.text),(0,S.jsx)(_.Component,{id:"item-notify","data-key":y,children:(0,S.jsx)(_.Touchable,{animate:!0,onPress:function(){(0,g.appNavigate)(u,r,{_title:a},f)},children:(0,S.jsxs)(_.Flex,{style:e.container,align:"start",children:[(0,S.jsx)(j.default,{style:x._.mt.md,children:(0,S.jsx)(_.UserStatus,{userId:i,children:(0,S.jsx)(v.InView,{style:e.inView,y:40*n+1,children:(0,S.jsx)(v.Avatar,{navigation:r,userId:i,name:d,src:o,event:f},String(o))})})}),(0,S.jsxs)(_.Flex.Item,{style:e.item,children:[(0,S.jsx)(v.Name,{userId:i,showFriend:!0,size:13,type:"title",bold:!0,children:d}),(0,S.jsxs)(_.Flex,{style:e.message,align:"start",children:[(0,S.jsxs)(_.Flex.Item,{children:[(0,S.jsxs)(_.Text,{lineHeight:18,children:[l,(0,S.jsx)(_.Text,{lineHeight:18,type:"main",bold:!0,children:a}),c]}),!!t&&(0,S.jsxs)(_.Text,{type:"sub",size:11,lineHeight:18,numberOfLines:1,bold:!0,children:["描述：",t]})]}),(0,S.jsx)(_.Flex,{style:e.tag,justify:"end",children:!!m&&(0,S.jsx)(v.Tag,{value:"x"+(m+1)})})]})]}),p]})})})});try{s.displayName="ItemNotify",s.__docgenInfo={description:"",displayName:"ItemNotify",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},message2:{defaultValue:null,description:"",name:"message2",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},repeat:{defaultValue:null,description:"",name:"repeat",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/notify/index.tsx#ItemNotify"]={docgenInfo:s.__docgenInfo,name:"ItemNotify",path:"src/screens/_/item/notify/index.tsx#ItemNotify"})}catch(e){}},"./src/screens/_/item/notify/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:40,minHeight:40},item:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm},message:{marginTop:2},tag:{width:40,marginTop:5}}})},"./src/screens/_/item/notify/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/pm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemPM=void 0,Object.defineProperty(t,"ItemPMProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/_/base/index.ts"),b=s("./src/screens/_/item/pm/styles.ts"),n=s("./src/screens/_/item/pm/types.ts"),v=s("./node_modules/react/jsx-runtime.js"),s=t.ItemPM=(0,r.ob)(function(e){var t=e.navigation,s=e.event,r=void 0===s?x.EVENT:s,s=e.index,n=e.id,o=e.title,i=e.content,d=e.avatar,a=e.name,l=e.userId,c=e.time,u=e.new,e=e.onRefresh,m=void 0===e?function(){}:e,e=(0,b.memoStyles)();return(0,v.jsx)(f.Component,{id:"item-pm","data-key":n,children:(0,v.jsx)(f.Touchable,{animate:!0,onPress:function(){(0,_.t)(r.id,Object.assign({to:"PM"},r.data)),t.push("PM",{id:n}),u&&setTimeout(function(){m()},4e3)},children:(0,v.jsxs)(f.Flex,{style:e.container,align:"start",children:[(0,v.jsx)(p.default,{style:y._.mt.md,children:(0,v.jsx)(g.InView,{style:e.inView,y:98*s+1,children:(0,v.jsx)(g.Avatar,{navigation:t,userId:l,name:a,src:d,event:r})})}),(0,v.jsx)(f.Flex.Item,{style:e.item,children:(0,v.jsxs)(f.Flex,{children:[(0,v.jsxs)(f.Flex.Item,{children:[(0,v.jsx)(g.Name,{userId:l,showFriend:!0,size:13,type:"title",bold:!0,right:(0,v.jsxs)(f.Text,{size:11,lineHeight:13,type:"sub",children:[" ",c]}),children:a}),(0,v.jsx)(f.Text,{style:y._.mt.xs,type:"main",bold:!0,children:o}),(0,v.jsx)(f.Text,{style:y._.mt.sm,size:13,lineHeight:16,type:"title",children:(0,j.HTMLDecode)(i)})]}),u&&(0,v.jsx)(f.Text,{style:y._.ml.sm,type:"danger",children:"new"})]})})]})})})});try{s.displayName="ItemPM",s.__docgenInfo={description:"",displayName:"ItemPM",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},new:{defaultValue:null,description:"",name:"new",required:!1,type:{name:"boolean"}},onRefresh:{defaultValue:null,description:"",name:"onRefresh",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/pm/index.tsx#ItemPM"]={docgenInfo:s.__docgenInfo,name:"ItemPM",path:"src/screens/_/item/pm/index.tsx#ItemPM"})}catch(e){}},"./src/screens/_/item/pm/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:40,minHeight:40},item:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm}}})},"./src/screens/_/item/pm/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/post/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.REG_MARK=t.IMAGES_MAX_WIDTH_SUB=t.IMAGES_MAX_WIDTH=t.EXPAND_NUMS=t.DEFAULT_PROPS=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.IMAGES_MAX_WIDTH=r._.window.width-2*r._.wind-32-r._.sm,t.IMAGES_MAX_WIDTH_SUB=r._.window.width-2*r._.wind-64-2*r._.sm,t.EXPAND_NUMS=3,t.REG_MARK=/mark|mrak|cy|码|马|眼/i,t.DEFAULT_PROPS={navigation:{},inViewY:0,index:0,styles:{},contentStyle:{},extraStyle:{},topicId:"",authorId:"",avatar:"",erase:"",floor:"",directFloor:!1,id:0,isAuthor:!1,isExpand:!1,isFriend:!1,isJump:!1,isNew:!1,matchLink:!1,msg:"",postId:"",readedTime:"",replySub:"",expandNums:void 0,sub:[],time:"",translate:"",url:"",userId:"",userName:"",userSign:"",formhash:"",likeType:"",event:s.EVENT,onJumpTo:function(){},onLikesLongPress:function(){},onShowFixedTextare:function(){},onToggleExpand:function(){}}},"./src/screens/_/item/post/floor-text/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/_/item/post/floor-text/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.time,s=e.floor,e=e.isNew,r=(0,d.memoStyles)();return(0,a.jsxs)(o.Flex,{children:[e&&(0,a.jsx)(n.default,{style:r.new}),(0,a.jsxs)(o.Text,{style:r.container,type:"sub",size:11,lineHeight:12,children:[(0,i.simpleTime)(t),"  ","#",String(s).replace("#","")]})]})});try{floortext.displayName="floortext",floortext.__docgenInfo={description:"",displayName:"floortext",props:{time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"any"}},isNew:{defaultValue:null,description:"",name:"isNew",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/floor-text/index.tsx#floortext"]={docgenInfo:floortext.__docgenInfo,name:"floortext",path:"src/screens/_/item/post/floor-text/index.tsx#floortext"})}catch(e){}},"./src/screens/_/item/post/floor-text/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{opacity:r._.select(1,.8)},new:{width:3,height:9,marginRight:6,marginTop:1,backgroundColor:r._.colorMain,borderRadius:1}}})},"./src/screens/_/item/post/icon-extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_TRANSLATE=t.ACTION_REPLY=t.ACTION_LIKES=t.ACTION_EDIT=t.ACTION_DELETE=t.ACTION_COPY=t.ACTION_BLOCK=void 0;t.ACTION_LIKES="贴贴",t.ACTION_REPLY="回复",t.ACTION_EDIT="编辑",t.ACTION_COPY="复制",t.ACTION_TRANSLATE="翻译",t.ACTION_BLOCK="屏蔽",t.ACTION_DELETE="删除"},"./src/screens/_/item/post/icon-extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),x=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/constants/index.ts"),v=s("./src/screens/_/base/index.ts"),h=s("./src/screens/_/item/post/icon-extra/ds.ts"),S=s("./src/screens/_/item/post/icon-extra/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.style,r=e.topicId,n=e.id,o=e.formhash,i=e.likeType,d=e.replySub,a=e.erase,l=e.userId,c=e.userName,u=e.message,m=void 0===u?"":u,p=e.msg,f=e.onJumpTo,y=e.onShowFixedTextare,j=t.$;return b.SHARE_MODE?null:(u=[a&&(null==j?void 0:j.doDeleteReply)&&h.ACTION_EDIT,x.rakuenStore.setting.likes&&i&&h.ACTION_LIKES,d&&!(null!=j&&j.isLimit)&&(null==j?void 0:j.showFixedTextarea)&&h.ACTION_REPLY,h.ACTION_COPY,(null==j?void 0:j.doTranslateFloor)&&!(0,g.isChineseParagraph)((0,g.removeURLs)((0,g.removeHTMLTag)(p)),.5)&&h.ACTION_TRANSLATE,!a&&h.ACTION_BLOCK,a&&(null==j?void 0:j.doDeleteReply)&&h.ACTION_DELETE].filter(Boolean),(0,O.jsx)(v.Popover,{style:(0,g.stl)(S.styles.touch,s),data:u,onSelect:function(e){e===h.ACTION_LIKES?x.uiStore.showLikesGrid(r,n,o,i,{recommandPosition:"top"}):e===h.ACTION_REPLY?(null!=j&&j.showFixedTextarea(c,d,m,p),y()):e===h.ACTION_EDIT?null!=j&&j.showFixedTextareaEdit(n,y,f):e===h.ACTION_COPY?(0,g.copy)((0,g.getCommentPlainText)(p),"已复制 "+c+" 的回复"):e===h.ACTION_TRANSLATE?null!=j&&j.doTranslateFloor(n,p):e===h.ACTION_BLOCK?(0,g.confirm)("确定屏蔽用户?",function(){x.rakuenStore.addBlockUser(c+"@"+l),(0,g.info)("已屏蔽 "+c)}):e===h.ACTION_DELETE&&(0,g.confirm)("确定删除回复?",function(){return null==j?void 0:j.doDeleteReply(a)})},children:(0,O.jsx)(_.Flex,{style:S.styles.icon,justify:"center",children:(0,O.jsx)(_.Iconfont,{style:x._.ml.md,name:"md-more-vert",size:18})})}))})},"./src/screens/_/item/post/icon-extra/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{marginVertical:-8,marginRight:4,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}})},"./src/screens/_/item/post/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",userId:"426934",userName:"火龙果汁",replySub:"subReply('group', 379989, 2292543, 0, 456208, 426934, 0)",message:"在单位领导永远不知道我在做什么的能力",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#2-1",id:"2292601",message:"在水bangumi（确信",replySub:"subReply('group',379989,2292543,2292601,426934,329030, 1)",time:"2023-4-4 17:04",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/75/49/754951.jpg?r=1677802277&hd=1",floor:"#2-2",id:"2292622",message:"奶奶的我领导也不知道我在做什么，所以我经常在马桶上接到死亡语音通话。",replySub:"subReply('group',379989,2292543,2292622,426934,754951, 1)",time:"2023-4-4 17:32",userId:"animevaluator",userName:"冷冻水产鉴定员"},{avatar:"//lain.bgm.tv/pic/user/s/000/30/42/304246.jpg?r=1493888995",floor:"#2-3",id:"2292656",message:"压力马斯内",replySub:"subReply('group',379989,2292543,2292656,426934,304246, 1)",time:"2023-4-4 18:06",userId:"304246",userName:"Rくん"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/78/517847.jpg?r=1593354131",floor:"#2-4",id:"2292947",message:"这不是可以无限摸鱼？",replySub:"subReply('group',379989,2292543,2292947,426934,517847, 1)",time:"2023-4-4 22:29",userId:"517847",userName:"mini"},{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",floor:"#2-5",id:"2292949",message:'<div class="quote"><q><span style="font-weight:bold;">mini</span> 说: 这不是可以无限摸鱼？</q></div>但是领导会知道我什么事还没做<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292543,2292949,426934,426934, 1)",time:"2023-4-4 22:30",userId:"426934",userName:"火龙果汁"}],id:"2292543",authorId:"329030",time:"2023-4-4 16:30",floor:"#2",userSign:"(低级趣味无罪)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/43/79/437965.jpg?r=1537852802",userId:"nyanpasspass",userName:"喵帕斯帕斯~",replySub:"subReply('group', 379989, 2292544, 0, 456208, 437965, 0)",message:'耳朵可以动算吗<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#3-1",id:"2292623",message:"意思是你的耳朵很敏感吗？",replySub:"subReply('group',379989,2292544,2292623,437965,765083, 1)",time:"2023-4-4 17:32",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/87/518766.jpg?r=1671898550&hd=1",floor:"#3-2",id:"2292659",message:'自从初中发现自己耳朵会动后,都好久没动了,你不说我都忘了, 刚刚动了下,还是这么自然<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292544,2292659,437965,518766, 1)",time:"2023-4-4 18:09",userId:"klove",userName:"klion"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#3-3",id:"2292662",message:"不算、这个大火都会",replySub:"subReply('group',379989,2292544,2292662,437965,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"}],id:"2292544",authorId:"329030",time:"2023-4-4 16:30",floor:"#3",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/55/22/552259.jpg?r=1671751582&hd=1",userId:"wspr",userName:"Wspr",replySub:"subReply('group', 379989, 2292565, 0, 456208, 552259, 0)",message:"总能抖到机灵",sub:[],id:"2292565",authorId:"329030",time:"2023-4-4 16:45",floor:"#4",userSign:"(你还活着，我为你祝贺)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/35/13/351390.jpg?r=1672240450&hd=1",userId:"lostpig",userName:"𝙇𝙤𝙨𝙩 𝙋𝙞𝙜 🎉",replySub:"subReply('group', 379989, 2292577, 0, 456208, 351390, 0)",message:"我总能找到出路。",sub:[],id:"2292577",authorId:"329030",time:"2023-4-4 16:48",floor:"#5",userSign:"(被遗忘的小猪会被遗忘吗？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/72/99/729908.jpg?r=1678202566&hd=1",userId:"alanyi",userName:"idew",replySub:"subReply('group', 379989, 2292578, 0, 456208, 729908, 0)",message:"体育好",sub:[],id:"2292578",authorId:"329030",time:"2023-4-4 16:50",floor:"#6",userSign:"(人生若只如初见)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/53/34/533424.jpg?r=1657627604",userId:"533424",userName:"Kamikaze",replySub:"subReply('group', 379989, 2292584, 0, 456208, 533424, 0)",message:"削苹果皮极快",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#7-1",id:"2292599",message:"羡慕，不会削",replySub:"subReply('group',379989,2292584,2292599,533424,329030, 1)",time:"2023-4-4 17:02",userId:"329030",userName:"YURI VIOLET"}],id:"2292584",authorId:"329030",time:"2023-4-4 16:52",floor:"#7",userSign:"(坚守正义)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/56/89/568999.jpg?r=1609677640",userId:"didhdifed",userName:"既不是熊也不是猫",replySub:"subReply('group', 379989, 2292589, 0, 456208, 568999, 0)",message:"饭量很大",sub:[],id:"2292589",authorId:"329030",time:"2023-4-4 16:56",floor:"#8",userSign:"(丧钟为谁而鸣？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/70/84/708416.jpg?r=1676045215&hd=1",userId:"708416",userName:"导来也",replySub:"subReply('group', 379989, 2292590, 0, 456208, 708416, 0)",message:"一天导十五发",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#9-1",id:"2292597",message:"？",replySub:"subReply('group',379989,2292590,2292597,708416,329030, 1)",time:"2023-4-4 17:01",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#9-2",id:"2292625",message:"这确实是优势呀，快找个富婆",replySub:"subReply('group',379989,2292590,2292625,708416,765083, 1)",time:"2023-4-4 17:33",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/74/92/749240.jpg?r=1671584659",floor:"#9-3",id:"2292636",message:"今日导五管，明日导十管，然后得一夕安寝，后面忘了",replySub:"subReply('group',379989,2292590,2292636,708416,749240, 1)",time:"2023-4-4 17:46",userId:"749240",userName:"Yuki256"},{avatar:"//lain.bgm.tv/pic/user/s/000/77/24/772497.jpg?r=1680349036&hd=1",floor:"#9-4",id:"2292642",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>这题我会，后日导十五管<span class="text_mask" style="background-color:#555;color:#555;border:1px solid #555;">然后猝死</span>',replySub:"subReply('group',379989,2292590,2292642,708416,772497, 1)",time:"2023-4-4 17:51",userId:"skdsretard",userName:"skdsretard"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#9-5",id:"2292663",message:"导给我吃",replySub:"subReply('group',379989,2292590,2292663,708416,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"},{avatar:"//lain.bgm.tv/pic/user/s/000/70/45/704500.jpg?r=1674046193&hd=1",floor:"#9-6",id:"2292687",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>起视小弟，而牛牛又立起',replySub:"subReply('group',379989,2292590,2292687,708416,704500, 1)",time:"2023-4-4 18:58",userId:"704500",userName:"Saussurea"},{avatar:"//lain.bgm.tv/pic/user/s/000/32/13/321399.jpg?r=1579839352",floor:"#9-7",id:"2292695",message:"不当男优可惜了，汁男也行",replySub:"subReply('group',379989,2292590,2292695,708416,321399, 1)",time:"2023-4-4 19:12",userId:"josh",userName:"娇尸"},{avatar:"//lain.bgm.tv/pic/user/s/000/72/91/729174.jpg?r=1666191422",floor:"#9-8",id:"2292990",message:"？",replySub:"subReply('group',379989,2292590,2292990,708416,729174, 1)",time:"2023-4-4 23:03",userId:"wlx321",userName:"wlx321"},{avatar:"//lain.bgm.tv/pic/user/s/000/29/56/295606.jpg?r=1510443424",floor:"#9-9",id:"2293068",message:"什麼超導體",replySub:"subReply('group',379989,2292590,2293068,708416,295606, 1)",time:"2023-4-4 23:45",userId:"295606",userName:"absurd"}],id:"2292590",authorId:"329030",time:"2023-4-4 16:56",floor:"#9",userSign:"(胶遁！。。。哎，什么来着？)",rendered:!1}]},"./src/screens/_/item/post/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.some.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),L=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemPost=void 0,Object.defineProperty(t,"ItemPostProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),D=s("./src/stores/index.ts"),V=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),q=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),B=s("./src/utils/dev/index.ts"),F=s("./src/constants/index.ts"),H=r(s("./src/screens/_/item/post/item.tsx")),Y=r(s("./src/screens/_/item/post/plus-one/index.tsx")),K=s("./src/screens/_/item/post/utils.ts"),z=s("./src/screens/_/item/post/styles.ts"),o=s("./src/screens/_/item/post/types.ts"),G=s("./node_modules/react/jsx-runtime.js");t.ItemPost=(0,n.obc)(function(e,t){var s,r,n,o,i,d,a,l,c,u,m,p=e.inViewY,f=e.index,y=e.contentStyle,j=e.extraStyle,_=e.avatar,x=e.userId,g=e.userName,b=e.replySub,v=e.message,h=e.sub,S=e.id,O=e.authorId,T=e.postId,E=e.time,C=e.floor,w=e.userSign,I=e.erase,A=e.rendered,k=e.matchLink,P=e.expandNums,R=e.event,M=e.showFixedTextare,e=e.onJumpTo,N=t.$,t=t.navigation;return(0,B.rerender)("Topic.Item"),!x||(0,K.isBlockUser)(x,g,b,"Topic|"+S)||(n=(u=D.rakuenStore.setting).filterDelete,s=u.blockKeywords,u=u.subExpand,(l=(r=(0,q.default)(v)).includes("删除了回复"))&&n)?null:(n=(0,z.memoStyles)(),o=(null==N||null==(o=N.params)?void 0:o._url)||F.HOST+"/rakuen/topic/"+(null==N?void 0:N.topicId),i=(null==N||null==(i=N.state)?void 0:i.directFloor)===C,d=O===x,a=null==N||null==(a=N.myFriendsMap)?void 0:a[x],c=!h.length&&r.length<=10&&(r.toLocaleLowerCase().includes("mark")||r.includes("+1")),l||c?(0,G.jsx)(L.Component,{id:"item-post","data-key":S,"data-type":"plus-one",style:n.itemDelete,children:(0,G.jsx)(Y.default,{id:S,message:v,userId:x,userName:g,avatar:_,url:o,floor:C,directFloor:i,isAuthor:d,isFriend:a,event:R})}):(c=(l=(null==N?void 0:N.state)||{}).expands,v=l.translateResultFloor,P=void 0===(l=Number(P||u))||h.length<=l||h.length>l&&(null==c?void 0:c.includes(S)),u=!!(c=null==N||null==(u=N.readed)?void 0:u._time)&&(0,V.getTimestamp)(E)>c,m=!!T&&T===S,s.some(function(e){return r.includes(e)})&&(r='<span style="color:#999;font-size:12px">命中自定义关键字，已被屏蔽</span>'),(0,G.jsx)(H.default,{navigation:t,inViewY:p,index:f,styles:n,contentStyle:y,extraStyle:j,topicId:null==N?void 0:N.topicId,authorId:O,avatar:_,erase:I,floor:C,directFloor:i,id:S,isAuthor:d,isExpand:P,isFriend:a,isJump:m,isNew:u,matchLink:void 0===k?A:k,msg:r,postId:T,readedTime:c,replySub:b,expandNums:l,sub:h,time:E,translate:null==v?void 0:v[S],url:o,userId:x,userName:g,userSign:w,formhash:null==N||null==(s=N.topic)?void 0:s.formhash,likeType:null==N||null==(t=N.topic)?void 0:t.likeType,event:R,onJumpTo:e,onLikesLongPress:D.uiStore.showLikesUsers,onShowFixedTextare:M,onToggleExpand:null==N?void 0:N.toggleExpand})))})},"./src/screens/_/item/post/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),q=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),B=s("./src/components/index.ts"),F=s("./src/stores/index.ts"),H=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),Y=s("./src/utils/dev/index.ts"),K=s("./src/screens/_/base/index.ts"),z=r(s("./src/screens/_/item/post/floor-text/index.tsx")),G=r(s("./src/screens/_/item/post/icon-extra/index.tsx")),U=r(s("./src/screens/_/item/post/sub/index.tsx")),W=r(s("./src/screens/_/item/post/user-label/index.tsx")),$=s("./src/screens/_/item/post/utils.ts"),X=s("./src/screens/_/item/post/ds.ts"),J=s("./node_modules/react/jsx-runtime.js"),r=(0,n.memo)(function(e){var t=e.navigation,s=e.inViewY,r=e.index,n=e.styles,o=e.contentStyle,i=e.extraStyle,d=e.topicId,a=e.authorId,l=e.avatar,c=e.erase,u=e.floor,m=e.directFloor,p=e.id,f=e.isAuthor,y=e.isExpand,j=e.isFriend,_=e.isJump,x=e.isNew,g=e.matchLink,b=e.msg,v=e.postId,h=e.readedTime,S=e.replySub,O=e.expandNums,T=e.sub,L=e.time,E=e.translate,C=e.url,w=e.userId,I=e.userName,D=e.userSign,A=e.formhash,k=e.likeType,P=e.event,R=e.onJumpTo,M=e.onLikesLongPress,N=e.onShowFixedTextare,V=e.onToggleExpand;return(0,Y.rerender)("Topic.Item.Main"),(0,J.jsxs)(B.Component,{id:"item-post","data-key":p,style:(0,H.stl)(n.item,T.length&&n.itemWithSub),children:[(0,J.jsxs)(B.Flex,{style:(0,H.stl)(F._.container.item,_&&n.itemJump),align:"start",onLayout:T.length?function(e){$.layoutHeightMap.set(Number(p),e.nativeEvent.layout.height)}:void 0,children:[(0,J.jsx)(B.UserStatus,{userId:w,children:(0,J.jsx)(K.InView,{style:n.inView,y:100*r+s+1,children:(0,J.jsx)(K.Avatar,{navigation:t,userId:w,name:I,size:36,src:l,event:P})})}),(0,J.jsxs)(B.Flex.Item,{style:(0,H.stl)(n.content,o),children:[(0,J.jsxs)(B.Flex,{align:"start",children:[(0,J.jsx)(B.Flex.Item,{children:(0,J.jsx)(K.Name,{userId:w,size:10<I.length?12:14,lineHeight:14,bold:!0,right:(0,J.jsx)(W.default,{isAuthor:f,isFriend:j,userSign:D}),children:(0,H.HTMLDecode)(I)})}),(0,J.jsx)(G.default,{style:i,topicId:d,id:p,formhash:A,likeType:k,msg:b,replySub:S,erase:c,userId:w,userName:I,onJumpTo:R,onShowFixedTextare:N})]}),(0,J.jsx)(z.default,{time:L,floor:u,isNew:x}),(0,J.jsxs)(q.default,{style:n.html,children:[(0,J.jsx)(K.HTML,{navigation:t,id:p,msg:b,url:C,imagesMaxWidth:X.IMAGES_MAX_WIDTH,matchLink:g,event:P}),(0,J.jsx)(K.Likes,{topicId:d,id:p,formhash:A,likeType:k,onLongPress:M})]}),!!E&&(0,J.jsx)(B.Text,{style:n.translate,size:11,children:E})]}),m&&(0,J.jsx)(q.default,{style:n.direct,pointerEvents:"none"})]}),!!T.length&&(0,J.jsxs)(B.Flex,{children:[(0,J.jsx)(q.default,{style:n.left}),(0,J.jsxs)(B.Flex.Item,{style:n.sub,children:[(0,J.jsx)(B.Flex,{wrap:"wrap",children:T.filter(function(e,t){return!!y||t<O}).map(function(e){return(0,J.jsx)(U.default,{extraStyle:i,id:e.id,message:e.message,userId:e.userId,userName:e.userName,avatar:e.avatar,floor:e.floor,erase:e.erase,replySub:e.replySub,time:e.time,postId:v,authorId:a,uid:w,url:C,readedTime:h,matchLink:g,event:P,onJumpTo:R,onLikesLongPress:M,onShowFixedTextare:N},e.id)})}),T.length>O&&(0,J.jsx)(B.Touchable,{style:n.expandContainer,onPress:function(){return V(p)},children:(0,J.jsx)(B.Text,{style:n.expand,type:y?"sub":"main",size:12,align:"center",bold:!0,children:y?"收起楼层":"展开 "+(T.length-O)+" 条回复"})})]})]})]})},X.DEFAULT_PROPS,function(e){return Object.assign({},e,{sub:e.sub.length})});t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},inViewY:{defaultValue:null,description:"",name:"inViewY",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: number; paddingTop: number; paddingBottom: number; paddingHorizontal: number; }; itemWithSub: { paddingBottom: number; }; itemDelete: { width: number; paddingBottom: number; paddingHorizontal: number; }; ... 9 more ...; expand: { ...; }; }"}},contentStyle:{defaultValue:null,description:"",name:"contentStyle",required:!0,type:{name:"ViewStyle"}},extraStyle:{defaultValue:null,description:"",name:"extraStyle",required:!0,type:{name:"ViewStyle"}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`subject/${string}` | `subject/${number}` | `group/${string}` | `group/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}`"}},authorId:{defaultValue:null,description:"",name:"authorId",required:!0,type:{name:"UserId"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},erase:{defaultValue:null,description:"",name:"erase",required:!0,type:{name:"string"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"string"}},directFloor:{defaultValue:null,description:"",name:"directFloor",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},isAuthor:{defaultValue:null,description:"",name:"isAuthor",required:!0,type:{name:"boolean"}},isExpand:{defaultValue:null,description:"",name:"isExpand",required:!0,type:{name:"boolean"}},isFriend:{defaultValue:null,description:"",name:"isFriend",required:!0,type:{name:"boolean"}},isJump:{defaultValue:null,description:"",name:"isJump",required:!0,type:{name:"boolean"}},isNew:{defaultValue:null,description:"",name:"isNew",required:!0,type:{name:"boolean"}},matchLink:{defaultValue:null,description:"",name:"matchLink",required:!0,type:{name:"boolean"}},msg:{defaultValue:null,description:"",name:"msg",required:!0,type:{name:"string"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"Id"}},readedTime:{defaultValue:null,description:"",name:"readedTime",required:!0,type:{name:"string"}},replySub:{defaultValue:null,description:"",name:"replySub",required:!0,type:{name:"string"}},expandNums:{defaultValue:null,description:"",name:"expandNums",required:!0,type:{name:"any"}},sub:{defaultValue:null,description:"",name:"sub",required:!0,type:{name:"any[]"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!0,type:{name:"any"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},userSign:{defaultValue:null,description:"",name:"userSign",required:!0,type:{name:"string"}},formhash:{defaultValue:null,description:"",name:"formhash",required:!0,type:{name:"string"}},likeType:{defaultValue:null,description:"",name:"likeType",required:!0,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},onJumpTo:{defaultValue:null,description:"",name:"onJumpTo",required:!0,type:{name:"Fn"}},onLikesLongPress:{defaultValue:null,description:"",name:"onLikesLongPress",required:!0,type:{name:"Fn"}},onShowFixedTextare:{defaultValue:null,description:"",name:"onShowFixedTextare",required:!0,type:{name:"Fn"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/post/item.tsx#item"})}catch(e){}},"./src/screens/_/item/post/mark/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/screens/_/base/index.ts"),x=s("./src/screens/_/item/post/mark/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=void 0===(s=e.style)?void 0:s,r=e.id,n=e.message,o=e.userId,i=e.userName,d=e.avatar,a=e.url,l=e.directFloor,c=e.event,u=t.navigation,e=(0,x.memoStyles)(),t=y.systemStore.setting.avatarRound,m=y._.window.width-y._.wind-20-y._.sm;return(0,g.jsxs)(f.Flex,{style:s?[e.item,s]:e.item,children:[(0,g.jsxs)(f.Flex,{style:t?e.round:e.rectangle,children:[(0,g.jsx)(p.default,{style:y._.mr.sm,children:(0,g.jsx)(f.UserStatus,{userId:o,mini:!0,children:(0,g.jsx)(_.Avatar,{navigation:u,size:20,userId:o,name:i,src:d,event:c})})}),(0,g.jsx)(_.Name,{userId:o,size:10,bold:!0,children:(0,j.HTMLDecode)(i)})]}),(0,g.jsx)(f.RenderHtml,{style:y._.ml.sm,baseFontStyle:y._.baseFontStyle.sm,imagesMaxWidth:m,html:n,onLinkPress:function(e){return(0,j.appNavigate)(e,u,{},c)},onImageFallback:function(){return(0,j.open)(a+"#post_"+r)}}),l&&(0,g.jsx)(p.default,{style:e.direct,pointerEvents:"none"})]})})},"./src/screens/_/item/post/mark/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingRight:r._.sm+2,paddingTop:r._.sm},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm},direct:{position:"absolute",top:-3,right:0,bottom:-10,left:4-r._._wind,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}})},"./src/screens/_/item/post/plus-one/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),b=s("./src/screens/_/base/index.ts"),v=r(s("./src/screens/_/item/post/user-label/index.tsx")),h=s("./src/screens/_/item/post/plus-one/styles.ts"),S=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.id,r=e.message,n=e.userId,o=e.userName,i=e.avatar,d=e.url,a=e.floor,l=e.directFloor,c=e.isAuthor,u=e.isFriend,m=e.isLayer,p=e.event,f=t.navigation,e=(0,h.memoStyles)(),t=x.systemStore.setting.avatarRound,y=x._.window.width-2*x._.wind-40-2*x._.sm;return(0,S.jsxs)(j.default,{style:e.item,children:[(0,S.jsxs)(_.Flex,{children:[(0,S.jsxs)(_.Flex,{style:t?e.round:e.rectangle,children:[(0,S.jsx)(j.default,{style:x._.mr.xs,children:(0,S.jsx)(_.UserStatus,{userId:n,mini:!0,children:(0,S.jsx)(b.Avatar,{navigation:f,size:20,userId:n,name:o,src:i,event:p})})}),(0,S.jsx)(b.Name,{userId:n,size:10,bold:!0,children:(0,g.HTMLDecode)(o)}),(0,S.jsx)(v.default,{isAuthor:c,isFriend:u,isLayer:m,lineHeight:10})]}),(0,S.jsxs)(_.Flex,{align:"end",children:[(0,S.jsx)(_.RenderHtml,{style:x._.ml.sm,baseFontStyle:x._.baseFontStyle.sm,imagesMaxWidth:y,html:r,onLinkPress:function(e){return(0,g.appNavigate)(e,f,{},p)},onImageFallback:function(){return(0,g.open)(d+"#post_"+s)}}),!!a&&(0,S.jsxs)(_.Text,{type:"sub",size:11,lineHeight:14,children:["  ",a]})]})]}),l&&(0,S.jsx)(j.default,{style:e.direct,pointerEvents:"none"})]})})},"./src/screens/_/item/post/plus-one/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingRight:r._.sm+2,paddingTop:r._.sm},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm},direct:{position:"absolute",top:-3,right:0,bottom:-10,left:4-r._._wind,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}})},"./src/screens/_/item/post/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{width:r._.window.width,paddingTop:r._.sm,paddingBottom:r._.md,paddingHorizontal:r._.wind},itemWithSub:{paddingBottom:r._.sm},itemDelete:{width:r._.window.width,paddingBottom:r._.sm,paddingHorizontal:r._.wind},itemJump:{borderBottomWidth:2,borderColor:r._.colorSuccess},inView:{minWidth:36,minHeight:36},content:{paddingLeft:r._.sm},html:{paddingRight:r._.sm,marginTop:r._.sm},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"},direct:{position:"absolute",top:-r._.sm-1,right:0,bottom:-r._.sm,left:4-r._._wind,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},left:{width:r._.r(36)},sub:{paddingTop:r._.md},expandContainer:{marginTop:-r._.sm},expand:{paddingVertical:r._.sm,marginLeft:44}}})},"./src/screens/_/item/post/sub/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.REG_PLUS=t.REG_BGM=t.DEFAULT_PROPS=t.AVATAR_WIDTH=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.DEFAULT_PROPS={navigation:{},styles:{},extraStyle:{},topicId:"",authorId:"",avatar:"",blockKeywords:[],erase:"",filterDelete:!0,floor:"",directFloor:!1,id:0,isBlockUser:!1,matchLink:!1,message:"",myFriendsMap:{},postId:"",postUsersMap:{},quote:!0,quoteAvatar:!0,wide:!1,readedTime:"",replySub:"",time:"",translate:"",uid:"",url:"",userId:"",userName:"",formhash:"",likeType:"",event:s.EVENT,onJumpTo:function(){},onLikesLongPress:function(){},onShowFixedTextare:function(){}},t.REG_BGM=/^<img src="\/img\/smiles\/tv\/\d+\.gif" smileid="\d+" alt="\(bgm\d+\)">$/,t.REG_PLUS=/\+\d/,t.AVATAR_WIDTH=r._.r(32)},"./src/screens/_/item/post/sub/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),E=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),C=s("./src/utils/dev/index.ts"),w=s("./src/screens/_/item/post/utils.ts"),I=r(s("./src/screens/_/item/post/sub/item.tsx")),A=s("./src/screens/_/item/post/sub/styles.ts"),k=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,r,n,o,i,d=e.extraStyle,a=e.authorId,l=e.avatar,c=e.erase,u=e.floor,m=e.id,p=e.matchLink,f=e.message,y=e.postId,j=e.readedTime,_=e.replySub,x=e.time,g=e.uid,b=e.url,v=e.userId,h=e.userName,S=e.event,O=e.onJumpTo,e=e.onShowFixedTextare,T=t.$,t=t.navigation;return(0,C.rerender)("Topic.ItemSub"),!v||(0,w.isBlockUser)(v,h,_)?null:(s=((null==T?void 0:T.state)||{}).translateResultFloor,r=(i=E.rakuenStore.setting).blockKeywords,n=i.quote,o=i.quoteAvatar,i=i.wide,(0,k.jsx)(I.default,{navigation:t,styles:(0,A.memoStyles)(),extraStyle:d,topicId:null==T?void 0:T.topicId,authorId:a,avatar:l,blockKeywords:r,erase:c,filterDelete:null==T?void 0:T.filterDelete,floor:u,directFloor:(null==T||null==(t=T.state)?void 0:t.directFloor)===u,id:m,isBlockUser:null==T?void 0:T.isBlockUser,matchLink:p,message:f,myFriendsMap:null==T?void 0:T.myFriendsMap,postId:y,postUsersMap:null==T?void 0:T.postUsersMap,quote:n,quoteAvatar:o,wide:i,readedTime:j,replySub:_,time:x,translate:null==s?void 0:s[m],uid:g,url:b,userId:v,userName:h,formhash:null==T||null==(d=T.topic)?void 0:d.formhash,likeType:null==T||null==(a=T.topic)?void 0:a.likeType,event:S,onJumpTo:O,onLikesLongPress:null==T?void 0:T.showLikesUsers,onShowFixedTextare:e}))})},"./src/screens/_/item/post/sub/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),V=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),q=s("./src/components/index.ts"),B=s("./src/stores/index.ts"),F=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),H=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),Y=s("./src/utils/dev/index.ts"),K=s("./src/screens/_/base/index.ts"),z=r(s("./src/screens/_/item/post/floor-text/index.tsx")),G=r(s("./src/screens/_/item/post/icon-extra/index.tsx")),U=r(s("./src/screens/_/item/post/mark/index.tsx")),W=r(s("./src/screens/_/item/post/plus-one/index.tsx")),$=r(s("./src/screens/_/item/post/user-label/index.tsx")),X=s("./src/screens/_/item/post/utils.ts"),J=s("./src/screens/_/item/post/ds.ts"),Q=s("./src/screens/_/item/post/sub/ds.ts"),Z=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,r=e.extraStyle,n=e.topicId,o=e.authorId,i=e.avatar,d=e.blockKeywords,a=e.erase,l=e.filterDelete,c=e.floor,u=e.directFloor,m=e.id,p=e.isBlockUser,f=e.matchLink,y=e.message,j=e.myFriendsMap,_=e.postId,x=e.postUsersMap,g=e.quote,b=e.quoteAvatar,v=e.wide,h=e.readedTime,S=e.replySub,O=e.time,T=e.translate,E=e.uid,C=e.url,w=e.userId,I=e.userName,A=e.formhash,k=e.likeType,P=e.event,L=e.onJumpTo,D=e.onLikesLongPress,e=e.onShowFixedTextare,R=((0,Y.rerender)("Topic.ItemSub.Main"),(0,H.default)(y)),M=(0,F.removeHTMLTag)(R),N=M.includes("删除了回复");if(l&&N)return null;l=o===w,o=!l&&E===w,E=j[w];if(N||M.length<=10&&Q.REG_PLUS.test(M)||Q.REG_BGM.test(R.trim()))return(0,Z.jsx)(q.Component,{id:"item-post-sub","data-key":m,"data-type":"plus-one",children:(0,Z.jsx)(W.default,{id:m,message:y,userId:w,userName:I,avatar:i,url:C,directFloor:u,isAuthor:l,isFriend:E,isLayer:o,event:P})});if(M.length<=8&&J.REG_MARK.test(M))return(0,Z.jsx)(q.Component,{id:"item-post-sub","data-key":m,"data-type":"mark",children:(0,Z.jsx)(U.default,{id:m,message:R,userId:w,userName:I,avatar:i,url:C,directFloor:u,event:P})});N=null==(j=M.match(/^(.+?)说:/))?void 0:j[1],j=N?x[N]:"";if(j){x=(0,F.matchUserIdFromAvatar)(j.avatar);if(x&&"function"==typeof p&&p(x,N))return null}d.some(function(e){return M.includes(e)})&&(y='<span style="color:#999;font-size:12px">已屏蔽</span>');p=!!h&&(0,F.getTimestamp)(O)>h,x=!!_&&_===m,N=g&&b&&!!j;return(0,Z.jsx)(q.Component,{id:"item-post-sub","data-key":m,style:B._.container.block,children:(0,Z.jsxs)(q.Flex,{style:s.item,align:"start",onLayout:function(e){try{X.layoutHeightMap.set(Number(m),Math.max(1,e.nativeEvent.layout.height))}catch(e){}},children:[(0,Z.jsx)(q.UserStatus,{userId:w,children:(0,Z.jsx)(K.Avatar,{navigation:t,userId:w,name:I,src:i,size:36,event:P})}),(0,Z.jsxs)(q.Flex.Item,{style:s.content,children:[(0,Z.jsxs)(q.Flex,{align:"start",children:[(0,Z.jsx)(q.Flex.Item,{children:(0,Z.jsx)(K.Name,{userId:w,size:10<I.length?12:14,lineHeight:14,bold:!0,right:(0,Z.jsx)($.default,{isAuthor:l,isFriend:E,isLayer:o}),children:(0,F.HTMLDecode)(I)})}),(0,Z.jsx)(G.default,{style:r,topicId:n,id:m,formhash:A,likeType:k,replySub:S,erase:a,userId:w,userName:I,message:y,msg:R,onJumpTo:L,onShowFixedTextare:e})]}),(0,Z.jsx)(z.default,{time:O,floor:c,isNew:p}),(0,Z.jsxs)(V.default,{style:s.html,children:[(0,Z.jsx)(K.HTML,{navigation:t,style:v&&s.wide,id:m,msg:R,url:C,imagesMaxWidth:J.IMAGES_MAX_WIDTH_SUB,matchLink:f,event:P}),!!T&&(0,Z.jsx)(q.Text,{style:s.translate,size:11,children:T}),N&&(0,Z.jsxs)(q.Flex,{style:(0,F.stl)(s.quoteUserRound,v&&s.quoteUserRoundWide),children:[(0,Z.jsx)(K.Avatar,{navigation:t,size:13,userId:j.userId,name:j.userName,src:j.avatar,radius:B.systemStore.setting.avatarRound?void 0:4,event:P}),(0,Z.jsxs)(q.Text,{type:B._.select("desc","sub"),size:12,bold:!0,children:[" ",j.userName,":"]})]}),(0,Z.jsx)(K.Likes,{style:v&&s.likesWide,topicId:n,id:m,formhash:A,likeType:k,onLongPress:D})]})]}),u?(0,Z.jsx)(V.default,{style:s.direct,pointerEvents:"none"}):x?(0,Z.jsx)(V.default,{style:[s.direct,s.directJump],pointerEvents:"none"}):null]})})},Q.DEFAULT_PROPS);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { width: string; paddingLeft: number; }; content: { paddingBottom: number; marginLeft: number; }; html: { paddingRight: number; marginTop: number; }; quoteUserRound: { position: "absolute"; top: number; left: number; zIndex: number; padding: number; backgroundColor: "rgb(238, 238, 240)" | "rgb(24, 24, 24)"; ...'}},extraStyle:{defaultValue:null,description:"",name:"extraStyle",required:!0,type:{name:"ViewStyle"}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`subject/${string}` | `subject/${number}` | `group/${string}` | `group/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}`"}},authorId:{defaultValue:null,description:"",name:"authorId",required:!0,type:{name:"UserId"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},blockKeywords:{defaultValue:null,description:"",name:"blockKeywords",required:!0,type:{name:"any[]"}},erase:{defaultValue:null,description:"",name:"erase",required:!0,type:{name:"string"}},filterDelete:{defaultValue:null,description:"",name:"filterDelete",required:!0,type:{name:"boolean"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"string"}},directFloor:{defaultValue:null,description:"",name:"directFloor",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},isBlockUser:{defaultValue:null,description:"",name:"isBlockUser",required:!0,type:{name:"any"}},matchLink:{defaultValue:null,description:"",name:"matchLink",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},myFriendsMap:{defaultValue:null,description:"",name:"myFriendsMap",required:!0,type:{name:"Record<UserId, boolean>"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"Id"}},postUsersMap:{defaultValue:null,description:"",name:"postUsersMap",required:!0,type:{name:"Record<UserId, any>"}},quote:{defaultValue:null,description:"",name:"quote",required:!0,type:{name:"boolean"}},quoteAvatar:{defaultValue:null,description:"",name:"quoteAvatar",required:!0,type:{name:"boolean"}},wide:{defaultValue:null,description:"",name:"wide",required:!0,type:{name:"boolean"}},readedTime:{defaultValue:null,description:"",name:"readedTime",required:!0,type:{name:"any"}},replySub:{defaultValue:null,description:"",name:"replySub",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!0,type:{name:"any"}},uid:{defaultValue:null,description:"",name:"uid",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},formhash:{defaultValue:null,description:"",name:"formhash",required:!0,type:{name:"string"}},likeType:{defaultValue:null,description:"",name:"likeType",required:!0,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:'{ readonly id: ""; readonly data: {}; }'}},onJumpTo:{defaultValue:null,description:"",name:"onJumpTo",required:!0,type:{name:"Fn"}},onLikesLongPress:{defaultValue:null,description:"",name:"onLikesLongPress",required:!0,type:{name:"Fn"}},onShowFixedTextare:{defaultValue:null,description:"",name:"onShowFixedTextare",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/sub/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/post/sub/item.tsx#item"})}catch(e){}},"./src/screens/_/item/post/sub/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/post/sub/ds.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.sm,t=-(n.AVATAR_WIDTH+e+4);return{item:{width:"100%",paddingLeft:r._.sm},content:{paddingBottom:r._.md,marginLeft:e},html:{paddingRight:r._.sm,marginTop:r._.xs},quoteUserRound:{position:"absolute",top:11,left:10.5,zIndex:1,padding:2,backgroundColor:r._.colorBg},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"},wide:{paddingRight:r._.sm,marginTop:4,marginLeft:t},quoteUserRoundWide:{top:15,left:11,marginLeft:t},likesWide:{marginLeft:t},direct:{position:"absolute",top:-8,right:0,bottom:8,left:-2,borderWidth:2,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},directJump:{borderColor:r._.colorSuccess}}})},"./src/screens/_/item/post/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/post/user-label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=void 0!==(t=e.isAuthor)&&t,s=void 0!==(s=e.isFriend)&&s,r=void 0!==(r=e.isLayer)&&r,n=void 0===(n=e.userSign)?void 0:n,e=void 0===(e=e.lineHeight)?14:e;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)(o.Text,{type:"main",size:10,lineHeight:e,bold:!0,children:[" ","作者"]}),s&&!t&&(0,i.jsxs)(o.Text,{type:"warning",size:10,lineHeight:e,bold:!0,children:[" ","好友"]}),r&&!t&&!s&&(0,i.jsxs)(o.Text,{type:"primary",size:10,lineHeight:e,bold:!0,children:[" ","层主"]}),!!n&&(0,i.jsxs)(o.Text,{type:"sub",size:10,lineHeight:e,children:[" ","(",null==n?void 0:n.slice(1,(null==n?void 0:n.length)-1),")"]})]})});try{userlabel.displayName="userlabel",userlabel.__docgenInfo={description:"",displayName:"userlabel",props:{isAuthor:{defaultValue:null,description:"",name:"isAuthor",required:!1,type:{name:"boolean"}},isFriend:{defaultValue:null,description:"",name:"isFriend",required:!1,type:{name:"boolean"}},isLayer:{defaultValue:null,description:"",name:"isLayer",required:!1,type:{name:"boolean"}},userSign:{defaultValue:null,description:"",name:"userSign",required:!1,type:{name:"any"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/user-label/index.tsx#userlabel"]={docgenInfo:userlabel.__docgenInfo,name:"userlabel",path:"src/screens/_/item/post/user-label/index.tsx#userlabel"})}catch(e){}},"./src/screens/_/item/post/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.isBlockUser=function(r,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",e=3<arguments.length?arguments[3]:void 0,t=-1!==d.rakuenStore.setting.blockUserIds.findIndex(function(e){var e=e.split("@"),e=(0,i.default)(e,2),t=e[0],e=e[1];if("undefined"===e)return t===n;if(o){var s=o.split(",");if(7===s.length&&e==s[5])return!0}return e==r||t===n});t&&e&&(a[e=r+"|"+e]||(a[e]=1,setTimeout(function(){d.rakuenStore.trackBlockedUser(r)},0)));return t},t.layoutHeightMap=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),d=s("./src/stores/index.ts"),a=(t.layoutHeightMap=new Map,{})},"./src/screens/_/item/say/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{position:"right",avatar:"https://api.bgm.tv/v0/users/sukaretto/avatar?type=large",showName:!0,name:"咕咕子❶",text:"今日咖啡：辛鹿 3号 神奇樱桃蜜柚",id:"sukaretto",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/casserole/avatar?type=large",showName:!0,name:"Casserole",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;Myanimelist&#x540C;&#x6B65;",id:"casserole",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/772257/avatar?type=large",showName:!0,name:"Armin",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#x6240;&#x6709;&#x7684;&#x6536;&#x85CF;&#x90FD;&#x8BBE;&#x4E3A;&#x79C1;&#x5BC6;&#xFF0C;&#x5305;&#x62EC;&#x5728;&#x770B;&#x548C;&#x770B;&#x8FC7;&#x4E5F;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#xFF0C;&#x8C22;&#x8C22;&#xFF01;",id:"772257",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/516549/avatar?type=large",showName:!0,name:"希望人冇事",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5DF2;&#x5B8C;&#x7ED3;&#x7684;&#x756A;&#x5267;&#x4ECD;&#x7136;&#x663E;&#x793A;&#x660E;&#x65E5;(bgm34) <a href="https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg" class="l" rel="nofollow external noopener noreferrer" target="_blank">https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg</a>',id:"516549",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/569814/avatar?type=large",showName:!0,name:"标签贰零零壹",text:"bug&#x540C;&#x4E0A;",id:"569814",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/498672/avatar?type=large",showName:!0,name:"川上晴生",text:"&#x60F3;&#x95EE;&#x4E0B;&#x6CA1;&#x6709;&#x9ED1;&#x540D;&#x5355;&#x529F;&#x80FD;&#x5417;&#xFF1F;&#x73B0;&#x5728;&#x7684;&#x5C4F;&#x853D;&#x611F;&#x89C9;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#x7528;&#xFF0C;&#x6362;&#x8BBE;&#x5907;&#x53C8;&#x4F1A;&#x770B;&#x5230;&#x4E86;",id:"498672",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/jin100497/avatar?type=large",showName:!0,name:"100497",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5E0C;&#x671B;&#x589E;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x56FE;&#x7247;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#xFF0C;&#x8C22;&#x8C22;',id:"jin100497",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/734240/avatar?type=large",showName:!0,name:"黑色幽默",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x52A0;&#x8F7D;&#x52A8;&#x753B;&#x53EF;&#x4EE5;&#x8BBE;&#x8BA1;&#x6210;&#x70B9;&#x70B9;&#x70B9;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8FD9;&#x4E2A;BGM&#x5A18;&#x7728;&#x773C;&#x775B;&#xFF0C;&#x4ED6;&#x8FD9;&#x4E2A;&#x6D41;&#x5149;&#x8BBE;&#x8BA1;&#x4E0D;&#x662F;&#x5F88;&#x660E;&#x663E;',id:"734240",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/re0_sjz/avatar?type=large",showName:!0,name:"Re:0_SJZ",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a>\n&#x80FD;&#x4E0D;&#x80FD;&#x6DFB;&#x52A0; &#x8D85;&#x5408;&#x91D1;&#x7EC4;&#x4EF6;&#x91CC;&#x7684;\n&#x70B9;&#x51FB;&#x770B;&#x8FC7;&#x65F6;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;\n&#x5728;&#x7AE0;&#x8282;&#x9875;&#x9762;&#x5185;&#x4FEE;&#x6539;&#x6536;&#x85CF;&#x72B6;&#x6001;&#x4E3A;&#x770B;&#x8FC7;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x7684;&#x96C6;&#x6570;&#xFF0C;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;&#xFF0E; sp &#x8FDB;&#x5EA6;&#x4F1A;&#x4FDD;&#x7559;&#x539F;&#x6837;&#x4E66;&#x7C4D;&#x548C;&#x52A8;&#x753B;&#x4EE5;&#x53CA;&#x4E09;&#x6B21;&#x5143;&#x5747;&#x6709;&#x6548;&#xFF0E;..',id:"re0_sjz",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/a4paper/avatar?type=large",showName:!0,name:"nodame",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x66F4;&#x65B0;&#x6700;&#x65B0;&#x7248;&#x540E;&#xFF0C;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#xFF0C;CDN&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED;',id:"a4paper",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/nofttwiq/avatar?type=large",showName:!0,name:"Nofttwiq.",text:"&#x53CD;&#x9988;&#xFF0C;&#x5B89;&#x5353;&#x8FDB;&#x5EA6;&#x91CC;&#x7684;&#x81EA;&#x52A8;&#x8C03;&#x8282;&#x7AE0;&#x8282;&#x6309;&#x94AE;&#x5927;&#x5C0F;&#x5173;&#x95ED;&#x4E4B;&#x540E;&#xFF0C;&#x9000;&#x51FA;&#x5E94;&#x7528;&#xFF0C;&#x540E;&#x53F0;&#x6E05;&#x7406;&#x540E;&#xFF0C;&#x56DE;&#x5230;&#x5E94;&#x7528;&#x9009;&#x9879;&#x4F1A;&#x518D;&#x6B21;&#x6253;&#x5F00;&#xFF0C;&#x6BCF;&#x8FDB;&#x4E00;&#x6B21;&#x5C31;&#x8981;&#x91CD;&#x65B0;&#x8FDB;&#x8BBE;&#x7F6E;&#x8C03;&#x4E00;&#x6B21;",id:"nofttwiq",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/ilris/avatar?type=large",showName:!0,name:"Sisbell",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> [&#x7591;&#x4F3C;BUG]&#x67E5;&#x770B;&#x6761;&#x76EE;&#x4E0B;&#x4EBA;&#x7269;&#x5410;&#x69FD;&#x533A;&#x65F6;&#x5076;&#x7136;&#x53D1;&#x73B0;&#xFF0C;&#x5410;&#x69FD;&#x52A0;&#x8F7D;&#x697C;&#x5C42;&#x6570;&#x4F3C;&#x4E4E;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;22&#x5C42;&#xFF0C;&#x8D85;&#x8FC7;&#x4FBF;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x4E14;&#x6301;&#x7EED;&#x663E;&#x793A;&#x52A0;&#x8F7D;&#x4E2D;&#x3002;&#x6682;&#x4E0D;&#x6E05;&#x695A;&#x4ECE;&#x4EC0;&#x4E48;&#x7248;&#x672C;&#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x5E94;&#x8BE5;&#x4E5F;&#x6CA1;&#x95EE;&#x9898;&#x3002;(bgm38)',id:"ilris",format:!0}]},"./src/screens/_/item/say/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSay=void 0,Object.defineProperty(t,"ItemSayProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/_/base/index.ts"),g=s("./src/screens/_/item/say/styles.ts"),n=s("./src/screens/_/item/say/types.ts"),b=s("./node_modules/react/jsx-runtime.js");t.ItemSay=(0,r.obc)(function(e,t){var s=e.event,r=void 0===s?_.EVENT:s,s=e.position,s=void 0===s?"left":s,n=e.avatar,o=e.showName,i=e.name,d=e.text,a=e.id,l=e.time,c=e.format,c=void 0===c||c,e=e.onLongPress,e=void 0===e?function(){}:e,u=t.navigation,t=(0,g.memoStyles)(),m=y.systemStore.setting.coverRadius;return"right"===s?(0,b.jsx)(f.Component,{id:"item-say","data-type":"right",children:(0,b.jsxs)(f.Flex,{style:o?y._.mt.md:y._.mt.sm,align:"start",children:[(0,b.jsx)(f.Flex.Item,{style:t.contentRight,children:(0,b.jsxs)(f.Flex,{direction:"column",align:"end",children:[o&&(0,b.jsxs)(f.Text,{style:y._.mr.sm,size:11,type:"title",bold:!0,children:[!!l&&(0,b.jsxs)(f.Text,{type:"sub",size:11,bold:!0,children:[l," · "]}),i]}),(0,b.jsx)(p.default,{style:[t.text,t.textActive,y._.mt.xs],children:(0,b.jsx)(f.RenderHtml,{baseFontStyle:t.baseFontStyleRight,linkStyle:t.linkStyleRight,html:c?v(d):d,onLinkPress:function(e){return(0,j.appNavigate)(e,u,{},r)}})})]})}),(0,b.jsx)(f.Flex,{style:[t.avatarWrapRight,{borderRadius:m+4}],justify:"center",children:(0,b.jsx)(f.UserStatus,{userId:a,children:(0,b.jsx)(x.Avatar,{navigation:u,src:n,size:34,userId:a,name:i,borderWidth:0,event:r})})})]})}):(0,b.jsx)(f.Component,{id:"item-say","data-type":"left",children:(0,b.jsxs)(f.Flex,{style:o?y._.mt.md:y._.mt.sm,align:"start",children:[(0,b.jsx)(f.Flex,{style:[t.avatarWrapLeft,{borderRadius:m+4}],justify:"center",children:(0,b.jsx)(f.UserStatus,{userId:a,children:(0,b.jsx)(x.Avatar,{navigation:u,src:n,size:34,userId:a,name:i,borderWidth:0,event:r,onLongPress:e})})}),(0,b.jsx)(f.Flex.Item,{style:t.contentLeft,children:(0,b.jsxs)(f.Flex,{direction:"column",align:"start",children:[o&&(0,b.jsx)(x.Name,{style:y._.ml.sm,userId:a,showFriend:!0,size:11,type:"title",bold:!0,right:!!l&&(0,b.jsxs)(f.Text,{type:"sub",size:11,bold:!0,children:[" · ",l]}),children:i}),(0,b.jsx)(p.default,{style:[t.text,y._.mt.xs],children:(0,b.jsx)(f.RenderHtml,{baseFontStyle:t.baseFontStyle,html:c?v(d):d,onLinkPress:function(e){return(0,j.appNavigate)(e,u,{},r)}})})]})})]})})});function v(e){var s=0<arguments.length&&void 0!==e?e:"",t=s.match(/\(bgm\d+\)/g)||[];return t.length&&t.forEach(function(e){var t=parseInt(e.match(/\d+/g)[0]);s=s.replace(e,'<img smileid alt="(bgm~~~'+t+')" />')}),s.replace(/~~~/g,"")}},"./src/screens/_/item/say/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{avatarWrapLeft:{position:"absolute",zIndex:1,left:0,bottom:0,width:40,height:40,backgroundColor:r._.colorBg},avatarWrapRight:{position:"absolute",zIndex:1,right:0,bottom:0,width:40,height:40,backgroundColor:r._.colorBg},contentLeft:{maxWidth:"88%",marginBottom:24,marginLeft:24},contentRight:{maxWidth:"88%",marginLeft:"12%",marginBottom:24,marginRight:24},text:{maxWidth:"100%",padding:12,marginRight:24,backgroundColor:r._.colorPlain,borderRadius:16},textActive:{marginRight:0,marginLeft:24,backgroundColor:r._.colorPrimary,borderTopLeftRadius:16},baseFontStyle:{fontSize:14+r._.fontSizeAdjust,lineHeight:22},baseFontStyleRight:{fontSize:14+r._.fontSizeAdjust,lineHeight:22,color:r._.__colorPlain__},linkStyleRight:{color:r._.__colorPlain__,textDecorationColor:r._.__colorPlain__}}})},"./src/screens/_/item/say/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/search/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;s=s("./src/constants/index.ts");t.DEFAULT_PROPS={navigation:{},styles:{},style:{},index:0,id:"",name:"",nameCn:"",cover:"",typeCn:"",tip:"",rank:"",score:"",total:"",comments:"",collection:"",collected:!1,showManage:!0,position:[],event:s.EVENT}},"./src/screens/_/item/search/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{id:"/subject/296739",name:"ヴィンランド・サガ SEASON 2",nameCn:"冰海战记 第二季",cover:"//lain.bgm.tv/pic/cover/c/a4/16/296739_71dLe.jpg",typeCn:"动画",tip:"24话 / 2023年1月9日 / 籔田修平 / 幸村誠「ヴィンランド・サガ」（講談社『アフタヌーン』連載） / 阿比留隆彦；副人物设定：若狭賢史、辻村幸輝、あべたくじ（阿部卓司）、渡辺慶子、色部美穂、安食圭 ",rank:"186",score:"8.1",total:"(1132人评分)",collection:"",collected:!1},{id:"/subject/425211",name:"かぐや様は告らせたい-ファーストキッスは終わらない-",nameCn:"辉夜大小姐想让我告白-初吻不会结束-",cover:"//lain.bgm.tv/pic/cover/c/ca/79/425211_bPbra.jpg",typeCn:"动画",tip:"4话 / 2023年3月31日 / 畠山守(小俣真一) / 赤坂アカ （集英社「週刊ヤングジャンプ」連載） / 八尋裕子 ",rank:"236",score:"8.1",total:"(664人评分)",collection:"搁置",collected:!1},{id:"/subject/404804",name:"天国大魔境",nameCn:"天国大魔境",cover:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛 ",rank:"277",score:"7.9",total:"(599人评分)",collection:"在看",collected:!0},{id:"/subject/376739",name:"進撃の巨人 The Final Season 完結編 前編",nameCn:"进击的巨人 最终季 完结篇 前篇",cover:"//lain.bgm.tv/pic/cover/c/4f/33/376739_KMN9x.jpg",typeCn:"动画",tip:"1话 / 2023年3月3日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋 ",rank:"431",score:"7.8",total:"(2003人评分)",collection:"想看",collected:!0},{id:"/subject/378862",name:"お兄ちゃんはおしまい！",nameCn:"别当欧尼酱了！",cover:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",typeCn:"动画",tip:"12话 / 2023年1月5日 / 藤井慎吾 / ねことうふ（月刊ComicREX／一迅社刊） / 今村亮 ",rank:"563",score:"7.7",total:"(5885人评分)",collection:"看过",collected:!0},{id:"/subject/362335",name:"グリッドマン ユニバース",nameCn:"古立特宇宙",cover:"//lain.bgm.tv/pic/cover/c/76/b8/362335_VhtRE.jpg",typeCn:"动画",tip:"1话 / 2023年3月24日 / 雨宮哲 / グリッドマン / 坂本勝 ",rank:"565",score:"8.1",total:"(68人评分)",collection:"",collected:!0},{id:"/subject/325587",name:"やはり俺の青春ラブコメはまちがっている。完 OVA",nameCn:"我的青春恋爱物语果然有问题 完 OVA",cover:"//lain.bgm.tv/pic/cover/c/df/fa/325587_P8eCb.jpg",typeCn:"动画",tip:"1话 / 2023年4月27日 / 渡航（小学館「ガガガ文庫」） ",rank:"1302",score:"7.4",total:"(377人评分)",collection:"",collected:!0},{id:"/subject/373247",name:"無職転生Ⅱ～異世界行ったら本気だす～",nameCn:"无职转生 II ～到了异世界就拿出真本事～",cover:"//lain.bgm.tv/pic/cover/c/cf/55/373247_qX53z.jpg",typeCn:"动画",tip:"2023年7月 / 理不尽な孫の手（MFブックス／KADOKAWA刊） ",rank:"1490",score:"7.3",total:"(236人评分)",collection:"",collected:!0},{id:"/subject/395782",name:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",nameCn:"JOJO的奇妙冒险 石之海 Part.3",cover:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",typeCn:"动画",tip:"14话 / 2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭 ",rank:"1886",score:"7.2",total:"(1886人评分)",collection:"",collected:!1},{id:"/subject/401960",name:"にじよん あにめーしょん",nameCn:"虹四动画",cover:"//lain.bgm.tv/pic/cover/c/31/aa/401960_nQcWc.jpg",typeCn:"动画",tip:"15话 / 2023年1月6日 / ほりうちゆうや / 矢立肇；漫画：ミヤコヒト ",rank:"2145",score:"7.1",total:"(520人评分)",collection:"",collected:!1},{id:"/subject/358660",name:"",nameCn:"中国奇谭",cover:"//lain.bgm.tv/pic/cover/c/e2/97/358660_M4986.jpg",typeCn:"动画",tip:"8话 / 2023年1月1日 / 於水（《小妖怪的夏天》），胡睿（《鹅鹅鹅》），杨木（《林林》），刘毛宁（《乡村巴士带走了王孩儿和神仙》），陈莲华、周小琳（《小满》），潘斌（《飞鸟与鱼》），顾杨、刘旷（《小卖部》），徐宁（《玉兔》） / 於水（《小妖怪的夏天》），顾杨（《小卖部》） ",rank:"2193",score:"7.1",total:"(1562人评分)",collection:"",collected:!1},{id:"/subject/325808",name:"地獄楽",nameCn:"地狱乐",cover:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_4OXIC.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣 ",rank:"2205",score:"7.0",total:"(340人评分)",collection:"",collected:!1}]},"./src/screens/_/item/search/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSearch=void 0,Object.defineProperty(t,"ItemSearchProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),g=s("./src/utils/dev/index.ts"),b=r(s("./src/screens/_/item/search/item.tsx")),v=s("./src/screens/_/item/search/styles.ts"),o=s("./src/screens/_/item/search/types.ts"),h=s("./node_modules/react/jsx-runtime.js"),r=t.ItemSearch=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.index,n=e.id,o=e.name,i=e.nameCn,d=e.cover,a=e.typeCn,l=e.tip,c=e.rank,u=e.score,m=e.total,p=e.comments,f=e.collection,y=e.collected,j=e.showManage,_=e.position,e=e.event;return(0,g.rerender)("Component.ItemSearch"),(0,h.jsx)(x.Component,{id:"item-search","data-key":n,children:(0,h.jsx)(b.default,{navigation:t,styles:(0,v.memoStyles)(),style:s,index:r,id:n,name:o,nameCn:i,cover:d,typeCn:a,tip:l,rank:c,score:u,total:m,comments:p,collection:f,collected:y,showManage:j,position:_,event:e})})});try{r.displayName="ItemSearch",r.__docgenInfo={description:"",displayName:"ItemSearch",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},collected:{defaultValue:null,description:"",name:"collected",required:!1,type:{name:"boolean"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/index.tsx#ItemSearch"]={docgenInfo:r.__docgenInfo,name:"ItemSearch",path:"src/screens/_/item/search/index.tsx#ItemSearch"})}catch(e){}},"./src/screens/_/item/search/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),O=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),T=s("./src/components/index.ts"),E=s("./src/stores/index.ts"),C=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),w=s("./src/utils/dev/index.ts"),I=s("./src/constants/index.ts"),A=s("./src/screens/_/base/index.ts"),k=r(s("./src/screens/_/item/search/title/index.tsx")),r=s("./src/screens/_/item/search/ds.ts"),P=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,r=e.style,n=e.index,o=e.id,i=e.name,d=e.nameCn,a=e.cover,l=e.typeCn,c=e.tip,u=e.rank,m=e.score,p=e.total,f=e.comments,y=e.collection,j=e.position,_=e.showManage,x=e.event,e=((0,w.rerender)("Component.ItemSearch.Main"),!String(o).includes("/subject/")),g="音乐"===l,b=c||j.length?"between":"start",v=String(o).replace("/subject/",""),h=e?I.IMG_WIDTH:I.IMG_WIDTH_LG,S=e?I.IMG_WIDTH:g?I.IMG_WIDTH_LG:I.IMG_HEIGHT_LG;return(0,P.jsx)(T.Touchable,{style:(0,C.stl)(s.container,r),animate:!0,onPress:function(){(0,C.appNavigate)(String(o),t,{_jp:i,_cn:d,_image:a,_type:l,_collection:y},x)},children:(0,P.jsxs)(T.Flex,{style:s.wrap,align:"start",children:[(0,P.jsx)(A.InView,{style:{minWidth:h,minHeight:S},y:148*n+1,children:(0,P.jsx)(A.Cover,{src:a,placeholder:!e,width:h,height:S,radius:!0,shadow:!0,type:l})}),(0,P.jsxs)(T.Flex,{style:(0,C.stl)(s.content,!!f&&s.flux,g&&s.musicContent),direction:"column",justify:b,align:"start",children:[(0,P.jsxs)(T.Flex,{style:s.title,align:"start",children:[(0,P.jsx)(T.Flex.Item,{children:(0,P.jsx)(k.default,{name:i,nameCn:d,comments:f})}),_&&!e&&(0,P.jsx)(O.default,{style:s.manage,children:(0,P.jsx)(A.Manage,{subjectId:v,collection:y,typeCn:l,onPress:function(){E.uiStore.showManageModal({subjectId:v,title:(0,C.cnjp)(d,i),desc:(0,C.cnjp)(i,d),status:I.MODEL_COLLECTION_STATUS.getValue(y),action:(0,C.getAction)(l)})}})})]}),!!c&&(0,P.jsx)(T.Text,{style:(0,C.stl)(g&&E._.mt.xs,I.STORYBOOK&&E._.mr.lg),size:11,lineHeight:13,numberOfLines:g?2:3,children:(0,C.HTMLDecode)(c)}),!!j.length&&(0,P.jsx)(T.Flex,{style:E._.mt.sm,wrap:"wrap",children:j.map(function(e){return(0,P.jsx)(A.Tag,{style:E._.mr.sm,value:e},e)})}),(0,P.jsxs)(T.Flex,{style:E._.mt.md,children:[(0,P.jsx)(A.Rank,{value:u}),(0,P.jsx)(A.Stars,{value:m}),(0,P.jsx)(T.Text,{style:E._.ml.xxs,type:"sub",size:11,children:p})]})]})]})})},r.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingLeft: number; }; wrap: { paddingVertical: number; paddingRight: number; }; content: { flex: number; height: number; marginLeft: number; }; flux: { height: string; minHeight: number; }; musicContent: { ...; }; title: { ...; }; manage: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"string"}},collection:{defaultValue:null,description:"动画才有, 具体收藏状态",name:"collection",required:!0,type:{name:"string"}},collected:{defaultValue:null,description:"是否收藏",name:"collected",required:!0,type:{name:"boolean"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!0,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/search/item.tsx#item"})}catch(e){}},"./src/screens/_/item/search/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{flex:1,height:n.IMG_HEIGHT_LG,marginLeft:r._._wind},flux:{height:"auto",minHeight:n.IMG_HEIGHT_LG},musicContent:{height:"auto",minHeight:n.IMG_WIDTH_LG-8},title:{width:"100%",paddingRight:40},manage:{position:"absolute",zIndex:1,top:0,right:0}}})},"./src/screens/_/item/search/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.name,s=e.nameCn,e=e.comments,r=(0,d.cnjp)(s,t),s=!!(t=(0,d.cnjp)(t,s))&&t!==r,n=28<=(n=(r||t).length)?12:20<=n?13:12<=n?14:15,o=32<=(o=t.length)?9:24<=o?10:16<=o?11:12;return(0,a.jsxs)(a.Fragment,{children:[!(!r&&!t)&&(0,a.jsxs)(i.Katakana.Provider,{size:n,numberOfLines:s?2:3,bold:!0,children:[(0,a.jsx)(i.Katakana,{size:n,bold:!0,children:r||t}),!!e&&(0,a.jsxs)(i.Text,{type:"main",lineHeight:n,children:[" ",e]})]}),s&&(0,a.jsx)(i.Katakana.Provider,{type:"sub",size:o,lineHeight:13,bold:!0,numberOfLines:1,children:(0,a.jsx)(i.Katakana,{type:"sub",size:o,lineHeight:13,bold:!0,numberOfLines:1,children:t})})]})});try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"any"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/title/index.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"src/screens/_/item/search/title/index.tsx#title"})}catch(e){}},"./src/screens/_/item/search/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/setting-block/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"字体",information:"开启后会强制使用 Resource Han Rounded (思源幼圆) 字体，以便在各设备达到设计上面的 UI 统一",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070600959-cfe3b7a7-696b-4325-a81e-fe3f58f99edf.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070607888-446ff81c-6acf-4416-8a73-e2aca67932db.png"}]},{style:{marginTop:8},show:!0,title:"封面拟物",information:"能确定类型的条目封面拟物化，增加区分度",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071481482-cb9d38b1-1f09-4188-a13d-c10f5b6bbf75.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071487013-ae69bffd-7e68-40be-a3d7-2ded444e7d3c.png"}]},{style:{marginTop:8},show:!0,title:"图片圆角",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071928529-37497a51-74f6-4024-adec-b7d3c7a06e8c.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071931109-1464ee05-7d82-43a8-9fe1-14f214de16a3.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071933774-201d5370-7fd0-4e97-91ac-cda5b4be45f7.png"}]},{style:{marginTop:8},show:!0,title:"看板娘吐槽",information:"通常在列表尾部出现表示已到底",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661072680253-59856506-ac70-44d7-bba3-fd34fb8ffef3.png"}]},{style:{marginTop:8},show:!0,title:"头像",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073314717-f67e17c1-0ae4-4e19-b61a-4fdaf2eb4bdd.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073326148-8687046a-026a-4217-a3b3-1209dc3470e2.png"}]},{style:{marginTop:8,marginRight:-16},show:!0,title:"字号",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073553895-58817e4e-68c6-4236-9d4b-aef6a2d2eb6b.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073556659-29544f2b-ddef-443f-8d0f-b8f562536bc6.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073559152-353bcac8-6cd2-475b-8826-98288110e9cc.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073561929-ef4508fd-a12b-4c38-bb93-a7d9b0021965.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073564431-15d38cf2-04d1-4514-96cb-2f1c8ddea115.png"}]}]},"./src/screens/_/item/setting-block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IItemSettingBlock",{enumerable:!0,get:function(){return o.IItemSettingBlock}}),t.ItemSettingBlock=void 0,Object.defineProperty(t,"ItemSettingBlockItemProps",{enumerable:!0,get:function(){return o.ItemSettingBlockItemProps}}),Object.defineProperty(t,"ItemSettingBlockProps",{enumerable:!0,get:function(){return o.ItemSettingBlockProps}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/_/item/setting-block/item.tsx")),f=s("./src/screens/_/item/setting-block/styles.ts"),o=s("./src/screens/_/item/setting-block/types.ts"),y=s("./node_modules/react/jsx-runtime.js");(t.ItemSettingBlock=(0,n.ob)(function(e){var t=e.style,s=e.show,r=e.title,n=e.information,o=e.informationType,o=void 0===o?"sub":o,i=e.size,i=void 0===i?16:i,d=e.filter,a=e.thumb,l=e.align,e=e.children;return void 0===s||s?(s=(0,f.memoStyles)(),(0,y.jsxs)(c.Component,{id:"item-setting-block","data-key":r,style:(0,m.stl)(s.container,t),children:[!!r&&(0,y.jsxs)(c.Flex,{children:[(0,y.jsx)(c.Highlight,{type:"title",size:i,bold:!0,value:d,children:r}),!!a&&(0,y.jsx)(c.Touchable,{style:u._.ml.xs,onPress:function(){if(p.STORYBOOK){var e=(0,m.navigationReference)();if(e)return void e.push("Information",{title:r,message:[n],images:a.map(function(e){return e.url})})}(0,m.showImageViewer)(a,0,!0)},children:(0,y.jsx)(c.Iconfont,{name:"md-info-outline",size:16})})]}),!!n&&(0,y.jsx)(c.Highlight,{style:u._.mt.xs,type:o,size:12,lineHeight:14,value:d,children:n}),(0,y.jsx)(c.Flex,{style:u._.mt.md,align:l,children:e})]})):null})).Item=r.default},"./src/screens/_/item/setting-block/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/screens/_/item/setting-block/styles.ts"),_=s("./src/utils/index.ts"),x=s("./node_modules/react/jsx-runtime.js"),s=(0,r.ob)(function(e){var t=e.style,s=e.itemStyle,r=e.show,n=e.active,n=void 0!==n&&n,o=e.icon,i=e.iconStyle,d=e.iconColor,a=e.title,l=e.information,c=e.informationType,c=void 0===c?"sub":c,u=e.filter,m=e.children,e=e.onPress,e=void 0===e?function(){}:e;return void 0===r||r?(r=(0,j.memoStyles)(),(0,x.jsx)(f.Flex.Item,{style:t,children:(0,x.jsx)(f.Touchable,{animate:!0,onPress:e,children:(0,x.jsx)(p.default,{style:(0,_.stl)(r.touch,n&&r.active),children:(0,x.jsxs)(f.Flex,{style:(0,_.stl)(r.body,s),direction:"column",justify:"center",align:"center",children:[!!o&&(0,x.jsx)(f.Iconfont,{style:(0,_.stl)(y._.mb.sm,i),name:o,color:d||y._.colorSub,size:20}),(0,x.jsx)(f.Highlight,{size:15,align:"center",value:u,children:a}),!!l&&(0,x.jsx)(f.Highlight,{style:y._.mt.xs,type:c,size:10,lineHeight:11,align:"center",value:u,children:l}),m]})})})})):null});t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},itemStyle:{defaultValue:null,description:"",name:"itemStyle",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},iconStyle:{defaultValue:null,description:"",name:"iconStyle",required:!1,type:{name:"TextStyle"}},iconColor:{defaultValue:null,description:"",name:"iconColor",required:!1,type:{name:"ColorValue"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"main"'},{value:'"primary"'},{value:'"warning"'},{value:'"bid"'},{value:'"ask"'},{value:'"title"'},{value:'"__plain__"'},{value:'"success"'},{value:'"danger"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting-block/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/setting-block/item.tsx#item"})}catch(e){}},"./src/screens/_/item/setting-block/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingHorizontal:r._._wind,paddingBottom:r._.md},touch:{minWidth:r._.window.contentWidth/5,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},active:{borderColor:r._.colorSuccess},body:{height:76,paddingHorizontal:r._.xs}}})},"./src/screens/_/item/setting-block/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/setting/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{show:!0,hd:"版本",ft:"7.11.1",arrow:!0,arrowStyle:[{marginLeft:8},{marginRight:2}],arrowIcon:"md-open-in-new",arrowSize:18,informationType:"sub",filter:""},{show:!0,hd:"主题",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"画面",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"定制",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"CDN",ft:"开启",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"底栏",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"屏蔽",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"其他",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""}]},"./src/screens/_/item/setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSetting=void 0,Object.defineProperty(t,"ItemSettingProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),g=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),b=s("./src/components/index.ts"),v=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),S=s("./src/constants/index.ts"),O=s("./src/screens/_/item/setting/styles.ts"),n=s("./src/screens/_/item/setting/types.ts"),T=s("./node_modules/react/jsx-runtime.js"),E=["style","contentStyle","show","hd","hdSize","ft","arrow","arrowStyle","arrowIcon","arrowSize","information","informationType","thumb","filter","children","onInfoPress","onPress"],s=t.ItemSetting=(0,r.ob)(function(e){var t=e.style,s=e.contentStyle,r=e.show,r=void 0===r||r,n=e.hd,o=e.hdSize,o=void 0===o?16:o,i=e.ft,d=e.arrow,a=e.arrowStyle,l=e.arrowIcon,l=void 0===l?"md-navigate-next":l,c=e.arrowSize,c=void 0===c?22:c,u=e.information,m=e.informationType,m=void 0===m?"sub":m,p=e.thumb,f=e.filter,y=e.children,j=e.onInfoPress,_=e.onPress,e=(0,x.default)(e,E);return r?(r=(0,O.memoStyles)(),s=(0,T.jsxs)(g.default,{style:(0,h.stl)(r.item,s),children:[(0,T.jsxs)(b.Flex,{children:[(0,T.jsx)(b.Flex.Item,{children:(0,T.jsxs)(b.Flex,{children:[(0,T.jsx)(b.Highlight,{type:"title",size:o,bold:!0,value:f,children:n}),!!p&&(0,T.jsx)(b.Touchable,{style:v._.ml.xs,onPress:function(){if(S.STORYBOOK){var e=(0,h.navigationReference)();if(e)return void e.push("Information",{title:String(n),message:[u],images:p.map(function(e){return e.url})})}(0,h.showImageViewer)(p,0,!0)},children:(0,T.jsx)(b.Iconfont,{name:"md-info-outline",size:16})}),!!j&&(0,T.jsx)(b.Touchable,{style:v._.ml.xs,onPress:j,children:(0,T.jsx)(b.Iconfont,{name:"md-info-outline",size:16})})]})}),"string"==typeof i?(0,T.jsx)(b.Text,{type:"sub",children:i}):i,d&&(0,T.jsx)(b.Iconfont,{style:(0,h.stl)(v._.ml.xs,a),name:l,size:c})]}),(0,T.jsx)(b.Flex,{children:!!u&&(0,T.jsx)(b.Highlight,{style:r.information,type:m,size:12,lineHeight:13,value:f,children:u})}),y]}),_?(0,T.jsx)(b.Component,{id:"item-setting","data-type":"press",children:(0,T.jsx)(b.Touchable,Object.assign({style:(0,h.stl)(r.touchable,t),onPress:_},e,{children:s}))}):(0,T.jsx)(b.Component,Object.assign({id:"item-setting",style:(0,h.stl)(r.touchable,t)},e,{children:s}))):null});try{s.displayName="ItemSetting",s.__docgenInfo={description:"",displayName:"ItemSetting",props:{animate:{defaultValue:null,description:"是否使用缩放动画",name:"animate",required:!1,type:{name:"boolean"}},withoutFeedback:{defaultValue:null,description:"是否无反馈效果",name:"withoutFeedback",required:!1,type:{name:"boolean"}},delay:{defaultValue:null,description:"是否防止快速多次点击",name:"delay",required:!1,type:{name:"boolean"}},scale:{defaultValue:null,description:"点击中动画缩放比例, 默认 0.95",name:"scale",required:!1,type:{name:"number"}},delayPressIn:{defaultValue:null,description:"在 onPressOut 和 onPress 之前的时间",name:"delayPressIn",required:!1,type:{name:"number"}},delayPressOut:{defaultValue:null,description:"松开手后的时间",name:"delayPressOut",required:!1,type:{name:"number"}},highlight:{defaultValue:null,description:"是否高亮反馈效果",name:"highlight",required:!1,type:{name:"boolean"}},useRN:{defaultValue:null,description:"iOS 端此值无变化\n安卓端 Touchable 都使用了 react-native-gesture-handler 提供的封装\n有比 RN 提供的更快的反馈效果，若设置为 true 强制使用 RN 提供的 <Touchable>",name:"useRN",required:!1,type:{name:"boolean"}},ripple:{defaultValue:null,description:"涟漪状的背景（安卓 only）",name:"ripple",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},contentStyle:{defaultValue:null,description:"",name:"contentStyle",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},hd:{defaultValue:null,description:"",name:"hd",required:!1,type:{name:"ReactNode"}},hdSize:{defaultValue:null,description:"",name:"hdSize",required:!1,type:{name:"number"}},ft:{defaultValue:null,description:"",name:"ft",required:!1,type:{name:"ReactNode"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}},arrowStyle:{defaultValue:null,description:"",name:"arrowStyle",required:!1,type:{name:"TextStyle"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"number"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"main"'},{value:'"primary"'},{value:'"warning"'},{value:'"bid"'},{value:'"ask"'},{value:'"title"'},{value:'"__plain__"'},{value:'"success"'},{value:'"danger"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},onInfoPress:{defaultValue:null,description:"",name:"onInfoPress",required:!1,type:{name:"Fn"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting/index.tsx#ItemSetting"]={docgenInfo:s.__docgenInfo,name:"ItemSetting",path:"src/screens/_/item/setting/index.tsx#ItemSetting"})}catch(e){}},"./src/screens/_/item/setting/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{touchable:{paddingLeft:r._._wind},item:{paddingVertical:12,paddingRight:r._._wind},information:{maxWidth:"86%"}}})},"./src/screens/_/item/setting/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSubject=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/_/item/search/index.tsx"),j=s("./src/screens/_/item/subject/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),s=t.ItemSubject=(0,r.ob)(function(e){var t=e.navigation,s=e.event,r=e.index,n=e.subjectId,o=e.type,i=e.subject,d=e.oss,e=e.active,a=(0,j.memoStyles)(),l=i.jp||d.name||m.subjectStore.jp(n),c=i.cn||d.name_cn||m.subjectStore.cn(n);return l||c?(0,_.jsx)(u.Component,{id:"item-subject","data-key":n,style:(0,p.stl)(m._.container.item,e&&a.active),children:(0,_.jsx)(y.ItemSearch,{navigation:t,index:r,id:"/subject/"+n,typeCn:f.MODEL_SUBJECT_TYPE.getTitle(i.type||d.type||o),name:l,nameCn:c,cover:i.image||d.image||m.subjectStore.cover(n),rank:m.subjectStore.ratingRank(n)||i.rank||d.rank,score:m.subjectStore.ratingScore(n)||i.rating.score||(null==(e=d.rating)?void 0:e.score),total:"("+(m.subjectStore.ratingTotal(n)||i.rating.total||(null==(o=d.rating)?void 0:o.total)||0)+")",tip:[i.eps||d.totalEps?(i.eps||d.totalEps)+"话":"",m.subjectStore.date(n)||i.date||d.date,d.origin,d.director].filter(function(e){return!!e}).join(" / ")||"-",collection:m.collectionStore.collect(n),event:s})}):(0,_.jsx)(u.Touchable,{onPress:function(){t.push("Subject",{subjectId:n})},children:(0,_.jsxs)(u.Flex,{style:a.placeholder,direction:"column",justify:"center",children:[(0,_.jsx)(u.Text,{size:15,bold:!0,type:"sub",children:n}),!r&&(0,_.jsx)(u.Text,{style:m._.mt.md,size:12,bold:!0,type:"sub",children:"加载数据中"})]})})});try{s.displayName="ItemSubject",s.__docgenInfo={description:"",displayName:"ItemSubject",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/subject/index.tsx#ItemSubject"]={docgenInfo:s.__docgenInfo,name:"ItemSubject",path:"src/screens/_/item/subject/index.tsx#ItemSubject"})}catch(e){}},"./src/screens/_/item/subject/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{placeholder:{height:n.IMG_HEIGHT_LG},active:{backgroundColor:r._.colorMainLight}}})},"./src/screens/_/item/timeline/avatar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/_/base/index.ts"),l=s("./src/screens/_/item/timeline/ds.ts"),c=s("./src/screens/_/item/timeline/avatar/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.navigation,s=e.p1Text,r=e.userId,n=e.avatarSrc,e=e.event,o=(0,c.memoStyles)();return(0,u.jsx)(i.default,{style:o.avatar,children:!!n&&(0,u.jsx)(d.UserStatus,{userId:r,children:(0,u.jsx)(a.Avatar,{navigation:t,size:l.AVATAR_WIDTH,userId:r,name:s,src:n,event:e})})})});try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},p1Text:{defaultValue:null,description:"",name:"p1Text",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}},avatarSrc:{defaultValue:null,description:"",name:"avatarSrc",required:!0,type:{name:"any"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/avatar/index.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/screens/_/item/timeline/avatar/index.tsx#avatar"})}catch(e){}},"./src/screens/_/item/timeline/avatar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/timeline/ds.ts");t.memoStyles=r._.memoStyles(function(){return{avatar:{width:r._.r(n.AVATAR_WIDTH),marginTop:r._.r(18),marginLeft:r._.wind}}})},"./src/screens/_/item/timeline/desc/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/screens/_/item/timeline/desc/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.navigation,s=e.subject,r=e.subjectId,n=e.image,o=e.comment,i=e.replyContent,d=e.replyCount,a=(e=e.event).id,l=void 0===(e=e.data)?{}:e;return(0,j.jsxs)(j.Fragment,{children:[!!s&&(0,j.jsx)(c.default,{style:m._.mt.sm,children:(0,j.jsx)(u.Katakana.Provider,{children:(0,j.jsx)(u.Katakana,{type:"main",bold:!0,onPress:function(){var e=Object.assign({to:"Subject",subjectId:r},l);r&&m.systemStore.setting.timelinePopable?((0,f.t)("时间胶囊.缩略框",e),m.uiStore.showPopableSubject({subjectId:r})):((0,f.t)(a,e),t.push("Subject",{subjectId:r,_cn:(0,p.findSubjectCn)(s,r),_jp:s,_image:(0,p.getCoverMedium)(!!n.length&&n[0])}))},children:(0,p.findSubjectCn)(s,r)})})}),!!(o||i||d)&&(0,j.jsx)(c.default,{style:m._.mt.sm,children:(0,j.jsx)(u.Expand,{moreStyle:y.styles.more,ratio:.64,children:(0,j.jsx)(u.Text,{lineHeight:20,children:o||i||d})})})]})});try{desc.displayName="desc",desc.__docgenInfo={description:"",displayName:"desc",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"any"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"any"}},replyContent:{defaultValue:null,description:"",name:"replyContent",required:!0,type:{name:"any"}},replyCount:{defaultValue:null,description:"",name:"replyCount",required:!0,type:{name:"any"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/desc/index.tsx#desc"]={docgenInfo:desc.__docgenInfo,name:"desc",path:"src/screens/_/item/timeline/desc/index.tsx#desc"})}catch(e){}},"./src/screens/_/item/timeline/desc/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({more:{paddingHorizontal:0}})},"./src/screens/_/item/timeline/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LIKES_OFFSETS=t.HIDDEN_DS=t.DEFAULT_PROPS=t.AVATAR_WIDTH=t.AVATAR_COVER_WIDTH=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.AVATAR_WIDTH=40,t.AVATAR_COVER_WIDTH=r._.r(40),t.HIDDEN_DS=["1天不看TA","3天不看TA","7天不看TA","重置"],t.DEFAULT_PROPS={navigation:{},styles:{},style:{},full:!1,avatar:{},userId:"",p1:{},p2:{},p3:{text:[],url:[]},p4:{},image:[],comment:"",reply:{},like:{},time:"",star:"",subject:"",subjectId:0,clearHref:"",index:0,event:s.EVENT,onDelete:function(){},onHidden:function(){}},t.LIKES_OFFSETS={x:46}},"./src/screens/_/item/timeline/images/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),l=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/_/base/index.ts"),y=s("./src/screens/_/item/timeline/utils.ts"),j=s("./src/screens/_/item/timeline/ds.ts"),_=s("./src/screens/_/item/timeline/images/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var n=e.type,t=e.image,o=e.p3Text,i=e.p3Url,d=e.onNavigate;return t.length<=1?null:(e=t.map(function(s,r){var e=!String(!!i.length&&i[0]).includes("subject");return(0,x.jsx)(l.default,{children:(0,x.jsx)(c.Touchable,{style:n?_.styles.type:_.styles.image,animate:!0,onPress:function(){var e=!!i.length&&i[r]||"",t=(0,y.matchSubjectId)(e);d(e,{_cn:(0,m.findSubjectCn)(!!o.length&&o[r],t),_jp:!!o.length&&o[r],_name:!!o.length&&o[r],_image:s,_type:n})},children:(0,x.jsx)(f.Cover,{src:s,size:e?j.AVATAR_COVER_WIDTH:p.IMG_WIDTH_SM,height:e?j.AVATAR_COVER_WIDTH:p.IMG_HEIGHT_SM,radius:!0,shadow:!0,type:n})})},s||r)}),t.length<=3?(0,x.jsx)(c.Flex,{style:u._.mt.sm,children:e}):(0,x.jsx)(a.default,Object.assign({style:_.styles.scrollView,contentContainerStyle:_.styles.images,horizontal:!0},p.SCROLL_VIEW_RESET_PROPS,{children:e})))});try{images.displayName="images",images.__docgenInfo={description:"",displayName:"images",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/images/index.tsx#images"]={docgenInfo:images.__docgenInfo,name:"images",path:"src/screens/_/item/timeline/images/index.tsx#images"})}catch(e){}},"./src/screens/_/item/timeline/images/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({scrollView:{marginTop:r._.sm,marginRight:-40},images:{paddingTop:r._.sm,paddingRight:s.STORYBOOK?r._.sm+40:r._.sm,paddingBottom:r._.md},type:{paddingRight:r._.md-2},image:{paddingRight:r._.sm}})},"./src/screens/_/item/timeline/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["leleq"],url:["https://bgm.tv/user/44560"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/39/13/391356.jpg?r=1610550722","//lain.bgm.tv/pic/user/m/000/04/45/44560.jpg?r=1592279114"],comment:"",reply:{content:"",count:"",url:""},time:"7分54秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"想读"},p3:{text:["あかね噺","ルリドラゴン"],url:["https://bgm.tv/subject/368650","https://bgm.tv/subject/384745"]},p4:{text:"2本书"},image:["//lain.bgm.tv/pic/cover/g/23/a2/368650_L2Zad.jpg","//lain.bgm.tv/pic/cover/g/17/48/384745_lItt3.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"45分47秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/25/22/252257.jpg?r=1572229607",url:"https://bgm.tv/user/renkomei"},p1:{text:"Renkomei",url:"https://bgm.tv/user/renkomei"},p2:{text:"想看"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-","天国大魔境","便利屋斎藤さん、異世界に行く"],url:["https://bgm.tv/subject/389474","https://bgm.tv/subject/404804","https://bgm.tv/subject/366165"]},p4:{text:"3部番组"},image:["//lain.bgm.tv/pic/cover/g/ca/b6/389474_tzbrl.jpg","//lain.bgm.tv/pic/cover/g/ba/c9/404804_1sTp8.jpg","//lain.bgm.tv/pic/cover/g/5a/a2/366165_Ds2pa.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时12分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["Ayato"],url:["https://bgm.tv/user/ayato_kanzaki"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/69/47/694706.jpg?r=1653029467","//lain.bgm.tv/pic/user/m/000/39/53/395345.jpg?r=1581063492"],comment:"",reply:{content:"",count:"",url:""},time:"1时35分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/47/37/473749.jpg?r=1612928373",url:"https://bgm.tv/user/kexi"},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"完成了"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:"14 of 14 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"看过"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/37/df/115908_c0uQj.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"9",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.22 声"],url:["https://bgm.tv/subject/ep/1130196"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时50分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/52/69/526953.jpg?r=1680368709&hd=1",url:"https://bgm.tv/user/luv3c111"},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"看过"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/ca/79/425211_bPbra.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"完成了"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:"4 of 4 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.21 俺がいない"],url:["https://bgm.tv/subject/ep/1130195"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时15分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"收藏了"},p3:{text:["内田真礼","黒沢ともよ","高橋李依","内田雄馬","上田麗奈"],url:["https://bgm.tv/person/6724","https://bgm.tv/person/9560","https://bgm.tv/person/17491","https://bgm.tv/person/15390","https://bgm.tv/person/13164"]},p4:{text:"5个人物"},image:["//lain.bgm.tv/pic/crt/s/4c/23/6724_prsn_BTm9m.jpg?r=1673349167","//lain.bgm.tv/pic/crt/s/dd/f8/9560_prsn_pJTJr.jpg","//lain.bgm.tv/pic/crt/s/bd/56/17491_prsn_1PkIP.jpg?r=1642506690","//lain.bgm.tv/pic/crt/s/38/47/15390_prsn_iW2u5.jpg?r=1647787440","//lain.bgm.tv/pic/crt/s/c5/14/13164_prsn_NrGno.jpg?r=1675004027"],comment:"",reply:{content:"",count:"",url:""},time:"2时16分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"看过"},p3:{text:["ep.1 もにょっとした気持ち"],url:["https://bgm.tv/subject/ep/850084"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时25分前 · mobile",star:"",subject:"私に天使が舞い降りた！",subjectId:"249637",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"在看"},p3:{text:["私に天使が舞い降りた！"],url:["https://bgm.tv/subject/249637"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/f3/2d/249637_2r3gw.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时26分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/39/43/394354.jpg?r=1655402789",url:"https://bgm.tv/user/394354"},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"看过"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/31/aa/401960_nQcWc.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"7",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:"15 of 15 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["ダイヤのA"],url:["https://bgm.tv/subject/73083"]},p4:{text:"30 of 75 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时58分前",star:"",subject:"",subjectId:0,clearHref:""}]},"./src/screens/_/item/timeline/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),h=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemTimeline=void 0,Object.defineProperty(t,"ItemTimelineProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),S=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),O=s("./src/utils/dev/index.ts"),T=s("./src/constants/index.ts"),E=r(s("./src/screens/_/item/timeline/item.tsx")),C=s("./src/screens/_/item/timeline/styles.ts"),o=s("./src/screens/_/item/timeline/types.ts"),w=s("./src/components/index.ts"),I=s("./node_modules/react/jsx-runtime.js"),r=t.ItemTimeline=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.full,n=e.avatar,o=e.p1,i=e.p2,d=e.p3,a=e.p4,l=e.image,c=e.comment,u=e.reply,m=e.like,p=e.time,f=e.star,y=e.subject,j=e.subjectId,_=e.clearHref,x=e.index,g=e.event,b=e.onDelete,e=e.onHidden,v=((0,O.rerender)("Component.ItemTimeline"),(0,S.matchUserId)(String((null==n?void 0:n.url)||(null==o?void 0:o.url)).replace(T.HOST,"")));return v in h.timelineStore.hidden&&(0,S.getTimestamp)()<h.timelineStore.hidden[v]?null:(0,I.jsx)(w.Component,{id:"item-timeline","data-key":(null==o?void 0:o.url)+"|"+p,children:(0,I.jsx)(E.default,{navigation:t,styles:(0,C.memoStyles)(),style:s,full:r,avatar:n,userId:v,p1:o,p2:i,p3:d,p4:a,image:l,comment:c,reply:u,like:m,time:p,star:f,subject:y,subjectId:j,clearHref:_,index:x,event:g,onDelete:b,onHidden:e})})});try{r.displayName="ItemTimeline",r.__docgenInfo={description:"",displayName:"ItemTimeline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},full:{defaultValue:null,description:"",name:"full",required:!1,type:{name:"boolean"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"{ url?: string; src?: string; }"}},p1:{defaultValue:null,description:"",name:"p1",required:!1,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!1,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!1,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!1,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!1,type:{name:"{ count: number; url?: string; content?: string; }"}},like:{defaultValue:null,description:"",name:"like",required:!1,type:{name:"{ type: string; mainId: string; relatedId: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!1,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!1,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/index.tsx#ItemTimeline"]={docgenInfo:r.__docgenInfo,name:"ItemTimeline",path:"src/screens/_/item/timeline/index.tsx#ItemTimeline"})}catch(e){}},"./src/screens/_/item/timeline/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.trim.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),M=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),N=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),L=s("./src/components/index.ts"),D=s("./src/stores/index.ts"),V=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),q=s("./src/utils/dev/index.ts"),B=s("./src/constants/index.ts"),F=s("./src/screens/_/base/index.ts"),H=r(s("./src/screens/_/item/timeline/avatar/index.tsx")),Y=r(s("./src/screens/_/item/timeline/desc/index.tsx")),K=r(s("./src/screens/_/item/timeline/images/index.tsx")),z=r(s("./src/screens/_/item/timeline/p/index.tsx")),G=s("./src/screens/_/item/timeline/ds.ts"),U=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}r=(0,n.memo)(function(e){var t,s=e.navigation,r=e.styles,n=e.style,o=e.full,i=e.avatar,d=e.userId,a=e.p1,l=e.p2,c=e.p3,u=e.p4,m=e.image,p=e.comment,f=e.reply,y=e.like,j=e.time,_=e.star,x=e.subject,g=e.subjectId,b=e.clearHref,v=e.index,h=e.event,S=e.onDelete,O=e.onHidden,e=((0,q.rerender)("Component.ItemTimeline.Main"),i.src),i=f.count,T=f.url,f=f.content,E=a.text,a=a.url,l=l.text,C=c.text,w=c.url,c=u.text,I=!!m.length&&m[0],u=!String(!!w.length&&w[0]).includes("subject"),A=3<=m.length,k=(0,M.useCallback)(function(e,t){return(0,V.appNavigate)(e,s,t,h)},[h,s]),P=(0,M.useCallback)(function(){(0,V.confirm)("确定删除?",function(){return S(b)})},[b,S]),R=(null!=l&&l.includes("读")||null!=c&&c.includes("书籍")?t="书籍":null!=l&&l.includes("听")||null!=c&&c.includes("音乐")?t="音乐":(null!=l&&l.includes("玩")||null!=c&&c.includes("游戏"))&&(t="游戏"),84*(v+2));return(0,U.jsxs)(L.Flex,{style:n,align:"start",children:[o?(0,U.jsx)(N.default,{style:D._.mr.md}):(0,U.jsx)(F.InView,{style:r.inView,y:R,children:(0,U.jsx)(H.default,{navigation:s,p1Text:E,userId:d,avatarSrc:e,event:h})},v),(0,U.jsx)(L.Flex.Item,{style:(0,V.stl)(A?r.noPR:r.content,D._.ml.sm),children:(0,U.jsxs)(L.Flex,{align:"start",children:[(0,U.jsxs)(L.Flex.Item,{children:[(0,U.jsxs)(N.default,{style:A&&r.hasPR,children:[(0,U.jsx)(z.default,{image:m,p1Text:E,p1Url:a,p2Text:l,p3Text:C,p3Url:w,p4Text:c,userId:d,avatarSrc:e,onNavigate:k}),(0,U.jsx)(Y.default,{navigation:s,subject:x,subjectId:g,image:m,comment:p,replyContent:f,replyCount:i,event:!0})]}),(0,U.jsx)(F.InView,{y:R,children:(0,U.jsx)(K.default,{type:t,image:m,p3Text:C,p3Url:w,onNavigate:k})},v),(0,U.jsx)(F.Likes,{show:!0,topicId:y.mainId,id:y.relatedId,likeType:y.type,formhash:D.userStore.formhash,offsets:G.LIKES_OFFSETS,onLongPress:D.uiStore.showLikesUsers}),(0,U.jsxs)(L.Flex,{style:1!==m.length||p||i?D._.mt.md:D._.mt.lg,children:[!!i&&(0,U.jsx)(L.Touchable,{animate:!0,scale:.9,onPress:function(){return k(T)},children:(0,U.jsx)(L.Text,{type:"primary",size:12,children:i})}),(0,U.jsx)(L.Text,{style:D._.mr.sm,type:"sub",size:12,numberOfLines:1,children:j.trim().replace(/ ·$/g,"")}),(0,U.jsx)(F.Stars,{value:_})]})]}),(0,U.jsxs)(L.Flex,{align:"start",children:[1===m.length&&(0,U.jsx)(F.InView,{y:R,children:(0,U.jsx)(L.Touchable,{style:r.cover,animate:!0,onPress:function(){k(!!w.length&&w[0],{_jp:!!C.length&&C[0],_name:!!C.length&&C[0],_image:I,_type:t})},children:(0,U.jsx)(F.Cover,{src:I,size:u?G.AVATAR_COVER_WIDTH:B.IMG_WIDTH_SM,height:u?G.AVATAR_COVER_WIDTH:B.IMG_HEIGHT_SM,radius:!0,shadow:!0,type:t})})},v),(0,U.jsx)(N.default,{style:r.menu,children:!B.SHARE_MODE&&(b?(0,U.jsx)(L.Touchable,{style:r.touch,onPress:P,children:(0,U.jsx)(L.Flex,{style:r.extra,justify:"center",children:(0,U.jsx)(L.Iconfont,{name:"md-close",size:18})})}):(0,U.jsx)(F.Popover,{style:r.touch,data:G.HIDDEN_DS,onSelect:function(e){return O(e,d)},children:(0,U.jsx)(L.Flex,{style:r.extra,justify:"center",children:(0,U.jsx)(L.Iconfont,{name:"md-more-vert",size:18})})}))})]})]})})]})},G.DEFAULT_PROPS,function(e){return{style:e.style,styles:e.styles,time:e.time}});t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ inView: { minWidth: number; minHeight: number; }; content: { paddingTop: number; paddingRight: number; paddingBottom: number; }; noPR: { paddingVertical: number; paddingRight: number; }; hasPR: { paddingRight: number; }; menu: { ...; }; touch: { ...; }; cover: { ...; }; extra: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},full:{defaultValue:null,description:"",name:"full",required:!0,type:{name:"boolean"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"{ url?: string; src?: string; }"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},p1:{defaultValue:null,description:"",name:"p1",required:!0,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!0,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!0,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!0,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!0,type:{name:"{ count: number; url?: string; content?: string; }"}},like:{defaultValue:null,description:"",name:"like",required:!0,type:{name:"{ type: string; mainId: string; relatedId: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!0,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!0,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!0,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/timeline/item.tsx#item"})}catch(e){}},"./src/screens/_/item/timeline/p/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),m=s("./src/screens/_/base/index.ts"),f=r(s("./src/screens/_/item/timeline/p3/index.tsx")),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=e.image,s=e.p1Text,r=e.p1Url,n=e.p2Text,o=e.p3Text,i=e.p3Url,d=e.p4Text,a=e.userId,l=e.avatarSrc,c=e.onNavigate;return s||n||null!=o&&o.length||d?(0,y.jsxs)(u.Katakana.Provider,{lineHeight:16,children:[!!s&&(0,y.jsxs)(m.Name,{userId:a,type:"title",lineHeight:16,bold:!0,onPress:function(){return c(r,{_name:s,_image:l})},children:[s," "]}),(0,y.jsxs)(u.Text,{type:"sub",lineHeight:16,children:[n," "]}),(0,y.jsx)(f.default,{image:t,p3Text:o,p3Url:i,onNavigate:c}),!!d&&(0,y.jsxs)(u.Katakana,{type:"sub",lineHeight:16,children:[" ",d]})]}):null});try{p.displayName="p",p.__docgenInfo={description:"",displayName:"p",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p1Text:{defaultValue:null,description:"",name:"p1Text",required:!0,type:{name:"any"}},p1Url:{defaultValue:null,description:"",name:"p1Url",required:!0,type:{name:"any"}},p2Text:{defaultValue:null,description:"",name:"p2Text",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},p4Text:{defaultValue:null,description:"",name:"p4Text",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}},avatarSrc:{defaultValue:null,description:"",name:"avatarSrc",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/p/index.tsx#p"]={docgenInfo:p.__docgenInfo,name:"p",path:"src/screens/_/item/timeline/p/index.tsx#p"})}catch(e){}},"./src/screens/_/item/timeline/p3/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/_/item/timeline/utils.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t,s,o=e.image,r=e.p3Text,i=e.p3Url,d=e.onNavigate,a=null;return 1<r.length?(a=[],r.forEach(function(e,t){var s=String(i[t]),r=s.includes(p.HOST_NAME+"/subject/")&&!s.includes("/ep/"),n=r?(0,f.matchSubjectId)(s):0;a.push((0,y.jsx)(l.Katakana,{type:r?"main":"title",lineHeight:16,bold:!0,onPress:function(){r&&n&&c.systemStore.setting.timelinePopable?((0,m.t)("时间胶囊.缩略框",{to:"Subject",subjectId:n}),c.uiStore.showPopableSubject({subjectId:n})):d(s,r&&{_jp:e,_cn:(0,u.findSubjectCn)(e,n),_name:e,_image:(0,u.getCoverMedium)(o[t]||"")})},children:r?(0,u.findSubjectCn)(e,n):e},e||t),(0,y.jsx)(l.Text,{lineHeight:16,type:"sub",children:"、"},e+"."))}),a.pop()):1===r.length&&(t=!!String(!!i.length&&i[0]).includes(p.HOST_NAME+"/subject/")&&!i[0].includes("/ep/"),s=t?(0,f.matchSubjectId)(!!i.length&&i[0]):0,a=(0,y.jsx)(l.Katakana,{type:t?"main":"title",lineHeight:16,bold:!0,onPress:function(){t&&s&&c.systemStore.setting.timelinePopable?((0,m.t)("时间胶囊.缩略框",{to:"Subject",subjectId:s}),c.uiStore.showPopableSubject({subjectId:s})):d(!!i.length&&i[0],t&&{_jp:!!r.length&&r[0],_cn:(0,u.findSubjectCn)(!!r.length&&r[0],s),_name:!!r.length&&r[0],_image:(0,u.getCoverMedium)(!!o.length&&o[0]||"")})},children:t?(0,u.findSubjectCn)(!!r.length&&r[0],s):!!r.length&&r[0]})),a});try{p3.displayName="p3",p3.__docgenInfo={description:"",displayName:"p3",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/p3/index.tsx#p3"]={docgenInfo:p3.__docgenInfo,name:"p3",path:"src/screens/_/item/timeline/p3/index.tsx#p3"})}catch(e){}},"./src/screens/_/item/timeline/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{inView:{minWidth:40,minHeight:40},content:{paddingTop:r._.md,paddingRight:r._.wind-r._._wind,paddingBottom:r._.md},noPR:{paddingVertical:r._.md,paddingRight:r._.wind-r._._wind},hasPR:{paddingRight:r._._wind},menu:{minWidth:r._._wind},touch:{marginTop:-7,marginRight:r._.xs,borderRadius:20,overflow:"hidden"},cover:{paddingRight:8,marginLeft:r._.md},extra:{width:36,height:36}}})},"./src/screens/_/item/timeline/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/timeline/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.matchSubjectId=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e&&(e=e.match(/\d+/))&&e.length?e[0]:0}},"./src/screens/_/item/voice/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.AVATAR_SIZE=void 0;s=s("./src/stores/index.ts");t.AVATAR_SIZE=s._.r(40)},"./src/screens/_/item/voice/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"97758",name:"運命",nameCn:"命运",cover:"//lain.bgm.tv/pic/crt/s/8c/fe/97758_crt_dzdka.jpg",subject:[{id:"339227",name:"takt op. 運命は真紅き旋律の街を",nameCn:"宿命回响",cover:"//lain.bgm.tv/pic/cover/g/7c/aa/339227_9995K.jpg"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"72355",name:"イレイナ",nameCn:"伊蕾娜",cover:"//lain.bgm.tv/pic/crt/s/35/0e/72355_crt_6Z6zM.jpg",subject:[{id:"292970",name:"魔女の旅々",nameCn:"魔女之旅",cover:"//lain.bgm.tv/pic/cover/g/99/17/292970_mxMxx.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"15180",name:"ルシウス・モデストゥス",nameCn:"路西斯·慕德斯特",cover:"//lain.bgm.tv/pic/crt/s/b1/65/15180_crt_z1vFm.jpg",subject:[{id:"317692",name:"テルマエ・ロマエ ノヴァエ",nameCn:"新罗马浴场",cover:"//lain.bgm.tv/pic/cover/g/64/17/317692_c72WT.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"35956",name:"四葉こころ",nameCn:"四叶心",cover:"//lain.bgm.tv/pic/crt/s/4e/7c/35956_crt_Kr6If.jpg",subject:[{id:"137894",name:"かみさまみならい ヒミツのここたま 第1シリーズ",nameCn:"见习神明 秘密的心灵 第一部",cover:"//lain.bgm.tv/pic/cover/g/38/17/137894_3EEl6.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"36048",name:"野乃本ククル",nameCn:"野乃本库库露",cover:"//lain.bgm.tv/pic/crt/s/7a/69/36048_crt_SBU1P.jpg",subject:[{id:"130093",name:"不思議なソメラちゃん",nameCn:"不思议美眉",cover:"//lain.bgm.tv/pic/cover/g/bb/01/130093_400l0.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"38516",name:"久我山八重",nameCn:"久我山八重",cover:"//lain.bgm.tv/pic/crt/s/9c/0c/38516_crt_FnXpg.jpg",subject:[{id:"167434",name:"ガーリッシュ ナンバー",nameCn:"少女编号",cover:"//lain.bgm.tv/pic/cover/g/9a/31/167434_B0BSn.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40516",name:"煌上花音",nameCn:"煌上花音",cover:"//lain.bgm.tv/pic/crt/s/fe/d5/40516_crt_ahHpU.jpg",subject:[{id:"178624",name:"バトルガール ハイスクール",nameCn:"战斗女子高校",cover:"//lain.bgm.tv/pic/cover/g/06/67/178624_TyPcZ.jpg",staff:"主角"},{id:"120299",name:"バトルガール ハイスクール",nameCn:"战斗女子学园",cover:"//lain.bgm.tv/pic/cover/g/9f/01/120299_ikOqE.jpg",staff:"主角"},{id:"220668",name:"アリス・ギア・アイギス",nameCn:"机战少女 Alice",cover:"//lain.bgm.tv/pic/cover/g/77/83/220668_caojc.jpg",staff:"客串"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40704",name:"ユインシエル・アステリア",nameCn:"尤因谢尔·阿斯特里亚",cover:"//lain.bgm.tv/pic/crt/s/b5/dd/40704_crt_3HgHg.jpg",subject:[{id:"174519",name:"レガリア The Three Sacred Stars",nameCn:"雷加利亚三圣星",cover:"//lain.bgm.tv/pic/cover/g/51/9b/174519_ghelJ.jpg",staff:"主角"}]}]},"./src/screens/_/item/voice/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemVoice=void 0,Object.defineProperty(t,"ItemVoiceProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=s("./src/utils/fetch/index.ts"),n=s("./src/utils/hooks/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/_/base/index.ts"),v=s("./src/screens/_/item/voice/ds.ts"),h=s("./src/screens/_/item/voice/styles.ts"),o=s("./src/screens/_/item/voice/types.ts"),S=s("./node_modules/react/jsx-runtime.js"),r=t.ItemVoice=function(e){var s=e.style,i=e.navigation,t=e.event,d=void 0===t?g.EVENT:t,r=e.index,a=e.id,l=e.name,c=e.nameCn,u=e.cover,t=e.subject,m=e.children,e=(0,n.useExpandLazy)(void 0===t?[]:t,4),p=e.list,f=e.onExpand;return(0,n.useObserver)(function(){var n=(0,h.memoStyles)(),e=(0,_.cnjp)(c,l),t=(0,_.cnjp)(l,c),o=132*r+1,e=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(y.Flex,{style:n.wrap,align:"start",children:[(0,S.jsx)(y.Flex.Item,{flex:1.8,children:(0,S.jsx)(y.Touchable,{animate:!0,onPress:function(){(0,x.t)(d.id,Object.assign({},d.data,{to:"Mono",monoId:a})),i.push("Mono",{monoId:"character/"+a,_name:c,_jp:l,_image:u})},children:(0,S.jsxs)(y.Flex,{align:"start",children:[(0,S.jsx)(b.InView,{style:n.inViewAvatar,y:o,children:(0,S.jsx)(y.Image,{size:v.AVATAR_SIZE,src:u,radius:!0,shadow:!0})}),(0,S.jsxs)(y.Flex.Item,{style:j._.ml.sm,children:[(0,S.jsx)(y.Text,{size:12,bold:!0,children:e}),!!t&&t!==e&&(0,S.jsx)(y.Text,{style:j._.mt.xs,size:11,type:"sub",lineHeight:12,bold:!0,children:t})]})]})})}),(0,S.jsx)(y.Flex.Item,{style:j._.ml.sm,flex:3.2,children:p.map(function(e,t){var s=(0,_.cnjp)(e.nameCn,e.name),r=(0,_.cnjp)(e.name,e.nameCn);return(0,S.jsx)(y.Touchable,{style:0!==t&&j._.mt.md,animate:!0,onPress:function(){(0,x.t)(d.id,Object.assign({},d.data,{to:"Subject",subjectId:e.id})),i.push("Subject",{subjectId:e.id,_jp:e.name,_cn:e.nameCn,_image:e.cover})},children:(0,S.jsxs)(y.Flex,{align:"start",children:[(0,S.jsxs)(y.Flex.Item,{style:j._.mr.md,children:[(0,S.jsx)(y.Text,{align:"right",size:12,bold:!0,children:s}),(0,S.jsx)(y.Text,{style:j._.mt.xs,size:11,type:"sub",align:"right",lineHeight:12,bold:!0,children:r}),(0,S.jsx)(y.Flex,{style:j._.mt.sm,justify:"end",children:(0,S.jsx)(b.Tag,{value:e.staff})})]}),(0,S.jsx)(b.InView,{style:n.inViewCover,y:o,children:(0,S.jsx)(b.Cover,{size:g.IMG_WIDTH_SM,height:g.IMG_HEIGHT_SM,src:e.cover,radius:!0,shadow:!0})})]})},e.id)})})]}),m]});return 4<=p.length?(0,S.jsx)(y.Component,{id:"item-voice","data-key":a,"data-type":"expand",children:(0,S.jsx)(y.Expand,{style:s,ratio:1.8,onExpand:f,children:e})}):(0,S.jsx)(y.Component,{id:"item-voice","data-key":a,style:s,children:e})})};try{r.displayName="ItemVoice",r.__docgenInfo={description:"",displayName:"ItemVoice",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:{value:"{\n  id: '',\n  data: {}\n} as const"},description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"MonoId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},subject:{defaultValue:{value:"[]"},description:"",name:"subject",required:!1,type:{name:"{ id?: SubjectId; name?: string; nameCn?: string; cover?: string; staff?: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/voice/index.tsx#ItemVoice"]={docgenInfo:r.__docgenInfo,name:"ItemVoice",path:"src/screens/_/item/voice/index.tsx#ItemVoice"})}catch(e){}},"./src/screens/_/item/voice/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/_/item/voice/ds.ts");t.memoStyles=r._.memoStyles(function(){return{wrap:{paddingVertical:r._.md,paddingHorizontal:r._.wind},tag:{marginTop:2,marginLeft:r._.xs},inViewAvatar:{minWidth:o.AVATAR_SIZE,minHeight:o.AVATAR_SIZE},inViewCover:{minWidth:n.IMG_WIDTH_SM,minHeight:n.IMG_HEIGHT_SM}}})},"./src/screens/_/item/voice/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/discovery/adv/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/adv/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenADV",t.STATE={query:{first:"",year:2022,dev:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=60,[[],[]]);r.ADV_DEV.forEach(function(e,t){return n[t%2?1:0].push(e)}),t.filterDS=[{title:"首字　",type:"first",data:r.ADV_FIRST},{title:"发行　",type:"year",data:r.ADV_YEAR,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"排序　",type:"sort",data:r.ADV_SORT,always:!0},{title:"收藏",type:"collected",data:r.ADV_COLLECTED}]},"./src/screens/discovery/adv/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/anime/header/index.tsx")),a=r(s("./src/screens/discovery/adv/list/index.tsx")),r=r(s("./src/screens/discovery/adv/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-adv",children:[(0,l.jsx)(d.default,{title:"找 Gal",alias:"Gal",hm:["adv","ADV"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(a.default,{})})]})})});try{adv.displayName="adv",adv.__docgenInfo={description:"",displayName:"adv",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/index.tsx#adv"]={docgenInfo:adv.__docgenInfo,name:"adv",path:"src/screens/discovery/adv/index.tsx#adv"})}catch(e){}},"./src/screens/discovery/adv/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/adv/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"ADV.跳转"};t.default=(0,r.obc)(function(e,t){var s,r=e.pickIndex,n=e.index,e=e.num,t=t.navigation,r=m.otaStore.advSubjectId(r),o=(r=m.otaStore.game(r)).id,i=r.t,d=r.c,a=r.sc,l=r.r,r=r.en;return o?(s=(0,f.memoStyles)(),(0,y.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(n%e)&&s.left,navigation:t,event:j,num:e,id:o,cover:d?"https://lain.bgm.tv/pic/cover/m/"+d+".jpg":p.IMG_DEFAULT,nameCn:i,score:a,rank:l,airtime:r,collection:m.collectionStore.collect(o)})):(n=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:n.width,height:p.IMG_HEIGHT_LG,marginBottom:n.marginLeft+m._.xs,marginLeft:n.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))})},"./src/screens/discovery/adv/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/adv/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=void 0;s=s("./src/stores/index.ts"),s=t.THUMB_WIDTH=s._.device(114,Math.floor(.4*s._.window.contentWidth));t.THUMB_HEIGHT=Math.floor(.56*s)},"./src/screens/discovery/adv/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),g=s("./src/components/index.ts"),b=s("./src/stores/index.ts"),v=s("./src/screens/_/index.ts"),h=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),S=s("./src/utils/fetch/index.ts"),O=s("./src/constants/index.ts"),T=s("./src/screens/discovery/adv/item/ds.ts"),E=s("./src/screens/discovery/adv/item/utils.ts"),C=s("./src/screens/discovery/adv/item/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o,i,d,a=e.index,e=e.pickIndex,l=t.navigation,c=(0,C.memoStyles)(),t=b.otaStore.advSubjectId(e),u=(e=b.otaStore.game(t)).id,m=e.t,t=e.c,p=e.en,f=e.sc,y=e.r,j=e.o,_=e.l,e=e.d;return u?(r=20<=(s=(0,h.HTMLDecode)(m)).length?13:14<=s.length?14:15,n=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":O.IMG_DEFAULT,o=(0,E.getThumbs)(u,_),i=(0,E.getThumbs)(u,_,!1),t=[p,e].filter(function(e){return!!e}).join(" / "),d=b.collectionStore.collect(u),(0,w.jsxs)(g.Touchable,{style:c.container,animate:!0,onPress:function(){l.push("Subject",{subjectId:u,_image:n}),(0,S.t)("ADV.跳转",{subjectId:u})},children:[(0,w.jsxs)(g.Flex,{style:c.wrap,align:"start",children:[(0,w.jsx)(v.Cover,{src:n,width:O.IMG_WIDTH_LG,height:O.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"游戏"}),(0,w.jsxs)(g.Flex,{style:c.content,direction:"column",align:"start",children:[(0,w.jsx)(x.default,{style:c.body,children:(0,w.jsxs)(g.Flex,{style:b._.container.block,align:"start",children:[(0,w.jsxs)(g.Flex.Item,{children:[(0,w.jsx)(g.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,w.jsx)(g.Text,{style:b._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:t}),(0,w.jsxs)(g.Flex,{style:b._.mt.md,wrap:"wrap",children:[(0,w.jsx)(v.Rank,{value:y}),(0,w.jsx)(v.Stars,{style:b._.mr.xs,value:f,simple:!0}),!!j&&(0,w.jsxs)(g.Text,{style:b._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]})]})]}),(0,w.jsx)(v.Manage,{subjectId:u,collection:d,typeCn:"游戏",onPress:function(){b.uiStore.showManageModal({subjectId:u,title:m,status:O.MODEL_COLLECTION_STATUS.getValue(d),action:"玩"},"找游戏")}})]})}),!!o.length&&(0,w.jsx)(x.default,{style:c.thumbs,children:(0,w.jsx)(g.HorizontalList,{data:o.filter(function(e,t){return t<3}),renderItem:function(e,t){return(0,w.jsx)(g.Image,{style:(0,h.stl)(!!t&&b._.ml.sm,t===o.length-1&&b._.mr.md),src:e,size:T.THUMB_WIDTH,height:T.THUMB_HEIGHT,radius:!0,onPress:function(){(0,h.showImageViewer)(i.map(function(e){return{url:e}}),t)}},e)},renderNums:3<i.length&&function(){return(0,w.jsx)(g.Touchable,{onPress:function(){(0,h.showImageViewer)(i.map(function(e){return{url:e}}),3)},children:(0,w.jsx)(g.Flex,{style:c.nums,justify:"center",children:(0,w.jsxs)(g.Text,{size:15,bold:!0,children:["+ ",i.length]})})})}})})]})]}),0===a&&(0,w.jsx)(g.Heatmap,{id:"ADV.跳转"})]})):(0,w.jsx)(g.Flex,{style:c.loading,justify:"center",children:(0,w.jsx)(g.Loading.Raw,{})})})},"./src/screens/discovery/adv/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/discovery/adv/item/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:n.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:o.THUMB_HEIGHT},nums:{width:o.THUMB_HEIGHT,height:o.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:n.IMG_HEIGHT_LG}}})},"./src/screens/discovery/adv/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e?[]:new Array(e).fill("").map(function(e,t){return(0,n.CDN_GAME)(s,t,r)})};var n=s("./src/constants/index.ts")},"./src/screens/discovery/adv/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/adv/item/index.tsx")),x=r(s("./src/screens/discovery/adv/item-grid/index.tsx")),g=s("./src/screens/discovery/adv/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),h=v(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,title:"频道　",name:"ADV",type:"ADV",lastUpdate:j.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,keyExtractor:O,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onADVPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function O(e){return String(e)}try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/adv/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/adv/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/adv/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/adv/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/adv/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,v=!1;t.default=(s=r.default,(0,l.default)(h,s),b=g(h),(0,d.default)(h,[{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.advSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<x.ADVANCE_LIMIT})}}]),(0,p.default)((t=h).prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,p.default)(t.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function h(){var r;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:v})),v){e.next=7;break}return e.next=7,(0,j.init)();case 7:v=!0,y.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"search",function(){setTimeout(function(){var e=r.state.query,e=(0,j.search)(e);r.setState({data:e})},80)}),(0,m.default)((0,a.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(x.NAMESPACE),(0,_.t)("ADV.选择",{type:e,value:t})},0)}),(0,m.default)((0,a.default)(r),"scrollToOffset",null),(0,m.default)((0,a.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("ADV.到顶"))}),(0,m.default)((0,a.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("ADV.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(x.NAMESPACE)}),(0,m.default)((0,a.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(x.NAMESPACE)}),r}},"./src/screens/discovery/anime/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.ADVANCE_LIMIT=void 0;var r=s("./src/constants/index.ts"),n=s("./src/utils/subject/anime/index.ts"),s=s("./src/stores/index.ts"),s=(t.NAMESPACE="ScreenAnime",t.EXCLUDE_STATE={visibleBottom:s._.window.height}),o=(t.STATE=Object.assign({query:{area:"日本",type:"",first:"",year:2023,begin:"",status:"",tags:[],official:"",sort:"评分人数",collected:""},data:r.LIST_EMPTY,layout:"list",expand:!1},s,{_loaded:!1}),t.ADVANCE_LIMIT=120,[[],[]]),i=(n.ANIME_TAGS.forEach(function(e,t){return o[t%2?1:0].push(e)}),[[],[]]);n.ANIME_OFFICIAL.forEach(function(e,t){return i[t%2?1:0].push(e)}),t.filterDS=[{title:"地区",type:"area",data:n.ANIME_AREA},{title:"版本",type:"type",data:n.ANIME_TYPE},{title:"首字",type:"first",data:n.ANIME_FIRST},{title:"年份",type:"year",data:n.ANIME_YEAR,always:!0},{title:"季度",type:"begin",data:n.ANIME_BEGIN,always:!0},{title:"状态",type:"status",data:n.ANIME_STATUS},{title:"类型",type:"tags",data:o,multiple:!0,multiSelect:!0},{title:"制作",type:"official",data:i,multiple:!0},{title:"排序",type:"sort",data:n.ANIME_SORT,always:!0},{title:"收藏",type:"collected",data:n.ANIME_COLLECTED}]},"./src/screens/discovery/anime/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n,r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,e=void 0===(e=e.title)?"Anime":e,s=void 0!==(n=t?null==t?void 0:t.isList:n)||void 0!==(null==t?void 0:t.isList),r=void 0===(null==t?void 0:t.isList)?n:null==t?void 0:t.isList;return(0,a.jsxs)(o.Flex,{style:d._.mr.xs,children:[s&&(0,a.jsx)(i.IconLayout,{style:d._.mr.xs,list:r,onPress:(null==t?void 0:t.switchLayout)||function(){},children:(0,a.jsx)(o.Heatmap,{right:30,id:e+".切换布局"})}),(0,a.jsx)(i.IconHeader,{name:"md-vertical-align-top",onPress:(null==t?void 0:t.scrollToTop)||function(){},children:(0,a.jsx)(o.Heatmap,{id:e+".到顶"})})]})});try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenAnime"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"游戏"'},{value:'"Anime"'},{value:'"文库"'},{value:'"Hentai"'},{value:'"Manga"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/anime/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/anime/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/anime/extra/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.title,r=void 0===(n=e.alias)?"Anime":n,n=e.hm,o=t.$;return(0,a.jsx)(i.Header,{title:void 0===s?"找番剧":s,alias:r,hm:(void 0===n?void 0:n)||["anime","Anime"],headerRight:function(){return(0,a.jsx)(d.default,{$:o,title:r})}})})},"./src/screens/discovery/anime/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/anime/header/index.tsx")),a=r(s("./src/screens/discovery/anime/list/index.tsx")),r=r(s("./src/screens/discovery/anime/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-anime",children:[(0,l.jsx)(d.default,{}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(a.default,{})})]})})});try{anime.displayName="anime",anime.__docgenInfo={description:"",displayName:"anime",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/index.tsx#anime"]={docgenInfo:anime.__docgenInfo,name:"anime",path:"src/screens/discovery/anime/index.tsx#anime"})}catch(e){}},"./src/screens/discovery/anime/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/anime/item-grid/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),x={id:"Anime.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.index,r=e.pickIndex,e=e.num,t=t.navigation,n=(0,j.memoStyles)(),r=f.otaStore.animeSubjectId(r),o=(r=f.otaStore.anime(r)).id,i=r.ageId,d=r.image,a=r.cn,l=r.jp,c=r.score,u=r.begin,r=r.rank;return o?(0,_.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(s%e)&&n.left,event:x,num:e,id:o,aid:i,cover:d?"https://lain.bgm.tv/pic/cover/m/"+d+".jpg":y.IMG_DEFAULT,name:l,nameCn:a,score:c,rank:r,airtime:u?String(u).slice(0,7):"",collection:f.collectionStore.collect(o)}):(t=f._.grid(e),(0,_.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,_.jsx)(m.Loading.Raw,{})}))})},"./src/screens/discovery/anime/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/anime/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),h=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),S=s("./src/stores/index.ts"),O=s("./src/screens/_/index.ts"),T=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),E=s("./src/utils/fetch/index.ts"),C=s("./src/constants/index.ts"),w=s("./src/screens/discovery/anime/item/styles.ts"),I=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o,i=e.index,e=e.pickIndex,d=t.navigation,t=(0,w.memoStyles)(),e=S.otaStore.animeSubjectId(e),a=(e=S.otaStore.anime(e)).id,l=e.ageId,c=e.image,u=e.cn,m=e.jp,p=e.ep,f=e.type,y=e.status,j=e.begin,_=e.tags,x=e.official,g=e.origin,b=e.score,v=e.rank,e=e.total;return a?(r=20<=(s=(0,T.cnjp)(u,m)).length?13:14<=s.length?14:15,n=c?"https://lain.bgm.tv/pic/cover/m/"+c+".jpg":C.IMG_DEFAULT,c=String(_).split(" ").filter(function(e){return!!e&&"暂无"!==e}),_=["TV"===f?"":f,String(p).replace(/\(完结\)|第|\[|\]/g,""),y,j,"暂无"===x?"":x,"暂无"===g?"":g].filter(function(e){return!!e}).join(" / "),o=S.collectionStore.collect(a),(0,I.jsxs)(h.Touchable,{style:t.container,animate:!0,onPress:function(){d.push("Subject",{subjectId:a,_cn:u,_image:n,_aid:l}),(0,E.t)("Anime.跳转",{subjectId:a})},children:[(0,I.jsxs)(h.Flex,{style:t.wrap,align:"start",children:[(0,I.jsx)(O.InView,{style:t.inView,y:.4*S._.window.height+C.IMG_HEIGHT_LG*i,children:(0,I.jsx)(O.Cover,{src:n,width:C.IMG_WIDTH_LG,height:C.IMG_HEIGHT_LG,radius:!0,shadow:!0})}),(0,I.jsxs)(h.Flex.Item,{style:S._.ml.wind,children:[(0,I.jsxs)(h.Flex,{align:"start",children:[(0,I.jsx)(h.Flex.Item,{children:(0,I.jsxs)(h.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,I.jsx)(h.Text,{size:r,bold:!0,numberOfLines:2,children:s}),(0,I.jsx)(h.Text,{style:S._.mt.sm,size:11,lineHeight:14,children:_})]})}),(0,I.jsx)(O.Manage,{subjectId:a,collection:o,onPress:function(){S.uiStore.showManageModal({subjectId:a,title:(0,T.cnjp)(u,m),desc:(0,T.cnjp)(m,u),status:C.MODEL_COLLECTION_STATUS.getValue(o)},"找番剧")}})]}),(0,I.jsxs)(h.Flex,{style:t.bottom,children:[(0,I.jsxs)(h.Flex,{children:[(0,I.jsx)(O.Rank,{value:v}),(0,I.jsx)(O.Stars,{style:S._.mr.xs,value:b,simple:!0}),!!e&&(0,I.jsxs)(h.Text,{style:S._.mr.sm,type:"sub",size:11,bold:!0,children:["(",e,")"]})]}),(0,I.jsx)(h.Flex.Item,{children:(0,I.jsx)(O.Tags,{value:c})})]})]})]}),0===i&&(0,I.jsx)(h.Heatmap,{id:"Anime.跳转"})]})):(0,I.jsx)(h.Flex,{style:t.loading,justify:"center",children:(0,I.jsx)(h.Loading.Raw,{})})})},"./src/screens/discovery/anime/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.58*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},inView:{minWidth:n.IMG_WIDTH_LG,minHeight:n.IMG_HEIGHT_LG},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/anime/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/anime/item/index.tsx")),x=r(s("./src/screens/discovery/anime/item-grid/index.tsx")),g=s("./src/screens/discovery/anime/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),h=v(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,lastUpdate:j.TEXT_UPDATE_ANIME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_ANIME+"，在版本更新前数据不会有任何变化，预计一个季度更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录，通常收录的都是有对应源头的数据。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:O,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,scrollEventThrottle:4,onScroll:e.onScroll,onPage:f.otaStore.onAnimePage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function O(e){return String(e)}try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/anime/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/anime/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/anime/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),n=n(s("./src/utils/store/index.ts")),x=s("./src/utils/subject/anime/index.ts"),g=s("./src/utils/fetch/index.ts"),b=s("./src/utils/dom/index.ts"),v=s("./src/constants/index.ts"),h=s("./src/screens/discovery/anime/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O;t.default=(s=n.default,(0,c.default)(T,s),O=S(T),(0,o.default)(T,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.animeSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<h.ADVANCE_LIMIT})}}]),(0,f.default)((t=T).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function T(){var o;(0,a.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=O.call.apply(O,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)(h.STATE)),(0,p.default)((0,l.default)(o),"init",(0,d.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(h.NAMESPACE);case 2:return t=e.sent,t=Object.assign({},t,h.EXCLUDE_STATE,{_loaded:!1}),Array.isArray(t.tags)||(t.tags=[]),o.setState(t),t=o.params._tags,(t=void 0===t?[]:t).length&&o.initQuery("string"==typeof t?[t]:t),e.next=10,(0,x.init)();case 10:o.search(),j.collectionStore.fetchUserCollectionsQueue(!1),setTimeout(function(){o.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(t){setTimeout(function(){var e=o.state.query,e=(0,x.search)(t||e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(h.NAMESPACE),(0,g.t)("Anime.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){v.STORYBOOK?(0,b.scrollToTop)():"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,g.t)("Anime.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,g.t)("Anime.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onScroll",_.updateVisibleBottom.bind((0,l.default)(o))),o}},"./src/screens/discovery/award/index.tsx":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/react/index.js")),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),b=r(s("./src/screens/discovery/award/web-view/index.web.tsx")),v=r(s("./src/screens/discovery/award/reset-style.ts")),h=s("./src/screens/discovery/award/utils.ts"),S=s("./src/screens/discovery/award/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");function T(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var E,C,w="ScreenAward",I=["2022","2020","2016","2015","2012","2011"],A={},s=(r=p.default.Component,(0,l.default)(k,r),C=T(k),(0,o.default)(k,[{key:"componentDidMount",value:(E=(0,n.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=A[(t=this).year])return this.setState({html:s}),this.onLoad(),e.abrupt("return");e.next=6;break;case 6:if(g.STORYBOOK)return e.next=9,(0,j.getStorage)(w+"|html|"+this.year);e.next=17;break;case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0="";case 12:if(s=e.t0)return this.setState({html:s}),this.onLoad(),e.abrupt("return");e.next=17;break;case 17:this.fetch(),setTimeout(function(){t.onLoad()},3e3);case 19:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"uri",get:function(){var e=this.props.route;return(null==e||null==(e=e.params)?void 0:e.uri)||""}},{key:"year",get:function(){var e=this.uri.split("/");return e[e.length-1]}},{key:"barStyle",get:function(){return!this.state.loading&&I.includes(this.year)?"dark-content":"light-content"}},{key:"source",get:function(){return{html:this.state.html,baseUrl:g.HOST}}},{key:"render",value:function(){var e=this.state,t=e.loading,s=e.redirectCount,e=e.html;return(0,O.jsx)(f.Component,{id:"screen-award",children:(0,O.jsxs)(f.Page,{style:S.styles.container,children:[t&&(0,O.jsxs)(f.Loading,{style:S.styles.loading,color:y._.__colorPlain__,children:[(0,O.jsx)(f.Text,{style:y._.mt.md,size:13,type:y._.select("plain","title"),children:s?"第"+s+"次重试":"网页加载中, 请稍等"}),(0,O.jsx)(f.Text,{style:S.styles.extra,size:10,type:y._.select("plain","title"),onPress:this.onOpen,children:"或点这里使用浏览器打开"})]}),!!e&&(0,O.jsx)(b.default,{source:this.source,onLoad:this.onLoad,onError:this.onError,onMessage:this.onMessage}),(0,O.jsx)(f.Track,{title:"年鉴",hm:["award/"+this.year,"Award"]}),(0,O.jsx)(f.Heatmap,{id:"年鉴",screen:"Award"}),(0,O.jsx)(f.Heatmap,{right:80,bottom:40,id:"年鉴.跳转",transparent:!0})]})})}}]),k);function k(){var o;(0,d.default)(this,k);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=C.call.apply(C,[this].concat(s)),(0,m.default)((0,a.default)(o),"state",{loading:!0,redirectCount:0,html:""}),(0,m.default)((0,a.default)(o),"loaded",!1),(0,m.default)((0,a.default)(o),"redirectCount",0),(0,m.default)((0,a.default)(o),"fetch",(0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.fetchHTML)({url:g.HOST+"/award/"+o.year});case 3:t=e.sent,t=(t="2022"!=o.year?(0,j.removeCF)(t):t).replace(/>\s+</g,"><"),t=((t="2022"!=o.year?t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):t).replace(/href="javascript:void\(0\)"/g,"").replace(/<div id="headerNeue2">(.+?)<div id="awardWrapper"/g,'<div id="awardWrapper"').replace(/<div class="shareBtn">(.+?)<\/div>/,"").replace(/<div id="dock">(.+?)<div id="robot"/g,'<div id="robot"').replace(/<div id="main" class="png_bg"><div id="footer">(.+?)<\/div><div class="homeBg">/g,'</div><div class="homeBg">').replace(/\/r\/400\/pic/g,"/r/200/pic")+"<style>"+v.default[o.year]+"</style><script>"+h.injectedStaticJavaScript+"<\/script>").replace(/\/r\/400\/pic/g,"/r/200/pic"),A[o.year]=t,o.setState({html:t}),g.STORYBOOK&&(0,j.setStorage)(w+"|html|"+o.year,t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o.onError();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))),(0,m.default)((0,a.default)(o),"onError",function(){var e=o.props.navigation;(0,j.info)("网络似乎出了点问题"),e.goBack()}),(0,m.default)((0,a.default)(o),"onOpen",function(){(0,j.open)(o.uri)}),(0,m.default)((0,a.default)(o),"onMessage",(t=(0,n.default)(i.mark(function e(t){var s,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=o.props.navigation,e.prev=1,n=JSON.parse(t.nativeEvent.data),r=n.type,n=n.data,e.t0=r,e.next="onclick"===e.t0?6:8;break;case 6:return n&&n.href&&(0,j.appNavigate)(n.href,s,{},{id:"年鉴.跳转",data:{year:o.year}}),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(1),o.onError();case 14:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(o),"onLoad",function(){return o.setState({loading:!1})}),o}t.default=(0,_.ob)(s);try{award.displayName="award",award.__docgenInfo={description:"",displayName:"award",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: { uri?: string; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/index.tsx#award"]={docgenInfo:award.__docgenInfo,name:"award",path:"src/screens/discovery/award/index.tsx#award"})}catch(e){}},"./src/screens/discovery/award/reset-style.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s=20*1.32+"vw";function r(e){return e.replace(/;/g," !important;")}t.default={2020:r("\n    .pattern_bgm38:before {\n      animation: initial;\n    }\n  "),2019:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n\n    /* 标签 */\n    #chl_crt span.tags,\n    #chl_community span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n  "),2018:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n    /* 标签 */\n    #chl_crt span.tags,\n    #chl_community span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n  "),2017:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n  "),2016:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 大标题 */\n    #headerVertical {\n      width: 100%;\n    }\n    /* 个人 */\n    #personalStatsWrapper .columns,\n    #personalStatsWrapper .columnStats {\n      width: 100%;\n    }\n    /* 频道 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 0 0 0 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    .channelStatsWrapper .columns {\n      margin-top: 0;\n    }\n    .channelStatsWrapper ul.listRank li,\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 5px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding-left: 8px;\n    }\n    .channelStatsWrapper div.topicRank span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n    /* 帖子 */\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n    }\n    /* 底部 */\n    #awardOMT h2.channelSbjTitle {\n      padding: 100px 0;\n      font-size: 36px;\n    }\n    #awardFooter .inner {\n      padding: 20px 8px;\n      width: 100%;\n      font-size: 14px;\n    }\n    #awardSpecial {\n      padding: 16px 0 50px 16px;\n    }\n    #awardSpecial h2.channelSbjTitle {\n      padding: 50px 0 0 0;\n    }\n    #awardSpecial p.bubble {\n      width: 80%;\n    }\n    #awardSpecial p.sign {\n      width: 100%;\n    }\n  "),2015:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #awardWrapper,\n    #chl_community {\n      background: #f3f2ee;\n    }\n    /* 大标题 */\n    #headerVertical {\n      display: none;\n    }\n    #headerVertical {\n      width: 100%;\n    }\n    #headerAward h1 {\n      width: 100%;\n      background-size: contain;\n    }\n    /* 频道 */\n    .channelStatsWrapper {\n      padding-top: 20px;\n      border: 10px solid #f3f2ee;\n    }\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid h3.chl {\n      font-size: 28px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n      border: 0;\n    }\n    .channelStatsWrapper .columnGrid h3,\n    .channelStatsWrapper ul.listRank li dl dt {\n      animation: initial;\n    }\n    /* 章节 */\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 5px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding: 0 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n      border: 0;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n    .columnGrid ul.grid li span.avatar {\n      border: 0;\n    }\n    /* 条目创建 */\n    .columnGrid ul.grid li.avatar span.title {\n      color: #444;\n    }\n    #chl_community a,\n    #chl_community span.tip_i {\n      color: #444;\n    }\n    // #headerAward div.musume,\n    #awardFooter {\n      display: none;\n    }\n  "),2014:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerVertical {\n      width: 100%;\n      padding: 40px 0;\n    }\n    /* 章节 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 关注榜 */\n    .channelStatsWrapper ul.listRank li,\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 年度章节 */\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding: 0 8px;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n  "),2013:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 章节 */\n    .channelStatsWrapper {\n      padding-top: 40px;\n    }\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n      border: 0;\n    }\n    /* 榜单 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n    .columnGrid ul.grid li span.avatar {\n      border: 0;\n    }\n  "),2012:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerAward h1 {\n      padding: 20px 0;\n      background-size: contain;\n    }\n    #awardNav {\n      display: none;\n    }\n    /* 章节 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    .channelStatsWrapper .columnGrid {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 榜单 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n  "),2011:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 榜单 */\n    .channelStatsWrapper .columns {\n      padding: 0;\n      width: 100%;\n    }\n    .channelStatsWrapper .columnGrid {\n      width: 100%;\n      margin: 0;\n    }\n    .channelStatsWrapper .columnGrid h3 {\n      margin: 0;\n      padding: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid {\n      padding: 0 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 章节 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tip_i {\n      display: block;\n      padding: 8px;\n    }\n    /* 人物 */\n    .channelStatsWrapper .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: 20vw;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.avatar span.overlay {\n      width: 100%;\n      height: 100%;\n    }\n  "),2010:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerAward div.inner {\n      width: 100%;\n    }\n    /* 榜单 */\n    .columnsAward {\n      width: 100%;\n    }\n    #columnChartSubject {\n      width: 100%;\n      padding: 8px;\n    }\n    ul.chartTopList li {\n      padding-right: 0;\n      margin-right: 20px;\n    }\n    ul.chartTopList li img.cover {\n      width: 28vw;\n      height: 28vw;\n    }\n    ul.chartSecList li {\n      width: 50%;\n    }\n    #columnChartSubject a.outerlink {\n      display: none;\n    }\n    /* 章节 */\n    #columnChartUser {\n      width: 100%;\n    }\n    /* 标签 */\n    .tip_i {\n      display: block;\n      padding: 8px;\n    }\n  ")}},"./src/screens/discovery/award/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var s=s("./src/stores/index.ts"),r="rgb(0, 0, 0)";t.styles=s._.create({container:{backgroundColor:r},loading:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:r},extra:{maginTop:s._.sm,opacity:.6},webview:{paddingTop:s._.statusBarHeight,backgroundColor:r}})},"./src/screens/discovery/award/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.injectedStaticJavaScript=void 0;var r=s("./src/utils/index.ts"),s=s("./src/constants/index.ts");t.injectedStaticJavaScript=(0,r.HTMLTrim)("(function(){\n  setTimeout(() => {\n    /* webview的postMessage不是马上生效的 */\n    var __timeoutId = null;\n    var __isBridgeOk = false;\n\n    function waitForBridge() {\n      if (!__isBridgeOk && !window"+(36<=s.SDK?".ReactNativeWebView":"")+'.postMessage) {\n        __timeoutId = setTimeout(waitForBridge, 400);\n      } else {\n        clearTimeout(__timeoutId);\n        __timeoutId = null;\n        __isBridgeOk = true;\n\n        setTimeout(() => {\n          /* 由于现在安卓的webview没有能阻止跳转的办法, 把href抹掉后加postMessage解决 */\n          var aNodes = document.getElementsByTagName("a");\n          for (let i = 0; i < aNodes.length; i++) {\n            let href = aNodes[i].href;\n            if (href) {\n              aNodes[i].setAttribute("data-href", aNodes[i].href);\n              aNodes[i].removeAttribute("href");\n              aNodes[i].addEventListener("click", function () {\n                window'+(36<=s.SDK?".ReactNativeWebView":"")+'.postMessage(JSON.stringify({\n                  type: "onclick",\n                  data: {\n                    href: href,\n                  }\n                }));\n              })\n            }\n          }\n        }, 0);\n      }\n    }\n\n    waitForBridge();\n  }, 1000)\n}());')},"./src/screens/discovery/award/web-view/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/hooks/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),l="screen-award-web-view";function c(e){e=e.source,(0,i.useMount)(function(){setTimeout(function(){document.querySelector("."+l).addEventListener("click",function(e){e.target.closest("a."+l+"__link")&&(e.preventDefault(),e=e.target.closest("a").getAttribute("data-href"),(0,o.appNavigate)(e,(0,o.navigationReference)()))})},4e3)}),e=e.html.replace(/<(script)\b[^<]*(?:(?!<\/(script)>)<[^<]*)*<\/(script)>/g,"").replace('<link rel="preconnect" href="https://fonts.googleapis.com">',"").replace('<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>',"").replace('<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;900&display=swap" rel="stylesheet">',"").replace(/href="\//g,'href="'+d.HOST+"/").replace(/src="\/img\/no_icon_subject.png"/g,'src="'+d.IMG_DEFAULT+'"').replace(/<a href="/g,'<a class="'+l+'__link" data-href="');return(0,a.jsx)(n.ScrollView,{children:(0,a.jsx)("div",{className:l,dangerouslySetInnerHTML:{__html:e}})})}t.default=c;try{c.displayName="WebView",c.__docgenInfo={description:"",displayName:"WebView",props:{source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/web-view/index.web.tsx#WebView"]={docgenInfo:c.__docgenInfo,name:"WebView",path:"src/screens/discovery/award/web-view/index.web.tsx#WebView"})}catch(e){}},"./src/screens/discovery/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATE=t.NAMESPACE=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),s=s("./src/constants/index.ts");t.NAMESPACE="ScreenDiscoveryBlog",t.STATE={page:0,show:!0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},_loaded:!1},t.TABS=[{title:"全部",key:"all"}].concat((0,r.default)(s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}})))},"./src/screens/discovery/blog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),l=["浏览器查看"];d.STORYBOOK||l.push("网页版查看");t.default=(0,r.ob)(function(){return(0,a.jsx)(n.Header,{title:"日志",alias:"全站日志",hm:["discovery/blog","DiscoveryBlog"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:l,onSelect:function(e){(0,i.t)("全站日志.右上角菜单",{key:e}),"浏览器查看"===e?(0,o.open)("https://bgm.tv/blog"):"网页版查看"===e&&(e=d.URL_SPA+"/"+(0,o.getSPAParams)("DiscoveryBlog"),(0,o.open)(e))},children:(0,a.jsx)(n.Heatmap,{id:"全站日志.右上角菜单"})})}})})},"./src/screens/discovery/blog/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"全站日志.标签页切换",transparent:!0}),(0,i.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"全站日志.标签页点击",transparent:!0})]})})},"./src/screens/discovery/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/blog/header/index.tsx")),a=r(s("./src/screens/discovery/blog/tabs/index.tsx")),l=r(s("./src/screens/discovery/blog/heatmaps/index.tsx")),r=r(s("./src/screens/discovery/blog/store.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-discovery-blog",children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,c.jsx)(a.default,{}),(0,c.jsx)(l.default,{})]})]})})});try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/blog/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=t.EVENT=void 0;t.EVENT={id:"全站日志.跳转"},t.HEATMAPS={prev:"全站日志.上一页",next:"全站日志.下一页",search:"全站日志.页码跳转"}},"./src/screens/discovery/blog/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/react/index.js")),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/blog/list/ds.ts"),y=s("./src/screens/discovery/blog/list/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}s=l.default.Component,(0,i.default)(g,s),x=_(g),(0,o.default)(g,[{key:"renderPagination",value:function(){var e=this.context.$,t=this.props.type,s=e.state.ipt;return(0,j.jsx)(u.Pagination,{style:this.styles.pagination,input:s[t],heatmaps:f.HEATMAPS,onPrev:e.prev,onNext:e.next,onChange:e.onChange,onSearch:e.doSearch})}},{key:"render",value:function(){var e=this.context.$,t=this.props.type,s=e.state.show,r=e.blog(t),n=r.list,r=r._loaded;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.ScrollView,{scrollToTop:t===e.type,keyboardDismissMode:"on-drag",children:s&&(0,j.jsx)(j.Fragment,{children:r?(0,j.jsx)(c.default,{style:this.styles.container,children:n.map(function(e){return(0,j.jsx)(m.ItemBlog,Object.assign({style:p._.container.item,event:f.EVENT},e),e.id)})}):(0,j.jsx)(c.default,{style:this.styles.container,children:(0,j.jsx)(u.Loading,{})})})}),this.renderPagination()]})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]);var x,l=g;function g(){return(0,n.default)(this,g),x.apply(this,arguments)}t.default=(0,r.obc)(l);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"all"'},{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/blog/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/blog/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{minHeight:.75*r._.window.height},pagination:{marginTop:r._.xs,marginBottom:n.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}}})},"./src/screens/discovery/blog/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/screens/discovery/blog/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var g;t.default=(s=r.default,(0,l.default)(b,s),g=x(b),(0,d.default)(b,[{key:"type",get:function(){var e=this.state.page;return _.TABS[e].key}},{key:"blog",value:function(t){var s=this.state.currentPage;return(0,p.computed)(function(){var e=f.discoveryStore.blog(t,s[t]);return f.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,y.x18s)(e.title)})}):e}).get()}}]),b);function b(){var r;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=g.call.apply(g,[this].concat(t)),(0,m.default)((0,a.default)(r),"state",(0,p.observable)(_.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(_.NAMESPACE);case 2:return t=e.sent,r.setState(Object.assign({},t,{show:!0,_loaded:!0})),e.abrupt("return",r.fetchBlog());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"fetchBlog",function(){var e=r.state.currentPage;return f.discoveryStore.fetchBlog({type:r.type,page:e[r.type]})}),(0,m.default)((0,a.default)(r),"onTabChange",function(e){e!==r.state.page&&((0,j.t)("全站日志.标签页切换"),r.setState({page:e}),r.setStorage(_.NAMESPACE),r.tabChangeCallback(e))}),(0,m.default)((0,a.default)(r),"tabChangeCallback",function(e){e=_.TABS[e].key;r.blog(e)._loaded||r.fetchBlog()}),(0,m.default)((0,a.default)(r),"onShow",function(){setTimeout(function(){r.setState({show:!0}),r.setStorage(_.NAMESPACE)},400)}),(0,m.default)((0,a.default)(r),"prev",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];1!==t[r.type]&&((0,j.t)("全站日志.上一页",{type:r.type,page:s-1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s-1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s-1)))}),r.fetchBlog(),r.onShow())}),(0,m.default)((0,a.default)(r),"next",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];(0,j.t)("全站日志.下一页",{type:r.type,page:s+1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s+1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s+1)))}),r.fetchBlog(),r.onShow()}),(0,m.default)((0,a.default)(r),"onChange",function(e){var e=e.nativeEvent.text,t=r.state.ipt;r.setState({ipt:Object.assign({},t,(0,m.default)({},r.type,e))})}),(0,m.default)((0,a.default)(r),"doSearch",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=""===e[r.type]?1:parseInt(e[r.type]);s<1?(0,y.info)("请输入正确页码"):((0,j.t)("全站日志.页码跳转",{type:r.type,page:s}),r.setState({currentPage:Object.assign({},t,(0,m.default)({},r.type,s)),show:!1,ipt:Object.assign({},e,(0,m.default)({},r.type,String(s)))}),r.fetchBlog(),r.onShow())}),r}},"./src/screens/discovery/blog/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/blog/list/index.tsx")),a=s("./src/screens/discovery/blog/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,l.jsx)(n.TabsV2,{style:o._.mt._sm,routes:a.TABS,page:s,backgroundColor:o._.colorPlain,renderItem:function(e){return(0,l.jsx)(d.default,{type:e.key},e.key)},onChange:t.onTabChange},o._.orientation)});try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/blog/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/browser/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/browser/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/browser/component/item/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Grid"),t.EVENT={id:"索引.跳转",data:{type:"grid"}}},"./src/screens/discovery/browser/component/item/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/discovery/browser/component/item/grid/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,n=String(s.id).replace("/subject/",""),o=d._.portrait(3,5);return(0,c.jsx)(i.ItemCollectionsGrid,Object.assign({style:(d._.isPad||d._.isLandscape)&&!(e%o)&&d._.container.left,navigation:t,num:o,collection:d.collectionStore.collect(n),event:l.EVENT},s,{isCollect:s.collected,isRectangle:"音乐"===a.MODEL_SUBJECT_TYPE.getTitle(r)}))},l.COMPONENT)},"./src/screens/discovery/browser/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/browser/component/item/grid/index.tsx")),i=r(s("./src/screens/discovery/browser/component/item/list/index.tsx")),r=s("./src/screens/discovery/browser/component/item/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.item,e=e.index;return t.$.isList?(0,d.jsx)(i.default,{item:s,index:e}):(0,d.jsx)(o.default,{item:s,index:e})},r.COMPONENT)},"./src/screens/discovery/browser/component/item/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"索引.跳转",data:{type:"list"}}},"./src/screens/discovery/browser/component/item/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./src/screens/discovery/browser/component/item/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,n=String(s.id).replace("/subject/","");return(0,l.jsx)(o.ItemSearch,Object.assign({style:i._.container.item,navigation:t,event:a.EVENT,index:e},s,{typeCn:d.MODEL_SUBJECT_TYPE.getTitle(r),collection:i.collectionStore.collect(n)}))},a.COMPONENT)},"./src/screens/discovery/browser/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/browser/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/app/index.ts"),d=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),l=s("./src/screens/discovery/browser/component/list/utils.tsx"),r=s("./src/screens/discovery/browser/component/list/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s;return(t=t.$).list._loaded&&t.state.show?(s=t.isList?void 0:o._.portrait(3,5),(0,c.jsx)(n.ListView,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,numColumns:s,data:t.list,lazy:9,ListHeaderComponent:!t.state.fixed&&(0,c.jsx)(a.default,{}),renderItem:l.renderItem,scrollToTop:!0,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchBrowser},""+t.state.layout+s)):(0,c.jsxs)(c.Fragment,{children:[!t.state.fixed&&(0,c.jsx)(a.default,{}),(0,c.jsx)(n.Loading,{})]})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/browser/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/browser/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/browser/component/item/index.tsx"))),o=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,o.jsx)(n.default,{item:t,index:e})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/browser/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/back.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.ToolBar.Icon,{icon:"md-arrow-back",iconColor:o._.colorDesc,onSelect:t.onAirdatePrev})});try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/back.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/discovery/browser/component/tool-bar/back.tsx#back"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/browser/component/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=i.MODEL_SUBJECT_TYPE.getTitle(s);return(0,d.jsx)(n.ToolBar.Popover,{data:i.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:o._.colorDesc,text:s,type:"desc",heatmap:"索引.类型选择",onSelect:t.onTypeSelect})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/browser/component/tool-bar/back.tsx")),a=r(s("./src/screens/discovery/browser/component/tool-bar/filter.tsx")),l=r(s("./src/screens/discovery/browser/component/tool-bar/month.tsx")),c=r(s("./src/screens/discovery/browser/component/tool-bar/more.tsx")),u=r(s("./src/screens/discovery/browser/component/tool-bar/next.tsx")),m=r(s("./src/screens/discovery/browser/component/tool-bar/year.tsx")),r=s("./src/screens/discovery/browser/component/tool-bar/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return t=t.$,(0,p.jsxs)(n.ToolBar,{style:!t.isList&&o._.mb.xs,children:[(0,p.jsx)(a.default,{}),(0,p.jsx)(d.default,{}),(0,p.jsx)(m.default,{}),(0,p.jsx)(l.default,{}),(0,p.jsx)(u.default,{}),(0,p.jsx)(c.default,{})]})},r.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,d.jsx)(o.ToolBar.Popover,{data:["全部"].concat((0,n.default)(i.DATA_BROWSER_MONTH)),text:s+"月"||0,type:"desc",heatmap:"索引.月选择",onSelect:t.onMonthSelect})});try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/browser/component/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).layout,n=t.fixed,t=t.collected;return(0,d.jsx)(o.ToolBar.Popover,{data:["选项 · "+(n?"锁定上方":"浮动"),"布局 · "+("list"===r?"列表":"网格"),"收藏 · "+(t?"显示":"不显示")],icon:"md-more-vert",iconColor:i._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleFixed():e.includes("布局")?s.switchLayout():e.includes("收藏")?s.onToggleCollected():void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/browser/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/next.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.ToolBar.Icon,{icon:"md-arrow-forward",iconColor:o._.colorDesc,onSelect:t.onAirdateNext})});try{next.displayName="next",next.__docgenInfo={description:"",displayName:"next",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/next.tsx#next"]={docgenInfo:next.__docgenInfo,name:"next",path:"src/screens/discovery/browser/component/tool-bar/next.tsx#next"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_BROWSER_AIRTIME,text:s||"年",type:"desc",heatmap:"索引.年选择",onSelect:t.onAirdateSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/browser/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/browser/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DATE=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=(t.COMPONENT="Browser",t.NAMESPACE="ScreenBrowser",t.DATE=new Date),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,sort:"date",show:!0,ota:{}};t.STATE=Object.assign({type:s.MODEL_SUBJECT_TYPE.getLabel("动画"),airtime:n.getFullYear(),month:n.getMonth()+1,layout:"list",fixed:!1,collected:!0},r,{_loaded:!1})},"./src/screens/discovery/browser/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/discovery/browser/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);n.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/browser/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=s("./src/constants/index.ts"),a=s("./src/screens/discovery/browser/header/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,l.jsx)(n.Header,{title:"索引",hm:[s.url,"Browser"],headerRight:function(){return(0,l.jsx)(n.Flex,{children:(0,l.jsx)(n.Header.Popover,{data:a.DATA,onSelect:function(e){(0,i.t)("索引.右上角菜单",{key:e}),e===a.TEXT_BROWSER?(0,o.open)(s.url):e===a.TEXT_SPA&&(e=d.URL_SPA+"/"+(0,o.getSPAParams)("Browser"),(0,o.open)(e))},children:(0,l.jsx)(n.Heatmap,{id:"索引.右上角菜单"})})})}})},a.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/browser/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/browser/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/browser/component/list/index.tsx")),a=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/browser/header/index.tsx")),r=r(s("./src/screens/discovery/browser/store.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-browser",children:[(0,c.jsx)(l.default,{}),(0,c.jsxs)(n.Page,{children:[s.state.fixed&&(0,c.jsx)(a.default,{}),s.state._loaded&&(0,c.jsx)(d.default,{})]})]})})});try{browser.displayName="browser",browser.__docgenInfo={description:"",displayName:"browser",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/index.tsx#browser"]={docgenInfo:browser.__docgenInfo,name:"browser",path:"src/screens/discovery/browser/index.tsx#browser"})}catch(e){}},"./src/screens/discovery/browser/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),d=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),v=s("./src/screens/discovery/browser/ds.ts"),h=["collected"];function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T=[];t.default=(s=r.default,(0,c.default)(E,s),O=S(E),(0,o.default)(E,[{key:"airtime",get:function(){var e=this.state,t=e.airtime,e=e.month;return e&&"不选择"!==e?t+"-"+e:String(t)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"browser",get:function(){var t,e=this.state,s=e.type,e=e.sort,s=j.tagStore.browser(s,this.airtime,e);return j.userStore.isLimit?(t=0,e=s.list.filter(function(e){e=(0,_.x18)(e.id);return e&&(t+=1),!e}),Object.assign({},s,{list:e,_filter:t})):s}},{key:"list",get:function(){return this.browser._loaded?this.state.collected?this.browser:Object.assign({},this.browser,{list:this.browser.list.filter(function(e){return!e.collected})}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):b.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.type,e=e.sort;return(0,b.HTML_BROSWER)(t,this.airtime,1,e)}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.type,e=e.sort;return"browser_"+[t,this.airtime,e].join("_")}}]),(0,f.default)((t=E).prototype,"airtime",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"airtime"),t.prototype),(0,f.default)(t.prototype,"ota",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,f.default)(t.prototype,"browser",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"browser"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,f.default)(t.prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"thirdPartyKey",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function E(){var o;(0,a.default)(this,E);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=O.call.apply(O,[this].concat(s)),(0,p.default)((0,l.default)(o),"state",(0,y.observable)(v.STATE)),(0,p.default)((0,l.default)(o),"init",(0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(v.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,o.setState(Object.assign({},t,{airtime:t.airtime||v.DATE.getFullYear(),month:t.month||v.DATE.getMonth()+1},v.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",o.fetchBrowser(!0));case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"onHeaderRefresh",function(){return o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"save",function(){return o.saveStorage(v.NAMESPACE,v.EXCLUDE_STATE)}),(0,p.default)((0,l.default)(o),"fetchBrowser",(t=(0,d.default)(i.mark(function e(t){var s,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&o.fetchThirdParty(),n=o.state,r=n.type,n=n.sort,e.next=4,j.tagStore.fetchBrowser({type:r,airtime:o.airtime,sort:n},t);case 4:return(s=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(n=(null==(r=o.ota)?void 0:r.ts)||0,604800<=(0,_.getTimestamp)()-n)&&o.updateThirdParty(),setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(s.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,l.default)(o),"fetchThirdParty",(0,d.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.tagStore.init("browser");case 2:setTimeout((0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.browser._loaded){e.next=8;break}return e.next=3,(0,g.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,p.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,p.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,_.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)})),80);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"updateThirdParty",(0,d.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,g.update)(o.thirdPartyKey,{list:o.browser.list.map(function(e){e.collected;return(0,n.default)(e,h)})}),T.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"resetScrollView",function(){o.setState({show:!1}),setTimeout(function(){o.setState({show:!0}),o.save()},40)}),(0,p.default)((0,l.default)(o),"onTypeSelect",function(e){(0,x.t)("索引.类型选择",{type:e}),o.setState({type:b.MODEL_SUBJECT_TYPE.getLabel(e)}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"onAirdateSelect",function(e){(0,x.t)("索引.年选择",{airtime:e}),o.setState({airtime:"全部"===e?"":e}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"onMonthSelect",function(e){o.state.airtime?((0,x.t)("索引.月选择",{month:e}),o.setState({month:"全部"===e?"":e}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onAirdatePrev",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),1==s?(--e,t=12):--t,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)-1}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onAirdateNext",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),12==s?(e+=1,t=1):t+=1,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)+1}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onOrderSelect",function(e){o.setState({sort:b.MODEL_BROWSER_SORT.getValue(e)}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("索引.切换布局",{layout:e}),o.setState({layout:e}),o.save()}),(0,p.default)((0,l.default)(o),"onToggleFixed",function(){var e=o.state.fixed;o.setState({fixed:!e}),o.save()}),(0,p.default)((0,l.default)(o),"onToggleCollected",function(){var e=o.state.collected;o.setState({collected:!e}),o.save()}),(0,p.default)((0,l.default)(o),"onScroll",_.updateVisibleBottom.bind((0,l.default)(o))),o}},"./src/screens/discovery/calendar/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/calendar/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/calendar/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/calendar/type/index.tsx")),d=r(s("./src/screens/discovery/calendar/component/icon-layout/index.tsx")),r=s("./src/screens/discovery/calendar/component/extra/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(e){var t=e.type,s=e.isList,r=e.loaded,n=e.onChange,e=e.onPress;return(0,a.jsxs)(o.Flex,{children:[!!r&&(0,a.jsx)(i.default,{type:t,onChange:n}),(0,a.jsx)(d.default,{isList:s,onPress:e})]})},r.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},isList:{defaultValue:null,description:"",name:"isList",required:!0,type:{name:"any"}},loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/calendar/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/calendar/component/icon-layout/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"IconLayout")},"./src/screens/discovery/calendar/component/icon-layout/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/calendar/component/icon-layout/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.isList,e=e.onPress;return(0,a.jsx)(o.IconLayout,{style:i._.ml.sm,list:void 0===t||t,size:20,onPress:void 0===e?function(){}:e,children:(0,a.jsx)(n.Heatmap,{right:30,id:"每日放送.切换布局"})})},d.COMPONENT);try{iconlayout.displayName="iconlayout",iconlayout.__docgenInfo={description:"",displayName:"iconlayout",props:{isList:{defaultValue:null,description:"",name:"isList",required:!1,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/icon-layout/index.tsx#iconlayout"]={docgenInfo:iconlayout.__docgenInfo,name:"iconlayout",path:"src/screens/discovery/calendar/component/icon-layout/index.tsx#iconlayout"})}catch(e){}},"./src/screens/discovery/calendar/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"ItemGrid");t.COMPONENT_MAIN=(0,n.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},hideScore:!1,subjectId:0,name:"",image:"",score:"",collection:"",time:"2359"},t.HIT_SLOP={top:r._.device(2,4),right:r._.device(4,4),bottom:r._.device(10,4),left:r._.device(4,4)}},"./src/screens/discovery/calendar/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/discovery/calendar/component/item-grid/item.tsx")),r=s("./src/screens/discovery/calendar/component/item-grid/ds.ts"),c=s("./src/screens/discovery/calendar/component/item-grid/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,r=e.subjectId,n=e.name,o=e.images,i=e.score,e=e.time,d=t.$,t=t.navigation;return"collect"!==d.state.type||(s=a.collectionStore.collect(r))?(0,u.jsx)(l.default,{navigation:t,styles:(0,c.memoStyles)(),hideScore:a.systemStore.setting.hideScore,subjectId:r,name:n,image:null==o?void 0:o.medium,score:i,collection:s,time:e}):null},r.COMPONENT)},"./src/screens/discovery/calendar/component/item-grid/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/calendar/component/item-grid/ds.ts"),g=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.hideScore,n=e.subjectId,o=e.name,i=e.image,d=e.score,a=e.collection,e=e.time,l=s.cover,c=l.width,l=l.height,r=!r&&!!d,u=[];return e&&"2359"!==e&&u.push(e.slice(0,2)+":"+e.slice(2)),a&&u.push(a),u=u.join(" · "),(0,g.jsx)(m.default,{style:s.item,children:(0,g.jsxs)(p.Touchable,{animate:!0,hitSlop:x.HIT_SLOP,onPress:function(){(0,_.t)("每日放送.跳转",{to:"Subject",subjectId:n}),t.push("Subject",{subjectId:n,_cn:o,_image:i})},children:[(0,g.jsx)(p.Cover,{width:c,height:l,src:i,radius:!0}),(0,g.jsx)(p.Text,{style:y._.mt.sm,size:13,lineHeight:15,numberOfLines:2,bold:!0,children:(0,j.HTMLDecode)(o)}),(0,g.jsxs)(p.Flex,{style:y._.mt.xs,children:[r&&(0,g.jsx)(f.Stars,{value:d,simple:!0}),!!u&&(0,g.jsxs)(p.Text,{size:11,type:"sub",bold:!0,noWrap:!0,children:[r&&d?" · ":"",u]})]})]})})},x.DEFAULT_PROPS,x.COMPONENT_MAIN);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: number; marginLeft: number; marginBottom: number; }; cover: { width: number; height: number; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-grid/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/calendar/component/item-grid/item.tsx#item"})}catch(e){}},"./src/screens/discovery/calendar/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.grid();return{item:{width:e.width,marginLeft:e.marginLeft,marginBottom:r._.md},cover:{width:e.width,height:e.height}}})},"./src/screens/discovery/calendar/component/item-line/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemList");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={navigation:{},section:0,index:0,styles:{},hideScore:!1,subjectId:0,name:"",desc:"",image:"",air:"",time:"2359",prevTime:"",expand:!1,collection:void 0,rank:0,score:0,total:0,sites:{},onToggleExpand:function(){}}},"./src/screens/discovery/calendar/component/item-line/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),_=r(s("./src/screens/discovery/calendar/component/item-line/item-line.tsx")),r=s("./src/screens/discovery/calendar/component/item-line/ds.ts"),x=s("./src/screens/discovery/calendar/component/item-line/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,r,n=e.subjectId,o=e.images,i=e.name,d=e.desc,a=e.air,l=e.time,c=e.prevTime,u=e.rank,m=e.score,p=e.total,f=e.section,e=e.index,y=t.$,t=t.navigation;return(y.state.expand||l)&&("collect"!==y.state.type||(s=j.collectionStore.collect(n)))?(r=y.sites(n),(0,g.jsx)(_.default,{navigation:t,section:f,index:e,styles:(0,x.memoStyles)(),hideScore:j.systemStore.setting.hideScore,subjectId:n,name:i,desc:d,image:null==o?void 0:o.medium,air:a,time:l,prevTime:c,expand:y.state.expand,collection:s,rank:u,score:m,total:p,sites:r,onToggleExpand:y.onToggleExpand})):null},r.COMPONENT)},"./src/screens/discovery/calendar/component/item-line/item-line.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),T=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),E=s("./src/components/index.ts"),C=s("./src/screens/_/index.ts"),w=s("./src/stores/index.ts"),I=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),A=s("./src/utils/fetch/index.ts"),k=s("./src/constants/index.ts"),n=s("./src/screens/discovery/calendar/component/item-line/ds.ts"),P=s("./node_modules/react/jsx-runtime.js"),R=.64*w._.window.height,s=(0,r.memo)(function(e){var t=e.navigation,s=e.section,r=e.index,n=e.styles,o=e.hideScore,i=e.subjectId,d=e.name,a=e.desc,l=e.image,c=e.air,u=e.time,m=e.prevTime,p=e.expand,f=e.collection,y=e.rank,j=e.score,_=e.total,x=e.sites,e=e.onToggleExpand,g=n.inView,b=g.minWidth,g=g.minHeight,v=(0,I.HTMLDecode)(d),h=20<=v.length?12:14<=v.length?13:14,o=!o&&!!j,S=p||!p&&u&&"2359"!==u,O=[];return x.b&&O.push("bilibili"),!x.b&&x.bhmt&&O.push("bilibili 港澳台"),x.i&&O.push("爱奇艺"),x.q&&O.push("腾讯视频"),(0,P.jsx)(T.default,{style:w._.container.block,children:(0,P.jsxs)(E.Flex,{style:n.item,align:"start",children:[(0,P.jsxs)(T.default,{style:(0,I.stl)(n.time,m&&m===u&&n.transparent),children:[!(!u||"2359"===u&&!p)&&(0,P.jsx)(E.Text,{bold:!0,children:"2359"===u?"未知":u.slice(0,2)+":"+u.slice(2)}),"2359"===u&&(0,P.jsx)(E.Touchable,{style:n.undetermined,withoutFeedback:!0,onPress:e,children:(0,P.jsx)(E.Text,{type:"sub",children:p?"收起":"展开"})})]}),S&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.InView,{style:n.inView,y:R*s+g*r+1,children:(0,P.jsx)(E.Touchable,{onPress:function(){(0,A.t)("每日放送.跳转",{to:"Subject",subjectId:i}),t.push("Subject",{subjectId:i,_cn:d,_image:l})},children:(0,P.jsx)(E.Cover,{width:b,height:g,src:l,radius:!0})})}),(0,P.jsx)(E.Flex.Item,{style:w._.ml.md,children:(0,P.jsxs)(E.Flex,{style:n.body,direction:"column",justify:"between",align:"start",children:[(0,P.jsx)(T.default,{style:w._.container.block,children:(0,P.jsx)(E.Flex,{align:"start",children:(0,P.jsx)(E.Flex.Item,{children:(0,P.jsx)(E.Katakana.Provider,{itemStyle:n.katakanas,size:h,numberOfLines:3,bold:!0,children:(0,P.jsx)(E.Katakana,{type:"desc",size:h,numberOfLines:3,bold:!0,children:v})})})})}),c?(0,P.jsxs)(E.Text,{type:"sub",size:12,bold:!0,children:["至第 ",c," 话 ",O.length?" · "+O.join("、"):""]}):O.length?(0,P.jsx)(E.Text,{type:"sub",size:12,bold:!0,children:O.join("、")}):null,(0,P.jsx)(E.Flex,{children:o&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.Rank,{value:y}),(0,P.jsx)(C.Stars,{style:w._.mr.xs,simple:!0,value:j,type:"desc",size:12}),!!_&&(0,P.jsxs)(E.Text,{type:"sub",size:12,bold:!0,children:["(",_,")"]})]})})]})}),(0,P.jsx)(C.Manage,{subjectId:i,collection:f,onPress:function(){w.uiStore.showManageModal({subjectId:i,title:(0,I.HTMLDecode)(d),desc:a,status:k.MODEL_COLLECTION_STATUS.getValue(f)},"每日放送")}})]})]})})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);t.default=s;try{itemline.displayName="itemline",itemline.__docgenInfo={description:"",displayName:"itemline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: string; paddingVertical: number; paddingRight: number; }; inView: { minWidth: number; minHeight: number; }; time: { width: number; paddingLeft: number; marginTop: number; }; transparent: { ...; }; body: { ...; }; katakanas: { ...; }; undetermined: { ...; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},desc:{defaultValue:null,description:"",name:"desc",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},air:{defaultValue:null,description:"",name:"air",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},prevTime:{defaultValue:null,description:"",name:"prevTime",required:!0,type:{name:"string"}},expand:{defaultValue:null,description:"",name:"expand",required:!0,type:{name:"boolean"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},sites:{defaultValue:null,description:"",name:"sites",required:!0,type:{name:"{ b?: number; bhmt?: number; i?: string; q?: string; }"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-line/item-line.tsx#itemline"]={docgenInfo:itemline.__docgenInfo,name:"itemline",path:"src/screens/discovery/calendar/component/item-line/item-line.tsx#itemline"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=n.IMG_HEIGHT;return{item:{width:"100%",paddingVertical:12,paddingRight:r._._wind},inView:{minWidth:n.IMG_WIDTH,minHeight:e},time:{width:r._.r(72),paddingLeft:r._._wind,marginTop:2},transparent:{opacity:0},body:{width:"100%",height:e-4,paddingTop:2},katakanas:{marginTop:-10},undetermined:{zIndex:1,paddingVertical:r._.sm}}})},"./src/screens/discovery/calendar/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/calendar/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/calendar/utils.ts"),y=r(s("./src/screens/discovery/calendar/component/item-grid/index.tsx")),j=r(s("./src/screens/discovery/calendar/component/item-line/index.tsx")),_=r(s("./src/screens/discovery/calendar/component/item/line/index.tsx")),x=s("./node_modules/react/jsx-runtime.js"),g=(new Date).getDay();0===g&&(g=7);t.default=(0,o.obc)(function(e,t){var s=e.item,i=e.section,d=t.$,a=s.items,l=parseInt((0,p.date)("Hi",(0,p.getTimestamp)())),c=!1;return(0,x.jsx)(n.Flex,{wrap:"wrap",align:"start",children:a.map(function(e,t){var s=(0,f.getTime)(e,e.id),r=(0<t&&"2359"===s&&(0,f.getTime)(a[t-1],e.id)===s&&(s=""),null==a?void 0:a[t-1]),n="",r=(r&&(n=(0,f.getTime)(r,r.id)),e.air),o=(e.air_weekday!==g&&0!==r&&(r=Number(r)+1),{key:e.id,subjectId:e.id,images:e.images,name:(0,p.cnjp)(e.name_cn,e.name),desc:(0,p.cnjp)(e.name,e.name_cn),rank:e.rank,score:null==e||null==(o=e.rating)?void 0:o.score,total:null==e||null==(o=e.rating)?void 0:o.total,air:r,time:s,prevTime:n,section:i.index,index:t});return d.isList?(r=(new Date).getHours()<12,(n=i.index===(r?1:0))&&!c&&parseInt(s)>l?(c=!0,(0,x.jsxs)(u.default,{style:m._.container.block,children:[(0,x.jsx)(_.default,{}),(0,x.jsx)(j.default,Object.assign({},o))]},e.id)):n&&!c&&t===a.length-1?(0,x.jsxs)(u.default,{style:m._.container.block,children:[(0,x.jsx)(j.default,Object.assign({},o)),(0,x.jsx)(_.default,{})]},e.id):(0,x.jsx)(j.default,Object.assign({},o))):(0,x.jsx)(y.default,Object.assign({index:t},o))})})})},"./src/screens/discovery/calendar/component/item/line/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Line")},"./src/screens/discovery/calendar/component/item/line/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/calendar/component/item/line/ds.ts"),a=s("./src/screens/discovery/calendar/component/item/line/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){var e=(0,a.memoStyles)();return(0,l.jsxs)(n.Flex,{children:[(0,l.jsx)(n.Flex.Item,{style:e.line}),(0,l.jsx)(n.Iconfont,{name:"md-access-time",color:o._.colorMain,size:16}),(0,l.jsx)(n.Text,{style:o._.ml.xs,type:"main",bold:!0,children:(0,i.date)("H:i",(0,i.getTimestamp)())}),(0,l.jsx)(n.Flex.Item,{style:e.line}),(0,l.jsx)(n.Heatmap,{id:"每日放送.跳转"})]})},d.COMPONENT)},"./src/screens/discovery/calendar/component/item/line/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{line:{height:1,marginVertical:r._.md,marginHorizontal:r._._wind,backgroundColor:r._.colorMain}}})},"./src/screens/discovery/calendar/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/calendar/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/calendar/component/list/utils.tsx"),n=s("./src/screens/discovery/calendar/component/list/ds.ts"),l=s("./src/screens/discovery/calendar/component/list/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,l.memoStyles)(),r=t.state.layout,n=t.isList?void 0:3;return(0,c.jsx)(o.ListView,{style:i._.container.plain,contentContainerStyle:s.contentContainerStyle,keyExtractor:d.keyExtractor,sections:t.sections,lazy:2,numColumns:n,scrollToTop:!0,renderSectionHeader:a.renderSectionHeader,renderItem:a.renderItem,scrollEventThrottle:4,onScroll:t.onScroll},""+r+n)},n.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/calendar/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/calendar/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind-r._.device(r._._wind,r._._wind+8)},section:{flex:1,paddingVertical:r._.md,paddingLeft:r._._wind,backgroundColor:r._.colorPlain}}})},"./src/screens/discovery/calendar/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=l,t.renderSectionHeader=a,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=r(s("./src/screens/discovery/calendar/component/item/index.tsx")),i=s("./src/screens/discovery/calendar/component/list/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");function a(e){var e=e.section.title,t=(0,i.memoStyles)();return(0,d.jsx)(n.SectionHeader,{style:t.section,size:14,children:e})}function l(e){var t=e.item,e=e.section;return(0,d.jsx)(o.default,{item:t,section:void 0===e?{}:e})}try{a.displayName="renderSectionHeader",a.__docgenInfo={description:"",displayName:"renderSectionHeader",props:{section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"{ title: any; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/utils.tsx#renderSectionHeader"]={docgenInfo:a.__docgenInfo,name:"renderSectionHeader",path:"src/screens/discovery/calendar/component/list/utils.tsx#renderSectionHeader"})}catch(e){}try{l.displayName="renderItem",l.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},section:{defaultValue:{value:"{}"},description:"",name:"section",required:!1,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/utils.tsx#renderItem"]={docgenInfo:l.__docgenInfo,name:"renderItem",path:"src/screens/discovery/calendar/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/calendar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Calendar",t.NAMESPACE="ScreenCalendar",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,loadedBangumiData:!1};t.STATE=Object.assign({layout:"list",type:"all",expand:!1,_lastQueue:0},s,{_loaded:!1})},"./src/screens/discovery/calendar/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/calendar/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/calendar/component/extra/index.tsx")),r=s("./src/screens/discovery/calendar/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$,r=(t=s.state).type,n=t._loaded;return(0,d.jsx)(o.Header,{title:"每日放送",hm:["calendar","Calendar"],headerTitleAlign:"left",headerRight:function(){return(0,d.jsx)(i.default,{type:r,isList:s.isList,loaded:n,onChange:s.onToggleType,onPress:s.onSwitchLayout})}})},r.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/calendar/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/calendar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/calendar/component/list/index.tsx")),a=r(s("./src/screens/discovery/calendar/header/index.tsx")),r=r(s("./src/screens/discovery/calendar/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-calendar",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(n.Page,{loaded:!(!s.state._loaded||!s.calendar._loaded),children:(0,l.jsx)(d.default,{})})]})})});try{calendar.displayName="calendar",calendar.__docgenInfo={description:"",displayName:"calendar",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/index.tsx#calendar"]={docgenInfo:calendar.__docgenInfo,name:"calendar",path:"src/screens/discovery/calendar/index.tsx#calendar"})}catch(e){}},"./src/screens/discovery/calendar/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/protobuf/index.web.ts"),g=s("./src/screens/discovery/calendar/utils.ts"),b=s("./src/screens/discovery/calendar/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h;t.default=(s=r.default,(0,l.default)(S,s),h=v(S),(0,d.default)(S,[{key:"calendar",get:function(){return y.calendarStore.calendar}},{key:"sections",get:function(){var e=(new Date).getDay(),t=(0===e&&(e=7),(new Date).getHours()<12),e=e-(t?2:1),t=this.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.slice().sort(function(e,t){return(0,j.desc)((0,g.getTime)(e),(0,g.getTime)(t))})})});return t.slice(e).concat(t.slice(0,e)).map(function(e,t){return{title:e.weekday.cn,index:t,data:[e]}})}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,f.computed)(function(){return y.subjectStore.subject(e)}).get()}},{key:"sites",value:function(t){var s=this;return(0,f.computed)(function(){var e;return s.state.loadedBangumiData&&(null==(e=(0,x.get)("bangumi-data"))||null==(e=e.find(function(e){return e.id==t}))?void 0:e.s)||{}}).get()}}]),(0,p.default)((t=S).prototype,"calendar",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"calendar"),t.prototype),(0,p.default)(t.prototype,"sections",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"sections"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),t);function S(){var s;(0,i.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,m.default)((0,a.default)(s),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,a.default)(s),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(b.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,s.setState(Object.assign({},t,b.EXCLUDE_STATE,{loadedBangumiData:!(null==(t=(0,x.get)("bangumi-data"))||!t.length),_loaded:!0})),e.next=9,(0,_.queue)([function(){return y.calendarStore.fetchOnAir()},function(){return y.calendarStore.fetchCalendar()},function(){return s.fetchBangumiData()},function(){return s.fetchCollectionsQueue()}],1);case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(s),"fetchCollectionsQueue",function(){var e=s.state._lastQueue;(0,j.getTimestamp)()-e<=86400||setTimeout((0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],s.calendar.list.forEach(function(e){e.items.forEach(function(e){t.push(e.id)})}),e.next=5,y.collectionStore.fetchCollectionStatusQueue(t);case 5:s.setState({_lastQueue:(0,j.getTimestamp)()}),s.save(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])})),2e3)}),(0,m.default)((0,a.default)(s),"fetchBangumiData",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.loadedBangumiData)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,(0,x.decode)("bangumi-data");case 4:s.setState({loadedBangumiData:!0});case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(s),"save",function(){return s.saveStorage(b.NAMESPACE,b.EXCLUDE_STATE)}),(0,m.default)((0,a.default)(s),"onSwitchLayout",function(){var e=s.isList?"grid":"list";(0,_.t)("每日放送.切换布局",{layout:e}),s.setState({layout:e}),s.save()}),(0,m.default)((0,a.default)(s),"onToggleType",function(e){var t=s.state.type;if(e){if("全部"===e&&"all"===t)return;if("收藏"===e&&"collect"===t)return}s.setState({type:"all"===t?"collect":"all"}),s.save()}),(0,m.default)((0,a.default)(s),"onToggleExpand",function(){var e=s.state.expand;s.setState({expand:!e}),s.save()}),(0,m.default)((0,a.default)(s),"onScroll",j.updateVisibleBottom.bind((0,a.default)(s))),s}},"./src/screens/discovery/calendar/type/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/calendar/type/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),d=["全部","收藏"];t.default=(0,r.ob)(function(e){var t=e.type,e=e.onChange;return(0,i.jsx)(n.SegmentedControl,{style:o.styles.segment,size:11,values:d,selectedIndex:"collect"===t?1:0,onValueChange:e})});try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/type/index.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/discovery/calendar/type/index.tsx#type"})}catch(e){}},"./src/screens/discovery/calendar/type/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(96),height:s._.r(28)}})},"./src/screens/discovery/calendar/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=function(e,t){return String((null==e?void 0:e.timeLocal)||(null==e?void 0:e.timeCN)||(null==e?void 0:e.timeJP)||(null==(e=r.ON_AIR[t])?void 0:e.timeCN)||"2359")};var r=s("./src/stores/calendar/onair/index.ts")},"./src/screens/discovery/catalog-detail/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/catalog-detail/component/icon-copy/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"IconCopy")},"./src/screens/discovery/catalog-detail/component/icon-copy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/catalog-detail/component/icon-copy/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,s=e.navigation;return(0,d.jsx)(n.IconHeader,{style:o._.mr.xs,name:"md-filter-none",color:o._.colorDesc,size:17,onPress:function(){return t.onCopy(s)}})},i.COMPONENT);try{iconcopy.displayName="iconcopy",iconcopy.__docgenInfo={description:"",displayName:"iconcopy",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/icon-copy/index.tsx#iconcopy"]={docgenInfo:iconcopy.__docgenInfo,name:"iconcopy",path:"src/screens/discovery/catalog-detail/component/icon-copy/index.tsx#iconcopy"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/icon-favor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"IconFavor")},"./src/screens/discovery/catalog-detail/component/icon-favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/catalog-detail/component/icon-favor/ds.ts"),a=s("./src/screens/discovery/catalog-detail/component/icon-favor/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=(e=e.$).catalogDetail.collect;return(0,l.jsxs)(n.Flex,{style:t?a.styles.withCollect:i._.mr.xs,children:[(0,l.jsxs)(o.IconHeader,{name:e.isCollect?"md-star":"md-star-outline",size:22,color:e.isCollect?i._.colorYellow:i._.colorDesc,onPress:e.toggleCollect,children:[(0,l.jsx)(n.Heatmap,{right:75,id:"目录详情.取消收藏"}),(0,l.jsx)(n.Heatmap,{right:30,id:"目录详情.收藏"})]}),!!t&&(0,l.jsx)(n.Text,{style:a.styles.num,size:10,bold:!0,children:t})]})},d.COMPONENT);try{iconfavor.displayName="iconfavor",iconfavor.__docgenInfo={description:"",displayName:"iconfavor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/icon-favor/index.tsx#iconfavor"]={docgenInfo:iconfavor.__docgenInfo,name:"iconfavor",path:"src/screens/discovery/catalog-detail/component/icon-favor/index.tsx#iconfavor"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/icon-favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({withCollect:{paddingRight:s._.xs,marginRight:s._.xs},num:{position:"absolute",right:4,bottom:5}})},"./src/screens/discovery/catalog-detail/component/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT_DS=t.LAYOUT_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Info"),t.LAYOUT_DS=["列表","网格"],t.SORT_DS=["默认","时间","评分"]},"./src/screens/discovery/catalog-detail/component/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),y=s("./src/components/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/catalog-detail/component/info/ds.ts"),v=s("./src/screens/discovery/catalog-detail/component/info/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,v.memoStyles)(),n=s.state.sort,o=(p=s.catalogDetail.title?s.catalogDetail:s.catalogDetailFromOSS).title,i=p.avatar,d=p.content,a=p.progress,l=p.nickname,c=p.userId,u=p.time,m=p.replyCount,p=p._loaded,m=5==m?"5+":m;return(0,h.jsxs)(f.default,{style:t.container,children:[(0,h.jsx)(y.Header.Placeholder,{}),(0,h.jsxs)(f.default,{style:j._.container.inner,children:[(0,h.jsx)(y.Text,{size:20,bold:!0,children:o}),!(!l&&!u)&&(0,h.jsxs)(y.Flex,{style:j._.mt.sm,children:[(0,h.jsx)(y.Text,{type:"title",size:13,lineHeight:15,bold:!0,onPress:function(){(0,x.t)("目录详情.跳转",{to:"Zone",catalogId:s.catalogId,userId:c}),r.push("Zone",{userId:c,_id:c,_name:l,_image:i})},children:l}),(0,h.jsxs)(y.Text,{type:"sub",size:13,lineHeight:15,bold:!0,children:[l?" · ":"",String(u).replace(/\n/g,"")]})]}),!!i&&(0,h.jsxs)(y.Flex,{style:j._.mt.lg,justify:"center",children:[(0,h.jsx)(y.Image,{src:(0,_.getCoverLarge)(i),size:j._.r(80),shadow:!0,placeholder:!1,imageViewer:!0,event:{id:"目录详情.封面图查看",data:{catalogId:s.catalogId}}}),(0,h.jsx)(y.Heatmap,{id:"目录详情.封面图查看"})]}),!!d&&(0,h.jsx)(y.Expand,{style:j._.mt.lg,ratio:.64,children:(0,h.jsx)(y.RenderHtml,{html:d,onLinkPress:function(e){return(0,_.appNavigate)(e,r)}})}),(0,h.jsxs)(y.Flex,{style:j._.mt.md,children:[(0,h.jsx)(y.Flex.Item,{children:(0,h.jsxs)(y.Flex,{children:[(0,h.jsx)(y.Touchable,{onPress:function(){r.push("WebBrowser",{url:g.HOST+"/index/"+s.catalogId+"/comments",title:"目录留言"}),(0,x.t)("目录详情.跳转",{to:"WebBrowser",catalogId:s.catalogId,userId:c})},children:(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:["留言",m?" ("+m+")":""]})}),(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:[" ","·"," "]}),(0,h.jsx)(y.Touchable,{onPress:function(){r.push("Catalogs",{userId:c}),(0,x.t)("目录详情.跳转",{to:"Catalogs",catalogId:s.catalogId,userId:c})},children:(0,h.jsx)(y.Text,{type:"sub",size:12,bold:!0,children:"TA 的其他目录"})})]})}),j.userStore.isLogin&&(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:["完成度","  ",a.replace("/"," / ")]})]}),(0,h.jsxs)(y.Flex,{style:j._.mt.lg,children:[(0,h.jsx)(y.Flex.Item,{children:(0,h.jsx)(y.Button,{style:t.btn,styleText:j._.fontSize11,type:"plain",bold:!0,onPress:s.fetchSubjectsQueue,children:"更新分数"})}),s.state._loaded&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.SegmentedControl,{style:t.layout,size:11,values:b.LAYOUT_DS,selectedIndex:s.isList?0:1,onValueChange:s.switchLayout}),(0,h.jsx)(y.SegmentedControl,{style:t.sort,size:11,values:b.SORT_DS,selectedIndex:n||0,onValueChange:s.sort}),(0,h.jsx)(y.Heatmap,{id:"目录详情.排序"})]})]})]}),!p&&(0,h.jsx)(y.Flex,{style:t.loading,justify:"center",children:(0,h.jsx)(y.Loading,{})})]})},b.COMPONENT);try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/discovery/catalog-detail/component/info/index.tsx#info"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{minHeight:r._.window.contentWidth},loading:{height:240},layout:{width:r._.r(96),height:32,marginRight:r._.sm+2},sort:{width:r._.r(128),height:32},btn:{width:r._.r(82),height:32}}})},"./src/screens/discovery/catalog-detail/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.EVENT={id:"目录详情.跳转"}},"./src/screens/discovery/catalog-detail/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/catalog-detail/component/item/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=void 0===(s=e.index)?0:s,e=e.item,r=t.$,t=t.navigation,n=String(e.id).match(/\d+/)[0],o=a.collectionStore.collect(n);return r.isList?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.ItemCollections,{navigation:t,event:c.EVENT,inViewY:.5*a._.window.height,index:s,id:n,type:e.type,cover:e.image,name:a.subjectStore.jp(n)||e.title,nameCn:a.subjectStore.cn(n)||(0,l.findSubjectCn)(e.title,n),tip:e.info,comments:e.comment,score:e.score,rank:e.rank,total:e.total,numberOfLines:3,modify:e.modify,isCollect:e.isCollect,collection:o,isCatalog:!0,hideScore:r.hideScore,isEditable:r.isSelf,showManage:!0,onEdit:r.onEdit}),!s&&(0,u.jsx)(i.Heatmap,{id:"目录详情.跳转"})]}):(0,u.jsx)(d.ItemCollectionsGrid,{navigation:t,event:c.EVENT,id:n,num:r.gridNum,name:a.subjectStore.jp(n)||e.title,nameCn:a.subjectStore.cn(n)||(0,l.findSubjectCn)(e.title,n),cover:e.image,score:e.score,rank:e.rank,typeCn:e.type,collection:o})},c.COMPONENT)},"./src/screens/discovery/catalog-detail/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/catalog-detail/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/constants/text/index.ts"),l=r(s("./src/screens/discovery/catalog-detail/component/info/index.tsx")),c=s("./src/screens/discovery/catalog-detail/component/list/utils.tsx"),r=s("./src/screens/discovery/catalog-detail/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var e=e.onScroll,s=(t=t.$).isList?void 0:t.gridNum;return(0,u.jsx)(n.PaginationList2,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,numColumns:s,data:t.list,limit:12,ListHeaderComponent:(0,u.jsx)(l.default,{}),renderItem:c.renderItem,scrollToTop:!0,footerEmptyDataText:a.TEXT_18X,scrollEventThrottle:4,onScroll:e,onHeaderRefresh:t.fetchCatalogDetail},""+t.state.layout+s)},r.COMPONENT)},"./src/screens/discovery/catalog-detail/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/catalog-detail/component/item/index.tsx"))),o=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.index,e=e.item;return(0,o.jsx)(n.default,{index:t,item:e})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/catalog-detail/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tips/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tips")},"./src/screens/discovery/catalog-detail/component/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/catalog-detail/component/tips/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$.state.progress).fetching,r=t.message,n=t.current,t=t.total;return(0,i.jsx)(o.Progress,{show:s,message:r,current:n,total:t})},n.COMPONENT);try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/catalog-detail/component/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/catalog-detail/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="CatalogDetail",t.NAMESPACE="ScreenCatalogDetail",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,visible:!1,defaultEditItem:null,progress:{fetching:!1,message:"",current:0,total:0}};t.STATE=Object.assign({layout:"list",sort:0},s,{_loaded:!1})},"./src/screens/discovery/catalog-detail/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/discovery/catalog-detail/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);n.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/catalog-detail/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),l=s("./src/constants/index.ts"),c=r(s("./src/screens/discovery/catalog-detail/component/icon-copy/index.tsx")),u=r(s("./src/screens/discovery/catalog-detail/component/icon-favor/index.tsx")),m=s("./src/screens/discovery/catalog-detail/header/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.fixed,s=t.$,r=t.navigation,n=s.catalogDetail.title?s.catalogDetail:s.catalogDetailFromOSS;return(0,p.jsx)(o.Header,{mode:"float",fixed:e,title:n.title,alias:"目录详情",hm:["index/"+s.catalogId,"CatalogDetail"],headerRight:function(){return(0,p.jsxs)(o.Flex,{children:[i.userStore.isLogin&&(0,p.jsx)(c.default,{$:s,navigation:r}),!(!n.joinUrl&&!n.byeUrl)&&(0,p.jsx)(u.default,{$:s}),(0,p.jsx)(o.Header.Popover,{data:m.DATA,onSelect:function(e){(0,a.t)("目录详情.右上角菜单",{key:e}),e===m.TEXT_BROWSER?(0,d.open)(l.HOST+"/index/"+s.catalogId):e===m.TEXT_SPA&&(e=l.URL_SPA+"/"+(0,d.getSPAParams)("CatalogDetail",{catalogId:s.catalogId}),(0,d.open)(e))},children:(0,p.jsx)(o.Heatmap,{id:"目录详情.右上角菜单"})})]})}})},m.COMPONENT)},"./src/screens/discovery/catalog-detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),d=s("./src/components/index.ts"),a=s("./src/components/header/utils.tsx"),l=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),u=r(s("./src/screens/discovery/catalog-detail/component/list/index.tsx")),m=r(s("./src/screens/discovery/catalog-detail/component/tips/index.tsx")),p=r(s("./src/screens/discovery/catalog-detail/header/index.tsx")),r=r(s("./src/screens/discovery/catalog-detail/store.ts")),f=s("./node_modules/react/jsx-runtime.js");function y(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(y=function(e){return e?s:t})(e))}t.default=(0,n.ic)(r.default,function(e,t){var s=t.$,t=((0,c.useRunAfter)(function(){s.init()}),(0,a.useOnScroll)()),r=t.fixed,n=t.onScroll,o=(0,i.useCallback)(function(e){s.onScroll(e),n(e)},[s,n]);return(0,c.useObserver)(function(){var e=s.state,t=e.visible,e=e.defaultEditItem;return(0,f.jsxs)(d.Component,{id:"screen-catalog-detail",children:[(0,f.jsx)(p.default,{fixed:r}),(0,f.jsxs)(d.Page,{statusBarEvent:!1,children:[(0,f.jsx)(u.default,{onScroll:o}),(0,f.jsx)(m.default,{})]}),(0,f.jsx)(l.FolderManageModal,{id:s.catalogId,visible:t,defaultExpand:s.catalogId,defaultEditItem:e,onClose:s.onClose})]})})});try{catalogdetail.displayName="catalogdetail",catalogdetail.__docgenInfo={description:"",displayName:"catalogdetail",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/index.tsx#catalogdetail"]={docgenInfo:catalogdetail.__docgenInfo,name:"catalogdetail",path:"src/screens/discovery/catalog-detail/index.tsx#catalogdetail"})}catch(e){}},"./src/screens/discovery/catalog-detail/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=r(s("./src/utils/cache-manager/index.ts")),x=s("./src/utils/fetch/index.ts"),g=r(s("./src/utils/store/index.ts")),b=s("./src/utils/webhooks/index.ts"),v=s("./src/constants/index.ts"),h=r(s("./src/constants/i18n/index.ts")),S=s("./src/screens/discovery/catalog-detail/ds.ts");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var T;t.default=(r=g.default,(0,i.default)(E,r),T=O(E),(0,o.default)(E,[{key:"catalogId",get:function(){var e=this.params.catalogId;return void 0===e?"":e}},{key:"catalogDetail",get:function(){return y.discoveryStore.catalogDetail(this.catalogId)}},{key:"catalogDetailFromOSS",get:function(){return y.discoveryStore.catalogDetailFromOSS(this.catalogId)}},{key:"list",get:function(){var e=S.NAMESPACE+"|"+this.catalogId;if(this.state.progress.fetching){var t=_.default.get(e);if(t)return t}var t=this.state.sort,s=[];return this.catalogDetail.list.length?s=this.catalogDetail.list:this.catalogDetailFromOSS.list.length&&(s=this.catalogDetailFromOSS.list),s=s.map(function(e){var t=e.id;return Object.assign({},e,{score:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.score)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(e=e.rating)?void 0:e.score)||0,rank:(null==(e=y.subjectStore.subject(t))?void 0:e.rank)||(null==(e=y.subjectStore.subjectFromOSS(t))?void 0:e.rank)||"",total:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.total)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(t=e.rating)?void 0:t.total)||""})}),1===t?_.default.set(e,s.slice().sort(function(e,t){return(0,j.desc)((0,j.getTimestamp)(((null==(e=String(e.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"),(0,j.getTimestamp)(((null==(e=String(t.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"))})):2===t?_.default.set(e,s.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return e.rank?1e4-e.rank:e.score})})):_.default.set(e,s)}},{key:"isCollect",get:function(){return!!this.catalogDetail.byeUrl}},{key:"hideScore",get:function(){return this.params._hideScore}},{key:"isSelf",get:function(){var e=this.catalogDetail,t=e.joinUrl,e=e.byeUrl;return y.userStore.isLogin&&!t&&!e}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"gridNum",get:function(){return y._.portrait(3,5)}}]),(0,p.default)((s=E).prototype,"catalogId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogId"),s.prototype),(0,p.default)(s.prototype,"catalogDetail",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogDetail"),s.prototype),(0,p.default)(s.prototype,"catalogDetailFromOSS",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogDetailFromOSS"),s.prototype),(0,p.default)(s.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"list"),s.prototype),(0,p.default)(s.prototype,"isCollect",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isCollect"),s.prototype),(0,p.default)(s.prototype,"hideScore",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"hideScore"),s.prototype),(0,p.default)(s.prototype,"isSelf",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSelf"),s.prototype),(0,p.default)(s.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isList"),s.prototype),(0,p.default)(s.prototype,"gridNum",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"gridNum"),s.prototype),s);function E(){var i;(0,n.default)(this,E);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=T.call.apply(T,[this].concat(s)),(0,m.default)((0,l.default)(i),"params",void 0),(0,m.default)((0,l.default)(i),"state",(0,f.observable)(S.STATE)),(0,m.default)((0,l.default)(i),"init",(0,a.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(S.NAMESPACE);case 2:return t=e.sent,i.setState(Object.assign({},t,S.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",i.fetchCatalogDetail());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"save",function(){return i.saveStorage(S.NAMESPACE,S.EXCLUDE_STATE)}),(0,m.default)((0,l.default)(i),"fetchCatalogDetail",(0,a.default)(d.mark(function e(){var t=arguments;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<t.length&&void 0!==t[0]&&t[0]||!(0,j.opitimize)(i.catalogDetail,120))return e.next=4,y.discoveryStore.fetchCatalogDetail({id:i.catalogId});e.next=4;break;case 4:return i.fetchCollectionStatusQueue(),e.abrupt("return",i.catalogDetail);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"fetchCollectionStatusQueue",function(){setTimeout(function(){y.collectionStore.fetchCollectionStatusQueue(i.list.filter(function(e){return e.isCollect}).map(function(e){return e.id}))},160)}),(0,m.default)((0,l.default)(i),"fetchSubjectsQueue",function(){(0,j.confirm)("更新 "+i.list.length+" 个条目的评分?",(0,a.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],i.list.forEach(function(e){var s=e.id;t.push((0,a.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.subjectStore.fetchSubjectFromOSS(s);case 2:if(e.sent){e.next=6;break}return e.next=6,y.subjectStore.fetchSubject(s,"small");case 6:if((null==(t=y.subjectStore.subject(s))?void 0:t.rank)||(null==(t=y.subjectStore.subjectFromOSS(s))?void 0:t.rank)||""){e.next=12;break}return e.next=10,y.subjectStore.fetchSubject(s,"small");case 10:e.next=14;break;case 12:return e.next=14,(0,j.sleep)(40);case 14:i.setState({progress:{current:i.state.progress.current+1}});case 15:case"end":return e.stop()}},e)})))}),t.length&&i.setState({progress:{fetching:!0,message:"更新条目信息",current:1,total:t.length}}),e.next=5,(0,x.queue)(t,2);case 5:i.setState({progress:S.EXCLUDE_STATE.progress});case 6:case"end":return e.stop()}},e)})),"提示")}),(0,m.default)((0,l.default)(i),"toggleCollect",function(){i.catalogDetail.byeUrl?i.doErase():i.doCollect()}),(0,m.default)((0,l.default)(i),"sort",function(e){e="评分"===e?2:"时间"===e?1:0;(0,x.t)("目录详情.排序",{sort:e}),i.setState({sort:e}),i.save()}),(0,m.default)((0,l.default)(i),"onEdit",function(t){var e=i.list.find(function(e){return e.modify==t});e?((0,x.t)("目录详情.管理",{id:i.catalogId}),e&&i.setState({visible:!0,defaultEditItem:e})):(0,j.info)("目录不属于你或者"+h.default.login()+"状态失效了")}),(0,m.default)((0,l.default)(i),"onClose",function(){i.setState({visible:!1,defaultEditItem:null})}),(0,m.default)((0,l.default)(i),"onCopy",function(e){y.userStore.formhash?(0,j.confirm)("复制当前目录成为自己的目录, 此操作会大量消耗服务器资源, 请勿滥用, 确定?",function(){return i.doCopy(e)},"复制目录"):(0,j.info)("请先"+h.default.login())}),(0,m.default)((0,l.default)(i),"switchLayout",function(){var e=i.isList?"grid":"list";(0,x.t)("目录详情.切换布局",{layout:e}),i.setState({layout:e}),i.save()}),(0,m.default)((0,l.default)(i),"onScroll",j.updateVisibleBottom.bind((0,l.default)(i))),(0,m.default)((0,l.default)(i),"doCollect",(0,a.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.catalogDetail.joinUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.收藏",{catalogId:i.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+v.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已收藏"),(0,b.webhookCatalog)(Object.assign({},i.catalogDetail,{id:i.catalogId}),y.userStore.userInfo),e.abrupt("return",i.fetchCatalogDetail(!0));case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"doErase",(0,a.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.catalogDetail.byeUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.取消收藏",{catalogId:i.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+v.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已取消收藏"),e.abrupt("return",i.fetchCatalogDetail(!0));case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"doCopy",(t=(0,a.default)(d.mark(function e(n){var o,t,s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=y.userStore.formhash,s=i.catalogDetail,t=s.title,s=s.content,y.discoveryStore.doCatalogCreate({formhash:o,title:t||"",desc:(0,j.removeHTMLTag)(s||"")},function(e,t){var s;t&&t.responseURL&&((s=t.responseURL.match(/\d+/g))&&s[0]?((0,j.info)("创建成功, 开始复制数据..."),setTimeout((0,a.default)(d.mark(function e(){var r;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s[0],e.next=3,(0,x.queue)(i.list.map(function(t,s){return function(){return new Promise(function(e){(0,j.info)(s+1+" / "+i.list.length),y.discoveryStore.doCatalogAddRelate({catalogId:r,subjectId:String(t.id).match(/\d+/)[0],formhash:o,noConsole:!0},function(){e()})})}}),1);case 3:n.push("CatalogDetail",{catalogId:r}),(0,j.info)("已完成"),(0,x.t)("目录详情.复制",{from:r});case 6:case"end":return e.stop()}},e)})),400)):(0,j.info)("目录创建失败, 请检查"+h.default.login()+"状态"))});case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),i}},"./src/screens/discovery/catalog/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/catalog/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR_DS=t.TYPE_DS=t.HOT_DS=t.FILTER_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter"),t.TYPE_DS=["不限","动画","书籍","游戏","音乐","三次元"]),s=t.YEAR_DS=["不限","近1年","近3年",2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010],n=t.HOT_DS=["不限","动画","漫画","作品","推荐","游戏","日本","目录","个人","裏","小说","轻","百合","排行榜","汉化","销量","列表","真","名作","女性","评分","葉","世界","黄油","原","自用","网站","店","实用","批评","厉害","已","计划","空间","补完","同人","收录","综合","动画短片","收集","看","排名","历年","选","冷门","少女","收藏","作画","一般","佳作","妹","组","坑","经典","世纪","完结","全","剧场版","制作","音乐","相关","剧情","记录","独立","美少女","国产","合集","史","最","适合","动画电影","含有","资源","动漫","纯爱","补","持续","施工","萌","選","值得","露点","男","要素","整理","人气","参与","媒体","部门","获奖作品","群友","版","画","完","艺术","系","榜","作","回","更新","奥斯卡","元素","不错","观看","看过","中文","精品","脚本","排行","本子","后宫","文化厅","校园","推理","评选","赏","角色","超级","广为人知","漫","统计","转生","英雄","步兵","大全","撸","年鉴","绅士","战斗","优秀","高分","物","提及","语音","成人","狂","票选","新房","作家","拿来","汇总","祭","演出","引进","光","反","手塚治虫","文化","魔法","作品集","致","读者","异","好看","門","文学","战士","高达","机器人","日美","口碑","剧场","部分","田中","泡面","三观","姉","待","迪士尼","长片","人生","美国","編","京都","补充","完整","获奖","佳","平成","选集","夏新","猎奇","名家","待补","参上","文明","健康","食肉","筛选","介绍","警告","口味","男孩子","知道","妹子","簿","神","扭曲","截止"];t.FILTER_DS=[{key:"filterType",title:"类型",data:r},{key:"filterYear",title:"时间",data:s},{key:"filterKey",title:"热词",data:n}]},"./src/screens/discovery/catalog/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.index-of.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),c=s("./src/screens/discovery/catalog/component/filter/ds.ts"),u=s("./src/screens/discovery/catalog/component/filter/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var r,n=t.$;return"advance"!==n.state.type?null:(r=(0,u.memoStyles)(),(0,m.jsx)(o.default,{style:r.filter,children:c.FILTER_DS.map(function(s){return(0,m.jsxs)(i.Flex,{style:r.row,children:[(0,m.jsx)(o.default,{children:(0,m.jsx)(i.Text,{size:12,bold:!0,children:s.title})}),(0,m.jsx)(i.Flex.Item,{style:d._.ml.md,children:(0,m.jsx)(i.ScrollView,Object.assign({style:r.contentContainerStyle,horizontal:!0},l.SCROLL_VIEW_RESET_PROPS,{children:s.data.map(function(e,t){return"filterKey"===s.key&&!t&&n.state.filterKey&&7<=s.data.indexOf(n.state.filterKey)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Touchable,{style:r.item,onPress:function(){return n.onFilterChange(s.key,e)},children:(0,m.jsx)(i.Text,{size:11,children:e})},e),(0,m.jsx)(i.Touchable,{style:[r.item,r.itemActive],onPress:function(){return n.onFilterChange(s.key,n.state.filterKey)},children:(0,m.jsx)(i.Text,{size:11,children:n.state.filterKey})},e)]}):(t=n.state[s.key]===e,(0,m.jsx)(i.Touchable,{style:(0,a.stl)(r.item,t&&r.itemActive),onPress:function(){return n.onFilterChange(s.key,e)},children:(0,m.jsx)(i.Text,{size:11,children:e})},e))})}))})]},s.key)})}))},c.COMPONENT);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/catalog/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/catalog/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{filter:{paddingVertical:r._.sm},row:{paddingVertical:2,paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind},contentContainerStyle:{paddingVertical:r._.r(4)},item:{paddingVertical:r._.r(4),paddingHorizontal:r._.r(12),borderRadius:r._.r(12),overflow:"hidden"},itemActive:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2)}}})},"./src/screens/discovery/catalog/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"目录.跳转"}},"./src/screens/discovery/catalog/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/discovery/catalog/component/filter/index.tsx")),c=r(s("./src/screens/discovery/catalog/component/pagination/index.tsx")),u=s("./src/screens/discovery/catalog/component/list/ds.ts"),m=s("./src/screens/discovery/catalog/component/list/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,a.obc)(function(e,t){var s=t.$;return(0,p.jsxs)(o.ScrollView,{contentContainerStyle:d._.mb.md,scrollToTop:!0,children:[!s.state.fixedFilter&&(0,p.jsx)(l.default,{}),s.isLimit?(0,p.jsxs)(o.Flex,{style:m.styles.empty,direction:"column",justify:"center",children:[(0,p.jsx)(o.Mesume,{size:80}),(0,p.jsx)(o.Text,{style:[m.styles.text,d._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"此功能仅对正常注册用户开放"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.default,{style:m.styles.container,children:s.state.show&&(s.catalog._loaded&&!s.catalog.list.length?(0,p.jsxs)(o.Flex,{style:m.styles.empty,direction:"column",justify:"center",children:[(0,p.jsx)(o.Mesume,{size:80}),(0,p.jsx)(o.Text,{style:[m.styles.text,d._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"到底了"})]}):s.catalog.list.map(function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.ItemCatalog,Object.assign({event:u.EVENT},e,{filter:"不限"===s.state.filterKey?"":s.state.filterKey}),e.id),1===t&&(0,p.jsx)(o.Heatmap,{id:"目录.跳转"})]})}))}),!s.state.fixedPagination&&s.state.show&&(0,p.jsx)(c.default,{})]})]})},u.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/catalog/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/catalog/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:.64*s._.window.height,marginBottom:s._.md},empty:{minHeight:.5*s._.window.height},text:Object.assign({maxWidth:s._.window.contentWidth-2*s._.md},s._.fontSize14)})},"./src/screens/discovery/catalog/component/more/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"More")},"./src/screens/discovery/catalog/component/more/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/catalog/component/more/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,s=(e=(null==t?void 0:t.state)||{}).fixedFilter,e=e.fixedPagination;return(0,d.jsx)(n.ToolBar.Popover,{data:["选项 · "+(s?"锁定上方":"浮动"),"分页 · "+(e?"锁定下方":"浮动")],icon:"md-more-vert",iconColor:o._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?t.onToggleFixed("fixedFilter"):e.includes("分页")?t.onToggleFixed("fixedPagination"):void 0}})},i.COMPONENT);try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/more/index.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/catalog/component/more/index.tsx#more"})}catch(e){}},"./src/screens/discovery/catalog/component/pagination/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEAT_MAPS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Pagination"),t.HEAT_MAPS={onPrev:"目录.上一页",onNext:"目录.下一页",search:"目录.页码跳转"}},"./src/screens/discovery/catalog/component/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/catalog/component/pagination/ds.ts"),i=s("./src/screens/discovery/catalog/component/pagination/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,d.jsx)(n.Pagination,{style:i.styles.pagination,input:t.state.ipt,heatmaps:o.HEAT_MAPS,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})},o.COMPONENT);try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/catalog/component/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/catalog/component/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({pagination:{marginTop:s._.xs,marginBottom:s._.ios(s._.md+s._.sm,s._.md)}})},"./src/screens/discovery/catalog/component/type/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Type"),t.TYPE_DS=["高级","最新","热门"]},"./src/screens/discovery/catalog/component/type/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r,n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),n(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=n(s("./src/screens/discovery/catalog/component/more/index.tsx")),c=s("./src/screens/discovery/catalog/component/type/ds.ts"),u=s("./src/screens/discovery/catalog/component/type/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,a.ob)(function(e){(e=e.$)&&(r=e.state.type);var t="collect"===(t=void 0===(null==e?void 0:e.state.type)?r:null==e?void 0:e.state.type)?1:"advance"===t?0:2;return(0,m.jsxs)(i.Flex,{style:d._.mr.md,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(i.SegmentedControl,{style:u.styles.segment,size:11,values:c.TYPE_DS,selectedIndex:t,onValueChange:(null==e?void 0:e.onToggleType)||function(){}},String(null==e||null==(t=e.state)?void 0:t._loaded)),(0,m.jsx)(i.Heatmap,{id:"目录.切换类型"})]}),(0,m.jsx)(l.default,{$:e},String(null==e||null==(t=e.state)?void 0:t._loaded))]})},c.COMPONENT);try{r.displayName="type",r.__docgenInfo={description:"",displayName:"type",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/type/index.tsx#type"]={docgenInfo:r.__docgenInfo,name:"type",path:"src/screens/discovery/catalog/component/type/index.tsx#type"})}catch(e){}},"./src/screens/discovery/catalog/component/type/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(144),height:s._.r(28),marginRight:s._.xs}})},"./src/screens/discovery/catalog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;t.COMPONENT="Catalog",t.NAMESPACE="ScreenCatalog";s=t.EXCLUDE_STATE={loadedCatalog:!1};t.STATE=Object.assign({type:"advance",page:1,show:!0,ipt:"1",filterType:"不限",filterYear:"近1年",filterKey:"不限",fixedFilter:!1,fixedPagination:!1},s,{_loaded:!1})},"./src/screens/discovery/catalog/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/catalog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/catalog/component/type/index.tsx")),r=s("./src/screens/discovery/catalog/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:"目录",headerTitleAlign:"left",hm:["discovery/catalog","Catalog"],headerRight:function(){return(0,d.jsx)(i.default,{$:s})}})},r.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/catalog/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/catalog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/catalog/component/filter/index.tsx")),a=r(s("./src/screens/discovery/catalog/component/list/index.tsx")),l=r(s("./src/screens/discovery/catalog/component/pagination/index.tsx")),c=r(s("./src/screens/discovery/catalog/header/index.tsx")),r=r(s("./src/screens/discovery/catalog/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-catalog",children:[(0,u.jsx)(c.default,{}),(0,u.jsxs)(n.Page,{loaded:s.state._loaded,children:[s.state.fixedFilter&&(0,u.jsx)(d.default,{}),(0,u.jsx)(a.default,{}),s.state.fixedPagination&&(0,u.jsx)(l.default,{})]})]})})});try{catalog.displayName="catalog",catalog.__docgenInfo={description:"",displayName:"catalog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/index.tsx#catalog"]={docgenInfo:catalog.__docgenInfo,name:"catalog",path:"src/screens/discovery/catalog/index.tsx#catalog"})}catch(e){}},"./src/screens/discovery/catalog/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),o=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),g=s("./src/utils/protobuf/index.web.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),v=s("./src/screens/discovery/catalog/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var S;t.default=(s=r.default,(0,o.default)(O,s),S=h(O),(0,n.default)(O,[{key:"catalogAdvance",get:function(){return this.state.loadedCatalog?(0,g.get)("catalog").map(function(e){var t=e.r>=Math.max(e.a||0,e.b||0,e.m||0,e.g||0)?"real":e.g>=Math.max(e.a||0,e.b||0,e.m||0)?"game":e.m>=Math.max(e.a||0,e.b||0)?"music":e.b>=(e.a||0)?"book":"anime";return{id:e.i,title:e.t,last:e.d,anime:e.a||0,book:e.b||0,music:e.m||0,game:e.g||0,real:e.r||0,_type:t}}):[]}},{key:"catalogAdvanceFilter",get:function(){var t,e,s,r=this.state,n=r.page,o=r.filterType,i=r.filterYear,d=r.filterKey,r=this.catalogAdvance;o&&"不限"!==o&&(r=r.filter(function(e){return b.MODEL_SUBJECT_TYPE.getTitle(e._type)===o})),i&&"不限"!==i&&(r="近1年"===i?(e=(0,j.getTimestamp)(),t=Number(""+(Number((0,j.date)("Y",e))-1)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=t})):"近3年"===i?(e=(0,j.getTimestamp)(),s=Number(""+(Number((0,j.date)("Y",e))-3)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=s})):r.filter(function(e){return e.last.includes(i)}));return{list:(r=d&&"不限"!==d?r.filter(function(e){return e.title.includes(d)}):r).slice(10*(n-1),10*n),_loaded:!0}}},{key:"catalog",get:function(){var e=this.state,t=e.type,e=e.page;return"advance"===t?this.catalogAdvanceFilter:(t=y.discoveryStore.catalog(t,e),y.userStore.isLimit?Object.assign({},t,{list:t.list.filter(function(e){return!(0,j.x18s)(e.title)})}):t)}},{key:"isLimit",get:function(){var e;return!b.STORYBOOK&&"advance"===this.state.type&&(!y.userStore.isLogin||!(e=y.userStore.userInfo.id)||e==b.APP_USERID_TOURIST||e==b.APP_USERID_IOS_AUTH||void 0)}}]),(0,p.default)((t=O).prototype,"catalogAdvance",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogAdvance"),t.prototype),(0,p.default)(t.prototype,"catalogAdvanceFilter",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogAdvanceFilter"),t.prototype),(0,p.default)(t.prototype,"catalog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalog"),t.prototype),(0,p.default)(t.prototype,"isLimit",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),t);function O(){var o;(0,a.default)(this,O);for(var t,s,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return o=S.call.apply(S,[this].concat(r)),(0,m.default)((0,l.default)(o),"state",(0,f.observable)(v.STATE)),(0,m.default)((0,l.default)(o),"init",(0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(v.NAMESPACE);case 2:return t=e.sent,o.setState(Object.assign({},t,v.EXCLUDE_STATE,{loadedCatalog:!(null==(t=(0,g.get)("catalog"))||!t.length),_loaded:!0})),e.abrupt("return",o.fetchCatalog());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(o),"fetchCatalog",(0,d.default)(i.mark(function e(){var t,s,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.state,t=r.type,s=r.page,r=r.loadedCatalog,"advance"!==t){e.next=9;break}if(r){e.next=6;break}return e.next=5,(0,g.decode)("catalog");case 5:o.setState({loadedCatalog:!0});case 6:n=o.catalogAdvanceFilter.list,e.next=12;break;case 9:return e.next=11,y.discoveryStore.fetchCatalog({type:t,page:s});case 11:n=e.sent;case 12:return(0,_.queue)(n.map(function(e){return function(){return o.fetchCatalogDetail(e.id)}})),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(o),"fetchCatalogDetail",(t=(0,d.default)(i.mark(function e(t){var s,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:if(null!=(r=y.discoveryStore.catalogDetailFromOSS(t))&&r._loaded&&null!=r&&null!=(n=r.list)&&n.length)return e.abrupt("return",!0);e.next=5;break;case 5:if(null!=r&&r._loaded){e.next=11;break}return e.next=8,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 8:if(e.sent)return e.abrupt("return",!0);e.next=11;break;case 11:return e.next=13,y.discoveryStore.fetchCatalogDetail({id:t});case 13:return null!=(n=e.sent)&&null!=(s=n.list)&&s.length&&o.updateCatalogDetail(Object.assign({},n,{id:t})),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,l.default)(o),"updateCatalogDetail",function(c){setTimeout(function(){var e=c.id,t=c.title,s=c.info,r=c.content,n=c.avatar,o=c.nickname,i=c.userId,d=c.time,a=c.collect,l=c.list,s=(0,j.HTMLDecode)((0,j.removeHTMLTag)(s||r));(0,x.update)("catalog_"+e,{id:e,title:t,info:s?s.slice(0,40):"",avatar:n,nickname:o,userId:i,time:d,collect:a,list:l.filter(function(e,t){return t<3}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}}),total:l.length})},2e3)}),(0,m.default)((0,l.default)(o),"onShow",function(){setTimeout(function(){o.setState({show:!0}),o.setStorage(v.NAMESPACE)},400)}),(0,m.default)((0,l.default)(o),"onToggleType",(s=(0,d.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.state.type,t){if("最新"===t&&""===s)return e.abrupt("return");e.next=4}else e.next=8;break;case 4:if("热门"===t&&"collect"===s)return e.abrupt("return");e.next=6;break;case 6:if("高级"===t&&"advance"===s)return e.abrupt("return");e.next=8;break;case 8:return(0,_.t)("目录.切换类型",{type:t}),o.setState({type:"热门"===t?"collect":"高级"===t?"advance":"",page:1,ipt:"1",show:!1}),e.next=12,o.fetchCatalog();case 12:o.setState({show:!0}),o.setStorage(v.NAMESPACE);case 14:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,l.default)(o),"onPrev",(0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=o.state.page))return e.abrupt("return");e.next=3;break;case 3:(0,_.t)("目录.上一页",{page:t-1}),o.setState({page:t-1,show:!1,ipt:String(t-1)}),o.fetchCatalog(),o.onShow();case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(o),"onNext",(0,d.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=o.state.page,(0,_.t)("目录.下一页",{page:t+1}),o.setState({page:t+1,show:!1,ipt:String(t+1)}),o.fetchCatalog(),o.onShow();case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(o),"onChange",function(e){e=e.nativeEvent.text;o.setState({ipt:e})}),(0,m.default)((0,l.default)(o),"onFilterChange",function(e,t){o.setState((0,m.default)({page:1,show:!1,ipt:"1"},e,t)),o.onShow(),o.fetchCatalog(),(0,_.t)("目录.高级筛选",{value:e+"|"+t})}),(0,m.default)((0,l.default)(o),"onToggleFixed",function(e){o.setState((0,m.default)({},e,!o.state[e])),o.setStorage(v.NAMESPACE),(0,_.t)("目录.切换锁定",{value:e+"|"+!o.state[e]})}),(0,m.default)((0,l.default)(o),"doSearch",function(){var e=o.state.ipt,e=""===e?1:parseInt(e);e<1?(0,j.info)("请输入正确页码"):((0,_.t)("目录.页码跳转",{page:e}),o.setState({page:e,show:!1,ipt:String(e)}),o.fetchCatalog(),setTimeout(function(){o.setState({show:!0}),o.setStorage(v.NAMESPACE)},400))}),o}},"./src/screens/discovery/channel/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=void 0===(t=s.channel.blog)?[]:t;return(0,d.jsxs)(n.default,{style:i._.mt.lg,children:[(0,d.jsx)(o.SectionTitle,{style:i._.container.wind,children:"最近日志"}),(0,d.jsx)(n.default,{style:i._.mt.sm,children:t.map(function(e){return(0,d.jsx)(o.ItemBlog,Object.assign({},e,{event:{id:"频道.跳转",data:{from:"blog",type:s.type}}}),e.id)})})]})});try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/channel/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/channel/discuss/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/channel/discuss/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,u.memoStyles)(),t=void 0===(t=s.channel.discuss)?[]:t;return(0,m.jsxs)(o.default,{style:a._.mt.lg,children:[(0,m.jsx)(d.SectionTitle,{style:a._.container.wind,children:"最新讨论"}),(0,m.jsx)(o.default,{style:a._.mt.sm,children:t.map(function(e){return(0,m.jsx)(i.Touchable,{style:n.item,animate:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Topic",from:"discuss",type:s.type,topicId:e.id}),r.push("Topic",{topicId:e.id,_title:e.title,_replies:e.replies,_userName:e.userName,_userId:e.userId,_time:e.time})},children:(0,m.jsx)(o.default,{style:n.wrap,children:(0,m.jsxs)(i.Flex,{style:n.content,children:[(0,m.jsxs)(i.Flex.Item,{children:[(0,m.jsxs)(i.Text,{size:15,bold:!0,children:[e.title," ","+0"!==e.replies&&(0,m.jsx)(i.Text,{type:"main",size:12,lineHeight:14,bold:!0,children:e.replies})]}),(0,m.jsx)(i.Katakana.Provider,{style:a._.mt.sm,itemStyle:n.katakanas,size:12,children:(0,m.jsx)(i.Katakana,{type:"sub",size:12,children:(0,l.findSubjectCn)(e.subjectName)})})]}),(0,m.jsxs)(o.default,{style:a._.ml.md,children:[(0,m.jsx)(i.Text,{size:12,align:"right",bold:!0,children:e.userName}),(0,m.jsx)(i.Text,{style:a._.mt.xs,type:"sub",size:12,align:"right",children:e.time})]})]})})},e.id)})})]})});try{discuss.displayName="discuss",discuss.__docgenInfo={description:"",displayName:"discuss",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/discuss/index.tsx#discuss"]={docgenInfo:discuss.__docgenInfo,name:"discuss",path:"src/screens/discovery/channel/discuss/index.tsx#discuss"})}catch(e){}},"./src/screens/discovery/channel/discuss/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind},wrap:{paddingRight:r._.wind-r._._wind},content:{paddingVertical:r._.md,paddingRight:r._._wind},katakanas:{marginTop:-4}}})},"./src/screens/discovery/channel/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=void 0;t.STATE={type:"",ota:{}}},"./src/screens/discovery/channel/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/channel/rank/ds.ts"),m=s("./src/screens/discovery/channel/friends/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,m.memoStyles)();return(t=void 0===(t=s.channel.friends)?[]:t).length?(0,p.jsxs)(o.default,{style:a._.mt.lg,children:[(0,p.jsx)(d.SectionTitle,{style:a._.container.wind,children:"好友最近关注"}),(0,p.jsx)(i.Flex,{style:n.container,wrap:"wrap",children:t.map(function(e,t){return(0,p.jsx)(o.default,{style:(0,l.stl)(n.item,t%2!=0&&n.itemMarginLeft),children:(0,p.jsx)(i.Touchable,{animate:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Subject",from:"friends",type:s.type,subjectId:e.id}),r.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,p.jsxs)(i.Flex,{align:"start",children:[(0,p.jsx)(o.default,{style:n.image,children:(0,p.jsx)(d.Cover,{src:e.cover,width:u.COVER_WIDTH_SM,height:u.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:s.typeCn})}),(0,p.jsxs)(i.Flex.Item,{style:"音乐"===s.typeCn?a._.ml.md:a._.ml.sm,children:[(0,p.jsx)(i.Katakana.Provider,{numberOfLines:2,children:(0,p.jsx)(i.Katakana,{bold:!0,numberOfLines:2,size:13,children:(0,l.findSubjectCn)(e.name,e.id)})}),(0,p.jsxs)(i.Text,{style:a._.mt.xs,size:11,numberOfLines:2,children:[(0,p.jsx)(i.Text,{size:11,type:"sub",bold:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Zone",from:"friends",type:s.type,userId:e.userId}),r.push("Zone",{userId:e.userId,_name:e.userName})},children:e.userName})," ",e.action]})]})]})})},""+e.id+e.userId)})})]}):null});try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/discovery/channel/friends/index.tsx#friends"})}catch(e){}},"./src/screens/discovery/channel/friends/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/discovery/channel/rank/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind,marginTop:r._.sm},item:{width:"47.5%",paddingVertical:r._.sm,marginBottom:4},itemMarginLeft:{marginLeft:"5%"},image:{width:n.COVER_WIDTH_SM}}})},"./src/screens/discovery/channel/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,l.jsx)(o.Header,{title:s.typeCn+"频道",alias:"频道",hm:[s.url,"Channel"],headerRight:function(){return(0,l.jsx)(o.Header.Popover,{name:"md-menu",data:[].concat((0,n.default)(a.MODEL_SUBJECT_TYPE.data.map(function(e){return e.title})),["浏览器查看"]),onSelect:function(e){(0,d.t)("频道.右上角菜单",{key:e}),"浏览器查看"===e?(0,i.open)(s.url):setTimeout(function(){r.setOptions({title:e+"频道"}),s.toggleType(a.MODEL_SUBJECT_TYPE.getLabel(e))},40)},children:(0,l.jsx)(o.Heatmap,{id:"频道.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/channel/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/channel/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/channel/header/index.tsx")),l=r(s("./src/screens/discovery/channel/rank/index.tsx")),c=r(s("./src/screens/discovery/channel/friends/index.tsx")),u=r(s("./src/screens/discovery/channel/blog/index.tsx")),m=r(s("./src/screens/discovery/channel/discuss/index.tsx")),p=r(s("./src/screens/discovery/channel/tags/index.tsx")),r=r(s("./src/screens/discovery/channel/store.ts")),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,f.jsxs)(n.Component,{id:"screen-channel",children:[(0,f.jsx)(a.default,{}),(0,f.jsx)(n.Page,{loaded:s.channel._loaded,children:(0,f.jsxs)(n.ScrollView,{contentContainerStyle:i._.container.bottom,scrollToTop:!0,children:[(0,f.jsx)(l.default,{}),(0,f.jsx)(c.default,{}),(0,f.jsx)(u.default,{}),(0,f.jsx)(m.default,{}),(0,f.jsx)(p.default,{})]})})]})})});try{channel.displayName="channel",channel.__docgenInfo={description:"",displayName:"channel",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/index.tsx#channel"]={docgenInfo:channel.__docgenInfo,name:"channel",path:"src/screens/discovery/channel/index.tsx#channel"})}catch(e){}},"./src/screens/discovery/channel/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH_SM=t.COVER_WIDTH=t.COVER_HEIGHT_SM=t.COVER_HEIGHT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),s=(t.COVER_WIDTH=1.2*s.IMG_WIDTH,t.COVER_HEIGHT=1.2*s.IMG_HEIGHT,t.COVER_WIDTH_SM=r._.r(72));t.COVER_HEIGHT_SM=1.28*s},"./src/screens/discovery/channel/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/screens/discovery/channel/rank/ds.ts"),p=s("./src/screens/discovery/channel/rank/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var r=t.$,n=t.navigation,o=(0,p.memoStyles)(),t=r.channel,s=void 0===(s=t.rankTop)?[]:s,t=void 0===(t=t.rank)?[]:t;return(0,f.jsxs)(i.default,{style:l._.mt.md,children:[(0,f.jsx)(a.SectionTitle,{style:l._.container.wind,children:"关注榜"}),(0,f.jsxs)(i.default,{style:l._.mt.sm,children:[s.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,f.jsx)(d.Touchable,{style:o.itemLg,animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,f.jsxs)(d.Flex,{align:"start",children:[(0,f.jsx)(a.Cover,{src:e.cover,width:m.COVER_WIDTH,height:m.COVER_HEIGHT,radius:!0,shadow:!0,type:r.typeCn}),(0,f.jsx)(d.Flex.Item,{style:l._.ml.md,children:(0,f.jsxs)(d.Flex,{style:l._.mt.xs,align:"start",children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsxs)(d.Flex,{style:o.content,direction:"column",justify:"between",align:"start",children:[(0,f.jsxs)(i.default,{children:[(0,f.jsx)(d.Katakana.Provider,{size:15,lineHeight:l._.device(15,18),numberOfLines:2,children:(0,f.jsx)(d.Katakana,{size:15,lineHeight:l._.device(15,18),bold:!0,numberOfLines:2,children:(0,c.findSubjectCn)((0,c.HTMLDecode)(e.name),e.id)})}),(0,f.jsx)(d.Text,{style:l._.mt.xs,size:13,type:"sub",children:e.follow})]}),(0,f.jsx)(i.default,{children:!!s&&(0,f.jsx)(a.Tag,{value:s})})]})}),(0,f.jsx)(d.Text,{style:l._.ml.md,type:0===t?"danger":"main",size:15,bold:!0,children:t+1})]})})]})},e.id)}),(0,f.jsx)(d.Flex,{style:o.container,wrap:"wrap",children:t.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,f.jsx)(i.default,{style:(0,c.stl)(o.item,t%2!=0&&o.itemMarginLeft),children:(0,f.jsx)(d.Touchable,{animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,f.jsxs)(d.Flex,{align:"start",children:[(0,f.jsx)(a.Cover,{src:e.cover,width:m.COVER_WIDTH_SM,height:m.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:r.typeCn}),(0,f.jsx)(d.Flex.Item,{style:"音乐"===r.typeCn?l._.ml.md:l._.ml.sm,children:(0,f.jsxs)(d.Flex,{align:"start",children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsxs)(d.Flex,{style:o.contentSm,direction:"column",justify:"between",align:"start",children:[(0,f.jsxs)(i.default,{children:[(0,f.jsx)(d.Katakana.Provider,{size:12,lineHeight:l._.device(12,18),numberOfLines:3,children:(0,f.jsx)(d.Katakana,{size:12,lineHeight:l._.device(12,18),bold:!0,numberOfLines:3,children:(0,c.findSubjectCn)((0,c.HTMLDecode)(e.name),e.id)})}),(0,f.jsx)(d.Text,{style:l._.mt.xxs,size:11,type:"sub",children:e.follow})]}),(0,f.jsx)(i.default,{children:!!s&&(0,f.jsx)(a.Tag,{value:s})})]})}),(0,f.jsx)(d.Text,{style:l._.ml.xs,type:"warning",size:13,bold:!0,children:t+4})]})})]})})},e.id)})})]})]})});try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/channel/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/channel/rank/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/discovery/channel/rank/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind},itemLg:{width:"100%",paddingVertical:r._.sm,paddingHorizontal:r._.wind,marginBottom:4},image:{width:n.COVER_WIDTH},item:{width:"48%",paddingVertical:r._.sm,marginBottom:4},content:{height:n.COVER_HEIGHT-2*r._.xs},imageSm:{width:n.COVER_WIDTH_SM},contentSm:{height:n.COVER_HEIGHT_SM},itemMarginLeft:{marginLeft:"4%"}}})},"./src/screens/discovery/channel/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/kv/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/discovery/channel/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var v,h=[];t.default=(s=r.default,(0,l.default)(S,s),v=b(S),(0,d.default)(S,[{key:"type",get:function(){return this.state.type||this.params.type||"anime"}},{key:"typeCn",get:function(){return x.MODEL_SUBJECT_TYPE.getTitle(this.type)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"channel",get:function(){var e=y.discoveryStore.channel(this.type);return e._loaded?e:this.ota||{_loaded:0}}},{key:"url",get:function(){return(0,x.HTML_CHANNEL)(this.type)}},{key:"userCollectionsMap",get:function(){return y.collectionStore.userCollectionsMap}},{key:"thirdPartyKey",get:function(){return"channel_"+this.type}}]),(0,p.default)((t=S).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,p.default)(t.prototype,"typeCn",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"typeCn"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"channel",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"channel"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"userCollectionsMap",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userCollectionsMap"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function S(){var r;(0,i.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,m.default)((0,a.default)(r),"params",void 0),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(g.STATE)),(0,m.default)((0,a.default)(r),"init",function(){r.setState({type:r.type}),r.fetchChannel()}),(0,m.default)((0,a.default)(r),"fetchChannel",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,y.discoveryStore.fetchChannel({type:r.type});case 3:return(t=e.sent)&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,86400<=(0,j.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"fetchThirdParty",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.channel._loaded){e.next=8;break}return e.next=3,(0,_.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,m.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,m.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"updateThirdParty",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(r.thirdPartyKey,(0,j.omit)(r.channel,["friends","_loaded"])),h.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"toggleType",function(e){r.setState({type:e}),r.fetchChannel()}),r}},"./src/screens/discovery/channel/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),c=s("./src/screens/discovery/channel/tags/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,c.memoStyles)(),t=void 0===(t=s.channel.tags)?[]:t;return(0,u.jsxs)(o.default,{style:a._.mt.lg,children:[(0,u.jsx)(d.SectionTitle,{style:a._.container.wind,children:"标签"}),(0,u.jsx)(i.Flex,{style:n.container,wrap:"wrap",children:t.map(function(e){return(0,u.jsx)(i.Touchable,{style:n.tag,animate:!0,scale:.85,onPress:function(){(0,l.t)("频道.跳转",{to:"Tag",from:"tags",type:s.type,tag:e}),r.push("Tag",{type:s.type,tag:e})},children:(0,u.jsx)(i.Text,{type:"desc",size:13,children:e})},e)})})]})});try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/channel/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/channel/tags/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.wind,marginTop:12},tag:{paddingVertical:4,paddingHorizontal:8,marginRight:8,marginBottom:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:1,borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs}}})},"./src/screens/discovery/character/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=void 0;t.NAMESPACE="ScreenCharacter",t.STATE={page:0,_loaded:!0}},"./src/screens/discovery/character/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:"用户人物",hm:[s.url,"Character"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("收藏的人物.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"收藏的人物.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/character/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/character/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"收藏的人物.标签页切换",transparent:!0})})})},"./src/screens/discovery/character/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/character/header/index.tsx")),a=r(s("./src/screens/discovery/character/tabs/index.tsx")),l=r(s("./src/screens/discovery/character/heatmaps/index.tsx")),r=r(s("./src/screens/discovery/character/store.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-character",children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{children:[!!s.state._loaded&&(0,c.jsx)(a.default,{}),(0,c.jsx)(l.default,{})]})]})})});try{character.displayName="character",character.__docgenInfo={description:"",displayName:"character",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/index.tsx#character"]={docgenInfo:character.__docgenInfo,name:"character",path:"src/screens/discovery/character/index.tsx#character"})}catch(e){}},"./src/screens/discovery/character/item-recents/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),v=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),S=s("./src/screens/discovery/character/item-recents/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){function s(){(0,v.t)("收藏的人物.跳转",{to:"Subject",subjectId:n}),p.push("Subject",{subjectId:n,_jp:d,_cn:i,_image:o})}var r=e.index,n=e.id,o=e.cover,i=e.name,d=e.nameJP,a=e.type,l=e.info,c=e.star,u=e.starInfo,m=void 0===(e=e.actors)?[]:e,p=t.navigation,f=(0,S.memoStyles)(),e=h.MODEL_SUBJECT_TYPE.getTitle(a),t=(0,b.cnjp)(i,d),y=(0,b.cnjp)(d,i);return(0,O.jsxs)(j.default,{style:f.container,children:[(0,O.jsxs)(_.Flex,{align:"start",style:f.wrap,children:[(0,O.jsx)(j.default,{style:f.imgContainer,children:!!o&&(0,O.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,O.jsx)(x.Cover,{src:o,width:h.IMG_WIDTH,height:h.IMG_HEIGHT,radius:!0,shadow:!0,type:e})})}),(0,O.jsxs)(_.Flex.Item,{children:[(0,O.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,O.jsxs)(_.Flex,{direction:"column",justify:"between",align:"start",children:[(0,O.jsxs)(j.default,{children:[(0,O.jsxs)(_.Flex,{style:g._.container.block,align:"start",children:[(0,O.jsx)(_.Flex.Item,{children:(0,O.jsxs)(_.Katakana.Provider,{size:15,numberOfLines:2,children:[(0,O.jsx)(_.Katakana,{size:15,bold:!0,children:t}),!!y&&(0,O.jsxs)(_.Katakana,{type:"sub",size:11,lineHeight:15,children:[" ",y]})]})}),(0,O.jsxs)(_.Flex,{style:g._.mt.xxs,children:[(0,b.x18)(n,i||d)&&(0,O.jsx)(x.Tag,{style:g._.ml.sm,value:"NSFW"}),!!a&&(0,O.jsx)(x.Tag,{style:g._.ml.sm,value:e})]})]}),!!l&&(0,O.jsx)(_.Text,{style:g._.mt.sm,size:12,lineHeight:14,numberOfLines:4,children:(0,b.HTMLDecode)(l)})]}),!!c&&!!u&&(0,O.jsxs)(_.Flex,{style:g._.mt.sm,children:[!!c&&(0,O.jsx)(x.Stars,{style:g._.mr.xs,value:c}),(0,O.jsx)(_.Text,{style:g._.mr.sm,type:"sub",size:12,children:u})]})]})}),(0,O.jsx)(_.Flex,{style:g._.mt.sm,wrap:"wrap",children:m.map(function(e){return(0,O.jsxs)(_.Flex,{style:(0,b.stl)(1<m.length&&f.actors,g._.mt.md),children:[(0,O.jsx)(_.Touchable,{animate:!0,onPress:function(){(0,v.t)("收藏的人物.跳转",{to:"Mono",monoId:e.id}),p.push("Mono",{monoId:e.id})},children:(0,O.jsx)(x.Cover,{src:e.avatar,size:g._.r(40),radius:!0})}),(0,O.jsxs)(_.Flex.Item,{style:g._.ml.sm,children:[(0,O.jsx)(_.Text,{size:12,numberOfLines:1,bold:!0,children:e.name}),(0,O.jsx)(_.Text,{size:10,lineHeight:12,type:"sub",numberOfLines:1,children:e.info})]})]},e.id)})})]})]}),!r&&(0,O.jsx)(_.Heatmap,{id:"收藏的人物.跳转"})]})})},"./src/screens/discovery/character/item-recents/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{backgroundColor:r._.colorPlain},imgContainer:{width:n.IMG_WIDTH,marginRight:r._.md+4},wrap:{paddingVertical:r._.md},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},actors:{width:"50%"}}})},"./src/screens/discovery/character/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/screens/discovery/character/item/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.index,r=e.avatar,n=e.name,o=e.id,i=t.navigation,e=(0,m.memoStyles)();return(0,p.jsx)(d.default,{style:(0,c.stl)(e.item,s%l._.portrait(5,8)==0&&e.left),children:(0,p.jsxs)(a.Touchable,{animate:!0,scale:.9,onPress:function(){(0,u.t)("收藏的人物.跳转",{to:"Mono",monoId:o}),i.push("Mono",{monoId:o})},children:[(0,p.jsx)(a.Image,{size:e.item.width,src:r,radius:!0,shadow:!0}),(0,p.jsx)(a.Katakana.Provider,{style:l._.mt.sm,size:10,numberOfLines:2,align:"center",children:(0,p.jsx)(a.Katakana,{size:10,numberOfLines:2,align:"center",bold:!0,children:(0,c.HTMLDecode)(n)})})]})})})},"./src/screens/discovery/character/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.portrait(5,8),e=r._.grid(e);return{item:{width:e.width,marginTop:r._.md,marginLeft:e.marginLeft},left:{marginLeft:0}}})},"./src/screens/discovery/character/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/decorators/index.ts"),y=s("./src/utils/app/index.ts"),j=r(s("./src/screens/discovery/character/item/index.tsx")),_=r(s("./src/screens/discovery/character/item-recents/index.tsx")),x=s("./node_modules/react/jsx-runtime.js");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(v,r),b=g(v),(0,o.default)(v,[{key:"isRecents",get:function(){return"recents"===this.props.id}},{key:"num",get:function(){return p._.portrait(5,8)}},{key:"render",value:function(){var e,t,s=this.context.$,r=this.props.id,n=s.list(r);return n._loaded?(e=s.state.page,t=this.isRecents?void 0:this.num,(0,x.jsx)(m.ListView,{keyExtractor:y.keyExtractor,contentContainerStyle:p._.container.wind,data:n,numColumns:t,scrollToTop:s.tabs[e].key===r,renderItem:this.renderItem,onHeaderRefresh:function(){return s.fetchList(r,!0)},onFooterRefresh:function(){return s.fetchList(r)}},""+p._.orientation+t)):(0,x.jsx)(m.Loading,{})}}]);var b,s=v;function v(){var s;(0,n.default)(this,v);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=b.call.apply(b,[this].concat(t)),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return s.isRecents?(0,x.jsx)(_.default,Object.assign({index:e},t)):(0,x.jsx)(j.default,Object.assign({index:e,num:s.num},t))}),s}(0,c.default)(s,"defaultProps",{title:"全部"});t.default=(0,f.obc)(s);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/character/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/character/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/discovery/character/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b;t.default=(s=r.default,(0,l.default)(v,s),b=g(v),(0,d.default)(v,[{key:"userId",get:function(){var e=this.params.userName;return void 0===e?y.userStore.myId:e}},{key:"tabs",get:function(){return this.userId===y.userStore.myId?[{title:"人物近况",key:"recents"},{title:"虚拟角色",key:"characters"},{title:"现实人物",key:"persons"}]:[{title:"虚拟角色",key:"characters"},{title:"现实人物",key:"persons"}]}},{key:"list",value:function(e){var t=this;switch(e){case"persons":return(0,f.computed)(function(){return y.usersStore.persons(t.userId)}).get();case"recents":return(0,f.computed)(function(){return y.usersStore.recents}).get();default:return(0,f.computed)(function(){return y.usersStore.characters(t.userId)}).get()}}},{key:"url",get:function(){var e;return _.HOST+"/user/"+(null==(e=this.params)?void 0:e.userName)+"/mono"}}]),(0,p.default)((t=v).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,p.default)(t.prototype,"tabs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"tabs"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function v(){var r;(0,i.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(r),"params",void 0),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.page,t=r.tabs[t].key,s=r.list(t),s._loaded){e.next=5;break}return e.abrupt("return",r.fetchList(t,!0));case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"fetchList",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];switch(e){case"recents":return y.usersStore.fetchRecents(t);case"persons":return y.usersStore.fetchPersons({userId:r.userId},t);default:return y.usersStore.fetchCharacters({userId:r.userId},t)}}),(0,m.default)((0,a.default)(r),"onChange",function(e){e!==r.state.page&&((0,j.t)("收藏的人物.标签页切换"),r.setState({page:e}),r.setStorage(void 0,void 0,x.NAMESPACE),r.tabChangeCallback(e))}),(0,m.default)((0,a.default)(r),"tabChangeCallback",function(e){e=r.tabs[e].key;r.list(e)._loaded||r.fetchList(e,!0)}),r}},"./src/screens/discovery/character/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/character/list/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,a.jsx)(n.TabsV2,{style:o._.mt._sm,routes:t.tabs,page:s,backgroundColor:o._.colorPlain,renderItem:function(e){return(0,a.jsx)(d.default,{id:e.key},e.key)},onChange:t.onChange},o._.orientation)});try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/character/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/dollars/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenDollars",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,fetching:!1,show:!1,text:""};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/discovery/dollars/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).visibleBottom,n=t.show;return(0,a.jsx)(o.Header,{title:"DOLLARS",hm:["dollars","Dollars"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[!n&&r>=2*d._.window.height&&(0,a.jsx)(i.IconTouchable,{style:d._.mr.xs,name:"md-keyboard-arrow-up",size:24,color:d._.colorTitle,onPress:function(){s.scrollToTop(!0)}}),(0,a.jsx)(i.IconTouchable,{style:d._.mr.xs,name:n?"md-close":"md-edit",size:n?20:16,color:d._.colorTitle,onPress:function(){s.onToggleShow()}})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/dollars/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/dollars/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=m(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/dollars/header/index.tsx")),l=r(s("./src/screens/discovery/dollars/textarea/index.tsx")),c=r(s("./src/screens/discovery/dollars/list/index.tsx")),r=r(s("./src/screens/discovery/dollars/store.ts")),u=s("./node_modules/react/jsx-runtime.js");function m(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(m=function(e){return e?s:t})(e))}t.default=(0,i.ic)(r.default,function(e,t){var s=t.$,r=((0,d.useRunAfter)(function(){s.init()}),(0,n.useRef)(null));return(0,d.useMount)(function(){return r.current=setInterval(function(){s.updateDollars()},8e3),function(){s.scrollViewRef=null,s.inputRef=null,clearInterval(r.current)}}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-dollars",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(o.Page,{loaded:s.dollars._loaded,children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})]})})});try{dollars.displayName="dollars",dollars.__docgenInfo={description:"",displayName:"dollars",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/index.tsx#dollars"]={docgenInfo:dollars.__docgenInfo,name:"dollars",path:"src/screens/discovery/dollars/index.tsx#dollars"})}catch(e){}},"./src/screens/discovery/dollars/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),_=s("./src/screens/discovery/dollars/item/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.index,n=e.avatar,o=e.nickname,i=e.msg,e=e.color,d=t.$,a=t.navigation,t=(0,_.memoStyles)(),l=null==(s=String(n).match(/\/(\d+)\.jpg/))?void 0:s[1];return(0,x.jsxs)(u.Flex,{style:t.item,align:"start",children:[(0,x.jsxs)(u.Flex,{style:t.avatar,direction:"column",children:[(0,x.jsx)(u.UserStatus,{userId:l,children:(0,x.jsx)(m.InView,{style:t.inView,y:64*r+1,children:(0,x.jsx)(m.Avatar,{src:j.HOST+"/pic/user/l/"+n,size:52,borderWidth:2,borderColor:p._.select(p._.colorBorder,"rgba(255, 255, 255, 0.88)"),radius:4,onPress:function(){return d.onToggleShow(o)},onLongPress:function(){l&&(a.push("Zone",{userId:l}),(0,y.t)("Dollars.跳转",{to:"Zone",userId:l}))}})})}),(0,x.jsx)(u.Text,{style:p._.mt.sm,size:12,bold:!0,align:"center",children:o})]}),(0,x.jsx)(u.Flex.Item,{children:(0,x.jsx)(c.default,{style:[t.content,{backgroundColor:e||"transparent"}],children:(0,x.jsx)(u.Text,{type:"__plain__",lineHeight:17,bold:!0,shadow:!0,selectable:!0,children:(0,f.HTMLDecode)(i).replace(/<br \/>/g,"")})})})]})})},"./src/screens/discovery/dollars/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingVertical:12},inView:{minWidth:52,minHeight:52},avatar:{width:80,paddingRight:12},content:{padding:15,paddingTop:12,marginTop:-1,borderWidth:5,borderRadius:r._.radiusMd,borderColor:r._.select("rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.88)")},moreStyle:{}}})},"./src/screens/discovery/dollars/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=r(s("./src/screens/discovery/dollars/item/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=(t=t.$).dollars.list;return(0,l.jsx)(n.default,Object.assign({ref:t.forwardRef,style:o._.container.wind,contentContainerStyle:o._.container.bottom},d.SCROLL_VIEW_RESET_PROPS,{keyboardDismissMode:"on-drag",scrollEventThrottle:4,onScroll:t.onScroll,children:s.map(function(e,t){return(0,l.jsx)(a.default,Object.assign({index:t},e),e.id)})}))});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/dollars/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/dollars/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/dollars/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b;t.default=(s=r.default,(0,l.default)(v,s),b=g(v),(0,d.default)(v,[{key:"isWebLogin",get:function(){return y.userStore.isWebLogin}},{key:"dollars",get:function(){return y.discoveryStore.dollars}}]),(0,p.default)((t=v).prototype,"isWebLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isWebLogin"),t.prototype),(0,p.default)(t.prototype,"dollars",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"dollars"),t.prototype),t);function v(){var r;(0,i.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,a.default)(r),"scrollViewRef",null),(0,m.default)((0,a.default)(r),"inputRef",null),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState(Object.assign({},x.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",r.fetchDollars());case 2:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"forwardRef",function(e){r.scrollViewRef=e}),(0,m.default)((0,a.default)(r),"forwardInputRef",function(e){try{r.inputRef=e.inputRef}catch(e){}}),(0,m.default)((0,a.default)(r),"fetchDollars",function(){return y.discoveryStore.fetchDollars()}),(0,m.default)((0,a.default)(r),"updateDollars",function(){return y.discoveryStore.updateDollars()}),(0,m.default)((0,a.default)(r),"scrollToTop",function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];null!=(e=r.scrollViewRef)&&e.scrollTo&&setTimeout(function(){try{r.scrollViewRef.scrollTo({x:0,y:0,animated:t,duration:640})}catch(e){}},160)}),(0,m.default)((0,a.default)(r),"scrollToBottom",function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];null!=(e=r.scrollViewRef)&&e.scrollToEnd&&setTimeout(function(){try{r.scrollViewRef.scrollToEnd({animated:t,duration:640})}catch(e){}},160)}),(0,m.default)((0,a.default)(r),"onToggleShow",function(e){var t,s;r.isWebLogin?(t=(s=r.state).show,s=s.text,e?(r.setState({show:!0,text:s.includes("@"+e)?s:"@"+e+" "+s}),setTimeout(function(){try{r.inputRef.focus()}catch(e){}},0)):r.setState({show:!t})):(0,j.info)("未登录")}),(0,m.default)((0,a.default)(r),"onChangeText",function(e){r.setState({text:e.trim()})}),(0,m.default)((0,a.default)(r),"onSubmit",function(){var e=r.state,t=e.fetching,s=e.text;t||(s?(r.setState({fetching:!0,show:!1}),setTimeout(function(){r.updateDollars(),y.discoveryStore.doDollars({message:s},function(){r.setState({fetching:!1,text:""}),r.updateDollars(),(0,_.t)("Dollars.发送",{userId:y.userStore.myId})},function(){(0,j.info)("发送失败, 可能需要重新登录"),r.setState({fetching:!1,show:!0})})},80)):(0,j.info)("请输入内容"))}),(0,m.default)((0,a.default)(r),"onScroll",j.updateVisibleBottom.bind((0,a.default)(r))),r}},"./src/screens/discovery/dollars/textarea/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/dollars/textarea/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).show,r=r.text;return s?(s=(0,d.memoStyles)(),(0,a.jsxs)(n.default,{style:s.container,children:[(0,a.jsx)(o.Input,{ref:t.forwardInputRef,style:s.textarea,inputStyle:s.input,multiline:!0,numberOfLines:3,value:r,placeholder:"单击头像可以@某人，长按前往空间",autoFocus:!0,returnKeyType:"done",returnKeyLabel:"发送",onChangeText:t.onChangeText,onSubmitEditing:t.onSubmit}),(0,a.jsx)(o.Touchable,{style:i._.mt.md,onPress:t.onSubmit,children:(0,a.jsx)(n.default,{style:s.btn,children:(0,a.jsx)(o.Text,{size:16,bold:!0,align:"center",children:"POST"})})})]})):null});try{textarea.displayName="textarea",textarea.__docgenInfo={description:"",displayName:"textarea",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/textarea/index.tsx#textarea"]={docgenInfo:textarea.__docgenInfo,name:"textarea",path:"src/screens/discovery/dollars/textarea/index.tsx#textarea"})}catch(e){}},"./src/screens/discovery/dollars/textarea/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},textarea:{borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)"),backgroundColor:r._.select(r._.colorBg,"rgba(255, 255, 255, 0.24)")},input:Object.assign({},r._.fontSize15,{color:r._.colorDesc}),btn:{paddingVertical:r._.sm,borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)")}}})},"./src/screens/discovery/game/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.advFilterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/game/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenGame",t.STATE={query:{first:"",year:2023,platform:"",cate:"",dev:"",pub:"",sort:"发行",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=100,[[],[]]),o=(r.GAME_CATE.forEach(function(e,t){return n[t%2?1:0].push(e)}),[[],[]]),i=(r.GAME_DEV.forEach(function(e,t){return o[t%2?1:0].push(e)}),[[],[]]);r.GAME_PUB.forEach(function(e,t){return i[t%2?1:0].push(e)}),t.filterDS=[{title:"首字　",type:"first",data:r.GAME_FIRST},{title:"发行　",type:"year",data:r.GAME_YEAR,always:!0},{title:"平台　",type:"platform",data:r.GAME_PLATFORM},{title:"类型　",type:"cate",data:n,multiple:!0,always:!0},{title:"开发商",type:"dev",data:o,multiple:!0},{title:"发行商",type:"pub",data:i,multiple:!0},{title:"排序　",type:"sort",data:r.GAME_SORT,always:!0},{title:"收藏",type:"collected",data:r.GAME_COLLECTED}],t.advFilterDS=[{title:"首字　",type:"first",data:r.GAME_FIRST},{title:"发行　",type:"year",data:r.GAME_YEAR,always:!0},{title:"类型　",type:"cate",data:n,multiple:!0,always:!0},{title:"开发商",type:"dev",data:o,multiple:!0},{title:"发行商",type:"dev",data:i,multiple:!0},{title:"排序　",type:"sort",data:r.GAME_SORT,always:!0},{title:"收藏",type:"collected",data:r.GAME_COLLECTED}]},"./src/screens/discovery/game/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/anime/header/index.tsx")),a=r(s("./src/screens/discovery/game/list/index.tsx")),r=r(s("./src/screens/discovery/game/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-game",children:[(0,l.jsx)(d.default,{title:"找游戏",alias:"游戏",hm:["game","Game"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(a.default,{})})]})})});try{game.displayName="game",game.__docgenInfo={description:"",displayName:"game",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/index.tsx#game"]={docgenInfo:game.__docgenInfo,name:"game",path:"src/screens/discovery/game/index.tsx#game"})}catch(e){}},"./src/screens/discovery/game/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/game/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"游戏.跳转"};t.default=(0,r.obc)(function(e,t){var s,r=e.pickIndex,n=e.index,e=e.num,t=t.navigation,r=m.otaStore.gameSubjectId(r),o=(r=m.otaStore.game(r)).id,i=r.t,d=r.c,a=r.sc,l=r.r,r=r.en;return o?(s=(0,f.memoStyles)(),(0,y.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(n%e)&&s.left,navigation:t,event:j,num:e,id:o,cover:d?"//lain.bgm.tv/pic/cover/m/"+d+".jpg":p.IMG_DEFAULT,name:i,score:a,rank:l,airtime:r,collection:m.collectionStore.collect(o)})):(n=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:n.width,height:p.IMG_HEIGHT_LG,marginBottom:n.marginLeft+m._.xs,marginLeft:n.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))})},"./src/screens/discovery/game/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/game/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=void 0;s=s("./src/stores/index.ts"),s=t.THUMB_WIDTH=s._.device(114,Math.floor(.4*s._.window.contentWidth));t.THUMB_HEIGHT=Math.floor(.56*s)},"./src/screens/discovery/game/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),v=s("./src/components/index.ts"),h=s("./src/stores/index.ts"),S=s("./src/screens/_/index.ts"),O=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),T=s("./src/utils/fetch/index.ts"),E=s("./src/constants/index.ts"),C=s("./src/screens/discovery/game/item/ds.ts"),w=s("./src/screens/discovery/game/item/utils.ts"),I=s("./src/screens/discovery/game/item/styles.ts"),A=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o,i,d,a,l=e.index,e=e.pickIndex,c=t.navigation,u=(0,I.memoStyles)(),t=h.otaStore.gameSubjectId(e),m=(e=h.otaStore.game(t)).id,p=e.t,t=e.c,f=e.en,y=e.cn,j=e.sc,_=e.r,x=e.o,g=e.l;return m?(r=20<=(s=(0,O.HTMLDecode)(p)).length?13:14<=s.length?14:15,n=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":E.IMG_DEFAULT,o=(0,w.getThumbs)(m,g),i=(0,w.getThumbs)(m,g,!1),t=k(e,"ta"),g=k(e,"d"),d=k(e,"p"),e=k(e,"pl"),g=g.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),d=d.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),e=[e.join("、"),f,y&&y!==f?"中文 "+y:""],g.join("、")===d.join("、")?e.push(g.join("、")):e.push(g.join("、")+" 开发",d.join("、")+" 发行"),f=e.filter(function(e){return!!e}).join(" / "),a=h.collectionStore.collect(m),(0,A.jsxs)(v.Touchable,{style:u.container,animate:!0,onPress:function(){c.push("Subject",{subjectId:m,_image:n}),(0,T.t)("游戏.跳转",{subjectId:m})},children:[(0,A.jsxs)(v.Flex,{style:u.wrap,align:"start",children:[(0,A.jsx)(S.Cover,{src:n,width:E.IMG_WIDTH_LG,height:E.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"游戏"}),(0,A.jsxs)(v.Flex,{style:u.content,direction:"column",align:"start",children:[(0,A.jsx)(b.default,{style:u.body,children:(0,A.jsxs)(v.Flex,{style:h._.container.block,align:"start",children:[(0,A.jsxs)(v.Flex.Item,{children:[(0,A.jsx)(v.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,A.jsx)(v.Text,{style:h._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:f}),(0,A.jsxs)(v.Flex,{style:h._.mt.md,children:[(0,A.jsx)(S.Rank,{value:_}),(0,A.jsx)(S.Stars,{style:h._.mr.xs,value:j,simple:!0}),!!x&&(0,A.jsxs)(v.Text,{style:h._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),(0,A.jsx)(v.Flex.Item,{children:(0,A.jsx)(S.Tags,{value:t})})]})]}),(0,A.jsx)(S.Manage,{subjectId:m,collection:a,typeCn:"游戏",onPress:function(){h.uiStore.showManageModal({subjectId:m,title:p,status:E.MODEL_COLLECTION_STATUS.getValue(a),action:"玩"},"找游戏")}})]})}),!!o.length&&(0,A.jsx)(b.default,{style:u.thumbs,children:(0,A.jsx)(v.HorizontalList,{data:o.filter(function(e,t){return E.STORYBOOK?o.length<=1||0<t&&t<4:t<3}),renderItem:function(e,t){return(0,A.jsx)(v.Image,{style:(0,O.stl)(!!t&&h._.ml.sm,t===o.length-1&&h._.mr.md),src:e,size:C.THUMB_WIDTH,height:C.THUMB_HEIGHT,radius:!0,errorToHide:!0,onPress:function(){(0,O.showImageViewer)(i.map(function(e){return{url:e}}),t)}},e)},renderNums:2<i.length&&function(){return(0,A.jsx)(v.Touchable,{onPress:function(){(0,O.showImageViewer)(i.map(function(e){return{url:e}}),2)},children:(0,A.jsx)(v.Flex,{style:u.nums,justify:"center",children:(0,A.jsxs)(v.Text,{size:15,bold:!0,children:["+ ",i.length]})})})}})})]})]}),0===l&&(0,A.jsx)(v.Heatmap,{id:"游戏.跳转"})]})):(0,A.jsx)(v.Flex,{style:u.loading,justify:"center",children:(0,A.jsx)(v.Loading.Raw,{})})});function k(e,t){var s=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?t:void 0;return("object"==typeof(null==s?void 0:s[r])?null==s?void 0:s[r]:[(null==s?void 0:s[r])||void 0]).filter(function(e){return void 0!==e})}},"./src/screens/discovery/game/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/discovery/game/item/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:n.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:o.THUMB_HEIGHT},nums:{width:o.THUMB_HEIGHT,height:o.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:n.IMG_HEIGHT_LG}}})},"./src/screens/discovery/game/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e?[]:new Array(e).fill("").map(function(e,t){return(0,n.CDN_GAME)(s,t,r)})};var n=s("./src/constants/index.ts")},"./src/screens/discovery/game/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/game/item/index.tsx")),x=r(s("./src/screens/discovery/game/item-grid/index.tsx")),g=s("./src/screens/discovery/game/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),h=v(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,title:"频道　",name:"游戏",type:"游戏",lastUpdate:j.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,keyExtractor:O,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onGamePage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function O(e){return String(e)}try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/game/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/game/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/game/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/game/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/game/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,v=!1;t.default=(s=r.default,(0,l.default)(h,s),b=g(h),(0,d.default)(h,[{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.gameSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<x.ADVANCE_LIMIT})}}]),(0,p.default)((t=h).prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,p.default)(t.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function h(){var r;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(r),"params",void 0),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:v})),v){e.next=7;break}return e.next=7,(0,j.init)();case 7:return v=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery("string"==typeof s?[s]:s),e.next=12,(0,j.init)();case 12:r.search(),y.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),setTimeout(function(){r.setState({_loaded:!0})},120);case 15:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"search",function(){setTimeout(function(){var e=r.state.query,e=(0,j.search)(e);r.setState({data:e})},80)}),(0,m.default)((0,a.default)(r),"initQuery",function(){var e=r.state.query;r.setState({expand:!0,query:Object.assign({},e,{cate:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])[0]})})}),(0,m.default)((0,a.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(x.NAMESPACE),(0,_.t)("游戏.选择",{type:e,value:t})},0)}),(0,m.default)((0,a.default)(r),"scrollToOffset",null),(0,m.default)((0,a.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("游戏.到顶"))}),(0,m.default)((0,a.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("游戏.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(x.NAMESPACE)}),(0,m.default)((0,a.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(x.NAMESPACE)}),r}},"./src/screens/discovery/hentai/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/hentai/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenHentai",t.STATE={query:{first:"",year:2022,chara:"",job:"",body:"",content:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=80,[[],[]]);r.HENTAI_CONTENT.forEach(function(e,t){return n[t%2?1:0].push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.HENTAI_FIRST},{title:"年份",type:"year",data:r.HENTAI_YEAR,always:!0},{title:"人物",type:"chara",data:r.HENTAI_CHARA,login:!0},{title:"职业",type:"job",data:r.HENTAI_JOB,login:!0},{title:"外貌",type:"body",data:r.HENTAI_BODY,login:!0},{title:"剧情",type:"content",data:n,multiple:!0,login:!0},{title:"排序",type:"sort",data:r.HENTAI_SORT,always:!0},{title:"收藏",type:"collected",data:r.HENTAI_COLLECTED}]},"./src/screens/discovery/hentai/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/hentai/list/index.tsx")),r=r(s("./src/screens/discovery/hentai/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,u.jsxs)(n.Component,{id:"screen-hentai",children:[(0,u.jsx)(l.default,{title:"找番剧",alias:"Hentai",hm:["hentai","Hentai"]}),(0,u.jsx)(n.Page,{loaded:s.state._loaded,children:s.access?(0,u.jsx)(c.default,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.FilterSwitch,{name:"Hentai"}),(0,u.jsx)(n.Text,{style:i._.mt.lg,align:"center",children:"游客或您所在的用户组暂不开放此功能"})]})})]})})});try{hentai.displayName="hentai",hentai.__docgenInfo={description:"",displayName:"hentai",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/index.tsx#hentai"]={docgenInfo:hentai.__docgenInfo,name:"hentai",path:"src/screens/discovery/hentai/index.tsx#hentai"})}catch(e){}},"./src/screens/discovery/hentai/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/hentai/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"Hentai.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,f.memoStyles)(),s=m.otaStore.hentaiSubjectId(s),o=(s=m.otaStore.hentai(s)).id,i=s.i,d=s.c,a=s.a,l=s.s,s=s.r;return o?(0,y.jsx)(u.ItemCollectionsGrid,{navigation:t,style:(m._.isPad||m._.isLandscape)&&!(r%e)&&n.left,event:j,num:e,id:o,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":p.IMG_DEFAULT,name:d,score:l,rank:s,airtime:a?String(a).slice(0,7):"",collection:m.collectionStore.collect(o)}):(t=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:t.width,height:p.IMG_HEIGHT_LG,marginBottom:t.marginLeft+m._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))})},"./src/screens/discovery/hentai/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/hentai/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),x=s("./src/stores/index.ts"),g=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/utils/fetch/index.ts"),v=s("./src/utils/subject/hentai/index.ts"),h=s("./src/constants/index.ts"),S=s("./src/screens/discovery/hentai/item/utils.ts"),O=s("./src/screens/discovery/hentai/item/styles.ts"),T=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.$,d=t.navigation,a=(0,O.memoStyles)(),t=x.otaStore.hentaiSubjectId(e),l=(e=x.otaStore.hentai(t)).id,c=e.h,t=e.i,u=e.c,m=e.e,p=e.a,f=void 0===(f=e.t)?[]:f,y=e.s,j=e.r,e=e.n;return l?(s=20<=u.length?13:14<=u.length?14:15,r=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":h.IMG_DEFAULT,t=[m?m+"话":"",p].filter(function(e){return!!e}).join(" / "),n=x.collectionStore.collect(l),(0,T.jsxs)(_.Touchable,{style:a.container,animate:!0,onPress:function(){d.push("Subject",{subjectId:l,_cn:u,_image:r,_hid:c}),(0,b.t)("Hentai.跳转",{subjectId:l})},children:[(0,T.jsxs)(_.Flex,{style:a.wrap,align:"start",children:[(0,T.jsx)(g.Cover,{src:r,width:h.IMG_WIDTH_LG,height:h.IMG_HEIGHT_LG,radius:!0,shadow:!0,textOnly:h.TEXT_ONLY||!i.isLogin}),(0,T.jsx)(_.Flex.Item,{style:x._.ml.wind,children:(0,T.jsxs)(_.Flex,{style:i.isLogin&&14<=f.length?a.contentFlux:a.content,direction:"column",justify:"between",align:"start",children:[(0,T.jsxs)(_.Flex,{align:"start",children:[(0,T.jsxs)(_.Flex.Item,{children:[(0,T.jsx)(_.Text,{size:s,bold:!0,numberOfLines:3,children:u}),(0,T.jsx)(_.Text,{style:x._.mt.sm,size:11,lineHeight:14,children:t})]}),(0,T.jsx)(g.Manage,{subjectId:l,collection:n,onPress:function(){x.uiStore.showManageModal({subjectId:l,title:u,status:h.MODEL_COLLECTION_STATUS.getValue(n)},"找Hentai")}})]}),i.isLogin&&!!f.length&&(0,T.jsxs)(_.Flex,{style:x._.mt.sm,wrap:"wrap",children:[f.map(function(e){return(0,T.jsx)(g.Tag,{style:a.tag,type:(0,S.getType)(i.state,e),value:v.HENTAI_TAGS[e]},e)}),(0,T.jsx)(g.Tag,{value:"+"+f.length})]}),(0,T.jsxs)(_.Flex,{style:x._.mt.md,wrap:"wrap",children:[(0,T.jsx)(g.Rank,{value:j}),(0,T.jsx)(g.Stars,{style:x._.mr.xs,value:y,simple:!0}),!!e&&(0,T.jsxs)(_.Text,{type:"sub",size:11,bold:!0,children:["(",e,")"]})]})]})})]}),0===o&&(0,T.jsx)(_.Heatmap,{id:"Hentai.跳转"})]})):(0,T.jsx)(_.Flex,{style:a.loading,justify:"center",children:(0,T.jsx)(_.Loading.Raw,{})})})},"./src/screens/discovery/hentai/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:n.IMG_HEIGHT_LG},contentFlux:{minHeight:n.IMG_HEIGHT_LG},tag:{marginTop:6,marginRight:6},loading:{height:n.IMG_HEIGHT_LG}}})},"./src/screens/discovery/hentai/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getType=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,e=null==e?void 0:e.query,s=e.chara,r=e.job,n=e.body,e=e.content,t=o.HENTAI_TAGS[t];return s===t||r===t||n===t||e===t?"main":void 0};var o=s("./src/utils/subject/hentai/index.ts")},"./src/screens/discovery/hentai/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/hentai/item/index.tsx")),_=r(s("./src/screens/discovery/hentai/item-grid/index.tsx")),x=s("./src/screens/discovery/hentai/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(h,r),v=b(h),(0,o.default)(h,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,g.jsx)(p.Filter,{filterDS:x.filterDS,name:"Hentai",type:"Hentai",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能仅对正常登录用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,g.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onHentaiPage},""+r+s)):(0,g.jsxs)(g.Fragment,{children:[this.renderFilter(),(0,g.jsx)(m.Loading,{})]})}}]);var v,s=h;function h(){var s;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,g.jsx)(j.default,{pickIndex:t,index:e}):(0,g.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function S(e){return String(e)}try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/hentai/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/hentai/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/hentai/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/hentai/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/hentai/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,v=!1;t.default=(s=r.default,(0,l.default)(h,s),b=g(h),(0,d.default)(h,[{key:"access",get:function(){return!y.userStore.isLimit}},{key:"isLogin",get:function(){return y.userStore.isLogin}},{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.hentaiSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<x.ADVANCE_LIMIT})}}]),(0,p.default)((t=h).prototype,"access",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"access"),t.prototype),(0,p.default)(t.prototype,"isLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLogin"),t.prototype),(0,p.default)(t.prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,p.default)(t.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function h(){var r;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(r),"params",void 0),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:v})),v){e.next=7;break}return e.next=7,(0,j.init)();case 7:v=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery(s),y.collectionStore.fetchUserCollectionsQueue(!1),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"search",function(t){setTimeout(function(){var e=r.state.query,e=(0,j.search)(t||e);r.setState({data:e})},80)}),(0,m.default)((0,a.default)(r),"initQuery",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];r.setState({expand:!0}),e.forEach(function(e){var t=r.state.query;r.setState({query:Object.assign({},t,(0,m.default)({},(0,j.getTagType)(j.HENTAI_TAGS_MAP[e]),e))})})}),(0,m.default)((0,a.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(x.NAMESPACE),(0,_.t)("Hentai.选择",{type:e,value:t})},0)}),(0,m.default)((0,a.default)(r),"scrollToOffset",null),(0,m.default)((0,a.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("Hentai.到顶"))}),(0,m.default)((0,a.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("Hentai.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(x.NAMESPACE)}),(0,m.default)((0,a.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(x.NAMESPACE)}),r}},"./src/screens/discovery/index/component/award-2022/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Award2022")},"./src/screens/discovery/index/component/award-2022/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),l=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/dev/index.ts"),p=s("./src/utils/fetch/index.ts"),f=s("./src/utils/hooks/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/index/component/award-2022/utils.web.ts"),_=s("./src/screens/discovery/index/component/award-2022/ds.ts"),x=s("./src/screens/discovery/index/component/award-2022/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}function n(e){var t=e.navigation,s=e.width,r=e.height,n=((0,m.r)(_.COMPONENT),(0,x.memoStyles)()),e=u.systemStore.setting.coverRadius,o=(0,a.useRef)(null),i=((0,f.useMount)(function(){o.current.innerHTML=(0,j.getHtml)(s||n.body.width,r||n.body.height)}),s||n.item2022.width),d=r||n.item2022.height;return(0,g.jsx)(l.default,{style:[n.container,{height:r||n.container.height,marginRight:r?0:n.container.marginRight}],children:(0,g.jsx)(c.Squircle,{width:i,height:d,radius:e,children:(0,g.jsx)(c.Touchable,{style:[n.item2022,{width:i,height:d}],animate:!0,onPress:function(){(0,p.t)("发现.跳转",{to:"Award",year:2022,from:"Award2022"}),t.push("Award",{uri:y.HOST+"/award/2022"})},children:(0,g.jsx)(l.default,{ref:o})})})})}t.default=n;try{n.displayName="Award2022",n.__docgenInfo={description:"",displayName:"Award2022",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award-2022/index.web.tsx#Award2022"]={docgenInfo:n.__docgenInfo,name:"Award2022",path:"src/screens/discovery/index/component/award-2022/index.web.tsx#Award2022"})}catch(e){}},"./src/screens/discovery/index/component/award-2022/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164),t=2*e+16;return{container:{height:e,marginRight:r._.md},item2022:{width:2*r._.device(128,164)+16,height:r._.device(128,164)},body:{width:t,height:e,backgroundColor:"#ffffff",opacity:.99}}})},"./src/screens/discovery/index/component/award-2022/utils.web.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHtml=function(e,t){return"\n  <style>\n    .award2022 * {\n      padding: 0;\n      margin: 0;\n    }\n    .award2022 {\n      box-sizing: border-box;\n      position: relative;\n      width: "+e+"px;\n      height: "+t+'px;\n      padding: 0;\n      margin: 0 0 10px 0;\n      line-height: 100%;\n      background: #fff;\n      border: none;\n    }\n    .award2022 .wrap {\n      position: absolute;\n      z-index: 1;\n      width: 100%;\n      height: 100%;\n      color: #fff;\n      background-color: transparent;\n    }\n    .award2022 .header {\n      margin: 30px auto;\n      text-indent: -9999px;\n      font-size: 0;\n      line-height: 100%;\n      background: url(https://bgm.tv/img/event/2022/title.png);\n      width: 80%;\n      max-width: 860px;\n      max-height: 120px;\n      aspect-ratio: 860 / 120;\n      background-size: 100% auto;\n      background-repeat: no-repeat;\n      z-index: 3;\n      position: relative;\n    }\n    .award2022 .heroes {\n      position: absolute;\n      width: 168px;\n      height: 85px;\n      background-image: url(https://bgm.tv/img/event/2022/heroes_s.png);\n      background-size: 100% 100%;\n      background-repeat: no-repeat;\n      bottom: 0;\n      z-index: 2;\n    }\n    .award2022 .oceanCanvas {\n      position: absolute;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 1;\n    }\n    .award2022 .oceanCanvas div {\n      position: absolute;\n      overflow: hidden;\n    }\n    .award2022 .oceanCanvas .sea {\n      height: 30%;\n      width: 200%;\n      left: -50%;\n      top: 40%;\n      border-radius: 0 0 50% 50%;\n      background: linear-gradient(\n        to bottom,\n        rgba(255, 255, 255, 1) 0%,\n        rgba(255, 255, 255, 1) 75%,\n        rgba(235, 233, 234, 1) 100%\n      );\n      animation: waveanim ease-in-out 10s;\n      animation-iteration-count: infinite;\n      transform-origin: 50% 0%;\n      overflow: hidden;\n    }\n    .award2022 .oceanCanvas .sand {\n      height: 35%;\n      width: 100%;\n      background: rgb(248, 247, 245);\n      top: 65%;\n      border-radius: 0 0 15px 15px;\n    }\n    .award2022 .oceanCanvas .sand-front {\n      height: 10%;\n      width: 100%;\n      background: rgb(248, 247, 245);\n      top: 90%;\n      border-radius: 0 0 15px 15px;\n    }\n    .award2022 .oceanCanvas .wet-sand {\n      height: 37.5%;\n      width: 200%;\n      left: -50%;\n      top: 40%;\n      border-radius: 0 0 50% 50%;\n      background: rgb(237, 233, 227);\n      box-shadow: 0 10px 10px 0 rgb(241, 238, 234);\n      animation: wetsandanim ease-in-out 10s;\n      animation-iteration-count: infinite;\n    }\n    .award2022 @keyframes waveanim {\n      0% {\n        transform: scaleY(1);\n      }\n      35% {\n        transform: scaleY(1.3);\n      }\n      69% {\n        transform: scaleY(1);\n      }\n      100% {\n        transform: scaleY(1);\n      }\n    }\n    .award2022 @keyframes wetsandanim {\n      0% {\n        opacity: 0.2;\n      }\n      34% {\n        opacity: 0.2;\n      }\n      35% {\n        opacity: 0.7;\n      }\n      100% {\n        opacity: 0.2;\n      }\n    }\n    .award2022 @keyframes seafoamanim {\n      0% {\n        opacity: 0;\n      }\n      30% {\n        opacity: 1;\n      }\n      50% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 0;\n      }\n    }\n  </style>\n  <div class="award2022">\n    <div class="wrap">\n      <div class="oceanCanvas">\n        <div class="sand"></div>\n        <div class="wet-sand"></div>\n        <div class="sea">\n          <div class="seafoam"></div>\n        </div>\n        <div class="seafoam"></div>\n        <div class="sea">\n          <div class="seafoam"></div>\n        </div>\n        <div class="sand-front"></div>\n      </div>\n      <div class="heroes"></div>\n      <div class="header"></div>\n    </div>\n  </div>'}},"./src/screens/discovery/index/component/award/block/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Block")},"./src/screens/discovery/index/component/award/block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),c=s("./src/constants/index.ts"),n=s("./src/screens/discovery/index/component/award/block/ds.ts"),u=s("./src/screens/discovery/index/component/award/block/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.year,r=t.navigation,e=(0,u.memoStyles)(),t=a.systemStore.setting.coverRadius,n=(o=e.item).width,o=o.height;return(0,m.jsx)(d.Touchable,{style:e.item,animate:!0,onPress:function(){(0,l.t)("发现.跳转",{to:"Award",year:s,from:"Award"}),r.push("Award",{uri:c.HOST+"/award/"+s})},children:(0,m.jsx)(d.Squircle,{width:n,height:o,radius:t,children:(0,m.jsx)(i.default,{style:e["item"+s],children:(0,m.jsx)(d.Image,{src:c.ASSETS_AWARDS[s],size:n-(2019===s?32:0),height:o,placeholder:!1,resizeMode:2018!==s?"contain":"cover"})})})})},n.COMPONENT)},"./src/screens/discovery/index/component/award/block/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164);return{item:{width:2*e+16,height:e,marginRight:r._.md},item2022:{backgroundColor:"rgb(255, 255, 255)"},item2021:{backgroundColor:"rgb(236, 243, 236)"},item2020:{backgroundColor:"rgb(236, 243, 236)"},item2019:{paddingLeft:18,backgroundColor:"rgb(54, 63, 69)"},item2018:{paddingLeft:10,backgroundColor:"rgb(0, 0, 0)"}}})},"./src/screens/discovery/index/component/award/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEARS_RIGHT=t.YEARS_LEFT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Award"),t.YEARS_LEFT=[2022,2021],t.YEARS_RIGHT=[2020,2019,2018]},"./src/screens/discovery/index/component/award/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),i=s("./src/stores/index.ts"),d=s("./src/utils/dev/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/index/component/award/block/index.tsx")),c=r(s("./src/screens/discovery/index/component/award/more/index.tsx")),u=r(s("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx")),m=s("./src/screens/discovery/index/component/award/ds.ts"),p=s("./src/screens/discovery/index/component/award/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");function y(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(y=function(e){return e?s:t})(e))}t.default=function(){(0,d.r)(m.COMPONENT);var e=(0,o.useState)(i._.isPad),t=(e=(0,n.default)(e,2))[0],s=e[1],r=(0,o.useCallback)(function(e){20<=e.nativeEvent.contentOffset.x&&s(!0)},[]);return(0,a.useObserver)(function(){return(0,f.jsxs)(u.default,{contentContainerStyle:p.styles.container,onScroll:t?void 0:r,children:[m.YEARS_LEFT.map(function(e){return(0,f.jsx)(l.default,{year:e},e)}),t&&(0,f.jsxs)(f.Fragment,{children:[m.YEARS_RIGHT.map(function(e){return(0,f.jsx)(l.default,{year:e},e)}),(0,f.jsx)(c.default,{})]})]})})}},"./src/screens/discovery/index/component/award/more/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"More")},"./src/screens/discovery/index/component/award/more/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),n=s("./src/screens/discovery/index/component/award/more/ds.ts"),c=s("./src/screens/discovery/index/component/award/more/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation,t=(0,c.memoStyles)(),r=(n=t.more).width,n=n.height,o=a.systemStore.setting.coverRadius,i=a._.select("plain","title");return(0,u.jsx)(d.Touchable,{style:a._.container.touch,animate:!0,onPress:function(){(0,l.t)("发现.跳转",{to:"Yearbook",from:"Award"}),s.push("Yearbook")},children:(0,u.jsx)(d.Squircle,{width:r,height:n,radius:o,children:(0,u.jsxs)(d.Flex,{style:t.more,justify:"center",direction:"column",children:[(0,u.jsx)(d.Text,{size:18,type:i,bold:!0,children:"更多"}),(0,u.jsx)(d.Text,{size:18,type:i,bold:!0,children:"年鉴"})]})})})},n.COMPONENT);try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award/more/index.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/index/component/award/more/index.tsx#more"})}catch(e){}},"./src/screens/discovery/index/component/award/more/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164);return{more:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)}}})},"./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ScrollViewHorizontal")},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),f=r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),y=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),j=s("./src/utils/dev/index.ts"),_=s("./src/utils/hooks/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts"),b=s("./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts"),v=(s("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"),s("./node_modules/react/jsx-runtime.js")),h=["children"];function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}var S="scroll-view-horizontal";function d(e){var t=e.children,s=(0,o.default)(e,h),i=((0,j.r)(g.COMPONENT),(0,_.useDom)(S)),e=(0,p.useState)(!1),e=(0,n.default)(e,2),d=e[0],a=e[1],e=(0,p.useState)(0),e=(0,n.default)(e,2),l=e[0],c=e[1],e=(0,p.useState)(0),e=(0,n.default)(e,2),u=e[0],m=e[1];return(0,p.useEffect)(function(){function e(e){a(!0),n.style.cursor="grabbing",c(e.pageX-n.offsetLeft),m(n.scrollLeft)}function t(){a(!1),n.classList.remove(o),n.style.cursor="grab"}function s(){a(!1),n.classList.remove(o),n.style.cursor="grab"}function r(e){d&&(e.preventDefault(),e=e.pageX-n.offsetLeft-l,n.scrollLeft=u-e,10<Math.abs(e))&&n.classList.add(o)}var n=i.current,o=S+"--grabbing";return n.addEventListener("mousedown",e),n.addEventListener("mouseleave",t),n.addEventListener("mouseup",s),n.addEventListener("mousemove",r),function(){n.removeEventListener("mousedown",e),n.removeEventListener("mouseleave",t),n.removeEventListener("mouseup",s),n.removeEventListener("mousemove",r)}},[d,l,u,i]),(0,y.useObserver)(function(){var e=(0,b.memoStyles)();return(0,v.jsx)(f.default,Object.assign({ref:i,contentContainerStyle:e.contentContainerStyle,scrollEventThrottle:8},x.SCROLL_VIEW_RESET_PROPS,s,{horizontal:!0,children:t}))})}t.default=d;try{d.displayName="ScrollViewHorizontal",d.__docgenInfo={description:"",displayName:"ScrollViewHorizontal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx#ScrollViewHorizontal"]={docgenInfo:d.__docgenInfo,name:"ScrollViewHorizontal",path:"src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx#ScrollViewHorizontal"})}catch(e){}},"./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingVertical:4,paddingHorizontal:r._.wind}}})},"./src/screens/discovery/index/component/award/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{paddingVertical:s._.md,paddingHorizontal:s._.windSm}})},"./src/screens/discovery/index/component/btn/btn.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/index/component/btn/ds.ts"),j=s("./src/screens/discovery/index/component/btn/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o=e.item,e=e.onPress,t=t.$,i=(0,j.memoStyles)(),d=o.key,a=o.name,l=o.text,c=o.icon,o=o.size,t=5<=t.discoveryMenuNum,u=t?i.wrapSm:i.wrap,m=t?i.itemSm:i.item;return"Split"===d?(0,_.jsx)(p.default,{style:y._.container.touch,children:(0,_.jsx)(p.default,{style:u,children:(0,_.jsx)(f.Flex,{style:m,justify:"center",children:(0,_.jsx)(p.default,{style:i.split})})})}):(s=t?i.iconWrapSm:i.iconWrap,r=(i=t?i.iconSm:i.icon).width,n=(o||24)-(t?2:0),u=(0,_.jsx)(f.Flex,{style:u,justify:"center",children:(0,_.jsxs)(f.Flex,{style:m,direction:"column",justify:"center",children:[(0,_.jsx)(f.Squircle,{style:s,width:r,height:r,radius:r,children:(0,_.jsx)(f.Flex,{style:i,justify:"center",children:l?(0,_.jsx)(f.Text,{type:"__plain__",size:(o||16)-(t?2:0),bold:!0,children:l}):(0,_.jsx)(f.Iconfont,{name:c,size:n,color:y._.__colorPlain__})})}),(0,_.jsx)(f.Text,{style:y._.mt.sm,size:12,align:"center",bold:!0,numberOfLines:1,children:a})]})}),e?(0,_.jsxs)(f.Touchable,{style:y._.container.touch,animate:!0,onPress:e,children:[u,(0,_.jsx)(f.Heatmap,{id:"发现.跳转",to:d,alias:a})]}):(0,_.jsx)(p.default,{style:y._.container.touch,children:u}))},n.COMPONENT_MAIN)},"./src/screens/discovery/index/component/btn/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Btn");t.COMPONENT_MAIN=(0,r.rc)(s)},"./src/screens/discovery/index/component/btn/index.tsx":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),u=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/Clipboard/index.js"))),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=r(s("./src/constants/i18n/index.ts")),y=s("./src/screens/_/base/filter-switch/index.tsx"),j=r(s("./src/screens/discovery/index/component/btn/btn.tsx")),r=s("./src/screens/discovery/index/component/btn/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.item,r=t.$,n=t.navigation,t=r.state.dragging,s=r.userInfo,o=s.username,i=s.id,d=e.key,a=e.login;return(0,_.jsx)(j.default,{item:e,onPress:t?void 0:(0,c.default)(l.mark(function e(){var t,s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||o||i){e.next=3;break}return(0,m.info)("请先"+f.default.login()),e.abrupt("return");case 3:if("Open"===d)return r.toggleDragging(),e.abrupt("return");e.next=6;break;case 6:if((0,p.t)("发现.跳转",{to:d,from:"Btn"}),"Anime"===d)return e.next=10,(0,y.getLastPath)();e.next=12;break;case 10:return t=e.sent,e.abrupt("return",n.push(t));case 12:if("Netabare"===d)return e.abrupt("return",n.push("WebBrowser",{url:"https://netaba.re/trending",title:"评分趋势"}));e.next=14;break;case 14:if("UserTimeline"===d)return e.abrupt("return",n.push(d,{userId:o||i}));e.next=16;break;case 16:if("Link"===d)return e.next=19,u.default.getString();e.next=26;break;case 19:if(t=e.sent,s=(0,m.matchBgmUrl)(t,!0)||[],s=s[0]){e.next=25;break}return r.toggleLinkModal(),e.abrupt("return",!0);case 25:return e.abrupt("return",(0,m.appNavigate)(s,n));case 26:return e.abrupt("return",n.push(d,a?{userName:o||i}:{}));case 27:case"end":return e.stop()}},e)}))})},r.COMPONENT)},"./src/screens/discovery/index/component/btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.r(50);return{wrap:{width:.249*(r._.windowSm.width-2*r._.windSm),height:.249*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},wrapSm:{width:.198*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},item:{width:(r._.windowSm.width-2*r._.windSm)/4},itemSm:{width:(r._.windowSm.width-2*r._.windSm)/5},iconWrap:{width:e},iconWrapSm:{width:e-4},icon:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},iconSm:{width:e-4,height:e-4,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},split:{width:3,height:28,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel2),borderRadius:2}}})},"./src/screens/discovery/index/component/cover-lg/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverLg")},"./src/screens/discovery/index/component/cover-lg/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),_=s("./src/screens/discovery/index/ds.ts"),n=s("./src/screens/discovery/index/component/cover-lg/ds.ts"),x=s("./src/screens/discovery/index/component/cover-lg/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.src,n=e.cn,o=e.data,i=t.navigation,e=(0,x.memoStyles)(),d=(t=p.systemStore.setting).coverRadius,t="magma"===t.cdnOrigin,a=(l=e.cover).width,l=l.height,l="音乐"===s?a:l;return(0,g.jsx)(u.Touchable,{style:e.item,animate:!0,onPress:function(){(0,y.t)("发现.跳转",{to:"Subject",subjectId:o.subjectId,from:"CoverLg|"+s}),i.push("Subject",{subjectId:o.subjectId,_jp:o.title,_cn:n,_type:s,_image:r,_imageForce:r})},children:(0,g.jsxs)(u.Squircle,{width:a,height:l,radius:d,children:[(0,g.jsx)(m.Cover,{src:t?(0,f.matchCoverUrl)(r,!1):(0,f.getCoverLarge)(r),size:a,height:l,cdn:t}),(0,g.jsx)(j.LinearGradient,{style:e.linear,colors:_.linearColor,pointerEvents:"none"}),(0,g.jsxs)(c.default,{style:e.desc,pointerEvents:"none",children:[(0,g.jsx)(u.Text,{type:p._.select("plain","desc"),bold:!0,children:o.info}),(0,g.jsx)(u.Text,{style:p._.mt.xs,size:22,type:p._.select("plain","title"),bold:!0,numberOfLines:2,children:(0,f.HTMLDecode)(n)})]})]})})},n.COMPONENT)},"./src/screens/discovery/index/component/cover-lg/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{marginTop:r._.md,marginHorizontal:r._.windSm},cover:{width:r._.windowSm.contentWidth,height:1.38*r._.windowSm.contentWidth},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},desc:{position:"absolute",zIndex:2,right:r._._wind-2,bottom:r._.md,left:r._._wind-2,opacity:.92}}})},"./src/screens/discovery/index/component/cover-sm/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverSm")},"./src/screens/discovery/index/component/cover-sm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),_=s("./src/screens/discovery/index/ds.ts"),n=s("./src/screens/discovery/index/component/cover-sm/ds.ts"),x=s("./src/screens/discovery/index/component/cover-sm/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.src,n=e.cn,o=e.data,i=t.navigation,e=(0,x.memoStyles)(),t=p.systemStore.setting.coverRadius,d="音乐"===s,a=(l=e.cover).width,l=l.height,l=d?a:l;return(0,g.jsx)(u.Touchable,{style:e.item,animate:!0,onPress:function(){(0,y.t)("发现.跳转",{to:"Subject",subjectId:o.subjectId,from:"CoverSm|"+s}),i.push("Subject",{subjectId:o.subjectId,_jp:o.title,_cn:n,_type:s,_image:r,_imageForce:r})},children:(0,g.jsxs)(u.Squircle,{width:a,height:l,radius:t,children:[(0,g.jsx)(m.Cover,{src:(0,f.getCoverMedium)(r),size:a,height:l}),(0,g.jsx)(j.LinearGradient,{style:(0,f.stl)(e.linear,d&&e.linearMusic),colors:_.linearColor,pointerEvents:"none"}),(0,g.jsxs)(c.default,{style:e.desc,pointerEvents:"none",children:[(0,g.jsx)(u.Text,{size:10,type:p._.select("plain","title"),numberOfLines:1,bold:!0,children:o.info}),(0,g.jsx)(u.Text,{style:p._.mt.xs,type:p._.select("plain","title"),size:11,numberOfLines:2,bold:!0,children:(0,f.HTMLDecode)(n)})]})]})})},n.COMPONENT)},"./src/screens/discovery/index/component/cover-sm/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.windowSm.contentWidth*r._.device(.34,.42);return{item:{marginRight:r._._wind+2},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-32},desc:{position:"absolute",zIndex:2,right:r._._wind-4,bottom:14,left:r._._wind-4,opacity:.92}}})},"./src/screens/discovery/index/component/cover-today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WEEKDAY_CN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverToday"),t.WEEKDAY_CN={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"}},"./src/screens/discovery/index/component/cover-today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),p=s("./src/screens/discovery/index/ds.ts"),f=s("./src/screens/discovery/index/component/cover-today/ds.ts"),y=s("./src/screens/discovery/index/component/cover-today/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.data,r=t.navigation,e=(0,y.memoStyles)(),n=(t=e.cover).width,t=t.height,o=l.systemStore.setting.coverRadius;return(0,j.jsx)(d.Touchable,{style:e.item,animate:!0,onPress:function(){var e;(0,u.t)("发现.跳转",{to:"Subject",subjectId:s.id,from:"CoverToday"}),r.push("Subject",{subjectId:s.id,_jp:s.name,_cn:s.name_cn,_image:null==s||null==(e=s.images)?void 0:e.common})},children:(0,j.jsxs)(d.Squircle,{width:n,height:t,radius:o,children:[(0,j.jsx)(a.Cover,{src:(0,c.getCoverMedium)(null==s||null==(o=s.images)?void 0:o.common),width:n,height:t}),(0,j.jsx)(m.LinearGradient,{style:e.linear,colors:p.linearColor,pointerEvents:"none"}),(0,j.jsxs)(i.default,{style:e.info,pointerEvents:"none",children:[(0,j.jsxs)(d.Text,{size:l._.device(10,13),type:l._.select("plain","title"),numberOfLines:1,bold:!0,pointerEvents:"none",children:[s.timeCN.slice(0,2),":",s.timeCN.slice(2)," · 周",f.WEEKDAY_CN[s.weekday]]}),(0,j.jsx)(d.Text,{style:l._.mt.xs,size:l._.device(10,12),type:l._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:(0,c.HTMLDecode)((0,c.cnjp)(s.name_cn,s.name))})]})]})})},f.COMPONENT)},"./src/screens/discovery/index/component/cover-today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=Math.max(100,r._.windowSm.contentWidth*r._.device(.26,.298));return{item:{marginRight:r._.device(r._._wind,r._.md)},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,top:"50%",right:0,bottom:0,left:0,marginBottom:-.5},info:{position:"absolute",zIndex:2,right:r._.sm+4,bottom:r._.sm+2,left:r._.sm+4,opacity:.92}}})},"./src/screens/discovery/index/component/cover-xs/cover-xs.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),_=s("./src/screens/discovery/index/ds.ts"),n=s("./src/screens/discovery/index/component/cover-xs/ds.ts"),x=s("./src/screens/discovery/index/component/cover-xs/styles.ts"),g=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.imageWidth,n=e.avatarRound,o=e.title,i=e.avatar,d=e.data,e=p.systemStore.setting.coverRadius,a="音乐"===o,l=a?r:1.38*r;return(0,g.jsxs)(c.default,{children:[(0,g.jsx)(u.Touchable,{style:s.item,animate:!0,onPress:function(){(0,y.t)("发现.跳转",{to:"Subject",subjectId:d.id,from:"CoverXs|"+o}),t.push("Subject",{subjectId:d.id,_jp:d.name,_type:o,_image:d.cover})},children:(0,g.jsxs)(u.Squircle,{width:r,height:l,radius:e,children:[(0,g.jsx)(m.Cover,{src:(0,f.getCoverMedium)(d.cover),width:r,height:l}),(0,g.jsx)(j.LinearGradient,{style:(0,f.stl)(s.linear,a&&s.linearMusic),colors:_.linearColor,pointerEvents:"none"}),(0,g.jsx)(u.Text,{style:s.desc,size:7,type:p._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:(0,f.HTMLDecode)(d.name)})]})}),!!i&&(0,g.jsx)(c.default,{style:s.fixed,children:(0,g.jsx)(u.UserStatus,{userId:d.userId,mini:!0,children:(0,g.jsx)(m.Avatar,{navigation:t,size:x.AVATAR_SIZE,src:i,userId:d.userId,name:d.userName,radius:!n||x.AVATAR_SIZE})})})]})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);t.default=s;try{coverxs.displayName="coverxs",coverxs.__docgenInfo={description:"",displayName:"coverxs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { marginRight: number; }; linear: { position: "absolute"; zIndex: number; height: number; right: number; bottom: number; left: number; marginBottom: number; }; linearMusic: { bottom: number; }; desc: { ...; }; fixed: { ...; }; }'}},imageWidth:{defaultValue:null,description:"",name:"imageWidth",required:!0,type:{name:"number"}},avatarRound:{defaultValue:null,description:"",name:"avatarRound",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ id: SubjectId; cover: string; name: string; userId: UserId; userName: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/cover-xs/cover-xs.tsx#coverxs"]={docgenInfo:coverxs.__docgenInfo,name:"coverxs",path:"src/screens/discovery/index/component/cover-xs/cover-xs.tsx#coverxs"})}catch(e){}},"./src/screens/discovery/index/component/cover-xs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverXs");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},imageWidth:0,avatarRound:!1,title:"",avatar:"",data:{}}},"./src/screens/discovery/index/component/cover-xs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/index/component/cover-xs/cover-xs.tsx")),r=s("./src/screens/discovery/index/component/cover-xs/ds.ts"),d=s("./src/screens/discovery/index/component/cover-xs/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.title,r=e.avatar,e=e.data,t=t.navigation,n=o.systemStore.setting.avatarRound;return(0,a.jsx)(i.default,{navigation:t,styles:(0,d.memoStyles)(),imageWidth:.2*o._.windowSm.contentWidth,avatarRound:n,title:s,avatar:r,data:e})},r.COMPONENT)},"./src/screens/discovery/index/component/cover-xs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=t.AVATAR_SIZE=void 0;var r=s("./src/stores/index.ts");t.AVATAR_SIZE=24,t.memoStyles=r._.memoStyles(function(){return{item:{marginRight:r._._wind+2},linear:{position:"absolute",zIndex:1,height:64,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-20},desc:{position:"absolute",zIndex:2,right:3,bottom:3,left:25,minHeight:13,opacity:.92},fixed:{position:"absolute",zIndex:2,bottom:-1,left:-4}}})},"./src/screens/discovery/index/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/index/component/link-modal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LINKS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"LinkModal"),t.LINKS=[{key:"条目",value:n.HOST+"/subject/",text:n.HOST+"/subject/{ID}"},{key:"帖子",value:n.HOST+"/group/topic/",text:n.HOST+"/group/topic/{ID}"},{key:"小组",value:n.HOST+"/group/",text:n.HOST+"/group/{ID}"},{key:"虚拟人物",value:n.HOST+"/character/",text:n.HOST+"/character/{ID}"},{key:"现实人物",value:n.HOST+"/person/",text:n.HOST+"/person/{ID}"},{key:"用户空间",value:n.HOST+"/user/",text:n.HOST+"/user/{ID}"},{key:"标签",value:n.HOST+"/tag/",text:n.HOST+"/tag/{ID}"},{key:"目录",value:n.HOST+"/index/",text:n.HOST+"/index/{ID}"},{key:"日志",value:n.HOST+"/blog/",text:n.HOST+"/blog/{ID}"}]},"./src/screens/discovery/index/component/link-modal/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),_=s("./src/screens/discovery/index/component/link-modal/ds.ts"),x=s("./src/screens/discovery/index/component/link-modal/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var v;t.default=(0,r.obc)((s=u.default.Component,(0,d.default)(h,s),v=b(h),(0,o.default)(h,[{key:"componentDidMount",value:function(){var s=this,e=this.context.$;(0,p.autorun)(function(){e.state.visible&&setTimeout(function(){try{var e,t;"function"==typeof(null==s||null==(e=s.iptRef)||null==(t=e.inputRef)?void 0:t.focus)&&s.iptRef.inputRef.focus()}catch(e){}},240)})}},{key:"renderModal",value:function(){var t=this,e=this.context,s=e.$,r=e.navigation,e=s.state,n=e.visible,e=e.link;return(0,g.jsxs)(f.Modal,{style:this.styles.modal,visible:n,title:"剪贴板",onClose:s.toggleLinkModal,children:[(0,g.jsxs)(m.default,{style:this.styles.container,children:[(0,g.jsx)(f.Text,{size:13,bold:!0,children:"可能由于权限问题，未能在剪贴板中匹配到链接，请手动粘贴或输入"}),(0,g.jsxs)(f.Flex,{style:y._.mt.md,align:"center",children:[(0,g.jsx)(f.Flex.Item,{children:(0,g.jsx)(f.Input,{ref:function(e){return t.iptRef=e},style:this.styles.ipt,defaultValue:e,placeholder:"输入或粘贴 bgm.tv 的链接",showClear:!0,onChangeText:s.onChangeText,onSubmitEditing:function(){return s.onLinkSubmit(r)}})}),(0,g.jsx)(f.Touchable,{style:y._.ml.md,onPress:function(){return s.onLinkSubmit(r)},children:(0,g.jsx)(f.Text,{size:13,children:"提交"})})]})]}),(0,g.jsx)(m.default,{style:this.styles.info,children:(0,g.jsx)(f.Touchable,{onPress:this.onOpenActionSheet,children:(0,g.jsx)(f.Text,{size:14,type:"sub",children:"预设"})})})]})}},{key:"renderActionSheet",value:function(){var t=this,e=this.state.show;return(0,g.jsx)(f.ActionSheet,{show:e,title:"预设",height:640,onClose:this.onCloseActionSheet,children:(0,g.jsx)(m.default,{style:y._.container.wind,children:_.LINKS.map(function(e){return(0,g.jsx)(f.Touchable,{style:t.styles.item,onPress:function(){return t.onSelect(e.value)},children:(0,g.jsxs)(f.Flex,{children:[(0,g.jsxs)(f.Flex.Item,{children:[(0,g.jsx)(f.Text,{size:15,bold:!0,children:e.key}),(0,g.jsx)(f.Text,{style:y._.mt.xs,type:"sub",size:13,bold:!0,children:e.text})]}),(0,g.jsx)(f.Iconfont,{name:"md-navigate-next"})]})},e.key)})})})}},{key:"render",value:function(){return(0,j.r)(_.COMPONENT),(0,g.jsxs)(g.Fragment,{children:[this.renderModal(),this.renderActionSheet()]})}},{key:"styles",get:function(){return(0,x.memoStyles)()}}]),h));function h(){var r;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(r),"state",{show:!1}),(0,c.default)((0,i.default)(r),"iptRef",void 0),(0,c.default)((0,i.default)(r),"onOpenActionSheet",function(){r.setState({show:!0},function(){try{var e,t,s;"function"==typeof(null==(e=(0,i.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.blur)&&r.iptRef.inputRef.blur()}catch(e){}})}),(0,c.default)((0,i.default)(r),"onCloseActionSheet",function(){r.setState({show:!1},function(){setTimeout(function(){try{var e,t,s;"function"==typeof(null==(e=(0,i.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.focus)&&r.iptRef.inputRef.focus()}catch(e){}},480)})}),(0,c.default)((0,i.default)(r),"onSelect",function(e){r.context.$.onChangeText(e),r.onCloseActionSheet()}),r}try{linkmodal.displayName="linkmodal",linkmodal.__docgenInfo={description:"",displayName:"linkmodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/link-modal/index.tsx#linkmodal"]={docgenInfo:linkmodal.__docgenInfo,name:"linkmodal",path:"src/screens/discovery/index/component/link-modal/index.tsx#linkmodal"})}catch(e){}},"./src/screens/discovery/index/component/link-modal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},info:{position:"absolute",zIndex:1,top:1,right:20,marginTop:-20},item:{paddingVertical:12}}})},"./src/screens/discovery/index/component/list-item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_HEIGHT=t.INITIAL_RENDER_NUMS_SM=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"ListItem");t.COMPONENT_MAIN=(0,n.rc)(s),t.INITIAL_RENDER_NUMS_SM=r._.device(Math.floor(r._.window.contentWidth/140)+1,0),t.ITEM_HEIGHT=800,t.DEFAULT_PROPS={styles:{},style:{},index:0,type:"anime",list:[],friendsChannel:[],friendsMap:{}}},"./src/screens/discovery/index/component/list-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/index/component/list-item/list-item.tsx")),r=s("./src/screens/discovery/index/component/list-item/ds.ts"),i=s("./src/screens/discovery/index/component/list-item/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),a={};t.default=(0,n.obc)(function(e,t){var s,r=e.style,n=e.index,e=void 0===(e=e.type)?"anime":e;return!(t=t.$).state.dragging&&null!=(s=a[e]||t.ramdonHome[e])&&s.length?(null!=s&&s.length&&!a[e]&&(a[e]=s),(0,d.jsx)(o.default,{styles:(0,i.memoStyles)(),style:r,index:n,type:e,list:a[e],friendsChannel:t.friendsChannel(e),friendsMap:t.friendsMap})):null},r.COMPONENT)},"./src/screens/discovery/index/component/list-item/list-item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/index/ds.ts"),y=r(s("./src/screens/discovery/index/component/cover-lg/index.tsx")),j=r(s("./src/screens/discovery/index/component/cover-sm/index.tsx")),_=r(s("./src/screens/discovery/index/component/cover-xs/index.tsx")),x=r(s("./src/screens/discovery/index/component/section-title/index.tsx")),g=s("./src/screens/discovery/index/component/list-item/ds.ts"),b=s("./node_modules/react/jsx-runtime.js"),r=(0,n.memo)(function(e){var t=e.styles,s=e.style,r=e.index,n=e.type,o=e.list,i=e.friendsChannel,d=e.friendsMap,a=p.MODEL_SUBJECT_TYPE.getTitle(n);return(0,b.jsxs)(c.InView,{y:.64*u._.window.height+r*g.ITEM_HEIGHT,children:[(0,b.jsx)(x.default,{title:a,type:n}),(0,b.jsx)(y.default,{title:a,src:(0,m.getCoverLarge)(o[0].cover)||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(o[0].title,o[0].subjectId),data:o[0]}),(0,b.jsx)(l.HorizontalList,{style:s,contentContainerStyle:t.contentContainerStyle,data:o.filter(function(e,t){return 0<t}),initialRenderNums:g.INITIAL_RENDER_NUMS_SM,renderItem:function(e){return(0,b.jsx)(j.default,{title:a,src:e.cover||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(e.title,e.subjectId),data:e},e.subjectId)}}),!!i.length&&(0,b.jsx)(l.HorizontalList,{contentContainerStyle:t.contentContainerStyleSm,data:i.filter(function(e){return"/img/no_img.gif"!==e.cover}),initialRenderNums:f.INITIAL_RENDER_NUMS_XS,renderItem:function(e){var t;return(0,b.jsx)(_.default,{title:a,avatar:null==(t=d[e.userId])?void 0:t.avatar,data:e},e.userId+"|"+e.id)}})]})},g.DEFAULT_PROPS,g.COMPONENT_MAIN);t.default=r;try{listitem.displayName="listitem",listitem.__docgenInfo={description:"",displayName:"listitem",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ contentContainerStyle: { paddingVertical: number; paddingRight: number; paddingLeft: number; }; contentContainerStyleSm: { paddingRight: number; paddingBottom: number; paddingLeft: number; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"any[]"}},friendsChannel:{defaultValue:null,description:"",name:"friendsChannel",required:!0,type:{name:"DeepPartial<{ id: SubjectId; name: string; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; userId: UserId; userName: string; action: string; }>[]"}},friendsMap:{defaultValue:null,description:"",name:"friendsMap",required:!0,type:{name:"FriendsMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list-item/list-item.tsx#listitem"]={docgenInfo:listitem.__docgenInfo,name:"listitem",path:"src/screens/discovery/index/component/list-item/list-item.tsx#listitem"})}catch(e){}},"./src/screens/discovery/index/component/list-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingVertical:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingLeft:r._.windSm},contentContainerStyleSm:{paddingRight:r._.windSm-r._._wind,paddingBottom:r._.md+4,paddingLeft:r._.windSm}}})},"./src/screens/discovery/index/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/index/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=r(s("./src/screens/discovery/index/header-component/index.tsx")),c=s("./src/screens/discovery/index/component/list/utils.tsx"),r=s("./src/screens/discovery/index/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){return e=e.isFocused,t=t.$,(0,u.jsxs)(o.BlurViewRoot,{children:[(0,u.jsx)(n.ListView,{ref:t.forwardRef,keyExtractor:c.keyExtractor,style:i._.container.flex,contentContainerStyle:i._.container.bottom,data:t.state.home,ListHeaderComponent:(0,u.jsx)(l.default,{}),showFooter:!i.systemStore.setting.live2D&&!t.state.dragging,renderItem:c.renderItem,scrollToTop:a.WSA||e,scrollEnabled:!t.state.dragging,scrollEventThrottle:4,onScroll:t.onScroll}),(0,u.jsx)(o.BlurViewBottomTab,{})]})},r.COMPONENT)},"./src/screens/discovery/index/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=l,t.renderItem=c,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/constants/index.ts"),d=r(s("./src/screens/discovery/index/component/list-item/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");function l(e){return e.type}function c(e){var t=e.item,e=e.index;return(0,a.jsxs)(n.default,{children:[(0,a.jsx)(d.default,Object.assign({},t,{index:e})),(0,a.jsx)(o.Heatmap,{id:"发现.跳转",from:i.MODEL_SUBJECT_TYPE.getTitle(t.type)})]})}try{l.displayName="keyExtractor",l.__docgenInfo={description:"",displayName:"keyExtractor",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list/utils.tsx#keyExtractor"]={docgenInfo:l.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/index/component/list/utils.tsx#keyExtractor"})}catch(e){}try{c.displayName="renderItem",c.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list/utils.tsx#renderItem"]={docgenInfo:c.__docgenInfo,name:"renderItem",path:"src/screens/discovery/index/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/index/component/mesume/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Mesume")},"./src/screens/discovery/index/component/mesume/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./node_modules/react-native-webview/index.js"),i=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),c=s("./src/screens/discovery/index/component/mesume/utils.ts"),u=s("./src/screens/discovery/index/component/mesume/ds.ts"),m=s("./src/screens/discovery/index/component/mesume/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.dragging,s=(0,a.useIsFocused)();return(0,a.useObserver)(function(){var e;return l.STORYBOOK||t||!s?null:(e=(0,m.memoStyles)(),(0,p.jsxs)(p.Fragment,{children:[!l.IOS&&(0,p.jsx)(n.default,{style:e.prevent,children:(0,p.jsx)(i.Touchable,{style:e.touch,ripple:!1,withoutFeedback:!0,onPress:function(){}})}),(0,p.jsx)(n.default,{style:e.stage,children:(0,p.jsx)(o.WebView,{style:e.webview,source:{html:(0,c.getHtml)(d.systemStore.setting.live2DVoice)},scrollEnabled:!1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,androidHardwareAccelerationDisabled:!0})})]}))})},u.COMPONENT);try{mesume.displayName="mesume",mesume.__docgenInfo={description:"",displayName:"mesume",props:{dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/mesume/index.tsx#mesume"]={docgenInfo:mesume.__docgenInfo,name:"mesume",path:"src/screens/discovery/index/component/mesume/index.tsx#mesume"})}catch(e){}},"./src/screens/discovery/index/component/mesume/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{prevent:{position:"absolute",zIndex:1,bottom:r._.ios(r._.tabBarHeight,r._.xs),right:0},touch:{width:132,height:256},stage:{position:"absolute",zIndex:10,bottom:r._.ios(r._.tabBarHeight,r._.xs),right:0,width:128,height:256,backgroundColor:"transparent"},webview:{backgroundColor:"transparent"}}})},"./src/screens/discovery/index/component/mesume/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHtml=function(e){return"<!DOCTYPE html>\n  <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <title>Document</title>\n      <style>\n        * {\n          padding: 0;\n          margin: 0;\n        }\n        #ukagaka_shell {\n          position: fixed;\n          bottom: 0;\n          right: 0;\n          z-index: 90;\n        }\n        #ukagaka_shell div.ui_10 {\n          width: 150px;\n          height: 355px;\n          color: #ab515d;\n        }\n        #ukagaka_shell .ukagaka_body {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n        #oml-stage {\n          position: fixed;\n          bottom: 0;\n          opacity: 0;\n          left: auto;\n          right: 0 !important;\n          z-index: 80;\n        }\n        #oml-canvas {\n          width: 100%;\n          height: 100%;\n          position: relative;\n          z-index: 81;\n        }\n      </style>\n    </head>\n    <body>\n      <div id=\"ukagaka_shell\">\n        <div class=\"ui_10\">\n          <div class=\"ukagaka_body shell_1\">\n            <div id=\"ukagaka_voice\"></div>\n          </div>\n        </div>\n      </div>\n      <script src=\"https://unpkg.com/jquery@3.6.0/dist/jquery.min.js\"><\/script>\n      <script>\n        $(document).ready(() => {\n          var chiiLib = {\n            ukagaka: {\n              playVoice: function (voice_list) {\n                var voice_id = voice_list[Math.floor(Math.random() * voice_list.length)]\n                var voice_str =\n                  '<audio><source src=\"https://s-sh-4501-bangumi-cdn.oss.dogecdn.com/live-2d/wave/wave' +\n                  voice_id +\n                  '.wav\" type=\"audio/wav\"></audio>'\n                $('#ukagaka_voice').html(voice_str)\n                var voice = document.querySelector('#ukagaka_voice audio')\n                voice.volume = 0.2\n                voice.play()\n              }\n            }\n          }\n\n          $.cachedScript = function (url, options) {\n            options = $.extend(options || {}, {\n              dataType: \"script\",\n              cache: true,\n              url: url,\n            });\n            return $.ajax(options);\n          };\n\n          $.cachedScript('https://bgm.tv/js/oml-cubism4.min.js?v3').done(function () {\n            var path = 'live-2d/bangumi_musume_2d.model3.json'\n            OML2D.loadOhMyLive2D({\n              sayHello: false,\n              tips: false,\n              transitionTime: 500,\n              rootElement: '#ukagaka_shell',\n              callback: {\n                ready: function () {\n                  $('#ukagaka_shell .ukagaka_body').css({\n                    'animation-name': 'oml-stage-slide-out',\n                    'animation-duration': '500ms',\n                    animationFillMode: 'forwards'\n                  })\n                },\n                hit: function (hitAreas, model) {\n                  if (hitAreas.includes('Body')) {\n                    model.motion('Tap@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([41, 40])":"")+"\n                  } else if (hitAreas.includes('Hair')) {\n                    model.motion('Tap')\n                    "+(e?"chiiLib.ukagaka.playVoice([39, 53, 29, 30, 31])":"")+"\n                  } else if (hitAreas.includes('Face')) {\n                    model.motion('Flick@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([40, 43, 44, 45, 46, 48, 49, 50, 51, 52, 59])":"")+"\n                  }\n                }\n              },\n              source: 'https://s-sh-4501-bangumi-cdn.oss.dogecdn.com',\n              models: {\n                path: path,\n                scale: 0.72,\n                stageStyle: { width: '140', height: '256' }\n              }\n            })\n          })\n        })\n      <\/script>\n    </body>\n  </html>"}},"./src/screens/discovery/index/component/section-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SectionTitle")},"./src/screens/discovery/index/component/section-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),n=s("./src/screens/discovery/index/component/section-title/ds.ts"),l=s("./src/screens/discovery/index/component/section-title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.type,n=t.navigation,e=(0,l.memoStyles)();return(0,c.jsx)(i.SectionTitle,{style:e.section,right:(0,c.jsx)(o.Touchable,{style:e.touch,onPress:function(){(0,a.t)("发现.跳转",{to:"Channel",title:s,from:"SectionTitle"}),n.push("Channel",{type:r})},children:(0,c.jsxs)(o.Flex,{children:[(0,c.jsx)(o.Text,{children:"　　"}),(0,c.jsx)(o.Iconfont,{name:"md-navigate-next",color:d._.colorTitle})]})}),children:s})},n.COMPONENT)},"./src/screens/discovery/index/component/section-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{section:{marginTop:24,marginHorizontal:r._.windSm},touch:{paddingVertical:r._.xs,paddingLeft:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/discovery/index/component/sort-menu/btns/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/sort-menu/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Btns")},"./src/screens/discovery/index/component/sort-menu/btns/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/stores/system/init.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),n=s("./src/screens/discovery/index/component/sort-menu/btns/ds.ts"),p=s("./src/screens/discovery/index/component/sort-menu/btns/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.setMenu,r=e.onCancel,e=e.onSave,n=t.navigation,t=(0,p.memoStyles)();return(0,f.jsxs)(o.default,{style:m.STORYBOOK&&t.web,children:[(0,f.jsxs)(i.Flex,{style:t.btns,justify:"end",children:[(0,f.jsx)(i.Flex.Item,{children:(0,f.jsx)(i.Touchable,{style:t.touch,onPress:r,children:(0,f.jsx)(i.Flex,{style:t.btn,justify:"center",children:(0,f.jsx)(i.Text,{type:"sub",bold:!0,size:11,children:"取消"})})})}),(0,f.jsx)(i.Flex.Item,{style:a._.ml.md,children:(0,f.jsx)(i.Touchable,{style:t.touch,onPress:e,children:(0,f.jsx)(i.Flex,{style:t.btn,justify:"center",children:(0,f.jsx)(i.Text,{type:"__plain__",bold:!0,size:11,children:"保存"})})})}),(0,f.jsx)(d.IconTouchable,{style:t.refresh,name:"md-refresh",color:a._.colorDesc,onPress:function(){(0,c.confirm)("是否恢复默认菜单布局",function(){s(l.INIT_DISCOVERY_MENU)})}})]}),(0,f.jsx)(i.Touchable,{style:a._.mt.sm,onPress:function(){(0,u.t)("发现.跳转",{to:"Setting",from:"SortMenu"}),n.push("Setting",{open:"Discovery"})},children:(0,f.jsxs)(i.Flex,{style:t.setting,children:[(0,f.jsx)(i.Flex.Item,{children:(0,f.jsx)(i.Text,{children:"更多设置"})}),(0,f.jsx)(i.Iconfont,{name:"md-navigate-next",size:24})]})})]})},n.COMPONENT)},"./src/screens/discovery/index/component/sort-menu/btns/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{web:{position:"fixed",zIndex:1,right:r._.wind,bottom:100,left:r._.wind},btns:{paddingHorizontal:r._.sm,marginTop:r._.md,marginBottom:n.STORYBOOK?0:r._.md},touch:{borderRadius:r._.r(36),overflow:"hidden"},btn:{height:r._.r(36),backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:r._.r(36)},refresh:{marginRight:r._.sm,marginLeft:r._.md},setting:{paddingHorizontal:r._.sm,marginVertical:r._.sm}}})},"./src/screens/discovery/index/component/sort-menu/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),n=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,n.rc)(s.COMPONENT,"SortMenu");t.COMPONENT_MAIN=(0,n.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},orientation:r._.orientation,dragging:!1,discoveryMenu:[],discoveryTodayOnair:!0,discoveryMenuNum:4,onToggle:function(){},onSubmit:function(){}}},"./src/screens/discovery/index/component/sort-menu/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/index/component/sort-menu/sort-menu.tsx")),r=s("./src/screens/discovery/index/component/sort-menu/ds.ts"),l=s("./src/screens/discovery/index/component/sort-menu/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=t.$,t=t.navigation,r=(0,l.memoStyles)();return(0,c.jsx)(n.default,{style:(0,i.stl)(r.container,s.discoveryMenuNum<5&&o._.mt.sm),children:(0,c.jsx)(a.default,{navigation:t,styles:r,orientation:o._.orientation,dragging:s.state.dragging,discoveryMenu:s.discoveryMenu,discoveryTodayOnair:s.discoveryTodayOnair,discoveryMenuNum:s.discoveryMenuNum,onToggle:s.toggleDragging,onSubmit:s.saveDiscoveryMenu})})},r.COMPONENT);try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/sort-menu/index.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/component/sort-menu/index.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/component/sort-menu/sort-menu.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),x=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),b=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),v=s("./src/components/index.ts"),h=s("./src/components/@/react-native-draggable-grid/draggable-grid.tsx"),n=s("./src/utils/decorators/index.ts"),S=s("./src/constants/index.ts"),O=s("./src/screens/discovery/index/ds.ts"),T=r(s("./src/screens/discovery/index/component/btn/index.tsx")),E=r(s("./src/screens/discovery/index/component/sort-menu/btns/index.tsx")),r=s("./src/screens/discovery/index/component/sort-menu/ds.ts"),C=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var s=e.styles,t=e.orientation,r=e.dragging,n=e.discoveryMenu,o=e.discoveryMenuNum,i=e.onToggle,d=e.onSubmit,e=(0,g.useState)(n),e=(0,x.default)(e,2),a=e[0],l=e[1],e=(0,g.useMemo)(function(){return(0,O.getMenus)(a)},[a]),c=e.findIndex(function(e){return"Open"===e.key}),u=(0,g.useCallback)(function(e,t){return(0,C.jsx)(b.default,{style:c<t&&"Cancel"!==e.key&&"Save"!==e.key&&s.transparent,children:(0,C.jsx)(T.default,{item:e})},e.key)},[c,s.transparent]),m=(0,g.useCallback)(function(e){var t=[];e.forEach(function(e){if("Save"!==e.key)return"Split"===e.key?t.push("Open"):void t.push(e.key)}),l(t)},[]),p=(0,g.useCallback)(function(){i(),setTimeout(function(){l(n)},80)},[n,i]),f=(0,g.useCallback)(function(){d(a),setTimeout(function(){i()},80)},[a,d,i]),y=(0,g.useMemo)(function(){return r&&(0,C.jsx)(E.default,{setMenu:l,onCancel:p,onSave:f})},[r,p,f]),j=t===S.ORIENTATION_PORTRAIT,e=r?[].concat((0,_.default)(e.slice(0,c)),[{key:"Split",name:"后面隐藏",text:"|",size:20}],(0,_.default)(e.slice(c+1,e.length))):e.filter(function(e,t){return t<=c});return(0,C.jsxs)(b.default,{style:r&&s.dragging,children:[j&&r&&(0,C.jsx)(v.Text,{style:s.text,size:13,bold:!0,children:"按住拖拽排序，拖动到分割线左侧显示，右侧隐藏"}),!j&&y,r?(0,C.jsx)(h.DraggableGrid,{data:e,numColumns:o,itemHeight:s.dragItem.height,renderItem:u,onDragRelease:m},t+"|"+o):(0,C.jsx)(v.Flex,{wrap:"wrap",children:e.map(function(e){return u(e)})}),j&&y]})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);t.default=s;try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingHorizontal: number; minHeight: number; }; dragging: { minHeight: number; }; transparent: { opacity: number; }; text: { marginTop: number; marginLeft: number; marginBottom: number; }; dragItem: { ...; }; }"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"PORTRAIT"'},{value:'"LANDSCAPE"'}]}},dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"boolean"}},discoveryMenu:{defaultValue:null,description:"",name:"discoveryMenu",required:!0,type:{name:'("Tinygrail" | "Search" | "Calendar" | "Rank" | "Anime" | "Browser" | "Catalog" | "DiscoveryBlog" | "Tags" | "Staff" | "Smb" | "Netabare" | "Open" | "Like" | "Recommend" | "Wiki" | ... 10 more ... | "Link")[]'}},discoveryTodayOnair:{defaultValue:null,description:"",name:"discoveryTodayOnair",required:!0,type:{name:"boolean"}},discoveryMenuNum:{defaultValue:null,description:"",name:"discoveryMenuNum",required:!0,type:{name:"number"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:'(discoveryMenu: ("Tinygrail" | "Search" | "Calendar" | "Rank" | "Anime" | "Browser" | "Catalog" | "DiscoveryBlog" | "Tags" | "Staff" | "Smb" | "Netabare" | "Open" | "Like" | "Recommend" | "Wiki" | ... 10 more ... | "Link")[]) => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/sort-menu/sort-menu.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/component/sort-menu/sort-menu.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/component/sort-menu/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.windSm,minHeight:100},dragging:{minHeight:r._.web(r._.window.height-r._.tabBarHeight,0)},transparent:{opacity:r._.select(.6,.4)},text:{marginTop:r._.ios(r._.sm,r._.md),marginLeft:r._.md,marginBottom:r._.sm},dragItem:{height:n.STORYBOOK?94:(r._.windowSm.width-2*r._.windSm)/4}}})},"./src/screens/discovery/index/component/today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTP_ROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Today");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULTP_ROPS={styles:{},todayBangumi:[]}},"./src/screens/discovery/index/component/today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/index/component/today/today.tsx")),r=s("./src/screens/discovery/index/component/today/ds.ts"),i=s("./src/screens/discovery/index/component/today/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){return(t=t.$).discoveryTodayOnair&&t.todayBangumi.length?(0,d.jsx)(o.default,{styles:(0,i.memoStyles)(),todayBangumi:t.todayBangumi}):null},r.COMPONENT);try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/today/index.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/component/today/index.tsx#today"})}catch(e){}},"./src/screens/discovery/index/component/today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(r._._wind,r._.md);return{contentContainerStyle:{paddingTop:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingBottom:r._.sm,paddingLeft:r._.windSm},split:{marginRight:e-r._.sm,marginLeft:-r._.sm},line:{width:2,height:2,marginVertical:r._.xs,backgroundColor:r._.colorIcon,borderRadius:2,overflow:"hidden"}}})},"./src/screens/discovery/index/component/today/today.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/index/ds.ts"),l=r(s("./src/screens/discovery/index/component/cover-today/index.tsx")),r=s("./src/screens/discovery/index/component/today/ds.ts"),c=s("./node_modules/react/jsx-runtime.js"),s=(0,d.memo)(function(e){var s=e.styles,e=e.todayBangumi;return(0,c.jsx)(o.HorizontalList,{contentContainerStyle:s.contentContainerStyle,data:e,initialRenderNums:a.INITIAL_RENDER_NUMS_XS,renderItem:function(e,t){return(0,c.jsxs)(c.Fragment,{children:[2===t&&(0,c.jsxs)(o.Flex,{style:s.split,direction:"column",justify:"center",children:[(0,c.jsx)(n.default,{style:s.line}),(0,c.jsx)(o.Text,{size:10,type:"sub",children:"now"}),(0,c.jsx)(n.default,{style:[s.line,{marginTop:i._.xs+2}]})]}),(0,c.jsx)(l.default,{data:e},e.id)]})}})},r.DEFAULTP_ROPS,r.COMPONENT_MAIN);t.default=s;try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ contentContainerStyle: { paddingTop: number; paddingRight: number; paddingBottom: number; paddingLeft: number; }; split: { marginRight: number; marginLeft: number; }; line: { width: number; height: number; marginVertical: number; backgroundColor: "rgb(200, 200, 200)" | "rgba(255, 255, 255, 0.38)"; borderRadius: nu...'}},todayBangumi:{defaultValue:null,description:"",name:"todayBangumi",required:!0,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/today/today.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/component/today/today.tsx#today"})}catch(e){}},"./src/screens/discovery/index/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.MENU_MAP_STORYBOOK=t.MENU_MAP=t.INITIAL_RENDER_NUMS_XS=t.EXCLUDE_STATE=t.COMPONENT=void 0,t.getMenus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=Object.assign({},d);i.STORYBOOK&&delete(t=Object.assign({},t,a)).Dollars;var s=[],e=(e.forEach(function(e){t[e]&&(s.push(t[e]),delete t[e])}),Object.keys(t));{var r;e.length&&(r=s.findIndex(function(e){return"Open"===e.key}),e=e.map(function(e){return t[e]}),s=[].concat((0,n.default)(s.slice(0,r)),(0,n.default)(e),(0,n.default)(s.slice(r,s.length))))}return i.STORYBOOK?s.filter(function(e){return!1!==e.web}):i.IOS?s.filter(function(e){return!1!==e.ios}):s},t.linearColor=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),r=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),i=s("./src/constants/index.ts"),s=(t.COMPONENT="Discovery",t.NAMESPACE="ScreenDiscovery",t.EXCLUDE_STATE={visibleBottom:r._.window.height,home:{list:i.SUBJECT_TYPE.map(function(e){return{type:e.label}}),pagination:{page:1,pageTotal:1},_loaded:(0,o.getTimestamp)()},visible:!1,link:"",dragging:!1}),d=(t.STATE=Object.assign({showBlockTrain:!0},s,{_loaded:!0}),t.INITIAL_RENDER_NUMS_XS=r._.device(Math.floor(r._.window.contentWidth/80)+1,0),t.MENU_MAP={Rank:{key:"Rank",name:"排行榜",icon:"md-equalizer"},Anime:{key:"Anime",name:"找条目",icon:"md-live-tv",size:21},Browser:{key:"Browser",name:"索引",icon:"md-data-usage"},Catalog:{key:"Catalog",name:"目录",icon:"md-folder-open"},Calendar:{key:"Calendar",name:"每日放送",icon:"md-calendar-today",size:20},DiscoveryBlog:{key:"DiscoveryBlog",name:"日志",icon:"md-edit",size:21},Tags:{key:"Tags",name:"标签",icon:"md-bookmark-outline"},Open:{key:"Open",name:"自定义",icon:"md-more-horiz"},Staff:{key:"Staff",name:"新番",icon:"md-local-play"},Search:{key:"Search",name:"搜索",icon:"md-search",web:!1},Tinygrail:{key:"Tinygrail",name:"小圣杯",icon:"trophy",size:20,web:!1},Like:{key:"Like",name:"猜你喜欢",icon:"md-looks",web:!1},Recommend:{key:"Recommend",name:"AI 推荐",icon:"md-favorite-outline",size:21},Dollars:{key:"Dollars",name:"Dollars",text:"D",size:20},Wiki:{key:"Wiki",name:"维基人",text:"wiki",size:14},Yearbook:{key:"Yearbook",name:"年鉴",icon:"md-whatshot",web:!1},UserTimeline:{key:"UserTimeline",name:"时间线",icon:"md-timeline",login:!0},Netabare:{key:"Netabare",name:"netaba.re",text:"N",size:18},Anitama:{key:"Anitama",name:"资讯",icon:"md-text-format",size:26,web:!1},Smb:{key:"Smb",name:"本地管理",icon:"md-inbox",size:22},DoubanSync:{key:"DoubanSync",name:"豆瓣同步",text:"豆",size:18,web:!1},BilibiliSync:{key:"BilibiliSync",name:"bilibili 同步",text:"B",size:20,web:!1},Backup:{key:"Backup",name:"本地备份",text:"CSV",size:14,web:!1},Series:{key:"Series",name:"关联系列",icon:"md-workspaces-outline",login:!0},Character:{key:"Character",name:"我的人物",icon:"md-folder-shared",login:!0},Catalogs:{key:"Catalogs",name:"我的目录",icon:"md-folder-special",login:!0},Link:{key:"Link",name:"剪贴板",icon:"md-link",web:!1}}),a=t.MENU_MAP_STORYBOOK={Setting:{key:"Setting",name:"设置",icon:"setting"},LoginToken:{key:"LoginToken",name:"授权",icon:"md-face"}};t.linearColor=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.64)","rgba(0, 0, 0, 0.84)"]},"./src/screens/discovery/index/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/index/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/index/component/link-modal/index.tsx")),r=s("./src/screens/discovery/index/extra/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{}),(0,a.jsx)(n.Track,{title:"发现",hm:["discovery","Discovery"]}),(0,a.jsx)(n.Heatmap,{bottom:o._.bottom,id:"发现",screen:"Discovery"})]})},r.COMPONENT)},"./src/screens/discovery/index/header-component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"HeaderComponent")},"./src/screens/discovery/index/header-component/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/index/component/award/index.tsx")),l=r(s("./src/screens/discovery/index/component/sort-menu/index.tsx")),c=r(s("./src/screens/discovery/index/component/today/index.tsx")),r=s("./src/screens/discovery/index/header-component/ds.ts"),u=s("./src/screens/discovery/index/header-component/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var t=t.$,s=(0,u.memoStyles)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.StatusBarPlaceholder,{}),!t.state.dragging&&(0,m.jsxs)(n.default,{children:[(0,m.jsx)(a.default,{}),(0,m.jsx)(o.Heatmap,{id:"发现.跳转",to:"Award"})]}),(0,m.jsx)(l.default,{}),!t.state.dragging&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Flex,{style:s.wrap,children:[!!t.online&&(0,m.jsxs)(o.Text,{align:"right",size:12,children:["online ",t.online]}),(0,m.jsx)(o.Flex.Item,{children:(0,m.jsx)(o.Text,{align:"right",size:12,numberOfLines:1,children:t.today||t.home.today})})]}),(0,m.jsx)(c.default,{})]})]})},r.COMPONENT);try{headercomponent.displayName="headercomponent",headercomponent.__docgenInfo={description:"",displayName:"headercomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/header-component/index.tsx#headercomponent"]={docgenInfo:headercomponent.__docgenInfo,name:"headercomponent",path:"src/screens/discovery/index/header-component/index.tsx#headercomponent"})}catch(e){}},"./src/screens/discovery/index/header-component/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{wrap:{paddingHorizontal:r._.windSm+2,marginTop:r._.md+8,marginBottom:r._.xs}}})},"./src/screens/discovery/index/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useDiscoveryPage=function(e){var t=e.$,s=e.navigation;(0,o.useRunAfter)(function(){t.init(),s.addListener(i.EVENT_APP_TAB_PRESS+"|Discovery",function(){t.onRefreshThenScrollTop()})}),(0,o.useFocusEffect)(function(){(0,n.androidDayNightToggle)(r._.isDark)})};var r=s("./src/stores/index.ts"),n=s("./src/utils/index.ts"),o=s("./src/utils/hooks/index.ts"),i=s("./src/navigations/tab-bar/index.tsx")},"./src/screens/discovery/index/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/index/component/list/index.tsx")),l=r(s("./src/screens/discovery/index/component/mesume/index.tsx")),c=r(s("./src/screens/discovery/index/extra/index.tsx")),u=s("./src/screens/discovery/index/hooks.ts"),r=r(s("./src/screens/discovery/index/store.ts")),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=e.isFocused,r=((0,u.useDiscoveryPage)(t),t.$);return(0,d.useObserver)(function(){var e=o.systemStore.setting.live2D;return(0,m.jsxs)(n.Component,{id:"screen-discovery",children:[(0,m.jsxs)(n.Page,{children:[(0,m.jsx)(a.default,{isFocused:s}),e&&(0,m.jsx)(l.default,{dragging:r.state.dragging})]}),(0,m.jsx)(c.default,{})]})})},{listenIsFocused:!0});try{index.displayName="index",index.__docgenInfo={description:"",displayName:"index",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/index.tsx#index"]={docgenInfo:index.__docgenInfo,name:"index",path:"src/screens/discovery/index/index.tsx#index"})}catch(e){}},"./src/screens/discovery/index/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.every.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/stores/calendar/onair/index.ts"),x=s("./src/utils/index.ts"),g=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),v=s("./src/screens/discovery/index/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var S;t.default=(s=r.default,(0,c.default)(O,s),S=h(O),(0,a.default)(O,[{key:"userInfo",get:function(){return j.userStore.userInfo}},{key:"home",get:function(){return j.calendarStore.home}},{key:"ramdonHome",get:function(){return Object.assign({},this.home,{anime:(0,x.appRandom)(this.home.anime,"info"),book:(0,x.appRandom)(this.home.book,"info"),game:(0,x.appRandom)(this.home.game,"info"),music:(0,x.appRandom)(this.home.music,"info"),real:(0,x.appRandom)(this.home.real,"info")})}},{key:"today",get:function(){return j.calendarStore.home.today}},{key:"isLimit",get:function(){return j.userStore.isLimit}},{key:"online",get:function(){return j.discoveryStore.online||j.systemStore.ota.online}},{key:"friendsMap",get:function(){return j.usersStore.friendsMap}},{key:"friendsChannel",value:function(e){return(0,y.computed)(function(){return j.discoveryStore.channel(e).friends}).get()}},{key:"onAir",get:function(){return j.calendarStore.onAir}},{key:"calendar",get:function(){var n=this,e=j.calendarStore.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.map(function(e){var t=n.onAir[e.id]||_.ON_AIR[e.id]||{},s=t.air,r=t.timeCN,t=t.timeJP;return Object.assign({},e,{air:void 0===s?0:s,timeCN:r||t||"2359"})}).filter(function(e){return"2359"!==e.timeCN}).sort(function(e,t){return(0,x.desc)(String(e.timeCN||""),String(t.timeCN||""))})})}),s=[];return e.forEach(function(t){t.items.forEach(function(e){s.push(Object.assign({},e,{weekday:t.weekday.id}))})}),s.reverse()}},{key:"todayBangumi",get:function(){try{var e=(0,x.date)("Hi",(0,x.getTimestamp)()),t=parseInt(""+((new Date).getDay()||7)+(e||"0000")),s=this.calendar.findIndex(function(e){return t>=parseInt(""+(e.weekDayLocal||7)+(e.timeLocal||"0000"))});return[].concat((0,o.default)(this.calendar),(0,o.default)(this.calendar),(0,o.default)(this.calendar)).slice(s-10+this.calendar.length,s+2+this.calendar.length).reverse()}catch(e){return[]}}},{key:"discoveryMenu",get:function(){return j.systemStore.setting.discoveryMenu}},{key:"discoveryTodayOnair",get:function(){return j.systemStore.setting.discoveryTodayOnair}},{key:"discoveryMenuNum",get:function(){return j.systemStore.setting.discoveryMenuNum}}]),(0,f.default)((t=O).prototype,"userInfo",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"userInfo"),t.prototype),(0,f.default)(t.prototype,"home",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"home"),t.prototype),(0,f.default)(t.prototype,"ramdonHome",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"ramdonHome"),t.prototype),(0,f.default)(t.prototype,"today",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"today"),t.prototype),(0,f.default)(t.prototype,"isLimit",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),(0,f.default)(t.prototype,"online",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"online"),t.prototype),(0,f.default)(t.prototype,"friendsMap",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"friendsMap"),t.prototype),(0,f.default)(t.prototype,"onAir",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"onAir"),t.prototype),(0,f.default)(t.prototype,"calendar",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"calendar"),t.prototype),(0,f.default)(t.prototype,"todayBangumi",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"todayBangumi"),t.prototype),(0,f.default)(t.prototype,"discoveryMenu",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"discoveryMenu"),t.prototype),(0,f.default)(t.prototype,"discoveryTodayOnair",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"discoveryTodayOnair"),t.prototype),(0,f.default)(t.prototype,"discoveryMenuNum",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"discoveryMenuNum"),t.prototype),t);function O(){var r;(0,d.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=S.call.apply(S,[this].concat(t)),(0,p.default)((0,l.default)(r),"state",(0,y.observable)(v.STATE)),(0,p.default)((0,l.default)(r),"init",(0,i.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(v.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,t=t.showBlockTrain,r.setState(Object.assign({showBlockTrain:t},v.EXCLUDE_STATE)),setTimeout(function(){(0,g.queue)([function(){return!!b.STORYBOOK||r.fetchOnline()},function(){return!j.userStore.isWebLogin||r.fetchChannel()},(0,i.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.calendarStore.init("onAir");case 2:if(t=r.onAir._loaded,(0,x.getTimestamp)()-Number(t||0)<86400)return e.abrupt("return",!0);e.next=5;break;case 5:return e.abrupt("return",j.calendarStore.fetchOnAir());case 6:case"end":return e.stop()}},e)})),(0,i.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.calendarStore.init("calendar");case 2:if(s=j.calendarStore.calendar,t=s.list,s=s._loaded,(0,x.getTimestamp)()-Number(s||0)<43200){if(e.prev=4,t.length&&!t.every(function(e){return 0===e.items.length}))return e.abrupt("return",!0);e.next=7}else e.next=11;break;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:return e.abrupt("return",j.calendarStore.fetchCalendar());case 12:case"end":return e.stop()}},e,null,[[4,9]])})),function(){return!!b.STORYBOOK||j.usersStore.fetchUsers()}])},800),e.abrupt("return",j.calendarStore.fetchHome());case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(r),"fetchOnline",function(){return j.discoveryStore.fetchOnline()}),(0,p.default)((0,l.default)(r),"fetchChannel",function(){return(0,g.queue)(b.SUBJECT_TYPE.map(function(e){return function(){return j.discoveryStore.fetchChannel({type:e.label})}}),1)}),(0,p.default)((0,l.default)(r),"save",function(){return r.saveStorage(v.NAMESPACE,v.EXCLUDE_STATE)}),(0,p.default)((0,l.default)(r),"scrollToIndex",void 0),(0,p.default)((0,l.default)(r),"forwardRef",function(e){r.scrollToIndex=null==e?void 0:e.scrollToIndex}),(0,p.default)((0,l.default)(r),"onRefreshThenScrollTop",function(){try{"function"==typeof r.scrollToIndex&&((0,g.t)("其他.刷新到顶",{screen:"Discovery"}),r.fetchOnline(),r.scrollToIndex({animated:!0,index:0,viewOffset:8e3}))}catch(e){console.error("Discovery","onRefreshThenScrollTop",e)}}),(0,p.default)((0,l.default)(r),"toggleLinkModal",function(){var e=r.state.visible;r.setState({visible:!e})}),(0,p.default)((0,l.default)(r),"onChangeText",function(e){r.setState({link:e})}),(0,p.default)((0,l.default)(r),"onLinkSubmit",function(e){var t,s=r.state.link;s.length?(s.includes("http://")||s.includes("https://")||(s="https://"+s),(t=((0,x.matchBgmUrl)(s,!0)||[])[0])?((0,x.appNavigate)(t,e),r.setState({visible:!1,link:""}),(0,g.t)("发现.剪贴板",{link:s})):(0,x.info)("链接不符合格式")):(0,x.info)("请输入链接")}),(0,p.default)((0,l.default)(r),"toggleDragging",function(){var e=r.state.dragging;try{e||r.scrollToIndex({animated:!0,index:0,viewOffset:8e3})}catch(e){console.error("Discovery","toggleDragging",e)}r.setState({dragging:!e})}),(0,p.default)((0,l.default)(r),"toggleBlockTrain",function(){var e=r.state.showBlockTrain;r.setState({showBlockTrain:!e}),r.save()}),(0,p.default)((0,l.default)(r),"saveDiscoveryMenu",function(e){j.systemStore.setSetting("discoveryMenu",e),(0,g.t)("发现.更新菜单",{length:e.length})}),(0,p.default)((0,l.default)(r),"onScroll",x.updateVisibleBottom.bind((0,l.default)(r))),r}},"./src/screens/discovery/manga/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/manga/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenManga",t.STATE={query:{first:"",year:2022,begin:"",status:"",tags:[],hd:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=120,[[],[],[]]);r.MANGA_TAGS.forEach(function(e,t){(t%3==0?n[0]:t%3==1?n[1]:n[2]).push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.MANGA_FIRST},{title:"年份",type:"year",data:r.MANGA_YEAR,always:!0},{title:"状态",type:"status",data:r.MANGA_STATUS},{title:"类型",type:"tags",data:n,multiple:!0,multiSelect:!0},{title:"排序",type:"sort",data:r.MANGA_SORT,always:!0},{title:"收藏",type:"collected",data:r.MANGA_COLLECTED}]},"./src/screens/discovery/manga/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/anime/header/index.tsx")),a=r(s("./src/screens/discovery/manga/list/index.tsx")),r=r(s("./src/screens/discovery/manga/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-manga",children:[(0,l.jsx)(d.default,{title:"找漫画",alias:"Manga",hm:["manga","Manga"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(a.default,{})})]})})});try{manga.displayName="manga",manga.__docgenInfo={description:"",displayName:"manga",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/index.tsx#manga"]={docgenInfo:manga.__docgenInfo,name:"manga",path:"src/screens/discovery/manga/index.tsx#manga"})}catch(e){}},"./src/screens/discovery/manga/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/manga/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),_={id:"Manga.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,y.memoStyles)(),s=p.otaStore.mangaSubjectId(s),o=(s=p.otaStore.manga(s)).id,i=s.mid,d=s.image,a=s.title,l=s.score,c=s.rank,s=s.publish;return o?(0,j.jsx)(m.ItemCollectionsGrid,{style:(p._.isPad||p._.isLandscape)&&!(r%e)&&n.left,navigation:t,event:_,num:e,id:o,mid:i,cover:d?"//lain.bgm.tv/pic/cover/m/"+d+".jpg":f.IMG_DEFAULT,name:a,score:l,rank:c,airtime:s,typeCn:"书籍",collection:p.collectionStore.collect(o)}):(r=p._.grid(e),(0,j.jsx)(u.Flex,{style:{width:r.width,height:f.IMG_HEIGHT_LG,marginBottom:r.marginLeft+p._.xs,marginLeft:r.marginLeft},justify:"center",children:(0,j.jsx)(u.Loading.Raw,{})}))})},"./src/screens/discovery/manga/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/manga/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),g=s("./src/stores/index.ts"),b=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),v=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),S=s("./src/screens/discovery/manga/item/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.navigation,t=(0,S.memoStyles)(),e=g.otaStore.mangaSubjectId(e),d=(e=g.otaStore.manga(e)).id,a=e.mid,l=e.author,c=e.title,u=e.cates,m=e.ep,p=e.image,f=e.score,y=e.rank,j=e.total,_=e.status,e=e.publish;return d?(s=20<=c.length?13:14<=c.length?14:15,r=p?"https://lain.bgm.tv/pic/cover/m/"+p+".jpg":h.IMG_DEFAULT,p=String(u).split(" "),u=[_,e,l,m].filter(function(e){return!!e}).join(" / "),n=g.collectionStore.collect(d),(0,O.jsxs)(x.Touchable,{style:t.container,animate:!0,onPress:function(){i.push("Subject",{subjectId:d,_cn:c,_image:r,_mid:a}),(0,v.t)("Manga.跳转",{subjectId:d})},children:[(0,O.jsxs)(x.Flex,{style:t.wrap,align:"start",children:[(0,O.jsx)(b.Cover,{src:r,width:h.IMG_WIDTH_LG,height:h.IMG_HEIGHT_LG,radius:!0,shadow:!0}),(0,O.jsxs)(x.Flex.Item,{style:g._.ml.wind,children:[(0,O.jsxs)(x.Flex,{align:"start",children:[(0,O.jsx)(x.Flex.Item,{children:(0,O.jsxs)(x.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,O.jsx)(x.Text,{size:s,bold:!0,numberOfLines:2,children:c}),(0,O.jsx)(x.Text,{size:11,lineHeight:14,children:u})]})}),(0,O.jsx)(b.Manage,{subjectId:d,collection:n,typeCn:"书籍",onPress:function(){g.uiStore.showManageModal({subjectId:d,title:c,status:h.MODEL_COLLECTION_STATUS.getValue(n),action:"读"},"找漫画")}})]}),(0,O.jsxs)(x.Flex,{style:t.bottom,children:[(0,O.jsx)(b.Rank,{value:y}),(0,O.jsx)(b.Stars,{style:g._.mr.xs,value:f,simple:!0}),!!j&&(0,O.jsxs)(x.Text,{style:g._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]}),(0,O.jsx)(x.Flex.Item,{children:(0,O.jsx)(x.Flex,{children:p.map(function(e){return(0,O.jsx)(b.Tag,{style:g._.mr.sm,value:e},e)})})})]})]})]}),0===o&&(0,O.jsx)(x.Heatmap,{id:"Manga.跳转"})]})):(0,O.jsx)(x.Flex,{style:t.loading,justify:"center",children:(0,O.jsx)(x.Loading.Raw,{})})})},"./src/screens/discovery/manga/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.58*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/manga/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/manga/item/index.tsx")),x=r(s("./src/screens/discovery/manga/item-grid/index.tsx")),g=s("./src/screens/discovery/manga/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(S,r),h=v(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,name:"漫画",type:"Manga",lastUpdate:j.TEXT_UPDATE_MANGA.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_MANGA+"，在版本更新前数据不会有任何变化，漫画因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，而是作者从互联网上花了很大功夫，经过筛选优化后，与 bgm.tv 相应条目对应的数据。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n本页面只要存在的条目，均有其对应的源头。整理不易若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:O,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onMangaPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function O(e){return String(e)}try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/manga/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/manga/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/manga/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),n=n(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/manga/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/screens/discovery/manga/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var v,h=!1;t.default=(s=n.default,(0,c.default)(S,s),v=b(S),(0,o.default)(S,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.mangaSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,f.default)((t=S).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function S(){var o;(0,a.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=v.call.apply(v,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)(g.STATE)),(0,p.default)((0,l.default)(o),"init",(0,d.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(g.NAMESPACE);case 2:if(t=e.sent,o.setState(Object.assign({},t,{_loaded:h})),h){e.next=7;break}return e.next=7,(0,_.init)();case 7:return h=!0,t=o.params._tags,(s=void 0===t?[]:t).length&&o.initQuery("string"==typeof s?[s]:s),e.next=12,(0,_.init)();case 12:o.search(),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),setTimeout(function(){o.setState({_loaded:!0})},120);case 15:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(t){setTimeout(function(){var e=o.state.query,e=(0,_.search)(t||e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(g.NAMESPACE),(0,x.t)("Manga.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("Manga.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("Manga.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(g.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(g.NAMESPACE)}),o}},"./src/screens/discovery/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DEFAULT_TYPE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenRank",t.DEFAULT_TYPE=s.MODEL_SUBJECT_TYPE.getLabel("动画")),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,show:!0,ota:{}};t.STATE=Object.assign({page:0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},type:n,filter:"",airtime:"",month:"",list:!0,fixed:s.STORYBOOK,fixedPagination:s.STORYBOOK,collected:!0},r,{_loaded:!1})},"./src/screens/discovery/rank/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),l=["浏览器查看"];d.STORYBOOK||l.push("网页版查看");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"排行榜",hm:[s.url,"Rank"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:l,onSelect:function(e){(0,i.t)("排行榜.右上角菜单",{key:e}),"浏览器查看"===e?(0,o.open)(s.url):"网页版查看"===e&&(e=d.URL_SPA+"/"+(0,o.getSPAParams)("Rank"),(0,o.open)(e))},children:(0,a.jsx)(n.Heatmap,{id:"排行榜.右上角菜单"})})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/rank/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/rank/header/index.tsx")),a=r(s("./src/screens/discovery/rank/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/rank/list/index.tsx")),c=r(s("./src/screens/discovery/rank/pagination/index.tsx")),r=r(s("./src/screens/discovery/rank/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var r=t.$;return(0,i.useRunAfter)(function(){r.init()}),(0,i.useObserver)(function(){var e=r.state,t=e._loaded,s=e.fixed,e=e.fixedPagination;return(0,u.jsxs)(n.Component,{id:"screen-rank",children:[(0,u.jsx)(d.default,{}),(0,u.jsxs)(n.Page,{children:[s&&(0,u.jsx)(a.default,{}),t&&(0,u.jsx)(l.default,{}),e&&(0,u.jsx)(c.default,{})]})]})})});try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/rank/list/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_GRID=void 0;t.EVENT_GRID={id:"排行榜.跳转",data:{type:"grid"}}},"./src/screens/discovery/rank/list/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/rank/list/grid/styles.ts"),j=s("./src/screens/discovery/rank/list/grid/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var n=t.$,o=t.navigation,i=(0,y.memoStyles)(),d=(t=n.state).type,a=t.airtime,t=n.list.list,s=n.rank._filter,l=m._.portrait(3,5);return(0,_.jsxs)(c.Flex,{style:i.grid,wrap:"wrap",align:"start",children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=m.collectionStore.collect(s);return(0,_.jsx)(u.ItemCollectionsGrid,Object.assign({navigation:o,style:!(t%l)&&i.left,num:l,event:j.EVENT_GRID,airtime:""===a&&(0,p.matchYear)(e.tip)},e,{id:s,cover:e.cover||n.cover(e.id),typeCn:f.MODEL_SUBJECT_TYPE.getTitle(d),collection:r,isCollect:e.collected,isRectangle:"音乐"===f.MODEL_SUBJECT_TYPE.getTitle(d)}),e.id)}):(0,_.jsx)(c.Empty,{}),!!s&&(0,_.jsx)(u.FilterText,{value:s})]})});try{grid.displayName="grid",grid.__docgenInfo={description:"",displayName:"grid",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/grid/index.tsx#grid"]={docgenInfo:grid.__docgenInfo,name:"grid",path:"src/screens/discovery/rank/list/grid/index.tsx#grid"})}catch(e){}},"./src/screens/discovery/rank/list/grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{grid:{paddingHorizontal:r._.wind,paddingVertical:r._.md},left:{marginLeft:0}}})},"./src/screens/discovery/rank/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/rank/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/rank/pagination/index.tsx")),c=r(s("./src/screens/discovery/rank/list/list/index.tsx")),u=r(s("./src/screens/discovery/rank/list/grid/index.tsx")),m=s("./src/screens/discovery/rank/list/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var t=t.$,s=(o=t.state).show,r=o.list,n=o.fixed,o=o.fixedPagination,i=t.list._loaded;return s&&i?(0,p.jsxs)(d.ScrollView,{contentContainerStyle:m.styles.scrollView,scrollToTop:!0,scrollEventThrottle:4,onScroll:t.onScroll,children:[!n&&(0,p.jsx)(a.default,{}),r?(0,p.jsx)(c.default,{}):(0,p.jsx)(u.default,{}),!o&&(0,p.jsx)(l.default,{})]}):(0,p.jsxs)(d.Flex.Item,{children:[!n&&(0,p.jsx)(a.default,{}),(0,p.jsx)(d.Loading,{})]})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/rank/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/rank/list/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_LIST=void 0;t.EVENT_LIST={id:"排行榜.跳转",data:{type:"list"}}},"./src/screens/discovery/rank/list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/constants/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/screens/discovery/rank/list/list/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var n=t.$,o=t.navigation,i=n.state.type,t=n.list.list,s=n.rank._filter;return(0,m.jsxs)(m.Fragment,{children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=c.MODEL_SUBJECT_TYPE.getTitle(i),s=l.collectionStore.collect(s,r);return(0,m.jsx)(a.ItemSearch,Object.assign({style:l._.container.item,navigation:o,index:t,collection:s,typeCn:r,event:u.EVENT_LIST},e,{cover:e.cover||n.cover(e.id)}),e.id)}):(0,m.jsx)(d.Empty,{}),!!s&&(0,m.jsx)(a.FilterText,{value:s}),(0,m.jsx)(d.Heatmap,{id:"排行榜.跳转"})]})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/rank/list/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/rank/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({scrollView:{paddingBottom:s._.md}})},"./src/screens/discovery/rank/pagination/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=void 0;t.HEATMAPS={prev:"排行榜.上一页",next:"排行榜.下一页",search:"排行榜.页码跳转"}},"./src/screens/discovery/rank/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/rank/pagination/ds.ts"),i=s("./src/screens/discovery/rank/pagination/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).type,r=r.ipt;return(0,d.jsx)(n.Pagination,{style:i.styles.pagination,input:r[s],heatmaps:o.HEATMAPS,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})});try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/rank/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/rank/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({pagination:{marginTop:r._.xs,marginBottom:s.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}})},"./src/screens/discovery/rank/store.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/kv/index.ts"),b=s("./src/constants/index.ts"),v=s("./src/screens/discovery/rank/ds.ts"),h=["collected"];function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T=[];t.default=(s=r.default,(0,c.default)(E,s),O=S(E),(0,d.default)(E,[{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"rank",get:function(){var t,e=this.state,s=e.type,r=e.filter,n=e.airtime,o=e.month,e=e.currentPage,e=j.tagStore.rank(s,e[s],r,o?n+"-"+o:n);return j.userStore.isLimit?(t=0,Object.assign({},e,{list:e.list.filter(function(e){e=(0,_.x18)(e.id);return e&&(t+=1),!e}),_filter:t})):e}},{key:"list",get:function(){return this.rank._loaded?this.state.collected?this.rank:Object.assign({},this.rank,{list:this.rank.list.filter(function(e){return!e.collected})}):this.ota||b.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,e=e.airtime;return(0,b.HTML_RANK)(s,"rank",t[s],r,e)}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,n=e.airtime,e=e.month;return"rank_"+[s,r,e?n+"-"+e:n,t[s]].join("_")}},{key:"cover",value:function(t){var e;return this.ota&&(null==(e=this.ota.list.find(function(e){return e.id===t}))?void 0:e.cover)||""}}]),(0,f.default)((t=E).prototype,"ota",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,f.default)(t.prototype,"rank",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"rank"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,f.default)(t.prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,f.default)(t.prototype,"thirdPartyKey",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function E(){var d;(0,i.default)(this,E);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=O.call.apply(O,[this].concat(t)),(0,p.default)((0,l.default)(d),"state",(0,y.observable)(v.STATE)),(0,p.default)((0,l.default)(d),"init",(0,o.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getStorage(v.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,d.setState(Object.assign({},t,v.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",d.fetchRank());case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(d),"fetchRank",(0,o.default)(a.mark(function e(){var t,s,r,n,o,i;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.fetchThirdParty(),i=d.state,t=i.currentPage,s=i.type,o=i.filter,r=i.airtime,i=i.month,e.next=4,j.tagStore.fetchRank({type:s,filter:o,airtime:i?r+"-"+i:r,page:t[s]});case 4:return(n=e.sent).list.length&&d.thirdPartyKey in d.state.ota&&(i=(null==(o=d.ota)?void 0:o.ts)||0,604800<=(0,_.getTimestamp)()-i)&&d.updateThirdParty(),setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(n.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(d),"fetchThirdParty",(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.tagStore.init("rank");case 2:setTimeout((0,o.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.ota||d.rank._loaded){e.next=8;break}return e.next=3,(0,g.get)(d.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return d.setState({ota:(0,p.default)({},d.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:d.setState({ota:(0,p.default)({},d.thirdPartyKey,Object.assign({},t,{_loaded:(0,_.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)})),80);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(d),"updateThirdParty",(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.includes(d.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,g.update)(d.thirdPartyKey,{list:d.rank.list.map(function(e){e.collected;return(0,n.default)(e,h)})}),T.push(d.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(d),"save",function(){return d.saveStorage(v.NAMESPACE,v.EXCLUDE_STATE)}),(0,p.default)((0,l.default)(d),"resetScrollView",function(){d.setState({show:!1}),setTimeout(function(){d.setState({show:!0}),d.save()},40)}),(0,p.default)((0,l.default)(d),"onTypeSelect",function(e){(0,x.t)("排行榜.类型选择",{type:e}),d.setState({type:b.MODEL_SUBJECT_TYPE.getLabel(e),filter:""}),d.resetScrollView(),d.fetchRank()}),(0,p.default)((0,l.default)(d),"onFilterSelect",function(e,t){(0,x.t)("排行榜.筛选选择",{filter:e}),d.setState({filter:"全部"===e?"":t.getValue(e)}),d.resetScrollView(),d.fetchRank()}),(0,p.default)((0,l.default)(d),"onAirdateSelect",function(e){(0,x.t)("排行榜.年选择",{airtime:e});var t=d.state,s=t.type,r=t.currentPage,t=t.ipt;d.setState({airtime:"全部"===e?"":e,month:"",currentPage:Object.assign({},r,(0,p.default)({},s,1)),ipt:Object.assign({},t,(0,p.default)({},s,"1"))}),d.resetScrollView(),d.fetchRank()}),(0,p.default)((0,l.default)(d),"onMonthSelect",function(e){var t=d.state,s=t.airtime,r=t.type,n=t.currentPage,t=t.ipt;""===s?(0,_.info)("请先选择年"):((0,x.t)("排行榜.月选择",{month:e}),d.setState({month:"全部"===e?"":e,currentPage:Object.assign({},n,(0,p.default)({},r,1)),ipt:Object.assign({},t,(0,p.default)({},r,"1"))}),d.resetScrollView(),d.fetchRank())}),(0,p.default)((0,l.default)(d),"onToggleList",function(){var e=d.state.list;(0,x.t)("排行榜.切换布局",{list:!e}),d.setState({list:!e}),d.resetScrollView()}),(0,p.default)((0,l.default)(d),"onToggleToolbar",function(e){d.setState((0,p.default)({},e,!d.state[e])),d.save()}),(0,p.default)((0,l.default)(d),"onPrev",function(){var e=d.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];1!==t[s]&&((0,x.t)("排行榜.上一页",{type:s,page:r-1}),d.setState({currentPage:Object.assign({},t,(0,p.default)({},s,r-1)),ipt:Object.assign({},e,(0,p.default)({},s,String(r-1)))}),d.resetScrollView(),d.fetchRank())}),(0,p.default)((0,l.default)(d),"onNext",function(){var e=d.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];(0,x.t)("排行榜.下一页",{type:s,page:r+1}),d.setState({currentPage:Object.assign({},t,(0,p.default)({},s,r+1)),ipt:Object.assign({},e,(0,p.default)({},s,String(r+1)))}),d.resetScrollView(),d.fetchRank()}),(0,p.default)((0,l.default)(d),"onChange",function(e){var e=e.nativeEvent.text,t=d.state,s=t.type,t=t.ipt;d.setState({ipt:Object.assign({},t,(0,p.default)({},s,e))})}),(0,p.default)((0,l.default)(d),"doSearch",function(){var e=d.state,t=e.type,s=e.currentPage,e=e.ipt,r=""===e[t]?1:parseInt(e[t]);r<1?(0,_.info)("请输入正确页码"):((0,x.t)("排行榜.页码跳转",{type:t,page:r}),d.setState({currentPage:Object.assign({},s,(0,p.default)({},t,r)),ipt:Object.assign({},e,(0,p.default)({},t,String(r)))}),d.resetScrollView(),d.fetchRank())}),(0,p.default)((0,l.default)(d),"onScroll",_.updateVisibleBottom.bind((0,l.default)(d))),d}},"./src/screens/discovery/rank/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=t.$,n=(t=r.state).type,t=t.filter;switch(n=d.MODEL_SUBJECT_TYPE.getTitle(n)){case"书籍":s=d.MODEL_RANK_BOOK_FILTER;break;case"游戏":s=d.MODEL_RANK_GAME_FILTER;break;case"三次元":s=d.MODEL_RANK_REAL_FILTER;break;default:s=d.MODEL_RANK_ANIME_FILTER}var o=s.getLabel(t);return"音乐"!==n&&(0,a.jsx)(i.ToolBar.Popover,{data:s.data.map(function(e){return e.label}),text:"全部"===o?"类型":o,type:""===t?void 0:"desc",heatmap:"排行榜.筛选选择",onSelect:function(e){return r.onFilterSelect(e,s)}},n)});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/rank/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/rank/tool-bar/type.tsx")),d=r(s("./src/screens/discovery/rank/tool-bar/year.tsx")),a=r(s("./src/screens/discovery/rank/tool-bar/month.tsx")),l=r(s("./src/screens/discovery/rank/tool-bar/filter.tsx")),c=r(s("./src/screens/discovery/rank/tool-bar/more.tsx")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,u.jsxs)(n.ToolBar,{children:[(0,u.jsx)(i.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(a.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})})},"./src/screens/discovery/rank/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_MONTH,text:s?s+"月":"月",type:""===s?void 0:"desc",heatmap:"排行榜.月选择",onSelect:t.onMonthSelect})});try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/rank/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).list,n=t.fixed,o=t.fixedPagination,t=t.collected;return(0,a.jsx)(i.ToolBar.Popover,{data:["选项 · "+(n?"锁定上方":"浮动"),"布局 · "+(r?"列表":"网格"),"收藏 · "+(t?"显示":"不显示"),"分页 · "+(o?"锁定下方":"浮动")],icon:"md-more-vert",iconColor:d._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleToolbar("fixed"):e.includes("布局")?s.onToggleList():e.includes("收藏")?s.onToggleToolbar("collected"):e.includes("分页")?s.onToggleToolbar("fixedPagination"):void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/rank/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/type.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=i.MODEL_SUBJECT_TYPE.getTitle(s);return(0,d.jsx)(n.ToolBar.Popover,{data:i.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:o._.colorDesc,text:s,type:"desc",heatmap:"排行榜.类型选择",onSelect:t.onTypeSelect})});try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/type.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/discovery/rank/tool-bar/type.tsx#type"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_AIRTIME,text:s||"年",type:""===s?void 0:"desc",heatmap:"排行榜.年选择",onSelect:t.onAirdateSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/rank/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/recommend/category/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/recommend/category/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),a=["默认","动画","书籍","游戏","音乐","三次元"];t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.cat;return(0,d.jsx)(o.Popover,{style:i.styles.touch,data:a,onSelect:t.onSelect,children:(0,d.jsx)(n.Button,{style:i.styles.btn,styleText:i.styles.text,size:"sm",type:"ghostMain",children:s||"默认"})})});try{category.displayName="category",category.__docgenInfo={description:"",displayName:"category",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/category/index.tsx#category"]={docgenInfo:category.__docgenInfo,name:"category",path:"src/screens/discovery/recommend/category/index.tsx#category"})}catch(e){}},"./src/screens/discovery/recommend/category/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderTopLeftRadius:34,borderBottomLeftRadius:34,overflow:"hidden"},btn:{width:68,height:40,paddingLeft:4,borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:34,borderBottomLeftRadius:34},text:{width:68}})},"./src/screens/discovery/recommend/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.HOST_REC=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=s("./config.ts"),n=(t.NAMESPACE="ScreenRecommend",t.HOST_REC=n.STORYBOOK?s.HOST_PROXY:"https://bangrecs.net",t.EXCLUDE_STATE={visibleBottom:r._.window.height,cat:"动画",focus:!1,searching:!1});t.STATE=Object.assign({},n,{value:"",e:"",data:{top:[],pop:[],tv:[],old_tv:[],movie:[],old_movie:[],nsfw:[],_loaded:0},dataV2:{"默认":[],"动画":[],"书籍":[],"游戏":[],"音乐":[],"三次元":[]},subjects:{},_loaded:!1})},"./src/screens/discovery/recommend/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation;return(0,i.jsx)(n.Header,{title:"AI 推荐",hm:["recommend","Recommend"],headerRight:function(){return o.STORYBOOK?null:(0,i.jsx)(n.Header.Popover,{data:["说明","帖子讨论"],onSelect:function(e){"说明"===e?s.push("Tips",{key:"hyrzz32whgurgg6t"}):"帖子讨论"===e&&s.push("Topic",{topicId:"group/382655"})}})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/recommend/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/recommend/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),c=s("./src/constants/index.ts"),u=r(s("./src/screens/discovery/recommend/header/index.tsx")),m=r(s("./src/screens/discovery/recommend/category/index.tsx")),p=r(s("./src/screens/discovery/recommend/search-bar/index.tsx")),f=r(s("./src/screens/discovery/recommend/list/index.tsx")),r=r(s("./src/screens/discovery/recommend/store.ts")),y=s("./src/screens/discovery/recommend/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,a.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,l.useRunAfter)(function(){s.init()}),(0,l.useObserver)(function(){var e=(0,y.memoStyles)();return(0,j.jsxs)(o.Component,{id:"screen-recommend",children:[(0,j.jsx)(u.default,{}),(0,j.jsxs)(o.Page,{children:[(0,j.jsxs)(o.Flex,{style:e.searchBar,children:[(0,j.jsx)(m.default,{}),(0,j.jsx)(o.Flex.Item,{children:(0,j.jsx)(p.default,{})}),(0,j.jsx)(n.default,{style:d._.ml.sm,children:(0,j.jsx)(o.Button,{style:e.btn,type:"ghostPlain",size:"sm",onPress:s.doSearchV2,children:"查询"})})]}),(0,j.jsx)(f.default,{})]}),c.STORYBOOK&&(0,j.jsx)(n.default,{style:e.home,children:(0,j.jsx)(i.IconTouchable,{name:"home",size:17,color:d._.colorSub,onPress:function(){return r.push("Discovery")}})})]})})});try{recommend.displayName="recommend",recommend.__docgenInfo={description:"",displayName:"recommend",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/index.tsx#recommend"]={docgenInfo:recommend.__docgenInfo,name:"recommend",path:"src/screens/discovery/recommend/index.tsx#recommend"})}catch(e){}},"./src/screens/discovery/recommend/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT=void 0;t.SORT=[{key:"top",title:"最受好评",desc:"分数超过 8分, 看过人数超过 10000 的作品"},{key:"pop",title:"近年流行",desc:"近年来的流行作品，收藏数的排名在前 20%"},{key:"tv",title:"TV",desc:"通常的 tv 动画"},{key:"old_tv",title:"老 TV",desc:"06 年及以前的老动画"},{key:"movie",title:"剧场版",desc:"动画电影 / 剧场版"},{key:"old_movie",title:"老剧场版",desc:"06 年及以前动画电影 / 剧场版"},{key:"nsfw",title:"NSFW",desc:"绝大多数是里番"}]},"./src/screens/discovery/recommend/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/discovery/recommend/list/styles.ts"),o=s("./src/screens/discovery/recommend/list/ds.ts"),f=s("./node_modules/react/jsx-runtime.js"),y={id:"推荐.跳转"};t.default=(0,r.obc)(function(e,t){var s,i=t.$,d=t.navigation;return i.state.searching?(0,f.jsx)(l.Loading,{style:u._.container.flex}):"v1"===(t=i.state.cat)?(s=i.state.data,(0,f.jsx)(l.ScrollView,{contentContainerStyle:u._.container.bottom,keyboardDismissMode:"on-drag",onScroll:i.onScroll,children:o.SORT.slice().sort(function(e,t){return(0,n.desc)(!(null==(e=s[e.key])||!e.length),!(null==(e=s[t.key])||!e.length))}).map(function(e){return(0,f.jsxs)(a.default,{style:u._.mv.md,children:[(0,f.jsx)(l.Text,{style:u._.ml.md,size:20,bold:!0,children:e.title}),(0,f.jsx)(a.default,{style:p.styles.list,children:s[e.key].map(function(e,t){var s=i.subject(e),r=i.subjectOSS(e);return s.jp||r.name||s.cn||r.name_cn?(0,f.jsx)(c.ItemSearch,{style:u._.container.item,navigation:d,index:t,id:"/subject/"+e,typeCn:"动画",name:s.jp||r.name,nameCn:s.cn||r.name_cn,cover:s.image||r.image,rank:s.rank||r.rank,score:s.rating.score||(null==(t=r.rating)?void 0:t.score),total:"("+(s.rating.total||(null==(t=r.rating)?void 0:t.total)||0)+")",tip:[s.eps||r.totalEps?(s.eps||r.totalEps)+"话":"",s.date||r.date,r.origin,r.director].filter(function(e){return!!e}).join(" / "),event:y},String(e)):(0,f.jsx)(l.Flex,{style:p.styles.loading,justify:"center",children:(0,f.jsx)(l.Loading.Raw,{})},String(e))})})]},e.key)})})):(t=i.state.dataV2[t]||[],(0,f.jsx)(l.ScrollView,{contentContainerStyle:u._.container.bottom,keyboardDismissMode:"on-drag",onScroll:i.onScroll,children:(0,f.jsx)(a.default,{style:p.styles.list,children:t.map(function(e,t){var s=e.sid,r=e.type,e=e.score,n=i.subject(s),o=i.subjectOSS(s);return n.jp||o.name||n.cn||o.name_cn?(0,f.jsxs)(a.default,{style:[u._.container.item,p.styles.recItem],children:[(0,f.jsx)(c.ItemSearch,{navigation:d,index:t,id:"/subject/"+s,typeCn:m.MODEL_SUBJECT_TYPE.getTitle(r||n.type||o.type),name:n.jp||o.name,nameCn:n.cn||o.name_cn,cover:n.image||o.image,rank:n.rank||o.rank,score:n.rating.score||(null==(t=o.rating)?void 0:t.score),total:"("+(n.rating.total||(null==(r=o.rating)?void 0:r.total)||0)+")",tip:[n.eps||o.totalEps?(n.eps||o.totalEps)+"话":"",n.date||o.date,o.origin,o.director].filter(function(e){return!!e}).join(" / "),showManage:!1,event:y}),(0,f.jsx)(a.default,{style:p.styles.recBadge,pointerEvents:"none",children:(0,f.jsxs)(l.Text,{overrideStyle:p.styles.recText,children:[e,m.IOS?"":" "]})})]},String(s)):null})})}))});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/recommend/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/recommend/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({list:{minHeight:80},loading:{height:s.IMG_HEIGHT_LG},recItem:{paddingRight:20},recBadge:{position:"absolute",zIndex:1,top:8,right:r._.ios(20,14)+r._.wind-r._._wind,opacity:.5},recText:{fontFamily:"Avenir",fontStyle:"italic",fontWeight:"900",fontSize:32,lineHeight:40,letterSpacing:-2}})},"./src/screens/discovery/recommend/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/recommend/search-bar/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,o.memoStyles)(),r=t.state.value;return(0,i.jsx)(n.Flex,{style:s.searchBar,children:(0,i.jsx)(n.Flex.Item,{flex:1.2,children:(0,i.jsx)(n.Input,{style:s.searchIpt,value:r,returnKeyType:"search",returnKeyLabel:"查询",placeholder:"输入用户 ID",onChange:t.onChange,onSubmitEditing:t.doSearch})})})});try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/recommend/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/recommend/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchBar:{borderTopRightRadius:34,borderBottomRightRadius:34,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),overflow:"hidden"},searchIpt:Object.assign({height:40},r._.fontSize12,{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:0}),split:{width:1,height:16,marginRight:8,borderLeftWidth:1,borderColor:r._.colorBorder}}})},"./src/screens/discovery/recommend/store.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.entries.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=s("./node_modules/mobx/dist/mobx.esm.js"),_=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),g=r(s("./src/utils/thirdParty/axios.js")),r=r(s("./src/utils/store/index.ts")),b=s("./src/utils/kv/index.ts"),v=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),S=s("./src/screens/discovery/recommend/ds.ts");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(s);return e=r?(e=(0,p.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,m.default)(this,e)}}var T;t.default=(s=r.default,(0,a.default)(E,s),T=O(E),(0,d.default)(E,[{key:"ids",get:function(){var t,s=[],e=this.state.cat;return"v1"===e?(t=this.state.data,["top","pop","tv","old_tv","movie","old_movie","nsfw"].forEach(function(e){t[e].forEach(function(e){s.push(e)})})):(this.state.dataV2[e]||[]).forEach(function(e){return s.push(e.sid)}),s}},{key:"subject",value:function(e){return(0,j.computed)(function(){return _.subjectStore.subjectV2(e)}).get()}},{key:"subjectOSS",value:function(e){var t=this;return(0,j.computed)(function(){return t.state.subjects["subject_"+e]||{}}).get()}}]),(0,y.default)((t=E).prototype,"ids",[j.computed],Object.getOwnPropertyDescriptor(t.prototype,"ids"),t.prototype),t);function E(){var a;(0,i.default)(this,E);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return a=T.call.apply(T,[this].concat(t)),(0,f.default)((0,u.default)(a),"state",(0,j.observable)(S.STATE)),(0,f.default)((0,u.default)(a),"init",(0,n.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getStorage(S.NAMESPACE);case 2:if(t=e.sent,a.setState(Object.assign({},t,S.EXCLUDE_STATE,{_loaded:!0})),h.STORYBOOK){e.next=8;break}return!a.state.value&&_.userStore.myId&&a.setState({value:String(_.userStore.myId)}),e.next=8,a.fetchSubjects();case 8:a.fetchSubjectsFromOSS();case 9:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"fetchSubjects",(0,n.default)(l.mark(function e(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(a),"fetchSubjectsFromOSS",(0,n.default)(l.mark(function e(){var t,s,r,n,i,d;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,o.default)(a.ids)).length){e.next=3;break}return e.abrupt("return",!0);case 3:if(s=a.state.subjects,r=(0,x.getTimestamp)(),n=[],t.forEach(function(e){var t;a.subject(e).id||(!(t=(s[e]||{})._loaded)||3600<=r-Number(t))&&(!(t=a.subjectOSS(e)._loaded)||3600<=r-Number(t))&&n.push("subject_"+e)}),n.length){e.next=9;break}return e.abrupt("return",!0);case 9:return e.prev=9,console.info("fetchSubjectsFromOSS",n),i=["name","name_cn","image","rank","rating","totalEps","info","staff","tags"],e.next=14,(0,b.gets)(n,i);case 14:d=e.sent,Object.entries(d).forEach(function(e){var t,s,r,n,e=(0,c.default)(e,2),o=e[0],e=e[1];try{d[o]=(0,x.pick)(e,i),d[o].info&&(d[o].date=(null==(t=d[o].info.match(/<li><span>(发售日|放送开始|上映年度|上映时间): <\/span>(.+?)<\/li>/))?void 0:t[2])||""),delete d[o].info,!d[o].date&&Array.isArray(d[o].tags)&&((s=d[o].tags.find(function(e){return/^\d+年\d+月$/.test(e.name)}))&&(d[o].date=s.name),s=d[o].tags.find(function(e){return/^\d{4}$/.test(e.name)}))&&(d[o].date=s.name),delete d[o].tags,Array.isArray(d[o].staff)&&(r=d[o].staff.find(function(e){return"原作"===e.desc}),d[o].origin=(null==r?void 0:r.name)||(null==r?void 0:r.nameJP)||"",n=d[o].staff.find(function(e){return"导演"===e.desc}),d[o].director=(null==n?void 0:n.name)||(null==n?void 0:n.nameJP)||"",d[o].director||(n=d[o].staff.find(function(e){return"作者"===e.desc||"开发"===e.desc||"音乐"===e.desc}),d[o].director=(null==n?void 0:n.name)||(null==n?void 0:n.nameJP)||"")),delete d[o].staff,d[o]._loaded=(0,x.getTimestamp)()}catch(e){}}),a.setState({subjects:d}),a.setStorage(S.NAMESPACE),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}},e,null,[[9,20]])}))),(0,f.default)((0,u.default)(a),"onChange",function(e){e=e.nativeEvent.text;a.setState({value:e})}),(0,f.default)((0,u.default)(a),"onChangeE",function(e){e=e.nativeEvent.text;a.setState({e:e})}),(0,f.default)((0,u.default)(a),"onSelect",function(t){setTimeout((0,n.default)(l.mark(function e(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({cat:t}),e.next=3,a.doSearchV2();case 3:if(h.STORYBOOK){e.next=6;break}return e.next=6,a.fetchSubjects();case 6:return e.next=8,a.fetchSubjectsFromOSS();case 8:a.setStorage(S.NAMESPACE);case 9:case"end":return e.stop()}},e)})),16)}),(0,f.default)((0,u.default)(a),"onScroll",x.updateVisibleBottom.bind((0,u.default)(a))),(0,f.default)((0,u.default)(a),"doSearch",(0,n.default)(l.mark(function e(){var t,s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.value){e.next=4;break}return e.abrupt("return");case 4:return a.setState({searching:!0}),e.next=7,(0,g.default)({method:"get",url:"http://101.43.236.40/api/rec/"+t.trim()});case 7:if(s=e.sent,s=s.data,(0,v.t)("推荐.刷新",{value:t.trim(),type:"v1"}),!("tv"in s)){e.next=22;break}if(s.old_tv=s.old_tv||s["old tv"],delete s["old tv"],s.old_movie=s.old_movie||s["old movie"],delete s["old movie"],a.setState({data:s}),h.STORYBOOK){e.next=19;break}return e.next=19,a.fetchSubjects();case 19:return e.next=21,a.fetchSubjectsFromOSS();case 21:a.setStorage(S.NAMESPACE);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:a.setState({searching:!1});case 28:case"end":return e.stop()}},e,null,[[0,24]])}))),(0,f.default)((0,u.default)(a),"doSearchV2",(0,n.default)(l.mark(function e(){var t,s,r,n,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=a.state,s=r.cat,r=r.value){e.next=4;break}return e.abrupt("return");case 4:return a.setState({searching:!0}),n=h.MODEL_SUBJECT_TYPE.getValue(s),e.next=8,(0,g.default)({method:"POST",url:S.HOST_REC+"/api/v4/rec/"+r.trim(),data:{IsTagFilter:!1,IsTimeFilter:!1,popdays:7,strategy:"pop",tags:[[]],topk:40,type:String(n||0),update_f:!1}});case 8:if(o=e.sent,o=o.data,null!=(t=o)&&t.data&&(o=o.data),(0,v.t)("推荐.刷新",{value:r.trim(),type:n||0}),!Array.isArray(o)||!o.length){e.next=22;break}if(a.setState({dataV2:(0,f.default)({},s,o.sort(function(e,t){return(0,x.desc)(e.score,t.score)}).map(function(e){return{sid:e.sid,type:e.type,score:e.score.toFixed(1)}}))}),h.STORYBOOK){e.next=17;break}return e.next=17,a.fetchSubjects();case 17:return e.next=19,a.fetchSubjectsFromOSS();case 19:a.setStorage(S.NAMESPACE),e.next=23;break;case 22:null!=(t=o)&&t.message&&(a.setState({dataV2:(0,f.default)({},s,[])}),a.setStorage(S.NAMESPACE),(0,x.info)(o.message));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),(0,x.info)("获取出错，请重试");case 28:a.setState({searching:!1});case 29:case"end":return e.stop()}},e,null,[[0,25]])}))),a}},"./src/screens/discovery/recommend/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchBar:{paddingTop:r._.sm,paddingBottom:r._.md,paddingHorizontal:r._.wind},btn:{width:68,height:40,borderRadius:40},home:{position:"fixed",zIndex:1001,top:9,right:10}}})},"./src/screens/discovery/search/component/advance/advance.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/search/component/advance/hooks.ts"),n=s("./src/screens/discovery/search/component/advance/ds.ts"),m=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var s=e.navigation,r=e.styles,t=e.cat,n=e.value,o=e.onSubmit,e=(0,u.useResult)(t,n),t=e.result,i=e.substrings;return(0,m.jsx)(d.default,{children:t.map(function(t){return(0,m.jsx)(d.default,{style:r.item,children:(0,m.jsxs)(a.Flex,{style:r.content,children:[(0,m.jsx)(a.Flex.Item,{children:(0,m.jsx)(a.Touchable,{onPress:function(){o(t),(0,c.t)("搜索.模糊查询点击",{text:(0,l.t2s)(n.toLocaleUpperCase()).trim()})},children:(0,m.jsx)(a.Highlight,{size:20<=t.length?11:12<=t.length?12:14,bold:!0,value:n,numberOfLines:2,children:t})})}),(0,m.jsx)(a.Touchable,{style:r.search,onPress:function(){return o(t)},children:(0,m.jsx)(a.Iconfont,{name:"md-search",size:20})}),(0,m.jsx)(a.Touchable,{style:r.open,onPress:function(){var e=i.current[t];s.push("Subject",{subjectId:e}),(0,c.t)("搜索.模糊查询跳转",{subjectId:e})},children:(0,m.jsx)(a.Iconfont,{name:"md-open-in-new",size:17})})]})},t)})})},n.DEFAULT_PROPS,n.COMPONENT_MAIN);t.default=s;try{advance.displayName="advance",advance.__docgenInfo={description:"",displayName:"advance",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { paddingHorizontal: number; }; content: { paddingVertical: number; }; search: { padding: number; borderRadius: number; overflow: "hidden"; }; open: { padding: number; marginRight: number; marginLeft: number; borderRadius: number; overflow: "hidden"; }; }'}},cat:{defaultValue:null,description:"",name:"cat",required:!0,type:{name:"enum",value:[{value:'"subject_all"'},{value:'"subject_2"'},{value:'"subject_1"'},{value:'"subject_3"'},{value:'"subject_4"'},{value:'"subject_6"'},{value:'"mono_all"'},{value:'"user"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/advance/advance.tsx#advance"]={docgenInfo:advance.__docgenInfo,name:"advance",path:"src/screens/discovery/search/component/advance/advance.tsx#advance"})}catch(e){}},"./src/screens/discovery/search/component/advance/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/discovery/search/ds.ts"),s=s("./src/screens/discovery/search/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Advance");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},cat:o.STATE.cat,value:o.STATE.value,onSubmit:n.FN}},"./src/screens/discovery/search/component/advance/hooks.ts":(e,t,l)=>{var c=l("./node_modules/@babel/runtime/regenerator/index.js"),s=(l("./node_modules/core-js/modules/es.object.define-property.js"),l("./node_modules/core-js/modules/es.map.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js"),l("./node_modules/core-js/modules/es.string.trim.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.array.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.array.sort.js"),l("./node_modules/core-js/modules/es.array.includes.js"),l("./node_modules/core-js/modules/es.string.includes.js"),l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.useResult=function(o,i){var e=(0,u.useState)([]),e=(0,n.default)(e,2),t=e[0],d=e[1],a=(0,u.useRef)({});return(0,u.useEffect)(function(){function e(){return(e=(0,r.default)(c.mark(function e(){var t,s,r,n;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,m.t2s)(i.toLocaleUpperCase()).trim()){e.next=5;break}return d([]),e.abrupt("return");case 5:!i||"subject_1"!==o||Object.keys(j).length?e.next=9:(j=l("./src/assets/json/substrings/book.json"),e.next=20);break;case 9:!i||"subject_4"!==o||Object.keys(_).length?e.next=13:(_=l("./src/assets/json/substrings/game.json"),e.next=20);break;case 13:if(i&&!Object.keys(y).length)return e.next=16,(0,p.decode)("bangumi-data");e.next=20;break;case 16:s={},(0,p.get)("bangumi-data").forEach(function(e){s[e.c||e.j]=e.id}),y=Object.assign({},s,l("./src/assets/json/substrings/anime.json"),l("./src/assets/json/substrings/alias.json"));case 20:if(f.has(t))return d(f.get(t)),e.abrupt("return");e.next=23;break;case 23:r=[],i&&"subject_1"===o?(r=Object.keys(j).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),a.current=j):i&&"subject_4"===o?(r=Object.keys(_).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),a.current=_):i&&(r=Object.keys(y).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),a.current=y),n=[],r.forEach(function(e){10<=n.length||e.toLocaleUpperCase().includes(t)&&n.push(e)}),d(n),f.set(t,n),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(0);case 33:case"end":return e.stop()}},e,null,[[0,31]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o,i]),{result:t,substrings:a}},s(l("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=s(l("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=l("./node_modules/react/index.js"),m=l("./src/utils/index.ts"),p=l("./src/utils/protobuf/index.web.ts"),f=new Map,y={},j={},_={}},"./src/screens/discovery/search/component/advance/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/search/component/advance/advance.tsx")),r=s("./src/screens/discovery/search/component/advance/ds.ts"),i=s("./src/screens/discovery/search/component/advance/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$,r=t.navigation;return s.showAdvance?(0,d.jsx)(o.default,{navigation:r,styles:(0,i.memoStyles)(),cat:s.state.cat,value:s.state.value,onSubmit:function(e){return s.onAdvance(e,r)}}):null},r.COMPONENT);try{advance.displayName="advance",advance.__docgenInfo={description:"",displayName:"advance",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/advance/index.tsx#advance"]={docgenInfo:advance.__docgenInfo,name:"advance",path:"src/screens/discovery/search/component/advance/index.tsx#advance"})}catch(e){}},"./src/screens/discovery/search/component/advance/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},content:{paddingVertical:r._.xs},search:{padding:r._.sm,borderRadius:20,overflow:"hidden"},open:{padding:r._.sm,marginRight:-r._.sm,marginLeft:r._.sm,borderRadius:20,overflow:"hidden"}}})},"./src/screens/discovery/search/component/btn-submit/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"BtnSubmit")},"./src/screens/discovery/search/component/btn-submit/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/search/component/btn-submit/ds.ts"),a=s("./src/screens/discovery/search/component/btn-submit/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,l.jsxs)(n.default,{style:i._.ml.sm,children:[(0,l.jsx)(o.Button,{style:a.styles.btn,type:"ghostPlain",size:"sm",onPress:function(){return s.onSubmit(r)},children:s.isUser?"前往":"查询"}),(0,l.jsx)(o.Heatmap,{id:"搜索.搜索"})]})},d.COMPONENT);try{btnsubmit.displayName="btnsubmit",btnsubmit.__docgenInfo={description:"",displayName:"btnsubmit",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/btn-submit/index.tsx#btnsubmit"]={docgenInfo:btnsubmit.__docgenInfo,name:"btnsubmit",path:"src/screens/discovery/search/component/btn-submit/index.tsx#btnsubmit"})}catch(e){}},"./src/screens/discovery/search/component/btn-submit/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({btn:{width:s._.r(68),height:40,borderRadius:40,overflow:"hidden"}})},"./src/screens/discovery/search/component/category/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Category")},"./src/screens/discovery/search/component/category/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./src/screens/discovery/search/component/category/ds.ts"),a=s("./src/screens/discovery/search/component/category/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,l.jsxs)(o.Popover,{style:a.styles.touch,data:i.SEARCH_CAT.map(function(e){return e.label}),onSelect:t.onSelect,children:[(0,l.jsx)(n.Button,{style:a.styles.btn,styleText:a.styles.text,size:"sm",type:"ghostMain",children:i.MODEL_SEARCH_CAT.getLabel(t.state.cat)}),(0,l.jsx)(n.Heatmap,{id:"搜索.切换类型"})]})},d.COMPONENT);try{category.displayName="category",category.__docgenInfo={description:"",displayName:"category",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/category/index.tsx#category"]={docgenInfo:category.__docgenInfo,name:"category",path:"src/screens/discovery/search/component/category/index.tsx#category"})}catch(e){}},"./src/screens/discovery/search/component/category/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderTopLeftRadius:40,borderBottomLeftRadius:40,overflow:"hidden"},btn:{width:s._.r(68),height:40,paddingLeft:s._.r(4),borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:40,borderBottomLeftRadius:40},text:{width:s._.r(68)}})},"./src/screens/discovery/search/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/search/component/history/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"History")},"./src/screens/discovery/search/component/history/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/search/component/history/ds.ts"),a=s("./src/screens/discovery/search/component/history/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=t.$;return(t=r.state.history).length&&""===r.state.value?(s=(0,a.memoStyles)(),(0,l.jsxs)(n.default,{style:i._.mt.sm,children:[t.map(function(e){return(0,l.jsx)(n.default,{style:s.item,children:(0,l.jsxs)(o.Flex,{children:[(0,l.jsx)(o.Flex.Item,{children:(0,l.jsx)(o.Text,{size:15,bold:!0,onPress:function(){return r.selectHistory(e)},children:e})}),(0,l.jsx)(o.Touchable,{style:s.close,onPress:function(){return r.deleteHistory(e)},children:(0,l.jsx)(o.Iconfont,{name:"md-close"})})]})},e)}),!!t.length&&(0,l.jsx)(n.default,{style:s.clear,children:(0,l.jsx)(o.Text,{type:"sub",size:15,bold:!0,onPress:r.deleteHistoryAll,children:"清除历史"})}),(0,l.jsx)(o.Heatmap,{right:52,id:"搜索.选择历史"}),(0,l.jsx)(o.Heatmap,{id:"搜索.删除历史",transparent:!0})]})):null},d.COMPONENT);try{history.displayName="history",history.__docgenInfo={description:"",displayName:"history",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/history/index.tsx#history"]={docgenInfo:history.__docgenInfo,name:"history",path:"src/screens/discovery/search/component/history/index.tsx#history"})}catch(e){}},"./src/screens/discovery/search/component/history/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},close:{padding:r._.sm,marginLeft:r._.md,borderRadius:20,overflow:"hidden"},clear:{paddingHorizontal:r._.wind,marginTop:r._.sm}}})},"./src/screens/discovery/search/component/legacy/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EXCLUDE_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Legacy"),t.EXCLUDE_DS=["人物","用户"]},"./src/screens/discovery/search/component/legacy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./src/screens/discovery/search/component/legacy/ds.ts"),a=s("./src/screens/discovery/search/component/legacy/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,t=t.$;return d.EXCLUDE_DS.includes(i.MODEL_SEARCH_CAT.getLabel(t.state.cat))?null:(s=(0,a.memoStyles)(),(0,l.jsxs)(o.Popover,{style:s.touch,data:i.SEARCH_LEGACY.map(function(e){return e.label}),onSelect:t.onLegacySelect,children:[(0,l.jsx)(n.Button,{style:s.btn,styleText:s.text,type:"ghostPlain",size:"sm",children:i.MODEL_SEARCH_LEGACY.getLabel(t.state.legacy)}),(0,l.jsx)(n.Heatmap,{id:"搜索.切换细分类型"})]}))},d.COMPONENT);try{legacy.displayName="legacy",legacy.__docgenInfo={description:"",displayName:"legacy",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/legacy/index.tsx#legacy"]={docgenInfo:legacy.__docgenInfo,name:"legacy",path:"src/screens/discovery/search/component/legacy/index.tsx#legacy"})}catch(e){}},"./src/screens/discovery/search/component/legacy/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{touch:{borderTopRightRadius:40,borderBottomRightRadius:40,overflow:"hidden"},btn:{width:r._.r(68),height:40,paddingRight:r._.r(4),borderWidth:r._.select(r._.hairlineWidth,0),borderLeftWidth:0,borderColor:r._.colorBorder,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:40,borderBottomRightRadius:40},text:{width:r._.r(68)}}})},"./src/screens/discovery/search/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/search/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/search/component/list/utils.tsx"),a=s("./src/screens/discovery/search/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return(t=t.$).state.searching?(0,l.jsx)(n.Loading,{style:o._.container.flex}):t.search._loaded?(0,l.jsx)(n.ListView,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,data:t.search,keyboardDismissMode:"on-drag",scrollToTop:!0,renderItem:d.renderItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.doSearch}):null},a.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/search/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/search/component/list/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.EVENT={id:"搜索.跳转"}},"./src/screens/discovery/search/component/list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),d=s("./src/screens/discovery/search/component/list/item/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,r=String(s.id).replace("/subject/",""),r=o.collectionStore.collect(r);return(0,a.jsx)(n.ItemSearch,Object.assign({style:o._.container.item,navigation:t,index:e,event:d.EVENT},s,{typeCn:i.MODEL_SUBJECT_TYPE.getTitle(s.type),collection:r}))})},"./src/screens/discovery/search/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=r(s("./src/screens/discovery/search/component/list/item/index.tsx")),i=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{item:t,index:e}),!e&&(0,i.jsx)(n.Heatmap,{id:"搜索.跳转"})]})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/search/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/search/component/search-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SearchBar")},"./src/screens/discovery/search/component/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),n=s("./src/screens/discovery/search/component/search-bar/ds.ts"),a=s("./src/screens/discovery/search/component/search-bar/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,a.memoStyles)(),n=d.MODEL_SEARCH_CAT.getLabel(s.state.cat);return(0,l.jsx)(o.Input,{style:(0,i.stl)(t.searchIpt,["人物","用户"].includes(n)&&t.radius),value:s.state._value,returnKeyType:"search",returnKeyLabel:"搜索",placeholder:s.isUser?"输入完整的用户Id":"输入关键字",autoFocus:!0,onChangeText:s.onChangeText,onFocus:s.onFocus,onBlur:s.onBlur,onSubmitEditing:function(){return s.onSubmit(r)}})},n.COMPONENT);try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/search/component/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/search/component/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchIpt:Object.assign({height:40,paddingVertical:0,paddingRight:4,paddingLeft:12},r._.fontSize12,{backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderRadius:0}),radius:{borderTopRightRadius:40,borderBottomRightRadius:40}}})},"./src/screens/discovery/search/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DEFAULT_LEGACY=t.DEFAULT_CAT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=(t.COMPONENT="Search",t.NAMESPACE="ScreenSearch",t.DEFAULT_CAT=s.MODEL_SEARCH_CAT.getValue("动画")),s=t.DEFAULT_LEGACY=s.MODEL_SEARCH_LEGACY.getValue("精确"),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,_value:"",value:"",focus:!1,searching:!1,modal:{visible:!1,subjectId:0,title:"",desc:"",status:"",action:"听"}};t.STATE=Object.assign({history:[],cat:n,legacy:s},r,{_loaded:!1})},"./src/screens/discovery/search/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/search/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),d=s("./src/screens/discovery/search/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"搜索",hm:[s.url,"Search"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("搜索.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"搜索.右上角菜单"})})}})},d.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/search/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/search/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),c=r(s("./src/screens/discovery/search/component/advance/index.tsx")),u=r(s("./src/screens/discovery/search/component/btn-submit/index.tsx")),m=r(s("./src/screens/discovery/search/component/category/index.tsx")),p=r(s("./src/screens/discovery/search/component/history/index.tsx")),f=r(s("./src/screens/discovery/search/component/legacy/index.tsx")),y=r(s("./src/screens/discovery/search/component/list/index.tsx")),j=r(s("./src/screens/discovery/search/component/search-bar/index.tsx")),_=r(s("./src/screens/discovery/search/header/index.tsx")),r=r(s("./src/screens/discovery/search/store.ts")),x=s("./src/screens/discovery/search/styles.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,g.jsxs)(o.Component,{id:"screen-search",children:[l.STORYBOOK?(0,g.jsx)(n.default,{style:i._.mt.md}):(0,g.jsx)(_.default,{}),(0,g.jsxs)(o.Page,{children:[(0,g.jsxs)(o.Flex,{style:x.styles.searchBar,children:[(0,g.jsx)(m.default,{}),(0,g.jsx)(o.Flex.Item,{children:(0,g.jsx)(j.default,{})}),(0,g.jsx)(f.default,{}),(0,g.jsx)(u.default,{})]}),(0,g.jsx)(c.default,{}),(0,g.jsx)(p.default,{}),(0,g.jsx)(y.default,{})]})]})})});try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/index.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/discovery/search/index.tsx#search"})}catch(e){}},"./src/screens/discovery/search/store.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/search/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var h;t.default=(s=r.default,(0,a.default)(S,s),h=v(S),(0,i.default)(S,[{key:"search",get:function(){var e=this.state,t=e.cat,s=e.legacy,e=e.value,e=j.searchStore.search(e,t,s);return j.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,_.x18)(e.id)})}):e}},{key:"url",get:function(){var e=this.state,t=e.value,t=void 0===t?"":t,s=e.cat,e=e.legacy,e=void 0===e?"":e,t=t.replace(/ /g,"+");return(0,g.HTML_SEARCH)(encodeURIComponent(t),s,1,e)}},{key:"isUser",get:function(){var e=this.state.cat;return"用户"===g.MODEL_SEARCH_CAT.getLabel(e)}},{key:"showAdvance",get:function(){var e=this.state,t=e.focus,e=e.cat;return!(!t||"mono_all"===e||"user"===e||this.search.list.length)}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}}]),(0,f.default)((t=S).prototype,"search",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"search"),t.prototype),(0,f.default)(t.prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,f.default)(t.prototype,"isUser",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isUser"),t.prototype),(0,f.default)(t.prototype,"showAdvance",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"showAdvance"),t.prototype),t);function S(){var a;(0,o.default)(this,S);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return a=h.call.apply(h,[this].concat(s)),(0,p.default)((0,d.default)(a),"params",void 0),(0,p.default)((0,d.default)(a),"state",(0,y.observable)(b.STATE)),(0,p.default)((0,d.default)(a),"init",(0,n.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getStorage(b.NAMESPACE);case 2:return t=e.sent,a.setState(Object.assign({},t,b.EXCLUDE_STATE,{_loaded:!0})),a.initState(),e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,d.default)(a),"onHeaderRefresh",function(){return a.doSearch(!0)}),(0,p.default)((0,d.default)(a),"save",function(){return a.saveStorage(b.NAMESPACE,b.EXCLUDE_STATE)}),(0,p.default)((0,d.default)(a),"initState",function(){setTimeout(function(){var e=a.params,t=e._type,s=e._value,r=e.type,e=e.value;(r||t)&&a.setState({cat:g.MODEL_SEARCH_CAT.getValue(r||t)}),(e||s)&&(a.setState({_value:String(e||s),value:String(e||s)}),a.save(),a.doSearch())},40)}),(0,p.default)((0,d.default)(a),"onSelect",function(e){var t=a.state.cat,e=g.MODEL_SEARCH_CAT.getValue(e);e!==t&&((0,x.t)("搜索.切换类型",{cat:e}),a.setState({cat:e}),a.save(),a.state.value)&&a.doSearch()}),(0,p.default)((0,d.default)(a),"onLegacySelect",function(e){var t=a.state.legacy,e=g.MODEL_SEARCH_LEGACY.getValue(e);e!==t&&((0,x.t)("搜索.切换细分类型",{legacy:e}),a.setState({legacy:e}),a.save(),a.state.value)&&a.doSearch()}),(0,p.default)((0,d.default)(a),"onChangeText",function(e){var t={_value:e};e&&(t.focus=!0),a.setState(t),a.onChangeTextConfirm(e)}),(0,p.default)((0,d.default)(a),"onChangeTextConfirm",(0,_.debounce)(function(e){a.setState({value:e})})),(0,p.default)((0,d.default)(a),"selectHistory",function(e){(0,x.t)("搜索.选择历史",{value:e}),a.setState({value:e})}),(0,p.default)((0,d.default)(a),"deleteHistory",function(t){(0,x.t)("搜索.删除历史",{value:t});var e=a.state.history;a.setState({history:e.filter(function(e){return e!==t})}),a.save()}),(0,p.default)((0,d.default)(a),"deleteHistoryAll",function(){a.setState({history:[]}),a.save()}),(0,p.default)((0,d.default)(a),"onSubmit",function(e){var t;return a.isUser?(t=a.state.value)?e.push("Zone",{userId:t}):(0,_.info)("请输入完整的用户Id"):a.doSearch(!0)}),(0,p.default)((0,d.default)(a),"onAdvance",function(e,t){a.setState({value:e,focus:!1}),a.onSubmit(t)}),(0,p.default)((0,d.default)(a),"onFocus",function(){a.setState({focus:!0})}),(0,p.default)((0,d.default)(a),"onBlur",function(){a.setState({focus:!0})}),(0,p.default)((0,d.default)(a),"onScroll",_.updateVisibleBottom.bind((0,d.default)(a))),(0,p.default)((0,d.default)(a),"doSearch",(t=(0,n.default)(l.mark(function e(t){var s,r,n,o,i,d;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.state,s=o.history,r=o.cat,n=o.legacy,""===(o=o.value))return(0,_.info)("请输入内容"),e.abrupt("return");e.next=4;break;case 4:return(0,x.t)("搜索.搜索",{cat:r,value:o}),i=(0,c.default)(s),s.includes(o)||i.unshift(o),t&&(10<i.length&&i.pop(),a.setState({history:i,searching:!0}),a.save()),e.prev=8,e.next=11,j.searchStore.fetchSearch({cat:r,legacy:n,text:o},t);case 11:d=e.sent,setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(d.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),(0,_.info)("请稍候再查询");case 18:a.setState({searching:!1});case 19:case"end":return e.stop()}},e,null,[[8,15]])})),function(e){return t.apply(this,arguments)})),a}},"./src/screens/discovery/search/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({searchBar:{marginTop:s._.xs,paddingBottom:s._.sm,paddingHorizontal:s._.wind}})},"./src/screens/discovery/series/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SUBJECT_TYPE=t.SUBJECT_ITEM=t.STATE=t.RELATIONS=t.NAMESPACE=t.LIMIT=t.HOST_API_V0=t.EXCLUDE_STATE=t.DISTANCE=t.DATA_STATUS=t.DATA_SORT=t.DATA_FILTER=void 0;var s=s("./src/constants/index.ts"),r=(t.NAMESPACE="ScreenSeries",t.EXCLUDE_STATE={fetching:!1,message:"",current:0,total:0});t.STATE=Object.assign({collections:[],otherCollections:[],relations:{},subjects:{},data:[],sort:"",filter:"",airtime:"",status:"",fixed:!1},r,{_loaded:!1}),t.DATA_SORT=["默认","关联数","新放送","评分"],t.DATA_FILTER=s.RANK_ANIME_FILTER.map(function(e){return e.label}),t.DATA_STATUS=["全部","有关联系列","未收藏","看过","在看","未看完"],t.HOST_API_V0="https://api.bgm.tv/v0",t.RELATIONS=["前传","续集","番外篇","主线故事","相同世界观","不同世界观"],t.SUBJECT_TYPE=2,t.SUBJECT_ITEM={id:0,name:"",name_cn:"",image:"",date:"",total_episodes:0,platform:"",rank:0,score:0,total:0,_loaded:0},t.LIMIT=100,t.DISTANCE=86400},"./src/screens/discovery/series/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,a.jsx)(n.Header,{title:"关联系列",hm:["series","Series"],headerRight:function(){return(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(o.IconTouchable,{style:i._.mr.xs,name:"md-refresh",color:i._.colorDesc,onPress:function(){return(0,d.confirm)("刷新涉及大量请求与计算，若非必要请勿重复刷新，确定?",s.fetchSeries)}}),(0,a.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,size:19,onPress:function(){r.push("Information",{title:"关联系列",message:["目的为查漏补缺，便捷查找是否存在未收藏的关联番剧。","使用了你「在看」和「看过」的收藏数据，通过关联条目计算出结果。","为了控制请求数，所以并没有一次性循环请求关联到底。","举例说当一部有四季的番剧，你只收藏过第一季，那就最多只能索引到第三季，所以你收藏的条目越多，关联范围越广。","为什么排序不符合预期? 因可能关联到上千个条目，条目的上映日期和评分需要请求，当条目项看见才会请求，所以请至少手动滚动到底一次，条目信息才会补全。","为了防止滥用，目前此功能非高级会员仅会对「在看」和「看过」的前 100 条数据进行关联计算，高级会员支持 500 条。"],advance:!0})}})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/series/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/series/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/series/header/index.tsx")),c=r(s("./src/screens/discovery/series/tool-bar/index.tsx")),u=r(s("./src/screens/discovery/series/item/index.tsx")),m=r(s("./src/screens/discovery/series/tips/index.tsx")),r=r(s("./src/screens/discovery/series/store.ts")),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){var e=s.state.fixed;return(0,p.jsxs)(n.Component,{id:"screen-series",children:[(0,p.jsx)(l.default,{}),(0,p.jsxs)(n.Page,{loaded:s.state._loaded,children:[e&&(0,p.jsx)(c.default,{}),(0,p.jsx)(o.PaginationList,{contentContainerStyle:i._.container.bottom,data:s.data,limit:6,ListHeaderComponent:!e&&(0,p.jsx)(c.default,{}),renderItem:f,onPage:s.onPage},s.state.sort),(0,p.jsx)(m.default,{})]})]})})});function f(e){e=e.item;return(0,p.jsx)(u.default,{item:e})}try{series.displayName="series",series.__docgenInfo={description:"",displayName:"series",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/index.tsx#series"]={docgenInfo:series.__docgenInfo,name:"series",path:"src/screens/discovery/series/index.tsx#series"})}catch(e){}},"./src/screens/discovery/series/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={styles:{},data:[],subjects:{}}},"./src/screens/discovery/series/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/series/item/item.tsx")),i=s("./src/screens/discovery/series/item/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var e=e.item,t=t.$;return"有关联系列"===t.state.status&&e.length<=1?null:(e=t.filterData(e),(0,d.jsx)(o.default,{styles:(0,i.memoStyles)(),data:e,subjects:t.subjects(e)}))})},"./src/screens/discovery/series/item/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/series/subject/index.tsx")),r=s("./src/screens/discovery/series/item/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.memo)(function(e){var t,s=e.styles,r=e.data,n=e.subjects;return r.length?(t=Math.min.apply(Math,(0,o.default)(r)),e=r.filter(function(e){return e!==t}),(0,l.jsxs)(i.default,{children:[(0,l.jsx)(a.default,{id:t}),!!e.length&&(0,l.jsx)(i.default,{style:s.sub,children:e.sort(function(e,t){return(0,d.asc)((null==(e=n[e])?void 0:e.date)||"9999-99-99",(null==(e=n[t])?void 0:e.date)||"9999-99-99")}).map(function(e){return(0,l.jsx)(a.default,{style:s.subItem,id:e,small:!0},e)})})]})):null},r.DEFAULT_PROPS);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ sub: { marginTop: number; paddingLeft: number; paddingBottom: number; }; subItem: { paddingVertical: number; }; }"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SubjectId[]"}},subjects:{defaultValue:null,description:"",name:"subjects",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/series/item/item.tsx#item"})}catch(e){}},"./src/screens/discovery/series/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{sub:{marginTop:-r._.sm,paddingLeft:r._.wind+r._.sm,paddingBottom:r._.md},subItem:{paddingVertical:r._.md}}})},"./src/screens/discovery/series/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=r(s("./src/utils/store/index.ts")),g=s("./src/utils/fetch/index.ts"),b=s("./src/utils/fetch.v0/index.ts"),v=r(s("./src/constants/i18n/index.ts")),h=s("./src/screens/discovery/series/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T={},E={};t.default=(r=x.default,(0,c.default)(C,r),O=S(C),(0,i.default)(C,[{key:"userId",get:function(){return j.userStore.usersInfo(j.userStore.myUserId).username||j.userStore.myUserId}},{key:"subjectIds",get:function(){return this.state.collections.map(function(e){return e.id})}},{key:"collection",value:function(t){var e=this;return(0,y.computed)(function(){return e.state.collections.find(function(e){return e.id===t})||e.state.otherCollections.find(function(e){return e.id===t})}).get()}},{key:"collections",value:function(e){var r=this;return(0,y.computed)(function(){var s={};return e.forEach(function(e){var t=r.collection(e);t&&(s[e]=t)}),s}).get()}},{key:"subject",value:function(e){var t=this;return(0,y.computed)(function(){return t.state.subjects[e]||h.SUBJECT_ITEM}).get()}},{key:"subjects",value:function(e){var s=this;return(0,y.computed)(function(){var t={};return e.forEach(function(e){t[e]=s.subject(e)}),t}).get()}},{key:"filterData",value:function(n){var o=this;return(0,y.computed)(function(){var e=o.state,t=e.filter,s=e.airtime,e=e.status,r=n;return t&&(r=r.filter(function(e){e=o.subject(e);return(null==e?void 0:e.platform)&&String(e.platform).includes(t)})),s&&(r=r.filter(function(e){e=o.subject(e);return(null==e?void 0:e.date)&&String(e.date).includes(s+"-")})),"未收藏"===e?r=r.filter(function(e){return!o.collection(e)}):"看过"===e?r=r.filter(function(e){return 2===(null==(e=o.collection(e))?void 0:e.type)}):"在看"===e?r=r.filter(function(e){return 3===(null==(e=o.collection(e))?void 0:e.type)}):"未看完"===e&&(r=r.filter(function(e){var t=o.collection(e),e=o.subject(e);return(null==t?void 0:t.ep)&&(null==e?void 0:e.eps)&&(null==t?void 0:t.ep)!==(null==e?void 0:e.eps)})),r}).get()}},{key:"data",get:function(){var s=this,e=this.state,t=e.data,e=e.sort;return"关联数"===e?t.slice().sort(function(e,t){return(0,_.desc)(e.length,t.length)}):"新放送"===e?t.slice().sort(function(e,t){e=Math.max.apply(Math,(0,a.default)(e.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))}))),t=Math.max.apply(Math,(0,a.default)(t.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))})));return(0,_.desc)(e,t)}):"评分"===e?t.slice().sort(function(e,t){e=Math.min.apply(Math,(0,a.default)(e.map(function(e){return s.subject(e).rank||9999}))),t=Math.min.apply(Math,(0,a.default)(t.map(function(e){return s.subject(e).rank||9999})));return(0,_.asc)(e,t)}):t}},{key:"info",get:function(){var t=0;return this.data.forEach(function(e){return t+=e.length}),{series:this.data.length,total:t}}}]),(0,f.default)((s=C).prototype,"userId",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,f.default)(s.prototype,"subjectIds",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"subjectIds"),s.prototype),(0,f.default)(s.prototype,"data",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"data"),s.prototype),(0,f.default)(s.prototype,"info",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"info"),s.prototype),s);function C(){var i;(0,n.default)(this,C);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=O.call.apply(O,[this].concat(t)),(0,p.default)((0,l.default)(i),"state",(0,y.observable)(h.STATE)),(0,p.default)((0,l.default)(i),"init",(0,o.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(h.NAMESPACE);case 2:t=e.sent,i.setState(Object.assign({},t,h.EXCLUDE_STATE,{_loaded:(0,_.getTimestamp)()})),i.state.data.length?i.calculateData():i.fetchSeries();case 5:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSeries",(0,o.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state.fetching)return e.abrupt("return",!1);e.next=2;break;case 2:return E={},e.next=5,i.fetchCollections();case 5:return e.next=7,i.fetchRelations();case 7:i.calculateData(),setTimeout((0,o.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchSubRelations();case 2:i.calculateData(),i.fetchSomeSubjects(),setTimeout(function(){i.fetchOtherCollections()},4e3);case 5:case"end":return e.stop()}},e)})),1600);case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchCollections",(0,o.default)(d.mark(function e(){var t,s,r,n,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.userId){e.next=3;break}return(0,_.info)("此功能依赖收藏数据，请先"+v.default.login(),4),e.abrupt("return",!1);case 3:return i.setState({fetching:!0,message:"获取用户收藏",current:1,total:2}),s=[],e.next=7,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=2&limit="+h.LIMIT);case 7:if(r=e.sent,!Array.isArray(null==(n=r)?void 0:n.data)){e.next=21;break}if(s.push.apply(s,(0,a.default)(null==(n=r)?void 0:n.data)),!j.systemStore.advance){e.next=21;break}if(!(100<(null==(n=r)?void 0:n.total))){e.next=21;break}n=2;case 13:if(n<=Math.min(Math.ceil(r.total/h.LIMIT),5))return e.next=16,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=2&offset="+(n-1)*h.LIMIT+"&limit="+h.LIMIT);e.next=21;break;case 16:r=e.sent,s.push.apply(s,(0,a.default)(null==(o=r)?void 0:o.data));case 18:n+=1,e.next=13;break;case 21:return i.setState({current:2}),e.next=24,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=3&limit="+h.LIMIT);case 24:if(r=e.sent,Array.isArray(null==(o=r)?void 0:o.data)&&s.push.apply(s,(0,a.default)(null==(t=r)?void 0:t.data)),s.length){e.next=28;break}return e.abrupt("return",!1);case 28:return i.setState({collections:s.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),i.setState(Object.assign({},h.EXCLUDE_STATE)),i.setStorage(h.NAMESPACE),e.abrupt("return",!0);case 32:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchOtherCollections",(0,o.default)(d.mark(function e(){var t,s,r,n,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=1&limit="+h.LIMIT);case 3:return o=e.sent,Array.isArray(null==(t=o)?void 0:t.data)&&n.push.apply(n,(0,a.default)(null==(t=o)?void 0:t.data)),e.next=7,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=4&limit="+h.LIMIT);case 7:return o=e.sent,Array.isArray(null==(t=o)?void 0:t.data)&&n.push.apply(n,(0,a.default)(null==(s=o)?void 0:s.data)),e.next=11,(0,b.request)(h.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+h.SUBJECT_TYPE+"&type=5&limit="+h.LIMIT);case 11:if(o=e.sent,Array.isArray(null==(s=o)?void 0:s.data)&&n.push.apply(n,(0,a.default)(null==(r=o)?void 0:r.data)),n.length){e.next=15;break}return e.abrupt("return",!1);case 15:i.setState({otherCollections:n.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),i.setStorage(h.NAMESPACE);case 17:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchRelations",(0,o.default)(d.mark(function e(){var r,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n=[],i.subjectIds.forEach(function(s){n.push((0,o.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(h.HOST_API_V0+"/subjects/"+s+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return h.SUBJECT_TYPE===e.type&&h.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))}),e.next=5,(0,g.queue)(n.map(function(t){return(0,o.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i.setState({fetching:!0,message:"获取条目关系",current:i.state.current+1,total:n.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 5:return i.clearState("relations",r),i.setStorage(h.NAMESPACE),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSubRelations",(0,o.default)(d.mark(function e(){var r,n;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({},i.state.relations),n=[],Object.keys(r).forEach(function(e){r[e].forEach(function(s){r[s]||n.push((0,o.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(h.HOST_API_V0+"/subjects/"+s.id+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return h.SUBJECT_TYPE===e.type&&h.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))})}),i.setState({fetching:!0,message:"获取二级条目关系",current:0,total:n.length}),e.next=6,(0,g.queue)(n.map(function(t){return(0,o.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i.setState({fetching:!0,message:"获取二级条目关系",current:i.state.current+1,total:n.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 6:return i.setState({relations:r}),setTimeout(function(){i.setState(Object.assign({},h.EXCLUDE_STATE))},1600),i.setStorage(h.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSubjects",(0,o.default)(d.mark(function e(){var t,s,r,n=arguments;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=0<n.length&&void 0!==n[0]?n[0]:[]).length){e.next=3;break}return e.abrupt("return",!1);case 3:return s=(0,_.getTimestamp)(),r=[],t.forEach(function(n){var e;return!!T[n]||!!((e=i.subject(n))._loaded&&s-e._loaded<=h.DISTANCE)||(T[n]=!0,void r.push((0,o.default)(d.mark(function e(){var t,s,r;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(h.HOST_API_V0+"/subjects/"+n);case 2:if(null!=(r=e.sent)&&r.id){e.next=5;break}return e.abrupt("return",!1);case 5:i.setState({subjects:(0,p.default)({},n,{id:n,name:(0,_.cnjp)(r.name_cn,r.name),image:(null==r||null==(t=r.images)?void 0:t.common)||"",date:r.date,eps:r.eps,total_episodes:r.total_episodes,platform:r.platform,rank:null==(t=r.rating)?void 0:t.rank,score:null==(s=r.rating)?void 0:s.score,total:null==(s=r.rating)?void 0:s.total,_loaded:(0,_.getTimestamp)()})});case 6:case"end":return e.stop()}},e)}))))}),e.next=8,(0,g.queue)(r,2);case 8:return i.setStorage(h.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSomeSubjects",function(){var e=i.state.data,t=[];e.forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,a.default)(e)):t.push(e)}),t.length=200,i.fetchSubjects(t)}),(0,p.default)((0,l.default)(i),"calculateData",function(){var s=i.state.relations,r=[];Object.keys(s).sort(function(e,t){return(0,_.desc)(e,t)}).forEach(function(e){var e=[Number(e)].concat((0,a.default)(s[e])),t=e.find(function(e){return e in E});t?(t=r[E[t]]).push.apply(t,(0,a.default)(e)):(r.push(e),e.forEach(function(e){E[e]=r.length-1}))}),i.setState({data:r.map(function(e){return Array.from(new Set(e)).sort(function(e,t){return(0,_.asc)(e,t)})}),_loaded:(0,_.getTimestamp)()})}),(0,p.default)((0,l.default)(i),"onPage",function(){var t=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,a.default)(e)):t.push(e)}),i.fetchSubjects(t)}),(0,p.default)((0,l.default)(i),"onToggleFixed",function(){var e=i.state.fixed;i.setState({fixed:!e}),i.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(i),"onSortSelect",function(e){"默认"===e?i.setState({sort:""}):(i.setState({sort:e}),i.setStorage(h.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onFilterSelect",function(e){"全部"===e?i.setState({filter:""}):(i.setState({filter:e}),i.setStorage(h.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onAirtimeSelect",function(e){"全部"===e?i.setState({airtime:""}):(i.setState({airtime:e}),i.setStorage(h.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onStatusSelect",function(e){"全部"===e?i.setState({status:""}):(i.setState({status:e}),i.setStorage(h.NAMESPACE))}),i}},"./src/screens/discovery/series/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/series/subject/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,n,o=void 0===(o=e.style)?void 0:o,i=e.id,e=void 0!==(e=e.small)&&e,d=t.$,a=t.navigation,t=(0,y.memoStyles)(),l=d.subject(i);return 0===l._loaded?(0,j.jsx)(c.Flex,{style:t.loading,justify:"center",children:(0,j.jsx)(c.Loading.Raw,{})}):(r=[],null!=(s=d.collection(i))&&s.ep?r.push("看到 "+s.ep+" "):s&&r.push("看到 0"),null!=l&&l.eps&&r.push(" "+(null==l?void 0:l.eps)+" 话"),null!=l&&l.total_episodes&&(null==l?void 0:l.total_episodes)!==(null==l?void 0:l.eps)&&r.push("共 "+(null==l?void 0:l.total_episodes)+" 章节"),d=l.platform&&"TV"!==l.platform&&l.platform,d=[!!l.total&&"("+l.total+"人)",l.date||"未放送",d].filter(function(e){return!!e}),n=24<(n=l.name.length)?11:16<n?12:8<n?13:14,(0,j.jsx)(c.Touchable,{animate:!0,onPress:function(){a.push("Subject",{subjectId:l.id,_cn:l.name,_image:l.image})},children:(0,j.jsxs)(c.Flex,{style:(0,p.stl)(t.item,o),align:"start",children:[(0,j.jsx)(u.Cover,{src:l.image,width:e?.88*f.IMG_WIDTH_SM:f.IMG_WIDTH_SM,height:e?.88*f.IMG_HEIGHT_SM:f.IMG_HEIGHT_SM,radius:!0}),(0,j.jsx)(c.Flex.Item,{children:(0,j.jsxs)(c.Flex,{style:e?t.bodySm:t.body,direction:"column",justify:"between",align:"start",children:[(0,j.jsx)(c.Text,{style:m._.mr.sm,size:n,bold:!0,numberOfLines:2,children:l.name}),(0,j.jsx)(c.Text,{size:11,bold:!0,children:r.join(" / ")}),(0,j.jsxs)(c.Flex,{style:m._.mt.sm,children:[(0,j.jsx)(u.Rank,{style:m._.mr.xs,value:l.rank}),(0,j.jsx)(u.Stars,{style:m._.mr.xs,value:l.score,simple:!0}),(0,j.jsx)(c.Text,{size:11,type:"sub",children:d.join(" / ")})]})]})}),(0,j.jsx)(u.Manage,{style:t.manage,subjectId:i,collection:m.collectionStore.collect(i),onPress:function(){m.uiStore.showManageModal({subjectId:i,title:l.name,status:null==s?void 0:s.type},"关联系列")}})]})}))})},"./src/screens/discovery/series/subject/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{loading:{height:120},item:{paddingHorizontal:r._.wind,paddingVertical:20},body:{height:n.IMG_HEIGHT_SM,paddingLeft:r._.md},bodySm:{height:.88*n.IMG_HEIGHT_SM,paddingLeft:r._.md},manage:{marginTop:-2}}})},"./src/screens/discovery/series/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$.state).fetching,r=t.message,n=t.current,t=t.total;return(0,i.jsx)(o.Progress,{show:s,message:r,current:n,total:t})});try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/series/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/series/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/series/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.filter;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_FILTER,text:s||"类型",type:s?"desc":void 0,onSelect:t.onFilterSelect})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/series/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/series/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/series/tool-bar/sort.tsx")),d=r(s("./src/screens/discovery/series/tool-bar/year.tsx")),a=r(s("./src/screens/discovery/series/tool-bar/filter.tsx")),l=r(s("./src/screens/discovery/series/tool-bar/status.tsx")),c=r(s("./src/screens/discovery/series/tool-bar/more.tsx")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,u.jsxs)(n.ToolBar,{children:[(0,u.jsx)(i.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(a.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})})},"./src/screens/discovery/series/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=s.state.fixed;return(0,i.jsx)(n.ToolBar.Popover,{data:["筛选（"+(t?"固定":"浮动")+"）"],icon:"md-more-vert",iconColor:o._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){if(e.includes("筛选"))return s.onToggleFixed()}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/series/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/series/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/series/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.sort;return(0,d.jsx)(n.ToolBar.Popover,{data:i.DATA_SORT,icon:"md-sort",iconColor:s?o._.colorDesc:o._.colorSub,text:s||"排序",type:s?"desc":void 0,onSelect:t.onSortSelect})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/discovery/series/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/discovery/series/tool-bar/status.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/series/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.status;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_STATUS,text:s||"状态",type:s?"desc":void 0,onSelect:t.onStatusSelect})});try{status.displayName="status",status.__docgenInfo={description:"",displayName:"status",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/status.tsx#status"]={docgenInfo:status.__docgenInfo,name:"status",path:"src/screens/discovery/series/tool-bar/status.tsx#status"})}catch(e){}},"./src/screens/discovery/series/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_AIRTIME,text:s||"年",type:s?"desc":void 0,onSelect:t.onAirtimeSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/series/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/staff/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.EXCLUDE_DATA=void 0;s=s("./src/stores/index.ts"),s=t.EXCLUDE_DATA={visibleBottom:s._.window.height};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/discovery/staff/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),l=["浏览器查看"];d.STORYBOOK||l.push("网页版查看");t.default=(0,r.ob)(function(){return(0,a.jsx)(n.Header,{title:"新番",hm:["user/lilyurey/index","Staff"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:l,onSelect:function(e){(0,i.t)("新番档期.右上角菜单",{key:e}),"浏览器查看"===e?(0,o.open)(d.HOST+"/user/lilyurey/index"):"网页版查看"===e&&(e=d.URL_SPA+"/"+(0,o.getSPAParams)("Staff"),(0,o.open)(e))},children:(0,a.jsx)(n.Heatmap,{id:"新番档期.右上角菜单"})})}})})},"./src/screens/discovery/staff/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/staff/header/index.tsx")),l=r(s("./src/screens/discovery/staff/list/index.tsx")),r=r(s("./src/screens/discovery/staff/store.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-staff",children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"新番",screen:"Staff"})]})]})})});try{staff.displayName="staff",staff.__docgenInfo={description:"",displayName:"staff",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/index.tsx#staff"]={docgenInfo:staff.__docgenInfo,name:"staff",path:"src/screens/discovery/staff/index.tsx#staff"})}catch(e){}},"./src/screens/discovery/staff/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),l={id:"新番档期.跳转",data:{userId:"lilyurey"}};t.default=(0,r.obc)(function(e,t){var s=t.$;return s.catalogs._loaded?(0,a.jsx)(n.ListView,{style:i._.container.plain,keyExtractor:d.keyExtractor,data:s.catalogs,lazy:6,scrollToTop:!0,renderItem:c,scrollEventThrottle:4,onScroll:s.onScroll,onHeaderRefresh:function(){return s.fetchCatalogs(!0)},onFooterRefresh:function(){return s.fetchCatalogs()}}):(0,a.jsx)(n.Loading,{style:i._.container.plain})});function c(e){var t=e.item,e=e.index;return(0,a.jsx)(o.ItemCatalog,Object.assign({},t,{index:e,name:"优莉雅",isUser:!0,event:l}))}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/staff/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/staff/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),g=s("./src/screens/discovery/staff/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var v;t.default=(s=r.default,(0,l.default)(h,s),v=b(h),(0,n.default)(h,[{key:"userId",get:function(){return"lilyurey"}},{key:"catalogs",get:function(){return y.usersStore.catalogs(this.userId,!1)}}]),(0,p.default)((t=h).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,p.default)(t.prototype,"catalogs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogs"),t.prototype),t);function h(){var n;(0,d.default)(this,h);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=v.call.apply(v,[this].concat(s)),(0,m.default)((0,a.default)(n),"state",(0,f.observable)(g.STATE)),(0,m.default)((0,a.default)(n),"init",function(){return n.setState({_loaded:!0}),n.fetchCatalogs(!0)}),(0,m.default)((0,a.default)(n),"fetchCatalogs",(0,i.default)(o.mark(function e(){var t,s,r=arguments;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]&&r[0],e.next=3,y.usersStore.fetchCatalogs({userId:n.userId,isCollect:!1},t);case 3:return t=e.sent,s=t.list,(0,_.queue)(s.map(function(e){return function(){return n.fetchCatalogDetail(e.id)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(n),"fetchCatalogDetail",(t=(0,i.default)(o.mark(function e(t){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=y.discoveryStore.catalogDetail(t))._loaded&&s.list.length||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=3;break;case 3:return e.next=5,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 5:if(e.sent)return e.abrupt("return",!0);e.next=8;break;case 8:return e.next=10,y.discoveryStore.fetchCatalogDetail({id:t});case 10:return s=e.sent,n.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(n),"updateCatalogDetail",function(a){setTimeout(function(){var e=a.id,t=a.title,s=a.avatar,r=a.nickname,n=a.userId,o=a.time,i=a.collect,d=a.list;(0,x.update)("catalog_"+e,{id:e,title:t,avatar:s,nickname:r,userId:n,time:o,collect:i,list:d.filter(function(e,t){return t<100}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}})})},2e3)}),(0,m.default)((0,a.default)(n),"onScroll",j.updateVisibleBottom.bind((0,a.default)(n))),n}},"./src/screens/discovery/tags/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/constants/index.ts"),t.NAMESPACE="ScreenTags",t.TABS=s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}}),s=t.EXCLUDE_STATE={ipt:"",filter:"",isFocused:!0,ota:{}};t.STATE=Object.assign({page:0,rec:!1},s,{_loaded:!1})},"./src/screens/discovery/tags/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/tags/filter/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}s=u.default.Component,(0,d.default)(x,s),_=j(x),(0,o.default)(x,[{key:"render",value:function(){var e=this.context.$,t=e.state.ipt,s=this.state.focus;return(0,y.jsxs)(m.default,{style:this.styles.filter,children:[(0,y.jsx)(p.Input,{style:this.styles.input,clearButtonMode:"never",value:t,returnKeyType:"search",returnKeyLabel:"搜索",onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:e.onFilterChange,onSubmitEditing:e.onSubmitEditing}),!s&&!t&&(0,y.jsx)(p.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:(0,y.jsx)(p.Iconfont,{name:"md-search",size:18})})]})}},{key:"styles",get:function(){return(0,f.memoStyles)()}}]);var _,u=x;function x(){var e;(0,n.default)(this,x);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=_.call.apply(_,[this].concat(s)),(0,c.default)((0,i.default)(e),"state",{focus:!1}),(0,c.default)((0,i.default)(e),"onFocus",function(){e.setState({focus:!0})}),(0,c.default)((0,i.default)(e),"onBlur",function(){e.setState({focus:!1})}),e}t.default=(0,r.obc)(u);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/tags/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/tags/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:r._.wind,marginBottom:r._._wind,backgroundColor:r._.colorBg},input:Object.assign({height:40,paddingVertical:0},r._.fontSize16,{textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0}}})},"./src/screens/discovery/tags/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),d=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=r(s("./src/screens/discovery/tags/rec-segment/index.tsx")),c=s("./node_modules/react/jsx-runtime.js"),u=["浏览器查看"];a.STORYBOOK||u.push("网页版查看");t.default=(0,d.obc)(function(e,t){var s=t.$,r=s.state.rec;return(0,c.jsx)(n.Header,{title:"标签",alias:"标签索引",hm:[s.url,"Tags"],headerTitleAlign:"left",headerRight:function(){return(0,c.jsxs)(n.Flex,{children:[(0,c.jsx)(l.default,{value:r,onValueChange:s.onValueChange}),(0,c.jsx)(n.Header.Popover,{data:u,onSelect:function(e){(0,i.t)("标签索引.右上角菜单",{key:e}),"浏览器查看"===e?(0,o.open)(s.url):"网页版查看"===e&&(e=a.URL_SPA+"/"+(0,o.getSPAParams)("Tags"),(0,o.open)(e))},children:(0,c.jsx)(n.Heatmap,{id:"标签索引.右上角菜单"})})]})}})});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/tags/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/tags/header/index.tsx")),l=r(s("./src/screens/discovery/tags/tabs/index.tsx")),r=r(s("./src/screens/discovery/tags/store.ts")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,c.jsxs)(n.Component,{id:"screen-tags",children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"标签索引.标签页切换",transparent:!0})]})]})})});try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/tags/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/utils/fetch/index.ts"),_=s("./src/screens/discovery/tags/item/styles.ts"),x=s("./src/screens/discovery/tags/item/utils.ts"),g=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.type,r=e.name,n=e.nums,e=e.index,o=t.$,i=t.navigation,t=(0,_.memoStyles)(),d=(a=t.item).width,a=a.height,l=(o=o.state).filter,c=o.rec,u=n,o=(c?u=(0,x.getTyperankNums)(s,r):1e4<n&&(u=(0,y.formatNumber)(n/1e4,1)+"w"),f._.num(4)),m=(0,y.HTMLDecode)(r);return(0,g.jsx)(p.Touchable,{style:(0,y.stl)(t.container,(f._.isPad||f._.isLandscape)&&!(e%o)&&f._.container.left),animate:!0,scale:.85,onPress:function(){c&&u?((0,j.t)("标签索引.跳转",{to:"Typerank",type:s,tag:m}),i.push("Typerank",{type:s,tag:m})):((0,j.t)("标签索引.跳转",{to:"Tag",type:s,tag:m}),i.push("Tag",{type:s,tag:m}))},children:(0,g.jsxs)(p.Squircle,{width:d,height:a,radius:!0,children:[(0,g.jsxs)(p.Flex,{style:t.item,direction:"column",justify:"center",children:[(0,g.jsx)(p.Highlight,{align:"center",size:12,bold:!0,numberOfLines:3,value:l,children:m}),(0,g.jsx)(p.Text,{style:f._.mt.xs,type:"sub",align:"center",size:10,children:u||"--"})]}),0===e&&(0,g.jsx)(p.Heatmap,{id:"标签索引.跳转"})]})})})},"./src/screens/discovery/tags/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.grid(r._.num(4)),t=e.width,e=e.marginLeft;return{container:{marginBottom:r._.md,marginLeft:e},item:{width:t,height:t,paddingHorizontal:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)}}})},"./src/screens/discovery/tags/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.getTyperankNums=function(e,t){var s;"anime"===e?s=n.default:"book"===e?s=o.default:"game"===e?s=i.default:"music"===e?s=d.default:"real"===e&&(s=a.default);return s&&(null==(e=s[t])?void 0:e.length)||0},r(s("./src/assets/json/typerank/anime-ids.json"))),o=r(s("./src/assets/json/typerank/book-ids.json")),i=r(s("./src/assets/json/typerank/game-ids.json")),d=r(s("./src/assets/json/typerank/music-ids.json")),a=r(s("./src/assets/json/typerank/real-ids.json"))},"./src/screens/discovery/tags/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/tags/filter/index.tsx")),_=r(s("./src/screens/discovery/tags/item/index.tsx")),x=s("./src/screens/discovery/tags/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(h,r),v=b(h),(0,o.default)(h,[{key:"render",value:function(){var e=this.context.$,t=this.props.id,s=e.state,r=s.page,s=s.rec,e=e.list(t),n=f._.num(4);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.default,{}),e._loaded?(0,g.jsx)(m.ListView,{keyExtractor:S,contentContainerStyle:f._.container.bottom,data:e,lazy:32,numColumns:n,scrollToTop:x.TABS[r].key===t,keyboardDismissMode:"on-drag",ListHeaderComponent:s&&(0,g.jsx)(p.Notice,{style:f._.mb.md,children:"「排名」为作者整理的对应标签下评分最高的前 100 个条目。若没有足够数据则跳转到正常的标签页面。"}),renderItem:this.renderItem,onHeaderRefresh:this.onHeaderRefresh,onFooterRefresh:this.onFooterRefresh},""+f._.orientation+n):(0,g.jsx)(m.Loading,{})]})}}]);var v,s=h;function h(){var r;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(r),"renderItem",function(e){var t=e.item,e=e.index,s=r.props.id;return(0,g.jsx)(_.default,Object.assign({type:s,index:e},t))}),(0,c.default)((0,i.default)(r),"onHeaderRefresh",function(){var e=r.context.$,t=r.props.id;return e.fetchList(t,!0)}),(0,c.default)((0,i.default)(r),"onFooterRefresh",function(){var e=r.context.$,t=r.props.id;return e.fetchList(t)}),r}(0,c.default)(s,"defaultProps",{title:"全部"});t.default=(0,y.obc)(s);function S(e){return e.name+"|"+e.nums}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/tags/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/tags/rec-segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/discovery/tags/rec-segment/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),d=["数量","排名"];function a(e){var t=e.value,e=e.onValueChange;return(0,i.jsx)(n.SegmentedControl,{style:o.styles.segment,size:11,values:d,selectedIndex:t?1:0,onValueChange:e})}t.default=a;try{a.displayName="RecSegement",a.__docgenInfo={description:"",displayName:"RecSegement",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/rec-segment/index.tsx#RecSegement"]={docgenInfo:a.__docgenInfo,name:"RecSegement",path:"src/screens/discovery/tags/rec-segment/index.tsx#RecSegement"})}catch(e){}},"./src/screens/discovery/tags/rec-segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(88),height:s._.r(28),marginRight:s._.sm}})},"./src/screens/discovery/tags/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/tags/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h,S=[];t.default=(s=r.default,(0,l.default)(O,s),h=v(O),(0,i.default)(O,[{key:"type",get:function(){var e=this.state.page;return b.TABS[e].key}},{key:"url",get:function(){var e=this.state,t=e.page,e=e.filter;return(0,g.HTML_TAGS)(this.type,t,e)}},{key:"thirdPartyKey",get:function(){var e=this.state.filter;return"tags_"+[this.type,e].join("_")}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"list",value:function(t){var s=this;return(0,f.computed)(function(){var e=s.state.filter,e=y.discoveryStore.tags(t,e);return e._loaded?y.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,j.x18s)(e.name)})}):e:s.ota?Object.assign({},s.ota,{pagination:{page:1,pageTotal:10}}):g.LIST_EMPTY}).get()}}]),(0,p.default)((t=O).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),t);function O(){var i;(0,o.default)(this,O);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=h.call.apply(h,[this].concat(s)),(0,m.default)((0,a.default)(i),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,a.default)(i),"init",(0,n.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(b.NAMESPACE);case 2:return t=e.sent,i.setState(Object.assign({},t,b.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",i.fetchList(i.type,!0));case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(i),"fetchList",(t=(0,n.default)(d.mark(function e(t){var s,r,n,o=arguments;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=1<o.length&&void 0!==o[1]&&o[1])&&i.fetchThirdParty(),s=i.state.filter,e.next=5,y.discoveryStore.fetchTags({type:t,filter:s},r);case 5:return(s=e.sent).list.length&&i.thirdPartyKey in i.state.ota&&(n=(null==(r=i.ota)?void 0:r.ts)||0,604800<=(0,j.getTimestamp)()-n)&&i.updateThirdParty(),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(i),"fetchThirdParty",(0,n.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ota||i.list(i.type)._loaded){e.next=8;break}return e.next=3,(0,x.get)(i.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return i.setState({ota:(0,m.default)({},i.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:i.setState({ota:(0,m.default)({},i.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(i),"updateThirdParty",(0,n.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(i.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,x.update)(i.thirdPartyKey,{list:i.list(i.type).list}),S.push(i.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(i),"onChange",function(e){e!==i.state.page&&((0,_.t)("标签索引.标签页切换"),i.setState({page:e}),i.tabChangeCallback(e),i.setStorage(b.NAMESPACE))}),(0,m.default)((0,a.default)(i),"onValueChange",function(e){i.setState({rec:"排名"===e}),i.setStorage(b.NAMESPACE)}),(0,m.default)((0,a.default)(i),"tabChangeCallback",function(e){e=b.TABS[e].key;i.list(e)._loaded||i.fetchList(e,!0)}),(0,m.default)((0,a.default)(i),"onFilterChange",function(e){e=e.trim();e?i.setState({ipt:e}):i.setState({ipt:e,filter:""})}),(0,m.default)((0,a.default)(i),"onSubmitEditing",function(){var e=i.state.ipt;e&&e.length&&(i.setState({filter:e}),i.fetchList(i.type,!0),i.setStorage(b.NAMESPACE))}),i}},"./src/screens/discovery/tags/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/tags/list/index.tsx")),a=s("./src/screens/discovery/tags/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,l.jsx)(n.TabsV2,{style:o._.mt._sm,routes:a.TABS,page:s,backgroundColor:o._.colorPlain,renderItem:c,onChange:t.onChange},o._.orientation)});function c(e){return(0,l.jsx)(d.default,{id:e.key},e.key)}try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/tags/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/wenku/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/wenku/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenWenku",t.STATE={query:{first:"",year:2022,status:"",anime:"",cate:"",author:"",tags:[],sort:"发行",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=100,[[],[]]);r.WENKU_TAGS.forEach(function(e,t){return n[t%2?1:0].push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.WENKU_FIRST},{title:"发行",type:"year",data:r.WENKU_YEAR,always:!0},{title:"状态",type:"status",data:r.WENKU_STATUS},{title:"动画",type:"anime",data:r.WENKU_ANIME},{title:"出版",type:"cate",data:r.WENKU_CATE},{title:"作者",type:"author",data:r.WENKU_AUTHOR},{title:"分类",type:"tags",data:n,multiple:!0,multiSelect:!0,always:!0},{title:"排序",type:"sort",data:r.WENKU_SORT,always:!0},{title:"收藏",type:"collected",data:r.WENKU_COLLECTED}]},"./src/screens/discovery/wenku/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/anime/header/index.tsx")),a=r(s("./src/screens/discovery/wenku/list/index.tsx")),r=r(s("./src/screens/discovery/wenku/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(n.Component,{id:"screen-wenku",children:[(0,l.jsx)(d.default,{title:"找文库",alias:"文库",hm:["wenku","Wenku"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(a.default,{})})]})})});try{wenku.displayName="wenku",wenku.__docgenInfo={description:"",displayName:"wenku",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/index.tsx#wenku"]={docgenInfo:wenku.__docgenInfo,name:"wenku",path:"src/screens/discovery/wenku/index.tsx#wenku"})}catch(e){}},"./src/screens/discovery/wenku/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/wenku/item-grid/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),x={id:"文库.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,j.memoStyles)(),s=f.otaStore.wenkuSubjectId(s),o=(s=f.otaStore.wenku(s)).id,i=s.wid,d=s.image,a=s.cn,l=s.score,c=s.rank,u=s.begin,s=s.update;return o?(0,_.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(r%e)&&n.left,event:x,num:e,id:o,wid:i,cover:d?"https://lain.bgm.tv/pic/cover/m/"+d+".jpg":y.IMG_DEFAULT,nameCn:a,score:l,rank:c,airtime:u||s?String(u||s).slice(0,7):"",typeCn:"书籍",collection:f.collectionStore.collect(o)}):(t=f._.grid(e),(0,_.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,_.jsx)(m.Loading.Raw,{})}))})},"./src/screens/discovery/wenku/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/wenku/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.fill.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),T=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),E=s("./src/stores/index.ts"),C=s("./src/screens/_/index.ts"),w=s("./src/utils/dev/index.ts"),n=s("./src/utils/decorators/index.ts"),I=s("./src/utils/fetch/index.ts"),A=s("./src/constants/index.ts"),k=r(s("./src/screens/discovery/wenku/item/tags.tsx")),P=s("./src/screens/discovery/wenku/item/styles.ts"),R=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.$,d=t.navigation,t=(0,P.memoStyles)(),e=E.otaStore.wenkuSubjectId(e),a=(e=E.otaStore.wenku(e)).id,l=e.wid,c=e.image,u=e.cn,m=e.ep,p=e.status,f=e.begin,y=e.update,j=e.score,_=e.rank,x=e.total,g=e.cate,b=e.author,v=e.len,h=e.hot,S=e.up,O=e.anime,e=e.tags;return a?(s=20<=u.length?13:14<=u.length?14:15,p=[1===p?"完结":"连载",f||y,g,b,v?v+"万字":"",m],"更新"===i.state.query.sort&&y&&p.push(y+" 更新"),f=p.filter(function(e){return!!e}).join(" / "),g=(0,w.fill)("",h,"◆"),b=(0,w.fill)("",S,"▲"),r=c?"https://lain.bgm.tv/pic/cover/m/"+c+".jpg":A.IMG_DEFAULT,n=E.collectionStore.collect(a),(0,R.jsxs)(T.Touchable,{style:t.container,animate:!0,onPress:function(){d.push("Subject",{subjectId:a,_cn:u,_image:r,_wid:l}),(0,I.t)("游戏.跳转",{subjectId:a})},children:[(0,R.jsxs)(T.Flex,{style:t.wrap,align:"start",children:[(0,R.jsx)(C.Cover,{src:r,width:A.IMG_WIDTH_LG,height:A.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"书籍"}),(0,R.jsxs)(T.Flex.Item,{style:E._.ml.wind,children:[(0,R.jsxs)(T.Flex,{align:"start",children:[(0,R.jsx)(T.Flex.Item,{children:(0,R.jsxs)(T.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,R.jsx)(T.Text,{size:s,bold:!0,numberOfLines:3,children:u||"-"}),(0,R.jsx)(T.Text,{style:E._.mt.sm,size:11,lineHeight:14,numberOfLines:3,children:f}),(0,R.jsxs)(T.Flex,{style:[E._.container.block,E._.mt.sm],children:[(0,R.jsx)(T.Flex.Item,{children:!!g&&(0,R.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["热度　",g]})}),(0,R.jsx)(T.Flex.Item,{children:!!b&&(0,R.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["趋势　",b]})})]})]})}),(0,R.jsx)(C.Manage,{subjectId:a,collection:n,typeCn:"书籍",onPress:function(){E.uiStore.showManageModal({subjectId:a,title:u,status:A.MODEL_COLLECTION_STATUS.getValue(n),action:"读"},"找文库")}})]}),(0,R.jsxs)(T.Flex,{style:t.bottom,children:[(0,R.jsx)(C.Rank,{value:_}),(0,R.jsx)(C.Stars,{style:E._.mr.xs,value:j,simple:!0}),!!x&&(0,R.jsxs)(T.Text,{style:E._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),!!O&&(0,R.jsx)(C.Tag,{style:E._.mr.sm,value:"动画化"}),(0,R.jsx)(T.Flex.Item,{children:(0,R.jsx)(k.default,{value:e})})]})]})]}),0===o&&(0,R.jsx)(T.Heatmap,{id:"游戏.跳转"})]})):(0,R.jsx)(T.Flex,{style:t.loading,justify:"center",children:(0,R.jsx)(T.Loading.Raw,{})})})},"./src/screens/discovery/wenku/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.8*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/wenku/item/tags.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,e=e.value,t=t.$;return e&&"string"==typeof e?(s=t.state.query.tags,t=e.split(" ").sort(function(e,t){return(0,o.desc)(s.includes(e),s.includes(t))}),(0,i.jsx)(n.Tags,{value:t})):null})},"./src/screens/discovery/wenku/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/wenku/item/index.tsx")),_=r(s("./src/screens/discovery/wenku/item-grid/index.tsx")),x=s("./src/screens/discovery/wenku/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}r=u.default.Component,(0,d.default)(h,r),v=b(h),(0,o.default)(h,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,g.jsx)(p.Filter,{filterDS:x.filterDS,name:"文库",type:"文库",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化，轻小说因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,g.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onWenkuPage},""+r+s)):(0,g.jsxs)(g.Fragment,{children:[this.renderFilter(),(0,g.jsx)(m.Loading,{})]})}}]);var v,s=h;function h(){var s;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,g.jsx)(j.default,{pickIndex:t,index:e}):(0,g.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function S(e){return String(e)}try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/wenku/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wenku/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wenku/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),n=n(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/wenku/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/screens/discovery/wenku/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var v,h=!1;t.default=(s=n.default,(0,c.default)(S,s),v=b(S),(0,o.default)(S,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.wenkuSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,f.default)((t=S).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function S(){var o;(0,a.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=v.call.apply(v,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)(g.STATE)),(0,p.default)((0,l.default)(o),"init",(0,d.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(g.NAMESPACE);case 2:if(t=e.sent,o.setState(Object.assign({},t,{_loaded:h})),h){e.next=7;break}return e.next=7,(0,_.init)();case 7:h=!0,t=o.params._tags,(s=void 0===t?[]:t).length&&o.initQuery("string"==typeof s?[s]:s),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),o.search(),setTimeout(function(){o.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(){setTimeout(function(){var e=o.state.query,e=(0,_.search)(e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(g.NAMESPACE),(0,x.t)("文库.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("文库.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("文库.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(g.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(g.NAMESPACE)}),o}},"./src/screens/discovery/wiki/cate/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/wiki/ds.ts"),i=s("./src/screens/discovery/wiki/cate/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,i.memoStyles)(),r=t.state.top;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.SegmentedControl,{style:s.segment,size:11,values:o.TOP_DS,selectedIndex:r,onValueChange:t.onChangeTop}),(0,d.jsx)(n.SegmentedControl,{style:s.segment,size:11,values:t.segement.values,selectedIndex:t.segement.selectedIndex,onValueChange:t.onChangeSub},t.segement.key)]})});try{cate.displayName="cate",cate.__docgenInfo={description:"",displayName:"cate",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/cate/index.tsx#cate"]={docgenInfo:cate.__docgenInfo,name:"cate",path:"src/screens/discovery/wiki/cate/index.tsx#cate"})}catch(e){}},"./src/screens/discovery/wiki/cate/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{segment:{width:r._.window.width-2*r._.wind,height:r._.r(32),marginLeft:r._.wind,marginTop:r._.sm+2}}})},"./src/screens/discovery/wiki/counts/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/wiki/ds.ts"),u=s("./src/screens/discovery/wiki/counts/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,r=(0,u.memoStyles)(),n=l.systemStore.setting.coverRadius,s=(t=t.wiki).counts,o=void 0===(t=t.lastCounts)?[]:t;return(0,m.jsxs)(i.default,{style:l._.mt._sm,children:[(0,m.jsx)(a.PreventTouchPlaceholder,{}),(0,m.jsx)(d.ScrollView,{contentContainerStyle:r.contentContainerStyle,horizontal:!0,showsHorizontalScrollIndicator:!1,children:s.map(function(e,t){var s=o.length>t&&parseInt(e.replace(/,/g,""))-parseInt(o[t].replace(/,/g,""));return(0,m.jsxs)(i.default,{style:[r.count,{borderRadius:n}],children:[(0,m.jsx)(d.Text,{size:13,bold:!0,children:c.LABEL_DS[t]}),(0,m.jsxs)(d.Text,{style:l._.mt.xs,type:"main",bold:!0,children:[e,!!s&&(0,m.jsxs)(d.Text,{type:"bid",bold:!0,children:[" ","↑",s]})]})]},c.LABEL_DS[t])})})]})});try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/discovery/wiki/counts/index.tsx#counts"})}catch(e){}},"./src/screens/discovery/wiki/counts/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingHorizontal:r._.wind,paddingLeft:r._.wind-r._.sm,minHeight:r._.r(56)},count:{padding:r._.device(r._.sm,r._.md),marginTop:r._.sm,marginLeft:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,borderWidth:r._.hairlineWidth,borderColor:r._.colorBorder}}})},"./src/screens/discovery/wiki/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.TOP_DS=t.STATE=t.RELATION_DS=t.NAMESPACE=t.LAST_DS=t.LABEL_DS=t.KEYS=void 0;t.NAMESPACE="ScreenWiki",t.STATE={top:0,type:0,relation:0,last:0,_loaded:!1},t.KEYS={"0|0":"all","0|1":"lock","0|2":"merge","0|3":"crt","0|4":"prsn","0|5":"ep","1|0":"relation","1|1":"subjectPerson","1|2":"subjectCrt","2|0":"all","2|1":"anime","2|2":"book","2|3":"music","2|4":"game","2|5":"real"},t.LABEL_DS=["全部条目","动画","书籍","音乐","游戏","三次元","章节","角色","人物","编辑"],t.TOP_DS=["编辑","关联","入库"],t.TYPE_DS=["条目","锁定","合并","角色","人物","章节"],t.RELATION_DS=["条目关联","人物关联","角色关联"],t.LAST_DS=["全部","动画","书籍","音乐","游戏","三次元"]},"./src/screens/discovery/wiki/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,a.jsx)(n.Header,{title:"维基人",hm:["wiki","Wiki"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("维基人.右上角菜单",{key:e}),(0,o.open)(d.HOST+"/wiki"))},children:(0,a.jsx)(n.Heatmap,{id:"维基人.右上角菜单"})})}})})},"./src/screens/discovery/wiki/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/wiki/header/index.tsx")),l=r(s("./src/screens/discovery/wiki/counts/index.tsx")),c=r(s("./src/screens/discovery/wiki/cate/index.tsx")),u=r(s("./src/screens/discovery/wiki/list/index.tsx")),r=r(s("./src/screens/discovery/wiki/store.ts")),m=s("./src/screens/discovery/wiki/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,p.jsxs)(o.Component,{id:"screen-wiki",children:[(0,p.jsx)(a.default,{}),(0,p.jsxs)(o.Page,{children:[(0,p.jsx)(l.default,{}),(0,p.jsxs)(n.default,{style:m.styles.list,children:[(0,p.jsx)(c.default,{}),(0,p.jsx)(u.default,{})]})]})]})})});try{wiki.displayName="wiki",wiki.__docgenInfo={description:"",displayName:"wiki",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/index.tsx#wiki"]={docgenInfo:wiki.__docgenInfo,name:"wiki",path:"src/screens/discovery/wiki/index.tsx#wiki"})}catch(e){}},"./src/screens/discovery/wiki/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/wiki/item/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.id,r=e.name,n=e.detail,o=e.userName,i=e.userId,d=t.navigation,e=(0,f.memoStyles)(),t=String(s).includes("/subject/")?String(s).replace("/subject/",""):0;return(0,y.jsxs)(a.default,{style:e.item,children:[(0,y.jsxs)(l.Flex,{align:"start",children:[!!t&&(0,y.jsx)(a.default,{style:u._.mr.md,children:(0,y.jsx)(c.Cover,{size:p.IMG_WIDTH_SM,height:p.IMG_HEIGHT_SM,src:(0,p.API_COVER)(t),radius:!0,headers:u.userStore.requestHeaders})}),(0,y.jsxs)(l.Flex.Item,{children:[(0,y.jsx)(l.Touchable,{style:e.touch,onPress:function(){return(0,m.appNavigate)(s,d)},children:(0,y.jsx)(l.Text,{type:"main",lineHeight:15,bold:!0,children:(0,m.findSubjectCn)(r)})}),(0,y.jsxs)(l.Text,{style:u._.mt.xs,onPress:function(){return d.push("Zone",{userId:i})},children:[!!n&&(0,y.jsxs)(l.Text,{type:"sub",size:12,lineHeight:14,children:[n," "]}),!(!o&&!i)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Text,{type:"sub",size:12,lineHeight:14,children:["by"," "]}),(0,y.jsx)(l.Text,{size:12,lineHeight:14,bold:!0,children:o||i})]})]})]})]}),(0,y.jsx)(l.Divider,{style:u._.mt.sm})]})})},"./src/screens/discovery/wiki/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingVertical:r._.sm,paddingHorizontal:r._.wind},touch:{borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/discovery/wiki/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/wiki/item/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return t=t.$,(0,a.jsx)(n.ScrollView,{contentContainerStyle:[o._.mt.md,o._.container.bottom],children:t.list.map(function(e,t){return(0,a.jsx)(d.default,Object.assign({},e),t)})})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wiki/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wiki/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/screens/discovery/wiki/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var x;t.default=(s=r.default,(0,l.default)(g,s),x=_(g),(0,d.default)(g,[{key:"wiki",get:function(){return y.discoveryStore.wiki}},{key:"segement",get:function(){var e,t,s=this.state,r=s.top,n=s.type,o=s.relation,s=s.last,o=1===r?(e="relation",t=j.RELATION_DS,o):2===r?(e="last",t=j.LAST_DS,s):(e="type",t=j.TYPE_DS,n);return{key:e,values:t,selectedIndex:o}}},{key:"list",get:function(){var e=this.wiki,t=e.timeline,t=void 0===t?{}:t,e=e.last,s=this.state,r=s.top,n=s.type,o=s.relation,s=s.last;return 0===r?t[j.KEYS[r+"|"+n]]||[]:1===r?t[j.KEYS[r+"|"+o]]||[]:(void 0===e?{}:e)[j.KEYS[r+"|"+s]]||[]}}]),(0,p.default)((t=g).prototype,"wiki",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"wiki"),t.prototype),(0,p.default)(t.prototype,"segement",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"segement"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function g(){var r;(0,i.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=x.call.apply(x,[this].concat(t)),(0,m.default)((0,a.default)(r),"state",(0,f.observable)(j.STATE)),(0,m.default)((0,a.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.getStorage(j.NAMESPACE),e.next=3,t;case 3:return t=e.sent,r.setState(Object.assign({},t,{_loaded:!0})),e.abrupt("return",y.discoveryStore.fetchWiki());case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(r),"onChangeTop",function(t){r.setState({top:j.TOP_DS.findIndex(function(e){return e===t})}),r.setStorage(j.NAMESPACE)}),(0,m.default)((0,a.default)(r),"onChangeSub",function(t){var e=r.segement,s=e.key,e=e.values;r.setState((0,m.default)({},s,e.findIndex(function(e){return e===t}))),r.setStorage(j.NAMESPACE)}),r}},"./src/screens/discovery/wiki/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({list:{flex:1,paddingTop:s._.sm}})},"./src/screens/discovery/yearbook/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEARS=void 0;t.YEARS=[2017,2016,2015,2014,2013,2012,2011,2010]},"./src/screens/discovery/yearbook/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),u=s("./src/utils/fetch/index.ts"),n=s("./src/utils/hooks/index.ts"),m=s("./src/constants/index.ts"),p=r(s("./src/screens/discovery/index/component/award-2022/index.web.tsx")),f=s("./src/screens/discovery/yearbook/ds.ts"),y=s("./src/screens/discovery/yearbook/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),_=[2021,2020,2019,2018];t.default=function(e){var i=e.navigation;return(0,n.useObserver)(function(){var s=(0,y.memoStyles)(),e=s.item2021,t=e.width,r=e.height,n=l.systemStore.setting.coverRadius,o=l._.portrait(2,4);return(0,j.jsxs)(a.Component,{id:"screen-yearbook",children:[(0,j.jsx)(a.Header,{title:"Bangumi年鉴",hm:["discovery/yearbook","Yearbook"]}),(0,j.jsx)(a.Page,{children:(0,j.jsxs)(a.ScrollView,{contentContainerStyle:s.container,scrollToTop:!0,children:[(0,j.jsx)(p.default,{navigation:i,width:s.item2021.width,height:s.item2021.height}),(0,j.jsx)(a.Flex,{wrap:"wrap",children:_.map(function(e){return(0,j.jsx)(a.Touchable,{style:l._.mt.md,animate:!0,onPress:function(){(0,u.t)("Bangumi年鉴.跳转",{to:"Award",year:e}),i.push("Award",{uri:m.HOST+"/award/"+e})},children:(0,j.jsx)(a.Squircle,{width:t,height:r,radius:n,children:(0,j.jsx)(d.default,{style:s["item"+e],children:(0,j.jsx)(a.Image,{src:m.ASSETS_AWARDS[e],size:t,height:r,placeholder:!1,resizeMode:2018===e?"cover":"contain"})})})},String(e))})}),(0,j.jsx)(a.Flex,{wrap:"wrap",children:f.YEARS.map(function(e,t){return(0,j.jsx)(a.Touchable,{style:(0,c.stl)(s.item,t%o==0&&s.side),animate:!0,onPress:function(){(0,u.t)("Bangumi年鉴.跳转",{to:"Award",year:e}),i.push("Award",{uri:m.HOST+"/award/"+e})},children:(0,j.jsx)(a.Squircle,{width:s.itemBody.width,height:s.itemBody.height,radius:n,children:(0,j.jsx)(a.Flex,{style:s.itemBody,justify:"center",direction:"column",children:(0,j.jsx)(a.Text,{size:18,type:l._.select("plain","title"),bold:!0,children:e})})})},e)})})]})})]})})};try{yearbook.displayName="yearbook",yearbook.__docgenInfo={description:"",displayName:"yearbook",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/yearbook/index.tsx#yearbook"]={docgenInfo:yearbook.__docgenInfo,name:"yearbook",path:"src/screens/discovery/yearbook/index.tsx#yearbook"})}catch(e){}},"./src/screens/discovery/yearbook/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.width-2*r._.wind-0*r._.md,t=.4*e,s=(r._.window.width-2*r._.wind-+r._.md)/2;return{container:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom},item2021:{width:e,height:t,backgroundColor:"#ebf3ec"},item2020:{width:e,height:t,backgroundColor:"rgb(236, 243, 236)"},item2019:{width:e,height:t,backgroundColor:"rgb(54, 63, 69)"},item2018:{width:e,height:t},item:{marginTop:r._.md,marginLeft:r._.md},itemBody:{width:s,height:s,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},side:{marginLeft:0}}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var t=s("./node_modules/css-loader/dist/runtime/sourceMaps.js"),t=s.n(t),r=s("./node_modules/css-loader/dist/runtime/api.js"),s=s.n(r)()(t());s.push([e.id,`screen-discovery .scroll-view-horizontal--grabbing{cursor:grab !important}screen-discovery .scroll-view-horizontal--grabbing>div *{pointer-events:none !important}
`,"",{version:3,sources:["webpack://./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"],names:[],mappings:"AAMA,mDAGM,sBAAuB,CAH7B,yDAMQ,8BAA+B",sourcesContent:["/*\n * @Author: czy0729\n * @Date: 2023-11-08 12:57:23\n * @Last Modified by: czy0729\n * @Last Modified time: 2023-11-29 18:03:00\n */\nscreen-discovery {\n  .scroll-view-horizontal {\n    &--grabbing {\n      cursor: grab !important;\n\n      & > div * {\n        pointer-events: none !important;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const n=s},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var t=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),t=s.n(t),r=s("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),r=s.n(r),n=s("./node_modules/style-loader/dist/runtime/insertBySelector.js"),n=s.n(n),o=s("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),o=s.n(o),i=s("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),i=s.n(i),d=s("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),d=s.n(d),s=s("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"),a={};a.styleTagTransform=d(),a.setAttributes=o(),a.insert=n().bind(null,"head"),a.domAPI=r(),a.insertStyleElement=i(),t()(s.Z,a);const l=s.Z&&s.Z.locals?s.Z.locals:void 0}}]);