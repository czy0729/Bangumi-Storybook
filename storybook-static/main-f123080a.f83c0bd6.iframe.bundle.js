(self.webpackChunkbangumi_pro=self.webpackChunkbangumi_pro||[]).push([[366],{"./src/screens/home/mono/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function o(){return(0,i.jsx)(r.StorybookSPA,{children:(0,i.jsx)(r.StorybookList,{children:(0,i.jsx)(d.default,Object.assign({},(0,r.getStorybookArgs)("Mono")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mono=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=n(s("./src/screens/home/mono/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Mono",component:d.default};t.default=n;(t.Mono=o).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Mono')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/persons/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function o(){return(0,i.jsx)(r.StorybookSPA,{children:(0,i.jsx)(r.StorybookList,{children:(0,i.jsx)(d.default,Object.assign({},(0,r.getStorybookArgs)("Persons")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Persons=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=n(s("./src/screens/home/persons/index.tsx")),i=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Persons",component:d.default};t.default=n;(t.Persons=o).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Persons')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/home/mono/collabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),r=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),c=s("./src/utils/fetch/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),m=s("./src/screens/home/mono/collabs/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return null!=(t=s.mono.collabs)&&t.length?(0,p.jsxs)(i.InView,{style:m.styles.container,children:[(0,p.jsx)(i.SectionTitle,{style:a._.container.wind,right:(0,p.jsx)(d.Flex,{children:(0,p.jsx)(d.Touchable,{style:m.styles.touch,onPress:function(){o.push("WebBrowser",{url:u.HOST+"/"+s.monoId+"/collabs",title:s.nameTop+"的合作"}),(0,c.t)("人物.跳转",{from:"合作",to:"WebBrowser",monoId:s.monoId})},children:(0,p.jsxs)(d.Flex,{children:[(0,p.jsx)(d.Text,{style:a._.ml.sm,type:"sub",children:"全部"}),(0,p.jsx)(d.Iconfont,{style:a._.ml.xs,name:"md-open-in-new",color:a._.colorSub,size:16})]})})}),children:"合作"}),(0,p.jsx)(n.default,Object.assign({style:a._.mt.md,contentContainerStyle:a._.container.wind,horizontal:!0},u.SCROLL_VIEW_RESET_PROPS,{children:t.map(function(e){return(0,p.jsx)(d.Touchable,{style:m.styles.item,animate:!0,onPress:function(){(0,l.appNavigate)(e.href,o),(0,c.t)("人物.跳转",{from:"合作",to:"Mono",monoId:s.monoId,href:e.href})},children:(0,p.jsxs)(d.Flex,{children:[(0,p.jsx)(i.Avatar,{name:e.name,src:e.cover}),(0,p.jsxs)(r.default,{style:a._.ml.sm,children:[(0,p.jsx)(d.Flex,{children:(0,p.jsx)(d.Text,{size:13,bold:!0,children:e.name})}),(0,p.jsx)(d.Text,{style:a._.mt.xs,size:10,type:"sub",bold:!0,children:e.count})]})]})},e.href)})})),(0,p.jsx)(i.PreventTouchPlaceholder,{})]}):null});t.default=s;try{collabs.displayName="collabs",collabs.__docgenInfo={description:"",displayName:"collabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/collabs/index.tsx#collabs"]={docgenInfo:collabs.__docgenInfo,name:"collabs",path:"src/screens/home/mono/collabs/index.tsx#collabs"})}catch(e){}},"./src/screens/home/mono/collabs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({container:{minHeight:84,marginTop:s._.md,marginBottom:s._.lg},item:{paddingRight:s._.sm,paddingBottom:s._.xs,marginRight:s._.sm},touch:{paddingHorizontal:s._.xs,marginRight:-s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"}});t.styles=s},"./src/screens/home/mono/collected/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),r=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/fetch/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),u=s("./src/screens/home/mono/collected/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return null!=(t=s.mono.collected)&&t.length?(0,m.jsxs)(i.InView,{style:u.styles.container,children:[(0,m.jsx)(i.SectionTitle,{style:a._.container.wind,right:(0,m.jsx)(d.Flex,{children:(0,m.jsx)(d.Touchable,{style:u.styles.touch,onPress:function(){o.push("WebBrowser",{url:c.HOST+"/"+s.monoId+"/collections",title:"谁收藏了"+s.nameTop}),(0,l.t)("人物.跳转",{from:"谁收藏了",to:"WebBrowser",monoId:s.monoId})},children:(0,m.jsxs)(d.Flex,{children:[(0,m.jsx)(d.Text,{style:a._.ml.sm,type:"sub",children:"全部"}),(0,m.jsx)(d.Iconfont,{style:a._.ml.xs,name:"md-open-in-new",color:a._.colorSub,size:16})]})})}),children:"谁收藏了"}),(0,m.jsx)(n.default,Object.assign({style:a._.mt.md,contentContainerStyle:a._.container.wind,horizontal:!0},c.SCROLL_VIEW_RESET_PROPS,{children:t.map(function(e){return(0,m.jsx)(d.Touchable,{style:u.styles.item,animate:!0,onPress:function(){o.push("Zone",{userId:e.userId,_name:e.name}),(0,l.t)("人物.跳转",{from:"谁收藏了",to:"Zone",monoId:s.monoId,userId:e.userId})},children:(0,m.jsxs)(d.Flex,{children:[(0,m.jsx)(d.UserStatus,{userId:e.userId,children:(0,m.jsx)(i.Avatar,{name:e.name,src:e.avatar})}),(0,m.jsxs)(r.default,{style:a._.ml.sm,children:[(0,m.jsx)(d.Flex,{children:(0,m.jsx)(d.Text,{size:13,bold:!0,children:e.name})}),(0,m.jsx)(d.Text,{style:a._.mt.xs,size:10,type:"sub",children:e.last})]})]})},e.userId)})})),(0,m.jsx)(i.PreventTouchPlaceholder,{})]}):null});t.default=s;try{collected.displayName="collected",collected.__docgenInfo={description:"",displayName:"collected",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/collected/index.tsx#collected"]={docgenInfo:collected.__docgenInfo,name:"collected",path:"src/screens/home/mono/collected/index.tsx#collected"})}catch(e){}},"./src/screens/home/mono/collected/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({container:{minHeight:84,marginTop:s._.md,marginBottom:s._.md},item:{paddingRight:s._.sm,paddingBottom:s._.xs,marginRight:s._.sm},touch:{paddingHorizontal:s._.xs,marginRight:-s._.xs,borderRadius:s._.radiusSm,overflow:"hidden"}});t.styles=s},"./src/screens/home/mono/content/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/screens/home/mono/content/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return s.info?(t=s.state.translateResult,(0,c.jsx)(n.default,{style:l.styles.content,children:t.length?(0,c.jsx)(n.default,{children:t.map(function(e,t){return(0,c.jsxs)(n.default,{children:[(0,c.jsx)(r.Text,{style:i._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,c.jsx)(r.Text,{style:i._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},t)})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.RenderHtml,{html:s.info,onLinkPress:function(e){return(0,a.appNavigate)(e,o)}}),(0,c.jsx)(n.default,{style:l.styles.iconTranslate,children:(0,c.jsx)(d.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return s.doTranslate("translateResult",s.info)}})})]})})):null});t.default=s;try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/home/mono/content/index.tsx#content"})}catch(e){}},"./src/screens/home/mono/content/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({content:{paddingHorizontal:s._.xs,marginTop:s._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}});t.styles=s},"./src/screens/home/mono/detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),l=s("./src/screens/home/mono/detail/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=t.$,o=t.navigation;return s.detail?(t=s.state.translateResultDetail,(0,c.jsx)(n.default,{style:l.styles.content,children:t.length?(0,c.jsx)(n.default,{children:t.map(function(e,t){return(0,c.jsxs)(n.default,{children:[(0,c.jsx)(r.Text,{style:i._.mt.md,size:13,lineHeight:14,type:"sub",children:e.src.trim()}),(0,c.jsx)(r.Text,{style:i._.mt.xs,size:15,lineHeight:17,children:e.dst.trim()})]},t)})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.Expand,{ratio:2,children:(0,c.jsx)(r.RenderHtml,{style:i._.mt.lg,html:s.detail,onLinkPress:function(e){return(0,a.appNavigate)(e,o)}})}),(0,c.jsx)(n.default,{style:l.styles.iconTranslate,children:(0,c.jsx)(d.IconTouchable,{name:"md-g-translate",size:18,onPress:function(){return s.doTranslate("translateResultDetail",s.detail)}})})]})})):null});t.default=s;try{detail.displayName="detail",detail.__docgenInfo={description:"",displayName:"detail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/detail/index.tsx#detail"]={docgenInfo:detail.__docgenInfo,name:"detail",path:"src/screens/home/mono/detail/index.tsx#detail"})}catch(e){}},"./src/screens/home/mono/detail/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({content:{paddingHorizontal:s._.xs,marginTop:s._.md},iconTranslate:{position:"absolute",zIndex:1,top:0,right:-4}});t.styles=s},"./src/screens/home/mono/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH=t.COVER_HEIGHT=void 0;s=s("./src/stores/index.ts")._.r(64),s=1.28*(t.COVER_WIDTH=s);t.COVER_HEIGHT=s},"./src/screens/home/mono/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0,t.DEFAULT_PROPS={navigation:{},monoId:"",canICO:!1,icoUsers:void 0,doICO:function(){}}},"./src/screens/home/mono/extra/extra.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),n=s("./src/screens/home/mono/extra/ds.ts"),u=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.navigation,s=e.monoId,o=e.canICO,n=e.icoUsers,r=e.doICO;return o?(0,u.jsx)(i.Touchable,{style:[a._.container.touch,a._.mr.sm],onPress:function(){(0,l.confirm)("花费10000cc启动ICO?",function(){return r(t)})},children:(0,u.jsxs)(i.Flex,{style:a._.mr.sm,children:[(0,u.jsx)(d.IconHeader,{name:"trophy",size:18}),(0,u.jsx)(i.Text,{size:13,children:"启动ICO"})]})}):(0,u.jsxs)(d.IconHeader,{style:a._.mr.sm,name:"trophy",size:18,onPress:function(){var e=n?"TinygrailICODeal":"TinygrailDeal";(0,c.t)("人物.跳转",{to:e,monoId:s}),t.push(e,{monoId:s})},children:[(0,u.jsx)(i.Heatmap,{right:173,id:"人物.启动ICO",transparent:!0}),(0,u.jsx)(i.Heatmap,{right:109,id:"人物.跳转",to:"TinygrailICODeal",alias:"ICO",transparent:!0}),(0,u.jsx)(i.Heatmap,{right:30,id:"人物.跳转",to:"TinygrailDeal",alias:"交易"})]})},n.DEFAULT_PROPS);t.default=s;try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},monoId:{defaultValue:null,description:"",name:"monoId",required:!0,type:{name:"MonoId"}},canICO:{defaultValue:null,description:"",name:"canICO",required:!0,type:{name:"boolean"}},icoUsers:{defaultValue:null,description:"",name:"icoUsers",required:!0,type:{name:"number"}},doICO:{defaultValue:null,description:"",name:"doICO",required:!0,type:{name:"(navigation: Navigation) => Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/extra/extra.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/mono/extra/extra.tsx#extra"})}catch(e){}},"./src/screens/home/mono/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/favor/index.tsx")),d=o(s("./src/screens/home/mono/extra/extra.tsx")),i=s("./node_modules/react/jsx-runtime.js"),o=(0,n.ob)(function(e){var t=e.$,e=e.navigation;return(0,i.jsxs)(i.Fragment,{children:[t.monoId.includes("character")&&t.tinygrail&&(0,i.jsx)(d.default,{navigation:e,monoId:t.monoId,canICO:t.canICO,icoUsers:t.chara.users,doICO:t.doICO}),(0,i.jsx)(r.default,{$:t})]})});t.default=o;try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/home/mono/extra/index.tsx#extra"})}catch(e){}},"./src/screens/home/mono/favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/mono/favor/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,o.ob)(function(e){var e=e.$,t=(s=e.mono).collectUrl,s=s.eraseCollectUrl;return t?(0,i.jsxs)(n.Touchable,{style:d.styles.touch,onPress:e.doCollect,children:[(0,i.jsx)(n.Iconfont,{size:20,name:"md-favorite-outline",color:r._.colorTitle}),(0,i.jsx)(n.Heatmap,{id:"人物.收藏人物"}),(0,i.jsx)(n.Heatmap,{right:52,id:"人物.取消收藏人物",transparent:!0})]}):s?(0,i.jsxs)(n.Touchable,{style:d.styles.touch,onPress:e.doEraseCollect,children:[(0,i.jsx)(n.Iconfont,{size:20,name:"md-favorite",color:r._.colorMain}),(0,i.jsx)(n.Heatmap,{id:"人物.取消收藏人物"})]}):null});t.default=s;try{favor.displayName="favor",favor.__docgenInfo={description:"",displayName:"favor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/favor/index.tsx#favor"]={docgenInfo:favor.__docgenInfo,name:"favor",path:"src/screens/home/mono/favor/index.tsx#favor"})}catch(e){}},"./src/screens/home/mono/favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({touch:{paddingHorizontal:s._.sm,marginRight:6,borderRadius:s._.radiusSm,overflow:"hidden"}});t.styles=s},"./src/screens/home/mono/header-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={tinygrail:!1,cover:"",nameTop:"",nameBottom:""}},"./src/screens/home/mono/header-title/header-title.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=s("./src/screens/home/mono/header-title/ds.ts"),l=s("./src/screens/home/mono/header-title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.tinygrail,s=e.cover,o=e.nameTop,e=e.nameBottom;return(0,c.jsxs)(n.Flex,{style:t?[l.styles.container,l.styles.containerTinygrail]:l.styles.container,children:[!!s&&(0,c.jsx)(r.Cover,{size:l.styles.container.height,src:(0,i.getMonoCoverSmall)(s),radius:!0}),(0,c.jsxs)(n.Flex.Item,{style:d._.ml.sm,children:[(0,c.jsx)(n.Text,{size:13,numberOfLines:1,children:o}),!!e&&(0,c.jsx)(n.Text,{type:"sub",size:10,numberOfLines:1,children:e})]})]})},a.DEFAULT_PROPS);t.default=s;try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{tinygrail:{defaultValue:null,description:"",name:"tinygrail",required:!0,type:{name:"boolean"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},nameTop:{defaultValue:null,description:"",name:"nameTop",required:!0,type:{name:"string"}},nameBottom:{defaultValue:null,description:"",name:"nameBottom",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/header-title/header-title.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/mono/header-title/header-title.tsx#headertitle"})}catch(e){}},"./src/screens/home/mono/header-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/header-title/header-title.tsx")),d=s("./node_modules/react/jsx-runtime.js"),o=(0,n.obc)(function(e){e=e.$;return(0,d.jsx)(r.default,{cover:e.params._image||e.cover,tinygrail:e.tinygrail,nameTop:e.nameTop,nameBottom:e.nameBottom})});t.default=o;try{headertitle.displayName="headertitle",headertitle.__docgenInfo={description:"",displayName:"headertitle",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenMono"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/header-title/index.tsx#headertitle"]={docgenInfo:headertitle.__docgenInfo,name:"headertitle",path:"src/screens/home/mono/header-title/index.tsx#headertitle"})}catch(e){}},"./src/screens/home/mono/header-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({container:{height:28,marginTop:s._.platforms(2,-6,-10,-4,-4),marginLeft:-s._.sm,marginRight:s._.lg},containerTinygrail:{marginRight:52}});t.styles=s},"./src/screens/home/mono/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),a=o(s("./src/screens/home/mono/header-title/index.tsx")),l=o(s("./src/screens/home/mono/extra/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");o=(0,d.obc)(function(e,t){var e=e.fixed,s=t.$,o=t.navigation;return(0,c.jsx)(n.Header,{mode:"transition",statusBarEventsType:"Topic",fixed:e,title:"人物",hm:[s.url,"Mono"],headerTitle:(0,c.jsx)(a.default,{$:s,navigation:o}),headerRight:function(){return(0,c.jsxs)(n.Flex,{children:[(0,c.jsx)(l.default,{$:s,navigation:o}),(0,c.jsx)(n.Header.Popover,{data:["浏览器查看","复制链接","复制分享"],onSelect:function(e){switch((0,i.t)("人物.右上角菜单",{key:e}),e){case"浏览器查看":(0,r.open)(s.url);break;case"复制链接":(0,r.copy)(s.url,"已复制链接");break;case"复制分享":(0,r.copy)("【链接】"+(0,r.cnjp)(s.cn,s.jp)+" | Bangumi番组计划\n"+s.url,"已复制分享文案")}},children:(0,c.jsx)(n.Heatmap,{id:"人物.右上角菜单"})})]})}})});t.default=o},"./src/screens/home/mono/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var r;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((r=n?Object.getOwnPropertyDescriptor(e,s):null)&&(r.get||r.set)?Object.defineProperty(o,s,r):o[s]=e[s])}o.default=e,t&&t.set(e,o);return o}(s("./node_modules/react/index.js"))),l=s("./src/components/index.ts"),c=s("./src/components/header/utils.tsx"),n=s("./src/utils/decorators/index.ts"),u=s("./src/utils/hooks/index.ts"),m=o(s("./src/screens/home/mono/header/index.tsx")),p=o(s("./src/screens/home/mono/list/index.tsx")),r=o(s("./src/screens/home/mono/item/index.tsx")),o=o(s("./src/screens/home/mono/store/index.ts")),f=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}s=(0,n.ic)(o.default,function(e,t){var s=t.$,t=((0,u.useRunAfter)(function(){s.init()}),(0,u.useViewport)()),o=t.visibleBottom,n=t.onScroll,t=((0,a.useEffect)(function(){s.setState({visibleBottom:o})},[o]),(0,c.useOnScroll)()),r=t.fixed,d=t.onScroll,i=(0,a.useCallback)(function(e){n(e),d(e)},[d,n]);return(0,u.useObserver)(function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m.default,{fixed:r}),(0,f.jsxs)(l.Page,{children:[(0,f.jsx)(p.default,{renderItem:j,onScroll:i}),(0,f.jsx)(l.Heatmap,{id:"人物",screen:"Mono"})]})]})})});function j(e){var t=e.item,e=e.index;return(0,f.jsx)(r.default,{item:t,index:e})}t.default=s;try{mono.displayName="mono",mono.__docgenInfo={description:"",displayName:"mono",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/index.tsx#mono"]={docgenInfo:mono.__docgenInfo,name:"mono",path:"src/screens/home/mono/index.tsx#mono"})}catch(e){}},"./src/screens/home/mono/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=s("./src/constants/index.ts"),j=o(s("./src/screens/home/mono/content/index.tsx")),h=o(s("./src/screens/home/mono/detail/index.tsx")),x=o(s("./src/screens/home/mono/voice/index.tsx")),_=o(s("./src/screens/home/mono/works/index.tsx")),y=o(s("./src/screens/home/mono/jobs/index.tsx")),b=o(s("./src/screens/home/mono/collabs/index.tsx")),g=o(s("./src/screens/home/mono/collected/index.tsx")),v=s("./src/screens/home/mono/info/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");o=(0,n.obc)(function(e,t){var s=t.$,o=t.navigation,t=(0,v.memoStyles)(),n=u._.r(.5*u._.window.contentWidth),r=s.monoId.includes("character/"),d=f.IOS?(0,f.API_MONO_COVER)(s.id,"large",r?"characters":"persons"):(0,m.getCoverLarge)(s.cover),i=s.params._count;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(l.HeaderPlaceholder,{}),(0,O.jsxs)(a.default,{style:t.container,children:[(0,O.jsxs)(l.Flex,{wrap:"wrap",children:[(0,O.jsxs)(l.Text,{size:20,bold:!0,children:[s.nameTop," "]}),(0,O.jsx)(l.Text,{type:"sub",lineHeight:20,bold:!0,children:s.nameBottom})]}),(0,O.jsxs)(l.Flex,{style:u._.mt.md,justify:"center",children:[(0,O.jsx)(l.Image,{src:d,autoSize:n,shadow:!0,imageViewer:!0,fallback:!0,event:{id:"人物.封面图查看",data:{monoId:s.monoId}}},d),(0,O.jsx)(l.Heatmap,{id:"人物.封面图查看"})]}),(0,O.jsx)(j.default,{}),(0,O.jsx)(h.default,{}),!!s.cn&&(0,O.jsx)(l.Flex,{style:u._.mt.lg,justify:"end",children:(0,O.jsx)(l.Touchable,{style:t.touch,onPress:s.onMore,children:(0,O.jsxs)(l.Flex,{children:[(0,O.jsx)(l.Text,{style:u._.ml.sm,type:"sub",children:"更多资料"}),(0,O.jsx)(l.Iconfont,{style:u._.ml.xs,name:"md-open-in-new",color:u._.colorSub,size:16})]})})})]}),(0,O.jsx)(l.Divider,{}),(0,O.jsx)(x.default,{style:u._.mt.md}),(0,O.jsx)(_.default,{style:u._.mt.md}),(0,O.jsx)(y.default,{style:u._.mt.md}),(0,O.jsx)(b.default,{style:u._.mt.md}),(0,O.jsx)(g.default,{style:u._.mt.md}),(0,O.jsxs)(c.SectionTitle,{style:t.title,right:(0,O.jsxs)(l.Touchable,{style:t.touchTopic,onPress:function(){(0,p.t)("人物.跳转",{to:"Topic",from:"去吐槽",monoId:s.monoId}),o.push("Topic",{topicId:(r?"crt":"prsn")+"/"+(s.monoId||"").match(/\d+/g)[0]})},children:[(0,O.jsxs)(l.Flex,{children:[(0,O.jsx)(l.Text,{type:"sub",children:"去吐槽"}),(0,O.jsx)(l.Iconfont,{name:"md-navigate-next"})]}),(0,O.jsx)(l.Heatmap,{id:"人物.跳转",from:"去吐槽"}),(0,O.jsx)(l.Heatmap,{right:66,id:"人物.跳转",to:"Topic",alias:"帖子",transparent:!0})]}),children:["吐槽"," ",!!i&&(0,O.jsxs)(l.Text,{size:12,type:"sub",lineHeight:24,children:[i,"+"]})]})]})});t.default=o;try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/home/mono/info/index.tsx#info"})}catch(e){}},"./src/screens/home/mono/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{container:Object.assign({minHeight:.56*o._.window.height},o._.container.inner),loading:{minHeight:.48*o._.window.height},title:{paddingHorizontal:o._.wind,marginTop:o._.lg,marginBottom:o._.md},touch:{paddingHorizontal:o._.xs,marginRight:-o._.xs,borderRadius:o._.radiusSm,overflow:"hidden"},touchTopic:{paddingLeft:o._.xs,marginRight:-o._.sm,borderRadius:o._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/home/mono/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),r=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/mono/item/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),a={id:"人物.跳转",data:{from:"吐槽"}};s=(0,o.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,o=(0,d.memoStyles)();return(0,i.jsx)(r.InView,{y:1.5*n._.window.height+94*e,children:(0,i.jsx)(r.ItemPost,Object.assign({navigation:t,contentStyle:o.contentStyle,index:e,event:a,matchLink:!1,expandNums:2},s))})});t.default=s},"./src/screens/home/mono/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{contentStyle:{paddingRight:o._.wind-o._.sm}}});t.memoStyles=s},"./src/screens/home/mono/jobs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={navigation:{},styles:{},style:{},jobs:[]};t.EVENT={id:"人物.跳转",data:{from:"出演"}}},"./src/screens/home/mono/jobs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/jobs/jobs.tsx")),d=s("./src/screens/home/mono/jobs/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),o=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.jobs.length?(0,i.jsx)(r.default,{styles:(0,d.memoStyles)(),navigation:t,style:e,jobs:s.jobs}):null});t.default=o},"./src/screens/home/mono/jobs/jobs.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/home/mono/ds.ts"),f=s("./src/screens/home/mono/jobs/ds.ts"),j=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var r=e.navigation,d=e.styles,t=e.style,e=e.jobs,i=c.systemStore.setting.avatarRound?p.COVER_WIDTH:c._.radiusSm;return(0,j.jsx)(l.InView,{style:d.inView,children:(0,j.jsx)(a.Expand,{ratio:2.8,children:(0,j.jsxs)(n.default,{style:(0,u.stl)(d.container,t),children:[(0,j.jsxs)(n.default,{children:[(0,j.jsx)(l.SectionTitle,{children:"出演"}),(0,j.jsx)(a.Heatmap,{id:"人物.跳转",from:"出演"})]}),(0,j.jsx)(n.default,{style:c._.mt.md,children:e.map(function(t,e){var s=(0,u.cnjp)(t.nameCn,t.name),o=(0,u.cnjp)(t.name,t.nameCn),n=m.MODEL_SUBJECT_TYPE.getTitle(t.type);return(0,j.jsx)(a.Touchable,{animate:!0,onPress:function(){(0,u.appNavigate)(t.href,r,{_jp:t.name,_cn:t.nameCn,_image:t.cover,_type:n},f.EVENT)},children:(0,j.jsxs)(a.Flex,{style:d.item,align:"start",children:[(0,j.jsx)(l.Cover,{src:t.cover,type:n,size:p.COVER_WIDTH,height:p.COVER_HEIGHT,radius:!0,shadow:!0}),!e&&(0,j.jsx)(a.Heatmap,{right:-32,id:"人物.跳转",to:"Subject",alias:"条目"}),(0,j.jsxs)(a.Flex.Item,{style:d.content,children:[(0,j.jsxs)(a.Flex,{align:"start",children:[(0,j.jsx)(a.Flex.Item,{children:(0,j.jsx)(a.Text,{size:12,bold:!0,numberOfLines:3,children:s})}),(0,j.jsx)(l.Tag,{style:d.tag,value:t.staff})]}),!!o&&o!==s&&(0,j.jsx)(a.Text,{style:c._.mt.xs,size:10,type:"sub",bold:!0,children:o}),(0,j.jsxs)(a.Flex,{style:c._.mt.md,children:[(0,j.jsxs)(a.Touchable,{animate:!0,onPress:function(){(0,u.appNavigate)(t.castHref,r,{_name:t.cast,_image:(0,u.getCoverMedium)(t.castCover)},f.EVENT)},children:[(0,j.jsxs)(a.Flex,{children:[!!t.castCover&&(0,j.jsx)(a.Image,{style:c._.mr.sm,size:c._.r(24),src:t.castCover,radius:i,shadow:!0}),(0,j.jsxs)(a.Text,{size:11,bold:!0,children:[t.cast,!!t.castTag&&(0,j.jsxs)(a.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",t.castTag]})]})]}),!e&&(0,j.jsx)(a.Heatmap,{id:"人物.跳转",to:"Mono",alias:"人物"})]}),!(null==t||null==(s=t.cast2)||!s.castCover)&&(0,j.jsx)(a.Touchable,{style:d.castCover,onPress:function(){var e;return(0,u.appNavigate)(null==t||null==(e=t.cast2)?void 0:e.castHref,r,{_name:null==t||null==(e=t.cast2)?void 0:e.cast,_image:(0,u.getCoverMedium)(null==t||null==(e=t.cast2)?void 0:e.castCover)},f.EVENT)},children:(0,j.jsxs)(a.Flex,{children:[(0,j.jsx)(a.Image,{style:c._.mr.xs,size:c._.r(24),src:null==t||null==(o=t.cast2)?void 0:o.castCover,radius:i,shadow:!0}),(0,j.jsxs)(a.Text,{size:11,bold:!0,children:[null==t||null==(e=t.cast2)?void 0:e.cast,!(null==t||null==(s=t.cast2)||!s.castTag)&&(0,j.jsxs)(a.Text,{size:8,type:"sub",lineHeight:11,bold:!0,children:[" ",null==t||null==(o=t.cast2)?void 0:o.castTag]})]})]})})]})]})]},t.href)})})})]})})})},f.DEFAULT_PROPS);t.default=s;try{jobs.displayName="jobs",jobs.__docgenInfo={description:"",displayName:"jobs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ inView: { minHeight: number; }; container: { paddingLeft: number; paddingBottom: number; }; item: { paddingVertical: number; paddingRight: number; }; content: { paddingTop: number; paddingLeft: number; }; tag: { ...; }; castCover: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},jobs:{defaultValue:null,description:"",name:"jobs",required:!0,type:{name:'DeepPartial<{ href: `/subject/${string}` | `/subject/${number}`; name: string; nameCn: string; cover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: string; cast: string; castHref: string; castTag: string; castCover: string; cast2: { cast: string; castCover: string; castHref: string; castTag: string; }; type: "2"...'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/jobs/jobs.tsx#jobs"]={docgenInfo:jobs.__docgenInfo,name:"jobs",path:"src/screens/home/mono/jobs/jobs.tsx#jobs"})}catch(e){}},"./src/screens/home/mono/jobs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{inView:{minHeight:320},container:{paddingLeft:o._.wind,paddingBottom:o._.md},item:{paddingVertical:o._.md,paddingRight:o._.wind},content:{paddingTop:2,paddingLeft:o._.sm+4},tag:{marginLeft:o._.sm},castCover:{marginRight:o._.xs,marginLeft:o._.md}}});t.memoStyles=s},"./src/screens/home/mono/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/app/index.ts"),a=o(s("./src/screens/home/mono/info/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");o=(0,d.obc)(function(e,t){var s=e.renderItem,e=e.onScroll,t=t.$;return(0,l.jsx)(n.ListView,{contentContainerStyle:r._.container.bottom,keyExtractor:i.keyExtractor,data:t.monoComments,scrollEventThrottle:16,scrollToTop:!0,ListHeaderComponent:(0,l.jsx)(a.default,{}),progressViewOffset:r._.ios(r._.statusBarHeight,0),removeClippedSubviews:100<=t.list.length,renderItem:s,onScroll:e,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchMono})});t.default=o},"./src/screens/home/mono/section-right/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),l=s("./src/screens/home/mono/section-right/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=e.event,o=e.text,n=e.to,r=t.$,d=t.navigation;return(0,c.jsx)(i.Touchable,{style:l.styles.touch,onPress:function(){(0,a.t)(s.id,Object.assign({},s.data,{to:n,monoId:r.monoId})),d.push(n,{monoId:r.monoId,name:r.cn||r.jp})},children:(0,c.jsxs)(i.Flex,{children:[(0,c.jsx)(i.Text,{type:"sub",children:o}),(0,c.jsx)(i.Iconfont,{name:"md-navigate-next"})]})})});t.default=s},"./src/screens/home/mono/section-right/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({touch:{paddingLeft:s._.xs,marginRight:s._.sm,borderRadius:s._.radiusSm,overflow:"hidden"}});t.styles=s},"./src/screens/home/mono/store/action.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),h=s("./src/utils/fetch/index.ts"),x=s("./src/utils/webhooks/index.ts"),_=s("./src/constants/index.ts"),o=o(s("./src/screens/home/mono/store/fetch.ts"));function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=o?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=o.default,(0,d.default)(g,s),b=y(g);var b,o=(0,n.default)(g);function g(){var d;(0,l.default)(this,g);for(var t,s,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return d=b.call.apply(b,[this].concat(o)),(0,p.default)((0,c.default)(d),"onMore",function(){return(0,h.t)("人物.更多资料",{monoId:d.monoId}),(0,j.open)("https://mzh.moegirl.org.cn/index.php?title="+encodeURIComponent(d.cn||d.jp)+"&mobileaction=toggle_view_mobile")}),(0,p.default)((0,c.default)(d),"toggleExpand",function(t){var e=d.state.expands;d.setState({expands:e.includes(t)?e.filter(function(e){return e!==t}):[].concat((0,a.default)(e),[t])})}),(0,p.default)((0,c.default)(d),"doCollect",(0,r.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.mono.collectUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,h.t)("人物.收藏人物",{monoId:d.monoId}),e.next=6,(0,h.fetchHTML)({method:"POST",url:""+_.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已收藏"),(0,x.webhookMono)(Object.assign({},d.mono,{id:d.monoId}),f.userStore.userInfo),e.abrupt("return",d.fetchMono(!0,!1));case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"doEraseCollect",(0,r.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.mono.eraseCollectUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,h.t)("人物.取消收藏人物",{monoId:d.monoId}),e.next=6,(0,h.fetchHTML)({method:"POST",url:""+_.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已取消收藏"),e.abrupt("return",d.fetchMono(!0,!1));case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,c.default)(d),"doICO",(t=(0,r.default)(i.mark(function e(t){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,h.t)("人物.启动ICO",{monoId:d.monoId}),e.next=3,f.tinygrailStore.doICO({monoId:d.monoId.replace("character/","")});case 3:if(0!==e.sent.State)return(0,j.info)("启动ICO失败"),e.abrupt("return");e.next=7;break;case 7:t.push("TinygrailICODeal",{monoId:d.monoId.replace("character/","")}),d.fetchChara();case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,c.default)(d),"doTranslate",(0,r.default)(i.mark(function e(){var t,s,o,n,r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<r.length&&void 0!==r[0]?r[0]:"translateResult",s=1<r.length?r[1]:void 0,d.state[t].length)return e.abrupt("return");e.next=4;break;case 4:return(0,h.t)("人物.翻译内容",{monoId:d.monoId}),e.prev=5,o=(0,j.loading)(),e.next=9,(0,h.baiduTranslate)(String(s).replace(/<br \/>/g,"\n").replace(/<\/?[^>]*>/g,""));case 9:if(n=e.sent,o(),n=JSON.parse(n),n=n.trans_result,Array.isArray(n))return d.setState((0,p.default)({},t,n)),e.abrupt("return");e.next=15;break;case 15:(0,j.info)("翻译失败, 请重试"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),o&&o(),(0,j.info)("翻译失败, 请重试");case 22:case"end":return e.stop()}},e,null,[[5,18]])}))),(0,p.default)((0,c.default)(d),"doTranslateFloor",(s=(0,r.default)(i.mark(function e(t,s){var o,n,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=d.state.translateResultFloor)[t])return e.abrupt("return");e.next=3;break;case 3:return(0,h.t)("人物.翻译内容",{floorId:t}),e.prev=4,n=(0,j.loading)(),e.next=8,(0,h.baiduTranslate)((0,j.removeHTMLTag)(s.replace(/<br>/g,"\n")));case 8:if(r=e.sent,n(),r=JSON.parse(r),r=r.trans_result,Array.isArray(r))return d.setState({translateResultFloor:Object.assign({},o,(0,p.default)({},t,r.map(function(e){return e.dst}).join("\n")))}),e.abrupt("return");e.next=14;break;case 14:(0,j.info)("翻译失败, 请重试"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),n&&n(),(0,j.info)("翻译失败, 请重试");case 21:case"end":return e.stop()}},e,null,[[4,17]])})),function(e,t){return s.apply(this,arguments)})),d}t.default=o},"./src/screens/home/mono/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),c=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),o=o(s("./src/screens/home/mono/store/state.ts"));function f(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=o?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}s=o.default,(0,d.default)(h,s),j=f(h),(0,r.default)(h,[{key:"monoId",get:function(){return this.params.monoId}},{key:"id",get:function(){var e;return(null==(e=this.monoId.split("/"))?void 0:e[1])||""}},{key:"url",get:function(){return p.HOST+"/"+this.monoId}},{key:"mono",get:function(){return u.subjectStore.mono(this.monoId)}},{key:"monoComments",get:function(){var e=u.subjectStore.monoComments(this.monoId);return e._loaded?e:this.state.comments}},{key:"list",get:function(){return this.monoComments.list}},{key:"monoFormCDN",get:function(){var e=this.state.mono;return e._loaded?e:u.subjectStore.monoFormCDN(this.monoId)}},{key:"chara",get:function(){return u.tinygrailStore.characters(this.monoId.replace("character/",""))}},{key:"tinygrail",get:function(){return u.systemStore.setting.tinygrail}},{key:"canICO",get:function(){var e=this.state.checkTinygrail;return this.monoId.includes("character/")&&e&&!this.chara._loaded}},{key:"nameTop",get:function(){return(0,m.cnjp)(this.cn,this.jp)||""}},{key:"nameBottom",get:function(){var e=(0,m.cnjp)(this.jp,this.cn);return e!==this.nameTop?e:""}},{key:"jp",get:function(){var e=this.params._jp;return(0,m.HTMLDecode)(this.mono.name||e||this.monoFormCDN.name)}},{key:"cn",get:function(){var e=this.params._name;return(0,m.HTMLDecode)(this.mono.nameCn||e||this.monoFormCDN.nameCn)}},{key:"cover",get:function(){return this.mono.cover||this.monoFormCDN.cover}},{key:"info",get:function(){return this.mono.info||this.monoFormCDN.info}},{key:"detail",get:function(){return this.mono.detail||this.monoFormCDN.detail}},{key:"voices",get:function(){return this.mono._loaded?this.mono.voice||[]:this.monoFormCDN.voice||[]}},{key:"works",get:function(){return this.mono._loaded?this.mono.works||[]:this.monoFormCDN.works||[]}},{key:"jobs",get:function(){return((this.mono._loaded?this.mono:this.monoFormCDN).jobs||[]).slice().sort(function(e,t){return(0,m.desc)(e,t,function(e){return 2==e.type?99:Number(e.type)})})}}]),(0,l.default)((o=h).prototype,"monoId",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"monoId"),o.prototype),(0,l.default)(o.prototype,"id",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"id"),o.prototype),(0,l.default)(o.prototype,"url",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"url"),o.prototype),(0,l.default)(o.prototype,"mono",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"mono"),o.prototype),(0,l.default)(o.prototype,"monoComments",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"monoComments"),o.prototype),(0,l.default)(o.prototype,"list",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"list"),o.prototype),(0,l.default)(o.prototype,"monoFormCDN",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"monoFormCDN"),o.prototype),(0,l.default)(o.prototype,"chara",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"chara"),o.prototype),(0,l.default)(o.prototype,"tinygrail",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"tinygrail"),o.prototype),(0,l.default)(o.prototype,"canICO",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"canICO"),o.prototype),(0,l.default)(o.prototype,"nameTop",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"nameTop"),o.prototype),(0,l.default)(o.prototype,"nameBottom",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"nameBottom"),o.prototype),(0,l.default)(o.prototype,"jp",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"jp"),o.prototype),(0,l.default)(o.prototype,"cn",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"cn"),o.prototype),(0,l.default)(o.prototype,"cover",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"cover"),o.prototype),(0,l.default)(o.prototype,"info",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"info"),o.prototype),(0,l.default)(o.prototype,"detail",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"detail"),o.prototype),(0,l.default)(o.prototype,"voices",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"voices"),o.prototype),(0,l.default)(o.prototype,"works",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"works"),o.prototype),(0,l.default)(o.prototype,"jobs",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"jobs"),o.prototype);var j,d=o;function h(){return(0,n.default)(this,h),j.apply(this,arguments)}t.default=d},"./src/screens/home/mono/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenMono",s={visibleBottom:s._.window.height,checkTinygrail:!1,expands:[],translateResult:[],translateResultDetail:[],translateResultFloor:{},mono:{_loaded:0},comments:{list:[],pagination:{page:0,pageTotal:0},_loaded:0}},t.EXCLUDE_STATE=s,s=Object.assign({reverse:!1},s,{_loaded:!1});t.STATE=s},"./src/screens/home/mono/store/fetch.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),r=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),o=o(s("./src/screens/home/mono/store/computed.ts"));function h(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=o?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=o.default,(0,d.default)(_,s),x=h(_);var x,o=(0,r.default)(_);function _(){var d;(0,a.default)(this,_);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=x.call.apply(x,[this].concat(t)),(0,m.default)((0,l.default)(d),"fetchMono",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return!(1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||!0!==e||!(0,f.opitimize)(d.mono,3600)||!d.monoComments.list.length)||p.subjectStore.fetchMono({monoId:d.monoId},e)}),(0,m.default)((0,l.default)(d),"fetchChara",(0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.monoId.includes("character/")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p.tinygrailStore.fetchCharacters([d.id]);case 4:return t=e.sent,d.setState({checkTinygrail:!0}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(d),"fetchMonoFormCDN",(0,n.default)(i.mark(function e(){var t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.systemStore.setting,s=d.mono._loaded,!t.cdn||s)return e.abrupt("return",!0);e.next=4;break;case 4:return e.abrupt("return",p.subjectStore.fetchMonoFormCDN(d.monoId));case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(d),"fetchMonoFromOSS",(0,n.default)(i.mark(function e(){var t,s,o,n,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.mono._loaded)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,(0,j.get)("mono_"+d.monoId.replace("/","_"));case 5:if(t=e.sent){e.next=9;break}return d.updateMonoThirdParty(),e.abrupt("return");case 9:s=t.ts,o=t.mono,n=t.comments,r=(0,f.getTimestamp)(),"object"==typeof o&&"object"==typeof n&&d.setState({mono:Object.assign({},o,{_loaded:(0,f.getTimestamp)()}),comments:Object.assign({},n,{_loaded:(0,f.getTimestamp)()})}),25200<=r-s&&d.updateMonoThirdParty(),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}))),(0,m.default)((0,l.default)(d),"updateMonoThirdParty",function(){setTimeout(function(){d.mono._loaded&&(0,j.update)("mono_"+d.monoId.replace("/","_"),{mono:(0,f.omit)(d.mono,["collectUrl","eraseCollectUrl","_loaded"]),comments:{list:d.monoComments.list.filter(function(e){return!!e.userId}).filter(function(e,t){return t<8}).map(function(e){return Object.assign({},(0,f.omit)(e,["replySub"]),{sub:e.sub.filter(function(e){return!!e.userId}).filter(function(e,t){return t<8}).map(function(e){return(0,f.omit)(e,["replySub"])})})}),pagination:d.monoComments.pagination}})},1e4)}),d}t.default=o},"./src/screens/home/mono/store/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=o(s("./src/screens/home/mono/store/action.ts"));function u(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}s=o.default,(0,i.default)(p,s),m=u(p);var m,o=(0,n.default)(p);function p(){var e;(0,r.default)(this,p);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=m.call.apply(m,[this].concat(s)),(0,c.default)((0,d.default)(e),"init",function(){return e.fetchMonoFromOSS(),e.tinygrail&&e.monoId.includes("character/")?Promise.all([e.fetchMono(!0),e.fetchChara()]):e.fetchMono(!0)}),(0,c.default)((0,d.default)(e),"onHeaderRefresh",function(){return e.fetchMono(!0)}),e}t.default=o},"./src/screens/home/mono/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/createClass.js"))),r=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),o=o(s("./src/utils/store/index.ts")),m=s("./src/screens/home/mono/store/ds.ts");function p(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=o?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}s=o.default,(0,i.default)(j,s),f=p(j);var f,o=(0,n.default)(j);function j(){var e;(0,r.default)(this,j);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=f.call.apply(f,[this].concat(s)),(0,c.default)((0,d.default)(e),"params",void 0),(0,c.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),e}t.default=o},"./src/screens/home/mono/voice/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_WIDTH=t.EVENT=t.DEFAULT_PROPS=void 0;s=s("./src/stores/index.ts"),t.EVENT={id:"人物.跳转",data:{from:"最近演出角色"}},s=s._.r(40);t.IMAGE_WIDTH=s;t.DEFAULT_PROPS={navigation:{},styles:{},style:{},voices:[]}},"./src/screens/home/mono/voice/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/voice/voice.tsx")),d=s("./src/screens/home/mono/voice/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),o=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.voices.length?(0,i.jsx)(r.default,{styles:(0,d.memoStyles)(),navigation:t,style:e,voices:s.voices}):null});t.default=o},"./src/screens/home/mono/voice/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{container:{minHeight:320,paddingLeft:o._.wind,paddingBottom:o._.md},section:{paddingRight:o._.wind-o._._wind},item:{paddingVertical:o._.md,paddingRight:o._.wind}}});t.memoStyles=s},"./src/screens/home/mono/voice/voice.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=o(s("./src/screens/home/mono/section-right/index.tsx")),m=s("./src/screens/home/mono/ds.ts"),p=s("./src/screens/home/mono/voice/ds.ts"),f=s("./node_modules/react/jsx-runtime.js"),o=(0,r.memo)(function(e){var r=e.navigation,d=e.styles,t=e.style,e=e.voices;return(0,f.jsxs)(a.InView,{style:(0,c.stl)(d.container,t),children:[(0,f.jsx)(a.SectionTitle,{style:d.section,right:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.default,{event:p.EVENT,text:"更多角色",to:"Voices"}),(0,f.jsx)(i.Heatmap,{id:"人物.跳转",to:"Voices",alias:"更多角色"})]}),children:"最近演出角色"}),(0,f.jsxs)(n.default,{style:l._.mt.md,children:[e.map(function(e){var t=(0,c.cnjp)(e.nameCn,e.name),s=(0,c.cnjp)(e.name,e.nameCn),o=(0,c.cnjp)(e.subjectNameCn,e.subjectName),n=(0,c.cnjp)(e.subjectName,e.subjectNameCn);return(0,f.jsxs)(i.Flex,{style:d.item,align:"start",children:[(0,f.jsx)(i.Flex.Item,{children:(0,f.jsx)(i.Touchable,{animate:!0,onPress:function(){(0,c.appNavigate)(e.href,r,{_jp:e.name,_cn:e.nameCn,_image:e.cover},p.EVENT)},children:(0,f.jsxs)(i.Flex,{align:"start",children:[(0,f.jsx)(i.Image,{src:e.cover,size:p.IMAGE_WIDTH,radius:!0,shadow:!0}),(0,f.jsxs)(i.Flex.Item,{style:l._.ml.sm,children:[(0,f.jsx)(i.Text,{style:l._.mt.xxs,size:12,bold:!0,children:t}),!!s&&s!==t&&(0,f.jsx)(i.Text,{style:l._.mt.xs,size:10,type:"sub",bold:!0,children:s}),(0,f.jsx)(i.Flex,{style:l._.mt.xs,children:(0,f.jsx)(a.Tag,{value:e.staff})})]})]})})}),(0,f.jsx)(i.Flex.Item,{style:l._.ml.sm,flex:1.5,children:(0,f.jsx)(i.Touchable,{animate:!0,onPress:function(){(0,c.appNavigate)(e.subjectHref,r,{},p.EVENT)},children:(0,f.jsxs)(i.Flex,{align:"start",children:[(0,f.jsxs)(i.Flex.Item,{children:[(0,f.jsx)(i.Text,{style:l._.mt.xxs,size:12,align:"right",bold:!0,children:o}),!!n&&n!==o&&(0,f.jsx)(i.Text,{style:l._.mt.xs,size:10,type:"sub",align:"right",children:n})]}),!!e.subjectCover&&(0,f.jsx)(a.Cover,{style:l._.ml.sm,src:e.subjectCover,size:.88*m.COVER_WIDTH,height:.88*m.COVER_HEIGHT,radius:!0,shadow:!0})]})})})]},e.href)}),(0,f.jsx)(i.Heatmap,{id:"人物.跳转",from:"最近演出角色"})]})]})},p.DEFAULT_PROPS);t.default=o;try{voice.displayName="voice",voice.__docgenInfo={description:"",displayName:"voice",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingLeft: number; paddingBottom: number; }; section: { paddingRight: number; }; item: { paddingVertical: number; paddingRight: number; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},voices:{defaultValue:null,description:"",name:"voices",required:!0,type:{name:"DeepPartial<{ href: `/character/${string}` | `/character/${number}`; name: string; nameCn: string; cover: `//lain.bgm.tv/pic/cover/s/${string}.jpg`; subjectHref: `/subject/${string}` | `/subject/${number}`; subjectName: string; subjectNameCn: string; subjectCover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: st..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/voice/voice.tsx#voice"]={docgenInfo:voice.__docgenInfo,name:"voice",path:"src/screens/home/mono/voice/voice.tsx#voice"})}catch(e){}},"./src/screens/home/mono/works/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.DEFAULT_PROPS=void 0;t.EVENT={id:"人物.跳转",data:{from:"最近参与"}};t.DEFAULT_PROPS={navigation:{},styles:{},style:{},works:[]}},"./src/screens/home/mono/works/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),r=o(s("./src/screens/home/mono/works/works.tsx")),d=s("./src/screens/home/mono/works/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),o=(0,n.obc)(function(e,t){var e=e.style,s=t.$,t=t.navigation;return s.works.length?(0,i.jsx)(r.default,{navigation:t,styles:(0,d.memoStyles)(),style:e,works:s.works}):null});t.default=o},"./src/screens/home/mono/works/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var o=s("./src/stores/index.ts"),s=o._.memoStyles(function(){return{container:{minHeight:320,paddingLeft:o._.wind,paddingBottom:o._.md},section:{paddingRight:o._.wind-o._._wind},item:{paddingVertical:o._.md,paddingRight:o._.wind},content:{marginLeft:o._.sm+4},tag:{marginTop:3,marginLeft:o._.md}}});t.memoStyles=s},"./src/screens/home/mono/works/works.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),r=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),l=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),u=o(s("./src/screens/home/mono/section-right/index.tsx")),m=s("./src/screens/home/mono/ds.ts"),p=s("./src/screens/home/mono/works/ds.ts"),f=s("./node_modules/react/jsx-runtime.js"),o=(0,l.memo)(function(e){var s=e.navigation,o=e.styles,t=e.style,e=e.works;return(0,f.jsxs)(d.InView,{style:(0,a.stl)(o.container,t),children:[(0,f.jsx)(d.SectionTitle,{style:o.section,right:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.default,{event:p.EVENT,text:"更多作品",to:"Works"}),(0,f.jsx)(r.Heatmap,{id:"人物.跳转",to:"Works",alias:"更多作品"})]}),children:"最近参与"}),(0,f.jsxs)(n.default,{style:i._.mt.md,children:[e.map(function(e){var t=c.MODEL_SUBJECT_TYPE.getTitle(e.type);return(0,f.jsx)(r.Touchable,{animate:!0,onPress:function(){(0,a.appNavigate)(e.href,s,{_jp:e.name,_image:e.cover,_type:t},p.EVENT)},children:(0,f.jsxs)(r.Flex,{style:o.item,align:"start",children:[(0,f.jsx)(d.Cover,{size:m.COVER_WIDTH,height:m.COVER_HEIGHT,src:e.cover,radius:!0,shadow:!0,type:t}),(0,f.jsx)(r.Flex.Item,{style:o.content,children:(0,f.jsxs)(r.Flex,{align:"start",children:[(0,f.jsx)(r.Flex.Item,{children:(0,f.jsx)(r.Text,{style:i._.mt.xs,bold:!0,size:12,children:(0,a.findSubjectCn)(e.name)})}),(0,f.jsx)(d.Tag,{style:o.tag,value:e.staff})]})})]})},e.href)}),(0,f.jsx)(r.Heatmap,{id:"人物.跳转",from:"最近参与"})]})]})},p.DEFAULT_PROPS);t.default=o;try{works.displayName="works",works.__docgenInfo={description:"",displayName:"works",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { minHeight: number; paddingLeft: number; paddingBottom: number; }; section: { paddingRight: number; }; item: { paddingVertical: number; paddingRight: number; }; content: { marginLeft: number; }; tag: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},works:{defaultValue:null,description:"",name:"works",required:!0,type:{name:'DeepPartial<{ href: `/subject/${string}` | `/subject/${number}`; name: string; cover: `//lain.bgm.tv/pic/cover/g/${string}.jpg`; staff: string; type: "2" | "1" | "4" | "3" | "6"; }>[]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/mono/works/works.tsx#works"]={docgenInfo:works.__docgenInfo,name:"works",path:"src/screens/home/mono/works/works.tsx#works"})}catch(e){}},"./src/screens/home/persons/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/index.ts"),d=s("./src/utils/fetch/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/persons/header/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,o.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的制作人员":"更多制作人员",alias:"制作人员",hm:[s.url,"Persons"],headerTitleStyle:i.styles.title,headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("制作人员.右上角菜单",{key:e}),(0,r.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"制作人员.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/persons/header/index.tsx#header"})}catch(e){}},"./src/screens/home/persons/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}});t.styles=s},"./src/screens/home/persons/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=o(s("./src/screens/home/persons/header/index.tsx")),l=o(s("./src/screens/home/persons/list/index.tsx")),o=o(s("./src/screens/home/persons/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,d.ic)(o.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{loaded:s.persons._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:r._.bottom,id:"制作人员",screen:"Persons"})]})]})})});t.default=s;try{persons.displayName="persons",persons.__docgenInfo={description:"",displayName:"persons",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/index.tsx#persons"]={docgenInfo:persons.__docgenInfo,name:"persons",path:"src/screens/home/persons/index.tsx#persons"})}catch(e){}},"./src/screens/home/persons/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js"),a={id:"制作人员.跳转"};s=(0,o.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.PaginationList2,{contentContainerStyle:r._.container.bottom,keyExtractor:d.keyExtractor,data:t.persons.list,limit:16,renderItem:l})});function l(e){var t=e.item,e=e.index;return(0,i.jsx)(n.ItemCharacter,Object.assign({style:r._.container.item,index:e,event:a,type:"person"},t))}t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/persons/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/persons/list/index.tsx#list"})}catch(e){}},"./src/screens/home/persons/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),o=o(s("./src/utils/store/index.ts")),h=s("./src/utils/kv/index.ts"),x=s("./src/constants/index.ts"),_=s("./src/utils/index.ts");function y(s){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=o?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,g=[],l=(s=o.default,(0,l.default)(v,s),b=y(v),(0,i.default)(v,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"persons",get:function(){var e=j.monoStore.persons(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):x.LIST_EMPTY}},{key:"url",get:function(){return(0,x.HTML_SUBJECT_PERSONS)(this.subjectId)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"persons_"+this.subjectId}}]),(0,p.default)((o=v).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(o.prototype,"subjectId"),o.prototype),(0,p.default)(o.prototype,"persons",[f.computed],Object.getOwnPropertyDescriptor(o.prototype,"persons"),o.prototype),(0,p.default)(o.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(o.prototype,"url"),o.prototype),(0,p.default)(o.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(o.prototype,"ota"),o.prototype),(0,p.default)(o.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(o.prototype,"thirdPartyKey"),o.prototype),o);function v(){var o;(0,d.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=b.call.apply(b,[this].concat(t)),(0,m.default)((0,a.default)(o),"params",void 0),(0,m.default)((0,a.default)(o),"state",(0,f.observable)({ota:{}})),(0,m.default)((0,a.default)(o),"init",function(){return o.fetchPersons()}),(0,m.default)((0,a.default)(o),"fetchPersons",(0,r.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.fetchThirdParty(),e.next=3,j.monoStore.fetchPersons({subjectId:o.subjectId});case 3:return(t=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(s=(null==(s=o.ota)?void 0:s.ts)||0,604800<=(0,_.getTimestamp)()-s)&&o.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(o),"fetchThirdParty",(0,r.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.persons._loaded){e.next=8;break}return e.next=3,(0,h.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,m.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,m.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,_.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(o),"updateThirdParty",(0,r.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,h.update)(o.thirdPartyKey,{list:o.persons.list}),g.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),o}t.default=l}}]);