(self.webpackChunkweb=self.webpackChunkweb||[]).push([[6322],{"./src/screens/discovery/adv/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ADV=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/adv/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/ADV",component:n.default},t.ADV=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("ADV")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('ADV')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anime/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anime=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/anime/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Anime",component:n.default},t.Anime=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Anime")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anime')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anitama/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,i.jsx)(n.Page,{children:(0,i.jsx)(n.Text,{style:d._.mt.center,align:"center",children:"网页端暂不支持此功能 (资讯)"})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anitama=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),i=s("./node_modules/react/jsx-runtime.js"),o=(t.default={title:"screens/Anitama",component:r},t.Anitama=function(){return(0,i.jsx)(n.StorybookSPA,{children:(0,i.jsx)(n.StorybookList,{children:(0,i.jsx)(r,Object.assign({},(0,n.getStorybookArgs)("Anitama")))})})});o.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anitama')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},o.parameters)},"./src/screens/discovery/award/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Award=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/award/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Award",component:n.default},t.Award=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Award")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Award')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/blog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DiscoveryBlog=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/blog/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/DiscoveryBlog",component:n.default},t.DiscoveryBlog=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("DiscoveryBlog")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('DiscoveryBlog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/browser/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Browser=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/browser/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Browser",component:n.default},t.Browser=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Browser")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Browser')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/calendar/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Calendar=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/calendar/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Calendar",component:n.default},t.Calendar=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Calendar")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Calendar')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog-detail/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CatalogDetail=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/catalog-detail/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/CatalogDetail",component:n.default},t.CatalogDetail=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("CatalogDetail")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('CatalogDetail')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Catalog=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/catalog/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Catalog",component:n.default},t.Catalog=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Catalog")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Catalog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/channel/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Channel=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/channel/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Channel",component:n.default},t.Channel=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Channel")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Channel')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/character/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Character=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/character/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Character",component:n.default},t.Character=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Character")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Character')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/dollars/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Dollars=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/dollars/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Dollars",component:n.default},t.Dollars=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Dollars")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Dollars')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/game/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Game=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/game/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Game",component:n.default},t.Game=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Game")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Game')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/hentai/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Hentai=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/hentai/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Hentai",component:n.default},t.Hentai=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Hentai")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Hentai')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/index/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Discovery=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/index/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Discovery",component:n.default},t.Discovery=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Discovery")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Discovery')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/manga/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Manga=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/manga/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Manga",component:n.default},t.Manga=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Manga")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Manga')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/nsfw/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NSFW=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/nsfw/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/NSFW",component:n.default},t.NSFW=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("NSFW")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('NSFW')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/rank/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rank=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/rank/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Rank",component:n.default},t.Rank=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Rank")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Rank')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/recommend/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Recommend=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/recommend/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Recommend",component:n.default},t.Recommend=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Recommend")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Recommend')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/search/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Search=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/search/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Search",component:n.default},t.Search=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Search")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Search')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/series/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Series=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/series/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Series",component:n.default},t.Series=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Series")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Series')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/staff/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Staff=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/staff/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Staff",component:n.default},t.Staff=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Staff")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Staff')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/tags/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Tags=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/tags/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Tags",component:n.default},t.Tags=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Tags")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Tags')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wenku/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wenku=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/wenku/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Wenku",component:n.default},t.Wenku=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Wenku")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wenku')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wiki/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wiki=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/wiki/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Wiki",component:n.default},t.Wiki=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Wiki")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wiki')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/yearbook/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Yearbook=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/yearbook/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/Yearbook",component:n.default},t.Yearbook=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("Yearbook")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Yearbook')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/home/catalogs/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SubjectCatalogs=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/home/catalogs/index.tsx")),d=s("./node_modules/react/jsx-runtime.js"),r=(t.default={title:"screens/SubjectCatalogs",component:n.default},t.SubjectCatalogs=function(){return(0,d.jsx)(o.StorybookSPA,{children:(0,d.jsx)(o.StorybookList,{children:(0,d.jsx)(n.default,Object.assign({},(0,o.getStorybookArgs)("SubjectCatalogs")))})})});r.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('SubjectCatalogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/adv/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/adv/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/adv/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/adv/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemGrid"),t.EVENT={id:"ADV.跳转"}},"./src/screens/discovery/adv/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/adv/component/item-grid/ds.ts"),y=s("./src/screens/discovery/adv/component/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.pickIndex,o=e.index,e=e.num,t=t.navigation,r=m.otaStore.advSubjectId(r),n=(r=m.otaStore.adv(r)).id,d=r.title,i=r.cover,c=r.score,a=r.rank,r=r.date;return n?(s=(0,y.memoStyles)(),(0,j.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(o%e)&&s.left,navigation:t,event:f.EVENT,num:e,id:n,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":p.IMG_DEFAULT,nameCn:d,score:c,rank:a,airtime:r,collection:m.collectionStore.collect(n)})):(o=m._.grid(e),(0,j.jsx)(l.Flex,{style:{width:o.width,height:p.IMG_HEIGHT_LG,marginBottom:o.marginLeft+m._.xs,marginLeft:o.marginLeft},justify:"center",children:(0,j.jsx)(l.Loading.Raw,{})}))},f.COMPONENT)},"./src/screens/discovery/adv/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/adv/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/adv/component/ds.ts"),o=(t.COMPONENT=(0,o.rc)(s.COMPONENT,"Item"),t.THUMB_WIDTH=r._.device(114,Math.floor(.4*r._.window.contentWidth)));t.THUMB_HEIGHT=Math.floor(.56*o)},"./src/screens/discovery/adv/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),v=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),g=s("./src/components/cover/utils.ts"),S=s("./src/screens/_/index.ts"),O=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),E=s("./src/utils/fetch/index.ts"),C=s("./src/constants/index.ts"),P=s("./src/screens/discovery/adv/component/item/utils.ts"),N=s("./src/screens/discovery/adv/component/item/ds.ts"),M=s("./src/screens/discovery/adv/component/item/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d,i,c=e.index,e=e.pickIndex,a=t.navigation,l=(0,M.memoStyles)(),t=O.otaStore.advSubjectId(e),u=(e=O.otaStore.adv(t)).id,m=e.title,t=e.cover,p=e.date,f=e.score,y=e.rank,j=e.total,_=e.length,x=e.dev,b=e.time,e=e.cn;return u?(r=20<=(s=(0,T.HTMLDecode)(m)).length?13:14<=s.length?14:15,o=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":C.IMG_DEFAULT,n=(0,P.getThumbs)(u,_),d=(0,P.getThumbs)(u,_,!1),t=[p,x,(0,T.formatPlaytime)(b),e?"汉化":""].filter(function(e){return!!e}).join(" / "),i=O.collectionStore.collect(u),(0,w.jsxs)(h.Touchable,{style:l.container,animate:!0,onPress:function(){a.push("Subject",{subjectId:u,_cn:m,_image:(0,g.getCoverSrc)(o,C.IMG_WIDTH_LG),_type:"游戏"}),(0,E.t)("ADV.跳转",{subjectId:u})},children:[(0,w.jsxs)(h.Flex,{style:l.wrap,align:"start",children:[(0,w.jsx)(S.Cover,{src:o,width:C.IMG_WIDTH_LG,height:C.IMG_HEIGHT_LG,radius:!0,cdn:!(0,T.x18)(u)}),(0,w.jsxs)(h.Flex,{style:l.content,direction:"column",align:"start",children:[(0,w.jsx)(v.default,{style:l.body,children:(0,w.jsxs)(h.Flex,{style:O._.container.block,align:"start",children:[(0,w.jsxs)(h.Flex.Item,{children:[(0,w.jsx)(h.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,w.jsx)(h.Text,{style:O._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:t}),(0,w.jsxs)(h.Flex,{style:O._.mt.md,wrap:"wrap",children:[(0,w.jsx)(S.Rank,{value:y}),(0,w.jsx)(S.Stars,{style:O._.mr.xs,value:f,simple:!0}),!!j&&(0,w.jsxs)(h.Text,{style:O._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]})]})]}),(0,w.jsx)(S.Manage,{subjectId:u,collection:i,typeCn:"游戏",onPress:function(){O.uiStore.showManageModal({subjectId:u,title:m,status:C.MODEL_COLLECTION_STATUS.getValue(i),action:"玩"},"找游戏")}})]})}),!!n.length&&(0,w.jsx)(v.default,{style:l.thumbs,children:(0,w.jsx)(h.HorizontalList,{data:n.filter(function(e,t){return t<3}),renderItem:function(e,t){return(0,w.jsx)(h.Image,{style:(0,T.stl)(!!t&&O._.ml.sm,t===n.length-1&&O._.mr.md),src:e,size:N.THUMB_WIDTH,height:N.THUMB_HEIGHT,radius:O._.radiusSm,errorToHide:!0,onPress:function(){(0,T.showImageViewer)(d.map(function(e){return{url:e}}),t)}},e)},renderNums:3<d.length&&function(){return(0,w.jsx)(h.Touchable,{onPress:function(){(0,T.showImageViewer)(d.map(function(e){return{url:e}}),3)},children:(0,w.jsx)(h.Flex,{style:l.nums,justify:"center",children:(0,w.jsxs)(h.Text,{size:15,bold:!0,children:["+ ",d.length]})})})}})})]})]}),0===c&&(0,w.jsx)(h.Heatmap,{id:"ADV.跳转"})]})):(0,w.jsx)(h.Flex,{style:l.loading,justify:"center",children:(0,w.jsx)(h.Loading.Raw,{})})},N.COMPONENT)},"./src/screens/discovery/adv/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/adv/component/item/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:o.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:n.THUMB_HEIGHT},nums:{width:n.THUMB_HEIGHT,height:n.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:o.IMG_HEIGHT_LG}}})},"./src/screens/discovery/adv/component/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e||-1===e?[]:new Array(e).fill("").map(function(e,t){return(0,o.CDN_ADV)(s,t,r)})};var o=s("./src/constants/index.ts")},"./src/screens/discovery/adv/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/adv/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/adv/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/discovery/adv/ds.ts"),b=r(s("./src/screens/discovery/adv/component/item/index.tsx")),v=r(s("./src/screens/discovery/adv/component/item-grid/index.tsx")),h=s("./src/screens/discovery/adv/component/list/utils.ts"),g=s("./src/screens/discovery/adv/component/list/ds.ts"),S=s("./node_modules/react/jsx-runtime.js");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(E,r),T=O(E),(0,n.default)(E,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,S.jsx)(p.Filter,{filterDS:x.filterDS,title:"频道　",name:"ADV",type:"ADV",lastUpdate:_.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+_.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录，使用了作者手动编写的代码在 vndb 中自动匹配，均不作检验仅供参考。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){(0,j.r)(g.COMPONENT);var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,S.jsx)(p.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,keyExtractor:h.keyExtractor,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onADVPage},""+r+s)):(0,S.jsxs)(S.Fragment,{children:[this.renderFilter(),(0,S.jsx)(m.Loading,{})]})}}]);var T,s=E;function E(){var s;(0,o.default)(this,E);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=T.call.apply(T,[this].concat(t)),(0,l.default)((0,d.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,S.jsx)(b.default,{pickIndex:t,index:e}):(0,S.jsx)(v.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/adv/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/adv/component/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e){return String(e)}},"./src/screens/discovery/adv/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/adv/index.ts"),s=s("./src/utils/subject/adv/ds.ts"),o=(t.COMPONENT="ADV",t.ADVANCE_LIMIT=40,[[],[]]);r.ADV_DEV.forEach(function(e,t){return o[t%2?1:0].push(e)}),t.filterDS=[{title:"首字　",type:"first",data:r.ADV_FIRST},{title:"发行　",type:"year",data:r.ADV_YEAR,always:!0},{title:"开发商",type:"dev",data:o,multiple:!0},{title:"时长　",type:"playtime",data:s.ADV_PLAYTIME},{title:"汉化　",type:"cn",data:s.ADV_CN},{title:"排序　",type:"sort",data:r.ADV_SORT,always:!0},{title:"收藏　",type:"collected",data:r.ADV_COLLECTED}]},"./src/screens/discovery/adv/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/adv/component/list/index.tsx")),r=r(s("./src/screens/discovery/adv/store/index.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-adv",children:[(0,a.jsx)(i.default,{title:"找 Gal",alias:"ADV",hm:["adv","ADV"]}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(c.default,{})})]})})});try{adv.displayName="adv",adv.__docgenInfo={description:"",displayName:"adv",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/index.tsx#adv"]={docgenInfo:adv.__docgenInfo,name:"adv",path:"src/screens/discovery/adv/index.tsx#adv"})}catch(e){}},"./src/screens/discovery/adv/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/fetch/index.ts"),r=r(s("./src/screens/discovery/adv/store/fetch.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var p;t.default=(s=r.default,(0,i.default)(f,s),p=m(f),(0,o.default)(f));function f(){var s;(0,n.default)(this,f);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=p.call.apply(p,[this].concat(t)),(0,l.default)((0,d.default)(s),"onSelect",function(e,t){s.setState({query:Object.assign({},s.state.query,(0,l.default)({},e,t))}),setTimeout(function(){s.search(),s.save(),(0,u.t)("ADV.选择",{type:e,value:t})},0)}),(0,l.default)((0,d.default)(s),"scrollToOffset",null),(0,l.default)((0,d.default)(s),"scrollToTop",function(){"function"==typeof s.scrollToOffset&&(s.scrollToOffset({x:0,y:0,animated:!0}),(0,u.t)("ADV.到顶"))}),(0,l.default)((0,d.default)(s),"switchLayout",function(){var e=s.isList?"grid":"list";s.setState({layout:e}),s.save(),(0,u.t)("ADV.切换布局",{layout:e})}),(0,l.default)((0,d.default)(s),"onExpand",function(){s.setState({expand:!s.state.expand}),s.save()}),s}},"./src/screens/discovery/adv/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/screens/discovery/adv/ds.ts"),r=r(s("./src/screens/discovery/adv/store/state.ts"));function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var f;t.default=(s=r.default,(0,d.default)(y,s),f=p(y),(0,n.default)(y,[{key:"cnFirst",get:function(){return u.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=u.otaStore.advSubjectId(e);return!u.collectionStore.collect(e)})),t=u.systemStore.advance?t:t.filter(function(e,t){return t<m.ADVANCE_LIMIT})}}]),(0,a.default)((t=y).prototype,"cnFirst",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,a.default)(t.prototype,"isList",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,a.default)(t.prototype,"total",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,a.default)(t.prototype,"list",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function y(){return(0,o.default)(this,y),f.apply(this,arguments)}},"./src/screens/discovery/adv/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=void 0;var r=s("./src/constants/index.ts"),s=s("./src/screens/discovery/adv/ds.ts");t.NAMESPACE="Screen"+s.COMPONENT,t.STATE={query:{first:"",year:2024,dev:"",playtime:"",cn:"",sort:"评分人数",collected:""},data:r.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1}},"./src/screens/discovery/adv/store/fetch.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/subject/adv/index.ts"),r=r(s("./src/screens/discovery/adv/store/computed.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var p;t.default=(s=r.default,(0,i.default)(f,s),p=m(f),(0,o.default)(f));function f(){var e;(0,n.default)(this,f);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=p.call.apply(p,[this].concat(s)),(0,l.default)((0,d.default)(e),"search",function(){setTimeout(function(){e.setState({data:(0,u.search)(e.state.query)})},80)}),e}},"./src/screens/discovery/adv/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/subject/adv/index.ts"),r=r(s("./src/screens/discovery/adv/store/action.ts")),y=s("./src/screens/discovery/adv/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _,x=!1,r=(s=r.default,(0,a.default)(b,s),_=j(b),(0,d.default)(b));function b(){var s;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=_.call.apply(_,[this].concat(t)),(0,m.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(y.NAMESPACE);case 2:if(t=e.sent,s.setState(Object.assign({},t,{_loaded:x})),x){e.next=7;break}return e.next=7,(0,f.init)();case 7:x=!0,p.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),s.search(),setTimeout(function(){s.setState({_loaded:!0})},120);case 11:case"end":return e.stop()}},e)}))),s}t.default=r},"./src/screens/discovery/adv/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/adv/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.setStorage(m.NAMESPACE)}),e}},"./src/screens/discovery/anime/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/anime/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/anime/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var o,r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/anime/component/extra/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,e=void 0===(e=e.title)?"Anime":e,s=void 0!==(o=t?null==t?void 0:t.isList:o)||void 0!==(null==t?void 0:t.isList),r=void 0===(null==t?void 0:t.isList)?o:null==t?void 0:t.isList;return(0,a.jsxs)(n.Flex,{style:i._.mr.xs,children:[s&&(0,a.jsx)(d.IconLayout,{style:i._.mr.xs,list:r,onPress:(null==t?void 0:t.switchLayout)||function(){},children:(0,a.jsx)(n.Heatmap,{right:30,id:e+".切换布局"})}),(0,a.jsx)(d.IconHeader,{name:"md-vertical-align-top",onPress:(null==t?void 0:t.scrollToTop)||function(){},children:(0,a.jsx)(n.Heatmap,{id:e+".到顶"})})]})},c.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenAnime"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"游戏"'},{value:'"Anime"'},{value:'"NSFW"'},{value:'"ADV"'},{value:'"Manga"'},{value:'"Hentai"'},{value:'"文库"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/anime/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/anime/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter")},"./src/screens/discovery/anime/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./src/screens/discovery/anime/ds.ts"),i=s("./src/screens/discovery/anime/component/filter/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,c.jsx)(o.Filter,{filterDS:d.filterDS,lastUpdate:n.TEXT_UPDATE_ANIME.slice(0,7),information:"数据最后快照于 "+n.TEXT_UPDATE_ANIME+"，在版本更新前数据不会有任何变化，预计一个季度更新一次。\n      \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录，通常收录的都是有对应源头的数据。\n      \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n      \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+d.ADVANCE_LIMIT+" 条数据的限制。\n      \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})},i.COMPONENT)},"./src/screens/discovery/anime/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemGrid"),t.EVENT={id:"Anime.跳转"}},"./src/screens/discovery/anime/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/anime/component/item-grid/ds.ts"),_=s("./src/screens/discovery/anime/component/item-grid/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.index,r=e.pickIndex,e=e.num,t=t.navigation,o=(0,_.memoStyles)(),r=f.otaStore.animeSubjectId(r),n=(r=f.otaStore.anime(r)).id,d=r.ageId,i=r.image,c=r.cn,a=r.jp,l=r.score,u=r.begin,r=r.rank;return n?(0,x.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(s%e)&&o.left,event:j.EVENT,num:e,id:n,aid:d,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":y.IMG_DEFAULT,name:a,nameCn:c,score:l,rank:r,airtime:u?String(u).slice(0,7):"",collection:f.collectionStore.collect(n)}):(t=f._.grid(e),(0,x.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,x.jsx)(m.Loading.Raw,{})}))},j.COMPONENT)},"./src/screens/discovery/anime/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/anime/component/item-list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemList")},"./src/screens/discovery/anime/component/item-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),g=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),S=s("./src/components/cover/utils.ts"),O=s("./src/screens/_/index.ts"),T=s("./src/stores/index.ts"),E=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),C=s("./src/utils/fetch/index.ts"),P=s("./src/constants/index.ts"),o=s("./src/screens/discovery/anime/component/item-list/ds.ts"),N=s("./src/screens/discovery/anime/component/item-list/styles.ts"),M=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d=e.index,e=e.pickIndex,i=t.navigation,t=(0,N.memoStyles)(),e=T.otaStore.animeSubjectId(e),c=(e=T.otaStore.anime(e)).id,a=e.ageId,l=e.image,u=e.cn,m=e.jp,p=e.ep,f=e.type,y=e.status,j=e.begin,_=e.tags,x=e.official,b=e.origin,v=e.score,h=e.rank,e=e.total;return c?(r=20<=(s=(0,E.cnjp)(u,m)).length?13:14<=s.length?14:15,o=l?"https://lain.bgm.tv/pic/cover/m/"+l+".jpg":P.IMG_DEFAULT,l=String(_).split(" ").filter(function(e){return!!e&&"暂无"!==e}),_=["TV"===f?"":f,String(p).replace(/\(完结\)|第|\[|\]/g,""),y,j,"暂无"===x?"":x,"暂无"===b?"":b].filter(function(e){return!!e}).join(" / "),n=T.collectionStore.collect(c),(0,M.jsxs)(g.Touchable,{style:t.container,animate:!0,onPress:function(){i.push("Subject",{subjectId:c,_cn:u,_image:(0,S.getCoverSrc)(o,P.IMG_WIDTH_LG),_aid:a}),(0,C.t)("Anime.跳转",{subjectId:c})},children:[(0,M.jsxs)(g.Flex,{style:t.wrap,align:"start",children:[(0,M.jsx)(O.InView,{style:t.inView,y:.4*T._.window.height+P.IMG_HEIGHT_LG*d,children:(0,M.jsx)(O.Cover,{src:o,width:P.IMG_WIDTH_LG,height:P.IMG_HEIGHT_LG,radius:!0,cdn:!(0,E.x18)(c)})}),(0,M.jsxs)(g.Flex.Item,{style:T._.ml.wind,children:[(0,M.jsxs)(g.Flex,{align:"start",children:[(0,M.jsx)(g.Flex.Item,{children:(0,M.jsxs)(g.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,M.jsx)(g.Text,{size:r,bold:!0,numberOfLines:2,children:s}),(0,M.jsx)(g.Text,{style:T._.mt.sm,size:11,lineHeight:14,children:_})]})}),(0,M.jsx)(O.Manage,{subjectId:c,collection:n,onPress:function(){T.uiStore.showManageModal({subjectId:c,title:(0,E.cnjp)(u,m),desc:(0,E.cnjp)(m,u),status:P.MODEL_COLLECTION_STATUS.getValue(n)},"找番剧")}})]}),(0,M.jsxs)(g.Flex,{style:t.bottom,children:[(0,M.jsxs)(g.Flex,{children:[(0,M.jsx)(O.Rank,{value:h}),(0,M.jsx)(O.Stars,{style:T._.mr.xs,value:v,simple:!0}),!!e&&(0,M.jsxs)(g.Text,{style:T._.mr.sm,type:"sub",size:11,bold:!0,children:["(",e,")"]})]}),(0,M.jsx)(g.Flex.Item,{children:(0,M.jsx)(O.Tags,{value:l})})]})]})]}),0===d&&(0,M.jsx)(g.Heatmap,{id:"Anime.跳转"})]})):(0,M.jsx)(g.Flex,{style:t.loading,justify:"center",children:(0,M.jsx)(g.Loading.Raw,{})})},o.COMPONENT)},"./src/screens/discovery/anime/component/item-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.58*o.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},inView:{minWidth:o.IMG_WIDTH_LG,minHeight:o.IMG_HEIGHT_LG},content:{height:e},loading:{height:o.IMG_HEIGHT_LG},bottom:{marginTop:o.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/anime/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/anime/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/anime/component/item-grid/index.tsx")),i=r(s("./src/screens/discovery/anime/component/item-list/index.tsx")),r=s("./src/screens/discovery/anime/component/item/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.item,e=e.index;return"list"===t.$.state.layout?(0,c.jsx)(i.default,{pickIndex:s,index:e}):(0,c.jsx)(d.default,{pickIndex:s,index:e,num:o._.portrait(3,5)})},r.COMPONENT)},"./src/screens/discovery/anime/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/anime/component/filter/index.tsx")),a=s("./src/screens/discovery/anime/component/list/utils.tsx"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s;return(t=t.$).state._loaded||t.state.data._loaded?(s=t.isList?void 0:d._.portrait(3,5),(0,l.jsx)(n.PaginationList2,{keyExtractor:a.keyExtractor,forwardRef:t.forwardRef,contentContainerStyle:d._.container.bottom,numColumns:s,data:t.list,limit:9,ListHeaderComponent:(0,l.jsx)(c.default,{}),renderItem:a.renderItem,scrollToTop:!0,scrollEventThrottle:4,onScroll:t.onScroll,onPage:d.otaStore.onAnimePage},""+t.state.layout+s)):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.default,{}),(0,l.jsx)(o.Loading,{})]})});try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/anime/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/anime/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=d,t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/anime/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return String(e)}function i(e){var t=e.item,e=e.index;return(0,n.jsx)(o.default,{item:t,index:e})}try{d.displayName="keyExtractor",d.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/list/utils.tsx#keyExtractor"]={docgenInfo:d.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/anime/component/list/utils.tsx#keyExtractor"})}catch(e){}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/anime/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/anime/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/subject/anime/index.ts"),s=s("./src/constants/index.ts"),r=(t.COMPONENT="Anime",t.NAMESPACE="ScreenAnime",t.EXCLUDE_STATE={visibleBottom:r._.window.height}),n=(t.STATE=Object.assign({query:{area:"日本",type:"",first:"",year:2023,begin:"",status:"",tags:[],official:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1},r,{_loaded:!1}),t.ADVANCE_LIMIT=120,[[],[]]),d=(o.ANIME_TAGS.forEach(function(e,t){return n[t%2?1:0].push(e)}),[[],[]]);o.ANIME_OFFICIAL.forEach(function(e,t){return d[t%2?1:0].push(e)}),t.filterDS=[{title:"地区",type:"area",data:o.ANIME_AREA},{title:"版本",type:"type",data:o.ANIME_TYPE},{title:"首字",type:"first",data:o.ANIME_FIRST},{title:"年份",type:"year",data:o.ANIME_YEAR,always:!0},{title:"季度",type:"begin",data:o.ANIME_BEGIN,always:!0},{title:"状态",type:"status",data:o.ANIME_STATUS},{title:"类型",type:"tags",data:n,multiple:!0,multiSelect:!0},{title:"制作",type:"official",data:d,multiple:!0},{title:"排序",type:"sort",data:o.ANIME_SORT,always:!0},{title:"收藏",type:"collected",data:o.ANIME_COLLECTED}]},"./src/screens/discovery/anime/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/anime/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/anime/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/anime/component/extra/index.tsx")),r=s("./src/screens/discovery/anime/header/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.title,r=void 0===(o=e.alias)?"Anime":o,o=e.hm,n=t.$;return(0,c.jsx)(d.Header,{title:void 0===s?"找番剧":s,alias:r,hm:o||["anime","Anime"],headerRight:function(){return(0,c.jsx)(i.default,{$:n,title:r})}})},r.COMPONENT)},"./src/screens/discovery/anime/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/anime/component/list/index.tsx")),c=r(s("./src/screens/discovery/anime/header/index.tsx")),r=r(s("./src/screens/discovery/anime/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-anime",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{anime.displayName="anime",anime.__docgenInfo={description:"",displayName:"anime",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/index.tsx#anime"]={docgenInfo:anime.__docgenInfo,name:"anime",path:"src/screens/discovery/anime/index.tsx#anime"})}catch(e){}},"./src/screens/discovery/anime/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=s("./src/utils/dom/index.ts"),b=s("./src/utils/fetch/index.ts"),o=o(s("./src/utils/store/index.ts")),v=s("./src/utils/subject/anime/index.ts"),h=s("./src/constants/index.ts"),g=s("./src/screens/discovery/anime/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O;t.default=(s=o.default,(0,l.default)(T,s),O=S(T),(0,n.default)(T,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.animeSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,f.default)((t=T).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function T(){var n;(0,c.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=O.call.apply(O,[this].concat(t)),(0,p.default)((0,a.default)(n),"params",void 0),(0,p.default)((0,a.default)(n),"state",(0,y.observable)(g.STATE)),(0,p.default)((0,a.default)(n),"init",(0,i.default)(r.mark(function e(){var t;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(g.NAMESPACE);case 2:return t=e.sent,t=Object.assign({},t,g.EXCLUDE_STATE,{_loaded:!1}),Array.isArray(t.tags)||(t.tags=[]),n.setState(t),t=n.params._tags,(t=void 0===t?[]:t).length&&n.initQuery("string"==typeof t?[t]:t),e.next=10,(0,v.init)();case 10:n.search(),j.collectionStore.fetchUserCollectionsQueue(!1),setTimeout(function(){n.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(n),"search",function(t){setTimeout(function(){var e=n.state.query,e=(0,v.search)(t||e);n.setState({data:e})},80)}),(0,p.default)((0,a.default)(n),"initQuery",function(){var e=n.state.query;n.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,a.default)(n),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=n.state.query;"tags"===e?(s=void 0===(s=o.tags)?[]:s,r?n.setState({query:Object.assign({},o,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,d.default)(s),[t])})}):n.setState({query:Object.assign({},o,{tags:""===t?[]:[t]})})):n.setState({query:Object.assign({},o,(0,p.default)({},e,t))}),setTimeout(function(){n.search(),n.setStorage(g.NAMESPACE),(0,b.t)("Anime.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,a.default)(n),"scrollToOffset",null),(0,p.default)((0,a.default)(n),"forwardRef",function(e){null!=e&&e.scrollToOffset&&(n.scrollToOffset=e.scrollToOffset)}),(0,p.default)((0,a.default)(n),"scrollToTop",function(){h.STORYBOOK?(0,x.scrollToTop)():"function"==typeof n.scrollToOffset&&(n.scrollToOffset({x:0,y:0,animated:!0}),(0,b.t)("Anime.到顶"))}),(0,p.default)((0,a.default)(n),"switchLayout",function(){var e=n.isList?"grid":"list";(0,b.t)("Anime.切换布局",{layout:e}),n.setState({layout:e}),n.setStorage(g.NAMESPACE)}),(0,p.default)((0,a.default)(n),"onExpand",function(){var e=n.state.expand;n.setState({expand:!e}),n.setStorage(g.NAMESPACE)}),(0,p.default)((0,a.default)(n),"onScroll",_.updateVisibleBottom.bind((0,a.default)(n))),n}},"./src/screens/discovery/award/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/award/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/award/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/award/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/award/component/extra/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){return e=e.year,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Track,{title:"年鉴",hm:["award/"+e,"Award"]}),(0,d.jsx)(o.Heatmap,{id:"年鉴",screen:"Award"}),(0,d.jsx)(o.Heatmap,{right:80,bottom:40,id:"年鉴.跳转",transparent:!0})]})},n.COMPONENT);try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{year:{defaultValue:null,description:"",name:"year",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/award/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/award/component/loading/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/award/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Loading")},"./src/screens/discovery/award/component/loading/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/award/component/loading/ds.ts"),i=s("./src/screens/discovery/award/component/loading/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.redirectCount,e=e.onOpen;return(0,c.jsxs)(o.Loading,{style:i.styles.loading,color:n._.__colorPlain__,children:[(0,c.jsx)(o.Text,{style:n._.mt.md,size:13,type:n._.select("plain","title"),children:t?"第"+t+"次重试":"网页加载中, 请稍等"}),(0,c.jsx)(o.Text,{style:i.styles.extra,size:10,type:n._.select("plain","title"),onPress:e,children:"或点这里使用浏览器打开"})]})},d.COMPONENT);try{loading.displayName="loading",loading.__docgenInfo={description:"",displayName:"loading",props:{redirectCount:{defaultValue:null,description:"",name:"redirectCount",required:!0,type:{name:"any"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/component/loading/index.tsx#loading"]={docgenInfo:loading.__docgenInfo,name:"loading",path:"src/screens/discovery/award/component/loading/index.tsx#loading"})}catch(e){}},"./src/screens/discovery/award/component/loading/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({loading:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:"#000"},extra:{maginTop:s._.md,opacity:.6}})},"./src/screens/discovery/award/component/web-view/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),d=s("./src/utils/hooks/index.ts"),i=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js"),a="screen-award-web-view";function l(e){e=e.source,(0,d.useMount)(function(){setTimeout(function(){document.querySelector("."+a).addEventListener("click",function(e){e.target.closest("a."+a+"__link")&&(e.preventDefault(),e=e.target.closest("a").getAttribute("data-href"),(0,n.appNavigate)(e,(0,n.navigationReference)()))})},4e3)}),e=e.html.replace(/<(script)\b[^<]*(?:(?!<\/(script)>)<[^<]*)*<\/(script)>/g,"").replace('<link rel="preconnect" href="https://fonts.googleapis.com">',"").replace('<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>',"").replace('<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;900&display=swap" rel="stylesheet">',"").replace(/href="\//g,'href="'+i.HOST+"/").replace(/src="\/img\/no_icon_subject.png"/g,'src="'+i.IMG_DEFAULT+'"').replace(/<a href="/g,'<a class="'+a+'__link" data-href="');return(0,c.jsx)(o.ScrollView,{children:(0,c.jsx)("div",{className:a,dangerouslySetInnerHTML:{__html:e}})})}t.default=l;try{l.displayName="WebView",l.__docgenInfo={description:"",displayName:"WebView",props:{source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/component/web-view/index.web.tsx#WebView"]={docgenInfo:l.__docgenInfo,name:"WebView",path:"src/screens/discovery/award/component/web-view/index.web.tsx#WebView"})}catch(e){}},"./src/screens/discovery/award/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.NAMESPACE=t.LIGHT_CONTENT_YEARS=t.COMPONENT=void 0;t.COMPONENT="Award",t.NAMESPACE="ScreenAward",t.LIGHT_CONTENT_YEARS=["2022","2020","2016","2015","2012","2011"]},"./src/screens/discovery/award/index.tsx":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/react/index.js")),f=s("./src/components/index.ts"),y=s("./src/utils/index.ts"),j=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),b=r(s("./src/screens/discovery/award/component/extra/index.tsx")),v=r(s("./src/screens/discovery/award/component/loading/index.tsx")),h=r(s("./src/screens/discovery/award/component/web-view/index.web.tsx")),g=r(s("./src/screens/discovery/award/reset-style.ts")),S=s("./src/screens/discovery/award/utils.ts"),O=s("./src/screens/discovery/award/ds.ts"),T=s("./src/screens/discovery/award/styles.ts"),E=s("./node_modules/react/jsx-runtime.js");function C(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var P,N,M={},s=(r=p.default.Component,(0,a.default)(w,r),N=C(w),(0,n.default)(w,[{key:"componentDidMount",value:(P=(0,d.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=M[(t=this).year])return this.setState({html:s}),this.onLoad(),e.abrupt("return");e.next=6;break;case 6:if(x.STORYBOOK)return e.next=9,(0,y.getStorage)(O.NAMESPACE+"|html|"+this.year);e.next=17;break;case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0="";case 12:if(s=e.t0)return this.setState({html:s}),this.onLoad(),e.abrupt("return");e.next=17;break;case 17:this.fetch(),setTimeout(function(){t.onLoad()},3e3);case 19:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"uri",get:function(){var e=this.props.route;return(null==e||null==(e=e.params)?void 0:e.uri)||""}},{key:"year",get:function(){var e=this.uri.split("/");return e[e.length-1]}},{key:"barStyle",get:function(){return!this.state.loading&&O.LIGHT_CONTENT_YEARS.includes(this.year)?"dark-content":"light-content"}},{key:"source",get:function(){return{html:this.state.html,baseUrl:x.HOST}}},{key:"render",value:function(){var e=this.state,t=e.loading,s=e.redirectCount,e=e.html;return(0,E.jsx)(f.Component,{id:"screen-award",children:(0,E.jsxs)(f.Page,{style:T.styles.container,children:[t&&(0,E.jsx)(v.default,{redirectCount:s,onOpen:this.onOpen}),!!e&&(0,E.jsx)(h.default,{year:this.year,source:this.source,onLoad:this.onLoad,onError:this.onError,onMessage:this.onMessage}),(0,E.jsx)(b.default,{year:this.year})]})})}}]),w);function w(){var n;(0,i.default)(this,w);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=N.call.apply(N,[this].concat(s)),(0,m.default)((0,c.default)(n),"state",{loading:!0,redirectCount:0,html:""}),(0,m.default)((0,c.default)(n),"loaded",!1),(0,m.default)((0,c.default)(n),"redirectCount",0),(0,m.default)((0,c.default)(n),"fetch",(0,d.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.fetchHTML)({url:x.HOST+"/award/"+n.year});case 3:t=e.sent,t=(t="2022"!=n.year?(0,y.removeCF)(t):t).replace(/>\s+</g,"><"),t=((t="2022"!=n.year&&"2023"!=n.year?t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):t).replace(/href="javascript:void\(0\)"/g,"").replace(/<div id="headerNeue2">(.+?)<div id="awardWrapper"/g,'<div id="awardWrapper"').replace(/<div class="shareBtn">(.+?)<\/div>/,"").replace(/<div id="dock">(.+?)<div id="robot"/g,'<div id="robot"').replace(/<div id="main" class="png_bg"><div id="footer">(.+?)<\/div><div class="homeBg">/g,'</div><div class="homeBg">').replace(/\/r\/400\/pic/g,"/r/200/pic")+"<style>"+g.default[n.year]+"</style><script>"+S.injectedStaticJavaScript+"<\/script>").replace(/\/r\/400\/pic/g,"/r/200/pic"),M[n.year]=t,n.setState({html:t}),x.STORYBOOK&&(0,y.setStorage)(O.NAMESPACE+"|html|"+n.year,t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.onError();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))),(0,m.default)((0,c.default)(n),"onError",function(){var e=n.props.navigation;(0,y.info)("网络似乎出了点问题，请重试"),e.goBack()}),(0,m.default)((0,c.default)(n),"onOpen",function(){(0,y.open)(n.uri)}),(0,m.default)((0,c.default)(n),"onMessage",(t=(0,d.default)(o.mark(function e(t){var s,r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=JSON.parse(t.nativeEvent.data),s=r.type,r=r.data,e.t0=s,e.next="onclick"===e.t0?5:7;break;case 5:return n.onDirect(r),e.abrupt("break",8);case 7:return e.abrupt("break",8);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),n.onError();case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(n),"onDirect",function(e){var t,s,r,o;null!=e&&e.href&&(t=n.props.navigation,s=e.href,o=e.innerHTML,e=e.nextInnerHTML,r={},s.includes("/subject/")&&(o&&(r._image=(0,y.cheerio)(o)("img").attr("src")||""),e)&&(o=(0,y.cheerio)(e),r._jp=o(".title").text().trim(),r._cn=o(".subtitle").text().trim()),e={id:"年鉴.跳转",data:{year:n.year}},(0,y.appNavigate)(s,t,r,e))}),(0,m.default)((0,c.default)(n),"onLoad",function(){n.setState({loading:!1})}),n}t.default=(0,j.ob)(s);try{award.displayName="award",award.__docgenInfo={description:"",displayName:"award",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: { uri?: string; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/award/index.tsx#award"]={docgenInfo:award.__docgenInfo,name:"award",path:"src/screens/discovery/award/index.tsx#award"})}catch(e){}},"./src/screens/discovery/award/reset-style.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s=20*1.32+"vw";function r(e){return e.replace(/;/g," !important;")}t.default={2023:r("\n    #awardWrapper {\n      padding-top: 0;\n    }\n  "),2020:r("\n    .pattern_bgm38:before {\n      animation: initial;\n    }\n  "),2019:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n\n    /* 标签 */\n    #chl_crt span.tags,\n    #chl_community span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n  "),2018:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n    /* 标签 */\n    #chl_crt span.tags,\n    #chl_community span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n  "),2017:r("\n    /* 频道 */\n    .channelStatsWrapper .columnGrid ul.grid li span.cover,\n    .channelStatsWrapper .columnGrid ul.grid li span.cover span.overlay {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n  "),2016:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 大标题 */\n    #headerVertical {\n      width: 100%;\n    }\n    /* 个人 */\n    #personalStatsWrapper .columns,\n    #personalStatsWrapper .columnStats {\n      width: 100%;\n    }\n    /* 频道 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 0 0 0 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 30vw;\n      height: 30vw;\n      background-size: 30vw;\n    }\n    .channelStatsWrapper .columns {\n      margin-top: 0;\n    }\n    .channelStatsWrapper ul.listRank li,\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 5px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding-left: 8px;\n    }\n    .channelStatsWrapper div.topicRank span.tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: "+s+";\n    }\n    /* 帖子 */\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n    }\n    /* 底部 */\n    #awardOMT h2.channelSbjTitle {\n      padding: 100px 0;\n      font-size: 36px;\n    }\n    #awardFooter .inner {\n      padding: 20px 8px;\n      width: 100%;\n      font-size: 14px;\n    }\n    #awardSpecial {\n      padding: 16px 0 50px 16px;\n    }\n    #awardSpecial h2.channelSbjTitle {\n      padding: 50px 0 0 0;\n    }\n    #awardSpecial p.bubble {\n      width: 80%;\n    }\n    #awardSpecial p.sign {\n      width: 100%;\n    }\n  "),2015:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #awardWrapper,\n    #chl_community {\n      background: #f3f2ee;\n    }\n    /* 大标题 */\n    #headerVertical {\n      display: none;\n    }\n    #headerVertical {\n      width: 100%;\n    }\n    #headerAward h1 {\n      width: 100%;\n      background-size: contain;\n    }\n    /* 频道 */\n    .channelStatsWrapper {\n      padding-top: 20px;\n      border: 10px solid #f3f2ee;\n    }\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid h3.chl {\n      font-size: 28px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n      border: 0;\n    }\n    .channelStatsWrapper .columnGrid h3,\n    .channelStatsWrapper ul.listRank li dl dt {\n      animation: initial;\n    }\n    /* 章节 */\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 5px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding: 0 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n      border: 0;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n    .columnGrid ul.grid li span.avatar {\n      border: 0;\n    }\n    /* 条目创建 */\n    .columnGrid ul.grid li.avatar span.title {\n      color: #444;\n    }\n    #chl_community a,\n    #chl_community span.tip_i {\n      color: #444;\n    }\n    // #headerAward div.musume,\n    #awardFooter {\n      display: none;\n    }\n  "),2014:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerVertical {\n      width: 100%;\n      padding: 40px 0;\n    }\n    /* 章节 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li span.cover {\n      margin-right: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 关注榜 */\n    .channelStatsWrapper ul.listRank li,\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 年度章节 */\n    .channelStatsWrapper div.topicRank h3 {\n      padding: 0 8px;\n    }\n    .channelStatsWrapper div.topicRank ul li {\n      width: 100%;\n      padding: 0 8px;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n  "),2013:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 章节 */\n    .channelStatsWrapper {\n      padding-top: 40px;\n    }\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    h2.channelSbjTitle {\n      display: none;\n    }\n    .channelStatsWrapper .columnGrid div.inner {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n      border: 0;\n    }\n    /* 榜单 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n    .columnGrid ul.grid li span.avatar {\n      border: 0;\n    }\n  "),2012:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerAward h1 {\n      padding: 20px 0;\n      background-size: contain;\n    }\n    #awardNav {\n      display: none;\n    }\n    /* 章节 */\n    .channelStatsWrapper .columns {\n      width: 100%;\n      padding: 0;\n    }\n    .channelStatsWrapper .columnGrid {\n      margin: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 榜单 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tags {\n      display: block;\n      padding: 0 8px;\n    }\n    /* 人物 */\n    .columnGrid ul.grid li.avatar {\n      width: 20vw;\n      height: 20vw;\n    }\n    .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: contain;\n    }\n    .columnGrid ul.grid li.avatar span.title,\n    .columnGrid ul.grid li.avatar small.fade {\n      width: 100%;\n    }\n  "),2011:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    /* 榜单 */\n    .channelStatsWrapper .columns {\n      padding: 0;\n      width: 100%;\n    }\n    .channelStatsWrapper .columnGrid {\n      width: 100%;\n      margin: 0;\n    }\n    .channelStatsWrapper .columnGrid h3 {\n      margin: 0;\n      padding: 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid {\n      padding: 0 8px;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.cover {\n      width: 28vw;\n      height: 28vw;\n      background-size: 28vw;\n    }\n    /* 章节 */\n    .channelStatsWrapper ul.listRank li {\n      width: 100%;\n    }\n    .channelStatsWrapper ul.listRank li dl dd {\n      width: 100%;\n    }\n    /* 标签 */\n    .tip_i {\n      display: block;\n      padding: 8px;\n    }\n    /* 人物 */\n    .channelStatsWrapper .columnGrid ul.grid li span.avatar {\n      width: 20vw;\n      height: 20vw;\n      background-size: 20vw;\n    }\n    .channelStatsWrapper .columnGrid ul.grid li span.avatar span.overlay {\n      width: 100%;\n      height: 100%;\n    }\n  "),2010:r("\n    /* 文档 */\n    html,\n    body {\n      width: 100%;\n      overflow-x: hidden;\n    }\n    #headerAward div.inner {\n      width: 100%;\n    }\n    /* 榜单 */\n    .columnsAward {\n      width: 100%;\n    }\n    #columnChartSubject {\n      width: 100%;\n      padding: 8px;\n    }\n    ul.chartTopList li {\n      padding-right: 0;\n      margin-right: 20px;\n    }\n    ul.chartTopList li img.cover {\n      width: 28vw;\n      height: 28vw;\n    }\n    ul.chartSecList li {\n      width: 50%;\n    }\n    #columnChartSubject a.outerlink {\n      display: none;\n    }\n    /* 章节 */\n    #columnChartUser {\n      width: 100%;\n    }\n    /* 标签 */\n    .tip_i {\n      display: block;\n      padding: 8px;\n    }\n  ")}},"./src/screens/discovery/award/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{backgroundColor:"#000"}})},"./src/screens/discovery/award/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.injectedStaticJavaScript=void 0;var r=s("./src/utils/index.ts"),s=s("./src/constants/index.ts");t.injectedStaticJavaScript=(0,r.HTMLTrim)("(function(){\n  setTimeout(() => {\n    /* webview 的 postMessage 不是马上生效的 */\n    var __timeoutId = null;\n    var __isBridgeOk = false;\n\n    function waitForBridge() {\n      if (!__isBridgeOk && !window"+(36<=s.SDK?".ReactNativeWebView":"")+'.postMessage) {\n        __timeoutId = setTimeout(waitForBridge, 400);\n      } else {\n        clearTimeout(__timeoutId);\n        __timeoutId = null;\n        __isBridgeOk = true;\n\n        setTimeout(() => {\n          /* 由于现在安卓的 webview 没有能阻止跳转的办法, 把 href 抹掉后加 postMessage 解决 */\n          var aNodes = document.getElementsByTagName("a");\n          for (let i = 0; i < aNodes.length; i++) {\n            let href = aNodes[i].href;\n            if (href && !href.includes("#")) {\n              aNodes[i].setAttribute("data-href", aNodes[i].href);\n              aNodes[i].removeAttribute("href");\n              aNodes[i].addEventListener("click", function () {\n                var innerHTML = "";\n                var nextInnerHTML = "";\n                try {\n                  innerHTML = aNodes[i].innerHTML;\n                  nextInnerHTML = aNodes[i].nextElementSibling.innerHTML\n                } catch (ex) {}\n\n                window'+(36<=s.SDK?".ReactNativeWebView":"")+'.postMessage(JSON.stringify({\n                  type: "onclick",\n                  data: {\n                    href: href,\n                    innerHTML: innerHTML,\n                    nextInnerHTML: nextInnerHTML\n                  }\n                }));\n              })\n            }\n          }\n        }, 0);\n      }\n    }\n\n    waitForBridge();\n  }, 1000)\n}());')},"./src/screens/discovery/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATE=t.NAMESPACE=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),s=s("./src/constants/index.ts");t.NAMESPACE="ScreenDiscoveryBlog",t.STATE={page:0,show:!0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},_loaded:!1},t.TABS=[{title:"全部",key:"all"}].concat((0,r.default)(s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}})))},"./src/screens/discovery/blog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js"),a=["浏览器查看"];i.STORYBOOK||a.push("网页版查看");t.default=(0,r.ob)(function(){return(0,c.jsx)(o.Header,{title:"日志",alias:"全站日志",hm:["discovery/blog","DiscoveryBlog"],headerRight:function(){return(0,c.jsx)(o.Header.Popover,{data:a,onSelect:function(e){(0,d.t)("全站日志.右上角菜单",{key:e}),"浏览器查看"===e?(0,n.open)("https://bgm.tv/blog"):"网页版查看"===e&&(e=i.URL_SPA+"/"+(0,n.getSPAParams)("DiscoveryBlog"),(0,n.open)(e))},children:(0,c.jsx)(o.Heatmap,{id:"全站日志.右上角菜单"})})}})})},"./src/screens/discovery/blog/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Heatmap,{right:n._.wind+62,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"全站日志.标签页切换",transparent:!0}),(0,d.jsx)(o.Heatmap,{right:n._.wind,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"全站日志.标签页点击",transparent:!0})]})})},"./src/screens/discovery/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/blog/header/index.tsx")),c=r(s("./src/screens/discovery/blog/heatmaps/index.tsx")),a=r(s("./src/screens/discovery/blog/store.ts")),l=r(s("./src/screens/discovery/blog/tabs/index.tsx")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(a.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-discovery-blog",children:[(0,u.jsx)(i.default,{}),(0,u.jsxs)(o.Page,{loaded:s.state._loaded,children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})]})})});try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/blog/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=t.EVENT=void 0;t.EVENT={id:"全站日志.跳转"},t.HEATMAPS={prev:"全站日志.上一页",next:"全站日志.下一页",search:"全站日志.页码跳转"}},"./src/screens/discovery/blog/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/react/index.js")),l=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/blog/list/ds.ts"),y=s("./src/screens/discovery/blog/list/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}s=a.default.Component,(0,d.default)(b,s),x=_(b),(0,n.default)(b,[{key:"renderPagination",value:function(){var e=this.context.$,t=this.props.type,s=e.state.ipt;return(0,j.jsx)(u.Pagination,{style:this.styles.pagination,input:s[t],heatmaps:f.HEATMAPS,onPrev:e.prev,onNext:e.next,onChange:e.onChange,onSearch:e.doSearch})}},{key:"render",value:function(){var e=this.context.$,t=this.props.type,s=e.state.show,r=e.blog(t),o=r.list,r=r._loaded;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.ScrollView,{scrollToTop:t===e.type,keyboardDismissMode:"on-drag",children:s&&(0,j.jsx)(j.Fragment,{children:r?(0,j.jsx)(l.default,{style:this.styles.container,children:o.map(function(e){return(0,j.jsx)(m.ItemBlog,Object.assign({style:p._.container.item,event:f.EVENT},e),e.id)})}):(0,j.jsx)(l.default,{style:this.styles.container,children:(0,j.jsx)(u.Loading,{})})})}),this.renderPagination()]})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]);var x,a=b;function b(){return(0,o.default)(this,b),x.apply(this,arguments)}t.default=(0,r.obc)(a);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"all"'},{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/blog/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/blog/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{minHeight:.75*r._.window.height},pagination:{marginTop:r._.xs,marginBottom:o.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}}})},"./src/screens/discovery/blog/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/screens/discovery/blog/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var b;t.default=(s=r.default,(0,a.default)(v,s),b=x(v),(0,i.default)(v,[{key:"type",get:function(){var e=this.state.page;return _.TABS[e].key}},{key:"blog",value:function(t){var s=this.state.currentPage;return(0,p.computed)(function(){var e=f.discoveryStore.blog(t,s[t]);return f.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,y.x18s)(e.title)})}):e}).get()}}]),v);function v(){var r;(0,d.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,c.default)(r),"state",(0,p.observable)(_.STATE)),(0,m.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(_.NAMESPACE);case 2:return t=e.sent,r.setState(Object.assign({},t,{show:!0,_loaded:!0})),e.abrupt("return",r.fetchBlog());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"fetchBlog",function(){var e=r.state.currentPage;return f.discoveryStore.fetchBlog({type:r.type,page:e[r.type]})}),(0,m.default)((0,c.default)(r),"onTabChange",function(e){e!==r.state.page&&((0,j.t)("全站日志.标签页切换"),r.setState({page:e}),r.setStorage(_.NAMESPACE),r.tabChangeCallback(e))}),(0,m.default)((0,c.default)(r),"tabChangeCallback",function(e){e=_.TABS[e].key;r.blog(e)._loaded||r.fetchBlog()}),(0,m.default)((0,c.default)(r),"onShow",function(){setTimeout(function(){r.setState({show:!0}),r.setStorage(_.NAMESPACE)},400)}),(0,m.default)((0,c.default)(r),"prev",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];1!==t[r.type]&&((0,j.t)("全站日志.上一页",{type:r.type,page:s-1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s-1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s-1)))}),r.fetchBlog(),r.onShow())}),(0,m.default)((0,c.default)(r),"next",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];(0,j.t)("全站日志.下一页",{type:r.type,page:s+1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s+1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s+1)))}),r.fetchBlog(),r.onShow()}),(0,m.default)((0,c.default)(r),"onChange",function(e){var e=e.nativeEvent.text,t=r.state.ipt;r.setState({ipt:Object.assign({},t,(0,m.default)({},r.type,e))})}),(0,m.default)((0,c.default)(r),"doSearch",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=""===e[r.type]?1:parseInt(e[r.type]);s<1?(0,y.info)("请输入正确页码"):((0,j.t)("全站日志.页码跳转",{type:r.type,page:s}),r.setState({currentPage:Object.assign({},t,(0,m.default)({},r.type,s)),show:!1,ipt:Object.assign({},e,(0,m.default)({},r.type,String(s)))}),r.fetchBlog(),r.onShow())}),r}},"./src/screens/discovery/blog/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/blog/list/index.tsx")),c=s("./src/screens/discovery/blog/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=(t=t.$).state.page;return(0,a.jsx)(o.TabsV2,{style:n._.mt._sm,routes:c.TABS,page:s,backgroundColor:n._.colorPlain,renderItem:function(e){return(0,a.jsx)(i.default,{type:e.key},e.key)},onChange:t.onTabChange},n._.orientation)});try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/blog/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/browser/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/browser/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/browser/component/item/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Grid"),t.EVENT={id:"索引.跳转",data:{type:"grid"}}},"./src/screens/discovery/browser/component/item/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),a=s("./src/screens/discovery/browser/component/item/grid/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,o=String(s.id).replace("/subject/",""),n=i._.portrait(3,5);return(0,l.jsx)(d.ItemCollectionsGrid,Object.assign({style:(i._.isPad||i._.isLandscape)&&!(e%n)&&i._.container.left,navigation:t,num:n,collection:i.collectionStore.collect(o),event:a.EVENT},s,{isCollect:s.collected,isRectangle:"音乐"===c.MODEL_SUBJECT_TYPE.getTitle(r)}))},a.COMPONENT)},"./src/screens/discovery/browser/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/discovery/browser/component/item/grid/index.tsx")),d=r(s("./src/screens/discovery/browser/component/item/list/index.tsx")),r=s("./src/screens/discovery/browser/component/item/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=e.item,e=e.index;return t.$.isList?(0,i.jsx)(d.default,{item:s,index:e}):(0,i.jsx)(n.default,{item:s,index:e})},r.COMPONENT)},"./src/screens/discovery/browser/component/item/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"索引.跳转",data:{type:"list"}}},"./src/screens/discovery/browser/component/item/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/browser/component/item/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,o=String(s.id).replace("/subject/","");return(0,a.jsx)(n.ItemSearch,Object.assign({style:d._.container.item,navigation:t,event:c.EVENT,index:e},s,{typeCn:i.MODEL_SUBJECT_TYPE.getTitle(r),collection:d.collectionStore.collect(o)}))},c.COMPONENT)},"./src/screens/discovery/browser/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/browser/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/app/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),a=s("./src/screens/discovery/browser/component/list/utils.tsx"),r=s("./src/screens/discovery/browser/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s;return(t=t.$).list._loaded&&t.state.show?(s=t.isList?void 0:n._.portrait(3,5),(0,l.jsx)(o.ListView,{ref:t.forwardRef,keyExtractor:d.keyExtractor,contentContainerStyle:n._.container.bottom,numColumns:s,data:t.list,ListHeaderComponent:!t.state.fixed&&(0,l.jsx)(c.default,{}),renderItem:a.renderItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchBrowser},""+t.state.layout+s)):(0,l.jsxs)(l.Fragment,{children:[!t.state.fixed&&(0,l.jsx)(c.default,{}),(0,l.jsx)(o.Loading,{})]})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/browser/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/browser/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/browser/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,n.jsx)(o.default,{item:t,index:e})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/browser/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/back.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,d.jsx)(o.ToolBar.Icon,{icon:"md-arrow-back",iconColor:n._.colorDesc,onSelect:t.onAirdatePrev})});try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/back.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/discovery/browser/component/tool-bar/back.tsx#back"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/browser/component/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=d.MODEL_SUBJECT_TYPE.getTitle(s);return(0,i.jsx)(o.ToolBar.Popover,{data:d.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:n._.colorDesc,text:s,type:"desc",heatmap:"索引.类型选择",onSelect:t.onTypeSelect})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/browser/component/tool-bar/back.tsx")),c=r(s("./src/screens/discovery/browser/component/tool-bar/filter.tsx")),a=r(s("./src/screens/discovery/browser/component/tool-bar/month.tsx")),l=r(s("./src/screens/discovery/browser/component/tool-bar/more.tsx")),u=r(s("./src/screens/discovery/browser/component/tool-bar/next.tsx")),m=r(s("./src/screens/discovery/browser/component/tool-bar/year.tsx")),r=s("./src/screens/discovery/browser/component/tool-bar/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){return t=t.$,(0,p.jsxs)(o.ToolBar,{style:!t.isList&&n._.mb.xs,children:[(0,p.jsx)(c.default,{}),(0,p.jsx)(i.default,{}),(0,p.jsx)(m.default,{}),(0,p.jsx)(a.default,{}),(0,p.jsx)(u.default,{}),(0,p.jsx)(l.default,{})]})},r.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,i.jsx)(n.ToolBar.Popover,{data:["全部"].concat((0,o.default)(d.DATA_BROWSER_MONTH)),text:s+"月"||0,type:"desc",heatmap:"索引.月选择",onSelect:t.onMonthSelect})});try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/browser/component/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).layout,o=t.fixed,t=t.collected;return(0,i.jsx)(n.ToolBar.Popover,{data:["选项 · "+(o?"锁定上方":"浮动"),"布局 · "+("list"===r?"列表":"网格"),"收藏 · "+(t?"显示":"不显示")],icon:"md-more-vert",iconColor:d._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleFixed():e.includes("布局")?s.switchLayout():e.includes("收藏")?s.onToggleCollected():void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/browser/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/next.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,d.jsx)(o.ToolBar.Icon,{icon:"md-arrow-forward",iconColor:n._.colorDesc,onSelect:t.onAirdateNext})});try{next.displayName="next",next.__docgenInfo={description:"",displayName:"next",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/next.tsx#next"]={docgenInfo:next.__docgenInfo,name:"next",path:"src/screens/discovery/browser/component/tool-bar/next.tsx#next"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_BROWSER_AIRTIME,text:s||"年",type:"desc",heatmap:"索引.年选择",onSelect:t.onAirdateSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/browser/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/browser/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Browser"},"./src/screens/discovery/browser/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/browser/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/browser/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/browser/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(o.Header,{title:"索引",hm:[s.url,"Browser"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:c.DATA,onSelect:function(e){(0,d.t)("索引.右上角菜单",{key:e}),e===c.TEXT_BROWSER?(0,n.open)(s.url):e===c.TEXT_SPA&&(e=i.URL_SPA+"/"+(0,n.getSPAParams)("Browser"),(0,n.open)(e))},children:(0,a.jsx)(o.Heatmap,{id:"索引.右上角菜单"})})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/browser/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/browser/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/browser/component/list/index.tsx")),c=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),a=r(s("./src/screens/discovery/browser/header/index.tsx")),r=r(s("./src/screens/discovery/browser/store/index.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-browser",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)(o.Page,{children:[s.state.fixed&&(0,l.jsx)(c.default,{}),s.state._loaded&&(0,l.jsx)(i.default,{})]})]})})});try{browser.displayName="browser",browser.__docgenInfo={description:"",displayName:"browser",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/index.tsx#browser"]={docgenInfo:browser.__docgenInfo,name:"browser",path:"src/screens/discovery/browser/index.tsx#browser"})}catch(e){}},"./src/screens/discovery/browser/store/action.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),y=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/browser/store/fetch.ts"));function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _;t.default=(s=r.default,(0,a.default)(x,s),_=j(x),(0,o.default)(x));function x(){var o;(0,i.default)(this,x);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=_.call.apply(_,[this].concat(s)),(0,m.default)((0,c.default)(o),"scrollToOffset",void 0),(0,m.default)((0,c.default)(o),"forwardRef",function(e){e&&(o.scrollToOffset=e.scrollToOffset)}),(0,m.default)((0,c.default)(o),"resetScrollView",(t=(0,d.default)(n.mark(function e(t){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.save(),!t){e.next=8;break}if(o.browser._loaded){e.next=7;break}return e.next=5,o.fetchBrowser(!0);case 5:e.next=8;break;case 7:o.fetchBrowser(!0);case 8:setTimeout(function(){"function"==typeof o.scrollToOffset&&o.scrollToOffset({offset:0,animated:!1})},0);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(o),"onTypeSelect",function(e){(0,f.t)("索引.类型选择",{type:e}),o.setState({type:y.MODEL_SUBJECT_TYPE.getLabel(e)}),o.resetScrollView(!0)}),(0,m.default)((0,c.default)(o),"onAirdateSelect",function(e){(0,f.t)("索引.年选择",{airtime:e}),o.setState({airtime:"全部"===e?"":e}),o.resetScrollView(!0)}),(0,m.default)((0,c.default)(o),"onMonthSelect",function(e){o.state.airtime?((0,f.t)("索引.月选择",{month:e}),o.setState({month:"全部"===e?"":e}),o.resetScrollView(!0)):(0,p.info)("请先选择年")}),(0,m.default)((0,c.default)(o),"onAirdatePrev",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),1==s?(--e,t=12):--t,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)-1}),o.resetScrollView(!0)):(0,p.info)("请先选择年")}),(0,m.default)((0,c.default)(o),"onAirdateNext",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),12==s?(e+=1,t=1):t+=1,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)+1}),o.resetScrollView(!0)):(0,p.info)("请先选择年")}),(0,m.default)((0,c.default)(o),"onOrderSelect",function(e){o.setState({sort:y.MODEL_BROWSER_SORT.getValue(e)}),o.resetScrollView(!0)}),(0,m.default)((0,c.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,f.t)("索引.切换布局",{layout:e}),o.setState({layout:e}),o.save()}),(0,m.default)((0,c.default)(o),"onToggleFixed",function(){var e=o.state.fixed;o.setState({fixed:!e}),o.save()}),(0,m.default)((0,c.default)(o),"onToggleCollected",function(){var e=o.state.collected;o.setState({collected:!e}),o.save()}),(0,m.default)((0,c.default)(o),"onScroll",p.updateVisibleBottom.bind((0,c.default)(o))),o}},"./src/screens/discovery/browser/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/browser/store/state.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var y;t.default=(s=r.default,(0,d.default)(j,s),y=f(j),(0,n.default)(j,[{key:"airtime",get:function(){var e=this.state,t=e.airtime,e=e.month;return e&&"不选择"!==e?t+"-"+e:String(t)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"browser",get:function(){var t,e,s=u.tagStore.browser(this.state.type,this.airtime,this.state.sort);return u.userStore.isLimit?(t=0,e=s.list.filter(function(e){e=(0,m.x18)(e.id);return e&&(t+=1),!e}),Object.assign({},s,{list:e,_filter:t})):s}},{key:"list",get:function(){return this.browser._loaded?this.state.collected?this.browser:Object.assign({},this.browser,{list:this.browser.list.filter(function(e){return!e.collected})}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):p.LIST_EMPTY}},{key:"url",get:function(){return(0,p.HTML_BROSWER)(this.state.type,this.airtime,1,this.state.sort)}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,l.computed)(function(){return u.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){return"browser_"+[this.state.type,this.airtime,this.state.sort].join("_")}}]),(0,a.default)((t=j).prototype,"airtime",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"airtime"),t.prototype),(0,a.default)(t.prototype,"ota",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,a.default)(t.prototype,"browser",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"browser"),t.prototype),(0,a.default)(t.prototype,"list",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,a.default)(t.prototype,"url",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"isList",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,a.default)(t.prototype,"thirdPartyKey",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function j(){return(0,o.default)(this,j),y.apply(this,arguments)}},"./src/screens/discovery/browser/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DATE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/browser/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.DATE=new Date),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,sort:"date",show:!0,ota:{}};t.STATE=Object.assign({type:o.MODEL_SUBJECT_TYPE.getLabel("动画"),airtime:s.getFullYear(),month:s.getMonth()+1,layout:"list",fixed:!1,collected:!0},r,{_loaded:!1})},"./src/screens/discovery/browser/store/fetch.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),i=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),r=r(s("./src/screens/discovery/browser/store/computed.ts")),_=["collected"];function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b,v=[];t.default=(s=r.default,(0,l.default)(h,s),b=x(h),(0,n.default)(h));function h(){var n;(0,c.default)(this,h);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=b.call.apply(b,[this].concat(s)),(0,p.default)((0,a.default)(n),"fetchBrowser",(t=(0,i.default)(d.mark(function e(t){var s,r,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n.fetchThirdParty(),o=n.state,r=o.type,o=o.sort,e.next=4,f.tagStore.fetchBrowser({type:r,airtime:n.airtime,sort:o},t);case 4:return(s=e.sent).list.length&&n.thirdPartyKey in n.state.ota&&(o=(null==(r=n.ota)?void 0:r.ts)||0,604800<=(0,y.getTimestamp)()-o)&&n.updateThirdParty(),setTimeout(function(){f.collectionStore.fetchCollectionStatusQueue(s.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,a.default)(n),"fetchThirdParty",(0,i.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.tagStore.init("browser");case 2:setTimeout((0,i.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ota||n.browser._loaded){e.next=8;break}return e.next=3,(0,j.get)(n.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return n.setState({ota:(0,p.default)({},n.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:n.setState({ota:(0,p.default)({},n.thirdPartyKey,Object.assign({},t,{_loaded:(0,y.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)})),80);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(n),"updateThirdParty",(0,i.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(n.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,j.update)(n.thirdPartyKey,{list:n.browser.list.map(function(e){e.collected;return(0,o.default)(e,_)})}),v.push(n.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),n}},"./src/screens/discovery/browser/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=r(s("./src/screens/discovery/browser/store/action.ts")),p=s("./src/screens/discovery/browser/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(j,s),y=f(j);var y,r=(0,d.default)(j);function j(){var s;(0,i.default)(this,j);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=y.call.apply(y,[this].concat(t)),(0,m.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(p.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,s.setState(Object.assign({},t,{airtime:t.airtime||p.DATE.getFullYear(),month:t.month||p.DATE.getMonth()+1},p.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",s.fetchBrowser(!0));case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(s),"onHeaderRefresh",function(){return s.fetchBrowser(!0)}),s}t.default=r},"./src/screens/discovery/browser/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/browser/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/discovery/calendar/component/desc/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Desc")},"./src/screens/discovery/calendar/component/desc/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/calendar/component/desc/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.style,r=e.subjectId,o=e.sites,n=void 0===(d=e.size)?11:d,d=e.filterToShow,i=t.$;return(void 0===d||!d||i.state.adapt||i.state.origin||i.state.tag)&&(e=[],t=[],null!=o&&o.b&&t.push("bilibili"),null!=o&&o.b||null==o||!o.bhmt||t.push("bilibili 港澳台"),null!=o&&o.i&&t.push("爱奇艺"),null!=o&&o.q&&t.push("腾讯视频"),t.length&&e.push((0,u.jsx)(a.Text,{type:"sub",size:n,lineHeight:n+1,bold:!0,children:t.join(" / ")})),o=(d=(0,l.getOnAirItem)(r)).type,r=void 0===(t=d.tag)?"":t,d=void 0===(t=d.origin)?"":t,(t=void 0===o?"":o)&&e.push((0,u.jsx)(a.Text,{type:i.state.adapt===t?"main":"sub",size:n,lineHeight:n+1,bold:!0,children:t})),r&&e.push.apply(e,(0,c.default)(r.split("/").map(function(e){return(0,u.jsx)(a.Text,{type:i.state.tag===e?"main":"sub",size:n,lineHeight:n+1,bold:!0,children:e})}))),d&&e.push.apply(e,(0,c.default)(d.split("/").map(function(e){return(0,u.jsx)(a.Text,{type:i.state.origin===e?"main":"sub",size:n,lineHeight:n+1,bold:!0,children:e})}))),e.length)?(0,u.jsx)(a.Text,{style:s,size:n,lineHeight:n+1,children:e.map(function(e,t){return(0,u.jsxs)(u.Fragment,{children:[!!t&&(0,u.jsxs)(a.Text,{type:"sub",size:n,lineHeight:n+1,bold:!0,children:[" ","/"," "]}),e]})})}):null},o.COMPONENT)},"./src/screens/discovery/calendar/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/calendar/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"ItemGrid");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},hideScore:!1,subjectId:0,name:"",image:"",score:"",collection:"",time:"2359"},t.HIT_SLOP={top:r._.device(2,4),right:r._.device(4,4),bottom:r._.device(10,4),left:r._.device(4,4)}},"./src/screens/discovery/calendar/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),u=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),m=r(s("./src/screens/discovery/calendar/component/item-grid/item.tsx")),r=s("./src/screens/discovery/calendar/component/item-grid/ds.ts"),p=s("./src/screens/discovery/calendar/component/item-grid/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r,o=e.subjectId,n=e.name,d=e.images,i=e.score,e=e.time,c=t.$,t=t.navigation,a=l.collectionStore.collect(o);return"collect"===c.state.type&&!a||(s=void 0===(s=(r=(0,u.getOnAirItem)(o)).origin)?"":s,r=void 0===(r=r.tag)?"":r,c.state.origin&&(null==s||!s.includes(c.state.origin)))||c.state.tag&&(null==r||!r.includes(c.state.tag))?null:(0,f.jsx)(m.default,{navigation:t,styles:(0,p.memoStyles)(),hideScore:l.systemStore.setting.hideScore,subjectId:o,name:n,image:null==d?void 0:d.medium,score:i,collection:a,time:e})},r.COMPONENT)},"./src/screens/discovery/calendar/component/item-grid/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),m=s("./src/components/index.ts"),p=s("./src/components/cover/utils.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),j=s("./src/utils/fetch/index.ts"),_=r(s("./src/screens/discovery/calendar/component/desc/index.tsx")),x=r(s("./src/screens/discovery/calendar/component/item-grid/rating/index.tsx")),b=r(s("./src/screens/discovery/calendar/component/item-grid/title/index.tsx")),v=s("./src/screens/discovery/calendar/component/item-grid/ds.ts"),h=s("./node_modules/react/jsx-runtime.js"),r=(0,o.memo)(function(e){var t=e.navigation,s=e.styles,r=e.hideScore,o=e.subjectId,n=e.name,d=e.image,i=e.score,c=e.collection,e=e.time,a=s.cover,l=a.width,a=a.height;return(0,h.jsx)(u.default,{style:s.item,children:(0,h.jsxs)(m.Touchable,{animate:!0,hitSlop:v.HIT_SLOP,onPress:function(){(0,j.t)("每日放送.跳转",{to:"Subject",subjectId:o}),t.push("Subject",{subjectId:o,_cn:(0,y.HTMLDecode)(n),_image:(0,p.getCoverSrc)(d,l)})},children:[(0,h.jsx)(m.Cover,{width:l,height:a,src:d,radius:!0}),(0,h.jsx)(b.default,{name:n,collection:c}),(0,h.jsx)(_.default,{style:f._.mv.xs,subjectId:o,size:10,filterToShow:!0}),(0,h.jsx)(x.default,{hideScore:r,time:e,score:i})]})})},v.DEFAULT_PROPS,v.COMPONENT_MAIN);t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: number; marginLeft: number; marginBottom: number; }; cover: { width: number; height: number; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-grid/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/calendar/component/item-grid/item.tsx#item"})}catch(e){}},"./src/screens/discovery/calendar/component/item-grid/rating/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.hideScore,s=e.time,e=e.score,t=!t&&!!e,r=[];return s&&"2359"!==s&&r.push(s.slice(0,2)+":"+s.slice(2)),r=r.join(" · "),(0,i.jsxs)(o.Flex,{style:d._.mt.xs,children:[t&&(0,i.jsx)(n.Stars,{value:e,simple:!0}),!!r&&(0,i.jsxs)(o.Text,{size:11,type:"sub",bold:!0,noWrap:!0,children:[t&&e?" · ":"",r]})]})});try{rating.displayName="rating",rating.__docgenInfo={description:"",displayName:"rating",props:{hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"any"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-grid/rating/index.tsx#rating"]={docgenInfo:rating.__docgenInfo,name:"rating",path:"src/screens/discovery/calendar/component/item-grid/rating/index.tsx#rating"})}catch(e){}},"./src/screens/discovery/calendar/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.grid();return{item:{width:e.width,marginLeft:e.marginLeft,marginBottom:r._.md},cover:{width:e.width,height:e.height}}})},"./src/screens/discovery/calendar/component/item-grid/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.name,e=e.collection,s=16<=(t=(0,d.HTMLDecode)(t)).length?11:12;return(0,i.jsxs)(o.Text,{style:n._.mt.sm,size:s,lineHeight:1+s,numberOfLines:3,bold:!0,children:[!!e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Text,{type:(0,d.getType)(e),size:s,lineHeight:1+s,bold:!0,children:e}),(0,i.jsx)(o.Text,{size:s,lineHeight:1+s,bold:!0,children:"·"})]}),t]})});try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-grid/title/index.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"src/screens/discovery/calendar/component/item-grid/title/index.tsx#title"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/cover/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/components/cover/utils.ts"),u=s("./src/screens/_/index.ts"),r=s("./src/stores/index.ts"),o=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/screens/discovery/calendar/component/item-line/cover/styles.ts"),f=s("./node_modules/react/jsx-runtime.js"),y=.64*r._.window.height;t.default=(0,o.obc)(function(e,t){var s=e.section,r=e.index,o=e.subjectId,n=e.image,d=e.name,i=t.navigation,c=(e=p.styles.inView).minWidth,t=e.minHeight;return(0,f.jsx)(u.InView,{style:p.styles.inView,y:y*s+t*r+1,children:(0,f.jsx)(a.Touchable,{onPress:function(){(0,m.t)("每日放送.跳转",{to:"Subject",subjectId:o}),i.push("Subject",{subjectId:o,_cn:d,_image:(0,l.getCoverSrc)(n,c)})},children:(0,f.jsx)(a.Cover,{width:c,height:t,src:n,radius:!0})})})})},"./src/screens/discovery/calendar/component/item-line/cover/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({inView:{minWidth:s.IMG_WIDTH,minHeight:s.IMG_HEIGHT}})},"./src/screens/discovery/calendar/component/item-line/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemList");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={section:0,index:0,styles:{},hideScore:!1,subjectId:0,name:"",desc:"",image:"",time:"2359",prevTime:"",expand:!1,collection:void 0,rank:0,score:0,total:0,sites:{},onToggleExpand:function(){}}},"./src/screens/discovery/calendar/component/item-line/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),v=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),h=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),g=r(s("./src/screens/discovery/calendar/component/item-line/item-line.tsx")),r=s("./src/screens/discovery/calendar/component/item-line/ds.ts"),S=s("./src/screens/discovery/calendar/component/item-line/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r,o,n,d,i,c,a=e.subjectId,l=e.images,u=e.name,m=e.desc,p=(e.air,e.time),f=e.prevTime,y=e.rank,j=e.score,_=e.total,x=e.section,e=e.index,b=(t=t.$).state.expand;return!b&&!p||(s=v.collectionStore.collect(a),"collect"===t.state.type&&!s)||(r=(n=t.state).adapt,o=n.origin,n=n.tag,d=(c=(0,h.getOnAirItem)(a)).type,i=void 0===(i=c.origin)?"":i,c=void 0===(c=c.tag)?"":c,r&&(void 0===d?"":d)!==r)||o&&(null==i||!i.includes(o))||n&&(null==c||!c.includes(n))?null:(0,O.jsx)(g.default,{section:x,index:e,styles:(0,S.memoStyles)(),hideScore:v.systemStore.setting.hideScore,subjectId:a,name:u,desc:m,image:null==l?void 0:l.medium,time:p,prevTime:f,expand:b||!(!o&&!n),collection:s,rank:y,score:j,total:_,sites:t.sites(a),onToggleExpand:t.onToggleExpand})},r.COMPONENT)},"./src/screens/discovery/calendar/component/item-line/item-line.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),x=s("./src/components/index.ts"),b=s("./src/screens/_/index.ts"),v=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),g=s("./src/constants/index.ts"),S=r(s("./src/screens/discovery/calendar/component/desc/index.tsx")),O=r(s("./src/screens/discovery/calendar/component/item-line/cover/index.tsx")),T=r(s("./src/screens/discovery/calendar/component/item-line/rating/index.tsx")),E=r(s("./src/screens/discovery/calendar/component/item-line/time/index.tsx")),C=r(s("./src/screens/discovery/calendar/component/item-line/title/index.tsx")),r=s("./src/screens/discovery/calendar/component/item-line/ds.ts"),P=s("./node_modules/react/jsx-runtime.js"),s=(0,o.memo)(function(e){var t=e.section,s=e.index,r=e.styles,o=e.hideScore,n=e.subjectId,d=e.name,i=e.desc,c=e.image,a=e.time,l=e.prevTime,u=e.expand,m=e.collection,p=e.rank,f=e.score,y=e.total,j=e.sites,e=e.onToggleExpand;return(0,P.jsx)(_.default,{style:v._.container.block,children:(0,P.jsxs)(x.Flex,{style:r.item,align:"start",children:[(0,P.jsx)(E.default,{time:a,prevTime:l,expand:u,onToggleExpand:e}),(u||!u&&a&&"2359"!==a)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(O.default,{section:t,index:s,subjectId:n,image:c,name:d}),(0,P.jsx)(x.Flex.Item,{style:v._.ml.md,children:(0,P.jsxs)(x.Flex,{style:r.body,direction:"column",justify:"between",align:"start",children:[(0,P.jsx)(C.default,{name:d}),(0,P.jsx)(S.default,{subjectId:n,sites:j}),(0,P.jsx)(T.default,{hideScore:o,rank:p,score:f,total:y})]})}),(0,P.jsx)(b.Manage,{subjectId:n,collection:m,onPress:function(){v.uiStore.showManageModal({subjectId:n,title:(0,h.HTMLDecode)(d),desc:i,status:g.MODEL_COLLECTION_STATUS.getValue(m)},"每日放送")}})]})]})})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);t.default=s;try{itemline.displayName="itemline",itemline.__docgenInfo={description:"",displayName:"itemline",props:{section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: string; paddingVertical: number; paddingRight: number; }; inView: { minWidth: number; minHeight: number; }; time: { width: number; paddingLeft: number; marginTop: number; }; transparent: { ...; }; body: { ...; }; katakanas: { ...; }; undetermined: { ...; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},desc:{defaultValue:null,description:"",name:"desc",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},prevTime:{defaultValue:null,description:"",name:"prevTime",required:!0,type:{name:"string"}},expand:{defaultValue:null,description:"",name:"expand",required:!0,type:{name:"boolean"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},sites:{defaultValue:null,description:"",name:"sites",required:!0,type:{name:"{ b?: number; bhmt?: number; i?: string; q?: string; }"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-line/item-line.tsx#itemline"]={docgenInfo:itemline.__docgenInfo,name:"itemline",path:"src/screens/discovery/calendar/component/item-line/item-line.tsx#itemline"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/rating/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.hideScore,s=e.rank,r=e.score,e=e.total;return(0,i.jsx)(o.Flex,{children:!t&&!!r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Rank,{value:s}),(0,i.jsx)(n.Stars,{style:d._.mr.xs,value:r,type:"desc"}),!!e&&(0,i.jsxs)(o.Text,{type:"sub",size:11,bold:!0,children:["(",e,")"]})]})})});try{rating.displayName="rating",rating.__docgenInfo={description:"",displayName:"rating",props:{hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"any"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"any"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"any"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-line/rating/index.tsx#rating"]={docgenInfo:rating.__docgenInfo,name:"rating",path:"src/screens/discovery/calendar/component/item-line/rating/index.tsx#rating"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=o.IMG_HEIGHT;return{item:{width:"100%",paddingVertical:12,paddingRight:r._._wind},inView:{minWidth:o.IMG_WIDTH,minHeight:e},time:{width:r._.r(72),paddingLeft:r._._wind,marginTop:2},transparent:{opacity:0},body:{width:"100%",height:e-4,paddingTop:2},katakanas:{marginTop:-10},undetermined:{zIndex:1,paddingVertical:r._.sm}}})},"./src/screens/discovery/calendar/component/item-line/time/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/calendar/component/item-line/time/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.time,s=e.prevTime,r=e.expand,e=e.onToggleExpand;return(0,c.jsxs)(o.default,{style:(0,d.stl)(i.styles.time,s&&s===t&&i.styles.transparent),children:[!(!t||"2359"===t&&!r)&&(0,c.jsx)(n.Text,{bold:!0,children:"2359"===t?"未知":t.slice(0,2)+":"+t.slice(2)}),"2359"===t&&(0,c.jsx)(n.Touchable,{style:i.styles.undetermined,withoutFeedback:!0,onPress:e,children:(0,c.jsx)(n.Text,{type:"sub",children:r?"收起":"展开"})})]})});try{time.displayName="time",time.__docgenInfo={description:"",displayName:"time",props:{time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},prevTime:{defaultValue:null,description:"",name:"prevTime",required:!0,type:{name:"any"}},expand:{defaultValue:null,description:"",name:"expand",required:!0,type:{name:"any"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-line/time/index.tsx#time"]={docgenInfo:time.__docgenInfo,name:"time",path:"src/screens/discovery/calendar/component/item-line/time/index.tsx#time"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/time/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({time:{width:s._.r(72),paddingLeft:s._._wind,marginTop:2},transparent:{opacity:0},undetermined:{zIndex:1,paddingVertical:s._.sm}})},"./src/screens/discovery/calendar/component/item-line/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/calendar/component/item-line/title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var e=e.name,t=20<=(e=(0,d.HTMLDecode)(e)).length?12:14<=e.length?13:14;return(0,c.jsx)(o.Flex,{style:n._.container.block,align:"start",children:(0,c.jsx)(o.Flex.Item,{children:(0,c.jsx)(o.Katakana.Provider,{itemStyle:i.styles.katakanas,size:t,numberOfLines:3,bold:!0,children:(0,c.jsx)(o.Katakana,{type:"desc",size:t,numberOfLines:3,bold:!0,children:e})})})})});try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/item-line/title/index.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"src/screens/discovery/calendar/component/item-line/title/index.tsx#title"})}catch(e){}},"./src/screens/discovery/calendar/component/item-line/title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({katakanas:{marginTop:-10}})},"./src/screens/discovery/calendar/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/calendar/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/calendar/utils.ts"),y=r(s("./src/screens/discovery/calendar/component/item-grid/index.tsx")),j=r(s("./src/screens/discovery/calendar/component/item-line/index.tsx")),_=r(s("./src/screens/discovery/calendar/component/item/line/index.tsx")),x=s("./node_modules/react/jsx-runtime.js"),b=(new Date).getDay();0===b&&(b=7);t.default=(0,n.obc)(function(e,t){var s=e.item,d=e.section,i=t.$,c=s.items,a=parseInt((0,p.date)("Hi",(0,p.getTimestamp)())),l=!1;return(0,x.jsx)(o.Flex,{wrap:"wrap",align:"start",children:c.map(function(e,t){var s=(0,f.getTime)(e,e.id),r=(0<t&&"2359"===s&&(0,f.getTime)(c[t-1],e.id)===s&&(s=""),null==c?void 0:c[t-1]),o="",r=(r&&(o=(0,f.getTime)(r,r.id)),e.air),n=(e.air_weekday!==b&&0!==r&&(r=Number(r)+1),{key:e.id,subjectId:e.id,images:e.images,name:(0,p.cnjp)(e.name_cn,e.name),desc:(0,p.cnjp)(e.name,e.name_cn),rank:e.rank,score:null==e||null==(n=e.rating)?void 0:n.score,total:null==e||null==(n=e.rating)?void 0:n.total,air:r,time:s,prevTime:o,section:d.index,index:t});return i.isList?(r=(new Date).getHours()<12,(o=d.index===(r?1:0))&&!l&&parseInt(s)>a?(l=!0,(0,x.jsxs)(u.default,{style:m._.container.block,children:[(0,x.jsx)(_.default,{}),(0,x.jsx)(j.default,Object.assign({},n))]},e.id)):o&&!l&&t===c.length-1?(0,x.jsxs)(u.default,{style:m._.container.block,children:[(0,x.jsx)(j.default,Object.assign({},n)),(0,x.jsx)(_.default,{})]},e.id):(0,x.jsx)(j.default,Object.assign({},n))):(0,x.jsx)(y.default,Object.assign({index:t},n))})})})},"./src/screens/discovery/calendar/component/item/line/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/item/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Line")},"./src/screens/discovery/calendar/component/item/line/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/calendar/component/item/line/ds.ts"),c=s("./src/screens/discovery/calendar/component/item/line/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){var e=(0,c.memoStyles)();return(0,a.jsxs)(o.Flex,{children:[(0,a.jsx)(o.Flex.Item,{style:e.line}),(0,a.jsx)(o.Iconfont,{name:"md-access-time",color:n._.colorMain,size:16}),(0,a.jsx)(o.Text,{style:n._.ml.xs,type:"main",bold:!0,children:(0,d.date)("H:i",(0,d.getTimestamp)())}),(0,a.jsx)(o.Flex.Item,{style:e.line}),(0,a.jsx)(o.Heatmap,{id:"每日放送.跳转"})]})},i.COMPONENT)},"./src/screens/discovery/calendar/component/item/line/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{line:{height:1,marginVertical:r._.md,marginHorizontal:r._._wind,backgroundColor:r._.colorMain}}})},"./src/screens/discovery/calendar/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/calendar/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/calendar/component/list/utils.tsx"),o=s("./src/screens/discovery/calendar/component/list/ds.ts"),a=s("./src/screens/discovery/calendar/component/list/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,a.memoStyles)(),r=t.state.layout,o=t.isList?void 0:3;return(0,l.jsx)(n.ListView,{style:d._.mt._sm,contentContainerStyle:s.contentContainerStyle,keyExtractor:i.keyExtractor,sections:t.sections,lazy:2,numColumns:o,scrollToTop:!0,renderSectionHeader:c.renderSectionHeader,renderItem:c.renderItem,scrollEventThrottle:4,onScroll:t.onScroll},""+r+o)},o.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/calendar/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/calendar/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind-r._.device(r._._wind,r._._wind+8)},section:{flex:1,paddingVertical:r._.md,paddingLeft:r._._wind,backgroundColor:r._.colorPlain}}})},"./src/screens/discovery/calendar/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=a,t.renderSectionHeader=c,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=r(s("./src/screens/discovery/calendar/component/item/index.tsx")),d=s("./src/screens/discovery/calendar/component/list/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");function c(e){var e=e.section.title,t=(0,d.memoStyles)();return(0,i.jsx)(o.SectionHeader,{style:t.section,size:14,children:e})}function a(e){var t=e.item,e=e.section;return(0,i.jsx)(n.default,{item:t,section:void 0===e?{}:e})}try{c.displayName="renderSectionHeader",c.__docgenInfo={description:"",displayName:"renderSectionHeader",props:{section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"{ title: any; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/utils.tsx#renderSectionHeader"]={docgenInfo:c.__docgenInfo,name:"renderSectionHeader",path:"src/screens/discovery/calendar/component/list/utils.tsx#renderSectionHeader"})}catch(e){}try{a.displayName="renderItem",a.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},section:{defaultValue:{value:"{}"},description:"",name:"section",required:!1,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/list/utils.tsx#renderItem"]={docgenInfo:a.__docgenInfo,name:"renderItem",path:"src/screens/discovery/calendar/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/calendar/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/calendar/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/calendar/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/calendar/component/tool-bar/more.tsx")),i=r(s("./src/screens/discovery/calendar/component/tool-bar/onair.tsx")),r=s("./src/screens/discovery/calendar/component/tool-bar/ds.ts"),c=s("./src/screens/discovery/calendar/component/tool-bar/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,a.jsxs)(o.ToolBar,{style:c.styles.toolBar,children:[(0,a.jsx)(i.default,{}),(0,a.jsx)(d.default,{})]})},r.COMPONENT)},"./src/screens/discovery/calendar/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).layout,t=t.type;return(0,d.jsx)(o.ToolBar.Popover,{data:["布局 · "+("list"===r?"列表":"网格"),"收藏 · "+("all"===t?"显示":"不显示")],icon:"md-more-vert",iconColor:n._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?s.onSwitchLayout():e.includes("收藏")?s.onToggleType():void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/calendar/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/calendar/component/tool-bar/onair.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/screens/discovery/calendar/component/tool-bar/utils.ts"),m=s("./src/screens/discovery/calendar/component/tool-bar/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(o=t.state).adapt,r=o.tag,o=o.origin,n=(i=(0,u.getData)(t.calendar.list,{adapt:s,tag:r,origin:o})).adapts,d=i.tags,i=i.origins;return(0,p.jsxs)(p.Fragment,{children:[!(null==n||!n.length)&&(0,p.jsx)(a.ToolBar.Popover,{itemStyle:m.styles.item,data:["全部"].concat((0,c.default)(n)),text:s||"改编",type:"desc",onSelect:t.onAdapt}),!(null==d||!d.length)&&(0,p.jsx)(a.ToolBar.Popover,{itemStyle:m.styles.item,data:["全部"].concat((0,c.default)(d)),text:r||"标签",type:"desc",onSelect:t.onTag}),!(null==i||!i.length)&&(0,p.jsx)(a.ToolBar.Popover,{itemStyle:m.styles.item,data:["全部"].concat((0,c.default)(i)),text:o||"动画制作",type:"desc",onSelect:t.onOrigin}),!!(s||r||o)&&(0,p.jsx)(a.ToolBar.Icon,{icon:"md-close",iconColor:l._.colorDesc,onSelect:t.onClear})]})});try{onair.displayName="onair",onair.__docgenInfo={description:"",displayName:"onair",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/component/tool-bar/onair.tsx#onair"]={docgenInfo:onair.__docgenInfo,name:"onair",path:"src/screens/discovery/calendar/component/tool-bar/onair.tsx#onair"})}catch(e){}},"./src/screens/discovery/calendar/component/tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({toolBar:{paddingBottom:20},item:{minWidth:64}})},"./src/screens/discovery/calendar/component/tool-bar/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.object.entries.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.getData=function(e,t){var s=JSON.stringify(e).length;if(a.has(s))return a.get(s);try{var r={},o={},n={},d=(e.forEach(function(e){e.items.forEach(function(e){var e=(0,c.getOnAirItem)(e.id),t=e.type,s=e.origin,e=e.tag;t&&(r[t]?r[t]+=1:r[t]=1),s&&s.split("/").forEach(function(e){e=e.trim();o[e]?o[e]+=1:o[e]=1}),e&&e.split("/").forEach(function(e){e=e.trim();n[e]?n[e]+=1:n[e]=1})})}),{adapts:Object.entries(r).sort(function(e,t){return(0,c.desc)(e[1],t[1])}).map(function(e){e=(0,i.default)(e,2);return e[0]+" ("+e[1]+")"}),origins:Object.entries(o).sort(function(e,t){return(0,c.desc)(e[1],t[1])}).map(function(e){e=(0,i.default)(e,2);return e[0]+" ("+e[1]+")"}),tags:Object.entries(n).sort(function(e,t){return(0,c.desc)(e[1],t[1])}).map(function(e){e=(0,i.default)(e,2);return e[0]+" ("+e[1]+")"})});return a.set(s,d),d}catch(e){}return{adapts:[],origins:[],tags:[]}},r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=s("./src/utils/index.ts"),a=new Map},"./src/screens/discovery/calendar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.LAYOUT_DS=t.COMPONENT=void 0;t.COMPONENT="Calendar",t.LAYOUT_DS=[{key:"list",title:"列表"},{key:"grid",title:"网格"}],t.TYPE_DS=[{key:"all",title:"全部"},{key:"collect",title:"收藏"}]},"./src/screens/discovery/calendar/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_INFOR=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/calendar/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.TEXT_INFOR="补充说明",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看"),r.push("补充说明")},"./src/screens/discovery/calendar/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/calendar/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation;return(0,a.jsx)(o.Header,{title:"每日放送",hm:["calendar","Calendar"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:c.DATA,onSelect:function(e){var t;(0,d.t)("每日放送.右上角菜单",{key:e}),e===c.TEXT_BROWSER?(0,n.open)(i.HOST+"/calendar"):e===c.TEXT_SPA?(t=i.URL_SPA+"/"+(0,n.getSPAParams)("Calendar"),(0,n.open)(t)):e===c.TEXT_INFOR&&s.push("Information",{title:"每日放送数据",message:["客户端内每日放送数据是由多方数据整合而成的。","1：官方每日放送 API 作为当季放送原始列表项。","2：从 bangumi-data 库中获取放送具体时间和站点，若该番剧并没有具体时间，会默认收起以免长期占据显示位置，需要你自行展开列表。","3：标签和动画制作数据摘取自 https://yuc.wiki。"]})},children:(0,a.jsx)(o.Heatmap,{id:"每日放送.右上角菜单"})})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/calendar/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/calendar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/calendar/component/list/index.tsx")),c=r(s("./src/screens/discovery/calendar/component/tool-bar/index.tsx")),a=r(s("./src/screens/discovery/calendar/header/index.tsx")),r=r(s("./src/screens/discovery/calendar/store/index.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-calendar",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)(o.Page,{children:[(0,l.jsx)(c.default,{}),s.state._loaded&&s.calendar._loaded?(0,l.jsx)(i.default,{}):(0,l.jsx)(o.Loading,{})]})]})})});try{calendar.displayName="calendar",calendar.__docgenInfo={description:"",displayName:"calendar",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/index.tsx#calendar"]={docgenInfo:calendar.__docgenInfo,name:"calendar",path:"src/screens/discovery/calendar/index.tsx#calendar"})}catch(e){}},"./src/screens/discovery/calendar/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.function.bind.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/index.ts"),m=s("./src/utils/fetch/index.ts"),r=r(s("./src/screens/discovery/calendar/store/fetch.ts"));function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var t;(0,n.default)(this,y);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(t),"onSwitchLayout",function(){var e="list"===t.state.layout?"grid":"list";t.setState({layout:e}),t.save(),(0,m.t)("每日放送.切换布局",{layout:e})}),(0,l.default)((0,d.default)(t),"onToggleType",function(){var e="all"===t.state.type?"collect":"all";t.setState({type:e}),t.save(),(0,m.t)("每日放送.切换类型",{type:e})}),(0,l.default)((0,d.default)(t),"onToggleExpand",function(){t.setState({expand:!t.state.expand}),t.save()}),(0,l.default)((0,d.default)(t),"onAdapt",function(e){e="全部"!==e&&(null==(e=e.split(" ("))?void 0:e[0])||"",t.setState({adapt:e}),(0,m.t)("每日放送.切换改编",{adapt:e})}),(0,l.default)((0,d.default)(t),"onTag",function(e){e="全部"!==e&&(null==(e=e.split(" ("))?void 0:e[0])||"",t.setState({tag:e}),(0,m.t)("每日放送.切换标签",{tag:e})}),(0,l.default)((0,d.default)(t),"onOrigin",function(e){e="全部"!==e&&(null==(e=e.split(" ("))?void 0:e[0])||"",t.setState({origin:e}),(0,m.t)("每日放送.切换动画制作",{origin:e})}),(0,l.default)((0,d.default)(t),"onClear",function(){t.setState({adapt:"",tag:"",origin:""})}),(0,l.default)((0,d.default)(t),"onScroll",u.updateVisibleBottom.bind((0,d.default)(t))),t}},"./src/screens/discovery/calendar/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/utils/protobuf/index.web.ts"),f=s("./src/screens/discovery/calendar/utils.ts"),r=r(s("./src/screens/discovery/calendar/store/state.ts"));function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var j;t.default=(s=r.default,(0,d.default)(_,s),j=y(_),(0,n.default)(_,[{key:"calendar",get:function(){return u.calendarStore.calendar}},{key:"sections",get:function(){var e=(new Date).getDay(),t=(0===e&&(e=7),(new Date).getHours()<12),e=e-(t?2:1),t=this.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.slice().sort(function(e,t){return(0,m.desc)((0,f.getTime)(e),(0,f.getTime)(t))})})});return t.slice(e).concat(t.slice(0,e)).map(function(e,t){return{title:e.weekday.cn,index:t,data:[e]}})}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,l.computed)(function(){return u.subjectStore.subject(e)}).get()}},{key:"sites",value:function(t){var s=this;return(0,l.computed)(function(){var e;return s.state.loadedBangumiData&&(null==(e=(0,p.get)("bangumi-data"))||null==(e=e.find(function(e){return e.id==t}))?void 0:e.s)||{}}).get()}}]),(0,a.default)((t=_).prototype,"calendar",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"calendar"),t.prototype),(0,a.default)(t.prototype,"sections",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"sections"),t.prototype),(0,a.default)(t.prototype,"isList",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),t);function _(){return(0,o.default)(this,_),j.apply(this,arguments)}},"./src/screens/discovery/calendar/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/screens/discovery/calendar/ds.ts"),r=(t.NAMESPACE="Screen"+s.COMPONENT,t.EXCLUDE_STATE={adapt:"",tag:"",origin:"",visibleBottom:r._.window.height,loadedBangumiData:!1});t.STATE=Object.assign({layout:s.LAYOUT_DS[0].key,type:s.TYPE_DS[0].key,expand:!1,_lastQueue:0},r,{_loaded:!1})},"./src/screens/discovery/calendar/store/fetch.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),y=s("./src/utils/protobuf/index.web.ts"),r=r(s("./src/screens/discovery/calendar/store/computed.ts"));function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _;t.default=(s=r.default,(0,a.default)(x,s),_=j(x),(0,d.default)(x));function x(){var s;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=_.call.apply(_,[this].concat(t)),(0,m.default)((0,c.default)(s),"fetchCollectionsQueue",function(){(0,f.getTimestamp)()-s.state._lastQueue<=86400||setTimeout((0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],s.calendar.list.forEach(function(e){e.items.forEach(function(e){t.push(e.id)})}),e.next=5,p.collectionStore.fetchCollectionStatusQueue(t);case 5:s.setState({_lastQueue:(0,f.getTimestamp)()}),s.save(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])})),2e3)}),(0,m.default)((0,c.default)(s),"fetchBangumiData",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state.loadedBangumiData)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,(0,y.decode)("bangumi-data");case 4:s.setState({loadedBangumiData:!0});case 5:case"end":return e.stop()}},e)}))),s}},"./src/screens/discovery/calendar/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/fetch/index.ts"),y=s("./src/utils/protobuf/index.web.ts"),r=r(s("./src/screens/discovery/calendar/store/action.ts")),j=s("./src/screens/discovery/calendar/store/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(b,s),x=_(b);var x,r=(0,d.default)(b);function b(){var s;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=x.call.apply(x,[this].concat(t)),(0,m.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=Object,e.t2={},e.next=5,s.getStorage(j.NAMESPACE);case 5:return e.t3=e.sent,e.t4=j.EXCLUDE_STATE,e.t5={loadedBangumiData:!(null==(t=(0,y.get)("bangumi-data"))||!t.length),_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),e.abrupt("return",(0,f.queue)([function(){return p.calendarStore.fetchOnAir()},function(){return p.calendarStore.fetchCalendar()},function(){return s.fetchBangumiData()},function(){return s.fetchCollectionsQueue()}],1));case 11:case"end":return e.stop()}},e)}))),s}t.default=r},"./src/screens/discovery/calendar/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/calendar/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/discovery/calendar/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=function(e,t){return String((null==e?void 0:e.timeLocal)||(null==e?void 0:e.timeCN)||(null==e?void 0:e.timeJP)||(null==(e=r.ON_AIR[t])?void 0:e.timeCN)||"2359")};var r=s("./src/stores/calendar/onair/index.ts")},"./src/screens/discovery/catalog-detail/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/catalog-detail/component/icon-copy/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"IconCopy")},"./src/screens/discovery/catalog-detail/component/icon-copy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/catalog-detail/component/icon-copy/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,s=e.navigation;return(0,i.jsx)(o.IconHeader,{style:n._.mr.xs,name:"md-filter-none",color:n._.colorDesc,size:17,onPress:function(){return t.onCopy(s)}})},d.COMPONENT);try{iconcopy.displayName="iconcopy",iconcopy.__docgenInfo={description:"",displayName:"iconcopy",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/icon-copy/index.tsx#iconcopy"]={docgenInfo:iconcopy.__docgenInfo,name:"iconcopy",path:"src/screens/discovery/catalog-detail/component/icon-copy/index.tsx#iconcopy"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/icon-favor/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"IconFavor")},"./src/screens/discovery/catalog-detail/component/icon-favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/catalog-detail/component/icon-favor/ds.ts"),c=s("./src/screens/discovery/catalog-detail/component/icon-favor/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=(e=e.$).catalogDetail.collect;return(0,a.jsxs)(o.Flex,{style:t?c.styles.withCollect:d._.mr.xs,children:[(0,a.jsxs)(n.IconHeader,{name:e.isCollect?"md-star":"md-star-outline",size:22,color:e.isCollect?d._.colorYellow:d._.colorDesc,onPress:e.toggleCollect,children:[(0,a.jsx)(o.Heatmap,{right:75,id:"目录详情.取消收藏"}),(0,a.jsx)(o.Heatmap,{right:30,id:"目录详情.收藏"})]}),!!t&&(0,a.jsx)(o.Text,{style:c.styles.num,size:10,bold:!0,children:t})]})},i.COMPONENT);try{iconfavor.displayName="iconfavor",iconfavor.__docgenInfo={description:"",displayName:"iconfavor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/icon-favor/index.tsx#iconfavor"]={docgenInfo:iconfavor.__docgenInfo,name:"iconfavor",path:"src/screens/discovery/catalog-detail/component/icon-favor/index.tsx#iconfavor"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/icon-favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({withCollect:{paddingRight:s._.xs,marginRight:s._.xs},num:{position:"absolute",right:4,bottom:5}})},"./src/screens/discovery/catalog-detail/component/info/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT_DS=t.LAYOUT_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Info"),t.LAYOUT_DS=["列表","网格"],t.SORT_DS=["默认","时间","评分"]},"./src/screens/discovery/catalog-detail/component/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),y=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./src/components/index.ts"),_=s("./src/screens/_/index.ts"),x=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),v=s("./src/utils/fetch/index.ts"),h=s("./src/constants/index.ts"),g=r(s("./src/screens/discovery/catalog-detail/component/tool-bar/index.tsx")),r=s("./src/screens/discovery/catalog-detail/component/info/ds.ts"),S=s("./src/screens/discovery/catalog-detail/component/info/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,S.memoStyles)(),o=(m=s.catalogDetail.title?s.catalogDetail:s.catalogDetailFromOSS).title,n=m.avatar,d=m.content,i=m.progress,c=m.nickname,a=m.userId,l=m.time,u=m.replyCount,m=m._loaded,u=5==u?"5+":u,i=String(i||"").split("/"),p=(i=(0,f.default)(i,2))[0],i=i[1];return(0,O.jsxs)(y.default,{style:t.container,children:[(0,O.jsx)(j.Header.Placeholder,{}),(0,O.jsxs)(y.default,{style:x._.container.inner,children:[(0,O.jsx)(j.Text,{size:20,bold:!0,children:o}),!(!c&&!l)&&(0,O.jsxs)(j.Flex,{style:x._.mt.sm,children:[(0,O.jsx)(j.Text,{type:"title",size:13,lineHeight:15,bold:!0,onPress:function(){(0,v.t)("目录详情.跳转",{to:"Zone",catalogId:s.catalogId,userId:a}),r.push("Zone",{userId:a,_id:a,_name:c,_image:n})},children:c}),(0,O.jsxs)(j.Text,{type:"sub",size:13,lineHeight:15,bold:!0,children:[c?" · ":"",String(l).replace(/\n/g,"")]})]}),!!n&&(0,O.jsxs)(j.Flex,{style:x._.mt.lg,justify:"center",children:[(0,O.jsx)(j.Image,{src:(0,b.getCoverLarge)(n),size:x._.r(80),shadow:!0,placeholder:!1,imageViewer:!0,event:{id:"目录详情.封面图查看",data:{catalogId:s.catalogId}}}),(0,O.jsx)(j.Heatmap,{id:"目录详情.封面图查看"})]}),!!d&&(0,O.jsx)(j.Expand,{style:x._.mt.lg,ratio:.64,children:(0,O.jsx)(j.RenderHtml,{html:d,onLinkPress:function(e){return(0,b.appNavigate)(e,r)}})}),(0,O.jsxs)(j.Flex,{style:x._.mt.md,children:[(0,O.jsx)(j.Flex.Item,{children:(0,O.jsxs)(j.Flex,{children:[(0,O.jsx)(j.Touchable,{onPress:function(){r.push("WebBrowser",{url:h.HOST+"/index/"+s.catalogId+"/comments",title:"目录留言"}),(0,v.t)("目录详情.跳转",{to:"WebBrowser",catalogId:s.catalogId,userId:a})},children:(0,O.jsxs)(j.Text,{type:"sub",size:12,bold:!0,children:["留言",u?" ("+u+")":""]})}),(0,O.jsxs)(j.Text,{type:"sub",size:12,bold:!0,children:[" ","·"," "]}),(0,O.jsx)(j.Touchable,{onPress:function(){r.push("Catalogs",{userId:a}),(0,v.t)("目录详情.跳转",{to:"Catalogs",catalogId:s.catalogId,userId:a})},children:(0,O.jsx)(j.Text,{type:"sub",size:12,bold:!0,children:"TA 的其他目录"})})]})}),x.userStore.isLogin&&!(!p&&!i)&&(0,O.jsx)(y.default,{children:(0,O.jsx)(_.Progress,{current:Number(p||0),total:Number(i||0),children:(0,O.jsxs)(j.Text,{type:"sub",size:12,bold:!0,children:["完成度 ",p," / ",i]})})})]}),(0,O.jsxs)(y.default,{style:x._.mt.lg,children:[(0,O.jsx)(g.default,{}),(0,O.jsx)(j.Heatmap,{id:"目录详情.排序"})]})]}),!m&&(0,O.jsx)(j.Flex,{style:t.loading,justify:"center",children:(0,O.jsx)(j.Loading,{})})]})},r.COMPONENT);try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/discovery/catalog-detail/component/info/index.tsx#info"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{minHeight:r._.window.contentWidth},loading:{height:240}}})},"./src/screens/discovery/catalog-detail/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.EVENT={id:"目录详情.跳转"}},"./src/screens/discovery/catalog-detail/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/screens/discovery/catalog-detail/component/item/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=void 0===(s=e.index)?0:s,e=e.item,r=t.$,t=t.navigation,o=String(e.id).match(/\d+/)[0],n=c.collectionStore.collect(o);return r.isList?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.ItemCollections,{navigation:t,event:l.EVENT,inViewY:.5*c._.window.height,index:s,id:o,type:e.type,cover:e.image,name:c.subjectStore.jp(o)||e.title,nameCn:c.subjectStore.cn(o)||(0,a.findSubjectCn)(e.title,o),tip:e.info,comments:e.comment,score:e.score,rank:e.rank,total:e.total,numberOfLines:3,modify:e.modify,isCollect:e.isCollect,collection:n,isCatalog:!0,hideScore:r.hideScore,isEditable:r.isSelf,showManage:!0,onEdit:r.onEdit}),!s&&(0,u.jsx)(d.Heatmap,{id:"目录详情.跳转"})]}):(0,u.jsx)(i.ItemCollectionsGrid,{navigation:t,event:l.EVENT,id:o,num:r.gridNum,name:c.subjectStore.jp(o)||e.title,nameCn:c.subjectStore.cn(o)||(0,a.findSubjectCn)(e.title,o),cover:e.image,score:e.score,rank:e.rank,typeCn:e.type,collection:n})},l.COMPONENT)},"./src/screens/discovery/catalog-detail/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/catalog-detail/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/constants/text/index.ts"),a=r(s("./src/screens/discovery/catalog-detail/component/info/index.tsx")),l=s("./src/screens/discovery/catalog-detail/component/list/utils.tsx"),r=s("./src/screens/discovery/catalog-detail/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var e=e.onScroll,s=(t=t.$).isList?void 0:t.gridNum;return(0,u.jsx)(o.PaginationList2,{contentContainerStyle:n._.container.bottom,keyExtractor:d.keyExtractor,numColumns:s,data:t.list,limit:12,ListHeaderComponent:(0,u.jsx)(a.default,{}),renderItem:l.renderItem,scrollToTop:!0,footerEmptyDataText:c.TEXT_18X,scrollEventThrottle:4,onScroll:e,onHeaderRefresh:t.fetchCatalogDetail},""+t.state.layout+s)},r.COMPONENT)},"./src/screens/discovery/catalog-detail/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/catalog-detail/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.index,e=e.item;return(0,n.jsx)(o.default,{index:t,item:e})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/catalog-detail/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tips/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tips")},"./src/screens/discovery/catalog-detail/component/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/catalog-detail/component/tips/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$.state.progress).fetching,r=t.message,o=t.current,t=t.total;return(0,d.jsx)(n.Progress,{show:s,message:r,current:o,total:t})},o.COMPONENT);try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/catalog-detail/component/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog-detail/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/catalog-detail/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/catalog-detail/component/tool-bar/layout.tsx")),c=r(s("./src/screens/discovery/catalog-detail/component/tool-bar/sort.tsx")),r=s("./src/screens/discovery/catalog-detail/component/tool-bar/ds.ts"),a=s("./src/screens/discovery/catalog-detail/component/tool-bar/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){return t=t.$,(0,l.jsxs)(o.ToolBar,{children:[(0,l.jsx)(c.default,{}),(0,l.jsx)(i.default,{}),(0,l.jsx)(o.Button,{style:a.styles.btn,styleText:n._.fontSize12,type:"plain",bold:!0,onPress:t.fetchSubjectsQueue,children:"更新评分"})]})},r.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/discovery/catalog-detail/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tool-bar/layout.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/catalog-detail/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=null==(t=d.LAYOUT_DS.find(function(e){return e.key===s.state.layout}))?void 0:t.title;return(0,i.jsx)(o.ToolBar.Popover,{data:d.LAYOUT_DS.map(function(e){return e.title}),icon:"网格"===t?"md-grid-view":"md-menu",iconColor:n._.colorDesc,iconSize:17,text:t,type:"desc",onSelect:s.onSwitchLayout})});try{layout.displayName="layout",layout.__docgenInfo={description:"",displayName:"layout",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/tool-bar/layout.tsx#layout"]={docgenInfo:layout.__docgenInfo,name:"layout",path:"src/screens/discovery/catalog-detail/component/tool-bar/layout.tsx#layout"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/catalog-detail/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,i.jsx)(o.ToolBar.Popover,{data:d.SORT_DS.map(function(e){return e.title}),icon:"md-filter-list",iconColor:n._.colorDesc,text:null==(t=d.SORT_DS.find(function(e){return e.key===s.state.sort}))?void 0:t.title,type:"desc",onSelect:s.onToggleSort})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/component/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/discovery/catalog-detail/component/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/discovery/catalog-detail/component/tool-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({btn:{width:76,height:30,marginLeft:4,borderRadius:30}})},"./src/screens/discovery/catalog-detail/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.SORT_DS=t.NAMESPACE=t.LAYOUT_DS=t.EXCLUDE_STATE=t.COMPONENT=void 0;var s=s("./src/stores/index.ts"),r=(t.COMPONENT="CatalogDetail",t.NAMESPACE="ScreenCatalogDetail",t.LAYOUT_DS=[{key:"list",title:"列表"},{key:"grid",title:"网格"}]),o=t.SORT_DS=[{key:"0",title:"默认"},{key:"1",title:"时间"},{key:"2",title:"评分"}],s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,visible:!1,defaultEditItem:null,progress:{fetching:!1,message:"",current:0,total:0}};t.STATE=Object.assign({layout:r[0].key,sort:o[0].key},s,{_loaded:!1})},"./src/screens/discovery/catalog-detail/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/catalog-detail/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/catalog-detail/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),l=r(s("./src/screens/discovery/catalog-detail/component/icon-copy/index.tsx")),u=r(s("./src/screens/discovery/catalog-detail/component/icon-favor/index.tsx")),m=s("./src/screens/discovery/catalog-detail/header/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var e=e.fixed,s=t.$,r=t.navigation,o=s.catalogDetail.title?s.catalogDetail:s.catalogDetailFromOSS;return(0,p.jsx)(n.Header,{mode:"float",fixed:e,title:o.title,alias:"目录详情",hm:["index/"+s.catalogId,"CatalogDetail"],headerRight:function(){return(0,p.jsxs)(n.Flex,{children:[d.userStore.isLogin&&(0,p.jsx)(l.default,{$:s,navigation:r}),!(!o.joinUrl&&!o.byeUrl)&&(0,p.jsx)(u.default,{$:s}),(0,p.jsx)(n.Header.Popover,{data:m.DATA,onSelect:function(e){(0,c.t)("目录详情.右上角菜单",{key:e}),e===m.TEXT_BROWSER?(0,i.open)(a.HOST+"/index/"+s.catalogId):e===m.TEXT_SPA&&(e=a.URL_SPA+"/"+(0,i.getSPAParams)("CatalogDetail",{catalogId:s.catalogId}),(0,i.open)(e))},children:(0,p.jsx)(n.Heatmap,{id:"目录详情.右上角菜单"})})]})}})},m.COMPONENT)},"./src/screens/discovery/catalog-detail/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useCatalogDetailPage=function(e){var t=e.$,e=(e.navigation,(0,d.useRunAfter)(function(){t.init()}),(0,n.useOnScroll)()),s=e.fixed,r=e.onScroll,e=(0,o.useCallback)(function(e){t.onScroll(e),r(e)},[t,r]);return{fixed:s,onScroll:e}};var o=s("./node_modules/react/index.js"),n=s("./src/components/header/utils.tsx"),d=s("./src/utils/hooks/index.ts")},"./src/screens/discovery/catalog-detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),o=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/catalog-detail/component/list/index.tsx")),l=r(s("./src/screens/discovery/catalog-detail/component/tips/index.tsx")),u=r(s("./src/screens/discovery/catalog-detail/header/index.tsx")),m=s("./src/screens/discovery/catalog-detail/hooks.ts"),r=r(s("./src/screens/discovery/catalog-detail/store.ts")),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ic)(r.default,function(e,t){var s=(0,m.useCatalogDetailPage)(t),r=s.fixed,o=s.onScroll,n=t.$;return(0,c.useObserver)(function(){return(0,p.jsxs)(d.Component,{id:"screen-catalog-detail",children:[(0,p.jsx)(u.default,{fixed:r}),(0,p.jsxs)(d.Page,{statusBarEvent:!1,children:[(0,p.jsx)(a.default,{onScroll:o}),(0,p.jsx)(l.default,{})]}),(0,p.jsx)(i.FolderManageModal,{id:n.catalogId,visible:n.state.visible,defaultExpand:n.catalogId,defaultEditItem:n.state.defaultEditItem,onClose:n.onClose})]})})});try{catalogdetail.displayName="catalogdetail",catalogdetail.__docgenInfo={description:"",displayName:"catalogdetail",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/index.tsx#catalogdetail"]={docgenInfo:catalogdetail.__docgenInfo,name:"catalogdetail",path:"src/screens/discovery/catalog-detail/index.tsx#catalogdetail"})}catch(e){}},"./src/screens/discovery/catalog-detail/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=r(s("./src/utils/cache-manager/index.ts")),x=s("./src/utils/fetch/index.ts"),b=r(s("./src/utils/store/index.ts")),v=s("./src/utils/webhooks/index.ts"),h=s("./src/constants/index.ts"),g=r(s("./src/constants/i18n/index.ts")),S=s("./src/screens/discovery/catalog-detail/ds.ts");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var T;t.default=(r=b.default,(0,d.default)(E,r),T=O(E),(0,n.default)(E,[{key:"catalogId",get:function(){return this.params.catalogId||""}},{key:"catalogDetail",get:function(){return y.discoveryStore.catalogDetail(this.catalogId)}},{key:"catalogDetailFromOSS",get:function(){return y.discoveryStore.catalogDetailFromOSS(this.catalogId)}},{key:"list",get:function(){var e=S.NAMESPACE+"|"+this.catalogId;if(this.state.progress.fetching){var t=_.default.get(e);if(t)return t}var t=[],s=(this.catalogDetail.list.length?t=this.catalogDetail.list:this.catalogDetailFromOSS.list.length&&(t=this.catalogDetailFromOSS.list),t=t.map(function(e){var t=e.id;return Object.assign({},e,{score:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.score)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(e=e.rating)?void 0:e.score)||0,rank:(null==(e=y.subjectStore.subject(t))?void 0:e.rank)||(null==(e=y.subjectStore.subjectFromOSS(t))?void 0:e.rank)||"",total:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.total)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(t=e.rating)?void 0:t.total)||""})}),this.state.sort);return"1"===String(s)?_.default.set(e,t.slice().sort(function(e,t){return(0,j.desc)((0,j.getTimestamp)(((null==(e=String(e.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"),(0,j.getTimestamp)(((null==(e=String(t.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"))})):"2"===String(s)?_.default.set(e,t.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return e.rank?1e4-e.rank:e.score})})):_.default.set(e,t)}},{key:"isCollect",get:function(){return!!this.catalogDetail.byeUrl}},{key:"hideScore",get:function(){return this.params._hideScore}},{key:"isSelf",get:function(){return y.userStore.isLogin&&!this.catalogDetail.joinUrl&&!this.catalogDetail.byeUrl}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"gridNum",get:function(){return y._.portrait(3,5)}}]),(0,p.default)((s=E).prototype,"catalogId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogId"),s.prototype),(0,p.default)(s.prototype,"catalogDetail",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogDetail"),s.prototype),(0,p.default)(s.prototype,"catalogDetailFromOSS",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogDetailFromOSS"),s.prototype),(0,p.default)(s.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"list"),s.prototype),(0,p.default)(s.prototype,"isCollect",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isCollect"),s.prototype),(0,p.default)(s.prototype,"hideScore",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"hideScore"),s.prototype),(0,p.default)(s.prototype,"isSelf",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSelf"),s.prototype),(0,p.default)(s.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isList"),s.prototype),(0,p.default)(s.prototype,"gridNum",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"gridNum"),s.prototype),s);function E(){var d;(0,o.default)(this,E);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return d=T.call.apply(T,[this].concat(s)),(0,m.default)((0,a.default)(d),"params",void 0),(0,m.default)((0,a.default)(d),"state",(0,f.observable)(S.STATE)),(0,m.default)((0,a.default)(d),"init",(0,c.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.t1=Object,e.t2={},e.next=5,d.getStorage(S.NAMESPACE);case 5:return e.t3=e.sent,e.t4=S.EXCLUDE_STATE,e.t5={_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),e.abrupt("return",d.fetchCatalogDetail());case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"save",function(){return d.saveStorage(S.NAMESPACE,S.EXCLUDE_STATE)}),(0,m.default)((0,a.default)(d),"fetchCatalogDetail",(0,c.default)(i.mark(function e(){var t=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<t.length&&void 0!==t[0]&&t[0]||!(0,j.opitimize)(d.catalogDetail,120))return e.next=4,y.discoveryStore.fetchCatalogDetail({id:d.catalogId});e.next=4;break;case 4:return d.fetchCollectionStatusQueue(),e.abrupt("return",d.catalogDetail);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"fetchCollectionStatusQueue",function(){setTimeout(function(){y.collectionStore.fetchCollectionStatusQueue(d.list.filter(function(e){return e.isCollect}).map(function(e){return e.id}))},160)}),(0,m.default)((0,a.default)(d),"fetchSubjectsQueue",function(){(0,j.confirm)("更新 "+d.list.length+" 个条目的评分?",(0,c.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],d.list.forEach(function(e){var s=e.id;t.push((0,c.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.subjectStore.fetchSubjectFromOSS(s);case 2:if(e.sent){e.next=6;break}return e.next=6,y.subjectStore.fetchSubject(s,"small");case 6:if((null==(t=y.subjectStore.subject(s))?void 0:t.rank)||(null==(t=y.subjectStore.subjectFromOSS(s))?void 0:t.rank)||""){e.next=12;break}return e.next=10,y.subjectStore.fetchSubject(s,"small");case 10:e.next=14;break;case 12:return e.next=14,(0,j.sleep)(40);case 14:d.setState({progress:{current:d.state.progress.current+1}});case 15:case"end":return e.stop()}},e)})))}),t.length&&d.setState({progress:{fetching:!0,message:"更新条目信息",current:1,total:t.length}}),e.next=5,(0,x.queue)(t,2);case 5:d.setState({progress:S.EXCLUDE_STATE.progress});case 6:case"end":return e.stop()}},e)})),"提示")}),(0,m.default)((0,a.default)(d),"toggleCollect",function(){d.catalogDetail.byeUrl?d.doErase():d.doCollect()}),(0,m.default)((0,a.default)(d),"onEdit",function(t){var e=d.list.find(function(e){return e.modify==t});e?((0,x.t)("目录详情.管理",{id:d.catalogId}),e&&d.setState({visible:!0,defaultEditItem:e})):(0,j.info)("目录不属于你或者"+g.default.login()+"状态失效了")}),(0,m.default)((0,a.default)(d),"onClose",function(){d.setState({visible:!1,defaultEditItem:null})}),(0,m.default)((0,a.default)(d),"onCopy",function(e){y.userStore.formhash?(0,j.confirm)("复制当前目录成为自己的目录, 此操作会大量消耗服务器资源, 请勿滥用, 确定?",function(){return d.doCopy(e)},"复制目录"):(0,j.info)("请先"+g.default.login())}),(0,m.default)((0,a.default)(d),"onSwitchLayout",function(t){var e=null==(e=S.LAYOUT_DS.find(function(e){return e.title===t}))?void 0:e.key;d.setState({layout:e}),d.save(),(0,x.t)("目录详情.切换布局",{layout:e})}),(0,m.default)((0,a.default)(d),"onToggleSort",function(t){var e=null==(e=S.SORT_DS.find(function(e){return e.title===t}))?void 0:e.key;d.setState({sort:e}),d.save(),(0,x.t)("目录详情.排序",{sort:e})}),(0,m.default)((0,a.default)(d),"onScroll",j.updateVisibleBottom.bind((0,a.default)(d))),(0,m.default)((0,a.default)(d),"doCollect",(0,c.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.catalogDetail.joinUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.收藏",{catalogId:d.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+h.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已收藏"),(0,v.webhookCatalog)(Object.assign({},d.catalogDetail,{id:d.catalogId}),y.userStore.userInfo),e.abrupt("return",d.fetchCatalogDetail(!0));case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"doErase",(0,c.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.catalogDetail.byeUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.取消收藏",{catalogId:d.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+h.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已取消收藏"),e.abrupt("return",d.fetchCatalogDetail(!0));case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(d),"doCopy",(t=(0,c.default)(i.mark(function e(o){var n,t,s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=y.userStore.formhash,s=d.catalogDetail,t=s.title,s=s.content,y.discoveryStore.doCatalogCreate({formhash:n,title:t||"",desc:(0,j.removeHTMLTag)(s||"")},function(e,t){var s;t&&t.responseURL&&((s=t.responseURL.match(/\d+/g))&&s[0]?((0,j.info)("创建成功, 开始复制数据..."),setTimeout((0,c.default)(i.mark(function e(){var r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s[0],e.next=3,(0,x.queue)(d.list.map(function(t,s){return function(){return new Promise(function(e){(0,j.info)(s+1+" / "+d.list.length),y.discoveryStore.doCatalogAddRelate({catalogId:r,subjectId:String(t.id).match(/\d+/)[0],formhash:n,noConsole:!0},function(){e()})})}}),1);case 3:o.push("CatalogDetail",{catalogId:r}),(0,j.info)("已完成"),(0,x.t)("目录详情.复制",{from:r});case 6:case"end":return e.stop()}},e)})),400)):(0,j.info)("目录创建失败, 请检查"+g.default.login()+"状态"))});case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),d}},"./src/screens/discovery/catalog/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/catalog/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR_DS=t.TYPE_DS=t.HOT_DS=t.FILTER_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter"),t.TYPE_DS=["不限","动画","书籍","游戏","音乐","三次元"]),s=t.YEAR_DS=["不限","近1年","近3年",2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010],o=t.HOT_DS=["不限","动画","漫画","作品","推荐","游戏","日本","目录","个人","裏","小说","轻","百合","排行榜","汉化","销量","列表","真","名作","女性","评分","葉","世界","黄油","原","自用","网站","店","实用","批评","厉害","已","计划","空间","补完","同人","收录","综合","动画短片","收集","看","排名","历年","选","冷门","少女","收藏","作画","一般","佳作","妹","组","坑","经典","世纪","完结","全","剧场版","制作","音乐","相关","剧情","记录","独立","美少女","国产","合集","史","最","适合","动画电影","含有","资源","动漫","纯爱","补","持续","施工","萌","選","值得","露点","男","要素","整理","人气","参与","媒体","部门","获奖作品","群友","版","画","完","艺术","系","榜","作","回","更新","奥斯卡","元素","不错","观看","看过","中文","精品","脚本","排行","本子","后宫","文化厅","校园","推理","评选","赏","角色","超级","广为人知","漫","统计","转生","英雄","步兵","大全","撸","年鉴","绅士","战斗","优秀","高分","物","提及","语音","成人","狂","票选","新房","作家","拿来","汇总","祭","演出","引进","光","反","手塚治虫","文化","魔法","作品集","致","读者","异","好看","門","文学","战士","高达","机器人","日美","口碑","剧场","部分","田中","泡面","三观","姉","待","迪士尼","长片","人生","美国","編","京都","补充","完整","获奖","佳","平成","选集","夏新","猎奇","名家","待补","参上","文明","健康","食肉","筛选","介绍","警告","口味","男孩子","知道","妹子","簿","神","扭曲","截止"];t.FILTER_DS=[{key:"filterType",title:"类型",data:r},{key:"filterYear",title:"时间",data:s},{key:"filterKey",title:"热词",data:o}]},"./src/screens/discovery/catalog/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.index-of.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/discovery/catalog/component/filter/ds.ts"),u=s("./src/screens/discovery/catalog/component/filter/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var r,o=t.$;return"advance"!==o.state.type?null:(r=(0,u.memoStyles)(),(0,m.jsx)(n.default,{style:r.filter,children:l.FILTER_DS.map(function(s){return(0,m.jsxs)(d.Flex,{style:r.row,children:[(0,m.jsx)(n.default,{children:(0,m.jsx)(d.Text,{size:12,bold:!0,children:s.title})}),(0,m.jsx)(d.Flex.Item,{style:i._.ml.md,children:(0,m.jsx)(d.ScrollView,Object.assign({style:r.contentContainerStyle,horizontal:!0},a.SCROLL_VIEW_RESET_PROPS,{children:s.data.map(function(e,t){return"filterKey"===s.key&&!t&&o.state.filterKey&&7<=s.data.indexOf(o.state.filterKey)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Touchable,{style:r.item,onPress:function(){return o.onFilterChange(s.key,e)},children:(0,m.jsx)(d.Text,{size:11,children:e})},e),(0,m.jsx)(d.Touchable,{style:[r.item,r.itemActive],onPress:function(){return o.onFilterChange(s.key,o.state.filterKey)},children:(0,m.jsx)(d.Text,{size:11,children:o.state.filterKey})},e)]}):(t=o.state[s.key]===e,(0,m.jsx)(d.Touchable,{style:(0,c.stl)(r.item,t&&r.itemActive),onPress:function(){return o.onFilterChange(s.key,e)},children:(0,m.jsx)(d.Text,{size:11,children:e})},e))})}))})]},s.key)})}))},l.COMPONENT);try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/catalog/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/catalog/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{filter:{paddingVertical:r._.sm},row:{paddingVertical:2,paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind},contentContainerStyle:{paddingVertical:r._.r(4)},item:{paddingVertical:r._.r(4),paddingHorizontal:r._.r(12),borderRadius:r._.r(12),overflow:"hidden"},itemActive:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2)}}})},"./src/screens/discovery/catalog/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"目录.跳转"}},"./src/screens/discovery/catalog/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/catalog/component/filter/index.tsx")),l=r(s("./src/screens/discovery/catalog/component/pagination/index.tsx")),u=s("./src/screens/discovery/catalog/component/list/ds.ts"),m=s("./src/screens/discovery/catalog/component/list/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)(function(e,t){var s=t.$;return(0,p.jsxs)(n.ScrollView,{contentContainerStyle:i._.mb.md,scrollToTop:!0,children:[!s.state.fixedFilter&&(0,p.jsx)(a.default,{}),s.isLimit?(0,p.jsxs)(n.Flex,{style:m.styles.empty,direction:"column",justify:"center",children:[(0,p.jsx)(n.Mesume,{size:80}),(0,p.jsx)(n.Text,{style:[m.styles.text,i._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"此功能仅对正常注册用户开放"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.default,{style:m.styles.container,children:s.state.show&&(s.catalog._loaded&&!s.catalog.list.length?(0,p.jsxs)(n.Flex,{style:m.styles.empty,direction:"column",justify:"center",children:[(0,p.jsx)(n.Mesume,{size:80}),(0,p.jsx)(n.Text,{style:[m.styles.text,i._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"到底了"})]}):s.catalog.list.map(function(e,t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.ItemCatalog,Object.assign({event:u.EVENT},e,{filter:"不限"===s.state.filterKey?"":s.state.filterKey}),e.id),1===t&&(0,p.jsx)(n.Heatmap,{id:"目录.跳转"})]})}))}),!s.state.fixedPagination&&s.state.show&&(0,p.jsx)(l.default,{})]})]})},u.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/catalog/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/catalog/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{minHeight:.64*s._.window.height,marginBottom:s._.md},empty:{minHeight:.5*s._.window.height},text:Object.assign({maxWidth:s._.window.contentWidth-2*s._.md},s._.fontSize14)})},"./src/screens/discovery/catalog/component/more/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"More")},"./src/screens/discovery/catalog/component/more/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/catalog/component/more/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.$,s=(e=(null==t?void 0:t.state)||{}).fixedFilter,e=e.fixedPagination;return(0,i.jsx)(o.ToolBar.Popover,{data:["选项 · "+(s?"锁定上方":"浮动"),"分页 · "+(e?"锁定下方":"浮动")],icon:"md-more-vert",iconColor:n._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?t.onToggleFixed("fixedFilter"):e.includes("分页")?t.onToggleFixed("fixedPagination"):void 0}})},d.COMPONENT);try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/more/index.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/catalog/component/more/index.tsx#more"})}catch(e){}},"./src/screens/discovery/catalog/component/pagination/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEAT_MAPS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Pagination"),t.HEAT_MAPS={onPrev:"目录.上一页",onNext:"目录.下一页",search:"目录.页码跳转"}},"./src/screens/discovery/catalog/component/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/catalog/component/pagination/ds.ts"),d=s("./src/screens/discovery/catalog/component/pagination/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,i.jsx)(o.Pagination,{style:d.styles.pagination,input:t.state.ipt,heatmaps:n.HEAT_MAPS,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})},n.COMPONENT);try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/catalog/component/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/catalog/component/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({pagination:{marginTop:s._.xs,marginBottom:s._.ios(s._.md+s._.sm,s._.md)}})},"./src/screens/discovery/catalog/component/type/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Type"),t.TYPE_DS=["高级","最新","热门"]},"./src/screens/discovery/catalog/component/type/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r,o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/react/index.js")),o(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),a=o(s("./src/screens/discovery/catalog/component/more/index.tsx")),l=s("./src/screens/discovery/catalog/component/type/ds.ts"),u=s("./src/screens/discovery/catalog/component/type/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.ob)(function(e){(e=e.$)&&(r=e.state.type);var t="collect"===(t=void 0===(null==e?void 0:e.state.type)?r:null==e?void 0:e.state.type)?1:"advance"===t?0:2;return(0,m.jsxs)(d.Flex,{style:i._.mr.md,children:[(0,m.jsxs)(n.default,{children:[(0,m.jsx)(d.SegmentedControl,{style:u.styles.segment,size:11,values:l.TYPE_DS,selectedIndex:t,onValueChange:(null==e?void 0:e.onToggleType)||function(){}},String(null==e||null==(t=e.state)?void 0:t._loaded)),(0,m.jsx)(d.Heatmap,{id:"目录.切换类型"})]}),(0,m.jsx)(a.default,{$:e},String(null==e||null==(t=e.state)?void 0:t._loaded))]})},l.COMPONENT);try{r.displayName="type",r.__docgenInfo={description:"",displayName:"type",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/component/type/index.tsx#type"]={docgenInfo:r.__docgenInfo,name:"type",path:"src/screens/discovery/catalog/component/type/index.tsx#type"})}catch(e){}},"./src/screens/discovery/catalog/component/type/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(144),height:s._.r(28),marginRight:s._.xs}})},"./src/screens/discovery/catalog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;t.COMPONENT="Catalog",t.NAMESPACE="ScreenCatalog";s=t.EXCLUDE_STATE={loadedCatalog:!1};t.STATE=Object.assign({type:"advance",page:1,show:!0,ipt:"1",filterType:"不限",filterYear:"近1年",filterKey:"不限",fixedFilter:!1,fixedPagination:!1},s,{_loaded:!1})},"./src/screens/discovery/catalog/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/catalog/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/catalog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/catalog/component/type/index.tsx")),r=s("./src/screens/discovery/catalog/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=t.$;return(0,i.jsx)(o.Header,{title:"目录",headerTitleAlign:"left",hm:["discovery/catalog","Catalog"],headerRight:function(){return(0,i.jsx)(d.default,{$:s})}})},r.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/catalog/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/catalog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/catalog/component/filter/index.tsx")),c=r(s("./src/screens/discovery/catalog/component/list/index.tsx")),a=r(s("./src/screens/discovery/catalog/component/pagination/index.tsx")),l=r(s("./src/screens/discovery/catalog/header/index.tsx")),r=r(s("./src/screens/discovery/catalog/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-catalog",children:[(0,u.jsx)(l.default,{}),(0,u.jsxs)(o.Page,{loaded:s.state._loaded,children:[s.state.fixedFilter&&(0,u.jsx)(i.default,{}),(0,u.jsx)(c.default,{}),s.state.fixedPagination&&(0,u.jsx)(a.default,{})]})]})})});try{catalog.displayName="catalog",catalog.__docgenInfo={description:"",displayName:"catalog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/index.tsx#catalog"]={docgenInfo:catalog.__docgenInfo,name:"catalog",path:"src/screens/discovery/catalog/index.tsx#catalog"})}catch(e){}},"./src/screens/discovery/catalog/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),c=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),n=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),b=s("./src/utils/protobuf/index.web.ts"),r=r(s("./src/utils/store/index.ts")),v=s("./src/constants/index.ts"),h=s("./src/screens/discovery/catalog/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var S;t.default=(s=r.default,(0,n.default)(O,s),S=g(O),(0,o.default)(O,[{key:"catalogAdvance",get:function(){return this.state.loadedCatalog?(0,b.get)("catalog").map(function(e){var t=e.r>=Math.max(e.a||0,e.b||0,e.m||0,e.g||0)?"real":e.g>=Math.max(e.a||0,e.b||0,e.m||0)?"game":e.m>=Math.max(e.a||0,e.b||0)?"music":e.b>=(e.a||0)?"book":"anime";return{id:e.i,title:e.t,last:e.d,anime:e.a||0,book:e.b||0,music:e.m||0,game:e.g||0,real:e.r||0,_type:t}}):[]}},{key:"catalogAdvanceFilter",get:function(){var t,e,s,r=this.state,o=r.page,n=r.filterType,d=r.filterYear,i=r.filterKey,r=this.catalogAdvance;n&&"不限"!==n&&(r=r.filter(function(e){return v.MODEL_SUBJECT_TYPE.getTitle(e._type)===n})),d&&"不限"!==d&&(r="近1年"===d?(e=(0,j.getTimestamp)(),t=Number(""+(Number((0,j.date)("Y",e))-1)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=t})):"近3年"===d?(e=(0,j.getTimestamp)(),s=Number(""+(Number((0,j.date)("Y",e))-3)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=s})):r.filter(function(e){return e.last.includes(d)}));return{list:(r=i&&"不限"!==i?r.filter(function(e){return e.title.includes(i)}):r).slice(10*(o-1),10*o),_loaded:!0}}},{key:"catalog",get:function(){var e;return"advance"===this.state.type?this.catalogAdvanceFilter:(e=y.discoveryStore.catalog(this.state.type,this.state.page),y.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,j.x18s)(e.title)})}):e)}},{key:"isLimit",get:function(){var e;return!v.STORYBOOK&&"advance"===this.state.type&&(!y.userStore.isLogin||!(e=y.userStore.userInfo.id)||e==v.APP_USERID_TOURIST||e==v.APP_USERID_IOS_AUTH||void 0)}}]),(0,p.default)((t=O).prototype,"catalogAdvance",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogAdvance"),t.prototype),(0,p.default)(t.prototype,"catalogAdvanceFilter",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogAdvanceFilter"),t.prototype),(0,p.default)(t.prototype,"catalog",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalog"),t.prototype),(0,p.default)(t.prototype,"isLimit",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),t);function O(){var n;(0,c.default)(this,O);for(var t,s,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=S.call.apply(S,[this].concat(r)),(0,m.default)((0,a.default)(n),"state",(0,f.observable)(h.STATE)),(0,m.default)((0,a.default)(n),"init",(0,i.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(h.NAMESPACE);case 2:return t=e.sent,n.setState(Object.assign({},t,h.EXCLUDE_STATE,{loadedCatalog:!(null==(t=(0,b.get)("catalog"))||!t.length),_loaded:!0})),e.abrupt("return",n.fetchCatalog());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(n),"fetchCatalog",(0,i.default)(d.mark(function e(){var t,s,r,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.state,t=r.type,s=r.page,r=r.loadedCatalog,"advance"!==t){e.next=9;break}if(r){e.next=6;break}return e.next=5,(0,b.decode)("catalog");case 5:n.setState({loadedCatalog:!0});case 6:o=n.catalogAdvanceFilter.list,e.next=12;break;case 9:return e.next=11,y.discoveryStore.fetchCatalog({type:t,page:s});case 11:o=e.sent;case 12:return(0,_.queue)(o.map(function(e){return function(){return n.fetchCatalogDetail(e.id)}})),e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(n),"fetchCatalogDetail",(t=(0,i.default)(d.mark(function e(t){var s,r,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:if(null!=(r=y.discoveryStore.catalogDetailFromOSS(t))&&r._loaded&&null!=r&&null!=(o=r.list)&&o.length)return e.abrupt("return",!0);e.next=5;break;case 5:if(null!=r&&r._loaded){e.next=11;break}return e.next=8,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 8:if(e.sent)return e.abrupt("return",!0);e.next=11;break;case 11:return e.next=13,y.discoveryStore.fetchCatalogDetail({id:t});case 13:return null!=(o=e.sent)&&null!=(s=o.list)&&s.length&&n.updateCatalogDetail(Object.assign({},o,{id:t})),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,a.default)(n),"updateCatalogDetail",function(l){setTimeout(function(){var e=l.id,t=l.title,s=l.info,r=l.content,o=l.avatar,n=l.nickname,d=l.userId,i=l.time,c=l.collect,a=l.list,s=(0,j.HTMLDecode)((0,j.removeHTMLTag)(s||r));(0,x.update)("catalog_"+e,{id:e,title:t,info:s?s.slice(0,40):"",avatar:o,nickname:n,userId:d,time:i,collect:c,list:a.filter(function(e,t){return t<3}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}}),total:a.length})},2e3)}),(0,m.default)((0,a.default)(n),"onShow",function(){setTimeout(function(){n.setState({show:!0}),n.setStorage(h.NAMESPACE)},400)}),(0,m.default)((0,a.default)(n),"onToggleType",(s=(0,i.default)(d.mark(function e(t){var s;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.state.type,t){if("最新"===t&&""===s)return e.abrupt("return");e.next=4}else e.next=8;break;case 4:if("热门"===t&&"collect"===s)return e.abrupt("return");e.next=6;break;case 6:if("高级"===t&&"advance"===s)return e.abrupt("return");e.next=8;break;case 8:return(0,_.t)("目录.切换类型",{type:t}),n.setState({type:"热门"===t?"collect":"高级"===t?"advance":"",page:1,ipt:"1",show:!1}),e.next=12,n.fetchCatalog();case 12:n.setState({show:!0}),n.setStorage(h.NAMESPACE);case 14:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,a.default)(n),"onPrev",(0,i.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=n.state.page))return e.abrupt("return");e.next=3;break;case 3:(0,_.t)("目录.上一页",{page:t-1}),n.setState({page:t-1,show:!1,ipt:String(t-1)}),n.fetchCatalog(),n.onShow();case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(n),"onNext",(0,i.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.page,(0,_.t)("目录.下一页",{page:t+1}),n.setState({page:t+1,show:!1,ipt:String(t+1)}),n.fetchCatalog(),n.onShow();case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,a.default)(n),"onChange",function(e){e=e.nativeEvent.text;n.setState({ipt:e})}),(0,m.default)((0,a.default)(n),"onFilterChange",function(e,t){n.setState((0,m.default)({page:1,show:!1,ipt:"1"},e,t)),n.onShow(),n.fetchCatalog(),(0,_.t)("目录.高级筛选",{value:e+"|"+t})}),(0,m.default)((0,a.default)(n),"onToggleFixed",function(e){n.setState((0,m.default)({},e,!n.state[e])),n.setStorage(h.NAMESPACE),(0,_.t)("目录.切换锁定",{value:e+"|"+!n.state[e]})}),(0,m.default)((0,a.default)(n),"doSearch",function(){var e=n.state.ipt,e=""===e?1:parseInt(e);e<1?(0,j.info)("请输入正确页码"):((0,_.t)("目录.页码跳转",{page:e}),n.setState({page:e,show:!1,ipt:String(e)}),n.fetchCatalog(),setTimeout(function(){n.setState({show:!0}),n.setStorage(h.NAMESPACE)},400))}),n}},"./src/screens/discovery/channel/component/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Blog")},"./src/screens/discovery/channel/component/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/channel/component/blog/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=void 0===(t=s.channel.blog)?[]:t;return(0,c.jsxs)(o.default,{style:d._.mt.lg,children:[(0,c.jsx)(n.SectionTitle,{style:d._.container.wind,children:"最近日志"}),(0,c.jsx)(o.default,{style:d._.mt.sm,children:t.map(function(e){return(0,c.jsx)(n.ItemBlog,Object.assign({},e,{event:{id:"频道.跳转",data:{from:"blog",type:s.type}}}),e.id)})})]})},i.COMPONENT);try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/channel/component/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/channel/component/discuss/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Discuss")},"./src/screens/discovery/channel/component/discuss/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),o=s("./src/screens/discovery/channel/component/discuss/ds.ts"),u=s("./src/screens/discovery/channel/component/discuss/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,o=(0,u.memoStyles)(),t=void 0===(t=s.channel.discuss)?[]:t;return(0,m.jsxs)(n.default,{style:c._.mt.lg,children:[(0,m.jsx)(i.SectionTitle,{style:c._.container.wind,children:"最新讨论"}),(0,m.jsx)(n.default,{style:c._.mt.sm,children:t.map(function(e){return(0,m.jsx)(d.Touchable,{style:o.item,animate:!0,onPress:function(){(0,l.t)("频道.跳转",{to:"Topic",from:"discuss",type:s.type,topicId:e.id}),r.push("Topic",{topicId:e.id,_title:e.title,_replies:e.replies,_userName:e.userName,_userId:e.userId,_time:e.time})},children:(0,m.jsx)(n.default,{style:o.wrap,children:(0,m.jsxs)(d.Flex,{style:o.content,children:[(0,m.jsxs)(d.Flex.Item,{children:[(0,m.jsxs)(d.Text,{size:15,bold:!0,children:[e.title," ","+0"!==e.replies&&(0,m.jsx)(d.Text,{type:"main",size:12,lineHeight:14,bold:!0,children:e.replies})]}),(0,m.jsx)(d.Katakana.Provider,{style:c._.mt.sm,itemStyle:o.katakanas,size:12,children:(0,m.jsx)(d.Katakana,{type:"sub",size:12,children:(0,a.findSubjectCn)(e.subjectName)})})]}),(0,m.jsxs)(n.default,{style:c._.ml.md,children:[(0,m.jsx)(d.Text,{size:12,align:"right",bold:!0,children:e.userName}),(0,m.jsx)(d.Text,{style:c._.mt.xs,type:"sub",size:12,align:"right",children:e.time})]})]})})},e.id)})})]})},o.COMPONENT);try{discuss.displayName="discuss",discuss.__docgenInfo={description:"",displayName:"discuss",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/discuss/index.tsx#discuss"]={docgenInfo:discuss.__docgenInfo,name:"discuss",path:"src/screens/discovery/channel/component/discuss/index.tsx#discuss"})}catch(e){}},"./src/screens/discovery/channel/component/discuss/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind},wrap:{paddingRight:r._.wind-r._._wind},content:{paddingVertical:r._.md,paddingRight:r._._wind},katakanas:{marginTop:-4}}})},"./src/screens/discovery/channel/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/channel/component/friends/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Friends")},"./src/screens/discovery/channel/component/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/components/cover/utils.ts"),c=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/screens/discovery/channel/component/rank/ds.ts"),o=s("./src/screens/discovery/channel/component/friends/ds.ts"),p=s("./src/screens/discovery/channel/component/friends/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=t.$,o=t.navigation;return(t=void 0===(t=r.channel.friends)?[]:t).length?(s=(0,p.memoStyles)(),(0,f.jsxs)(n.default,{style:a._.mt.lg,children:[(0,f.jsx)(c.SectionTitle,{style:a._.container.wind,children:"好友最近关注"}),(0,f.jsx)(d.Flex,{style:s.container,wrap:"wrap",children:t.map(function(e,t){return(0,f.jsx)(n.default,{style:(0,l.stl)(s.item,t%2!=0&&s.itemMarginLeft),children:(0,f.jsx)(d.Touchable,{animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"friends",type:r.type,subjectId:e.id}),o.push("Subject",{subjectId:e.id,_jp:e.name,_image:(0,i.getCoverSrc)(e.cover,m.COVER_WIDTH_SM),_type:r.typeCn})},children:(0,f.jsxs)(d.Flex,{align:"start",children:[(0,f.jsx)(n.default,{style:s.image,children:(0,f.jsx)(c.Cover,{src:e.cover,width:m.COVER_WIDTH_SM,height:m.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:r.typeCn})}),(0,f.jsxs)(d.Flex.Item,{style:"音乐"===r.typeCn?a._.ml.md:a._.ml.sm,children:[(0,f.jsx)(d.Katakana.Provider,{numberOfLines:2,children:(0,f.jsx)(d.Katakana,{bold:!0,numberOfLines:2,size:13,children:(0,l.findSubjectCn)(e.name,e.id)})}),(0,f.jsxs)(d.Text,{style:a._.mt.xs,size:11,numberOfLines:2,children:[(0,f.jsx)(d.Text,{size:11,type:"sub",bold:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Zone",from:"friends",type:r.type,userId:e.userId}),o.push("Zone",{userId:e.userId,_name:e.userName})},children:e.userName})," ",e.action]})]})]})})},""+e.id+e.userId)})})]})):null},o.COMPONENT);try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/discovery/channel/component/friends/index.tsx#friends"})}catch(e){}},"./src/screens/discovery/channel/component/friends/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/screens/discovery/channel/component/rank/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind,marginTop:r._.sm},item:{width:"47.5%",paddingVertical:r._.sm,marginBottom:4},itemMarginLeft:{marginLeft:"5%"},image:{width:o.COVER_WIDTH_SM}}})},"./src/screens/discovery/channel/component/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH_SM=t.COVER_WIDTH=t.COVER_HEIGHT_SM=t.COVER_HEIGHT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/discovery/channel/component/ds.ts"),o=(t.COMPONENT=(0,o.rc)(s.COMPONENT,"Rank"),t.COVER_WIDTH=1.2*n.IMG_WIDTH,t.COVER_HEIGHT=1.2*n.IMG_HEIGHT,t.COVER_WIDTH_SM=r._.r(72));t.COVER_HEIGHT_SM=1.28*o},"./src/screens/discovery/channel/component/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),c=s("./src/components/cover/utils.ts"),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/screens/discovery/channel/component/rank/ds.ts"),f=s("./src/screens/discovery/channel/component/rank/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var r=t.$,o=t.navigation,n=(0,f.memoStyles)(),t=r.channel,s=void 0===(s=t.rankTop)?[]:s,t=void 0===(t=t.rank)?[]:t;return(0,y.jsxs)(d.default,{style:l._.mt.md,children:[(0,y.jsx)(a.SectionTitle,{style:l._.container.wind,children:"关注榜"}),(0,y.jsxs)(d.default,{style:l._.mt.sm,children:[s.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,y.jsx)(i.Touchable,{style:n.itemLg,animate:!0,onPress:function(){(0,m.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),o.push("Subject",{subjectId:e.id,_jp:e.name,_image:(0,c.getCoverSrc)(e.cover,p.COVER_WIDTH),_type:r.typeCn})},children:(0,y.jsxs)(i.Flex,{align:"start",children:[(0,y.jsx)(a.Cover,{src:e.cover,width:p.COVER_WIDTH,height:p.COVER_HEIGHT,radius:!0,shadow:!0,type:r.typeCn}),(0,y.jsx)(i.Flex.Item,{style:l._.ml.md,children:(0,y.jsxs)(i.Flex,{style:l._.mt.xs,align:"start",children:[(0,y.jsx)(i.Flex.Item,{children:(0,y.jsxs)(i.Flex,{style:n.content,direction:"column",justify:"between",align:"start",children:[(0,y.jsxs)(d.default,{children:[(0,y.jsx)(i.Katakana.Provider,{size:15,lineHeight:l._.device(15,18),numberOfLines:2,children:(0,y.jsx)(i.Katakana,{size:15,lineHeight:l._.device(15,18),bold:!0,numberOfLines:2,children:(0,u.findSubjectCn)((0,u.HTMLDecode)(e.name),e.id)})}),(0,y.jsx)(i.Text,{style:l._.mt.xs,size:13,type:"sub",children:e.follow})]}),(0,y.jsx)(d.default,{children:!!s&&(0,y.jsx)(a.Tag,{value:s})})]})}),(0,y.jsx)(i.Text,{style:l._.ml.md,type:0===t?"danger":"main",size:15,bold:!0,children:t+1})]})})]})},e.id)}),(0,y.jsx)(i.Flex,{style:n.container,wrap:"wrap",children:t.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,y.jsx)(d.default,{style:(0,u.stl)(n.item,t%2!=0&&n.itemMarginLeft),children:(0,y.jsx)(i.Touchable,{animate:!0,onPress:function(){(0,m.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),o.push("Subject",{subjectId:e.id,_image:(0,c.getCoverSrc)(e.cover,p.COVER_WIDTH_SM),_jp:e.name,_type:r.typeCn})},children:(0,y.jsxs)(i.Flex,{align:"start",children:[(0,y.jsx)(a.Cover,{src:e.cover,width:p.COVER_WIDTH_SM,height:p.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:r.typeCn}),(0,y.jsx)(i.Flex.Item,{style:"音乐"===r.typeCn?l._.ml.md:l._.ml.sm,children:(0,y.jsxs)(i.Flex,{align:"start",children:[(0,y.jsx)(i.Flex.Item,{children:(0,y.jsxs)(i.Flex,{style:n.contentSm,direction:"column",justify:"between",align:"start",children:[(0,y.jsxs)(d.default,{children:[(0,y.jsx)(i.Katakana.Provider,{size:12,lineHeight:l._.device(12,18),numberOfLines:3,children:(0,y.jsx)(i.Katakana,{size:12,lineHeight:l._.device(12,18),bold:!0,numberOfLines:3,children:(0,u.findSubjectCn)((0,u.HTMLDecode)(e.name),e.id)})}),(0,y.jsx)(i.Text,{style:l._.mt.xxs,size:11,type:"sub",children:e.follow})]}),(0,y.jsx)(d.default,{children:!!s&&(0,y.jsx)(a.Tag,{value:s})})]})}),(0,y.jsx)(i.Text,{style:l._.ml.xs,type:"warning",size:13,bold:!0,children:t+4})]})})]})})},e.id)})})]})]})},p.COMPONENT);try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/channel/component/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/channel/component/rank/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/screens/discovery/channel/component/rank/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind},itemLg:{width:"100%",paddingVertical:r._.sm,paddingHorizontal:r._.wind,marginBottom:4},image:{width:o.COVER_WIDTH},item:{width:"48%",paddingVertical:r._.sm,marginBottom:4},content:{height:o.COVER_HEIGHT-2*r._.xs},imageSm:{width:o.COVER_WIDTH_SM},contentSm:{height:o.COVER_HEIGHT_SM},itemMarginLeft:{marginLeft:"4%"}}})},"./src/screens/discovery/channel/component/tags/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tags")},"./src/screens/discovery/channel/component/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),o=s("./src/screens/discovery/channel/component/tags/ds.ts"),l=s("./src/screens/discovery/channel/component/tags/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,o=(0,l.memoStyles)(),t=void 0===(t=s.channel.tags)?[]:t;return(0,u.jsxs)(n.default,{style:c._.mt.lg,children:[(0,u.jsx)(i.SectionTitle,{style:c._.container.wind,children:"标签"}),(0,u.jsx)(d.Flex,{style:o.container,wrap:"wrap",children:t.map(function(e){return(0,u.jsx)(d.Touchable,{style:o.tag,animate:!0,scale:.85,onPress:function(){(0,a.t)("频道.跳转",{to:"Tag",from:"tags",type:s.type,tag:e}),r.push("Tag",{type:s.type,tag:e})},children:(0,u.jsx)(d.Text,{type:"desc",size:13,children:e})},e)})})]})},o.COMPONENT);try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/component/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/channel/component/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/channel/component/tags/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.wind,marginTop:12},tag:{paddingVertical:4,paddingHorizontal:8,marginRight:8,marginBottom:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:1,borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs}}})},"./src/screens/discovery/channel/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.COMPONENT=void 0;t.COMPONENT="Channel",t.STATE={type:"",ota:{}}},"./src/screens/discovery/channel/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/channel/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/channel/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),c=s("./src/constants/index.ts"),a=s("./src/screens/discovery/channel/header/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,l.jsx)(n.Header,{title:s.typeCn+"频道",alias:"频道",hm:[s.url,"Channel"],headerRight:function(){return(0,l.jsx)(n.Header.Popover,{name:"md-menu",data:[].concat((0,o.default)(c.SUBJECT_TYPE.map(function(e){return e.title})),["浏览器查看"]),onSelect:function(e){(0,i.t)("频道.右上角菜单",{key:e}),"浏览器查看"===e?(0,d.open)(s.url):setTimeout(function(){r.setOptions({title:e+"频道"}),s.toggleType(c.MODEL_SUBJECT_TYPE.getLabel(e))},40)},children:(0,l.jsx)(n.Heatmap,{id:"频道.右上角菜单"})})}})},a.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/channel/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/channel/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/channel/component/blog/index.tsx")),a=r(s("./src/screens/discovery/channel/component/discuss/index.tsx")),l=r(s("./src/screens/discovery/channel/component/friends/index.tsx")),u=r(s("./src/screens/discovery/channel/component/rank/index.tsx")),m=r(s("./src/screens/discovery/channel/component/tags/index.tsx")),p=r(s("./src/screens/discovery/channel/header/index.tsx")),r=r(s("./src/screens/discovery/channel/store.ts")),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,f.jsxs)(o.Component,{id:"screen-channel",children:[(0,f.jsx)(p.default,{}),(0,f.jsx)(o.Page,{loaded:s.channel._loaded,children:(0,f.jsxs)(o.ScrollView,{contentContainerStyle:n._.container.bottom,scrollToTop:!0,children:[(0,f.jsx)(u.default,{}),(0,f.jsx)(l.default,{}),(0,f.jsx)(c.default,{}),(0,f.jsx)(a.default,{}),(0,f.jsx)(m.default,{})]})})]})})});try{channel.displayName="channel",channel.__docgenInfo={description:"",displayName:"channel",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/index.tsx#channel"]={docgenInfo:channel.__docgenInfo,name:"channel",path:"src/screens/discovery/channel/index.tsx#channel"})}catch(e){}},"./src/screens/discovery/channel/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/constants/index.ts"),b=s("./src/screens/discovery/channel/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var h,g=[];t.default=(s=r.default,(0,a.default)(S,s),h=v(S),(0,i.default)(S,[{key:"type",get:function(){return this.state.type||this.params.type||"anime"}},{key:"typeCn",get:function(){return x.MODEL_SUBJECT_TYPE.getTitle(this.type)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"channel",get:function(){var e=y.discoveryStore.channel(this.type);return e._loaded?e:this.ota||{_loaded:0}}},{key:"url",get:function(){return(0,x.HTML_CHANNEL)(this.type)}},{key:"userCollectionsMap",get:function(){return y.collectionStore.userCollectionsMap}},{key:"thirdPartyKey",get:function(){return"channel_"+this.type}}]),(0,p.default)((t=S).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,p.default)(t.prototype,"typeCn",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"typeCn"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"channel",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"channel"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"userCollectionsMap",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userCollectionsMap"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function S(){var r;(0,d.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=h.call.apply(h,[this].concat(t)),(0,m.default)((0,c.default)(r),"params",void 0),(0,m.default)((0,c.default)(r),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,c.default)(r),"init",function(){r.setState({type:r.type}),r.fetchChannel()}),(0,m.default)((0,c.default)(r),"fetchChannel",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,y.discoveryStore.fetchChannel({type:r.type});case 3:return(t=e.sent)&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,86400<=(0,j.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"fetchThirdParty",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.channel._loaded){e.next=8;break}return e.next=3,(0,_.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,m.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,m.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"updateThirdParty",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(r.thirdPartyKey,(0,j.omit)(r.channel,["friends","_loaded"])),g.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"toggleType",function(e){r.setState({type:e}),r.fetchChannel()}),r}},"./src/screens/discovery/character/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/character/component/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,d.jsx)(o.Heatmap,{right:n._.wind+62,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"收藏的人物.标签页切换",transparent:!0})})},"./src/screens/discovery/character/component/item-recents/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemRecents")},"./src/screens/discovery/character/component/item-recents/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/components/cover/utils.ts"),b=s("./src/screens/_/index.ts"),v=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),g=s("./src/utils/fetch/index.ts"),S=s("./src/constants/index.ts"),o=s("./src/screens/discovery/character/component/item-recents/ds.ts"),O=s("./src/screens/discovery/character/component/item-recents/styles.ts"),T=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){function s(){(0,g.t)("收藏的人物.跳转",{to:"Subject",subjectId:o}),p.push("Subject",{subjectId:o,_jp:i,_cn:d,_image:(0,x.getCoverSrc)(n,S.IMG_WIDTH_LG),_type:y})}var r=e.index,o=e.id,n=e.cover,d=e.name,i=e.nameJP,c=e.type,a=e.info,l=e.star,u=e.starInfo,m=void 0===(e=e.actors)?[]:e,p=t.navigation,f=(0,O.memoStyles)(),y=S.MODEL_SUBJECT_TYPE.getTitle(c),e=(0,h.cnjp)(d,i),t=(0,h.cnjp)(i,d);return(0,T.jsxs)(j.default,{style:f.container,children:[(0,T.jsxs)(_.Flex,{align:"start",style:f.wrap,children:[(0,T.jsx)(j.default,{style:f.imgContainer,children:!!n&&(0,T.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,T.jsx)(_.Cover,{src:n,width:S.IMG_WIDTH_LG,height:S.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:y})})}),(0,T.jsxs)(_.Flex.Item,{children:[(0,T.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,T.jsxs)(_.Flex,{direction:"column",justify:"between",align:"start",children:[(0,T.jsxs)(j.default,{children:[(0,T.jsxs)(_.Flex,{style:v._.container.block,align:"start",children:[(0,T.jsx)(_.Flex.Item,{children:(0,T.jsxs)(_.Katakana.Provider,{numberOfLines:3,children:[(0,T.jsx)(_.Katakana,{bold:!0,children:e}),!!t&&t!==e&&(0,T.jsxs)(_.Katakana,{type:"sub",size:11,lineHeight:14,children:[" ",t]})]})}),(0,T.jsxs)(_.Flex,{children:[(0,h.x18)(o,d||i)&&(0,T.jsx)(b.Tag,{style:v._.ml.sm,value:"NSFW"}),!!c&&(0,T.jsx)(b.Tag,{style:v._.ml.sm,value:y})]})]}),!!a&&(0,T.jsx)(_.Text,{style:v._.mt.sm,size:12,lineHeight:14,numberOfLines:4,children:(0,h.HTMLDecode)(a)})]}),!!l&&!!u&&(0,T.jsxs)(_.Flex,{style:v._.mt.sm,children:[!!l&&(0,T.jsx)(b.Stars,{style:v._.mr.xs,value:l}),(0,T.jsx)(_.Text,{style:v._.mr.sm,type:"sub",size:11,children:u})]})]})}),(0,T.jsx)(_.Flex,{style:v._.mt.sm,wrap:"wrap",children:m.map(function(e){return(0,T.jsxs)(_.Flex,{style:(0,h.stl)(1<m.length&&f.actors,v._.mt.md),children:[(0,T.jsx)(_.Touchable,{animate:!0,onPress:function(){(0,g.t)("收藏的人物.跳转",{to:"Mono",monoId:e.id}),p.push("Mono",{monoId:e.id})},children:(0,T.jsx)(_.Avatar,{src:e.avatar,size:32,radius:!0})}),(0,T.jsxs)(_.Flex.Item,{style:v._.ml.sm,children:[(0,T.jsx)(_.Text,{size:12,numberOfLines:1,bold:!0,children:e.name}),(0,T.jsx)(_.Text,{size:10,lineHeight:12,type:"sub",numberOfLines:1,children:e.info})]})]},e.id)})})]})]}),!r&&(0,T.jsx)(_.Heatmap,{id:"收藏的人物.跳转"})]})},o.COMPONENT)},"./src/screens/discovery/character/component/item-recents/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{backgroundColor:r._.colorPlain},imgContainer:{width:o.IMG_WIDTH_LG,marginRight:r._.md},wrap:{paddingVertical:r._.md},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},actors:{width:"50%"}}})},"./src/screens/discovery/character/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/character/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),o=s("./src/screens/discovery/character/component/item/ds.ts"),u=s("./src/screens/discovery/character/component/item/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.index,r=e.id,o=e.avatar,e=e.name,n=t.navigation,t=(0,u.memoStyles)();return(0,m.jsx)(d.default,{style:(0,a.stl)(t.item,s%c._.portrait(5,8)==0&&t.left),children:(0,m.jsxs)(i.Touchable,{animate:!0,scale:.9,onPress:function(){(0,l.t)("收藏的人物.跳转",{to:"Mono",monoId:r}),n.push("Mono",{monoId:r})},children:[(0,m.jsx)(i.Image,{size:t.item.width,src:o,radius:!0,shadow:!0}),(0,m.jsx)(i.Katakana.Provider,{style:c._.mt.sm,size:10,numberOfLines:2,align:"center",children:(0,m.jsx)(i.Katakana,{size:10,numberOfLines:2,align:"center",bold:!0,children:(0,a.HTMLDecode)(e)})})]})})},o.COMPONENT)},"./src/screens/discovery/character/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.portrait(5,8),e=r._.grid(e);return{item:{width:e.width,marginTop:r._.md,marginLeft:e.marginLeft},left:{marginLeft:0}}})},"./src/screens/discovery/character/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/character/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),c=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),l=s("./src/utils/app/index.ts"),o=s("./src/utils/decorators/index.ts"),u=s("./src/utils/dev/index.ts"),m=s("./src/utils/hooks/index.ts"),p=s("./src/screens/discovery/character/component/list/utils.tsx"),f=s("./src/screens/discovery/character/component/list/ds.ts"),y=s("./src/screens/discovery/character/component/list/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}t.default=(0,o.c)(function(e,t){var o=e.id,n=t.$,d=((0,u.r)(f.COMPONENT),(0,r.useCallback)(function(){return n.fetchList(o,!0)},[])),i=(0,r.useCallback)(function(){return n.fetchList(o)},[]);return(0,m.useObserver)(function(){var e,t,s,r=n.list(o);return r._loaded?(e=(0,y.memoStyles)(),s=(t="recents"===o)?void 0:a._.portrait(5,8),(0,j.jsx)(c.ListView,{keyExtractor:l.keyExtractor,contentContainerStyle:e.contentContainerStyle,numColumns:s,data:r,renderItem:t?p.renderItemRecents:p.renderItem,onHeaderRefresh:d,onFooterRefresh:i})):(0,j.jsx)(c.Loading,{})})})},"./src/screens/discovery/character/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom}}})},"./src/screens/discovery/character/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,t.renderItemRecents=c,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/character/component/item/index.tsx"))),n=r(s("./src/screens/discovery/character/component/item-recents/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,d.jsx)(o.default,{index:e,id:t.id,avatar:t.avatar,name:t.name})}function c(e){var t=e.item,e=e.index;return(0,d.jsx)(n.default,{index:e,id:t.id,cover:t.cover,name:t.item,nameJP:t.nameJP,type:t.type,info:t.info,star:t.star,starInfo:t.starInfo,actors:t.actors})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/character/component/list/utils.tsx#renderItem"})}catch(e){}try{c.displayName="renderItemRecents",c.__docgenInfo={description:"",displayName:"renderItemRecents",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/component/list/utils.tsx#renderItemRecents"]={docgenInfo:c.__docgenInfo,name:"renderItemRecents",path:"src/screens/discovery/character/component/list/utils.tsx#renderItemRecents"})}catch(e){}},"./src/screens/discovery/character/component/tabs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tabs")},"./src/screens/discovery/character/component/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/character/component/tabs/utils.tsx"),i=s("./src/screens/discovery/character/component/tabs/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,c.jsx)(o.TabsV2,{style:n._.mt._sm,routes:t.tabs,page:t.state.page,backgroundColor:n._.colorPlain,renderItem:d.renderItem,onChange:t.onChange},n._.orientation)},i.COMPONENT);try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/component/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/character/component/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/character/component/tabs/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/character/component/list/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return(0,n.jsx)(o.default,{id:e.key})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/component/tabs/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/character/component/tabs/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/character/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_SELF=t.TABS=t.STATE=t.NAMESPACE=t.COMPONENT=void 0;t.COMPONENT="Character",t.NAMESPACE="ScreenCharacter",t.STATE={page:0,_loaded:!0};s=t.TABS=[{title:"虚拟角色",key:"characters"},{title:"现实人物",key:"persons"}];t.TABS_SELF=[{title:"人物近况",key:"recents"}].concat(s)},"./src/screens/discovery/character/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/character/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/character/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/screens/discovery/character/header/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,c.jsx)(o.Header,{title:"用户人物",hm:[s.url,"Character"],headerRight:function(){return(0,c.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("收藏的人物.右上角菜单",{key:e}),(0,n.open)(s.url))},children:(0,c.jsx)(o.Heatmap,{id:"收藏的人物.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/character/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/character/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/character/component/heatmaps/index.tsx")),c=r(s("./src/screens/discovery/character/component/tabs/index.tsx")),a=r(s("./src/screens/discovery/character/header/index.tsx")),r=r(s("./src/screens/discovery/character/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-character",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(o.Page,{children:!!s.state._loaded&&(0,l.jsx)(c.default,{})}),(0,l.jsx)(i.default,{})]})})});try{character.displayName="character",character.__docgenInfo={description:"",displayName:"character",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/index.tsx#character"]={docgenInfo:character.__docgenInfo,name:"character",path:"src/screens/discovery/character/index.tsx#character"})}catch(e){}},"./src/screens/discovery/character/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/constants/index.ts"),x=s("./src/screens/discovery/character/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var v;t.default=(s=r.default,(0,a.default)(h,s),v=b(h),(0,i.default)(h,[{key:"userId",get:function(){var e=this.params.userName;return void 0===e?y.userStore.myId:e}},{key:"tabs",get:function(){return this.userId===y.userStore.myId?x.TABS_SELF:x.TABS}},{key:"list",value:function(e){var t=this;return(0,f.computed)(function(){return"persons"===e?y.usersStore.persons(t.userId):"recents"===e?y.usersStore.recents:y.usersStore.characters(t.userId)}).get()}},{key:"url",get:function(){var e;return _.HOST+"/user/"+(null==(e=this.params)?void 0:e.userName)+"/mono"}}]),(0,p.default)((t=h).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,p.default)(t.prototype,"tabs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"tabs"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),t);function h(){var s;(0,d.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,m.default)((0,c.default)(s),"params",void 0),(0,m.default)((0,c.default)(s),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state.page,t=s.tabs[t].key,s.list(t)._loaded){e.next=4;break}return e.abrupt("return",s.fetchList(t,!0));case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(s),"fetchList",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return"recents"===e?y.usersStore.fetchRecents(t):"persons"===e?y.usersStore.fetchPersons({userId:s.userId},t):y.usersStore.fetchCharacters({userId:s.userId},t)}),(0,m.default)((0,c.default)(s),"onChange",function(e){e===s.state.page||((0,j.t)("收藏的人物.标签页切换"),s.setState({page:e}),e=s.tabs[e].key,s.list(e)._loaded)||s.fetchList(e,!0)}),s}},"./src/screens/discovery/dollars/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/dollars/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/dollars/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_HEIGHT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/dollars/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.ITEM_HEIGHT=64},"./src/screens/discovery/dollars/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),_=s("./src/screens/discovery/dollars/component/item/ds.ts"),x=s("./src/screens/discovery/dollars/component/item/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.index,o=e.avatar,n=e.nickname,d=e.msg,e=e.color,i=t.$,c=t.navigation,t=(0,x.memoStyles)(),a=null==(s=String(o).match(/\/(\d+)\.jpg/))?void 0:s[1];return(0,b.jsxs)(u.Flex,{style:t.item,align:"start",children:[(0,b.jsxs)(u.Flex,{style:t.avatar,direction:"column",children:[(0,b.jsx)(u.UserStatus,{userId:a,children:(0,b.jsx)(m.InView,{style:t.inView,y:_.ITEM_HEIGHT*r+1,children:(0,b.jsx)(m.Avatar,{src:j.HOST+"/pic/user/l/"+o,size:52,borderWidth:2,borderColor:p._.select(p._.colorBorder,"rgba(255, 255, 255, 0.88)"),radius:p._.radiusSm,onPress:function(){return i.onToggleShow(n)},onLongPress:function(){a&&(c.push("Zone",{userId:a}),(0,y.t)("Dollars.跳转",{to:"Zone",userId:a}))}})})}),(0,b.jsx)(u.Text,{style:p._.mt.sm,size:12,bold:!0,align:"center",children:n})]}),(0,b.jsx)(u.Flex.Item,{children:(0,b.jsx)(l.default,{style:[t.content,{backgroundColor:e||"transparent"}],children:(0,b.jsx)(u.Text,{type:"__plain__",lineHeight:17,bold:!0,shadow:!0,selectable:!0,children:(0,f.HTMLDecode)(d).replace(/<br \/>/g,"")})})})]})},_.COMPONENT)},"./src/screens/discovery/dollars/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingVertical:12},inView:{minWidth:52,minHeight:52},avatar:{width:80,paddingRight:12},content:{padding:15,paddingTop:12,marginTop:-1,borderWidth:5,borderRadius:r._.radiusMd,borderColor:r._.select("rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.88)")},moreStyle:{}}})},"./src/screens/discovery/dollars/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/dollars/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/dollars/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/dollars/component/list/utils.tsx"),a=s("./src/screens/discovery/dollars/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,l.jsx)(o.PaginationList2,Object.assign({forwardRef:t.forwardRef,keyExtractor:d.keyExtractor,style:n._.container.wind,contentContainerStyle:n._.container.bottom},i.SCROLL_VIEW_RESET_PROPS,{scrollEventThrottle:4,data:t.dollars.list,renderItem:c.renderItem,onScroll:t.onScroll}))},a.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/dollars/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/dollars/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/dollars/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,n.jsx)(o.default,Object.assign({index:e},t),t.id)}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/dollars/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/dollars/component/textarea/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/dollars/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Textarea")},"./src/screens/discovery/dollars/component/textarea/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/dollars/component/textarea/ds.ts"),c=s("./src/screens/discovery/dollars/component/textarea/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s;return(t=t.$).state.show?(s=(0,c.memoStyles)(),(0,a.jsxs)(o.default,{style:s.container,children:[(0,a.jsx)(n.Input,{ref:t.forwardInputRef,style:s.textarea,inputStyle:s.input,multiline:!0,numberOfLines:3,value:t.state.text,placeholder:"单击头像可以@某人，长按则前往空间",autoFocus:!0,returnKeyType:"done",returnKeyLabel:"发送",onChangeText:t.onChangeText,onSubmitEditing:t.onSubmit}),(0,a.jsx)(n.Touchable,{style:d._.mt.md,onPress:t.onSubmit,children:(0,a.jsx)(o.default,{style:s.btn,children:(0,a.jsx)(n.Text,{size:16,bold:!0,align:"center",children:"POST"})})})]})):null},i.COMPONENT);try{textarea.displayName="textarea",textarea.__docgenInfo={description:"",displayName:"textarea",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/component/textarea/index.tsx#textarea"]={docgenInfo:textarea.__docgenInfo,name:"textarea",path:"src/screens/discovery/dollars/component/textarea/index.tsx#textarea"})}catch(e){}},"./src/screens/discovery/dollars/component/textarea/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},textarea:{borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)"),backgroundColor:r._.select(r._.colorBg,"rgba(255, 255, 255, 0.24)")},input:Object.assign({},r._.fontSize15,{color:r._.colorDesc}),btn:{paddingVertical:r._.sm,borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)")}}})},"./src/screens/discovery/dollars/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Dollars",t.NAMESPACE="ScreenDollars",s=t.EXCLUDE_STATE={visibleBottom:s._.window.height,fetching:!1,show:!1,text:""};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/discovery/dollars/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/dollars/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/dollars/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/dollars/header/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=s.state.show;return(0,c.jsx)(o.Header,{title:"DOLLARS",hm:["dollars","Dollars"],headerRight:function(){return(0,c.jsxs)(o.Flex,{children:[!r&&s.state.visibleBottom>=2*d._.window.height&&(0,c.jsx)(n.IconTouchable,{style:d._.mr.xs,name:"md-keyboard-arrow-up",size:28,color:d._.colorTitle,onPress:function(){s.scrollToTop(!0)}}),(0,c.jsx)(n.IconTouchable,{style:d._.mr.xs,name:r?"md-close":"md-edit",size:r?20:16,color:d._.colorTitle,onPress:function(){s.onToggleShow()}})]})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/dollars/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/dollars/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useDollarsPage=function(e){var t=e.$,s=((0,o.useRunAfter)(function(){t.init()}),(0,r.useRef)(null));(0,o.useMount)(function(){return s.current=setInterval(function(){t.updateDollars()},8e3),function(){t.scrollViewRef=null,t.inputRef=null,clearInterval(s.current)}})};var r=s("./node_modules/react/index.js"),o=s("./src/utils/hooks/index.ts")},"./src/screens/discovery/dollars/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/dollars/component/list/index.tsx")),c=r(s("./src/screens/discovery/dollars/component/textarea/index.tsx")),a=r(s("./src/screens/discovery/dollars/header/index.tsx")),l=s("./src/screens/discovery/dollars/hooks.ts"),r=r(s("./src/screens/discovery/dollars/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){(0,l.useDollarsPage)(t);var s=t.$;return(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-dollars",children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(o.Page,{loaded:s.dollars._loaded,children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(i.default,{})]})]})})});try{dollars.displayName="dollars",dollars.__docgenInfo={description:"",displayName:"dollars",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/index.tsx#dollars"]={docgenInfo:dollars.__docgenInfo,name:"dollars",path:"src/screens/discovery/dollars/index.tsx#dollars"})}catch(e){}},"./src/screens/discovery/dollars/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/screens/discovery/dollars/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var v;t.default=(s=r.default,(0,a.default)(h,s),v=b(h),(0,i.default)(h,[{key:"isWebLogin",get:function(){return y.userStore.isWebLogin}},{key:"dollars",get:function(){return y.discoveryStore.dollars}}]),(0,p.default)((t=h).prototype,"isWebLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isWebLogin"),t.prototype),(0,p.default)(t.prototype,"dollars",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"dollars"),t.prototype),t);function h(){var r;(0,d.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,m.default)((0,c.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,c.default)(r),"scrollViewRef",null),(0,m.default)((0,c.default)(r),"inputRef",null),(0,m.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState(Object.assign({},x.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",r.fetchDollars());case 2:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"forwardRef",function(e){r.scrollViewRef=e}),(0,m.default)((0,c.default)(r),"forwardInputRef",function(e){try{r.inputRef=e.inputRef}catch(e){}}),(0,m.default)((0,c.default)(r),"fetchDollars",function(){return y.discoveryStore.fetchDollars()}),(0,m.default)((0,c.default)(r),"updateDollars",function(){return y.discoveryStore.updateDollars()}),(0,m.default)((0,c.default)(r),"scrollToTop",function(){var e;null!=(e=r.scrollViewRef)&&e.scrollToIndex&&setTimeout(function(){try{r.scrollViewRef.scrollToIndex({animated:!0,index:0,viewOffset:0})}catch(e){}},160)}),(0,m.default)((0,c.default)(r),"scrollToBottom",function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];null!=(e=r.scrollViewRef)&&e.scrollToEnd&&setTimeout(function(){try{r.scrollViewRef.scrollToEnd({animated:t,duration:640})}catch(e){}},160)}),(0,m.default)((0,c.default)(r),"onToggleShow",function(e){var t,s;r.isWebLogin?(t=(s=r.state).show,s=s.text,e?(r.setState({show:!0,text:s.includes("@"+e)?s:"@"+e+" "+s}),setTimeout(function(){try{r.inputRef.focus()}catch(e){}},0)):r.setState({show:!t})):(0,j.info)("未登录")}),(0,m.default)((0,c.default)(r),"onChangeText",function(e){r.setState({text:e.trim()})}),(0,m.default)((0,c.default)(r),"onSubmit",function(){var e=r.state,t=e.fetching,s=e.text;t||(s?(r.setState({fetching:!0,show:!1}),setTimeout(function(){r.updateDollars(),y.discoveryStore.doDollars({message:s},function(){r.setState({fetching:!1,text:""}),r.updateDollars(),(0,_.t)("Dollars.发送",{userId:y.userStore.myId})},function(){(0,j.info)("发送失败, 可能需要重新登录"),r.setState({fetching:!1,show:!0})})},80)):(0,j.info)("请输入内容"))}),(0,m.default)((0,c.default)(r),"onScroll",j.updateVisibleBottom.bind((0,c.default)(r))),r}},"./src/screens/discovery/game/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/game/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter")},"./src/screens/discovery/game/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./src/screens/discovery/game/ds.ts"),i=s("./src/screens/discovery/game/component/filter/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,c.jsx)(o.Filter,{filterDS:d.filterDS,title:"频道　",name:"游戏",type:"游戏",lastUpdate:n.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+n.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n      \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n      \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n      \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+d.ADVANCE_LIMIT+" 条数据的限制。\n      \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})},i.COMPONENT)},"./src/screens/discovery/game/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemGrid"),t.EVENT={id:"游戏.跳转"}},"./src/screens/discovery/game/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/game/component/item-grid/ds.ts"),y=s("./src/screens/discovery/game/component/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.pickIndex,o=e.index,e=e.num,t=t.navigation,r=m.otaStore.gameSubjectId(r),n=(r=m.otaStore.game(r)).id,d=r.t,i=r.c,c=r.sc,a=r.r,r=r.en;return n?(s=(0,y.memoStyles)(),(0,j.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(o%e)&&s.left,navigation:t,event:f.EVENT,num:e,id:n,cover:i?"//lain.bgm.tv/pic/cover/m/"+i+".jpg":p.IMG_DEFAULT,name:d,score:c,rank:a,airtime:r,collection:m.collectionStore.collect(n)})):(o=m._.grid(e),(0,j.jsx)(l.Flex,{style:{width:o.width,height:p.IMG_HEIGHT_LG,marginBottom:o.marginLeft+m._.xs,marginLeft:o.marginLeft},justify:"center",children:(0,j.jsx)(l.Loading.Raw,{})}))},f.COMPONENT)},"./src/screens/discovery/game/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/game/component/item-list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/component/ds.ts"),o=(t.COMPONENT=(0,o.rc)(s.COMPONENT,"ItemList"),t.THUMB_WIDTH=r._.device(114,Math.floor(.4*r._.window.contentWidth)));t.THUMB_HEIGHT=Math.floor(.56*o)},"./src/screens/discovery/game/component/item-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),v=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),g=s("./src/components/cover/utils.ts"),S=s("./src/screens/_/index.ts"),O=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),E=s("./src/utils/fetch/index.ts"),C=s("./src/constants/index.ts"),P=s("./src/screens/discovery/game/component/item-list/utils.ts"),N=s("./src/screens/discovery/game/component/item-list/ds.ts"),M=s("./src/screens/discovery/game/component/item-list/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d,i,c,a=e.index,e=e.pickIndex,l=t.navigation,u=(0,M.memoStyles)(),t=O.otaStore.gameSubjectId(e),m=(e=O.otaStore.game(t)).id,p=e.t,t=e.c,f=e.en,y=e.cn,j=e.sc,_=e.r,x=e.o,b=e.l;return m?(r=20<=(s=(0,T.HTMLDecode)(p)).length?13:14<=s.length?14:15,o=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":C.IMG_DEFAULT,n=(0,P.getThumbs)(m,b),d=(0,P.getThumbs)(m,b,!1),t=(0,P.toArray)(e,"ta"),b=(0,P.toArray)(e,"d"),i=(0,P.toArray)(e,"p"),e=(0,P.toArray)(e,"pl"),b=b.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),i=i.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),e=[e.join("、"),f,y&&y!==f?"中文 "+y:""],b.join("、")===i.join("、")?e.push(b.join("、")):e.push(b.join("、")+" 开发",i.join("、")+" 发行"),f=e.filter(function(e){return!!e}).join(" / "),c=O.collectionStore.collect(m),(0,w.jsxs)(h.Touchable,{style:u.container,animate:!0,onPress:function(){l.push("Subject",{subjectId:m,_cn:s,_image:(0,g.getCoverSrc)(o,C.IMG_WIDTH_LG),_type:"游戏"}),(0,E.t)("游戏.跳转",{subjectId:m})},children:[(0,w.jsxs)(h.Flex,{style:u.wrap,align:"start",children:[(0,w.jsx)(S.Cover,{src:o,width:C.IMG_WIDTH_LG,height:C.IMG_HEIGHT_LG,radius:!0,cdn:!(0,T.x18)(m)}),(0,w.jsxs)(h.Flex,{style:u.content,direction:"column",align:"start",children:[(0,w.jsx)(v.default,{style:u.body,children:(0,w.jsxs)(h.Flex,{style:O._.container.block,align:"start",children:[(0,w.jsxs)(h.Flex.Item,{children:[(0,w.jsx)(h.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,w.jsx)(h.Text,{style:O._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:f}),(0,w.jsxs)(h.Flex,{style:O._.mt.md,children:[(0,w.jsx)(S.Rank,{value:_}),(0,w.jsx)(S.Stars,{style:O._.mr.xs,value:j,simple:!0}),!!x&&(0,w.jsxs)(h.Text,{style:O._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),(0,w.jsx)(h.Flex.Item,{children:(0,w.jsx)(S.Tags,{value:t})})]})]}),(0,w.jsx)(S.Manage,{subjectId:m,collection:c,typeCn:"游戏",onPress:function(){O.uiStore.showManageModal({subjectId:m,title:p,status:C.MODEL_COLLECTION_STATUS.getValue(c),action:"玩"},"找游戏")}})]})}),!!n.length&&(0,w.jsx)(v.default,{style:u.thumbs,children:(0,w.jsx)(h.HorizontalList,{data:n.filter(function(e,t){return C.STORYBOOK?n.length<=1||0<t&&t<4:t<3}),renderItem:function(e,t){return(0,w.jsx)(h.Image,{style:(0,T.stl)(!!t&&O._.ml.sm,t===n.length-1&&O._.mr.md),src:e,size:N.THUMB_WIDTH,height:N.THUMB_HEIGHT,radius:!0,errorToHide:!0,onPress:function(){(0,T.showImageViewer)(d.map(function(e){return{url:e}}),t)}},e)},renderNums:2<d.length&&function(){return(0,w.jsx)(h.Touchable,{onPress:function(){(0,T.showImageViewer)(d.map(function(e){return{url:e}}),2)},children:(0,w.jsx)(h.Flex,{style:u.nums,justify:"center",children:(0,w.jsxs)(h.Text,{size:15,bold:!0,children:["+ ",d.length]})})})}})})]})]}),0===a&&(0,w.jsx)(h.Heatmap,{id:"游戏.跳转"})]})):(0,w.jsx)(h.Flex,{style:u.loading,justify:"center",children:(0,w.jsx)(h.Loading.Raw,{})})})},"./src/screens/discovery/game/component/item-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/game/component/item-list/ds.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:o.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:n.THUMB_HEIGHT},nums:{width:n.THUMB_HEIGHT,height:n.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:o.IMG_HEIGHT_LG}}})},"./src/screens/discovery/game/component/item-list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),s("./node_modules/core-js/modules/es.array.filter.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e?[]:new Array(e).fill("").map(function(e,t){return(0,o.CDN_GAME)(s,t,r)})},t.toArray=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return("object"==typeof(null==e?void 0:e[t])?null==e?void 0:e[t]:[(null==e?void 0:e[t])||void 0]).filter(function(e){return void 0!==e})};var o=s("./src/constants/index.ts")},"./src/screens/discovery/game/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/game/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/game/component/item-grid/index.tsx")),i=r(s("./src/screens/discovery/game/component/item-list/index.tsx")),r=s("./src/screens/discovery/game/component/item/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){var s=e.item,e=e.index;return"list"===t.$.state.layout?(0,c.jsx)(i.default,{pickIndex:s,index:e}):(0,c.jsx)(d.default,{pickIndex:s,index:e,num:o._.portrait(3,5)})},r.COMPONENT)},"./src/screens/discovery/game/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/game/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/game/component/filter/index.tsx")),a=s("./src/screens/discovery/game/component/list/utils.tsx"),r=s("./src/screens/discovery/game/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s;return(t=t.$).state._loaded||t.state.data._loaded?(s=t.isList?void 0:d._.portrait(3,5),(0,l.jsx)(n.PaginationList2,{keyExtractor:a.keyExtractor,forwardRef:t.forwardRef,contentContainerStyle:d._.container.bottom,numColumns:s,data:t.list,limit:9,ListHeaderComponent:(0,l.jsx)(c.default,{}),renderItem:a.renderItem,scrollToTop:!0,onPage:d.otaStore.onGamePage},""+t.state.layout+s)):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.default,{}),(0,l.jsx)(o.Loading,{})]})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/game/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/game/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=d,t.renderItem=i,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/game/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return String(e)}function i(e){var t=e.item,e=e.index;return(0,n.jsx)(o.default,{item:t,index:e})}try{d.displayName="keyExtractor",d.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/component/list/utils.tsx#keyExtractor"]={docgenInfo:d.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/game/component/list/utils.tsx#keyExtractor"})}catch(e){}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/game/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/game/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.advFilterDS=t.STATE=t.NAMESPACE=t.COMPONENT=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/game/index.ts"),s=s("./src/constants/index.ts"),o=(t.COMPONENT="Game",t.NAMESPACE="ScreenGame",t.STATE={query:{first:"",year:2023,platform:"",cate:"",dev:"",pub:"",sort:"发行",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=100,[[],[]]),n=(r.GAME_CATE.forEach(function(e,t){return o[t%2?1:0].push(e)}),[[],[]]),d=(r.GAME_DEV.forEach(function(e,t){return n[t%2?1:0].push(e)}),[[],[]]);r.GAME_PUB.forEach(function(e,t){return d[t%2?1:0].push(e)}),t.filterDS=[{title:"首字　",type:"first",data:r.GAME_FIRST},{title:"发行　",type:"year",data:r.GAME_YEAR,always:!0},{title:"平台　",type:"platform",data:r.GAME_PLATFORM},{title:"类型　",type:"cate",data:o,multiple:!0,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"发行商",type:"pub",data:d,multiple:!0},{title:"排序　",type:"sort",data:r.GAME_SORT,always:!0},{title:"收藏　",type:"collected",data:r.GAME_COLLECTED}],t.advFilterDS=[{title:"首字　",type:"first",data:r.GAME_FIRST},{title:"发行　",type:"year",data:r.GAME_YEAR,always:!0},{title:"类型　",type:"cate",data:o,multiple:!0,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"发行商",type:"dev",data:d,multiple:!0},{title:"排序　",type:"sort",data:r.GAME_SORT,always:!0},{title:"收藏　",type:"collected",data:r.GAME_COLLECTED}]},"./src/screens/discovery/game/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/game/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/game/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/discovery/anime/header/index.tsx")),r=s("./src/screens/discovery/game/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.ob)(function(){return(0,d.jsx)(n.default,{title:"找游戏",alias:"游戏",hm:["game","Game"]})},r.COMPONENT)},"./src/screens/discovery/game/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/game/component/list/index.tsx")),c=r(s("./src/screens/discovery/game/header/index.tsx")),r=r(s("./src/screens/discovery/game/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-game",children:[(0,a.jsx)(c.default,{}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(i.default,{})})]})})});try{game.displayName="game",game.__docgenInfo={description:"",displayName:"game",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/index.tsx#game"]={docgenInfo:game.__docgenInfo,name:"game",path:"src/screens/discovery/game/index.tsx#game"})}catch(e){}},"./src/screens/discovery/game/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/game/index.ts"),x=s("./src/screens/discovery/game/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var v,h=!1;t.default=(s=r.default,(0,a.default)(g,s),v=b(g),(0,i.default)(g,[{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.gameSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<x.ADVANCE_LIMIT})}}]),(0,p.default)((t=g).prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,p.default)(t.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function g(){var r;(0,d.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,m.default)((0,c.default)(r),"params",void 0),(0,m.default)((0,c.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:h})),h){e.next=7;break}return e.next=7,(0,_.init)();case 7:return h=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery("string"==typeof s?[s]:s),e.next=12,(0,_.init)();case 12:r.search(),y.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),setTimeout(function(){r.setState({_loaded:!0})},120);case 15:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"search",function(){setTimeout(function(){var e=r.state.query,e=(0,_.search)(e);r.setState({data:e})},80)}),(0,m.default)((0,c.default)(r),"initQuery",function(){var e=r.state.query;r.setState({expand:!0,query:Object.assign({},e,{cate:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])[0]})})}),(0,m.default)((0,c.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(x.NAMESPACE),(0,j.t)("游戏.选择",{type:e,value:t})},0)}),(0,m.default)((0,c.default)(r),"scrollToOffset",null),(0,m.default)((0,c.default)(r),"forwardRef",function(e){null!=e&&e.scrollToOffset&&(r.scrollToOffset=e.scrollToOffset)}),(0,m.default)((0,c.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,j.t)("游戏.到顶"))}),(0,m.default)((0,c.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,j.t)("游戏.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(x.NAMESPACE)}),(0,m.default)((0,c.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(x.NAMESPACE)}),r}},"./src/screens/discovery/hentai/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/hentai/index.ts"),s=s("./src/constants/index.ts"),o=(t.NAMESPACE="ScreenHentai",t.STATE={query:{first:"",year:2022,chara:"",job:"",body:"",content:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=80,[[],[]]);r.HENTAI_CONTENT.forEach(function(e,t){return o[t%2?1:0].push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.HENTAI_FIRST},{title:"年份",type:"year",data:r.HENTAI_YEAR,always:!0},{title:"人物",type:"chara",data:r.HENTAI_CHARA,login:!0},{title:"职业",type:"job",data:r.HENTAI_JOB,login:!0},{title:"外貌",type:"body",data:r.HENTAI_BODY,login:!0},{title:"剧情",type:"content",data:o,multiple:!0,login:!0},{title:"排序",type:"sort",data:r.HENTAI_SORT,always:!0},{title:"收藏",type:"collected",data:r.HENTAI_COLLECTED}]},"./src/screens/discovery/hentai/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),l=r(s("./src/screens/discovery/hentai/list/index.tsx")),r=r(s("./src/screens/discovery/hentai/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-hentai",children:[(0,u.jsx)(a.default,{title:"找番剧",alias:"Hentai",hm:["hentai","Hentai"]}),(0,u.jsxs)(o.Page,{loaded:s.state._loaded,children:[(0,u.jsx)(n.Notice,{children:"此页面已不再维护"}),s.access?(0,u.jsx)(l.default,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.FilterSwitch,{name:"Hentai"}),(0,u.jsx)(o.Text,{style:d._.mt.lg,align:"center",children:"游客或您所在的用户组暂不开放此功能"})]})]})]})})});try{hentai.displayName="hentai",hentai.__docgenInfo={description:"",displayName:"hentai",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/index.tsx#hentai"]={docgenInfo:hentai.__docgenInfo,name:"hentai",path:"src/screens/discovery/hentai/index.tsx#hentai"})}catch(e){}},"./src/screens/discovery/hentai/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/hentai/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"Hentai.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,o=(0,f.memoStyles)(),s=m.otaStore.hentaiSubjectId(s),n=(s=m.otaStore.hentai(s)).id,d=s.i,i=s.c,c=s.a,a=s.s,s=s.r;return n?(0,y.jsx)(u.ItemCollectionsGrid,{navigation:t,style:(m._.isPad||m._.isLandscape)&&!(r%e)&&o.left,event:j,num:e,id:n,cover:d?"https://lain.bgm.tv/pic/cover/m/"+d+".jpg":p.IMG_DEFAULT,cdn:!1,name:i,score:a,rank:s,airtime:c?String(c).slice(0,7):"",collection:m.collectionStore.collect(n)}):(t=m._.grid(e),(0,y.jsx)(l.Flex,{style:{width:t.width,height:p.IMG_HEIGHT_LG,marginBottom:t.marginLeft+m._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,y.jsx)(l.Loading.Raw,{})}))})},"./src/screens/discovery/hentai/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/hentai/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),x=s("./src/components/cover/utils.ts"),b=s("./src/screens/_/index.ts"),v=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),g=s("./src/utils/subject/hentai/index.ts"),S=s("./src/constants/index.ts"),O=s("./src/screens/discovery/hentai/item/utils.ts"),T=s("./src/screens/discovery/hentai/item/styles.ts"),E=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n=e.index,e=e.pickIndex,d=t.$,i=t.navigation,c=(0,T.memoStyles)(),t=v.otaStore.hentaiSubjectId(e),a=(e=v.otaStore.hentai(t)).id,l=e.h,t=e.i,u=e.c,m=e.e,p=e.a,f=void 0===(f=e.t)?[]:f,y=e.s,j=e.r,e=e.n;return a?(s=20<=u.length?13:14<=u.length?14:15,r=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":S.IMG_DEFAULT,t=[m?m+"话":"",p].filter(function(e){return!!e}).join(" / "),o=v.collectionStore.collect(a),(0,E.jsxs)(_.Touchable,{style:c.container,animate:!0,onPress:function(){i.push("Subject",{subjectId:a,_cn:u,_image:(0,x.getCoverSrc)(r,S.IMG_WIDTH_LG),_hid:l}),(0,h.t)("Hentai.跳转",{subjectId:a})},children:[(0,E.jsxs)(_.Flex,{style:c.wrap,align:"start",children:[(0,E.jsx)(b.Cover,{src:r,width:S.IMG_WIDTH_LG,height:S.IMG_HEIGHT_LG,radius:!0,cdn:!1,textOnly:S.TEXT_ONLY||!d.isLogin}),(0,E.jsx)(_.Flex.Item,{style:v._.ml.wind,children:(0,E.jsxs)(_.Flex,{style:d.isLogin&&14<=f.length?c.contentFlux:c.content,direction:"column",justify:"between",align:"start",children:[(0,E.jsxs)(_.Flex,{align:"start",children:[(0,E.jsxs)(_.Flex.Item,{children:[(0,E.jsx)(_.Text,{size:s,bold:!0,numberOfLines:3,children:u}),(0,E.jsx)(_.Text,{style:v._.mt.sm,size:11,lineHeight:14,children:t})]}),(0,E.jsx)(b.Manage,{subjectId:a,collection:o,onPress:function(){v.uiStore.showManageModal({subjectId:a,title:u,status:S.MODEL_COLLECTION_STATUS.getValue(o)},"找Hentai")}})]}),d.isLogin&&!!f.length&&(0,E.jsxs)(_.Flex,{style:v._.mt.sm,wrap:"wrap",children:[f.map(function(e){return(0,E.jsx)(b.Tag,{style:c.tag,type:(0,O.getType)(d.state,e),value:g.HENTAI_TAGS[e]},e)}),(0,E.jsx)(b.Tag,{value:"+"+f.length})]}),(0,E.jsxs)(_.Flex,{style:v._.mt.md,wrap:"wrap",children:[(0,E.jsx)(b.Rank,{value:j}),(0,E.jsx)(b.Stars,{style:v._.mr.xs,value:y,simple:!0}),!!e&&(0,E.jsxs)(_.Text,{type:"sub",size:11,bold:!0,children:["(",e,")"]})]})]})})]}),0===n&&(0,E.jsx)(_.Heatmap,{id:"Hentai.跳转"})]})):(0,E.jsx)(_.Flex,{style:c.loading,justify:"center",children:(0,E.jsx)(_.Loading.Raw,{})})})},"./src/screens/discovery/hentai/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:o.IMG_HEIGHT_LG},contentFlux:{minHeight:o.IMG_HEIGHT_LG},tag:{marginTop:6,marginRight:6},loading:{height:o.IMG_HEIGHT_LG}}})},"./src/screens/discovery/hentai/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getType=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,e=null==e?void 0:e.query,s=e.chara,r=e.job,o=e.body,e=e.content,t=n.HENTAI_TAGS[t];return s===t||r===t||o===t||e===t?"main":void 0};var n=s("./src/utils/subject/hentai/index.ts")},"./src/screens/discovery/hentai/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/hentai/item/index.tsx")),_=r(s("./src/screens/discovery/hentai/item-grid/index.tsx")),x=s("./src/screens/discovery/hentai/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(g,r),h=v(g),(0,n.default)(g,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:x.filterDS,name:"Hentai",type:"Hentai",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能仅对正常登录用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onHentaiPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=g;function g(){var s;(0,o.default)(this,g);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,l.default)((0,d.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(j.default,{pickIndex:t,index:e}):(0,b.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function S(e){return String(e)}try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/hentai/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/hentai/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/hentai/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/hentai/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/hentai/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var v,h=!1;t.default=(s=r.default,(0,a.default)(g,s),v=b(g),(0,i.default)(g,[{key:"access",get:function(){return!y.userStore.isLimit}},{key:"isLogin",get:function(){return y.userStore.isLogin}},{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.hentaiSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<x.ADVANCE_LIMIT})}}]),(0,p.default)((t=g).prototype,"access",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"access"),t.prototype),(0,p.default)(t.prototype,"isLogin",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLogin"),t.prototype),(0,p.default)(t.prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,p.default)(t.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,p.default)(t.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function g(){var r;(0,d.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=v.call.apply(v,[this].concat(t)),(0,m.default)((0,c.default)(r),"params",void 0),(0,m.default)((0,c.default)(r),"state",(0,f.observable)(x.STATE)),(0,m.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(x.NAMESPACE);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:h})),h){e.next=7;break}return e.next=7,(0,j.init)();case 7:h=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery(s),y.collectionStore.fetchUserCollectionsQueue(!1),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"search",function(t){setTimeout(function(){var e=r.state.query,e=(0,j.search)(t||e);r.setState({data:e})},80)}),(0,m.default)((0,c.default)(r),"initQuery",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];r.setState({expand:!0}),e.forEach(function(e){var t=r.state.query;r.setState({query:Object.assign({},t,(0,m.default)({},(0,j.getTagType)(j.HENTAI_TAGS_MAP[e]),e))})})}),(0,m.default)((0,c.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(x.NAMESPACE),(0,_.t)("Hentai.选择",{type:e,value:t})},0)}),(0,m.default)((0,c.default)(r),"scrollToOffset",null),(0,m.default)((0,c.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("Hentai.到顶"))}),(0,m.default)((0,c.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("Hentai.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(x.NAMESPACE)}),(0,m.default)((0,c.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(x.NAMESPACE)}),r}},"./src/screens/discovery/index/component/award-2022/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Award2022")},"./src/screens/discovery/index/component/award-2022/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js"))),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),a=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),u=s("./src/utils/dev/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/utils/hooks/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/index/component/award-2022/utils.web.ts"),j=s("./src/screens/discovery/index/component/award-2022/ds.ts"),_=s("./src/screens/discovery/index/component/award-2022/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}function o(e){var t=e.width,s=e.height,r=((0,u.r)(j.COMPONENT),(0,p.useNavigation)()),o=(0,_.memoStyles)(),n=(0,i.useRef)(null),e=((0,p.useMount)(function(){n.current.innerHTML=(0,y.getHtml)(t||o.body.width,s||o.body.height)}),t||o.item2022.width),d=s||o.item2022.height;return(0,x.jsx)(c.default,{style:[o.container,{height:s||o.container.height,marginRight:s?0:o.container.marginRight}],children:(0,x.jsx)(a.Squircle,{width:e,height:d,radius:l.systemStore.coverRadius,children:(0,x.jsx)(a.Touchable,{style:[o.item2022,{width:e,height:d}],animate:!0,onPress:function(){(0,m.t)("发现.跳转",{to:"Award",year:2022,from:"Award2022"}),r.push("Award",{uri:f.HOST+"/award/2022"})},children:(0,x.jsx)(c.default,{ref:n})})})})}t.default=o;try{o.displayName="Award2022",o.__docgenInfo={description:"",displayName:"Award2022",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award-2022/index.web.tsx#Award2022"]={docgenInfo:o.__docgenInfo,name:"Award2022",path:"src/screens/discovery/index/component/award-2022/index.web.tsx#Award2022"})}catch(e){}},"./src/screens/discovery/index/component/award-2022/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164),t=2*e+16;return{container:{height:e,marginRight:r._.md},item2022:{width:2*r._.device(128,164)+16,height:r._.device(128,164)},body:{width:t,height:e,backgroundColor:"#ffffff",opacity:.99}}})},"./src/screens/discovery/index/component/award-2022/utils.web.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHtml=function(e,t){return"\n  <style>\n    .award2022 * {\n      padding: 0;\n      margin: 0;\n    }\n    .award2022 {\n      box-sizing: border-box;\n      position: relative;\n      width: "+e+"px;\n      height: "+t+'px;\n      padding: 0;\n      margin: 0 0 10px 0;\n      line-height: 100%;\n      background: #fff;\n      border: none;\n    }\n    .award2022 .wrap {\n      position: absolute;\n      z-index: 1;\n      width: 100%;\n      height: 100%;\n      color: #fff;\n      background-color: transparent;\n    }\n    .award2022 .header {\n      margin: 30px auto;\n      text-indent: -9999px;\n      font-size: 0;\n      line-height: 100%;\n      background: url(https://bgm.tv/img/event/2022/title.png);\n      width: 80%;\n      max-width: 860px;\n      max-height: 120px;\n      aspect-ratio: 860 / 120;\n      background-size: 100% auto;\n      background-repeat: no-repeat;\n      z-index: 3;\n      position: relative;\n    }\n    .award2022 .heroes {\n      position: absolute;\n      width: 168px;\n      height: 85px;\n      background-image: url(https://bgm.tv/img/event/2022/heroes_s.png);\n      background-size: 100% 100%;\n      background-repeat: no-repeat;\n      bottom: 0;\n      z-index: 2;\n    }\n    .award2022 .oceanCanvas {\n      position: absolute;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 1;\n    }\n    .award2022 .oceanCanvas div {\n      position: absolute;\n      overflow: hidden;\n    }\n    .award2022 .oceanCanvas .sea {\n      height: 30%;\n      width: 200%;\n      left: -50%;\n      top: 40%;\n      border-radius: 0 0 50% 50%;\n      background: linear-gradient(\n        to bottom,\n        rgba(255, 255, 255, 1) 0%,\n        rgba(255, 255, 255, 1) 75%,\n        rgba(235, 233, 234, 1) 100%\n      );\n      animation: waveanim ease-in-out 10s;\n      animation-iteration-count: infinite;\n      transform-origin: 50% 0%;\n      overflow: hidden;\n    }\n    .award2022 .oceanCanvas .sand {\n      height: 35%;\n      width: 100%;\n      background: rgb(248, 247, 245);\n      top: 65%;\n      border-radius: 0 0 15px 15px;\n    }\n    .award2022 .oceanCanvas .sand-front {\n      height: 10%;\n      width: 100%;\n      background: rgb(248, 247, 245);\n      top: 90%;\n      border-radius: 0 0 15px 15px;\n    }\n    .award2022 .oceanCanvas .wet-sand {\n      height: 37.5%;\n      width: 200%;\n      left: -50%;\n      top: 40%;\n      border-radius: 0 0 50% 50%;\n      background: rgb(237, 233, 227);\n      box-shadow: 0 10px 10px 0 rgb(241, 238, 234);\n      animation: wetsandanim ease-in-out 10s;\n      animation-iteration-count: infinite;\n    }\n    .award2022 @keyframes waveanim {\n      0% {\n        transform: scaleY(1);\n      }\n      35% {\n        transform: scaleY(1.3);\n      }\n      69% {\n        transform: scaleY(1);\n      }\n      100% {\n        transform: scaleY(1);\n      }\n    }\n    .award2022 @keyframes wetsandanim {\n      0% {\n        opacity: 0.2;\n      }\n      34% {\n        opacity: 0.2;\n      }\n      35% {\n        opacity: 0.7;\n      }\n      100% {\n        opacity: 0.2;\n      }\n    }\n    .award2022 @keyframes seafoamanim {\n      0% {\n        opacity: 0;\n      }\n      30% {\n        opacity: 1;\n      }\n      50% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 0;\n      }\n    }\n  </style>\n  <div class="award2022">\n    <div class="wrap">\n      <div class="oceanCanvas">\n        <div class="sand"></div>\n        <div class="wet-sand"></div>\n        <div class="sea">\n          <div class="seafoam"></div>\n        </div>\n        <div class="seafoam"></div>\n        <div class="sea">\n          <div class="seafoam"></div>\n        </div>\n        <div class="sand-front"></div>\n      </div>\n      <div class="heroes"></div>\n      <div class="header"></div>\n    </div>\n  </div>'}},"./src/screens/discovery/index/component/award-2023/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Award2023")},"./src/screens/discovery/index/component/award-2023/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/dev/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),u=s("./src/screens/discovery/index/component/award-2023/ds.ts"),m=s("./src/screens/discovery/index/component/award-2023/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");function f(e){var t=e.width,s=e.height,r=((0,c.r)(u.COMPONENT),(0,a.useNavigation)());return(0,n.useObserver)(function(){var e=(0,m.memoStyles)();return(0,p.jsx)(o.default,{style:[e.container,{height:s||e.container.height,marginRight:s?0:e.container.marginRight}],children:(0,p.jsx)(d.Touchable,{animate:!0,onPress:function(){r.push("Award",{uri:l.HOST+"/award/2023"})},children:(0,p.jsxs)(o.default,{style:[e.body,{width:t||e.body.width,height:s||e.body.height}],pointerEvents:"none",children:[(0,p.jsxs)(o.default,{style:e.header,children:[!i._.isDark&&(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.line}),(0,p.jsx)(o.default,{style:e.close,children:(0,p.jsx)(o.default,{style:e.closeMain})}),(0,p.jsx)(d.Flex,{style:e.title,justify:"center",children:(0,p.jsx)(d.Text,{type:"title",size:12,bold:!0,children:"BGM.TV"})})]}),(0,p.jsxs)(d.Flex,{style:e.content,direction:"column",justify:"center",children:[(0,p.jsx)(d.Text,{type:"title",size:21,bold:!0,children:"bOS 23"}),(0,p.jsx)(d.Text,{style:i._.mt.xs,size:13,type:"title",bold:!0,children:"YEAR IN REVIEW 2023"})]})]})})})})}t.default=f;try{f.displayName="Award2023",f.__docgenInfo={description:"",displayName:"Award2023",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award-2023/index.tsx#Award2023"]={docgenInfo:f.__docgenInfo,name:"Award2023",path:"src/screens/discovery/index/component/award-2023/index.tsx#Award2023"})}catch(e){}},"./src/screens/discovery/index/component/award-2023/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164);return{container:{height:e,marginRight:r._.md},body:{width:2*e+16,height:e,borderTopWidth:2,borderRightWidth:4,borderBottomWidth:4,borderLeftWidth:2,borderColor:r._.colorTitle,backgroundColor:r._.colorPlain,opacity:r._.select(1,.88)},header:{height:30,paddingTop:r._.select(3,2.5),borderBottomWidth:2,borderColor:r._.colorTitle},line:{height:2,marginTop:r._.select(2,3),marginHorizontal:6,backgroundColor:r._.colorTitle},close:{position:"absolute",zIndex:1,top:3,left:18,width:22,height:22,padding:2,borderWidth:r._.select(2,3),backgroundColor:r._.colorTitle,borderColor:r._.colorPlain},closeMain:{width:"100%",height:"100%",backgroundColor:r._.colorPlain},title:{position:"absolute",zIndex:1,top:0,left:"50%",width:56,marginLeft:-28,height:28,backgroundColor:r._.colorPlain},content:{height:e-30-4,paddingBottom:2}}})},"./src/screens/discovery/index/component/award/block/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Block")},"./src/screens/discovery/index/component/award/block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/constants/index.ts"),o=s("./src/screens/discovery/index/component/award/block/ds.ts"),l=s("./src/screens/discovery/index/component/award/block/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.year,r=t.navigation,e=(0,l.memoStyles)(),o=(t=e.item).width,t=t.height;return(0,u.jsx)(d.Touchable,{style:e.item,animate:!0,onPress:function(){(0,c.t)("发现.跳转",{to:"Award",year:s,from:"Award"}),r.push("Award",{uri:a.HOST+"/award/"+s})},children:(0,u.jsx)(d.Squircle,{width:o,height:t,radius:i.systemStore.coverRadius,children:(0,u.jsx)(n.default,{style:e["item"+s],children:(0,u.jsx)(d.Image,{src:a.ASSETS_AWARDS[s],size:o-(2019===s?32:0),height:t,placeholder:!1,resizeMode:2018!==s?"contain":"cover"})})})})},o.COMPONENT)},"./src/screens/discovery/index/component/award/block/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164);return{item:{width:2*e+16,height:e,marginRight:r._.md},item2022:{backgroundColor:"rgb(255, 255, 255)"},item2021:{backgroundColor:"rgb(236, 243, 236)"},item2020:{backgroundColor:"rgb(236, 243, 236)"},item2019:{paddingLeft:18,backgroundColor:"rgb(54, 63, 69)"},item2018:{paddingLeft:10,backgroundColor:"rgb(0, 0, 0)"}}})},"./src/screens/discovery/index/component/award/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEARS_RIGHT=t.YEARS_LEFT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Award"),t.YEARS_LEFT=[2022],t.YEARS_RIGHT=[2021,2020,2019,2018]},"./src/screens/discovery/index/component/award/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=j(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),d=s("./src/stores/index.ts"),i=s("./src/utils/dev/index.ts"),c=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/index/component/award-2023/index.tsx")),l=r(s("./src/screens/discovery/index/component/award/block/index.tsx")),u=r(s("./src/screens/discovery/index/component/award/more/index.tsx")),m=r(s("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx")),p=s("./src/screens/discovery/index/component/award/ds.ts"),f=s("./src/screens/discovery/index/component/award/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function j(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(j=function(e){return e?s:t})(e))}t.default=function(){(0,i.r)(p.COMPONENT);var e=(0,n.useState)(d._.isPad),t=(e=(0,o.default)(e,2))[0],s=e[1],r=(0,n.useCallback)(function(e){20<=e.nativeEvent.contentOffset.x&&s(!0)},[]);return(0,c.useObserver)(function(){return(0,y.jsxs)(m.default,{contentContainerStyle:f.styles.container,onScroll:t?void 0:r,children:[(0,y.jsx)(a.default,{}),p.YEARS_LEFT.map(function(e){return(0,y.jsx)(l.default,{year:e},e)}),t&&(0,y.jsx)(u.default,{})]})})}},"./src/screens/discovery/index/component/award/more/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"More")},"./src/screens/discovery/index/component/award/more/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),o=s("./src/screens/discovery/index/component/award/more/ds.ts"),a=s("./src/screens/discovery/index/component/award/more/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation,t=(0,a.memoStyles)(),r=(o=t.more).width,o=o.height,n=i._.select("plain","title");return(0,l.jsx)(d.Touchable,{style:i._.container.touch,animate:!0,onPress:function(){(0,c.t)("发现.跳转",{to:"Yearbook",from:"Award"}),s.push("Yearbook")},children:(0,l.jsx)(d.Squircle,{width:r,height:o,radius:i.systemStore.coverRadius,children:(0,l.jsxs)(d.Flex,{style:t.more,justify:"center",direction:"column",children:[(0,l.jsx)(d.Text,{size:18,type:n,bold:!0,children:"更多"}),(0,l.jsx)(d.Text,{size:18,type:n,bold:!0,children:"年鉴"})]})})})},o.COMPONENT);try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award/more/index.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/index/component/award/more/index.tsx#more"})}catch(e){}},"./src/screens/discovery/index/component/award/more/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(128,164);return{more:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)}}})},"./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/award/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ScrollViewHorizontal")},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),f=r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),y=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),j=s("./src/utils/dev/index.ts"),_=s("./src/utils/hooks/index.ts"),x=s("./src/constants/index.ts"),b=s("./src/screens/discovery/index/component/award/scroll-view-horizontal/ds.ts"),v=s("./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts"),h=(s("./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"),s("./node_modules/react/jsx-runtime.js")),g=["children"];function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}var S="scroll-view-horizontal";function i(e){var t=e.children,s=(0,n.default)(e,g),d=((0,j.r)(b.COMPONENT),(0,_.useDom)(S)),e=(0,p.useState)(!1),e=(0,o.default)(e,2),i=e[0],c=e[1],e=(0,p.useState)(0),e=(0,o.default)(e,2),a=e[0],l=e[1],e=(0,p.useState)(0),e=(0,o.default)(e,2),u=e[0],m=e[1];return(0,p.useEffect)(function(){function e(e){c(!0),o.style.cursor="grabbing",l(e.pageX-o.offsetLeft),m(o.scrollLeft)}function t(){c(!1),o.classList.remove(n),o.style.cursor="grab"}function s(){c(!1),o.classList.remove(n),o.style.cursor="grab"}function r(e){i&&(e.preventDefault(),e=e.pageX-o.offsetLeft-a,o.scrollLeft=u-e,10<Math.abs(e))&&o.classList.add(n)}var o=d.current,n=S+"--grabbing";return o.addEventListener("mousedown",e),o.addEventListener("mouseleave",t),o.addEventListener("mouseup",s),o.addEventListener("mousemove",r),function(){o.removeEventListener("mousedown",e),o.removeEventListener("mouseleave",t),o.removeEventListener("mouseup",s),o.removeEventListener("mousemove",r)}},[i,a,u,d]),(0,y.useObserver)(function(){var e=(0,v.memoStyles)();return(0,h.jsx)(f.default,Object.assign({ref:d,contentContainerStyle:e.contentContainerStyle,scrollEventThrottle:8},x.SCROLL_VIEW_RESET_PROPS,s,{horizontal:!0,children:t}))})}t.default=i;try{i.displayName="ScrollViewHorizontal",i.__docgenInfo={description:"",displayName:"ScrollViewHorizontal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx#ScrollViewHorizontal"]={docgenInfo:i.__docgenInfo,name:"ScrollViewHorizontal",path:"src/screens/discovery/index/component/award/scroll-view-horizontal/index.web.tsx#ScrollViewHorizontal"})}catch(e){}},"./src/screens/discovery/index/component/award/scroll-view-horizontal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingVertical:4,paddingHorizontal:r._.wind}}})},"./src/screens/discovery/index/component/award/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({container:{paddingVertical:s._.md,paddingHorizontal:s._.windSm}})},"./src/screens/discovery/index/component/btn/btn.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/index/component/btn/ds.ts"),j=s("./src/screens/discovery/index/component/btn/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n=e.item,e=e.onPress,t=(t.$,(0,j.memoStyles)()),d=n.key,i=n.name,c=n.text,a=n.icon,n=n.size,l=5<=y.systemStore.setting.discoveryMenuNum,u=l?t.wrapSm:t.wrap,m=l?t.itemSm:t.item;return"Split"===d?(0,_.jsx)(p.default,{style:y._.container.touch,children:(0,_.jsx)(p.default,{style:u,children:(0,_.jsx)(f.Flex,{style:m,justify:"center",children:(0,_.jsx)(p.default,{style:t.split})})})}):(s=l?t.iconWrapSm:t.iconWrap,r=(t=l?t.iconSm:t.icon).width,o=(n||24)-(l?2:0),u=(0,_.jsx)(f.Flex,{style:u,justify:"center",children:(0,_.jsxs)(f.Flex,{style:m,direction:"column",justify:"center",children:[(0,_.jsx)(f.Squircle,{style:s,width:r,height:r,radius:r,children:(0,_.jsx)(f.Flex,{style:t,justify:"center",children:c?(0,_.jsx)(f.Text,{type:"__plain__",size:(n||16)-(l?2:0),bold:!0,children:c}):(0,_.jsx)(f.Iconfont,{name:a,size:o,color:y._.__colorPlain__})})}),(0,_.jsx)(f.Text,{style:y._.mt.sm,size:12,align:"center",bold:!0,numberOfLines:1,children:i})]})}),e?(0,_.jsxs)(f.Touchable,{style:y._.container.touch,animate:!0,onPress:e,children:[u,(0,_.jsx)(f.Heatmap,{id:"发现.跳转",to:d,alias:i})]}):(0,_.jsx)(p.default,{style:y._.container.touch,children:u}))},o.COMPONENT_MAIN)},"./src/screens/discovery/index/component/btn/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Btn");t.COMPONENT_MAIN=(0,r.rc)(s)},"./src/screens/discovery/index/component/btn/index.tsx":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),u=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/Clipboard/index.js"))),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=r(s("./src/constants/i18n/index.ts")),y=s("./src/screens/_/base/filter-switch/index.tsx"),j=r(s("./src/screens/discovery/index/component/btn/btn.tsx")),r=s("./src/screens/discovery/index/component/btn/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var e=e.item,r=t.$,o=t.navigation,t=r.state.dragging,s=r.userInfo,n=s.username,d=s.id,i=e.key,c=e.login;return(0,_.jsx)(j.default,{item:e,onPress:t?void 0:(0,l.default)(a.mark(function e(){var t,s;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||n||d){e.next=3;break}return(0,m.info)("请先"+f.default.login()),e.abrupt("return");case 3:if("Open"===i)return r.toggleDragging(),e.abrupt("return");e.next=6;break;case 6:if((0,p.t)("发现.跳转",{to:i,from:"Btn"}),"Anime"===i)return e.next=10,(0,y.getLastPath)();e.next=12;break;case 10:return t=e.sent,e.abrupt("return",o.push(t));case 12:if("Netabare"===i)return e.abrupt("return",o.push("WebBrowser",{url:"https://netaba.re/trending",title:"评分趋势"}));e.next=14;break;case 14:if("UserTimeline"===i)return e.abrupt("return",o.push(i,{userId:n||d}));e.next=16;break;case 16:if("Link"===i)return e.next=19,u.default.getString();e.next=26;break;case 19:if(t=e.sent,s=(0,m.matchBgmUrl)(t,!0)||[],s=s[0]){e.next=25;break}return r.toggleLinkModal(),e.abrupt("return",!0);case 25:return e.abrupt("return",(0,m.appNavigate)(s,o));case 26:return e.abrupt("return",o.push(i,c?{userName:n||d}:{}));case 27:case"end":return e.stop()}},e)}))})},r.COMPONENT)},"./src/screens/discovery/index/component/btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.r(50);return{wrap:{width:.249*(r._.windowSm.width-2*r._.windSm),height:.249*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},wrapSm:{width:.198*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},item:{width:(r._.windowSm.width-2*r._.windSm)/4},itemSm:{width:(r._.windowSm.width-2*r._.windSm)/5},iconWrap:{width:e},iconWrapSm:{width:e-4},icon:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},iconSm:{width:e-4,height:e-4,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},split:{width:3,height:28,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel2),borderRadius:2}}})},"./src/screens/discovery/index/component/cover-lg/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverLg")},"./src/screens/discovery/index/component/cover-lg/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),m=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),p=s("./src/components/index.ts"),f=s("./src/components/cover/utils.ts"),y=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/screens/discovery/index/ds.ts"),o=s("./src/screens/discovery/index/component/cover-lg/ds.ts"),v=s("./src/screens/discovery/index/component/cover-lg/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.src,o=e.cn,e=e.data,n=t.navigation,t=(0,v.memoStyles)(),d=e.subjectId,i=j.subjectStore.jp(d)||e.title,c=j.subjectStore.cn(d)||o,a=(o=t.cover).width,o=o.height,o="音乐"===s?a:o,l="magma"===j.systemStore.setting.cdnOrigin;return(0,h.jsx)(p.Touchable,{style:t.item,animate:!0,onPress:function(){(0,x.t)("发现.跳转",{to:"Subject",subjectId:d,from:"CoverLg|"+s}),n.push("Subject",{subjectId:d,_jp:i,_cn:c,_image:(0,f.getCoverSrc)(r,a),_type:s})},children:(0,h.jsxs)(p.Squircle,{width:a,height:o,radius:j.systemStore.coverRadius,children:[(0,h.jsx)(y.Cover,{src:l?(0,_.matchCoverUrl)(r,!1):(0,_.getCoverLarge)(r),size:a,height:o,cdn:l}),(0,h.jsx)(m.LinearGradient,{style:t.linear,colors:b.linearColor,pointerEvents:"none"}),(0,h.jsxs)(u.default,{style:t.desc,pointerEvents:"none",children:[(0,h.jsx)(p.Text,{type:j._.select("plain","desc"),bold:!0,children:e.info}),(0,h.jsx)(u.default,{style:j._.mt.sm,children:(0,h.jsx)(p.Katakana.Provider,{itemStyle:t.itemStyle,itemSecondStyle:t.itemSecondStyle,type:j._.select("plain","title"),size:22,bold:!0,numberOfLines:2,children:(0,h.jsx)(p.Katakana,{size:22,type:j._.select("plain","title"),bold:!0,numberOfLines:2,children:(0,_.HTMLDecode)((0,_.cnjp)(c,i))})})})]})]})})},o.COMPONENT)},"./src/screens/discovery/index/component/cover-lg/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{marginTop:r._.md,marginHorizontal:r._.windSm},cover:{width:r._.windowSm.contentWidth,height:1.38*r._.windowSm.contentWidth},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},desc:{position:"absolute",zIndex:2,right:r._._wind-2,bottom:r._.md,left:r._._wind-2,opacity:.92},itemStyle:{marginTop:-13},itemSecondStyle:{marginTop:2}}})},"./src/screens/discovery/index/component/cover-sm/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverSm")},"./src/screens/discovery/index/component/cover-sm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),m=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),p=s("./src/components/index.ts"),f=s("./src/components/cover/utils.ts"),y=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/screens/discovery/index/ds.ts"),o=s("./src/screens/discovery/index/component/cover-sm/ds.ts"),v=s("./src/screens/discovery/index/component/cover-sm/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.src,o=e.cn,e=e.data,n=t.navigation,t=(0,v.memoStyles)(),d=e.subjectId,i=j.subjectStore.jp(d)||e.title,c=j.subjectStore.cn(d)||o,o="音乐"===s,a=(l=t.cover).width,l=l.height,l=o?a:l;return(0,h.jsx)(p.Touchable,{style:t.item,animate:!0,onPress:function(){(0,x.t)("发现.跳转",{to:"Subject",subjectId:d,from:"CoverSm|"+s}),n.push("Subject",{subjectId:d,_jp:i,_cn:c,_image:(0,f.getCoverSrc)(r,a),_type:s})},children:(0,h.jsxs)(p.Squircle,{width:a,height:l,radius:j.systemStore.coverRadius,children:[(0,h.jsx)(y.Cover,{src:(0,_.getCoverMedium)(r),size:a,height:l}),(0,h.jsx)(m.LinearGradient,{style:(0,_.stl)(t.linear,o&&t.linearMusic),colors:b.linearColor,pointerEvents:"none"}),(0,h.jsxs)(u.default,{style:t.desc,pointerEvents:"none",children:[(0,h.jsx)(p.Text,{size:10,type:j._.select("plain","title"),numberOfLines:1,bold:!0,children:e.info}),(0,h.jsx)(u.default,{style:j._.mt.xs,children:(0,h.jsx)(p.Katakana.Provider,{itemStyle:t.itemStyle,itemSecondStyle:t.itemSecondStyle,type:j._.select("plain","title"),size:11,numberOfLines:2,bold:!0,children:(0,h.jsx)(p.Katakana,{type:j._.select("plain","title"),size:11,bold:!0,numberOfLines:2,children:(0,_.HTMLDecode)((0,_.cnjp)(c,i))})})})]})]})})},o.COMPONENT)},"./src/screens/discovery/index/component/cover-sm/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.windowSm.contentWidth*r._.device(.34,.42);return{item:{marginRight:r._._wind+2},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-32},desc:{position:"absolute",zIndex:2,right:r._._wind-4,bottom:14,left:r._._wind-4,opacity:.92},itemStyle:{marginTop:-6},itemSecondStyle:{marginTop:0}}})},"./src/screens/discovery/index/component/cover-today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WEEKDAY_CN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverToday"),t.WEEKDAY_CN={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"}},"./src/screens/discovery/index/component/cover-today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),c=s("./src/components/index.ts"),a=s("./src/components/cover/utils.ts"),l=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=s("./src/screens/discovery/index/ds.ts"),y=s("./src/screens/discovery/index/component/cover-today/ds.ts"),j=s("./src/screens/discovery/index/component/cover-today/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=e.data,o=t.navigation,e=(0,j.memoStyles)(),n=(t=e.cover).width,t=t.height;return(0,_.jsx)(c.Touchable,{style:e.item,animate:!0,onPress:function(){var e;(0,p.t)("发现.跳转",{to:"Subject",subjectId:r.id,from:"CoverToday"}),o.push("Subject",{subjectId:r.id,_jp:r.name,_cn:r.name_cn,_image:(0,a.getCoverSrc)(null==r||null==(e=r.images)?void 0:e.common,n)})},children:(0,_.jsxs)(c.Squircle,{width:n,height:t,radius:u.systemStore.coverRadius,children:[(0,_.jsx)(l.Cover,{src:(0,m.getCoverMedium)(null==r||null==(s=r.images)?void 0:s.common),width:n,height:t}),(0,_.jsx)(i.LinearGradient,{style:e.linear,colors:f.linearColor,pointerEvents:"none"}),(0,_.jsxs)(d.default,{style:e.info,pointerEvents:"none",children:[(0,_.jsxs)(c.Text,{size:u._.device(10,13),type:u._.select("plain","title"),numberOfLines:1,bold:!0,pointerEvents:"none",children:[r.timeCN.slice(0,2),":",r.timeCN.slice(2)," · 周",y.WEEKDAY_CN[r.weekday]]}),(0,_.jsx)(d.default,{style:u._.mt.xs,pointerEvents:"none",children:(0,_.jsx)(c.Katakana.Provider,{itemStyle:e.itemStyle,itemSecondStyle:e.itemSecondStyle,size:u._.device(10,12),type:u._.select("plain","title"),numberOfLines:2,bold:!0,children:(0,_.jsx)(c.Katakana,{size:u._.device(10,12),type:u._.select("plain","title"),numberOfLines:2,bold:!0,children:(0,m.HTMLDecode)((0,m.cnjp)(r.name_cn,r.name))})})})]})]})})},y.COMPONENT)},"./src/screens/discovery/index/component/cover-today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=Math.max(100,r._.windowSm.contentWidth*r._.device(.26,.298));return{item:{marginRight:r._.device(r._._wind,r._.md)},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,top:"50%",right:0,bottom:0,left:0,marginBottom:-.5},info:{position:"absolute",zIndex:2,right:r._.sm+4,bottom:r._.sm+2,left:r._.sm+4,opacity:.92},itemStyle:{marginTop:-7},itemSecondStyle:{marginTop:-3}}})},"./src/screens/discovery/index/component/cover-xs/cover-xs.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),_=s("./src/components/index.ts"),x=s("./src/components/cover/utils.ts"),b=s("./src/screens/_/index.ts"),v=s("./src/stores/index.ts"),h=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),g=s("./src/utils/fetch/index.ts"),S=s("./src/screens/discovery/index/ds.ts"),o=s("./src/screens/discovery/index/component/cover-xs/ds.ts"),O=s("./src/screens/discovery/index/component/cover-xs/styles.ts"),T=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.imageWidth,o=e.avatarRound,n=e.title,d=e.avatar,i=e.subjectId,c=e.cover,a=e.cn,l=e.jp,u=e.name,m=e.userId,e=e.userName,p="音乐"===n,f=r,r=p?f:1.38*f;return(0,T.jsxs)(y.default,{children:[(0,T.jsx)(_.Touchable,{style:s.item,animate:!0,onPress:function(){(0,g.t)("发现.跳转",{to:"Subject",subjectId:i,from:"CoverXs|"+n}),t.push("Subject",{subjectId:i,_jp:l,_cn:a,_image:(0,x.getCoverSrc)(c,f),_type:n})},children:(0,T.jsxs)(_.Squircle,{width:f,height:r,radius:v.systemStore.coverRadius,children:[(0,T.jsx)(b.Cover,{src:(0,h.getCoverMedium)(c),width:f,height:r}),(0,T.jsx)(j.LinearGradient,{style:(0,h.stl)(s.linear,p&&s.linearMusic),colors:S.linearColor,pointerEvents:"none"}),(0,T.jsx)(_.Text,{style:s.desc,size:7,lineHeight:v._.r(7),type:v._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:u})]})}),!!d&&(0,T.jsx)(y.default,{style:s.fixed,children:(0,T.jsx)(_.UserStatus,{userId:m,mini:!0,children:(0,T.jsx)(b.Avatar,{navigation:t,size:O.AVATAR_SIZE,src:d,userId:m,name:e,radius:!o||O.AVATAR_SIZE})})})]})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{coverxs.displayName="coverxs",coverxs.__docgenInfo={description:"",displayName:"coverxs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { marginRight: number; }; linear: { position: "absolute"; zIndex: number; height: number; right: number; bottom: number; left: number; marginBottom: number; }; linearMusic: { bottom: number; }; desc: { ...; }; fixed: { ...; }; }'}},imageWidth:{defaultValue:null,description:"",name:"imageWidth",required:!0,type:{name:"number"}},avatarRound:{defaultValue:null,description:"",name:"avatarRound",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},cn:{defaultValue:null,description:"",name:"cn",required:!0,type:{name:"string"}},jp:{defaultValue:null,description:"",name:"jp",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/cover-xs/cover-xs.tsx#coverxs"]={docgenInfo:coverxs.__docgenInfo,name:"coverxs",path:"src/screens/discovery/index/component/cover-xs/cover-xs.tsx#coverxs"})}catch(e){}},"./src/screens/discovery/index/component/cover-xs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"CoverXs");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},imageWidth:0,avatarRound:!1,title:"",avatar:"",subjectId:0,cover:"",cn:"",jp:"",name:"",userId:"",userName:""}},"./src/screens/discovery/index/component/cover-xs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),c=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/index/component/cover-xs/cover-xs.tsx")),r=s("./src/screens/discovery/index/component/cover-xs/ds.ts"),l=s("./src/screens/discovery/index/component/cover-xs/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r,o,n=e.title,d=e.avatar,e=e.data,t=t.navigation;return d&&e.cover?(s=e.id,r=i.subjectStore.cn(s),o=i.subjectStore.jp(s)||e.name,(0,u.jsx)(a.default,{navigation:t,styles:(0,l.memoStyles)(),imageWidth:.2*i._.windowSm.contentWidth,avatarRound:i.systemStore.setting.avatarRound,title:n,avatar:d,subjectId:s,cover:e.cover,cn:r,jp:o,name:(0,c.HTMLDecode)((0,c.cnjp)(r,o)),userId:e.userId,userName:e.userName})):null},r.COMPONENT)},"./src/screens/discovery/index/component/cover-xs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=t.AVATAR_SIZE=void 0;var r=s("./src/stores/index.ts");t.AVATAR_SIZE=24,t.memoStyles=r._.memoStyles(function(){return{item:{marginRight:r._._wind+2},linear:{position:"absolute",zIndex:1,height:64,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-20},desc:{position:"absolute",zIndex:2,right:3,bottom:3,left:r._.r(25),minHeight:13,opacity:.92},fixed:{position:"absolute",zIndex:2,bottom:-1,left:-4}}})},"./src/screens/discovery/index/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/index/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/index/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/index/component/link-modal/index.tsx")),r=s("./src/screens/discovery/index/component/extra/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ob)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.default,{}),(0,c.jsx)(o.Track,{title:"发现",hm:["discovery","Discovery"]}),(0,c.jsx)(o.Heatmap,{bottom:n._.bottom,id:"发现",screen:"Discovery"})]})},r.COMPONENT)},"./src/screens/discovery/index/component/link-modal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LINKS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"LinkModal"),t.LINKS=[{key:"条目",value:o.HOST+"/subject/",text:o.HOST+"/subject/{ID}"},{key:"帖子",value:o.HOST+"/group/topic/",text:o.HOST+"/group/topic/{ID}"},{key:"小组",value:o.HOST+"/group/",text:o.HOST+"/group/{ID}"},{key:"虚拟人物",value:o.HOST+"/character/",text:o.HOST+"/character/{ID}"},{key:"现实人物",value:o.HOST+"/person/",text:o.HOST+"/person/{ID}"},{key:"用户空间",value:o.HOST+"/user/",text:o.HOST+"/user/{ID}"},{key:"标签",value:o.HOST+"/tag/",text:o.HOST+"/tag/{ID}"},{key:"目录",value:o.HOST+"/index/",text:o.HOST+"/index/{ID}"},{key:"日志",value:o.HOST+"/blog/",text:o.HOST+"/blog/{ID}"}]},"./src/screens/discovery/index/component/link-modal/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),_=s("./src/screens/discovery/index/component/link-modal/ds.ts"),x=s("./src/screens/discovery/index/component/link-modal/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h;t.default=(0,r.obc)((s=u.default.Component,(0,i.default)(g,s),h=v(g),(0,n.default)(g,[{key:"componentDidMount",value:function(){var s=this,e=this.context.$;(0,p.autorun)(function(){e.state.visible&&setTimeout(function(){try{var e,t;"function"==typeof(null==s||null==(e=s.iptRef)||null==(t=e.inputRef)?void 0:t.focus)&&s.iptRef.inputRef.focus()}catch(e){}},240)})}},{key:"renderModal",value:function(){var t=this,e=this.context,s=e.$,r=e.navigation,e=s.state,o=e.visible,e=e.link;return(0,b.jsxs)(f.Modal,{style:this.styles.modal,visible:o,title:"剪贴板",onClose:s.toggleLinkModal,children:[(0,b.jsxs)(m.default,{style:this.styles.container,children:[(0,b.jsx)(f.Text,{size:13,bold:!0,children:"可能由于权限问题，未能在剪贴板中匹配到链接，请手动粘贴或输入"}),(0,b.jsxs)(f.Flex,{style:y._.mt.md,align:"center",children:[(0,b.jsx)(f.Flex.Item,{children:(0,b.jsx)(f.Input,{ref:function(e){return t.iptRef=e},style:this.styles.ipt,defaultValue:e,placeholder:"输入或粘贴 bgm.tv 的链接",showClear:!0,onChangeText:s.onChangeText,onSubmitEditing:function(){return s.onLinkSubmit(r)}})}),(0,b.jsx)(f.Touchable,{style:y._.ml.md,onPress:function(){return s.onLinkSubmit(r)},children:(0,b.jsx)(f.Text,{size:13,children:"提交"})})]})]}),(0,b.jsx)(m.default,{style:this.styles.info,children:(0,b.jsx)(f.Touchable,{onPress:this.onOpenActionSheet,children:(0,b.jsx)(f.Text,{size:14,type:"sub",children:"预设"})})})]})}},{key:"renderActionSheet",value:function(){var t=this,e=this.state.show;return(0,b.jsx)(f.ActionSheet,{show:e,title:"预设",height:640,onClose:this.onCloseActionSheet,children:(0,b.jsx)(m.default,{style:y._.container.wind,children:_.LINKS.map(function(e){return(0,b.jsx)(f.Touchable,{style:t.styles.item,onPress:function(){return t.onSelect(e.value)},children:(0,b.jsxs)(f.Flex,{children:[(0,b.jsxs)(f.Flex.Item,{children:[(0,b.jsx)(f.Text,{size:15,bold:!0,children:e.key}),(0,b.jsx)(f.Text,{style:y._.mt.xs,type:"sub",size:13,bold:!0,children:e.text})]}),(0,b.jsx)(f.Iconfont,{name:"md-navigate-next"})]})},e.key)})})})}},{key:"render",value:function(){return(0,j.r)(_.COMPONENT),(0,b.jsxs)(b.Fragment,{children:[this.renderModal(),this.renderActionSheet()]})}},{key:"styles",get:function(){return(0,x.memoStyles)()}}]),g));function g(){var r;(0,o.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=h.call.apply(h,[this].concat(t)),(0,l.default)((0,d.default)(r),"state",{show:!1}),(0,l.default)((0,d.default)(r),"iptRef",void 0),(0,l.default)((0,d.default)(r),"onOpenActionSheet",function(){r.setState({show:!0},function(){try{var e,t,s;"function"==typeof(null==(e=(0,d.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.blur)&&r.iptRef.inputRef.blur()}catch(e){}})}),(0,l.default)((0,d.default)(r),"onCloseActionSheet",function(){r.setState({show:!1},function(){setTimeout(function(){try{var e,t,s;"function"==typeof(null==(e=(0,d.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.focus)&&r.iptRef.inputRef.focus()}catch(e){}},480)})}),(0,l.default)((0,d.default)(r),"onSelect",function(e){r.context.$.onChangeText(e),r.onCloseActionSheet()}),r}try{linkmodal.displayName="linkmodal",linkmodal.__docgenInfo={description:"",displayName:"linkmodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/link-modal/index.tsx#linkmodal"]={docgenInfo:linkmodal.__docgenInfo,name:"linkmodal",path:"src/screens/discovery/index/component/link-modal/index.tsx#linkmodal"})}catch(e){}},"./src/screens/discovery/index/component/link-modal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},info:{position:"absolute",zIndex:1,top:1,right:20,marginTop:-20},item:{paddingVertical:12}}})},"./src/screens/discovery/index/component/list-item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_HEIGHT=t.INITIAL_RENDER_NUMS_SM=t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"ListItem");t.COMPONENT_MAIN=(0,o.rc)(s),t.INITIAL_RENDER_NUMS_SM=r._.device(Math.floor(r._.window.contentWidth/140)+1,0),t.ITEM_HEIGHT=800,t.DEFAULT_PROPS={styles:{},style:{},index:0,type:"anime",list:[],friendsChannel:[],friendsMap:{}}},"./src/screens/discovery/index/component/list-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/discovery/index/component/list-item/list-item.tsx")),r=s("./src/screens/discovery/index/component/list-item/ds.ts"),d=s("./src/screens/discovery/index/component/list-item/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),c={};t.default=(0,o.obc)(function(e,t){var s,r=e.style,o=e.index,e=void 0===(e=e.type)?"anime":e;return!(t=t.$).state.dragging&&null!=(s=c[e]||t.ramdonHome[e])&&s.length?(null!=s&&s.length&&!c[e]&&(c[e]=s),(0,i.jsx)(n.default,{styles:(0,d.memoStyles)(),style:r,index:o,type:e,list:c[e],friendsChannel:t.friendsChannel(e),friendsMap:t.friendsMap})):null},r.COMPONENT)},"./src/screens/discovery/index/component/list-item/list-item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),l=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/index/ds.ts"),y=r(s("./src/screens/discovery/index/component/cover-lg/index.tsx")),j=r(s("./src/screens/discovery/index/component/cover-sm/index.tsx")),_=r(s("./src/screens/discovery/index/component/cover-xs/index.tsx")),x=r(s("./src/screens/discovery/index/component/section-title/index.tsx")),b=s("./src/screens/discovery/index/component/list-item/ds.ts"),v=s("./node_modules/react/jsx-runtime.js"),r=(0,o.memo)(function(e){var t=e.styles,s=e.style,r=e.index,o=e.type,n=e.list,d=e.friendsChannel,i=e.friendsMap,c=p.MODEL_SUBJECT_TYPE.getTitle(o);return(0,v.jsxs)(l.InView,{y:.64*u._.window.height+r*b.ITEM_HEIGHT,children:[(0,v.jsx)(x.default,{title:c,type:o}),(0,v.jsx)(y.default,{title:c,src:(0,m.getCoverLarge)(n[0].cover)||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(n[0].title,n[0].subjectId),data:n[0]}),(0,v.jsx)(a.HorizontalList,{style:s,contentContainerStyle:t.contentContainerStyle,data:n.filter(function(e,t){return 0<t}),initialRenderNums:b.INITIAL_RENDER_NUMS_SM,renderItem:function(e){return(0,v.jsx)(j.default,{title:c,src:e.cover||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(e.title,e.subjectId),data:e},e.subjectId)}}),!!d.length&&(0,v.jsx)(a.HorizontalList,{contentContainerStyle:t.contentContainerStyleSm,data:d.filter(function(e){return"/img/no_img.gif"!==e.cover}),initialRenderNums:f.INITIAL_RENDER_NUMS_XS,renderItem:function(e){var t;return(0,v.jsx)(_.default,{title:c,avatar:null==(t=i[e.userId])?void 0:t.avatar,data:e},e.userId+"|"+e.id)}})]})},b.DEFAULT_PROPS,b.COMPONENT_MAIN);t.default=r;try{listitem.displayName="listitem",listitem.__docgenInfo={description:"",displayName:"listitem",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ contentContainerStyle: { paddingVertical: number; paddingRight: number; paddingLeft: number; }; contentContainerStyleSm: { paddingRight: number; paddingBottom: number; paddingLeft: number; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"any[]"}},friendsChannel:{defaultValue:null,description:"",name:"friendsChannel",required:!0,type:{name:"DeepPartial<{ id: SubjectId; name: string; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; userId: UserId; userName: string; action: string; }>[]"}},friendsMap:{defaultValue:null,description:"",name:"friendsMap",required:!0,type:{name:"FriendsMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list-item/list-item.tsx#listitem"]={docgenInfo:listitem.__docgenInfo,name:"listitem",path:"src/screens/discovery/index/component/list-item/list-item.tsx#listitem"})}catch(e){}},"./src/screens/discovery/index/component/list-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingVertical:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingLeft:r._.windSm},contentContainerStyleSm:{paddingRight:r._.windSm-r._._wind,paddingBottom:r._.md+4,paddingLeft:r._.windSm}}})},"./src/screens/discovery/index/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/index/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/index/header-component/index.tsx")),a=s("./src/screens/discovery/index/component/list/utils.tsx"),r=s("./src/screens/discovery/index/component/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){return e.isFocused,e=t.$,(0,l.jsxs)(n.BlurViewRoot,{children:[(0,l.jsx)(o.ListView,{ref:e.forwardRef,keyExtractor:a.keyExtractor,style:d._.container.flex,contentContainerStyle:d._.container.bottom,progressViewOffset:d._.ios(d._.statusBarHeight,d._.headerHeight),data:e.state.home,ListHeaderComponent:(0,l.jsx)(c.default,{}),showFooter:!d.systemStore.setting.live2D&&!e.state.dragging,renderItem:a.renderItem,scrollEnabled:!e.state.dragging,scrollEventThrottle:4,onScroll:e.onScroll,onHeaderRefresh:e.onHeaderRefresh}),(0,l.jsx)(n.BlurViewBottomTab,{})]})},r.COMPONENT)},"./src/screens/discovery/index/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=a,t.renderItem=l,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/constants/index.ts"),i=r(s("./src/screens/discovery/index/component/list-item/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");function a(e){return e.type}function l(e){var t=e.item,e=e.index;return(0,c.jsxs)(o.default,{children:[(0,c.jsx)(i.default,Object.assign({},t,{index:e})),(0,c.jsx)(n.Heatmap,{id:"发现.跳转",from:d.MODEL_SUBJECT_TYPE.getTitle(t.type)})]})}try{a.displayName="keyExtractor",a.__docgenInfo={description:"",displayName:"keyExtractor",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list/utils.tsx#keyExtractor"]={docgenInfo:a.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/index/component/list/utils.tsx#keyExtractor"})}catch(e){}try{l.displayName="renderItem",l.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/list/utils.tsx#renderItem"]={docgenInfo:l.__docgenInfo,name:"renderItem",path:"src/screens/discovery/index/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/index/component/mesume/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Mesume")},"./src/screens/discovery/index/component/mesume/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./node_modules/react-native-webview/index.js"),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/discovery/index/component/mesume/utils.ts"),u=s("./src/screens/discovery/index/component/mesume/ds.ts"),m=s("./src/screens/discovery/index/component/mesume/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.dragging,s=(0,c.useIsFocused)();return(0,c.useObserver)(function(){var e;return a.STORYBOOK||t||!s?null:(e=(0,m.memoStyles)(),(0,p.jsxs)(p.Fragment,{children:[!a.IOS&&(0,p.jsx)(o.default,{style:e.prevent,children:(0,p.jsx)(d.Touchable,{style:e.touch,ripple:!1,withoutFeedback:!0,onPress:function(){}})}),(0,p.jsx)(o.default,{style:e.stage,children:(0,p.jsx)(n.WebView,{style:e.webview,source:{html:(0,l.getHtml)(i.systemStore.setting.live2DVoice)},scrollEnabled:!1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,androidHardwareAccelerationDisabled:!0})})]}))})},u.COMPONENT);try{mesume.displayName="mesume",mesume.__docgenInfo={description:"",displayName:"mesume",props:{dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/mesume/index.tsx#mesume"]={docgenInfo:mesume.__docgenInfo,name:"mesume",path:"src/screens/discovery/index/component/mesume/index.tsx#mesume"})}catch(e){}},"./src/screens/discovery/index/component/mesume/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{prevent:{position:"absolute",zIndex:1,bottom:r._.tabBarHeight+r._.xs,right:0},touch:{width:132,height:256},stage:{position:"absolute",zIndex:10,bottom:r._.tabBarHeight+r._.xs,right:0,width:128,height:256,backgroundColor:"transparent"},webview:{backgroundColor:"transparent"}}})},"./src/screens/discovery/index/component/mesume/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getHtml=function(e){return"<!DOCTYPE html>\n  <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <title>Document</title>\n      <style>\n        * {\n          padding: 0;\n          margin: 0;\n        }\n        #ukagaka_shell {\n          position: fixed;\n          bottom: 0;\n          right: 0;\n          z-index: 90;\n        }\n        #ukagaka_shell div.ui_10 {\n          width: 150px;\n          height: 355px;\n          color: #ab515d;\n        }\n        #ukagaka_shell .ukagaka_body {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n        #oml-stage {\n          position: fixed;\n          bottom: 0;\n          opacity: 0;\n          left: auto;\n          right: 0 !important;\n          z-index: 80;\n        }\n        #oml-canvas {\n          width: 100%;\n          height: 100%;\n          position: relative;\n          z-index: 81;\n        }\n      </style>\n    </head>\n    <body>\n      <div id=\"ukagaka_shell\">\n        <div class=\"ui_10\">\n          <div class=\"ukagaka_body shell_1\">\n            <div id=\"ukagaka_voice\"></div>\n          </div>\n        </div>\n      </div>\n      <script src=\"https://unpkg.com/jquery@3.6.0/dist/jquery.min.js\"><\/script>\n      <script>\n        $(document).ready(() => {\n          var chiiLib = {\n            ukagaka: {\n              playVoice: function (voice_list) {\n                var voice_id = voice_list[Math.floor(Math.random() * voice_list.length)]\n                var voice_str =\n                  '<audio><source src=\"https://s-sh-4501-bangumi-test.oss.dogecdn.com/live-2d/wave/wave' +\n                  voice_id +\n                  '.wav\" type=\"audio/wav\"></audio>'\n                $('#ukagaka_voice').html(voice_str)\n                var voice = document.querySelector('#ukagaka_voice audio')\n                voice.volume = 0.2\n                voice.play()\n              }\n            }\n          }\n\n          $.cachedScript = function (url, options) {\n            options = $.extend(options || {}, {\n              dataType: \"script\",\n              cache: true,\n              url: url,\n            });\n            return $.ajax(options);\n          };\n\n          $.cachedScript('https://bgm.tv/js/oml-cubism4.min.js?v3').done(function () {\n            var path = 'live-2d/bangumi_musume_2d.model3.json'\n            OML2D.loadOhMyLive2D({\n              sayHello: false,\n              tips: false,\n              transitionTime: 500,\n              rootElement: '#ukagaka_shell',\n              callback: {\n                ready: function () {\n                  $('#ukagaka_shell .ukagaka_body').css({\n                    'animation-name': 'oml-stage-slide-out',\n                    'animation-duration': '500ms',\n                    animationFillMode: 'forwards'\n                  })\n                },\n                hit: function (hitAreas, model) {\n                  if (hitAreas.includes('Body')) {\n                    model.motion('Tap@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([41, 40])":"")+"\n                  } else if (hitAreas.includes('Hair')) {\n                    model.motion('Tap')\n                    "+(e?"chiiLib.ukagaka.playVoice([39, 53, 29, 30, 31])":"")+"\n                  } else if (hitAreas.includes('Face')) {\n                    model.motion('Flick@Body')\n                    "+(e?"chiiLib.ukagaka.playVoice([40, 43, 44, 45, 46, 48, 49, 50, 51, 52, 59])":"")+"\n                  }\n                }\n              },\n              source: 'https://s-sh-4501-bangumi-test.oss.dogecdn.com',\n              models: {\n                path: path,\n                scale: 0.72,\n                stageStyle: { width: '140', height: '256' }\n              }\n            })\n          })\n        })\n      <\/script>\n    </body>\n  </html>"}},"./src/screens/discovery/index/component/section-title/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SectionTitle")},"./src/screens/discovery/index/component/section-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),o=s("./src/screens/discovery/index/component/section-title/ds.ts"),a=s("./src/screens/discovery/index/component/section-title/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.title,r=e.type,o=t.navigation,e=(0,a.memoStyles)();return(0,l.jsx)(d.SectionTitle,{style:e.section,right:(0,l.jsx)(n.Touchable,{style:e.touch,onPress:function(){(0,c.t)("发现.跳转",{to:"Channel",title:s,from:"SectionTitle"}),o.push("Channel",{type:r})},children:(0,l.jsxs)(n.Flex,{children:[(0,l.jsx)(n.Text,{children:"　　"}),(0,l.jsx)(n.Iconfont,{name:"md-navigate-next",color:i._.colorTitle})]})}),children:s})},o.COMPONENT)},"./src/screens/discovery/index/component/section-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{section:{marginTop:24,marginHorizontal:r._.windSm},touch:{paddingVertical:r._.xs,paddingLeft:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/discovery/index/component/sort-menu/btns/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/sort-menu/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Btns")},"./src/screens/discovery/index/component/sort-menu/btns/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/stores/system/init.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/constants/index.ts"),o=s("./src/screens/discovery/index/component/sort-menu/btns/ds.ts"),p=s("./src/screens/discovery/index/component/sort-menu/btns/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.setMenu,r=e.onCancel,e=e.onSave,o=t.navigation,t=(0,p.memoStyles)();return(0,f.jsxs)(n.default,{style:m.STORYBOOK&&t.web,children:[(0,f.jsxs)(d.Flex,{style:t.btns,justify:"end",children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsx)(d.Touchable,{style:t.touch,onPress:r,children:(0,f.jsx)(d.Flex,{style:t.btn,justify:"center",children:(0,f.jsx)(d.Text,{type:"sub",bold:!0,size:11,children:"取消"})})})}),(0,f.jsx)(d.Flex.Item,{style:c._.ml.md,children:(0,f.jsx)(d.Touchable,{style:t.touch,onPress:e,children:(0,f.jsx)(d.Flex,{style:t.btn,justify:"center",children:(0,f.jsx)(d.Text,{type:"__plain__",bold:!0,size:11,children:"保存"})})})}),(0,f.jsx)(i.IconTouchable,{style:t.refresh,name:"md-refresh",color:c._.colorDesc,onPress:function(){(0,l.confirm)("是否恢复默认菜单布局",function(){s(a.INIT_DISCOVERY_MENU)})}})]}),(0,f.jsx)(d.Touchable,{style:c._.mt.sm,onPress:function(){(0,u.t)("发现.跳转",{to:"Setting",from:"SortMenu"}),o.push("Setting",{open:"Discovery"})},children:(0,f.jsxs)(d.Flex,{style:t.setting,children:[(0,f.jsx)(d.Flex.Item,{children:(0,f.jsx)(d.Text,{children:"更多设置"})}),(0,f.jsx)(d.Iconfont,{name:"md-navigate-next",size:24})]})})]})},o.COMPONENT)},"./src/screens/discovery/index/component/sort-menu/btns/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{web:{position:"fixed",zIndex:1,right:r._.wind,bottom:100,left:r._.wind},btns:{paddingHorizontal:r._.sm,marginTop:r._.md,marginBottom:o.STORYBOOK?0:r._.md},touch:{borderRadius:r._.r(36),overflow:"hidden"},btn:{height:r._.r(36),backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:r._.r(36)},refresh:{marginRight:r._.sm,marginLeft:r._.md},setting:{paddingHorizontal:r._.sm,marginVertical:r._.sm}}})},"./src/screens/discovery/index/component/sort-menu/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,o.rc)(s.COMPONENT,"SortMenu");t.COMPONENT_MAIN=(0,o.rc)(s),t.DEFAULT_PROPS={navigation:{},styles:{},orientation:r._.orientation,dragging:!1,discoveryMenu:[],discoveryTodayOnair:!0,discoveryMenuNum:4,onToggle:function(){},onSubmit:function(){}}},"./src/screens/discovery/index/component/sort-menu/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/index/component/sort-menu/sort-menu.tsx")),r=s("./src/screens/discovery/index/component/sort-menu/ds.ts"),a=s("./src/screens/discovery/index/component/sort-menu/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var s=t.$,t=t.navigation,r=(0,a.memoStyles)();return(0,l.jsx)(o.default,{style:(0,d.stl)(r.container,n.systemStore.setting.discoveryMenuNum<5&&n._.mt.sm),children:(0,l.jsx)(c.default,{navigation:t,styles:r,orientation:n._.orientation,dragging:s.state.dragging,discoveryMenu:n.systemStore.setting.discoveryMenu,discoveryTodayOnair:n.systemStore.setting.discoveryTodayOnair,discoveryMenuNum:n.systemStore.setting.discoveryMenuNum,onToggle:s.toggleDragging,onSubmit:s.saveDiscoveryMenu})})},r.COMPONENT);try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/sort-menu/index.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/component/sort-menu/index.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/component/sort-menu/sort-menu.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),x=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),v=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),h=s("./src/components/index.ts"),g=s("./src/components/@/react-native-draggable-grid/draggable-grid.tsx"),o=s("./src/utils/decorators/index.ts"),S=s("./src/constants/index.ts"),O=s("./src/screens/discovery/index/ds.ts"),T=r(s("./src/screens/discovery/index/component/btn/index.tsx")),E=r(s("./src/screens/discovery/index/component/sort-menu/btns/index.tsx")),r=s("./src/screens/discovery/index/component/sort-menu/ds.ts"),C=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}s=(0,o.memo)(function(e){var s=e.styles,t=e.orientation,r=e.dragging,o=e.discoveryMenu,n=e.discoveryMenuNum,d=e.onToggle,i=e.onSubmit,e=(0,b.useState)(o),e=(0,x.default)(e,2),c=e[0],a=e[1],e=(0,b.useMemo)(function(){return(0,O.getMenus)(c)},[c]),l=e.findIndex(function(e){return"Open"===e.key}),u=(0,b.useCallback)(function(e,t){return(0,C.jsx)(v.default,{style:l<t&&"Cancel"!==e.key&&"Save"!==e.key&&s.transparent,children:(0,C.jsx)(T.default,{item:e})},e.key)},[l,s.transparent]),m=(0,b.useCallback)(function(e){var t=[];e.forEach(function(e){if("Save"!==e.key)return"Split"===e.key?t.push("Open"):void t.push(e.key)}),a(t)},[]),p=(0,b.useCallback)(function(){d(),setTimeout(function(){a(o)},80)},[o,d]),f=(0,b.useCallback)(function(){i(c),setTimeout(function(){d()},80)},[c,i,d]),y=(0,b.useMemo)(function(){return r&&(0,C.jsx)(E.default,{setMenu:a,onCancel:p,onSave:f})},[r,p,f]),j=t===S.ORIENTATION_PORTRAIT,e=r?[].concat((0,_.default)(e.slice(0,l)),[{key:"Split",name:"后面隐藏",text:"|",size:20}],(0,_.default)(e.slice(l+1,e.length))):e.filter(function(e,t){return t<=l});return(0,C.jsxs)(v.default,{style:r&&s.dragging,children:[j&&r&&(0,C.jsx)(h.Text,{style:s.text,size:13,bold:!0,children:"按住拖拽排序，拖动到分割线左侧显示，右侧隐藏"}),!j&&y,r?(0,C.jsx)(g.DraggableGrid,{data:e,numColumns:n,itemHeight:s.dragItem.height,renderItem:u,onDragRelease:m},t+"|"+n):(0,C.jsx)(h.Flex,{wrap:"wrap",children:e.map(function(e){return u(e)})}),j&&y]})},r.DEFAULT_PROPS,r.COMPONENT_MAIN);t.default=s;try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingHorizontal: number; minHeight: number; }; dragging: { minHeight: number; }; transparent: { opacity: number; }; text: { marginTop: number; marginLeft: number; marginBottom: number; }; dragItem: { ...; }; }"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"PORTRAIT"'},{value:'"LANDSCAPE"'}]}},dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"boolean"}},discoveryMenu:{defaultValue:null,description:"",name:"discoveryMenu",required:!0,type:{name:'("Tinygrail" | "Search" | "Calendar" | "Rank" | "Anime" | "Browser" | "Catalog" | "DiscoveryBlog" | "Tags" | "Staff" | "Smb" | "Netabare" | "Open" | "Like" | "Recommend" | "Wiki" | ... 10 more ... | "Link")[]'}},discoveryTodayOnair:{defaultValue:null,description:"",name:"discoveryTodayOnair",required:!0,type:{name:"boolean"}},discoveryMenuNum:{defaultValue:null,description:"",name:"discoveryMenuNum",required:!0,type:{name:"number"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:'(discoveryMenu: ("Tinygrail" | "Search" | "Calendar" | "Rank" | "Anime" | "Browser" | "Catalog" | "DiscoveryBlog" | "Tags" | "Staff" | "Smb" | "Netabare" | "Open" | "Like" | "Recommend" | "Wiki" | ... 10 more ... | "Link")[]) => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/sort-menu/sort-menu.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/component/sort-menu/sort-menu.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/component/sort-menu/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.windSm,minHeight:100},dragging:{minHeight:r._.web(r._.window.height-r._.tabBarHeight,0)},transparent:{opacity:r._.select(.6,.4)},text:{marginTop:r._.ios(r._.sm,r._.md),marginLeft:r._.md,marginBottom:r._.sm},dragItem:{height:o.STORYBOOK?94:(r._.windowSm.width-2*r._.windSm)/4}}})},"./src/screens/discovery/index/component/today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTP_ROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Today");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULTP_ROPS={styles:{},todayBangumi:[]}},"./src/screens/discovery/index/component/today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/index/component/today/today.tsx")),r=s("./src/screens/discovery/index/component/today/ds.ts"),i=s("./src/screens/discovery/index/component/today/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){return t=t.$,o.systemStore.setting.discoveryTodayOnair&&t.todayBangumi.length?(0,c.jsx)(d.default,{styles:(0,i.memoStyles)(),todayBangumi:t.todayBangumi}):null},r.COMPONENT);try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/today/index.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/component/today/index.tsx#today"})}catch(e){}},"./src/screens/discovery/index/component/today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.device(r._._wind,r._.md);return{contentContainerStyle:{paddingTop:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingBottom:r._.sm,paddingLeft:r._.windSm},split:{marginRight:e-r._.sm,marginLeft:-r._.sm},line:{width:2,height:2,marginVertical:r._.xs,backgroundColor:r._.colorIcon,borderRadius:2,overflow:"hidden"}}})},"./src/screens/discovery/index/component/today/today.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/index/ds.ts"),a=r(s("./src/screens/discovery/index/component/cover-today/index.tsx")),r=s("./src/screens/discovery/index/component/today/ds.ts"),l=s("./node_modules/react/jsx-runtime.js"),s=(0,i.memo)(function(e){var s=e.styles,e=e.todayBangumi;return(0,l.jsx)(n.HorizontalList,{contentContainerStyle:s.contentContainerStyle,data:e,initialRenderNums:c.INITIAL_RENDER_NUMS_XS,renderItem:function(e,t){return(0,l.jsxs)(l.Fragment,{children:[2===t&&(0,l.jsxs)(n.Flex,{style:s.split,direction:"column",justify:"center",children:[(0,l.jsx)(o.default,{style:s.line}),(0,l.jsx)(n.Text,{size:10,type:"sub",children:"now"}),(0,l.jsx)(o.default,{style:[s.line,{marginTop:d._.xs+2}]})]}),(0,l.jsx)(a.default,{data:e},e.id)]})}})},r.DEFAULTP_ROPS,r.COMPONENT_MAIN);t.default=s;try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ contentContainerStyle: { paddingTop: number; paddingRight: number; paddingBottom: number; paddingLeft: number; }; split: { marginRight: number; marginLeft: number; }; line: { width: number; height: number; marginVertical: number; backgroundColor: "rgb(200, 200, 200)" | "rgba(255, 255, 255, 0.38)"; borderRadius: nu...'}},todayBangumi:{defaultValue:null,description:"",name:"todayBangumi",required:!0,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/component/today/today.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/component/today/today.tsx#today"})}catch(e){}},"./src/screens/discovery/index/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_MAP_STORYBOOK=t.MENU_MAP=t.INITIAL_RENDER_NUMS_XS=t.COMPONENT=void 0,t.getMenus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=Object.assign({},d);n.STORYBOOK&&delete(t=Object.assign({},t,i)).Dollars;var s=[],e=(e.forEach(function(e){t[e]&&(s.push(t[e]),delete t[e])}),Object.keys(t));{var r;e.length&&(r=s.findIndex(function(e){return"Open"===e.key}),e=e.map(function(e){return t[e]}),s=[].concat((0,o.default)(s.slice(0,r)),(0,o.default)(e),(0,o.default)(s.slice(r,s.length))))}return n.STORYBOOK?s.filter(function(e){return!1!==e.web}):n.IOS?s.filter(function(e){return!1!==e.ios}):s},t.linearColor=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),d=(t.COMPONENT="Discovery",t.INITIAL_RENDER_NUMS_XS=r._.device(Math.floor(r._.window.contentWidth/80)+1,0),t.MENU_MAP={Rank:{key:"Rank",name:"排行榜",icon:"md-equalizer"},Anime:{key:"Anime",name:"找条目",icon:"md-live-tv",size:21},Browser:{key:"Browser",name:"索引",icon:"md-data-usage"},Catalog:{key:"Catalog",name:"目录",icon:"md-folder-open"},Calendar:{key:"Calendar",name:"每日放送",icon:"md-calendar-today",size:20},DiscoveryBlog:{key:"DiscoveryBlog",name:"日志",icon:"md-edit",size:21},Tags:{key:"Tags",name:"标签",icon:"md-bookmark-outline"},Open:{key:"Open",name:"自定义",icon:"md-more-horiz"},Staff:{key:"Staff",name:"新番",icon:"md-local-play"},Search:{key:"Search",name:"搜索",icon:"md-search",web:!1},Tinygrail:{key:"Tinygrail",name:"小圣杯",icon:"trophy",size:20,web:!1},Like:{key:"Like",name:"猜你喜欢",icon:"md-looks",web:!1},Recommend:{key:"Recommend",name:"AI 推荐",icon:"md-favorite-outline",size:21},BiWeekly:{key:"BiWeekly",name:"半月刊",text:"半",size:18},VIB:{key:"VIB",name:"评分月刊",text:"VIB",size:14},Dollars:{key:"Dollars",name:"Dollars",text:"D",size:20},Wiki:{key:"Wiki",name:"维基人",text:"wiki",size:14},Yearbook:{key:"Yearbook",name:"年鉴",icon:"md-whatshot",web:!1},UserTimeline:{key:"UserTimeline",name:"时间线",icon:"md-timeline",login:!0},Netabare:{key:"Netabare",name:"netaba.re",text:"N",size:18},Anitama:{key:"Anitama",name:"资讯",icon:"md-text-format",size:26,web:!1},Smb:{key:"Smb",name:"本地管理",icon:"md-inbox",size:22},DoubanSync:{key:"DoubanSync",name:"豆瓣同步",text:"豆",size:18,web:!1},BilibiliSync:{key:"BilibiliSync",name:"bilibili 同步",text:"B",size:20,web:!1},Backup:{key:"Backup",name:"本地备份",text:"CSV",size:14,web:!1},Series:{key:"Series",name:"关联系列",icon:"md-workspaces-outline",login:!0},Character:{key:"Character",name:"我的人物",icon:"md-folder-shared",login:!0},Catalogs:{key:"Catalogs",name:"我的目录",icon:"md-folder-special",login:!0},Link:{key:"Link",name:"剪贴板",icon:"md-link",web:!1}}),i=t.MENU_MAP_STORYBOOK={Setting:{key:"Setting",name:"设置",icon:"setting"},LoginToken:{key:"LoginToken",name:"授权",icon:"md-face"}};t.linearColor=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.64)","rgba(0, 0, 0, 0.84)"]},"./src/screens/discovery/index/header-component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/index/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"HeaderComponent")},"./src/screens/discovery/index/header-component/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/index/component/award/index.tsx")),a=r(s("./src/screens/discovery/index/component/sort-menu/index.tsx")),l=r(s("./src/screens/discovery/index/component/today/index.tsx")),r=s("./src/screens/discovery/index/header-component/ds.ts"),u=s("./src/screens/discovery/index/header-component/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)(function(e,t){var t=t.$,s=(0,u.memoStyles)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.StatusBarPlaceholder,{}),!t.state.dragging&&(0,m.jsxs)(o.default,{children:[(0,m.jsx)(c.default,{}),(0,m.jsx)(n.Heatmap,{id:"发现.跳转",to:"Award"})]}),(0,m.jsx)(a.default,{}),!t.state.dragging&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(n.Flex,{style:s.wrap,children:[!!t.online&&(0,m.jsxs)(n.Text,{align:"right",size:12,children:["online ",t.online]}),(0,m.jsx)(n.Flex.Item,{children:(0,m.jsx)(n.Text,{align:"right",size:12,numberOfLines:1,children:t.today||t.home.today})})]}),(0,m.jsx)(l.default,{})]})]})},r.COMPONENT);try{headercomponent.displayName="headercomponent",headercomponent.__docgenInfo={description:"",displayName:"headercomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/header-component/index.tsx#headercomponent"]={docgenInfo:headercomponent.__docgenInfo,name:"headercomponent",path:"src/screens/discovery/index/header-component/index.tsx#headercomponent"})}catch(e){}},"./src/screens/discovery/index/header-component/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{wrap:{paddingHorizontal:r._.windSm+2,marginTop:r._.md+8,marginBottom:r._.xs}}})},"./src/screens/discovery/index/hooks.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.useDiscoveryPage=function(e){var t=e.$,s=e.navigation;(0,n.useRunAfter)(function(){t.init(),s.addListener(d.EVENT_APP_TAB_PRESS+"|Discovery",function(){t.onRefreshThenScrollTop()})}),(0,n.useFocusEffect)(function(){(0,o.androidDayNightToggle)(r._.isDark)})};var r=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),n=s("./src/utils/hooks/index.ts"),d=s("./src/navigations/tab-bar/index.tsx")},"./src/screens/discovery/index/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/index/component/extra/index.tsx")),a=r(s("./src/screens/discovery/index/component/list/index.tsx")),l=r(s("./src/screens/discovery/index/component/mesume/index.tsx")),u=s("./src/screens/discovery/index/hooks.ts"),r=r(s("./src/screens/discovery/index/store/index.ts")),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=e.isFocused,r=((0,u.useDiscoveryPage)(t),t.$);return(0,i.useObserver)(function(){return(0,m.jsxs)(o.Component,{id:"screen-discovery",children:[(0,m.jsxs)(o.Page,{children:[(0,m.jsx)(a.default,{isFocused:s}),n.systemStore.setting.live2D&&(0,m.jsx)(l.default,{dragging:r.state.dragging})]}),(0,m.jsx)(c.default,{})]})})},{listenIsFocused:!0});try{index.displayName="index",index.__docgenInfo={description:"",displayName:"index",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/index.tsx#index"]={docgenInfo:index.__docgenInfo,name:"index",path:"src/screens/discovery/index/index.tsx#index"})}catch(e){}},"./src/screens/discovery/index/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.bind.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/utils/fetch/index.ts"),r=r(s("./src/screens/discovery/index/store/fetch.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var y;t.default=(s=r.default,(0,i.default)(j,s),y=f(j),(0,o.default)(j));function j(){var r;(0,n.default)(this,j);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=y.call.apply(y,[this].concat(t)),(0,l.default)((0,d.default)(r),"scrollToIndex",void 0),(0,l.default)((0,d.default)(r),"forwardRef",function(e){r.scrollToIndex=null==e?void 0:e.scrollToIndex}),(0,l.default)((0,d.default)(r),"onRefreshThenScrollTop",function(){try{"function"==typeof r.scrollToIndex&&((0,p.t)("其他.刷新到顶",{screen:"Discovery"}),r.fetchOnline(),r.scrollToIndex({animated:!0,index:0,viewOffset:8e3}))}catch(e){console.error("Discovery","onRefreshThenScrollTop",e)}}),(0,l.default)((0,d.default)(r),"toggleLinkModal",function(){var e=r.state.visible;r.setState({visible:!e})}),(0,l.default)((0,d.default)(r),"onChangeText",function(e){r.setState({link:e})}),(0,l.default)((0,d.default)(r),"onLinkSubmit",function(e){var t,s=r.state.link;s.length?(s.includes("http://")||s.includes("https://")||(s="https://"+s),(t=((0,m.matchBgmUrl)(s,!0)||[])[0])?((0,m.appNavigate)(t,e),r.setState({visible:!1,link:""}),(0,p.t)("发现.剪贴板",{link:s})):(0,m.info)("链接不符合格式")):(0,m.info)("请输入链接")}),(0,l.default)((0,d.default)(r),"toggleDragging",function(){var e=r.state.dragging;try{e||r.scrollToIndex({animated:!0,index:0,viewOffset:8e3})}catch(e){console.error("Discovery","toggleDragging",e)}r.setState({dragging:!e})}),(0,l.default)((0,d.default)(r),"toggleBlockTrain",function(){var e=r.state.showBlockTrain;r.setState({showBlockTrain:!e}),r.save()}),(0,l.default)((0,d.default)(r),"saveDiscoveryMenu",function(e){u.systemStore.setSetting("discoveryMenu",e),(0,p.t)("发现.更新菜单",{length:e.length})}),(0,l.default)((0,d.default)(r),"onScroll",m.updateVisibleBottom.bind((0,d.default)(r))),r}},"./src/screens/discovery/index/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),p=s("./src/stores/calendar/onair/index.ts"),f=s("./src/utils/index.ts"),r=r(s("./src/screens/discovery/index/store/state.ts"));function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var j;t.default=(s=r.default,(0,i.default)(_,s),j=y(_),(0,d.default)(_,[{key:"userInfo",get:function(){return m.userStore.userInfo}},{key:"home",get:function(){return m.calendarStore.home}},{key:"ramdonHome",get:function(){return Object.assign({},this.home,{anime:(0,f.appRandom)(this.home.anime,"info"),book:(0,f.appRandom)(this.home.book,"info"),game:(0,f.appRandom)(this.home.game,"info"),music:(0,f.appRandom)(this.home.music,"info"),real:(0,f.appRandom)(this.home.real,"info")})}},{key:"today",get:function(){return m.calendarStore.home.today}},{key:"isLimit",get:function(){return m.userStore.isLimit}},{key:"online",get:function(){return m.discoveryStore.online||m.systemStore.ota.online}},{key:"friendsMap",get:function(){return m.usersStore.friendsMap}},{key:"friendsChannel",value:function(e){return(0,u.computed)(function(){return m.discoveryStore.channel(e).friends}).get()}},{key:"onAir",get:function(){return m.calendarStore.onAir}},{key:"calendar",get:function(){var o=this,e=m.calendarStore.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.map(function(e){var t=o.onAir[e.id]||p.ON_AIR[e.id]||{},s=t.air,r=t.timeCN,t=t.timeJP;return Object.assign({},e,{air:void 0===s?0:s,timeCN:r||t||"2359"})}).filter(function(e){return"2359"!==e.timeCN}).sort(function(e,t){return(0,f.desc)(String(e.timeCN||""),String(t.timeCN||""))})})}),s=[];return e.forEach(function(t){t.items.forEach(function(e){s.push(Object.assign({},e,{weekday:t.weekday.id}))})}),s.reverse()}},{key:"todayBangumi",get:function(){try{var e=(0,f.date)("Hi",(0,f.getTimestamp)()),t=parseInt(""+((new Date).getDay()||7)+(e||"0000")),s=this.calendar.findIndex(function(e){return t>=parseInt(""+(e.weekDayLocal||7)+(e.timeLocal||"0000"))});return[].concat((0,o.default)(this.calendar),(0,o.default)(this.calendar),(0,o.default)(this.calendar)).slice(s-10+this.calendar.length,s+2+this.calendar.length).reverse()}catch(e){return[]}}}]),(0,l.default)((t=_).prototype,"userInfo",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"userInfo"),t.prototype),(0,l.default)(t.prototype,"home",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"home"),t.prototype),(0,l.default)(t.prototype,"ramdonHome",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"ramdonHome"),t.prototype),(0,l.default)(t.prototype,"today",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"today"),t.prototype),(0,l.default)(t.prototype,"isLimit",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"isLimit"),t.prototype),(0,l.default)(t.prototype,"online",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"online"),t.prototype),(0,l.default)(t.prototype,"friendsMap",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"friendsMap"),t.prototype),(0,l.default)(t.prototype,"onAir",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"onAir"),t.prototype),(0,l.default)(t.prototype,"calendar",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"calendar"),t.prototype),(0,l.default)(t.prototype,"todayBangumi",[u.computed],Object.getOwnPropertyDescriptor(t.prototype,"todayBangumi"),t.prototype),t);function _(){return(0,n.default)(this,_),j.apply(this,arguments)}},"./src/screens/discovery/index/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),n=s("./src/constants/index.ts"),s=s("./src/screens/discovery/index/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.EXCLUDE_STATE={visibleBottom:r._.window.height,home:{list:n.SUBJECT_TYPE.map(function(e){return{type:e.label}}),pagination:{page:1,pageTotal:1},_loaded:(0,o.getTimestamp)()},visible:!1,link:"",dragging:!1});t.STATE=Object.assign({showBlockTrain:!0},s,{_loaded:!0})},"./src/screens/discovery/index/store/fetch.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/stores/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/index/store/computed.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var y;t.default=(s=r.default,(0,i.default)(j,s),y=f(j),(0,o.default)(j));function j(){var e;(0,n.default)(this,j);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=y.call.apply(y,[this].concat(s)),(0,l.default)((0,d.default)(e),"fetchOnline",function(){return u.discoveryStore.fetchOnline()}),(0,l.default)((0,d.default)(e),"fetchChannel",function(){return(0,m.queue)(p.SUBJECT_TYPE.map(function(e){return function(){return u.discoveryStore.fetchChannel({type:e.label})}}),1)}),e}},"./src/screens/discovery/index/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.every.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/index/store/action.ts")),_=s("./src/screens/discovery/index/store/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(v,s),b=x(v);var b,r=(0,d.default)(v);function v(){var s;(0,i.default)(this,v);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=b.call.apply(b,[this].concat(t)),(0,m.default)((0,c.default)(s),"init",(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(_.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,t=t.showBlockTrain,s.setState(Object.assign({showBlockTrain:t},_.EXCLUDE_STATE)),setTimeout(function(){(0,y.queue)([function(){return!!j.STORYBOOK||s.fetchOnline()},function(){return!p.userStore.isWebLogin||s.fetchChannel()},(0,n.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.calendarStore.init("onAir");case 2:if(t=s.onAir._loaded,(0,f.getTimestamp)()-Number(t||0)<j.D)return e.abrupt("return",!0);e.next=5;break;case 5:return e.abrupt("return",p.calendarStore.fetchOnAir());case 6:case"end":return e.stop()}},e)})),(0,n.default)(o.mark(function e(){var t,s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.calendarStore.init("calendar");case 2:if(s=p.calendarStore.calendar,t=s.list,s=s._loaded,(0,f.getTimestamp)()-Number(s||0)<j.H6){if(e.prev=4,t.length&&!t.every(function(e){return 0===e.items.length}))return e.abrupt("return",!0);e.next=7}else e.next=11;break;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:return e.abrupt("return",p.calendarStore.fetchCalendar());case 12:case"end":return e.stop()}},e,null,[[4,9]])})),function(){return!!j.STORYBOOK||p.usersStore.fetchUsers()}])},800),e.abrupt("return",p.calendarStore.fetchHome());case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(s),"onHeaderRefresh",function(){return(0,y.queue)([function(){return s.fetchOnline()},function(){return p.calendarStore.fetchOnAir()},function(){return p.calendarStore.fetchCalendar()},function(){return p.calendarStore.fetchHome()}])}),s}t.default=r},"./src/screens/discovery/index/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/index/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/discovery/manga/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/manga/index.ts"),s=s("./src/constants/index.ts"),o=(t.NAMESPACE="ScreenManga",t.STATE={query:{first:"",year:2022,begin:"",status:"",tags:[],hd:"",sort:"评分人数",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=120,[[],[],[]]);r.MANGA_TAGS.forEach(function(e,t){(t%3==0?o[0]:t%3==1?o[1]:o[2]).push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.MANGA_FIRST},{title:"年份",type:"year",data:r.MANGA_YEAR,always:!0},{title:"状态",type:"status",data:r.MANGA_STATUS},{title:"类型",type:"tags",data:o,multiple:!0,multiSelect:!0},{title:"排序",type:"sort",data:r.MANGA_SORT,always:!0},{title:"收藏",type:"collected",data:r.MANGA_COLLECTED}]},"./src/screens/discovery/manga/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/manga/list/index.tsx")),r=r(s("./src/screens/discovery/manga/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-manga",children:[(0,a.jsx)(i.default,{title:"找漫画",alias:"Manga",hm:["manga","Manga"]}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(c.default,{})})]})})});try{manga.displayName="manga",manga.__docgenInfo={description:"",displayName:"manga",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/index.tsx#manga"]={docgenInfo:manga.__docgenInfo,name:"manga",path:"src/screens/discovery/manga/index.tsx#manga"})}catch(e){}},"./src/screens/discovery/manga/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/manga/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),_={id:"Manga.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,o=(0,y.memoStyles)(),s=p.otaStore.mangaSubjectId(s),n=(s=p.otaStore.manga(s)).id,d=s.mid,i=s.image,c=s.title,a=s.score,l=s.rank,s=s.publish;return n?(0,j.jsx)(m.ItemCollectionsGrid,{style:(p._.isPad||p._.isLandscape)&&!(r%e)&&o.left,navigation:t,event:_,num:e,id:n,mid:d,cover:i?"//lain.bgm.tv/pic/cover/m/"+i+".jpg":f.IMG_DEFAULT,name:c,score:a,rank:l,airtime:s,typeCn:"书籍",collection:p.collectionStore.collect(n)}):(r=p._.grid(e),(0,j.jsx)(u.Flex,{style:{width:r.width,height:f.IMG_HEIGHT_LG,marginBottom:r.marginLeft+p._.xs,marginLeft:r.marginLeft},justify:"center",children:(0,j.jsx)(u.Loading.Raw,{})}))})},"./src/screens/discovery/manga/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/manga/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),b=s("./src/components/cover/utils.ts"),v=s("./src/screens/_/index.ts"),h=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),S=s("./src/utils/fetch/index.ts"),O=s("./src/constants/index.ts"),T=s("./src/screens/discovery/manga/item/styles.ts"),E=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n=e.index,e=e.pickIndex,d=t.navigation,t=(0,T.memoStyles)(),e=h.otaStore.mangaSubjectId(e),i=(e=h.otaStore.manga(e)).id,c=e.mid,a=e.author,l=e.title,u=e.cates,m=e.ep,p=e.image,f=e.score,y=e.rank,j=e.total,_=e.status,e=e.publish;return i?(s=20<=l.length?13:14<=l.length?14:15,r=p?"https://lain.bgm.tv/pic/cover/m/"+p+".jpg":O.IMG_DEFAULT,p=String(u).split(" "),u=[_,e,a,m].filter(function(e){return!!e}).join(" / "),o=h.collectionStore.collect(i),(0,E.jsxs)(x.Touchable,{style:t.container,animate:!0,onPress:function(){d.push("Subject",{subjectId:i,_cn:l,_image:(0,b.getCoverSrc)(r,O.IMG_WIDTH_LG),_type:"书籍",_mid:c}),(0,S.t)("Manga.跳转",{subjectId:i})},children:[(0,E.jsxs)(x.Flex,{style:t.wrap,align:"start",children:[(0,E.jsx)(v.Cover,{src:r,width:O.IMG_WIDTH_LG,height:O.IMG_HEIGHT_LG,radius:!0,cdn:!(0,g.x18)(i)}),(0,E.jsxs)(x.Flex.Item,{style:h._.ml.wind,children:[(0,E.jsxs)(x.Flex,{align:"start",children:[(0,E.jsx)(x.Flex.Item,{children:(0,E.jsxs)(x.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,E.jsx)(x.Text,{size:s,bold:!0,numberOfLines:2,children:l}),(0,E.jsx)(x.Text,{size:11,lineHeight:14,children:u})]})}),(0,E.jsx)(v.Manage,{subjectId:i,collection:o,typeCn:"书籍",onPress:function(){h.uiStore.showManageModal({subjectId:i,title:l,status:O.MODEL_COLLECTION_STATUS.getValue(o),action:"读"},"找漫画")}})]}),(0,E.jsxs)(x.Flex,{style:t.bottom,children:[(0,E.jsx)(v.Rank,{value:y}),(0,E.jsx)(v.Stars,{style:h._.mr.xs,value:f,simple:!0}),!!j&&(0,E.jsxs)(x.Text,{style:h._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]}),(0,E.jsx)(x.Flex.Item,{children:(0,E.jsx)(x.Flex,{children:p.map(function(e){return(0,E.jsx)(v.Tag,{style:h._.mr.sm,value:e},e)})})})]})]})]}),0===n&&(0,E.jsx)(x.Heatmap,{id:"Manga.跳转"})]})):(0,E.jsx)(x.Flex,{style:t.loading,justify:"center",children:(0,E.jsx)(x.Loading.Raw,{})})})},"./src/screens/discovery/manga/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.58*o.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:o.IMG_HEIGHT_LG},bottom:{marginTop:o.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/manga/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/manga/item/index.tsx")),x=r(s("./src/screens/discovery/manga/item-grid/index.tsx")),b=s("./src/screens/discovery/manga/ds.ts"),v=s("./node_modules/react/jsx-runtime.js");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(S,r),g=h(S),(0,n.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,v.jsx)(p.Filter,{filterDS:b.filterDS,name:"漫画",type:"Manga",lastUpdate:j.TEXT_UPDATE_MANGA.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_MANGA+"，在版本更新前数据不会有任何变化，漫画因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，而是作者从互联网上花了很大功夫，经过筛选优化后，与 bgm.tv 相应条目对应的数据。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+b.ADVANCE_LIMIT+" 条数据的限制。\n        \n本页面只要存在的条目，均有其对应的源头。整理不易若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,v.jsx)(p.PaginationList2,{keyExtractor:O,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onMangaPage},""+r+s)):(0,v.jsxs)(v.Fragment,{children:[this.renderFilter(),(0,v.jsx)(m.Loading,{})]})}}]);var g,s=S;function S(){var s;(0,o.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=g.call.apply(g,[this].concat(t)),(0,l.default)((0,d.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,v.jsx)(_.default,{pickIndex:t,index:e}):(0,v.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function O(e){return String(e)}try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/manga/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/manga/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/manga/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),o=o(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/manga/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/screens/discovery/manga/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var h,g=!1;t.default=(s=o.default,(0,l.default)(S,s),h=v(S),(0,n.default)(S,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.mangaSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<b.ADVANCE_LIMIT})}}]),(0,f.default)((t=S).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function S(){var n;(0,c.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=h.call.apply(h,[this].concat(t)),(0,p.default)((0,a.default)(n),"params",void 0),(0,p.default)((0,a.default)(n),"state",(0,y.observable)(b.STATE)),(0,p.default)((0,a.default)(n),"init",(0,i.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(b.NAMESPACE);case 2:if(t=e.sent,n.setState(Object.assign({},t,{_loaded:g})),g){e.next=7;break}return e.next=7,(0,_.init)();case 7:return g=!0,t=n.params._tags,(s=void 0===t?[]:t).length&&n.initQuery("string"==typeof s?[s]:s),e.next=12,(0,_.init)();case 12:n.search(),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),setTimeout(function(){n.setState({_loaded:!0})},120);case 15:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(n),"search",function(t){setTimeout(function(){var e=n.state.query,e=(0,_.search)(t||e);n.setState({data:e})},80)}),(0,p.default)((0,a.default)(n),"initQuery",function(){var e=n.state.query;n.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,a.default)(n),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=n.state.query;"tags"===e?(s=void 0===(s=o.tags)?[]:s,r?n.setState({query:Object.assign({},o,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,d.default)(s),[t])})}):n.setState({query:Object.assign({},o,{tags:""===t?[]:[t]})})):n.setState({query:Object.assign({},o,(0,p.default)({},e,t))}),setTimeout(function(){n.search(),n.setStorage(b.NAMESPACE),(0,x.t)("Manga.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,a.default)(n),"scrollToOffset",null),(0,p.default)((0,a.default)(n),"scrollToTop",function(){"function"==typeof n.scrollToOffset&&(n.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("Manga.到顶"))}),(0,p.default)((0,a.default)(n),"switchLayout",function(){var e=n.isList?"grid":"list";(0,x.t)("Manga.切换布局",{layout:e}),n.setState({layout:e}),n.setStorage(b.NAMESPACE)}),(0,p.default)((0,a.default)(n),"onExpand",function(){var e=n.state.expand;n.setState({expand:!e}),n.setStorage(b.NAMESPACE)}),n}},"./src/screens/discovery/nsfw/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/nsfw/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/nsfw/component/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/nsfw/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ItemGrid"),t.EVENT={id:"NSFW.跳转"}},"./src/screens/discovery/nsfw/component/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/nsfw/component/item-grid/ds.ts"),y=s("./src/screens/discovery/nsfw/component/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,o=(0,y.memoStyles)(),s=m.otaStore.nsfwSubjectId(s),n=(s=m.otaStore.nsfw(s)).id,d=s.title,i=s.cover,c=s.score,a=s.rank,s=s.date;return n?(0,j.jsx)(u.ItemCollectionsGrid,{navigation:t,style:(m._.isPad||m._.isLandscape)&&!(r%e)&&o.left,event:f.EVENT,num:e,id:n,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":p.IMG_DEFAULT,cdn:!1,name:d,score:c,rank:a,airtime:s?String(s).slice(0,7):"",collection:m.collectionStore.collect(n)}):(t=m._.grid(e),(0,j.jsx)(l.Flex,{style:{width:t.width,height:p.IMG_HEIGHT_LG,marginBottom:t.marginLeft+m._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,j.jsx)(l.Loading.Raw,{})}))},f.COMPONENT)},"./src/screens/discovery/nsfw/component/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/nsfw/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/nsfw/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/nsfw/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),y=s("./src/components/cover/utils.ts"),j=s("./src/screens/_/index.ts"),_=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),o=s("./src/screens/discovery/nsfw/component/item/ds.ts"),v=s("./src/screens/discovery/nsfw/component/item/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,e=e.pickIndex,n=(t.$,t.navigation),t=(0,v.memoStyles)(),e=_.otaStore.nsfwSubjectId(e),d=(e=_.otaStore.nsfw(e)).id,i=e.title,c=e.cover,a=e.score,l=e.total,u=e.rank,m=e.info,p=e.date,e=e.eps;return d?(s=20<=i.length?13:14<=i.length?14:15,r=c?"https://lain.bgm.tv/pic/cover/m/"+c+".jpg":b.IMG_DEFAULT,c=m||[p,e?e+"话":""].filter(function(e){return!!e}).join(" / "),o=_.collectionStore.collect(d),(0,h.jsx)(f.Touchable,{style:t.container,animate:!0,onPress:function(){n.push("Subject",{subjectId:d,_cn:i,_image:(0,y.getCoverSrc)(r,b.IMG_WIDTH_LG)}),(0,x.t)("NSFW.跳转",{subjectId:d})},children:(0,h.jsxs)(f.Flex,{style:t.wrap,align:"start",children:[(0,h.jsx)(j.Cover,{src:r,width:b.IMG_WIDTH_LG,height:b.IMG_HEIGHT_LG,radius:!0,cdn:!1,textOnly:b.TEXT_ONLY||!_.userStore.isLogin}),(0,h.jsx)(f.Flex.Item,{style:_._.ml.wind,children:(0,h.jsxs)(f.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,h.jsxs)(f.Flex,{align:"start",children:[(0,h.jsxs)(f.Flex.Item,{children:[(0,h.jsx)(f.Text,{size:s,bold:!0,numberOfLines:3,children:i}),(0,h.jsx)(f.Text,{style:_._.mt.sm,size:11,lineHeight:14,children:c})]}),(0,h.jsx)(j.Manage,{subjectId:d,collection:o,onPress:function(){_.uiStore.showManageModal({subjectId:d,title:i,status:b.MODEL_COLLECTION_STATUS.getValue(o)},"找NSFW")}})]}),(0,h.jsxs)(f.Flex,{style:_._.mt.md,wrap:"wrap",children:[(0,h.jsx)(j.Rank,{value:u}),(0,h.jsx)(j.Stars,{style:_._.mr.xs,value:a,simple:!0}),!!l&&(0,h.jsxs)(f.Text,{type:"sub",size:11,bold:!0,children:["(",l,")"]})]})]})})]})})):(0,h.jsx)(f.Flex,{style:t.loading,justify:"center",children:(0,h.jsx)(f.Loading.Raw,{})})},o.COMPONENT)},"./src/screens/discovery/nsfw/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:o.IMG_HEIGHT_LG},loading:{height:o.IMG_HEIGHT_LG}}})},"./src/screens/discovery/nsfw/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/nsfw/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/nsfw/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),_=s("./src/screens/discovery/nsfw/ds.ts"),x=r(s("./src/screens/discovery/nsfw/component/item/index.tsx")),b=r(s("./src/screens/discovery/nsfw/component/item-grid/index.tsx")),v=s("./src/screens/discovery/nsfw/component/list/utils.ts"),h=s("./src/screens/discovery/nsfw/component/list/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(T,r),O=S(T),(0,n.default)(T,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){var e=this.context.navigation;return(0,g.jsx)(p.Filter,{filterDS:_.filterDS,name:"NSFW",type:"NSFW",lastUpdate:"2024-07",information:"数据最后快照于 2024-07-22，在版本更新前数据不会有任何变化。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能仅对正常登录用户开放，非高级会员在一个条件下会有最多只显示前 "+_.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!",renderRight:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.Touchable,{style:f._.mr.xs,onPress:function(){e.push("Hentai")},children:(0,g.jsx)(m.Text,{size:11,type:"sub",bold:!0,children:"前往旧版 ·"})})})})}},{key:"render",value:function(){(0,j.r)(h.COMPONENT);var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,g.jsx)(p.PaginationList2,{keyExtractor:v.keyExtractor,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onNSFWPage},""+r+s)):(0,g.jsxs)(g.Fragment,{children:[this.renderFilter(),(0,g.jsx)(m.Loading,{})]})}}]);var O,s=T;function T(){var s;(0,o.default)(this,T);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=O.call.apply(O,[this].concat(t)),(0,l.default)((0,d.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,g.jsx)(x.default,{pickIndex:t}):(0,g.jsx)(b.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/nsfw/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/nsfw/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/nsfw/component/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e){return String(e)}},"./src/screens/discovery/nsfw/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.COMPONENT=t.ADVANCE_LIMIT=void 0;s=s("./src/utils/subject/nsfw/index.ts");t.COMPONENT="NSFW",t.ADVANCE_LIMIT=40,t.filterDS=[{title:"类型",type:"type",data:s.NSFW_TYPE,always:!0},{title:"年份",type:"year",data:s.NSFW_YEAR,always:!0},{title:"排序",type:"sort",data:s.NSFW_SORT,always:!0},{title:"收藏",type:"collected",data:s.NSFW_COLLECTED}]},"./src/screens/discovery/nsfw/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),l=r(s("./src/screens/discovery/nsfw/component/list/index.tsx")),r=r(s("./src/screens/discovery/nsfw/store/index.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-nsfw",children:[(0,u.jsx)(a.default,{title:"找条目",alias:"NSFW",hm:["nsfw","NSFW"]}),(0,u.jsx)(o.Page,{loaded:s.state._loaded,children:d.userStore.isLimit?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.FilterSwitch,{name:"NSFW"}),(0,u.jsx)(o.Text,{style:d._.mt.lg,align:"center",children:"游客或您所在的用户组暂不开放此功能"})]}):(0,u.jsx)(l.default,{})})]})})});try{nsfw.displayName="nsfw",nsfw.__docgenInfo={description:"",displayName:"nsfw",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/nsfw/index.tsx#nsfw"]={docgenInfo:nsfw.__docgenInfo,name:"nsfw",path:"src/screens/discovery/nsfw/index.tsx#nsfw"})}catch(e){}},"./src/screens/discovery/nsfw/store/action.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/fetch/index.ts"),r=r(s("./src/screens/discovery/nsfw/store/fetch.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var p;t.default=(s=r.default,(0,i.default)(f,s),p=m(f),(0,o.default)(f));function f(){var s;(0,n.default)(this,f);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=p.call.apply(p,[this].concat(t)),(0,l.default)((0,d.default)(s),"onSelect",function(e,t){s.setState({query:Object.assign({},s.state.query,(0,l.default)({},e,t))}),setTimeout(function(){s.search(),s.save(),(0,u.t)("NSFW.选择",{type:e,value:t})},0)}),(0,l.default)((0,d.default)(s),"scrollToOffset",null),(0,l.default)((0,d.default)(s),"scrollToTop",function(){"function"==typeof s.scrollToOffset&&(s.scrollToOffset({x:0,y:0,animated:!0}),(0,u.t)("NSFW.到顶"))}),(0,l.default)((0,d.default)(s),"switchLayout",function(){var e=s.isList?"grid":"list";(0,u.t)("NSFW.切换布局",{layout:e}),s.setState({layout:e}),s.save()}),(0,l.default)((0,d.default)(s),"onExpand",function(){s.setState({expand:!s.state.expand}),s.save()}),s}},"./src/screens/discovery/nsfw/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/screens/discovery/nsfw/ds.ts"),r=r(s("./src/screens/discovery/nsfw/store/state.ts"));function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var f;t.default=(s=r.default,(0,d.default)(y,s),f=p(y),(0,n.default)(y,[{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=u.otaStore.nsfwSubjectId(e);return!u.collectionStore.collect(e)})),t=u.systemStore.advance?t:t.filter(function(e,t){return t<m.ADVANCE_LIMIT})}}]),(0,a.default)((t=y).prototype,"isList",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,a.default)(t.prototype,"total",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,a.default)(t.prototype,"list",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function y(){return(0,o.default)(this,y),f.apply(this,arguments)}},"./src/screens/discovery/nsfw/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=void 0;var r=s("./src/constants/index.ts"),s=s("./src/screens/discovery/nsfw/ds.ts");t.NAMESPACE="Screen"+s.COMPONENT,t.STATE={query:{type:r.MODEL_SUBJECT_TYPE.getValue("动画"),year:2024,sort:"评分人数",collected:""},data:r.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1}},"./src/screens/discovery/nsfw/store/fetch.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./src/utils/subject/nsfw/index.ts"),r=r(s("./src/screens/discovery/nsfw/store/computed.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var p;t.default=(s=r.default,(0,i.default)(f,s),p=m(f),(0,o.default)(f));function f(){var t;(0,n.default)(this,f);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=p.call.apply(p,[this].concat(s)),(0,l.default)((0,d.default)(t),"search",function(e){setTimeout(function(){t.setState({data:(0,u.search)(e||t.state.query)})},80)}),t}},"./src/screens/discovery/nsfw/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/subject/nsfw/index.ts"),r=r(s("./src/screens/discovery/nsfw/store/action.ts")),y=s("./src/screens/discovery/nsfw/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _,x=!1,r=(s=r.default,(0,a.default)(b,s),_=j(b),(0,d.default)(b));function b(){var t;(0,i.default)(this,b);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=_.call.apply(_,[this].concat(s)),(0,m.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(y.NAMESPACE);case 5:if(e.t3=e.sent,e.t4={_loaded:x},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),x){e.next=12;break}return e.next=12,(0,f.init)();case 12:x=!0,p.collectionStore.fetchUserCollectionsQueue(!1),t.search(),setTimeout(function(){t.setState({_loaded:!0})},120);case 16:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/discovery/nsfw/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/nsfw/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.setStorage(m.NAMESPACE)}),e}},"./src/screens/discovery/rank/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/rank/component/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_GRID=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Grid"),t.EVENT_GRID={id:"排行榜.跳转",data:{type:"grid"}}},"./src/screens/discovery/rank/component/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/discovery/rank/component/grid/ds.ts"),f=s("./src/screens/discovery/rank/component/grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var o=t.$,n=t.navigation,d=(0,f.memoStyles)(),t=o.list.list,s=o.rank._filter,i=l._.portrait(3,5);return(0,y.jsxs)(c.Flex,{style:d.grid,wrap:"wrap",align:"start",children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=l.collectionStore.collect(s);return(0,y.jsx)(a.ItemCollectionsGrid,Object.assign({navigation:n,style:!(t%i)&&d.left,num:i,event:p.EVENT_GRID,airtime:""===o.state.airtime&&(0,u.matchYear)(e.tip)},e,{id:s,cover:e.cover||o.cover(e.id),typeCn:m.MODEL_SUBJECT_TYPE.getTitle(o.state.type),collection:r,isCollect:e.collected,isRectangle:"音乐"===m.MODEL_SUBJECT_TYPE.getTitle(o.state.type)}),e.id)}):(0,y.jsx)(c.Empty,{}),!!s&&(0,y.jsx)(a.FilterText,{value:s})]})},p.COMPONENT);try{grid.displayName="grid",grid.__docgenInfo={description:"",displayName:"grid",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/grid/index.tsx#grid"]={docgenInfo:grid.__docgenInfo,name:"grid",path:"src/screens/discovery/rank/component/grid/index.tsx#grid"})}catch(e){}},"./src/screens/discovery/rank/component/grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{grid:{paddingHorizontal:r._.wind,paddingVertical:r._.md},left:{marginLeft:0}}})},"./src/screens/discovery/rank/component/layout/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Layout")},"./src/screens/discovery/rank/component/layout/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/rank/component/grid/index.tsx")),i=r(s("./src/screens/discovery/rank/component/list/index.tsx")),c=r(s("./src/screens/discovery/rank/component/pagination/index.tsx")),a=r(s("./src/screens/discovery/rank/component/tool-bar/index.tsx")),r=s("./src/screens/discovery/rank/component/layout/ds.ts"),l=s("./src/screens/discovery/rank/component/layout/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){return(t=t.$).state.show&&t.list._loaded?(0,u.jsxs)(o.ScrollView,{forwardRef:t.forwardRef,contentContainerStyle:l.styles.scrollView,scrollEventThrottle:4,onScroll:t.onScroll,children:[!t.state.fixed&&(0,u.jsx)(a.default,{}),t.state.list?(0,u.jsx)(i.default,{}):(0,u.jsx)(d.default,{}),!t.state.fixedPagination&&(0,u.jsx)(c.default,{})]}):(0,u.jsxs)(o.Flex.Item,{children:[!t.state.fixed&&(0,u.jsx)(a.default,{}),(0,u.jsx)(o.Loading,{})]})},r.COMPONENT);try{layout.displayName="layout",layout.__docgenInfo={description:"",displayName:"layout",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/layout/index.tsx#layout"]={docgenInfo:layout.__docgenInfo,name:"layout",path:"src/screens/discovery/rank/component/layout/index.tsx#layout"})}catch(e){}},"./src/screens/discovery/rank/component/layout/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({scrollView:{paddingBottom:s._.md}})},"./src/screens/discovery/rank/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_LIST=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT_LIST={id:"排行榜.跳转",data:{type:"list"}}},"./src/screens/discovery/rank/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),l=s("./src/screens/discovery/rank/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var o=t.$,n=t.navigation,t=o.list.list,s=o.rank._filter;return(0,u.jsxs)(u.Fragment,{children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=a.MODEL_SUBJECT_TYPE.getTitle(o.state.type),s=c.collectionStore.collect(s,r);return(0,u.jsx)(i.ItemSearch,Object.assign({style:c._.container.item,navigation:n,index:t,collection:s,typeCn:r,event:l.EVENT_LIST},e,{cover:e.cover||o.cover(e.id)}),e.id)}):(0,u.jsx)(d.Empty,{}),!!s&&(0,u.jsx)(i.FilterText,{value:s}),(0,u.jsx)(d.Heatmap,{id:"排行榜.跳转"})]})},l.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/rank/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/rank/component/pagination/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Pagination"),t.HEATMAPS={prev:"排行榜.上一页",next:"排行榜.下一页",search:"排行榜.页码跳转"}},"./src/screens/discovery/rank/component/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/rank/component/pagination/ds.ts"),d=s("./src/screens/discovery/rank/component/pagination/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).type,r=r.ipt;return(0,i.jsx)(o.Pagination,{style:d.styles.pagination,input:r[s],heatmaps:n.HEATMAPS,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})},n.COMPONENT);try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/rank/component/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/rank/component/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({pagination:{marginTop:r._.xs,marginBottom:s.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}})},"./src/screens/discovery/rank/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/rank/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/rank/component/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=t.$,o=(t=r.state).type,t=t.filter;switch(o=i.MODEL_SUBJECT_TYPE.getTitle(o)){case"书籍":s=i.MODEL_RANK_BOOK_FILTER;break;case"游戏":s=i.MODEL_RANK_GAME_FILTER;break;case"三次元":s=i.MODEL_RANK_REAL_FILTER;break;default:s=i.MODEL_RANK_ANIME_FILTER}var n=s.getLabel(t);return"音乐"!==o&&(0,c.jsx)(d.ToolBar.Popover,{data:s.data.map(function(e){return e.label}),text:"全部"===n?"类型":n,type:""===t?void 0:"desc",heatmap:"排行榜.筛选选择",onSelect:function(e){return r.onFilterSelect(e,s)}},o)});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/rank/component/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/rank/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/rank/component/tool-bar/filter.tsx")),i=r(s("./src/screens/discovery/rank/component/tool-bar/month.tsx")),c=r(s("./src/screens/discovery/rank/component/tool-bar/more.tsx")),a=r(s("./src/screens/discovery/rank/component/tool-bar/type.tsx")),l=r(s("./src/screens/discovery/rank/component/tool-bar/year.tsx")),r=s("./src/screens/discovery/rank/component/tool-bar/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,u.jsxs)(o.ToolBar,{children:[(0,u.jsx)(a.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(i.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(c.default,{})]})},r.COMPONENT)},"./src/screens/discovery/rank/component/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_MONTH,text:s?s+"月":"月",type:""===s?void 0:"desc",heatmap:"排行榜.月选择",onSelect:t.onMonthSelect})});try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/rank/component/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/rank/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).list,o=t.fixed,n=t.fixedPagination,t=t.collected;return(0,c.jsx)(d.ToolBar.Popover,{data:["选项 · "+(o?"锁定上方":"浮动"),"布局 · "+(r?"列表":"网格"),"收藏 · "+(t?"显示":"不显示"),"分页 · "+(n?"锁定下方":"浮动")],icon:"md-more-vert",iconColor:i._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleToolbar("fixed"):e.includes("布局")?s.onToggleList():e.includes("收藏")?s.onToggleToolbar("collected"):e.includes("分页")?s.onToggleToolbar("fixedPagination"):void 0}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/rank/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/rank/component/tool-bar/type.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=d.MODEL_SUBJECT_TYPE.getTitle(s);return(0,i.jsx)(o.ToolBar.Popover,{data:d.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:n._.colorDesc,text:s,type:"desc",heatmap:"排行榜.类型选择",onSelect:t.onTypeSelect})});try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/tool-bar/type.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/discovery/rank/component/tool-bar/type.tsx#type"})}catch(e){}},"./src/screens/discovery/rank/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_AIRTIME,text:s||"年",type:""===s?void 0:"desc",heatmap:"排行榜.年选择",onSelect:t.onAirdateSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/rank/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Rank"},"./src/screens/discovery/rank/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/rank/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/rank/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/rank/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(o.Header,{title:"排行榜",hm:[s.url,"Rank"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:c.DATA,onSelect:function(e){(0,d.t)("排行榜.右上角菜单",{key:e}),e===c.TEXT_BROWSER?(0,n.open)(s.url):e===c.TEXT_SPA&&(e=i.URL_SPA+"/"+(0,n.getSPAParams)("Rank"),(0,n.open)(e))},children:(0,a.jsx)(o.Heatmap,{id:"排行榜.右上角菜单"})})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/rank/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/rank/component/layout/index.tsx")),c=r(s("./src/screens/discovery/rank/component/pagination/index.tsx")),a=r(s("./src/screens/discovery/rank/component/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/rank/header/index.tsx")),r=r(s("./src/screens/discovery/rank/store/index.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-rank",children:[(0,u.jsx)(l.default,{}),(0,u.jsxs)(o.Page,{children:[s.state.fixed&&(0,u.jsx)(a.default,{}),s.state._loaded&&(0,u.jsx)(i.default,{}),s.state.fixedPagination&&(0,u.jsx)(c.default,{})]})]})})});try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/rank/store/action.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),y=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/rank/store/fetch.ts"));function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _;t.default=(s=r.default,(0,a.default)(x,s),_=j(x),(0,n.default)(x));function x(){var n;(0,i.default)(this,x);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=_.call.apply(_,[this].concat(s)),(0,m.default)((0,c.default)(n),"scrollTo",void 0),(0,m.default)((0,c.default)(n),"forwardRef",function(e){e&&(n.scrollTo=e)}),(0,m.default)((0,c.default)(n),"resetScrollView",(t=(0,d.default)(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.save(),!t){e.next=8;break}if(n.rank._loaded){e.next=7;break}return e.next=5,n.fetchRank();case 5:e.next=8;break;case 7:n.fetchRank();case 8:setTimeout(function(){"function"==typeof n.scrollTo&&n.scrollTo({x:0,y:0,animated:!1})},0);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(n),"onTypeSelect",function(e){(0,f.t)("排行榜.类型选择",{type:e}),n.setState({type:y.MODEL_SUBJECT_TYPE.getLabel(e),filter:""}),n.resetScrollView(!0)}),(0,m.default)((0,c.default)(n),"onFilterSelect",function(e,t){(0,f.t)("排行榜.筛选选择",{filter:e}),n.setState({filter:"全部"===e?"":t.getValue(e)}),n.resetScrollView(!0)}),(0,m.default)((0,c.default)(n),"onAirdateSelect",function(e){(0,f.t)("排行榜.年选择",{airtime:e});var t=n.state,s=t.type,r=t.currentPage,t=t.ipt;n.setState({airtime:"全部"===e?"":e,month:"",currentPage:Object.assign({},r,(0,m.default)({},s,1)),ipt:Object.assign({},t,(0,m.default)({},s,"1"))}),n.resetScrollView(!0)}),(0,m.default)((0,c.default)(n),"onMonthSelect",function(e){var t=n.state,s=t.airtime,r=t.type,o=t.currentPage,t=t.ipt;""===s?(0,p.info)("请先选择年"):((0,f.t)("排行榜.月选择",{month:e}),n.setState({month:"全部"===e?"":e,currentPage:Object.assign({},o,(0,m.default)({},r,1)),ipt:Object.assign({},t,(0,m.default)({},r,"1"))}),n.resetScrollView(!0))}),(0,m.default)((0,c.default)(n),"onToggleList",function(){var e=n.state.list;(0,f.t)("排行榜.切换布局",{list:!e}),n.setState({list:!e}),n.resetScrollView()}),(0,m.default)((0,c.default)(n),"onToggleToolbar",function(e){n.setState((0,m.default)({},e,!n.state[e])),n.save()}),(0,m.default)((0,c.default)(n),"onPrev",function(){var e=n.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];1!==t[s]&&((0,f.t)("排行榜.上一页",{type:s,page:r-1}),n.setState({currentPage:Object.assign({},t,(0,m.default)({},s,r-1)),ipt:Object.assign({},e,(0,m.default)({},s,String(r-1)))}),n.resetScrollView(!0))}),(0,m.default)((0,c.default)(n),"onNext",function(){var e=n.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];(0,f.t)("排行榜.下一页",{type:s,page:r+1}),n.setState({currentPage:Object.assign({},t,(0,m.default)({},s,r+1)),ipt:Object.assign({},e,(0,m.default)({},s,String(r+1)))}),n.resetScrollView(!0)}),(0,m.default)((0,c.default)(n),"onChange",function(e){var e=e.nativeEvent.text,t=n.state,s=t.type,t=t.ipt;n.setState({ipt:Object.assign({},t,(0,m.default)({},s,e))})}),(0,m.default)((0,c.default)(n),"doSearch",function(){var e=n.state,t=e.type,s=e.currentPage,e=e.ipt,r=""===e[t]?1:parseInt(e[t]);r<1?(0,p.info)("请输入正确页码"):((0,f.t)("排行榜.页码跳转",{type:t,page:r}),n.setState({currentPage:Object.assign({},s,(0,m.default)({},t,r)),ipt:Object.assign({},e,(0,m.default)({},t,String(r)))}),n.resetScrollView(!0))}),(0,m.default)((0,c.default)(n),"onScroll",p.updateVisibleBottom.bind((0,c.default)(n))),n}},"./src/screens/discovery/rank/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/rank/store/state.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var y;t.default=(s=r.default,(0,d.default)(j,s),y=f(j),(0,n.default)(j,[{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"rank",get:function(){var t,e=this.state,s=e.type,r=e.filter,o=e.airtime,n=e.month,e=e.currentPage,e=u.tagStore.rank(s,e[s],r,n?o+"-"+n:o);return u.userStore.isLimit?(t=0,Object.assign({},e,{list:e.list.filter(function(e){e=(0,m.x18)(e.id);return e&&(t+=1),!e}),_filter:t})):e}},{key:"list",get:function(){return this.rank._loaded?this.state.collected?this.rank:Object.assign({},this.rank,{list:this.rank.list.filter(function(e){return!e.collected})}):this.ota||p.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,e=e.airtime;return(0,p.HTML_RANK)(s,"rank",t[s],r,e)}},{key:"subject",value:function(e){return(0,l.computed)(function(){return u.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,o=e.airtime,e=e.month;return"rank_"+[s,r,e?o+"-"+e:o,t[s]].join("_")}},{key:"cover",value:function(t){var e;return this.ota&&(null==(e=this.ota.list.find(function(e){return e.id===t}))?void 0:e.cover)||""}}]),(0,a.default)((t=j).prototype,"ota",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,a.default)(t.prototype,"rank",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"rank"),t.prototype),(0,a.default)(t.prototype,"list",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,a.default)(t.prototype,"url",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"thirdPartyKey",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function j(){return(0,o.default)(this,j),y.apply(this,arguments)}},"./src/screens/discovery/rank/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DEFAULT_TYPE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/rank/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.DEFAULT_TYPE=o.MODEL_SUBJECT_TYPE.getLabel("动画")),r=t.EXCLUDE_STATE={visibleBottom:r._.window.height,show:!0,ota:{}};t.STATE=Object.assign({page:0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},type:s,filter:"",airtime:"",month:"",list:!0,fixed:o.STORYBOOK,fixedPagination:o.STORYBOOK,collected:!0},r,{_loaded:!1})},"./src/screens/discovery/rank/store/fetch.ts":(e,t,s)=>{var c=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),j=s("./src/utils/kv/index.ts"),r=r(s("./src/screens/discovery/rank/store/computed.ts")),_=["collected"];function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var b,v=[];t.default=(s=r.default,(0,i.default)(h,s),b=x(h),(0,d.default)(h));function h(){var i;(0,a.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=b.call.apply(b,[this].concat(t)),(0,p.default)((0,l.default)(i),"fetchRank",(0,n.default)(c.mark(function e(){var t,s,r,o,n,d;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.fetchThirdParty(),d=i.state,t=d.currentPage,s=d.type,n=d.filter,r=d.airtime,d=d.month,e.next=4,f.tagStore.fetchRank({type:s,filter:n,airtime:d?r+"-"+d:r,page:t[s]});case 4:return(o=e.sent).list.length&&i.thirdPartyKey in i.state.ota&&(d=(null==(n=i.ota)?void 0:n.ts)||0,604800<=(0,y.getTimestamp)()-d)&&i.updateThirdParty(),setTimeout(function(){f.collectionStore.fetchCollectionStatusQueue(o.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchThirdParty",(0,n.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.tagStore.init("rank");case 2:setTimeout((0,n.default)(c.mark(function e(){var t;return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ota||i.rank._loaded){e.next=8;break}return e.next=3,(0,j.get)(i.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return i.setState({ota:(0,p.default)({},i.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:i.setState({ota:(0,p.default)({},i.thirdPartyKey,Object.assign({},t,{_loaded:(0,y.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)})),80);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"updateThirdParty",(0,n.default)(c.mark(function e(){return c.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(i.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,j.update)(i.thirdPartyKey,{list:i.rank.list.map(function(e){e.collected;return(0,o.default)(e,_)})}),v.push(i.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),i}},"./src/screens/discovery/rank/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=r(s("./src/screens/discovery/rank/store/action.ts")),p=s("./src/screens/discovery/rank/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(j,s),y=f(j);var y,r=(0,d.default)(j);function j(){var t;(0,i.default)(this,j);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=y.call.apply(y,[this].concat(s)),(0,m.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(p.NAMESPACE);case 5:return e.t3=e.sent,e.t4=p.EXCLUDE_STATE,e.t5={_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),e.abrupt("return",t.fetchRank());case 11:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/discovery/rank/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/rank/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/discovery/recommend/component/category/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/recommend/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Category"),t.DATA=["默认","动画","书籍","游戏","音乐","三次元"]},"./src/screens/discovery/recommend/component/category/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/recommend/component/category/ds.ts"),i=s("./src/screens/discovery/recommend/component/category/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,c.jsx)(n.Popover,{style:i.styles.touch,data:d.DATA,onSelect:t.onSelect,children:(0,c.jsx)(o.Button,{style:i.styles.btn,styleText:i.styles.text,size:"sm",type:"ghostMain",children:t.state.cat||"默认"})})},d.COMPONENT);try{category.displayName="category",category.__docgenInfo={description:"",displayName:"category",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/component/category/index.tsx#category"]={docgenInfo:category.__docgenInfo,name:"category",path:"src/screens/discovery/recommend/component/category/index.tsx#category"})}catch(e){}},"./src/screens/discovery/recommend/component/category/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderTopLeftRadius:34,borderBottomLeftRadius:34,overflow:"hidden"},btn:{width:68,height:40,paddingLeft:4,borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:34,borderBottomLeftRadius:34},text:{width:68}})},"./src/screens/discovery/recommend/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/recommend/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/recommend/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT=t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/recommend/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"推荐.跳转"},t.SORT=[{key:"top",title:"最受好评",desc:"分数超过 8分, 看过人数超过 10000 的作品"},{key:"pop",title:"近年流行",desc:"近年来的流行作品，收藏数的排名在前 20%"},{key:"tv",title:"TV",desc:"通常的 tv 动画"},{key:"old_tv",title:"老 TV",desc:"06 年及以前的老动画"},{key:"movie",title:"剧场版",desc:"动画电影 / 剧场版"},{key:"old_movie",title:"老剧场版",desc:"06 年及以前动画电影 / 剧场版"},{key:"nsfw",title:"NSFW",desc:"绝大多数是里番"}]},"./src/screens/discovery/recommend/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/constants/index.ts"),p=s("./src/screens/discovery/recommend/component/list/ds.ts"),f=s("./src/screens/discovery/recommend/component/list/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,d=t.$,i=t.navigation;return d.state.searching?(0,y.jsx)(a.Loading,{style:u._.container.flex}):"v1"===(t=d.state.cat)?(s=d.state.data,(0,y.jsx)(a.ScrollView,{contentContainerStyle:u._.container.bottom,keyboardDismissMode:"on-drag",onScroll:d.onScroll,children:p.SORT.slice().sort(function(e,t){return(0,o.desc)(!(null==(e=s[e.key])||!e.length),!(null==(e=s[t.key])||!e.length))}).map(function(e){return(0,y.jsxs)(c.default,{style:u._.mv.md,children:[(0,y.jsx)(a.Text,{style:u._.ml.md,size:20,bold:!0,children:e.title}),(0,y.jsx)(c.default,{style:f.styles.list,children:s[e.key].map(function(e,t){var s=d.subject(e),r=d.subjectOSS(e);return s.jp||r.name||s.cn||r.name_cn?(0,y.jsx)(l.ItemSearch,{style:u._.container.item,navigation:i,index:t,id:"/subject/"+e,typeCn:"动画",name:s.jp||r.name,nameCn:s.cn||r.name_cn,cover:s.image||r.image,rank:s.rank||r.rank,score:s.rating.score||(null==(t=r.rating)?void 0:t.score),total:"("+(s.rating.total||(null==(t=r.rating)?void 0:t.total)||0)+")",tip:[s.eps||r.totalEps?(s.eps||r.totalEps)+"话":"",s.date||r.date,r.origin,r.director].filter(function(e){return!!e}).join(" / "),event:p.EVENT},String(e)):(0,y.jsx)(a.Flex,{style:f.styles.loading,justify:"center",children:(0,y.jsx)(a.Loading.Raw,{})},String(e))})})]},e.key)})})):(t=d.state.dataV2[t]||[],(0,y.jsx)(a.ScrollView,{contentContainerStyle:u._.container.bottom,keyboardDismissMode:"on-drag",onScroll:d.onScroll,children:(0,y.jsx)(c.default,{style:f.styles.list,children:t.map(function(e,t){var s=e.sid,r=e.type,e=e.score,o=d.subject(s),n=d.subjectOSS(s);return o.jp||n.name||o.cn||n.name_cn?(0,y.jsxs)(c.default,{style:[u._.container.item,f.styles.recItem],children:[(0,y.jsx)(l.ItemSearch,{navigation:i,index:t,id:"/subject/"+s,typeCn:m.MODEL_SUBJECT_TYPE.getTitle(r||o.type||n.type),name:o.jp||n.name,nameCn:o.cn||n.name_cn,cover:o.image||n.image,rank:o.rank||n.rank,score:o.rating.score||(null==(t=n.rating)?void 0:t.score),total:"("+(o.rating.total||(null==(r=n.rating)?void 0:r.total)||0)+")",tip:[o.eps||n.totalEps?(o.eps||n.totalEps)+"话":"",o.date||n.date,n.origin,n.director].filter(function(e){return!!e}).join(" / "),showManage:!1,event:p.EVENT}),(0,y.jsx)(c.default,{style:f.styles.recBadge,pointerEvents:"none",children:(0,y.jsxs)(a.Text,{overrideStyle:f.styles.recText,children:[e,m.IOS?"":" "]})})]},String(s)):null})})}))},p.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/recommend/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/recommend/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts");t.styles=r._.create({list:{minHeight:80},loading:{height:s.IMG_HEIGHT_LG},recItem:{paddingRight:20},recBadge:{position:"absolute",zIndex:1,top:8,right:r._.ios(20,14)+r._.wind-r._._wind,opacity:.5},recText:{fontFamily:"Avenir",fontStyle:"italic",fontWeight:"900",fontSize:32,lineHeight:40,letterSpacing:-2}})},"./src/screens/discovery/recommend/component/search-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/recommend/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SearchBar")},"./src/screens/discovery/recommend/component/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/recommend/component/search-bar/ds.ts"),d=s("./src/screens/discovery/recommend/component/search-bar/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,d.memoStyles)();return(0,i.jsx)(o.Flex,{style:s.searchBar,children:(0,i.jsx)(o.Input,{style:s.searchIpt,value:t.state.value,returnKeyType:"search",returnKeyLabel:"查询",placeholder:"输入用户 ID",onChange:t.onChange,onSubmitEditing:t.doSearchV2})})},n.COMPONENT);try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/component/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/recommend/component/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/recommend/component/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchBar:{borderTopRightRadius:34,borderBottomRightRadius:34,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),overflow:"hidden"},searchIpt:Object.assign({height:40},r._.fontSize12,{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:0}),split:{width:1,height:16,marginRight:8,borderLeftWidth:1,borderColor:r._.colorBorder}}})},"./src/screens/discovery/recommend/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.HOST_REC=t.EXCLUDE_STATE=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./config.ts"),o=(t.COMPONENT="Recommend",t.NAMESPACE="ScreenRecommend",t.HOST_REC=o.STORYBOOK?s.HOST_PROXY:"https://bangrecs.net",t.EXCLUDE_STATE={visibleBottom:r._.window.height,cat:"动画",focus:!1,searching:!1});t.STATE=Object.assign({},o,{value:"",e:"",data:{top:[],pop:[],tv:[],old_tv:[],movie:[],old_movie:[],nsfw:[],_loaded:0},dataV2:{"默认":[],"动画":[],"书籍":[],"游戏":[],"音乐":[],"三次元":[]},subjects:{},_loaded:!1})},"./src/screens/discovery/recommend/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/recommend/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/recommend/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./src/screens/discovery/recommend/header/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.navigation;return(0,i.jsx)(o.Header,{title:"AI 推荐",hm:["recommend","Recommend"],headerRight:function(){return n.STORYBOOK?null:(0,i.jsx)(o.Header.Popover,{data:["说明","帖子讨论"],onSelect:function(e){"说明"===e?s.push("Tips",{key:"hyrzz32whgurgg6t"}):"帖子讨论"===e&&s.push("Topic",{topicId:"group/382655"})}})}})},d.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/recommend/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/recommend/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),u=r(s("./src/screens/discovery/recommend/component/category/index.tsx")),m=r(s("./src/screens/discovery/recommend/component/list/index.tsx")),p=r(s("./src/screens/discovery/recommend/component/search-bar/index.tsx")),f=r(s("./src/screens/discovery/recommend/header/index.tsx")),r=r(s("./src/screens/discovery/recommend/store/index.ts")),y=s("./src/screens/discovery/recommend/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){var e=(0,y.memoStyles)();return(0,j.jsxs)(n.Component,{id:"screen-recommend",children:[(0,j.jsx)(f.default,{}),(0,j.jsxs)(n.Page,{children:[(0,j.jsxs)(n.Flex,{style:e.searchBar,children:[(0,j.jsx)(u.default,{}),(0,j.jsx)(n.Flex.Item,{children:(0,j.jsx)(p.default,{})}),(0,j.jsx)(n.Button,{style:e.btn,type:"ghostPlain",size:"sm",onPress:s.doSearchV2,children:"查询"})]}),(0,j.jsx)(m.default,{})]}),l.STORYBOOK&&(0,j.jsx)(o.default,{style:e.home,children:(0,j.jsx)(d.IconTouchable,{name:"home",size:17,color:i._.colorSub,onPress:function(){return r.push("Discovery")}})})]})})});try{recommend.displayName="recommend",recommend.__docgenInfo={description:"",displayName:"recommend",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/index.tsx#recommend"]={docgenInfo:recommend.__docgenInfo,name:"recommend",path:"src/screens/discovery/recommend/index.tsx#recommend"})}catch(e){}},"./src/screens/discovery/recommend/store/action.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/utils/index.ts"),f=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/recommend/store/fetch.ts")),y=s("./src/screens/discovery/recommend/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var _;t.default=(s=r.default,(0,a.default)(x,s),_=j(x),(0,d.default)(x));function x(){var s;(0,i.default)(this,x);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=_.call.apply(_,[this].concat(t)),(0,m.default)((0,c.default)(s),"onChange",function(e){e=e.nativeEvent.text;s.setState({value:e})}),(0,m.default)((0,c.default)(s),"onChangeE",function(e){e=e.nativeEvent.text;s.setState({e:e})}),(0,m.default)((0,c.default)(s),"onSelect",function(t){setTimeout((0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({cat:t}),e.next=3,s.doSearchV2();case 3:if(f.STORYBOOK){e.next=6;break}return e.next=6,s.fetchSubjects();case 6:return e.next=8,s.fetchSubjectsFromOSS();case 8:s.setStorage(y.NAMESPACE);case 9:case"end":return e.stop()}},e)})),16)}),(0,m.default)((0,c.default)(s),"onScroll",p.updateVisibleBottom.bind((0,c.default)(s))),s}},"./src/screens/discovery/recommend/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),r=r(s("./src/screens/discovery/recommend/store/state.ts"));function m(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var p;t.default=(s=r.default,(0,d.default)(f,s),p=m(f),(0,n.default)(f,[{key:"ids",get:function(){var t,s=[],e=this.state.cat;return"v1"===e?(t=this.state.data,["top","pop","tv","old_tv","movie","old_movie","nsfw"].forEach(function(e){t[e].forEach(function(e){s.push(e)})})):(this.state.dataV2[e]||[]).forEach(function(e){return s.push(e.sid)}),s}},{key:"subject",value:function(e){return(0,l.computed)(function(){return u.subjectStore.subjectV2(e)}).get()}},{key:"subjectOSS",value:function(e){var t=this;return(0,l.computed)(function(){return t.state.subjects["subject_"+e]||{}}).get()}}]),(0,a.default)((t=f).prototype,"ids",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"ids"),t.prototype),t);function f(){return(0,o.default)(this,f),p.apply(this,arguments)}},"./src/screens/discovery/recommend/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.HOST_REC=t.EXCLUDE_STATE=t.COMPONENT=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./config.ts"),o=(t.COMPONENT="Recommend",t.NAMESPACE="ScreenRecommend",t.HOST_REC=o.STORYBOOK?s.HOST_PROXY:"https://cf.bangrecs.net",t.EXCLUDE_STATE={visibleBottom:r._.window.height,cat:"动画",focus:!1,searching:!1});t.STATE=Object.assign({},o,{value:"",e:"",data:{top:[],pop:[],tv:[],old_tv:[],movie:[],old_movie:[],nsfw:[],_loaded:0},dataV2:{"默认":[],"动画":[],"书籍":[],"游戏":[],"音乐":[],"三次元":[]},subjects:{},_loaded:!1})},"./src/screens/discovery/recommend/store/fetch.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.entries.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.number.to-fixed.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),_=s("./src/utils/kv/index.ts"),x=r(s("./src/utils/thirdParty/axios.js")),b=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/recommend/store/computed.ts")),v=s("./src/screens/discovery/recommend/store/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(s);return e=r?(e=(0,p.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,m.default)(this,e)}}var g;t.default=(s=r.default,(0,c.default)(S,s),g=h(S),(0,d.default)(S));function S(){var c;(0,i.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return c=g.call.apply(g,[this].concat(t)),(0,f.default)((0,u.default)(c),"fetchSubjects",(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))),(0,f.default)((0,u.default)(c),"fetchSubjectsFromOSS",(0,o.default)(a.mark(function e(){var t,s,r,o,d,i;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,n.default)(c.ids)).length){e.next=3;break}return e.abrupt("return",!0);case 3:if(s=c.state.subjects,r=(0,y.getTimestamp)(),o=[],t.forEach(function(e){var t;c.subject(e).id||(!(t=(s[e]||{})._loaded)||3600<=r-Number(t))&&(!(t=c.subjectOSS(e)._loaded)||3600<=r-Number(t))&&o.push("subject_"+e)}),o.length){e.next=9;break}return e.abrupt("return",!0);case 9:return e.prev=9,console.info("fetchSubjectsFromOSS",o),d=["name","name_cn","image","rank","rating","totalEps","info","staff","tags"],e.next=14,(0,_.gets)(o,d);case 14:i=e.sent,Object.entries(i).forEach(function(e){var t,s,r,o,e=(0,l.default)(e,2),n=e[0],e=e[1];try{i[n]=(0,y.pick)(e,d),i[n].info&&(i[n].date=(null==(t=i[n].info.match(/<li><span>(发售日|放送开始|上映年度|上映时间): <\/span>(.+?)<\/li>/))?void 0:t[2])||""),delete i[n].info,!i[n].date&&Array.isArray(i[n].tags)&&((s=i[n].tags.find(function(e){return/^\d+年\d+月$/.test(e.name)}))&&(i[n].date=s.name),s=i[n].tags.find(function(e){return/^\d{4}$/.test(e.name)}))&&(i[n].date=s.name),delete i[n].tags,Array.isArray(i[n].staff)&&(r=i[n].staff.find(function(e){return"原作"===e.desc}),i[n].origin=(null==r?void 0:r.name)||(null==r?void 0:r.nameJP)||"",o=i[n].staff.find(function(e){return"导演"===e.desc}),i[n].director=(null==o?void 0:o.name)||(null==o?void 0:o.nameJP)||"",i[n].director||(o=i[n].staff.find(function(e){return"作者"===e.desc||"开发"===e.desc||"音乐"===e.desc}),i[n].director=(null==o?void 0:o.name)||(null==o?void 0:o.nameJP)||"")),delete i[n].staff,i[n]._loaded=(0,y.getTimestamp)()}catch(e){}}),c.setState({subjects:i}),c.setStorage(v.NAMESPACE),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}},e,null,[[9,20]])}))),(0,f.default)((0,u.default)(c),"doSearchV2",(0,o.default)(a.mark(function e(){var t,s,r,o,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=c.state,s=r.cat,r=r.value){e.next=4;break}return e.abrupt("return");case 4:return c.setState({searching:!0}),o=b.MODEL_SUBJECT_TYPE.getValue(s),e.next=8,(0,x.default)({method:"POST",url:v.HOST_REC+"/api/v4/rec/"+r.trim(),data:{IsTagFilter:!1,IsTimeFilter:!1,popdays:7,strategy:"p",tags:[[]],topk:40,type:String(o||0),update_f:!1}});case 8:if(n=e.sent,n=n.data,null!=(t=n)&&t.data&&(n=n.data),(0,j.t)("推荐.刷新",{value:r.trim(),type:o||0}),!Array.isArray(n)||!n.length){e.next=22;break}if(c.setState({dataV2:(0,f.default)({},s,n.sort(function(e,t){return(0,y.desc)(e.score,t.score)}).map(function(e){return{sid:e.sid,type:e.type,score:e.score.toFixed(1)}}))}),b.STORYBOOK){e.next=17;break}return e.next=17,c.fetchSubjects();case 17:return e.next=19,c.fetchSubjectsFromOSS();case 19:c.setStorage(v.NAMESPACE),e.next=23;break;case 22:null!=(t=n)&&t.message&&(c.setState({dataV2:(0,f.default)({},s,[])}),c.setStorage(v.NAMESPACE),(0,y.info)(n.message));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),(0,y.info)("获取出错，请重试");case 28:c.setState({searching:!1});case 29:case"end":return e.stop()}},e,null,[[0,25]])}))),c}},"./src/screens/discovery/recommend/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/recommend/store/action.ts")),y=s("./src/screens/discovery/recommend/store/ds.ts");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(x,s),_=j(x);var _,r=(0,d.default)(x);function x(){var t;(0,i.default)(this,x);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=_.call.apply(_,[this].concat(s)),(0,m.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(y.NAMESPACE);case 5:if(e.t3=e.sent,e.t4=y.EXCLUDE_STATE,e.t5={_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),f.STORYBOOK){e.next=14;break}return!t.state.value&&p.userStore.myId&&t.setState({value:String(p.userStore.myId)}),e.next=14,t.fetchSubjects();case 14:return e.abrupt("return",t.fetchSubjectsFromOSS());case 15:case"end":return e.stop()}},e)}))),t}t.default=r},"./src/screens/discovery/recommend/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/recommend/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),e}},"./src/screens/discovery/recommend/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchBar:{paddingTop:r._.sm,paddingBottom:r._.md,paddingHorizontal:r._.wind},btn:{width:68,height:40,marginLeft:r._.sm,borderRadius:40},home:{position:"fixed",zIndex:1001,top:9,right:10}}})},"./src/screens/discovery/search/component/advance/advance.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./src/components/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/search/component/advance/hooks.ts"),o=s("./src/screens/discovery/search/component/advance/ds.ts"),m=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var s=e.navigation,r=e.styles,t=e.cat,o=e.value,n=e.onSubmit,e=(0,u.useResult)(t,o),t=e.result,d=e.substrings;return(0,m.jsx)(i.default,{children:t.map(function(t){return(0,m.jsx)(i.default,{style:r.item,children:(0,m.jsxs)(c.Flex,{style:r.content,children:[(0,m.jsx)(c.Flex.Item,{children:(0,m.jsx)(c.Touchable,{onPress:function(){n(t),(0,l.t)("搜索.模糊查询点击",{text:(0,a.t2s)(o.toLocaleUpperCase()).trim()})},children:(0,m.jsx)(c.Highlight,{size:20<=t.length?11:12<=t.length?12:14,bold:!0,value:o,numberOfLines:2,children:t})})}),(0,m.jsx)(c.Touchable,{style:r.search,onPress:function(){return n(t)},children:(0,m.jsx)(c.Iconfont,{name:"md-search",size:20})}),(0,m.jsx)(c.Touchable,{style:r.open,onPress:function(){var e=d.current[t];s.push("Subject",{subjectId:e}),(0,l.t)("搜索.模糊查询跳转",{subjectId:e})},children:(0,m.jsx)(c.Iconfont,{name:"md-open-in-new",size:17})})]})},t)})})},o.DEFAULT_PROPS,o.COMPONENT_MAIN);t.default=s;try{advance.displayName="advance",advance.__docgenInfo={description:"",displayName:"advance",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { paddingHorizontal: number; }; content: { paddingVertical: number; }; search: { padding: number; borderRadius: number; overflow: "hidden"; }; open: { padding: number; marginRight: number; marginLeft: number; borderRadius: number; overflow: "hidden"; }; }'}},cat:{defaultValue:null,description:"",name:"cat",required:!0,type:{name:"enum",value:[{value:'"subject_all"'},{value:'"subject_2"'},{value:'"subject_1"'},{value:'"subject_3"'},{value:'"subject_4"'},{value:'"subject_6"'},{value:'"mono_all"'},{value:'"user"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/advance/advance.tsx#advance"]={docgenInfo:advance.__docgenInfo,name:"advance",path:"src/screens/discovery/search/component/advance/advance.tsx#advance"})}catch(e){}},"./src/screens/discovery/search/component/advance/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/search/component/ds.ts"),s=s("./src/screens/discovery/search/store/ds.ts"),n=t.COMPONENT=(0,r.rc)(n.COMPONENT,"Advance");t.COMPONENT_MAIN=(0,r.rc)(n),t.DEFAULT_PROPS={navigation:{},styles:{},cat:s.STATE.cat,value:s.STATE.value,onSubmit:o.FN}},"./src/screens/discovery/search/component/advance/hooks.ts":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/regenerator/index.js"),s=(a("./node_modules/core-js/modules/es.object.define-property.js"),a("./node_modules/core-js/modules/es.map.js"),a("./node_modules/core-js/modules/es.object.to-string.js"),a("./node_modules/core-js/modules/es.string.iterator.js"),a("./node_modules/core-js/modules/es.array.iterator.js"),a("./node_modules/core-js/modules/web.dom-collections.iterator.js"),a("./node_modules/core-js/modules/es.string.trim.js"),a("./node_modules/core-js/modules/es.object.keys.js"),a("./node_modules/core-js/modules/es.array.for-each.js"),a("./node_modules/core-js/modules/web.dom-collections.for-each.js"),a("./node_modules/core-js/modules/es.object.assign.js"),a("./node_modules/core-js/modules/es.array.sort.js"),a("./node_modules/core-js/modules/es.array.includes.js"),a("./node_modules/core-js/modules/es.string.includes.js"),a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.useResult=function(n,d){var e=(0,u.useState)([]),e=(0,o.default)(e,2),t=e[0],i=e[1],c=(0,u.useRef)({});return(0,u.useEffect)(function(){function e(){return(e=(0,r.default)(l.mark(function e(){var t,s,r,o;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,m.t2s)(d.toLocaleUpperCase()).trim()){e.next=5;break}return i([]),e.abrupt("return");case 5:!d||"subject_1"!==n||Object.keys(j).length?e.next=9:(j=a("./src/assets/json/substrings/book.json"),e.next=20);break;case 9:!d||"subject_4"!==n||Object.keys(_).length?e.next=13:(_=a("./src/assets/json/substrings/game.json"),e.next=20);break;case 13:if(d&&!Object.keys(y).length)return e.next=16,(0,p.decode)("bangumi-data");e.next=20;break;case 16:s={},(0,p.get)("bangumi-data").forEach(function(e){s[e.c||e.j]=e.id}),y=Object.assign({},s,a("./src/assets/json/substrings/anime.json"),a("./src/assets/json/substrings/alias.json"));case 20:if(f.has(t))return i(f.get(t)),e.abrupt("return");e.next=23;break;case 23:r=[],d&&"subject_1"===n?(r=Object.keys(j).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),c.current=j):d&&"subject_4"===n?(r=Object.keys(_).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),c.current=_):d&&(r=Object.keys(y).sort(function(e,t){return(0,m.asc)(e.length,t.length)}),c.current=y),o=[],r.forEach(function(e){10<=o.length||e.toLocaleUpperCase().includes(t)&&o.push(e)}),o.sort(function(e,t){return(0,m.desc)(c.current[e],c.current[t])}),i(o),f.set(t,o),e.next=34;break;case 32:e.prev=32,e.t0=e.catch(0);case 34:case"end":return e.stop()}},e,null,[[0,32]])}))).apply(this,arguments)}d.length<2||!function(){e.apply(this,arguments)}()},[n,d]),{result:t,substrings:c}},s(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=s(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),u=a("./node_modules/react/index.js"),m=a("./src/utils/index.ts"),p=a("./src/utils/protobuf/index.web.ts"),f=new Map,y={},j={},_={}},"./src/screens/discovery/search/component/advance/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/discovery/search/component/advance/advance.tsx")),r=s("./src/screens/discovery/search/component/advance/ds.ts"),d=s("./src/screens/discovery/search/component/advance/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s=t.$,r=t.navigation;return s.showAdvance?(0,i.jsx)(n.default,{navigation:r,styles:(0,d.memoStyles)(),cat:s.state.cat,value:s.state.value,onSubmit:function(e){return s.onAdvance(e,r)}}):null},r.COMPONENT);try{advance.displayName="advance",advance.__docgenInfo={description:"",displayName:"advance",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/advance/index.tsx#advance"]={docgenInfo:advance.__docgenInfo,name:"advance",path:"src/screens/discovery/search/component/advance/index.tsx#advance"})}catch(e){}},"./src/screens/discovery/search/component/advance/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},content:{paddingVertical:r._.xs},search:{padding:r._.sm,borderRadius:20,overflow:"hidden"},open:{padding:r._.sm,marginRight:-r._.sm,marginLeft:r._.sm,borderRadius:20,overflow:"hidden"}}})},"./src/screens/discovery/search/component/btn-submit/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"BtnSubmit")},"./src/screens/discovery/search/component/btn-submit/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/search/component/btn-submit/ds.ts"),c=s("./src/screens/discovery/search/component/btn-submit/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,a.jsxs)(o.default,{style:d._.ml.sm,children:[(0,a.jsx)(n.Button,{style:c.styles.btn,type:"ghostPlain",size:"sm",onPress:function(){return s.onSubmit(r)},children:s.isUser?"前往":"查询"}),(0,a.jsx)(n.Heatmap,{id:"搜索.搜索"})]})},i.COMPONENT);try{btnsubmit.displayName="btnsubmit",btnsubmit.__docgenInfo={description:"",displayName:"btnsubmit",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/btn-submit/index.tsx#btnsubmit"]={docgenInfo:btnsubmit.__docgenInfo,name:"btnsubmit",path:"src/screens/discovery/search/component/btn-submit/index.tsx#btnsubmit"})}catch(e){}},"./src/screens/discovery/search/component/btn-submit/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({btn:{width:s._.r(68),height:40,borderRadius:40,overflow:"hidden"}})},"./src/screens/discovery/search/component/category/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Category")},"./src/screens/discovery/search/component/category/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./src/screens/discovery/search/component/category/ds.ts"),c=s("./src/screens/discovery/search/component/category/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,a.jsxs)(n.Popover,{style:c.styles.touch,data:d.SEARCH_CAT.map(function(e){return e.label}),onSelect:t.onSelect,children:[(0,a.jsx)(o.Button,{style:c.styles.btn,styleText:c.styles.text,size:"sm",type:"ghostMain",children:d.MODEL_SEARCH_CAT.getLabel(t.state.cat)}),(0,a.jsx)(o.Heatmap,{id:"搜索.切换类型"})]})},i.COMPONENT);try{category.displayName="category",category.__docgenInfo={description:"",displayName:"category",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/category/index.tsx#category"]={docgenInfo:category.__docgenInfo,name:"category",path:"src/screens/discovery/search/component/category/index.tsx#category"})}catch(e){}},"./src/screens/discovery/search/component/category/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{borderTopLeftRadius:40,borderBottomLeftRadius:40,overflow:"hidden"},btn:{width:s._.r(68),height:40,paddingLeft:s._.r(4),borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:40,borderBottomLeftRadius:40},text:{width:s._.r(68)}})},"./src/screens/discovery/search/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/search/component/history/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"History")},"./src/screens/discovery/search/component/history/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/search/component/history/ds.ts"),c=s("./src/screens/discovery/search/component/history/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r=t.$;return(t=r.state.history).length&&""===r.state.value?(s=(0,c.memoStyles)(),(0,a.jsxs)(o.default,{style:d._.mt.sm,children:[t.map(function(e){return(0,a.jsx)(o.default,{style:s.item,children:(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.Flex.Item,{children:(0,a.jsx)(n.Text,{size:15,bold:!0,onPress:function(){return r.selectHistory(e)},children:e})}),(0,a.jsx)(n.Touchable,{style:s.close,onPress:function(){return r.deleteHistory(e)},children:(0,a.jsx)(n.Iconfont,{name:"md-close"})})]})},e)}),!!t.length&&(0,a.jsx)(o.default,{style:s.clear,children:(0,a.jsx)(n.Text,{type:"sub",size:15,bold:!0,onPress:r.deleteHistoryAll,children:"清除历史"})}),(0,a.jsx)(n.Heatmap,{right:52,id:"搜索.选择历史"}),(0,a.jsx)(n.Heatmap,{id:"搜索.删除历史",transparent:!0})]})):null},i.COMPONENT);try{history.displayName="history",history.__docgenInfo={description:"",displayName:"history",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/history/index.tsx#history"]={docgenInfo:history.__docgenInfo,name:"history",path:"src/screens/discovery/search/component/history/index.tsx#history"})}catch(e){}},"./src/screens/discovery/search/component/history/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},close:{padding:r._.sm,marginLeft:r._.md,borderRadius:20,overflow:"hidden"},clear:{paddingHorizontal:r._.wind,marginTop:r._.sm}}})},"./src/screens/discovery/search/component/legacy/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EXCLUDE_DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Legacy"),t.EXCLUDE_DS=["人物","用户"]},"./src/screens/discovery/search/component/legacy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./src/screens/discovery/search/component/legacy/ds.ts"),c=s("./src/screens/discovery/search/component/legacy/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,t=t.$;return i.EXCLUDE_DS.includes(d.MODEL_SEARCH_CAT.getLabel(t.state.cat))?null:(s=(0,c.memoStyles)(),(0,a.jsxs)(n.Popover,{style:s.touch,data:d.SEARCH_LEGACY.map(function(e){return e.label}),onSelect:t.onLegacySelect,children:[(0,a.jsx)(o.Button,{style:s.btn,styleText:s.text,type:"ghostPlain",size:"sm",children:d.MODEL_SEARCH_LEGACY.getLabel(t.state.legacy)}),(0,a.jsx)(o.Heatmap,{id:"搜索.切换细分类型"})]}))},i.COMPONENT);try{legacy.displayName="legacy",legacy.__docgenInfo={description:"",displayName:"legacy",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/legacy/index.tsx#legacy"]={docgenInfo:legacy.__docgenInfo,name:"legacy",path:"src/screens/discovery/search/component/legacy/index.tsx#legacy"})}catch(e){}},"./src/screens/discovery/search/component/legacy/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{touch:{borderTopRightRadius:40,borderBottomRightRadius:40,overflow:"hidden"},btn:{width:r._.r(68),height:40,paddingRight:r._.r(4),borderWidth:r._.select(r._.hairlineWidth,0),borderLeftWidth:0,borderColor:r._.colorBorder,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:40,borderBottomRightRadius:40},text:{width:r._.r(68)}}})},"./src/screens/discovery/search/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/search/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/search/component/list/utils.tsx"),c=s("./src/screens/discovery/search/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return(t=t.$).state.searching?(0,a.jsx)(o.Loading,{style:n._.container.flex}):t.search._loaded?(0,a.jsx)(o.ListView,{contentContainerStyle:n._.container.bottom,keyExtractor:d.keyExtractor,data:t.search,keyboardDismissMode:"on-drag",scrollToTop:!0,renderItem:i.renderItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.doSearch}):null},c.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/search/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/search/component/list/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/list/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.EVENT={id:"搜索.跳转"}},"./src/screens/discovery/search/component/list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),i=s("./src/screens/discovery/search/component/list/item/ds.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,r=String(s.id).replace("/subject/",""),r=n.collectionStore.collect(r);return(0,c.jsx)(o.ItemSearch,Object.assign({style:n._.container.item,navigation:t,index:e,event:i.EVENT},s,{typeCn:d.MODEL_SUBJECT_TYPE.getTitle(s.type),collection:r}))})},"./src/screens/discovery/search/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=r(s("./src/screens/discovery/search/component/list/item/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.default,{item:t,index:e}),!e&&(0,d.jsx)(o.Heatmap,{id:"搜索.跳转"})]})}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/search/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/search/component/search-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"SearchBar")},"./src/screens/discovery/search/component/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),o=s("./src/screens/discovery/search/component/search-bar/ds.ts"),c=s("./src/screens/discovery/search/component/search-bar/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,c.memoStyles)(),o=i.MODEL_SEARCH_CAT.getLabel(s.state.cat);return(0,a.jsx)(n.Input,{style:(0,d.stl)(t.searchIpt,["人物","用户"].includes(o)&&t.radius),value:s.state._value,returnKeyType:"search",returnKeyLabel:"搜索",placeholder:s.isUser?"输入完整的用户Id":"输入关键字",autoFocus:!0,onChangeText:s.onChangeText,onFocus:s.onFocus,onBlur:s.onBlur,onSubmitEditing:function(){return s.onSubmit(r)},accessibilityRole:"search"})},o.COMPONENT);try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/component/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/search/component/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/search/component/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{searchIpt:Object.assign({height:40,paddingVertical:0,paddingRight:4,paddingLeft:12},r._.fontSize12,{backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderRadius:0}),radius:{borderTopRightRadius:40,borderBottomRightRadius:40}}})},"./src/screens/discovery/search/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Search"},"./src/screens/discovery/search/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/search/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/search/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),c=s("./src/screens/discovery/search/header/ds.ts"),a=s("./src/screens/discovery/search/header/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,l.jsx)(o.Header,{title:"搜索",hm:[s.url,"Search"],headerRight:function(){return(0,l.jsxs)(o.Flex,{children:[n.systemStore.setting.s2t&&(0,l.jsx)(o.Touchable,{style:a.styles.touch,onPress:s.onT2S,children:(0,l.jsx)(o.Text,{bold:!0,children:"简"})}),(0,l.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("搜索.右上角菜单",{key:e}),(0,d.open)(s.url))},children:(0,l.jsx)(o.Heatmap,{id:"搜索.右上角菜单"})})]})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/search/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/search/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({touch:{padding:s._.sm,marginRight:s._.xs}})},"./src/screens/discovery/search/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),c=s("./src/utils/hooks/index.ts"),a=s("./src/constants/index.ts"),l=r(s("./src/screens/discovery/search/component/advance/index.tsx")),u=r(s("./src/screens/discovery/search/component/btn-submit/index.tsx")),m=r(s("./src/screens/discovery/search/component/category/index.tsx")),p=r(s("./src/screens/discovery/search/component/history/index.tsx")),f=r(s("./src/screens/discovery/search/component/legacy/index.tsx")),y=r(s("./src/screens/discovery/search/component/list/index.tsx")),j=r(s("./src/screens/discovery/search/component/search-bar/index.tsx")),_=r(s("./src/screens/discovery/search/header/index.tsx")),r=r(s("./src/screens/discovery/search/store/index.ts")),x=s("./src/screens/discovery/search/styles.ts"),b=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,c.useRunAfter)(function(){s.init()}),(0,c.useObserver)(function(){return(0,b.jsxs)(n.Component,{id:"screen-search",children:[a.STORYBOOK?(0,b.jsx)(o.default,{style:d._.mt.md}):(0,b.jsx)(_.default,{}),(0,b.jsxs)(n.Page,{children:[(0,b.jsxs)(n.Flex,{style:x.styles.searchBar,children:[(0,b.jsx)(m.default,{}),(0,b.jsx)(n.Flex.Item,{children:(0,b.jsx)(j.default,{})}),(0,b.jsx)(f.default,{}),(0,b.jsx)(u.default,{})]}),(0,b.jsx)(l.default,{}),(0,b.jsx)(p.default,{}),(0,b.jsx)(y.default,{})]})]})})});try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/index.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/discovery/search/index.tsx#search"})}catch(e){}},"./src/screens/discovery/search/store/action.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/search/store/fetch.ts"));function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var x;t.default=(s=r.default,(0,a.default)(b,s),x=_(b),(0,n.default)(b));function b(){var n;(0,i.default)(this,b);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=x.call.apply(x,[this].concat(s)),(0,m.default)((0,c.default)(n),"initState",function(){setTimeout(function(){var e=n.params,t=e._type,s=e._value,r=e.type,e=e.value;(r||t)&&n.setState({cat:j.MODEL_SEARCH_CAT.getValue(r||t)}),(e||s)&&(n.setState({_value:String(e||s),value:String(e||s)}),n.save(),n.doSearch())},40)}),(0,m.default)((0,c.default)(n),"onSelect",function(e){var t=n.state.cat,e=j.MODEL_SEARCH_CAT.getValue(e);e!==t&&((0,y.t)("搜索.切换类型",{cat:e}),n.setState({cat:e}),n.save(),n.state.value)&&n.doSearch()}),(0,m.default)((0,c.default)(n),"onLegacySelect",function(e){var t=n.state.legacy,e=j.MODEL_SEARCH_LEGACY.getValue(e);e!==t&&((0,y.t)("搜索.切换细分类型",{legacy:e}),n.setState({legacy:e}),n.save(),n.state.value)&&n.doSearch()}),(0,m.default)((0,c.default)(n),"onChangeText",function(e){var t={_value:e};e&&(t.focus=!0),n.setState(t),n.onChangeTextConfirm(e)}),(0,m.default)((0,c.default)(n),"onChangeTextConfirm",function(e){n.setState({value:e})}),(0,m.default)((0,c.default)(n),"selectHistory",function(e){(0,y.t)("搜索.选择历史",{value:e}),n.setState({_value:e,value:e})}),(0,m.default)((0,c.default)(n),"deleteHistory",function(t){(0,y.t)("搜索.删除历史",{value:t});var e=n.state.history;n.setState({history:e.filter(function(e){return e!==t})}),n.save()}),(0,m.default)((0,c.default)(n),"deleteHistoryAll",function(){n.setState({history:[]}),n.save()}),(0,m.default)((0,c.default)(n),"onSubmit",(t=(0,o.default)(d.mark(function e(t){var s,r,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isUser){e.next=19;break}if(s=n.state.value){e.next=5;break}return(0,f.info)("请输入完整的用户ID"),e.abrupt("return");case 5:if(/[\u4e00-\u9fa5]/.test(s))return(0,f.info)("请输入用户ID而非用户昵称"),e.abrupt("return");e.next=9;break;case 9:return r=(0,f.loading)("检查用户ID"),e.next=12,p.usersStore.checkUserExist(s);case 12:if(o=e.sent,r(),o){e.next=17;break}return(0,f.info)("该用户ID不存在"),e.abrupt("return");case 17:return t.push("Zone",{userId:s}),e.abrupt("return");case 19:return e.abrupt("return",n.doSearch(!0));case 20:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(n),"onAdvance",function(e,t){n.setState({value:e,focus:!1}),n.onSubmit(t)}),(0,m.default)((0,c.default)(n),"onFocus",function(){n.setState({focus:!0})}),(0,m.default)((0,c.default)(n),"onBlur",function(){n.setState({focus:!0})}),(0,m.default)((0,c.default)(n),"onScroll",f.updateVisibleBottom.bind((0,c.default)(n))),(0,m.default)((0,c.default)(n),"onT2S",function(){(0,f.info)("输入内容已转换为简体"),n.onChangeText((0,f.t2s)(n.state.value||n.state._value))}),n}},"./src/screens/discovery/search/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),l=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),r=r(s("./src/screens/discovery/search/store/state.ts"));function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(s);return e=r?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var y;t.default=(s=r.default,(0,d.default)(j,s),y=f(j),(0,n.default)(j,[{key:"search",get:function(){var e=this.state,t=e.cat,s=e.legacy,e=e.value,e=u.searchStore.search(e,t,s);return u.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,m.x18)(e.id)})}):e}},{key:"url",get:function(){var e=this.state,t=e.value,t=void 0===t?"":t,s=e.cat,e=e.legacy,e=void 0===e?"":e,t=t.replace(/ /g,"+");return(0,p.HTML_SEARCH)(encodeURIComponent(t),s,1,e)}},{key:"isUser",get:function(){return"用户"===p.MODEL_SEARCH_CAT.getLabel(this.state.cat)}},{key:"showAdvance",get:function(){return!(!this.state.focus||"mono_all"===this.state.cat||"user"===this.state.cat||this.search.list.length)}},{key:"subject",value:function(e){return(0,l.computed)(function(){return u.subjectStore.subject(e)}).get()}}]),(0,a.default)((t=j).prototype,"search",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"search"),t.prototype),(0,a.default)(t.prototype,"url",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,a.default)(t.prototype,"isUser",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isUser"),t.prototype),(0,a.default)(t.prototype,"showAdvance",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"showAdvance"),t.prototype),t);function j(){return(0,o.default)(this,j),y.apply(this,arguments)}},"./src/screens/discovery/search/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/search/ds.ts"),s=(t.NAMESPACE="Screen"+s.COMPONENT,t.EXCLUDE_STATE={visibleBottom:r._.window.height,_value:"",value:"",focus:!1,searching:!1,modal:{visible:!1,subjectId:0,title:"",desc:"",status:"",action:"听"}});t.STATE=Object.assign({history:[],cat:o.MODEL_SEARCH_CAT.getValue("动画"),legacy:o.MODEL_SEARCH_LEGACY.getValue("模糊")},s,{_loaded:!1})},"./src/screens/discovery/search/store/fetch.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),j=s("./src/utils/fetch/index.ts"),r=r(s("./src/screens/discovery/search/store/computed.ts"));function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var x;t.default=(s=r.default,(0,c.default)(b,s),x=_(b),(0,n.default)(b));function b(){var c;(0,d.default)(this,b);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return c=x.call.apply(x,[this].concat(s)),(0,p.default)((0,i.default)(c),"doSearch",(t=(0,o.default)(a.mark(function e(t){var s,r,o,n,d,i;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.state,s=n.history,r=n.cat,o=n.legacy,""===(n=n.value))return(0,y.info)("请输入内容"),e.abrupt("return");e.next=4;break;case 4:return(0,j.t)("搜索.搜索",{cat:r,value:n}),d=(0,l.default)(s),s.includes(n)||d.unshift(n),t&&(10<d.length&&d.pop(),c.setState({history:d,searching:!0}),c.save()),e.prev=8,e.next=11,f.searchStore.fetchSearch({cat:r,legacy:o,text:n},t);case 11:i=e.sent,setTimeout(function(){f.collectionStore.fetchCollectionStatusQueue(i.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),(0,y.info)("请稍候再查询");case 18:c.setState({searching:!1});case 19:case"end":return e.stop()}},e,null,[[8,15]])})),function(e){return t.apply(this,arguments)})),c}},"./src/screens/discovery/search/store/index.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=r(s("./src/screens/discovery/search/store/action.ts")),p=s("./src/screens/discovery/search/store/ds.ts");function f(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}s=r.default,(0,a.default)(j,s),y=f(j);var y,r=(0,d.default)(j);function j(){var t;(0,i.default)(this,j);for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=y.call.apply(y,[this].concat(s)),(0,m.default)((0,c.default)(t),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Object,e.t2={},e.next=5,t.getStorage(p.NAMESPACE);case 5:return e.t3=e.sent,e.t4=p.EXCLUDE_STATE,e.t5={_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),t.initState(),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(t),"onHeaderRefresh",function(){return t.doSearch(!0)}),t}t.default=r},"./src/screens/discovery/search/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/createClass.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),r=r(s("./src/utils/store/index.ts")),m=s("./src/screens/discovery/search/store/ds.ts");function p(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var f;t.default=(s=r.default,(0,i.default)(y,s),f=p(y),(0,o.default)(y));function y(){var e;(0,n.default)(this,y);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=f.call.apply(f,[this].concat(s)),(0,l.default)((0,d.default)(e),"params",void 0),(0,l.default)((0,d.default)(e),"state",(0,u.observable)(m.STATE)),(0,l.default)((0,d.default)(e),"save",function(){return e.saveStorage(m.NAMESPACE,m.EXCLUDE_STATE)}),e}},"./src/screens/discovery/search/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({searchBar:{marginTop:s._.xs,paddingBottom:s._.sm,paddingHorizontal:s._.wind}})},"./src/screens/discovery/series/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/series/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=t.COMPONENT_MAIN=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/component/ds.ts"),s=t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item");t.COMPONENT_MAIN=(0,r.rc)(s),t.DEFAULT_PROPS={styles:{},data:[],subjects:{}}},"./src/screens/discovery/series/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),n=r(s("./src/screens/discovery/series/component/item/item.tsx")),r=s("./src/screens/discovery/series/component/item/ds.ts"),d=s("./src/screens/discovery/series/component/item/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var e=e.item,t=t.$;return"有关联系列"===t.state.status&&e.length<=1?null:(e=t.filterData(e),(0,i.jsx)(n.default,{styles:(0,d.memoStyles)(),data:e,subjects:t.subjects(e)}))},r.COMPONENT)},"./src/screens/discovery/series/component/item/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),d=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/series/component/subject/index.tsx")),r=s("./src/screens/discovery/series/component/item/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.memo)(function(e){var t,s=e.styles,r=e.data,o=e.subjects;return r.length?(t=Math.min.apply(Math,(0,n.default)(r)),e=r.filter(function(e){return e!==t}),(0,a.jsxs)(d.default,{children:[(0,a.jsx)(c.default,{id:t}),!!e.length&&(0,a.jsx)(d.default,{style:s.sub,children:e.sort(function(e,t){return(0,i.asc)((null==(e=o[e])?void 0:e.date)||"9999-99-99",(null==(e=o[t])?void 0:e.date)||"9999-99-99")}).map(function(e){return(0,a.jsx)(c.default,{style:s.subItem,id:e,small:!0},e)})})]})):null},r.DEFAULT_PROPS,r.COMPONENT_MAIN);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ sub: { marginTop: number; paddingLeft: number; paddingBottom: number; }; subItem: { paddingVertical: number; }; }"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SubjectId[]"}},subjects:{defaultValue:null,description:"",name:"subjects",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/series/component/item/item.tsx#item"})}catch(e){}},"./src/screens/discovery/series/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{sub:{marginTop:-r._.sm,paddingLeft:r._.wind+r._.sm,paddingBottom:r._.md},subItem:{paddingVertical:r._.md}}})},"./src/screens/discovery/series/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/series/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/series/component/tool-bar/index.tsx")),c=s("./src/screens/discovery/series/component/list/utils.tsx"),r=s("./src/screens/discovery/series/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){return t=t.$,(0,a.jsx)(o.PaginationList,{contentContainerStyle:n._.container.bottom,data:t.data,limit:20,ListHeaderComponent:!t.state.fixed&&(0,a.jsx)(i.default,{}),renderItem:c.renderItem,onPage:t.onPage},t.state.sort)},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/series/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/series/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/series/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){e=e.item;return(0,n.jsx)(o.default,{item:e})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/series/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/series/component/subject/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Subject")},"./src/screens/discovery/series/component/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),f=s("./src/components/cover/utils.ts"),y=s("./src/screens/_/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/constants/index.ts"),o=s("./src/screens/discovery/series/component/subject/ds.ts"),b=s("./src/screens/discovery/series/component/subject/styles.ts"),v=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,r,o,n,d,i=e.style,c=e.id,e=void 0!==(e=e.small)&&e,a=t.$,l=t.navigation,t=(0,b.memoStyles)(),u=a.subject(c);return 0===u._loaded?(0,v.jsx)(p.Flex,{style:t.loading,justify:"center",children:(0,v.jsx)(p.Loading.Raw,{})}):(d=[],null!=(s=a.collection(c))&&s.ep?d.push("看到 "+s.ep+" "):s&&d.push("看到 0"),null!=u&&u.eps&&d.push(" "+(null==u?void 0:u.eps)+" 话"),null!=u&&u.total_episodes&&(null==u?void 0:u.total_episodes)!==(null==u?void 0:u.eps)&&d.push("共 "+(null==u?void 0:u.total_episodes)+" 章节"),a=u.platform&&"TV"!==u.platform&&u.platform,a=[!!u.total&&"("+u.total+")",String(u.date).slice(0,7)||"未放送",a].filter(function(e){return!!e}),r=24<(r=u.name.length)?11:16<r?12:8<r?13:14,o=e?.88*x.IMG_WIDTH_SM:x.IMG_WIDTH_SM,n=j.collectionStore.collect(c)||x.MODEL_COLLECTION_STATUS.getLabel(null==s?void 0:s.type)||"",d=(0,v.jsx)(p.Text,{style:j._.mt.xs,size:11,lineHeight:1,bold:!0,numberOfLines:1,shadow:!0,children:d.join(" / ")}),(0,v.jsx)(p.Touchable,{animate:!0,onPress:function(){l.push("Subject",{subjectId:u.id,_cn:u.name,_image:(0,f.getCoverSrc)(u.image,o)})},children:(0,v.jsxs)(p.Flex,{style:(0,_.stl)(t.item,i),align:"start",children:[(0,v.jsx)(y.Cover,{src:u.image,width:o,height:e?.88*x.IMG_HEIGHT_SM:x.IMG_HEIGHT_SM,radius:!0}),(0,v.jsx)(p.Flex.Item,{children:(0,v.jsxs)(p.Flex,{style:e?t.bodySm:t.body,direction:"column",justify:"between",align:"start",children:[(0,v.jsx)(p.Text,{style:j._.mr.sm,size:r,bold:!0,numberOfLines:2,children:u.name}),(0,v.jsx)(m.default,{style:j._.container.block,children:n?(0,v.jsx)(y.Progress,{current:(null==s?void 0:s.ep)||0,total:(null==u?void 0:u.eps)||0,children:d}):d}),(0,v.jsxs)(p.Flex,{style:j._.mt.sm,children:[(0,v.jsx)(y.Rank,{style:j._.mr.xs,value:u.rank}),(0,v.jsx)(y.Stars,{style:j._.mr.xs,value:u.score,simple:!0}),(0,v.jsx)(p.Text,{size:11,type:"sub",children:a.join(" · ")})]})]})}),(0,v.jsx)(y.Manage,{style:t.manage,subjectId:c,collection:n,onPress:function(){j.uiStore.showManageModal({subjectId:c,title:u.name,status:null==s?void 0:s.type},"关联系列")}})]})}))},o.COMPONENT)},"./src/screens/discovery/series/component/subject/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){return{loading:{height:120},item:{paddingHorizontal:r._.wind,paddingVertical:20},body:{height:o.IMG_HEIGHT_SM,paddingLeft:r._.md},bodySm:{height:.88*o.IMG_HEIGHT_SM,paddingLeft:r._.md},manage:{marginTop:-2}}})},"./src/screens/discovery/series/component/tips/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tips")},"./src/screens/discovery/series/component/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/series/component/tips/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$.state).fetching,r=t.message,o=t.current,t=t.total;return(0,d.jsx)(n.Progress,{show:s,message:r,current:o,total:t})},o.COMPONENT);try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/series/component/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/series/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"ToolBar")},"./src/screens/discovery/series/component/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/series/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.filter;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_FILTER,text:s||"类型",type:s?"desc":void 0,onSelect:t.onFilterSelect})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/series/component/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/series/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/series/component/tool-bar/filter.tsx")),i=r(s("./src/screens/discovery/series/component/tool-bar/more.tsx")),c=r(s("./src/screens/discovery/series/component/tool-bar/sort.tsx")),a=r(s("./src/screens/discovery/series/component/tool-bar/status.tsx")),l=r(s("./src/screens/discovery/series/component/tool-bar/year.tsx")),r=s("./src/screens/discovery/series/component/tool-bar/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ob)(function(){return(0,u.jsxs)(o.ToolBar,{children:[(0,u.jsx)(c.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(a.default,{}),(0,u.jsx)(i.default,{})]})},r.COMPONENT)},"./src/screens/discovery/series/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,t=s.state.fixed;return(0,d.jsx)(o.ToolBar.Popover,{data:["筛选（"+(t?"固定":"浮动")+"）"],icon:"md-more-vert",iconColor:n._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){if(e.includes("筛选"))return s.onToggleFixed()}})});try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/series/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/series/component/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/series/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.sort;return(0,i.jsx)(o.ToolBar.Popover,{data:d.DATA_SORT,icon:"md-sort",iconColor:s?n._.colorDesc:n._.colorSub,text:s||"排序",type:s?"desc":void 0,onSelect:t.onSortSelect})});try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/discovery/series/component/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/discovery/series/component/tool-bar/status.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/series/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.status;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_STATUS,text:s||"状态",type:s?"desc":void 0,onSelect:t.onStatusSelect})});try{status.displayName="status",status.__docgenInfo={description:"",displayName:"status",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tool-bar/status.tsx#status"]={docgenInfo:status.__docgenInfo,name:"status",path:"src/screens/discovery/series/component/tool-bar/status.tsx#status"})}catch(e){}},"./src/screens/discovery/series/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,d.jsx)(o.ToolBar.Popover,{data:n.DATA_AIRTIME,text:s||"年",type:s?"desc":void 0,onSelect:t.onAirtimeSelect})});try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/series/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/series/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SUBJECT_TYPE=t.SUBJECT_ITEM=t.STATE=t.RELATIONS=t.NAMESPACE=t.LIMIT=t.HOST_API_V0=t.EXCLUDE_STATE=t.DISTANCE=t.DATA_STATUS=t.DATA_SORT=t.DATA_FILTER=t.COMPONENT=void 0;var s=s("./src/constants/index.ts"),r=(t.COMPONENT="Series",t.NAMESPACE="ScreenSeries",t.EXCLUDE_STATE={fetching:!1,message:"",current:0,total:0});t.STATE=Object.assign({collections:[],otherCollections:[],relations:{},subjects:{},data:[],sort:"",filter:"",airtime:"",status:"",fixed:!0},r,{_loaded:!1}),t.DATA_SORT=["默认","关联数","新放送","评分"],t.DATA_FILTER=s.RANK_ANIME_FILTER.map(function(e){return e.label}),t.DATA_STATUS=["全部","有关联系列","未收藏","看过","在看","未看完"],t.HOST_API_V0="https://api.bgm.tv/v0",t.RELATIONS=["前传","续集","番外篇","主线故事","相同世界观","不同世界观"],t.SUBJECT_TYPE=2,t.SUBJECT_ITEM={id:0,name:"",name_cn:"",image:"",date:"",total_episodes:0,platform:"",rank:0,score:0,total:0,_loaded:0},t.LIMIT=100,t.DISTANCE=86400},"./src/screens/discovery/series/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/series/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/series/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/series/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,a.jsx)(o.Header,{title:"关联系列",hm:["series","Series"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[(0,a.jsx)(n.IconTouchable,{style:d._.mr.xs,name:"md-refresh",color:d._.colorDesc,onPress:function(){(0,i.confirm)("刷新涉及大量请求与计算，若非必要请勿重复刷新，确定?",s.fetchSeries)}}),(0,a.jsx)(n.IconTouchable,{name:"md-info-outline",color:d._.colorDesc,size:19,onPress:function(){r.push("Information",{title:"关联系列",message:["目的为查漏补缺，便捷查找是否存在未收藏的关联番剧。","使用了你「在看」和「看过」的收藏数据，通过关联条目计算出结果。","为了控制请求数，所以并没有一次性循环请求关联到底。","举例说当一部有四季的番剧，你只收藏过第一季，那就最多只能索引到第三季，所以你收藏的条目越多，关联范围越广。","为什么排序不符合预期? 因可能关联到上千个条目，条目的上映日期和评分需要请求，当条目项看见才会请求，所以请至少手动滚动到底一次，条目信息才会补全。","为了防止滥用，目前此功能非高级会员仅会对「在看」和「看过」的前 100 条数据进行关联计算，高级会员支持 500 条。"],advance:!0})}})]})}})},c.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/series/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/series/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/series/component/list/index.tsx")),c=r(s("./src/screens/discovery/series/component/tips/index.tsx")),a=r(s("./src/screens/discovery/series/component/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/series/header/index.tsx")),r=r(s("./src/screens/discovery/series/store.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(o.Component,{id:"screen-series",children:[(0,u.jsx)(l.default,{}),(0,u.jsxs)(o.Page,{loaded:s.state._loaded,children:[s.state.fixed&&(0,u.jsx)(a.default,{}),(0,u.jsx)(i.default,{}),(0,u.jsx)(c.default,{})]})]})})});try{series.displayName="series",series.__docgenInfo={description:"",displayName:"series",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/index.tsx#series"]={docgenInfo:series.__docgenInfo,name:"series",path:"src/screens/discovery/series/index.tsx#series"})}catch(e){}},"./src/screens/discovery/series/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/utils/fetch.v0/index.ts"),v=r(s("./src/utils/store/index.ts")),h=r(s("./src/constants/i18n/index.ts")),g=s("./src/screens/discovery/series/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T={},E={};t.default=(r=v.default,(0,l.default)(C,r),O=S(C),(0,d.default)(C,[{key:"userId",get:function(){return j.userStore.usersInfo(j.userStore.myUserId).username||j.userStore.myUserId}},{key:"subjectIds",get:function(){return this.state.collections.map(function(e){return e.id})}},{key:"collection",value:function(t){var e=this;return(0,y.computed)(function(){return e.state.collections.find(function(e){return e.id===t})||e.state.otherCollections.find(function(e){return e.id===t})}).get()}},{key:"collections",value:function(e){var r=this;return(0,y.computed)(function(){var s={};return e.forEach(function(e){var t=r.collection(e);t&&(s[e]=t)}),s}).get()}},{key:"subject",value:function(e){var t=this;return(0,y.computed)(function(){return t.state.subjects[e]||g.SUBJECT_ITEM}).get()}},{key:"subjects",value:function(e){var s=this;return(0,y.computed)(function(){var t={};return e.forEach(function(e){t[e]=s.subject(e)}),t}).get()}},{key:"filterData",value:function(o){var n=this;return(0,y.computed)(function(){var t=n.state.filter,e=o,s=(t&&(e=e.filter(function(e){e=n.subject(e);return(null==e?void 0:e.platform)&&String(e.platform).includes(t)})),n.state.airtime),r=(s&&(e=e.filter(function(e){e=n.subject(e);return(null==e?void 0:e.date)&&String(e.date).includes(s+"-")})),n.state.status);return"未收藏"===r?e=e.filter(function(e){return!n.collection(e)}):"看过"===r?e=e.filter(function(e){return 2===(null==(e=n.collection(e))?void 0:e.type)}):"在看"===r?e=e.filter(function(e){return 3===(null==(e=n.collection(e))?void 0:e.type)}):"未看完"===r&&(e=e.filter(function(e){var t=n.collection(e),e=n.subject(e);return(null==t?void 0:t.ep)&&(null==e?void 0:e.eps)&&(null==t?void 0:t.ep)!==(null==e?void 0:e.eps)})),e}).get()}},{key:"data",get:function(){var s=this,e=this.state,t=e.data,e=e.sort;return"关联数"===e?t.slice().sort(function(e,t){return(0,_.desc)(e.length,t.length)}):"新放送"===e?t.slice().sort(function(e,t){e=Math.max.apply(Math,(0,c.default)(e.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))}))),t=Math.max.apply(Math,(0,c.default)(t.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))})));return(0,_.desc)(e,t)}):"评分"===e?t.slice().sort(function(e,t){e=Math.min.apply(Math,(0,c.default)(e.map(function(e){return s.subject(e).rank||9999}))),t=Math.min.apply(Math,(0,c.default)(t.map(function(e){return s.subject(e).rank||9999})));return(0,_.asc)(e,t)}):t}},{key:"info",get:function(){var t=0;return this.data.forEach(function(e){return t+=e.length}),{series:this.data.length,total:t}}}]),(0,f.default)((s=C).prototype,"userId",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,f.default)(s.prototype,"subjectIds",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"subjectIds"),s.prototype),(0,f.default)(s.prototype,"data",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"data"),s.prototype),(0,f.default)(s.prototype,"info",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"info"),s.prototype),s);function C(){var d;(0,o.default)(this,C);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return d=O.call.apply(O,[this].concat(t)),(0,p.default)((0,a.default)(d),"state",(0,y.observable)(g.STATE)),(0,p.default)((0,a.default)(d),"init",(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.t1=Object,e.t2={},e.next=5,d.getStorage(g.NAMESPACE);case 5:e.t3=e.sent,e.t4=g.EXCLUDE_STATE,e.t5={_loaded:(0,_.getTimestamp)()},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),d.state.data.length?d.calculateData():d.fetchSeries();case 11:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchSeries",(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.state.fetching)return e.abrupt("return",!1);e.next=2;break;case 2:return E={},e.next=5,d.fetchCollections();case 5:return e.next=7,d.fetchRelations();case 7:d.calculateData(),setTimeout((0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchSubRelations();case 2:d.calculateData(),d.fetchSomeSubjects(),setTimeout(function(){d.fetchOtherCollections()},4e3);case 5:case"end":return e.stop()}},e)})),1600);case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchCollections",(0,n.default)(i.mark(function e(){var t,s,r,o,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.userId){e.next=3;break}return(0,_.info)("此功能依赖收藏数据，请先"+h.default.login(),4),e.abrupt("return",!1);case 3:return d.setState({fetching:!0,message:"获取用户收藏",current:1,total:2}),s=[],e.next=7,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=2&limit="+g.LIMIT);case 7:if(r=e.sent,!Array.isArray(null==(o=r)?void 0:o.data)){e.next=21;break}if(s.push.apply(s,(0,c.default)(null==(o=r)?void 0:o.data)),!j.systemStore.advance){e.next=21;break}if(!(100<(null==(o=r)?void 0:o.total))){e.next=21;break}o=2;case 13:if(o<=Math.min(Math.ceil(r.total/g.LIMIT),5))return e.next=16,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=2&offset="+(o-1)*g.LIMIT+"&limit="+g.LIMIT);e.next=21;break;case 16:r=e.sent,s.push.apply(s,(0,c.default)(null==(n=r)?void 0:n.data));case 18:o+=1,e.next=13;break;case 21:return d.setState({current:2}),e.next=24,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=3&limit="+g.LIMIT);case 24:if(r=e.sent,Array.isArray(null==(n=r)?void 0:n.data)&&s.push.apply(s,(0,c.default)(null==(t=r)?void 0:t.data)),s.length){e.next=28;break}return e.abrupt("return",!1);case 28:return d.setState({collections:s.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),d.setState(Object.assign({},g.EXCLUDE_STATE)),d.setStorage(g.NAMESPACE),e.abrupt("return",!0);case 32:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchOtherCollections",(0,n.default)(i.mark(function e(){var t,s,r,o,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],e.next=3,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=1&limit="+g.LIMIT);case 3:return n=e.sent,Array.isArray(null==(t=n)?void 0:t.data)&&o.push.apply(o,(0,c.default)(null==(t=n)?void 0:t.data)),e.next=7,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=4&limit="+g.LIMIT);case 7:return n=e.sent,Array.isArray(null==(t=n)?void 0:t.data)&&o.push.apply(o,(0,c.default)(null==(s=n)?void 0:s.data)),e.next=11,(0,b.request)(g.HOST_API_V0+"/users/"+d.userId+"/collections?subject_type="+g.SUBJECT_TYPE+"&type=5&limit="+g.LIMIT);case 11:if(n=e.sent,Array.isArray(null==(s=n)?void 0:s.data)&&o.push.apply(o,(0,c.default)(null==(r=n)?void 0:r.data)),o.length){e.next=15;break}return e.abrupt("return",!1);case 15:d.setState({otherCollections:o.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),d.setStorage(g.NAMESPACE);case 17:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchRelations",(0,n.default)(i.mark(function e(){var r,o;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},o=[],d.subjectIds.forEach(function(s){o.push((0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(g.HOST_API_V0+"/subjects/"+s+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return g.SUBJECT_TYPE===e.type&&g.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))}),e.next=5,(0,x.queue)(o.map(function(t){return(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return d.setState({fetching:!0,message:"获取条目关系",current:d.state.current+1,total:o.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 5:return d.clearState("relations",r),d.setStorage(g.NAMESPACE),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchSubRelations",(0,n.default)(i.mark(function e(){var r,o;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({},d.state.relations),o=[],Object.keys(r).forEach(function(e){r[e].forEach(function(s){r[s]||o.push((0,n.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(g.HOST_API_V0+"/subjects/"+s.id+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return g.SUBJECT_TYPE===e.type&&g.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))})}),d.setState({fetching:!0,message:"获取二级条目关系",current:0,total:o.length}),e.next=6,(0,x.queue)(o.map(function(t){return(0,n.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return d.setState({fetching:!0,message:"获取二级条目关系",current:d.state.current+1,total:o.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 6:return d.setState({relations:r}),setTimeout(function(){d.setState(Object.assign({},g.EXCLUDE_STATE))},1600),d.setStorage(g.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchSubjects",(0,n.default)(i.mark(function e(){var t,s,r,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=0<o.length&&void 0!==o[0]?o[0]:[]).length){e.next=3;break}return e.abrupt("return",!1);case 3:return s=(0,_.getTimestamp)(),r=[],t.forEach(function(o){var e;return!!T[o]||!!((e=d.subject(o))._loaded&&s-e._loaded<=g.DISTANCE)||(T[o]=!0,void r.push((0,n.default)(i.mark(function e(){var t,s,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(g.HOST_API_V0+"/subjects/"+o);case 2:if(null!=(r=e.sent)&&r.id){e.next=5;break}return e.abrupt("return",!1);case 5:d.setState({subjects:(0,p.default)({},o,{id:o,name:(0,_.cnjp)(r.name_cn,r.name),image:(null==r||null==(t=r.images)?void 0:t.common)||"",date:r.date,eps:r.eps,total_episodes:r.total_episodes,platform:r.platform,rank:null==(t=r.rating)?void 0:t.rank,score:null==(s=r.rating)?void 0:s.score,total:null==(s=r.rating)?void 0:s.total,_loaded:(0,_.getTimestamp)()})});case 6:case"end":return e.stop()}},e)}))))}),e.next=8,(0,x.queue)(r,2);case 8:return d.setStorage(g.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"fetchSomeSubjects",function(){var e=d.state.data,t=[];e.forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,c.default)(e)):t.push(e)}),t.length=200,d.fetchSubjects(t)}),(0,p.default)((0,a.default)(d),"calculateData",function(){var s=d.state.relations,r=[];Object.keys(s).sort(function(e,t){return(0,_.desc)(e,t)}).forEach(function(e){var e=[Number(e)].concat((0,c.default)(s[e])),t=e.find(function(e){return e in E});t?(t=r[E[t]]).push.apply(t,(0,c.default)(e)):(r.push(e),e.forEach(function(e){E[e]=r.length-1}))}),d.setState({data:r.map(function(e){return Array.from(new Set(e)).sort(function(e,t){return(0,_.asc)(e,t)})}),_loaded:(0,_.getTimestamp)()})}),(0,p.default)((0,a.default)(d),"onPage",function(){var t=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,c.default)(e)):t.push(e)}),d.fetchSubjects(t)}),(0,p.default)((0,a.default)(d),"onToggleFixed",function(){var e=d.state.fixed;d.setState({fixed:!e}),d.setStorage(g.NAMESPACE)}),(0,p.default)((0,a.default)(d),"onSortSelect",function(e){"默认"===e?d.setState({sort:""}):(d.setState({sort:e}),d.setStorage(g.NAMESPACE))}),(0,p.default)((0,a.default)(d),"onFilterSelect",function(e){"全部"===e?d.setState({filter:""}):(d.setState({filter:e}),d.setStorage(g.NAMESPACE))}),(0,p.default)((0,a.default)(d),"onAirtimeSelect",function(e){"全部"===e?d.setState({airtime:""}):(d.setState({airtime:e}),d.setStorage(g.NAMESPACE))}),(0,p.default)((0,a.default)(d),"onStatusSelect",function(e){"全部"===e?d.setState({status:""}):(d.setState({status:e}),d.setStorage(g.NAMESPACE))}),d}},"./src/screens/discovery/staff/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/staff/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/staff/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/staff/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List"),t.EVENT={id:"新番档期.跳转",data:{userId:"lilyurey"}}},"./src/screens/discovery/staff/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/staff/component/list/utils.tsx"),c=s("./src/screens/discovery/staff/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return(t=t.$).catalogs._loaded?(0,a.jsx)(o.ListView,{contentContainerStyle:n._.container.bottom,keyExtractor:d.keyExtractor,data:t.catalogs,lazy:6,scrollToTop:!0,renderItem:i.renderItem,scrollEventThrottle:4,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchCatalogs}):(0,a.jsx)(o.Loading,{style:n._.container.plain})},c.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/staff/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/staff/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=i,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/screens/discovery/staff/component/list/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");function i(e){var t=e.item,e=e.index;return(0,d.jsx)(o.ItemCatalog,Object.assign({},t,{index:e,name:"优莉雅",isUser:!0,event:n.EVENT}))}try{i.displayName="renderItem",i.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/component/list/utils.tsx#renderItem"]={docgenInfo:i.__docgenInfo,name:"renderItem",path:"src/screens/discovery/staff/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/staff/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.EXCLUDE_DATA=t.COMPONENT=void 0;s=s("./src/stores/index.ts"),t.COMPONENT="Staff",s=t.EXCLUDE_DATA={visibleBottom:s._.window.height};t.STATE=Object.assign({},s,{_loaded:!1})},"./src/screens/discovery/staff/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/staff/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/staff/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/staff/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,a.jsx)(o.Header,{title:"新番",hm:["user/lilyurey/index","Staff"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:c.DATA,onSelect:function(e){(0,d.t)("新番档期.右上角菜单",{key:e}),e===c.TEXT_BROWSER?(0,n.open)(i.HOST+"/user/lilyurey/index"):e===c.TEXT_SPA&&(e=i.URL_SPA+"/"+(0,n.getSPAParams)("Staff"),(0,n.open)(e))},children:(0,a.jsx)(o.Heatmap,{id:"新番档期.右上角菜单"})})}})},c.COMPONENT)},"./src/screens/discovery/staff/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/staff/component/list/index.tsx")),a=r(s("./src/screens/discovery/staff/header/index.tsx")),r=r(s("./src/screens/discovery/staff/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-staff",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(o.Page,{children:(0,l.jsx)(c.default,{})}),(0,l.jsx)(o.Heatmap,{bottom:n._.bottom,id:"新番",screen:"Staff"})]})})});try{staff.displayName="staff",staff.__docgenInfo={description:"",displayName:"staff",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/index.tsx#staff"]={docgenInfo:staff.__docgenInfo,name:"staff",path:"src/screens/discovery/staff/index.tsx#staff"})}catch(e){}},"./src/screens/discovery/staff/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/screens/discovery/staff/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var h;t.default=(s=r.default,(0,a.default)(g,s),h=v(g),(0,o.default)(g,[{key:"userId",get:function(){return"lilyurey"}},{key:"catalogs",get:function(){return y.usersStore.catalogs(this.userId,!1)}}]),(0,p.default)((t=g).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"userId"),t.prototype),(0,p.default)(t.prototype,"catalogs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"catalogs"),t.prototype),t);function g(){var o;(0,i.default)(this,g);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=h.call.apply(h,[this].concat(s)),(0,m.default)((0,c.default)(o),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,c.default)(o),"init",function(){return o.setState({_loaded:!0}),o.fetchCatalogs(!0)}),(0,m.default)((0,c.default)(o),"fetchCatalogs",(0,d.default)(n.mark(function e(){var t,s,r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]&&r[0],e.next=3,y.usersStore.fetchCatalogs({userId:o.userId,isCollect:!1},t);case 3:return t=e.sent,s=t.list,(0,_.queue)(s.map(function(e){return function(){return o.fetchCatalogDetail(e.id)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(o),"fetchCatalogDetail",(t=(0,d.default)(n.mark(function e(t){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=y.discoveryStore.catalogDetail(t))._loaded&&s.list.length||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=3;break;case 3:return e.next=5,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 5:if(e.sent)return e.abrupt("return",!0);e.next=8;break;case 8:return e.next=10,y.discoveryStore.fetchCatalogDetail({id:t});case 10:return s=e.sent,o.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(o),"updateCatalogDetail",function(c){setTimeout(function(){var e=c.id,t=c.title,s=c.avatar,r=c.nickname,o=c.userId,n=c.time,d=c.collect,i=c.list;(0,x.update)("catalog_"+e,{id:e,title:t,avatar:s,nickname:r,userId:o,time:n,collect:d,list:i.filter(function(e,t){return t<100}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}})})},2e3)}),(0,m.default)((0,c.default)(o),"onHeaderRefresh",function(){return o.fetchCatalogs(!0)}),(0,m.default)((0,c.default)(o),"onScroll",j.updateVisibleBottom.bind((0,c.default)(o))),o}},"./src/screens/discovery/tags/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/tags/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/discovery/tags/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/tags/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsx)(o.Heatmap,{right:n._.wind,bottom:n._.window.height-n._.tabsHeaderHeight-12,id:"标签索引.标签页切换",transparent:!0})},d.COMPONENT)},"./src/screens/discovery/tags/component/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Filter")},"./src/screens/discovery/tags/component/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var s,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var n;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((n=o?Object.getOwnPropertyDescriptor(e,s):null)&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s])}return r.default=e,t&&t.set(e,r),r}(s("./node_modules/react/index.js")),a=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),l=s("./node_modules/mobx-react/dist/mobxreact.esm.js"),u=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/utils/dev/index.ts"),p=s("./src/screens/discovery/tags/component/filter/ds.ts"),f=s("./src/screens/discovery/tags/component/filter/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function d(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(d=function(e){return e?s:t})(e))}t.default=(0,r.c)(function(e,t){var s=t.$,t=((0,m.r)(p.COMPONENT),(0,c.useState)(!1)),r=(t=(0,i.default)(t,2))[0],o=t[1],n=(0,c.useCallback)(function(){return o(!0)},[]),d=(0,c.useCallback)(function(){return o(!1)},[]);return(0,l.useObserver)(function(){var e=(0,f.memoStyles)(),t=s.state.ipt;return(0,y.jsxs)(a.default,{style:e.filter,children:[(0,y.jsx)(u.Input,{style:e.input,clearButtonMode:"never",value:t,returnKeyType:"search",returnKeyLabel:"搜索",onFocus:n,onBlur:d,onChangeText:s.onFilterChange,onSubmitEditing:s.onSubmitEditing}),!r&&!t&&(0,y.jsx)(u.Flex,{style:e.icon,justify:"center",pointerEvents:"none",children:(0,y.jsx)(u.Iconfont,{name:"md-search",size:18})})]})})});try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/component/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/tags/component/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/tags/component/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:r._.wind,marginBottom:r._._wind,backgroundColor:r._.colorBg},input:Object.assign({height:40,paddingVertical:0},r._.fontSize16,{textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0}}})},"./src/screens/discovery/tags/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/tags/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),y=s("./src/screens/discovery/tags/component/item/utils.ts"),o=s("./src/screens/discovery/tags/component/item/ds.ts"),j=s("./src/screens/discovery/tags/component/item/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.type,r=e.name,o=e.nums,e=e.index,n=t.$,d=t.navigation,t=(0,j.memoStyles)(),i=(c=t.item).width,c=c.height,a=o,o=(n.state.rec?a=(0,y.getTyperankNums)(s,r):1e4<o&&(a=(0,p.formatNumber)(o/1e4,1)+"w"),m._.num(4)),l=(0,p.HTMLDecode)(r);return(0,_.jsx)(u.Touchable,{style:(0,p.stl)(t.container,(m._.isPad||m._.isLandscape)&&!(e%o)&&m._.container.left),animate:!0,scale:.85,onPress:function(){n.state.rec&&a?((0,f.t)("标签索引.跳转",{to:"Typerank",type:s,tag:l}),d.push("Typerank",{type:s,tag:l})):(d.push("Tag",{type:s,tag:l}),(0,f.t)("标签索引.跳转",{to:"Tag",type:s,tag:l}))},children:(0,_.jsxs)(u.Squircle,{width:i,height:c,radius:!0,children:[(0,_.jsxs)(u.Flex,{style:t.item,direction:"column",justify:"center",children:[(0,_.jsx)(u.Highlight,{align:"center",size:12,bold:!0,numberOfLines:3,value:n.state.filter,children:l}),(0,_.jsx)(u.Text,{style:m._.mt.xs,type:"sub",align:"center",size:10,children:a||"--"})]}),0===e&&(0,_.jsx)(u.Heatmap,{id:"标签索引.跳转"})]})})},o.COMPONENT)},"./src/screens/discovery/tags/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.grid(r._.num(4)),t=e.width,e=e.marginLeft;return{container:{marginBottom:r._.md,marginLeft:e},item:{width:t,height:t,paddingHorizontal:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)}}})},"./src/screens/discovery/tags/component/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.getTyperankNums=function(e,t){var s;"anime"===e?s=o.default:"book"===e?s=n.default:"game"===e?s=d.default:"music"===e?s=i.default:"real"===e&&(s=c.default);return s&&(null==(e=s[t])?void 0:e.length)||0},r(s("./src/assets/json/typerank/anime-ids.json"))),n=r(s("./src/assets/json/typerank/book-ids.json")),d=r(s("./src/assets/json/typerank/game-ids.json")),i=r(s("./src/assets/json/typerank/music-ids.json")),c=r(s("./src/assets/json/typerank/real-ids.json"))},"./src/screens/discovery/tags/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/tags/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/utils/dev/index.ts"),_=s("./src/screens/discovery/tags/ds.ts"),x=r(s("./src/screens/discovery/tags/component/filter/index.tsx")),b=r(s("./src/screens/discovery/tags/component/item/index.tsx")),v=s("./src/screens/discovery/tags/component/list/utils.ts"),h=s("./src/screens/discovery/tags/component/list/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(T,r),O=S(T),(0,n.default)(T,[{key:"id",get:function(){return this.props.id}},{key:"render",value:function(){(0,j.r)(h.COMPONENT);var e=this.context.$,t=e.list(this.id),s=f._.num(4);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.default,{}),t._loaded?(0,g.jsx)(m.ListView,{keyExtractor:v.keyExtractor,contentContainerStyle:f._.container.bottom,data:t,lazy:32,numColumns:s,scrollToTop:_.TABS[e.state.page].key===this.id,keyboardDismissMode:"on-drag",ListHeaderComponent:e.state.rec&&(0,g.jsx)(p.Notice,{style:f._.mb.md,children:"「排名」为作者整理的对应标签下评分最高的前 100 个条目。若没有足够数据则跳转到正常的标签页面。"}),renderItem:this.renderItem,onHeaderRefresh:this.onHeaderRefresh,onFooterRefresh:this.onFooterRefresh},""+f._.orientation+s):(0,g.jsx)(m.Loading,{})]})}}]);var O,s=T;function T(){var s;(0,o.default)(this,T);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=O.call.apply(O,[this].concat(t)),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return(0,g.jsx)(b.default,Object.assign({type:s.id,index:e},t))}),(0,l.default)((0,d.default)(s),"onHeaderRefresh",function(){return s.context.$.fetchList(s.id,!0)}),(0,l.default)((0,d.default)(s),"onFooterRefresh",function(){return s.context.$.fetchList(s.id)}),s}(0,l.default)(s,"defaultProps",{title:"全部"});t.default=(0,y.obc)(s);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/tags/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/tags/component/list/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.keyExtractor=function(e){return e.name+"|"+e.nums}},"./src/screens/discovery/tags/component/rec-segment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DS=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"RecSegement"),t.DS=["数量","排名"]},"./src/screens/discovery/tags/component/rec-segment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/tags/component/rec-segment/ds.ts"),d=s("./src/screens/discovery/tags/component/rec-segment/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.value,e=e.onValueChange;return(0,i.jsx)(o.SegmentedControl,{style:d.styles.segment,size:11,values:n.DS,selectedIndex:t?1:0,onValueChange:e})},n.COMPONENT);try{recsegment.displayName="recsegment",recsegment.__docgenInfo={description:"",displayName:"recsegment",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/component/rec-segment/index.tsx#recsegment"]={docgenInfo:recsegment.__docgenInfo,name:"recsegment",path:"src/screens/discovery/tags/component/rec-segment/index.tsx#recsegment"})}catch(e){}},"./src/screens/discovery/tags/component/rec-segment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({segment:{width:s._.r(88),height:s._.r(28),marginRight:s._.sm}})},"./src/screens/discovery/tags/component/tabs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/tags/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Tabs")},"./src/screens/discovery/tags/component/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/tags/ds.ts"),i=s("./src/screens/discovery/tags/component/tabs/utils.tsx"),c=s("./src/screens/discovery/tags/component/tabs/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,a.jsx)(o.TabsV2,{style:n._.mt._sm,routes:d.TABS,page:t.state.page,backgroundColor:n._.colorPlain,renderItem:i.renderItem,onChange:t.onChange},n._.orientation)},c.COMPONENT);try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/component/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/tags/component/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/tags/component/tabs/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/discovery/tags/component/list/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){return(0,n.jsx)(o.default,{id:e.key},e.key)}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/component/tabs/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/tags/component/tabs/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/tags/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.COMPONENT=void 0;s=s("./src/constants/index.ts"),t.COMPONENT="Tags",t.NAMESPACE="ScreenTags",t.TABS=s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}}),s=t.EXCLUDE_STATE={ipt:"",filter:"",isFocused:!0,ota:{}};t.STATE=Object.assign({page:0,rec:!1},s,{_loaded:!1})},"./src/screens/discovery/tags/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),s=s("./src/screens/discovery/tags/ds.ts"),r=(t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看",t.TEXT_SPA="网页版查看",t.DATA=["浏览器查看"]);o.STORYBOOK||r.push("网页版查看")},"./src/screens/discovery/tags/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/fetch/index.ts"),c=s("./src/constants/index.ts"),a=r(s("./src/screens/discovery/tags/component/rec-segment/index.tsx")),l=s("./src/screens/discovery/tags/header/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)(function(e,t){var s=t.$;return(0,u.jsx)(o.Header,{title:"标签",alias:"标签索引",hm:[s.url,"Tags"],headerTitleAlign:"left",headerRight:function(){return(0,u.jsxs)(o.Flex,{children:[(0,u.jsx)(a.default,{value:s.state.rec,onValueChange:s.onValueChange}),(0,u.jsx)(o.Header.Popover,{data:l.DATA,onSelect:function(e){(0,i.t)("标签索引.右上角菜单",{key:e}),e===l.TEXT_BROWSER?(0,n.open)(s.url):e===l.TEXT_SPA&&(e=c.URL_SPA+"/"+(0,n.getSPAParams)("Tags"),(0,n.open)(e))},children:(0,u.jsx)(o.Heatmap,{id:"标签索引.右上角菜单"})})]})}})},l.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/tags/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/tags/component/extra/index.tsx")),c=r(s("./src/screens/discovery/tags/component/tabs/index.tsx")),a=r(s("./src/screens/discovery/tags/header/index.tsx")),r=r(s("./src/screens/discovery/tags/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-tags",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(o.Page,{loaded:s.state._loaded,children:(0,l.jsx)(c.default,{})}),(0,l.jsx)(i.default,{})]})})});try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/tags/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),v=s("./src/screens/discovery/tags/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var g,S=[];t.default=(s=r.default,(0,a.default)(O,s),g=h(O),(0,d.default)(O,[{key:"type",get:function(){return v.TABS[this.state.page].key}},{key:"url",get:function(){return(0,b.HTML_TAGS)(this.type,this.state.page,this.state.filter)}},{key:"thirdPartyKey",get:function(){return"tags_"+[this.type,this.state.filter].join("_")}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"list",value:function(t){var s=this;return(0,f.computed)(function(){var e=y.discoveryStore.tags(t,s.state.filter);return e._loaded?y.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,j.x18s)(e.name)})}):e:s.ota?Object.assign({},s.ota,{pagination:{page:1,pageTotal:10}}):b.LIST_EMPTY}).get()}}]),(0,p.default)((t=O).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"type"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),t);function O(){var d;(0,n.default)(this,O);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return d=g.call.apply(g,[this].concat(s)),(0,m.default)((0,c.default)(d),"state",(0,f.observable)(v.STATE)),(0,m.default)((0,c.default)(d),"init",(0,o.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.t1=Object,e.t2={},e.next=5,d.getStorage(v.NAMESPACE);case 5:return e.t3=e.sent,e.t4=v.EXCLUDE_STATE,e.t5={_loaded:!0},e.t6=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4,e.t5),e.t0.setState.call(e.t0,e.t6),e.abrupt("return",d.fetchList(d.type,!0));case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(d),"fetchList",(t=(0,o.default)(i.mark(function e(t){var s,r,o,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=1<n.length&&void 0!==n[1]&&n[1])&&d.fetchThirdParty(),s=d.state.filter,e.next=5,y.discoveryStore.fetchTags({type:t,filter:s},r);case 5:return(s=e.sent).list.length&&d.thirdPartyKey in d.state.ota&&(o=(null==(r=d.ota)?void 0:r.ts)||0,604800<=(0,j.getTimestamp)()-o)&&d.updateThirdParty(),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(d),"fetchThirdParty",(0,o.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.ota||d.list(d.type)._loaded){e.next=8;break}return e.next=3,(0,x.get)(d.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return d.setState({ota:(0,m.default)({},d.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:d.setState({ota:(0,m.default)({},d.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(d),"updateThirdParty",(0,o.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(d.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,x.update)(d.thirdPartyKey,{list:d.list(d.type).list}),S.push(d.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(d),"onChange",function(e){e!==d.state.page&&((0,_.t)("标签索引.标签页切换"),d.setState({page:e}),d.tabChangeCallback(e),d.setStorage(v.NAMESPACE))}),(0,m.default)((0,c.default)(d),"onValueChange",function(e){d.setState({rec:"排名"===e}),d.setStorage(v.NAMESPACE)}),(0,m.default)((0,c.default)(d),"tabChangeCallback",function(e){e=v.TABS[e].key;d.list(e)._loaded||d.fetchList(e,!0)}),(0,m.default)((0,c.default)(d),"onFilterChange",function(e){e=e.trim();e?d.setState({ipt:e}):d.setState({ipt:e,filter:""})}),(0,m.default)((0,c.default)(d),"onSubmitEditing",function(){var e=d.state.ipt;e&&e.length&&(d.setState({filter:e}),d.fetchList(d.type,!0),d.setStorage(v.NAMESPACE))}),d}},"./src/screens/discovery/wenku/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.STATE=t.NAMESPACE=t.ADVANCE_LIMIT=void 0;var r=s("./src/utils/subject/wenku/index.ts"),s=s("./src/constants/index.ts"),o=(t.NAMESPACE="ScreenWenku",t.STATE={query:{first:"",year:2022,status:"",anime:"",cate:"",author:"",tags:[],sort:"发行",collected:""},data:s.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1},t.ADVANCE_LIMIT=100,[[],[]]);r.WENKU_TAGS.forEach(function(e,t){return o[t%2?1:0].push(e)}),t.filterDS=[{title:"首字",type:"first",data:r.WENKU_FIRST},{title:"发行",type:"year",data:r.WENKU_YEAR,always:!0},{title:"状态",type:"status",data:r.WENKU_STATUS},{title:"动画",type:"anime",data:r.WENKU_ANIME},{title:"出版",type:"cate",data:r.WENKU_CATE},{title:"作者",type:"author",data:r.WENKU_AUTHOR},{title:"分类",type:"tags",data:o,multiple:!0,multiSelect:!0,always:!0},{title:"排序",type:"sort",data:r.WENKU_SORT,always:!0},{title:"收藏",type:"collected",data:r.WENKU_COLLECTED}]},"./src/screens/discovery/wenku/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/wenku/list/index.tsx")),r=r(s("./src/screens/discovery/wenku/store.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,a.jsxs)(o.Component,{id:"screen-wenku",children:[(0,a.jsx)(i.default,{title:"找文库",alias:"文库",hm:["wenku","Wenku"]}),(0,a.jsx)(o.Page,{loaded:s.state._loaded,children:(0,a.jsx)(c.default,{})})]})})});try{wenku.displayName="wenku",wenku.__docgenInfo={description:"",displayName:"wenku",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/index.tsx#wenku"]={docgenInfo:wenku.__docgenInfo,name:"wenku",path:"src/screens/discovery/wenku/index.tsx#wenku"})}catch(e){}},"./src/screens/discovery/wenku/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/wenku/item-grid/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),x={id:"文库.跳转"};t.default=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,o=(0,j.memoStyles)(),s=f.otaStore.wenkuSubjectId(s),n=(s=f.otaStore.wenku(s)).id,d=s.wid,i=s.image,c=s.cn,a=s.score,l=s.rank,u=s.begin,s=s.update;return n?(0,_.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(r%e)&&o.left,event:x,num:e,id:n,wid:d,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":y.IMG_DEFAULT,nameCn:c,score:a,rank:l,airtime:u||s?String(u||s).slice(0,7):"",typeCn:"书籍",collection:f.collectionStore.collect(n)}):(t=f._.grid(e),(0,_.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,_.jsx)(m.Loading.Raw,{})}))})},"./src/screens/discovery/wenku/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}})},"./src/screens/discovery/wenku/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.fill.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),T=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),E=s("./src/components/cover/utils.ts"),C=s("./src/screens/_/index.ts"),P=s("./src/stores/index.ts"),N=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),M=s("./src/utils/dev/index.ts"),w=s("./src/utils/fetch/index.ts"),R=s("./src/constants/index.ts"),A=r(s("./src/screens/discovery/wenku/item/tags.tsx")),k=s("./src/screens/discovery/wenku/item/styles.ts"),I=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)(function(e,t){var s,r,o,n=e.index,e=e.pickIndex,d=t.$,i=t.navigation,t=(0,k.memoStyles)(),e=P.otaStore.wenkuSubjectId(e),c=(e=P.otaStore.wenku(e)).id,a=e.wid,l=e.image,u=e.cn,m=e.ep,p=e.status,f=e.begin,y=e.update,j=e.score,_=e.rank,x=e.total,b=e.cate,v=e.author,h=e.len,g=e.hot,S=e.up,O=e.anime,e=e.tags;return c?(s=20<=u.length?13:14<=u.length?14:15,p=[1===p?"完结":"连载",f||y,b,v,h?h+"万字":"",m],"更新"===d.state.query.sort&&y&&p.push(y+" 更新"),f=p.filter(function(e){return!!e}).join(" / "),b=(0,M.fill)("",g,"◆"),v=(0,M.fill)("",S,"▲"),r=l?"https://lain.bgm.tv/pic/cover/m/"+l+".jpg":R.IMG_DEFAULT,o=P.collectionStore.collect(c),(0,I.jsxs)(T.Touchable,{style:t.container,animate:!0,onPress:function(){i.push("Subject",{subjectId:c,_cn:u,_image:(0,E.getCoverSrc)(r,R.IMG_WIDTH_LG),_type:"书籍",_wid:a}),(0,w.t)("游戏.跳转",{subjectId:c})},children:[(0,I.jsxs)(T.Flex,{style:t.wrap,align:"start",children:[(0,I.jsx)(C.Cover,{src:r,width:R.IMG_WIDTH_LG,height:R.IMG_HEIGHT_LG,radius:!0,cdn:!(0,N.x18)(c)}),(0,I.jsxs)(T.Flex.Item,{style:P._.ml.wind,children:[(0,I.jsxs)(T.Flex,{align:"start",children:[(0,I.jsx)(T.Flex.Item,{children:(0,I.jsxs)(T.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,I.jsx)(T.Text,{size:s,bold:!0,numberOfLines:3,children:u||"-"}),(0,I.jsx)(T.Text,{style:P._.mt.sm,size:11,lineHeight:14,numberOfLines:3,children:f}),(0,I.jsxs)(T.Flex,{style:[P._.container.block,P._.mt.sm],children:[(0,I.jsx)(T.Flex.Item,{children:!!b&&(0,I.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["热度　",b]})}),(0,I.jsx)(T.Flex.Item,{children:!!v&&(0,I.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["趋势　",v]})})]})]})}),(0,I.jsx)(C.Manage,{subjectId:c,collection:o,typeCn:"书籍",onPress:function(){P.uiStore.showManageModal({subjectId:c,title:u,status:R.MODEL_COLLECTION_STATUS.getValue(o),action:"读"},"找文库")}})]}),(0,I.jsxs)(T.Flex,{style:t.bottom,children:[(0,I.jsx)(C.Rank,{value:_}),(0,I.jsx)(C.Stars,{style:P._.mr.xs,value:j,simple:!0}),!!x&&(0,I.jsxs)(T.Text,{style:P._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),!!O&&(0,I.jsx)(C.Tag,{style:P._.mr.sm,value:"动画化"}),(0,I.jsx)(T.Flex.Item,{children:(0,I.jsx)(A.default,{value:e})})]})]})]}),0===n&&(0,I.jsx)(T.Heatmap,{id:"游戏.跳转"})]})):(0,I.jsx)(T.Flex,{style:t.loading,justify:"center",children:(0,I.jsx)(T.Loading.Raw,{})})})},"./src/screens/discovery/wenku/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts");t.memoStyles=r._.memoStyles(function(){var e=.8*o.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:o.IMG_HEIGHT_LG},bottom:{marginTop:o.IMG_HEIGHT_LG-e-16}}})},"./src/screens/discovery/wenku/item/tags.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s,e=e.value,t=t.$;return e&&"string"==typeof e?(s=t.state.query.tags,t=e.split(" ").sort(function(e,t){return(0,n.desc)(s.includes(e),s.includes(t))}),(0,d.jsx)(o.Tags,{value:t})):null})},"./src/screens/discovery/wenku/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/wenku/item/index.tsx")),_=r(s("./src/screens/discovery/wenku/item-grid/index.tsx")),x=s("./src/screens/discovery/wenku/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(s);return e=r?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=u.default.Component,(0,i.default)(g,r),h=v(g),(0,n.default)(g,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:x.filterDS,name:"文库",type:"文库",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化，轻小说因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onWenkuPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var h,s=g;function g(){var s;(0,o.default)(this,g);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,l.default)((0,d.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,l.default)((0,d.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(j.default,{pickIndex:t,index:e}):(0,b.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}t.default=(0,y.obc)(s);function S(e){return String(e)}try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/wenku/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wenku/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wenku/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),o=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),o=o(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/wenku/index.ts"),x=s("./src/utils/fetch/index.ts"),b=s("./src/screens/discovery/wenku/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var h,g=!1;t.default=(s=o.default,(0,l.default)(S,s),h=v(S),(0,n.default)(S,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.wenkuSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<b.ADVANCE_LIMIT})}}]),(0,f.default)((t=S).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"cnFirst"),t.prototype),(0,f.default)(t.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"isList"),t.prototype),(0,f.default)(t.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"total"),t.prototype),(0,f.default)(t.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function S(){var n;(0,c.default)(this,S);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=h.call.apply(h,[this].concat(t)),(0,p.default)((0,a.default)(n),"params",void 0),(0,p.default)((0,a.default)(n),"state",(0,y.observable)(b.STATE)),(0,p.default)((0,a.default)(n),"init",(0,i.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getStorage(b.NAMESPACE);case 2:if(t=e.sent,n.setState(Object.assign({},t,{_loaded:g})),g){e.next=7;break}return e.next=7,(0,_.init)();case 7:g=!0,t=n.params._tags,(s=void 0===t?[]:t).length&&n.initQuery("string"==typeof s?[s]:s),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),n.search(),setTimeout(function(){n.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(n),"search",function(){setTimeout(function(){var e=n.state.query,e=(0,_.search)(e);n.setState({data:e})},80)}),(0,p.default)((0,a.default)(n),"initQuery",function(){var e=n.state.query;n.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,a.default)(n),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=n.state.query;"tags"===e?(s=void 0===(s=o.tags)?[]:s,r?n.setState({query:Object.assign({},o,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,d.default)(s),[t])})}):n.setState({query:Object.assign({},o,{tags:""===t?[]:[t]})})):n.setState({query:Object.assign({},o,(0,p.default)({},e,t))}),setTimeout(function(){n.search(),n.setStorage(b.NAMESPACE),(0,x.t)("文库.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,a.default)(n),"scrollToOffset",null),(0,p.default)((0,a.default)(n),"scrollToTop",function(){"function"==typeof n.scrollToOffset&&(n.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("文库.到顶"))}),(0,p.default)((0,a.default)(n),"switchLayout",function(){var e=n.isList?"grid":"list";(0,x.t)("文库.切换布局",{layout:e}),n.setState({layout:e}),n.setStorage(b.NAMESPACE)}),(0,p.default)((0,a.default)(n),"onExpand",function(){var e=n.state.expand;n.setState({expand:!e}),n.setStorage(b.NAMESPACE)}),n}},"./src/screens/discovery/wiki/component/cate/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Cate")},"./src/screens/discovery/wiki/component/cate/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/wiki/ds.ts"),d=s("./src/screens/discovery/wiki/component/cate/ds.ts"),i=s("./src/screens/discovery/wiki/component/cate/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,s=(0,i.memoStyles)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.SegmentedControl,{style:s.segment,size:11,values:n.TOP_DS,selectedIndex:t.state.top,onValueChange:t.onChangeTop}),(0,c.jsx)(o.SegmentedControl,{style:s.segment,size:11,values:t.segement.values,selectedIndex:t.segement.selectedIndex,onValueChange:t.onChangeSub},t.segement.key)]})},d.COMPONENT);try{cate.displayName="cate",cate.__docgenInfo={description:"",displayName:"cate",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/component/cate/index.tsx#cate"]={docgenInfo:cate.__docgenInfo,name:"cate",path:"src/screens/discovery/wiki/component/cate/index.tsx#cate"})}catch(e){}},"./src/screens/discovery/wiki/component/cate/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{segment:{width:r._.window.width-2*r._.wind,height:r._.r(32),marginLeft:r._.wind,marginTop:r._.sm+2}}})},"./src/screens/discovery/wiki/component/counts/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Counts")},"./src/screens/discovery/wiki/component/counts/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),c=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/wiki/ds.ts"),o=s("./src/screens/discovery/wiki/component/counts/ds.ts"),l=s("./src/screens/discovery/wiki/component/counts/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var t=t.$,r=(0,l.memoStyles)(),s=(t=t.wiki).counts,o=void 0===(t=t.lastCounts)?[]:t;return(0,u.jsxs)(n.default,{style:c._.mt._sm,children:[(0,u.jsx)(i.PreventTouchPlaceholder,{}),(0,u.jsx)(d.ScrollView,{contentContainerStyle:r.contentContainerStyle,horizontal:!0,showsHorizontalScrollIndicator:!1,children:s.map(function(e,t){var s=o.length>t&&parseInt(e.replace(/,/g,""))-parseInt(o[t].replace(/,/g,""));return(0,u.jsxs)(n.default,{style:[r.count,{borderRadius:c.systemStore.coverRadius}],children:[(0,u.jsx)(d.Text,{bold:!0,children:a.LABEL_DS[t]}),(0,u.jsxs)(d.Text,{style:c._.mt.xs,type:"main",size:12,bold:!0,children:[e,!!s&&(0,u.jsxs)(d.Text,{type:"bid",size:12,bold:!0,children:[" ","↑",s]})]})]},a.LABEL_DS[t])})})]})},o.COMPONENT);try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/component/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/discovery/wiki/component/counts/index.tsx#counts"})}catch(e){}},"./src/screens/discovery/wiki/component/counts/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{contentContainerStyle:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingLeft:r._.wind-r._.sm,minHeight:r._.r(56)},count:{padding:r._.device(r._.sm,r._.md),marginTop:r._.sm,marginLeft:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,borderWidth:r._.hairlineWidth,borderColor:r._.colorBorder}}})},"./src/screens/discovery/wiki/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/wiki/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item")},"./src/screens/discovery/wiki/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/wiki/component/item/ds.ts"),m=s("./src/screens/discovery/wiki/component/item/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=e.id,r=e.name,o=e.detail,n=e.userName,d=e.userId,e=e.time,i=t.navigation,t=(0,m.memoStyles)();return(0,p.jsxs)(c.default,{style:t.item,children:[(0,p.jsxs)(a.Flex,{children:[(0,p.jsxs)(a.Flex.Item,{children:[(0,p.jsx)(a.Touchable,{style:t.touch,onPress:function(){return(0,u.appNavigate)(s,i)},children:(0,p.jsx)(a.Text,{type:"main",lineHeight:15,bold:!0,children:(0,u.findSubjectCn)(r)})}),(0,p.jsxs)(a.Text,{style:l._.mt.xs,onPress:function(){i.push("Zone",{userId:d})},children:[!!o&&(0,p.jsxs)(a.Text,{type:"sub",size:12,lineHeight:14,children:[o," "]}),!(!n&&!d)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Text,{type:"sub",size:12,lineHeight:14,children:["by"," "]}),(0,p.jsx)(a.Text,{size:12,lineHeight:14,bold:!0,children:n||d})]})]})]}),(0,p.jsx)(a.Text,{type:"sub",size:12,children:e})]}),(0,p.jsx)(a.Divider,{style:l._.mt.sm})]})},o.COMPONENT)},"./src/screens/discovery/wiki/component/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){return{item:{paddingVertical:r._.sm,paddingHorizontal:r._.wind},touch:{borderRadius:r._.radiusSm,overflow:"hidden"}}})},"./src/screens/discovery/wiki/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/discovery/wiki/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/wiki/component/item/index.tsx")),r=s("./src/screens/discovery/wiki/component/list/ds.ts"),i=s("./src/screens/discovery/wiki/component/list/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)(function(e,t){return t=t.$,(0,c.jsx)(o.ScrollView,{contentContainerStyle:i.styles.contentContainerStyle,children:t.list.map(function(e,t){return(0,c.jsx)(d.default,Object.assign({},e),t)})})},r.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wiki/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wiki/component/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({contentContainerStyle:{paddingBottom:s._.bottom,marginTop:s._.md}})},"./src/screens/discovery/wiki/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.TOP_DS=t.STATE=t.RELATION_DS=t.NAMESPACE=t.LAST_DS=t.LABEL_DS=t.KEYS=t.COMPONENT=void 0;t.COMPONENT="Wiki",t.NAMESPACE="ScreenWiki",t.STATE={top:2,type:0,relation:0,last:1,_loaded:!1},t.KEYS={"0|0":"all","0|1":"lock","0|2":"merge","0|3":"crt","0|4":"prsn","0|5":"ep","1|0":"relation","1|1":"subjectPerson","1|2":"subjectCrt","2|0":"all","2|1":"anime","2|2":"book","2|3":"music","2|4":"game","2|5":"real"},t.LABEL_DS=["全部条目","动画","书籍","音乐","游戏","三次元","章节","角色","人物","编辑"],t.TOP_DS=["编辑","关联","入库"],t.TYPE_DS=["条目","锁定","合并","角色","人物","章节"],t.RELATION_DS=["条目关联","人物关联","角色关联"],t.LAST_DS=["全部","动画","书籍","音乐","游戏","三次元"]},"./src/screens/discovery/wiki/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/wiki/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/wiki/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),c=s("./src/screens/discovery/wiki/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,a.jsx)(o.Header,{title:"维基人",hm:["wiki","Wiki"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("维基人.右上角菜单",{key:e}),(0,n.open)(i.HOST+"/wiki"))},children:(0,a.jsx)(o.Heatmap,{id:"维基人.右上角菜单"})})}})},c.COMPONENT)},"./src/screens/discovery/wiki/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/wiki/component/cate/index.tsx")),a=r(s("./src/screens/discovery/wiki/component/counts/index.tsx")),l=r(s("./src/screens/discovery/wiki/component/list/index.tsx")),u=r(s("./src/screens/discovery/wiki/header/index.tsx")),r=r(s("./src/screens/discovery/wiki/store.ts")),m=s("./src/screens/discovery/wiki/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,p.jsxs)(n.Component,{id:"screen-wiki",children:[(0,p.jsx)(u.default,{}),(0,p.jsxs)(n.Page,{children:[(0,p.jsx)(a.default,{}),(0,p.jsxs)(o.default,{style:m.styles.list,children:[(0,p.jsx)(c.default,{}),(0,p.jsx)(l.default,{})]})]})]})})});try{wiki.displayName="wiki",wiki.__docgenInfo={description:"",displayName:"wiki",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/index.tsx#wiki"]={docgenInfo:wiki.__docgenInfo,name:"wiki",path:"src/screens/discovery/wiki/index.tsx#wiki"})}catch(e){}},"./src/screens/discovery/wiki/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/screens/discovery/wiki/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var x;t.default=(s=r.default,(0,a.default)(b,s),x=_(b),(0,i.default)(b,[{key:"wiki",get:function(){return y.discoveryStore.wiki}},{key:"segement",get:function(){var e,t,s=this.state.top,s=1===s?(e="relation",t=j.RELATION_DS,this.state.relation):2===s?(e="last",t=j.LAST_DS,this.state.last):(e="type",t=j.TYPE_DS,this.state.type);return{key:e,values:t,selectedIndex:s}}},{key:"list",get:function(){var e=this.wiki.timeline,e=void 0===e?{}:e,t=this.state.top;return 0===t?e[j.KEYS[t+"|"+this.state.type]]||[]:1===t?e[j.KEYS[t+"|"+this.state.relation]]||[]:(void 0===(e=this.wiki.last)?{}:e)[j.KEYS[t+"|"+this.state.last]]||[]}}]),(0,p.default)((t=b).prototype,"wiki",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"wiki"),t.prototype),(0,p.default)(t.prototype,"segement",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"segement"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),t);function b(){var r;(0,d.default)(this,b);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=x.call.apply(x,[this].concat(t)),(0,m.default)((0,c.default)(r),"state",(0,f.observable)(j.STATE)),(0,m.default)((0,c.default)(r),"init",(0,n.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Object,e.t2={},e.next=5,r.getStorage(j.NAMESPACE);case 5:return e.t3=e.sent,e.t4={_loaded:!0},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),e.abrupt("return",y.discoveryStore.fetchWiki());case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(r),"onChangeTop",function(t){r.setState({top:j.TOP_DS.findIndex(function(e){return e===t})}),r.setStorage(j.NAMESPACE)}),(0,m.default)((0,c.default)(r),"onChangeSub",function(t){var e=r.segement,s=e.key,e=e.values;r.setState((0,m.default)({},s,e.findIndex(function(e){return e===t}))),r.setStorage(j.NAMESPACE)}),r}},"./src/screens/discovery/wiki/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({list:{flex:1,paddingTop:s._.sm}})},"./src/screens/discovery/yearbook/component/blocks/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/yearbook/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Blocks")},"./src/screens/discovery/yearbook/component/blocks/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),c=s("./src/utils/dev/index.ts"),a=s("./src/utils/fetch/index.ts"),l=s("./src/utils/hooks/index.ts"),u=s("./src/constants/index.ts"),m=s("./src/screens/discovery/yearbook/ds.ts"),p=s("./src/screens/discovery/yearbook/component/blocks/ds.ts"),f=s("./src/screens/discovery/yearbook/component/blocks/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");t.default=function(){(0,c.r)(p.COMPONENT);var o=(0,l.useNavigation)();return(0,l.useObserver)(function(){var t=(0,f.memoStyles)(),e=t.item2021,s=e.width,r=e.height;return(0,y.jsx)(d.Flex,{wrap:"wrap",children:m.YEARS_BLOCKS.map(function(e){return(0,y.jsx)(d.Touchable,{style:i._.mt.md,animate:!0,onPress:function(){(0,a.t)("Bangumi年鉴.跳转",{to:"Award",year:e}),o.push("Award",{uri:u.HOST+"/award/"+e})},children:(0,y.jsx)(d.Squircle,{width:s,height:r,radius:i.systemStore.coverRadius,children:(0,y.jsx)(n.default,{style:t["item"+e],children:(0,y.jsx)(d.Image,{src:u.ASSETS_AWARDS[e],size:s,height:r,placeholder:!1,resizeMode:2018===e?"cover":"contain"})})})},String(e))})})})}},"./src/screens/discovery/yearbook/component/blocks/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.width-2*r._.wind-0*r._.md,t=.4*e;return{item2021:{width:e,height:t,backgroundColor:"#ebf3ec"},item2020:{width:e,height:t,backgroundColor:"rgb(236, 243, 236)"},item2019:{width:e,height:t,backgroundColor:"rgb(54, 63, 69)"},item2018:{width:e,height:t}}})},"./src/screens/discovery/yearbook/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/yearbook/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/discovery/yearbook/component/years/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/yearbook/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Years")},"./src/screens/discovery/yearbook/component/years/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),i=s("./src/utils/dev/index.ts"),c=s("./src/utils/fetch/index.ts"),a=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),u=s("./src/screens/discovery/yearbook/ds.ts"),m=s("./src/screens/discovery/yearbook/component/years/ds.ts"),p=s("./src/screens/discovery/yearbook/component/years/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=function(){(0,i.r)(m.COMPONENT);var r=(0,a.useNavigation)();return(0,a.useObserver)(function(){var s=(0,p.memoStyles)();return(0,f.jsx)(o.Flex,{wrap:"wrap",children:u.YEARS.map(function(e,t){return(0,f.jsx)(o.Touchable,{style:(0,d.stl)(s.item,t%n._.portrait(2,4)==0&&s.side),animate:!0,onPress:function(){(0,c.t)("Bangumi年鉴.跳转",{to:"Award",year:e}),r.push("Award",{uri:l.HOST+"/award/"+e})},children:(0,f.jsx)(o.Squircle,{width:s.itemBody.width,height:s.itemBody.height,radius:n.systemStore.coverRadius,children:(0,f.jsx)(o.Flex,{style:s.itemBody,justify:"center",direction:"column",children:(0,f.jsx)(o.Text,{size:18,type:n._.select("plain","title"),bold:!0,children:e})})})},e)})})})}},"./src/screens/discovery/yearbook/component/years/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=(r._.window.width-2*r._.wind-+r._.md)/2;return{item:{marginTop:r._.md,marginLeft:r._.md},itemBody:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1)},side:{marginLeft:0}}})},"./src/screens/discovery/yearbook/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEARS_BLOCKS=t.YEARS=t.COMPONENT=void 0;t.COMPONENT="YearBook",t.YEARS=[2017,2016,2015,2014,2013,2012,2011,2010],t.YEARS_BLOCKS=[2021,2020,2019,2018]},"./src/screens/discovery/yearbook/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/discovery/yearbook/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/discovery/yearbook/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),n=s("./src/screens/discovery/yearbook/header/ds.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(){return(0,d.jsx)(o.Header,{title:"Bangumi年鉴",hm:["discovery/yearbook","Yearbook"]})},n.COMPONENT)},"./src/screens/discovery/yearbook/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),d=s("./src/stores/index.ts"),i=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/index/component/award-2022/index.web.tsx")),a=r(s("./src/screens/discovery/index/component/award-2023/index.tsx")),l=r(s("./src/screens/discovery/yearbook/component/blocks/index.tsx")),u=r(s("./src/screens/discovery/yearbook/component/years/index.tsx")),m=r(s("./src/screens/discovery/yearbook/header/index.tsx")),p=s("./src/screens/discovery/yearbook/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,i.useObserver)(function(){var e=(0,p.memoStyles)();return(0,f.jsxs)(n.Component,{id:"screen-yearbook",children:[(0,f.jsx)(m.default,{}),(0,f.jsx)(n.Page,{children:(0,f.jsxs)(n.ScrollView,{contentContainerStyle:e.container,scrollToTop:!0,children:[(0,f.jsx)(a.default,{width:e.item2021.width,height:e.item2021.height}),(0,f.jsx)(o.default,{style:d._.mt.md,children:(0,f.jsx)(c.default,{width:e.item2021.width,height:e.item2021.height})}),(0,f.jsx)(l.default,{}),(0,f.jsx)(u.default,{})]})})]})})};try{yearbook.displayName="yearbook",yearbook.__docgenInfo={description:"年鉴",displayName:"yearbook",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/yearbook/index.tsx#yearbook"]={docgenInfo:yearbook.__docgenInfo,name:"yearbook",path:"src/screens/discovery/yearbook/index.tsx#yearbook"})}catch(e){}},"./src/screens/discovery/yearbook/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts");t.memoStyles=r._.memoStyles(function(){var e=r._.window.width-2*r._.wind-0*r._.md;return{container:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.bottom},item2021:{width:e,height:.4*e,backgroundColor:"#ebf3ec"}}})},"./src/screens/home/catalogs/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/catalogs/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Component")},"./src/screens/home/catalogs/component/extra/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/catalogs/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Extra")},"./src/screens/home/catalogs/component/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/catalogs/component/extra/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(){return(0,i.jsx)(o.Heatmap,{bottom:n._.bottom,id:"条目目录",screen:"SubjectCatalogs"})},d.COMPONENT)},"./src/screens/home/catalogs/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/catalogs/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Item"),t.EVENT={id:"条目目录.跳转"}},"./src/screens/home/catalogs/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/home/catalogs/component/item/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)(function(e){var t=e.item,e=e.index;return(0,i.jsx)(n.ItemCatalog,{event:d.EVENT,isUser:!0,id:t.id,name:t.userName,title:t.title,children:!e&&(0,i.jsx)(o.Heatmap,{id:"条目目录.跳转"})})},d.COMPONENT);try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/component/item/index.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/home/catalogs/component/item/index.tsx#item"})}catch(e){}},"./src/screens/home/catalogs/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/catalogs/component/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"List")},"./src/screens/home/catalogs/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/home/catalogs/component/list/utils.tsx"),c=s("./src/screens/home/catalogs/component/list/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){return t=t.$,(0,a.jsx)(o.ListView,{contentContainerStyle:n._.container.bottom,keyExtractor:d.keyExtractor,data:t.list,lazy:4,scrollToTop:!0,renderItem:i.renderItem,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchSubjectCatalogs})},c.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/catalogs/component/list/index.tsx#list"})}catch(e){}},"./src/screens/home/catalogs/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d,r(s("./node_modules/react/index.js")),r(s("./src/screens/home/catalogs/component/item/index.tsx"))),n=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,e=e.index;return(0,n.jsx)(o.default,{item:t,index:e})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/home/catalogs/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/home/catalogs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.COMPONENT=void 0;t.COMPONENT="Catalogs",t.STATE={ota:{},_loaded:!1}},"./src/screens/home/catalogs/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),s=s("./src/screens/home/catalogs/ds.ts");t.COMPONENT=(0,r.rc)(s.COMPONENT,"Header")},"./src/screens/home/catalogs/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),i=s("./src/screens/home/catalogs/header/ds.ts"),c=s("./src/screens/home/catalogs/header/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(o.Header,{title:null!=(t=s.params)&&t.name?"包含"+s.params.name+"的目录":"条目目录",alias:"条目目录",hm:[s.url,"SubjectCatalogs"],headerTitleStyle:c.styles.title,headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,d.t)("条目目录.右上角菜单",{key:e}),(0,n.open)(s.url))},children:(0,a.jsx)(o.Heatmap,{id:"条目目录.右上角菜单"})})}})},i.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/catalogs/header/index.tsx#header"})}catch(e){}},"./src/screens/home/catalogs/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts");t.styles=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}})},"./src/screens/home/catalogs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),i=r(s("./src/screens/home/catalogs/component/extra/index.tsx")),c=r(s("./src/screens/home/catalogs/component/list/index.tsx")),a=r(s("./src/screens/home/catalogs/header/index.tsx")),r=r(s("./src/screens/home/catalogs/store.ts")),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,l.jsxs)(o.Component,{id:"screen-subject-catalogs",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(o.Page,{loaded:s.list._loaded,children:(0,l.jsx)(c.default,{})}),(0,l.jsx)(i.default,{})]})})});try{catalogs.displayName="catalogs",catalogs.__docgenInfo={description:"",displayName:"catalogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/index.tsx#catalogs"]={docgenInfo:catalogs.__docgenInfo,name:"catalogs",path:"src/screens/home/catalogs/index.tsx#catalogs"})}catch(e){}},"./src/screens/home/catalogs/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),l=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),v=s("./src/screens/home/catalogs/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,e)}}var g,S=[];t.default=(s=r.default,(0,a.default)(O,s),g=h(O),(0,o.default)(O,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"url",get:function(){return(0,b.HTML_SUBJECT_CATALOGS)(this.subjectId)}},{key:"subjectCatalogs",get:function(){return y.subjectStore.subjectCatalogs(this.subjectId)}},{key:"list",get:function(){return this.subjectCatalogs._loaded?this.subjectCatalogs:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):b.LIST_EMPTY}},{key:"catalogDetail",value:function(e){return(0,f.computed)(function(){return y.discoveryStore.catalogDetail(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"subject-catalogs_"+this.subjectId}}]),(0,p.default)((t=O).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectId"),t.prototype),(0,p.default)(t.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"url"),t.prototype),(0,p.default)(t.prototype,"subjectCatalogs",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"subjectCatalogs"),t.prototype),(0,p.default)(t.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"list"),t.prototype),(0,p.default)(t.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"ota"),t.prototype),(0,p.default)(t.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(t.prototype,"thirdPartyKey"),t.prototype),t);function O(){var o;(0,i.default)(this,O);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=g.call.apply(g,[this].concat(s)),(0,m.default)((0,c.default)(o),"params",void 0),(0,m.default)((0,c.default)(o),"state",(0,f.observable)(v.STATE)),(0,m.default)((0,c.default)(o),"init",function(){return o.setState({_loaded:!0}),o.fetchSubjectCatalogs(!0)}),(0,m.default)((0,c.default)(o),"onHeaderRefresh",function(){return o.fetchSubjectCatalogs(!0)}),(0,m.default)((0,c.default)(o),"fetchSubjectCatalogs",(0,d.default)(n.mark(function e(){var t,s,r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<r.length&&void 0!==r[0]&&r[0])&&o.fetchThirdParty(),e.next=4,y.subjectStore.fetchSubjectCatalogs({subjectId:o.subjectId},t);case 4:return(t=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(s=(null==(s=o.ota)?void 0:s.ts)||0,604800<=(0,j.getTimestamp)()-s)&&o.updateThirdParty(),(0,_.queue)(t.list.map(function(e){return function(){return o.fetchCatalogDetail(e.id)}})),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(o),"fetchCatalogDetail",(t=(0,d.default)(n.mark(function e(t){var s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:return e.next=4,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 4:if(e.sent)return e.abrupt("return",!0);e.next=7;break;case 7:return e.next=9,y.discoveryStore.fetchCatalogDetail({id:t});case 9:return s=e.sent,o.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,c.default)(o),"fetchThirdParty",(0,d.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.list._loaded){e.next=8;break}return e.next=3,(0,x.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,m.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,m.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(o),"updateThirdParty",(0,d.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,x.update)(o.thirdPartyKey,{list:o.list.list}),S.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,c.default)(o),"updateCatalogDetail",function(l){setTimeout(function(){var e=l.id,t=l.title,s=l.info,r=l.content,o=l.avatar,n=l.nickname,d=l.userId,i=l.time,c=l.collect,a=l.list,s=(0,j.HTMLDecode)((0,j.removeHTMLTag)(s||r));(0,x.update)("catalog_"+e,{id:e,title:t,info:s?s.slice(0,40):"",avatar:o,nickname:n,userId:d,time:i,collect:c,list:a.filter(function(e,t){return t<3}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}}),total:a.length})},2e3)}),o}},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var t=s("./node_modules/css-loader/dist/runtime/sourceMaps.js"),t=s.n(t),r=s("./node_modules/css-loader/dist/runtime/api.js"),s=s.n(r)()(t());s.push([e.id,`screen-discovery .scroll-view-horizontal--grabbing{cursor:grab !important}screen-discovery .scroll-view-horizontal--grabbing>div *{pointer-events:none !important}
`,"",{version:3,sources:["webpack://./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"],names:[],mappings:"AAMA,mDAGM,sBAAuB,CAH7B,yDAMQ,8BAA+B",sourcesContent:["/*\n * @Author: czy0729\n * @Date: 2023-11-08 12:57:23\n * @Last Modified by: czy0729\n * @Last Modified time: 2023-11-29 18:03:00\n */\nscreen-discovery {\n  .scroll-view-horizontal {\n    &--grabbing {\n      cursor: grab !important;\n\n      & > div * {\n        pointer-events: none !important;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const o=s},"./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var t=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),t=s.n(t),r=s("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),r=s.n(r),o=s("./node_modules/style-loader/dist/runtime/insertBySelector.js"),o=s.n(o),n=s("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),n=s.n(n),d=s("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),d=s.n(d),i=s("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),i=s.n(i),s=s("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[11].use[2]!./src/screens/discovery/index/component/award/scroll-view-horizontal/index.scss"),c={};c.styleTagTransform=i(),c.setAttributes=n(),c.insert=o().bind(null,"head"),c.domAPI=r(),c.insertStyleElement=d(),t()(s.Z,c);const a=s.Z&&s.Z.locals?s.Z.locals:void 0}}]);