(self.webpackChunkweb=self.webpackChunkweb||[]).push([[221],{"./src/screens/user/zone/component/about/content/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/about/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Content")},"./src/screens/user/zone/component/about/content/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/about/content/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$,r=s.navigation;if(!t.users._loaded)return(0,i.jsx)(n.Loading,{});var l=String(t.users.sign||"").replace(/<span style="font-size:0px; line-height:0px;">(.+?)<\/span>/g,"")||"(没有填写简介)";return(0,i.jsx)(n.RenderHtml,{style:o._.mt.sm,html:l,onLinkPress:function(e){(0,a.appNavigate)(e,r,{},{id:"空间.跳转",data:{from:"关于TA",userId:t.userId}})}})}),d.COMPONENT);try{content.displayName="content",content.__docgenInfo={description:"",displayName:"content",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/content/index.tsx#content"]={docgenInfo:content.__docgenInfo,name:"content",path:"src/screens/user/zone/component/about/content/index.tsx#content"})}catch(e){}},"./src/screens/user/zone/component/about/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"About")},"./src/screens/user/zone/component/about/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),i=t("./src/screens/user/zone/ds.ts"),c=r(t("./src/screens/user/zone/component/lock/index.tsx")),u=r(t("./src/screens/user/zone/component/u/index.tsx")),m=r(t("./src/screens/user/zone/component/about/content/index.tsx")),p=r(t("./src/screens/user/zone/component/about/service/index.tsx")),f=t("./src/screens/user/zone/component/about/ds.ts"),_=t("./src/screens/user/zone/component/about/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$,r=(0,_.memoStyles)();return(0,x.jsx)(n.default.ScrollView,Object.assign({ref:function(e){var s=i.TABS.findIndex((function(e){return"关于"===e.title}));return t.connectRef(e,s)},contentContainerStyle:r.contentContainerStyle},e,d.SCROLL_VIEW_RESET_PROPS,{onScroll:d.STORYBOOK?void 0:n.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:d.USE_NATIVE_DRIVER,listener:e.onScroll}),children:(0,x.jsxs)(o.default,{style:r.page,children:[(0,x.jsx)(c.default,{}),(0,x.jsx)(p.default,{}),(0,x.jsx)(m.default,{}),a.userStore.isDeveloper&&!!t.usersInfo.username&&(0,x.jsx)(u.default,{})]})}))}),f.COMPONENT);try{about.displayName="about",about.__docgenInfo={description:"",displayName:"about",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/index.tsx#about"]={docgenInfo:about.__docgenInfo,name:"about",path:"src/screens/user/zone/component/about/index.tsx#about"})}catch(e){}},"./src/screens/user/zone/component/about/service/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/about/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Service")},"./src/screens/user/zone/component/about/service/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/about/service/ds.ts"),i=t("./src/screens/user/zone/component/about/service/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$.users.networkService;return null!=t&&t.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Flex,{style:i.styles.service,wrap:"wrap",children:t.map((function(e){return(0,c.jsxs)(o.Flex,{style:i.styles.item,children:[(0,c.jsx)(n.default,{style:(0,a.stl)(i.styles.badge,e.color&&{backgroundColor:e.color}),children:(0,c.jsx)(o.Text,{size:10,type:"__plain__",bold:!0,shadow:!0,children:e.label})}),(0,c.jsx)(o.Text,{size:11,bold:!0,onPress:e.href?function(){(0,a.open)(e.href)}:void 0,children:e.value})]},e.label)}))}),(0,c.jsx)(o.Divider,{})]}):null}),d.COMPONENT);try{service.displayName="service",service.__docgenInfo={description:"",displayName:"service",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/about/service/index.tsx#service"]={docgenInfo:service.__docgenInfo,name:"service",path:"src/screens/user/zone/component/about/service/index.tsx#service"})}catch(e){}},"./src/screens/user/zone/component/about/service/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({service:{marginRight:-r._._wind},item:{marginRight:r._.md,marginTop:r._.md},badge:{paddingVertical:4,paddingHorizontal:8,marginRight:r._.sm,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.08)",borderRadius:r._.radiusMd,overflow:"hidden"}})},"./src/screens/user/zone/component/about/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{paddingTop:r._.md,minHeight:r._.window.height-r._.parallaxImageHeight},nestScroll:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom}}}))},"./src/screens/user/zone/component/bangumi-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"BangumiList")},"./src/screens/user/zone/component/bangumi-list/footer/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),d=t("./src/screens/user/zone/component/bangumi-list/footer/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=s.$,r=s.navigation;return(0,i.jsxs)(n.Flex,{style:o._.mt.lg,justify:"center",children:[(0,i.jsxs)(n.Touchable,{style:d.styles.touch,onPress:function(){(0,l.t)("空间.跳转",{to:"User"}),t.navigateToUser(r)},children:[(0,i.jsx)(n.Text,{type:"sub",size:12,bold:!0,children:"查看TA的所有收藏"}),(0,i.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]}),(0,i.jsx)(n.Text,{style:d.styles.touch,type:"sub",children:"·"}),(0,i.jsxs)(n.Touchable,{style:d.styles.touch,onPress:function(){o.systemStore.switchSetting("zoneCollapse")},children:[(0,i.jsxs)(n.Text,{type:"sub",size:12,bold:!0,children:["自动折叠 [",o.systemStore.setting.zoneCollapse?"开":"关","]"]}),(0,i.jsx)(n.Heatmap,{id:"空间.跳转",to:"User",alias:"所有收藏"})]})]})}));try{footer.displayName="footer",footer.__docgenInfo={description:"",displayName:"footer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"]={docgenInfo:footer.__docgenInfo,name:"footer",path:"src/screens/user/zone/component/bangumi-list/footer/index.tsx#footer"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/footer/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{paddingVertical:r._.sm,paddingHorizontal:r._.sm,borderRadius:r._.radiusSm,overflow:"hidden"}})},"./src/screens/user/zone/component/bangumi-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/utils/decorators/index.ts"),x=t("./src/utils/dev/index.ts"),j=t("./src/constants/index.ts"),y=t("./src/screens/user/zone/ds.ts"),b=r(t("./src/screens/user/zone/component/bangumi-list/footer/index.tsx")),h=r(t("./src/screens/user/zone/component/bangumi-list/item/index.tsx")),v=r(t("./src/screens/user/zone/component/bangumi-list/section-header/index.tsx")),g=t("./src/screens/user/zone/component/bangumi-list/ds.ts"),O=t("./src/screens/user/zone/component/bangumi-list/styles.ts"),T=t("./node_modules/react/jsx-runtime.js");function S(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}var E=function(e){(0,l.default)(t,e);var s=S(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"connectRef",(function(s){var t=e.context.$,r=y.TABS.findIndex((function(e){return"番剧"===e.title}));return t.connectRef(s,r)})),(0,c.default)((0,a.default)(e),"renderSectionHeader",(function(e){var s=e.section,t=s.title,r=s.count;return(0,T.jsx)(v.default,{title:t,count:r})})),(0,c.default)((0,a.default)(e),"renderItem",(function(e){var s=e.item,t=e.section.title;return(0,T.jsx)(h.default,{item:s,title:t})})),e}return(0,o.default)(t,[{key:"sections",get:function(){return this.context.$.userCollections.list.map((function(e){return{title:e.status,count:e.count,data:[{list:e.list}]}}))}},{key:"render",value:function(){(0,x.r)(g.COMPONENT);var e=this.context.$;return e.userCollections._loaded?(0,T.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:this.styles.contentContainerStyle,keyExtractor:f.keyExtractor,animated:!0,sections:this.sections,showFooter:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,ListFooterComponent:(0,T.jsx)(b.default,{})},this.props,{onScroll:j.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:j.USE_NATIVE_DRIVER,listener:this.props.onScroll})})):(0,T.jsx)(p.Loading,{style:this.styles.loading})}},{key:"styles",get:function(){return(0,O.memoStyles)()}}]),t}(u.default.Component);s.default=(0,_.obc)(E);try{bangumilist.displayName="bangumilist",bangumilist.__docgenInfo={description:"",displayName:"bangumilist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"]={docgenInfo:bangumilist.__docgenInfo,name:"bangumilist",path:"src/screens/user/zone/component/bangumi-list/index.tsx#bangumilist"})}catch(e){}},"./src/screens/user/zone/component/bangumi-list/item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=void 0;s.EVENT={id:"空间.跳转"}},"./src/screens/user/zone/component/bangumi-list/item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/bangumi-list/item/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.item,r=e.title,l=s.$,c=s.navigation;return l.state.expand[r]?(0,i.jsxs)(n.Flex,{wrap:"wrap",align:"start",children:[t.list.filter((function(e,s){return s<20})).map((function(e){var s;return(0,i.jsx)(o.ItemBangumiList,{navigation:c,subjectId:e.id,image:null==(s=e.images)?void 0:s.medium,name:(0,a.cnjp)(e.name_cn,e.name),event:d.EVENT},e.id)})),r.includes("在看")&&(0,i.jsx)(n.Heatmap,{id:"空间.跳转",to:"Subject",alias:"条目"})]}):null}))},"./src/screens/user/zone/component/bangumi-list/section-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/bangumi-list/section-header/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.title,r=e.count,d=s.$,u=(0,i.memoStyles)();return(0,c.jsxs)(n.Touchable,{style:(0,l.stl)(u.section,"在看"===t&&a._.mt.sm),onPress:function(){return d.onToggleSection(t)},children:[(0,c.jsxs)(o.SectionHeader,{style:u.sectionHeader,type:"title",size:15,right:(0,c.jsx)(n.Iconfont,{style:u.arrow,name:d.state.expand[t]?"md-keyboard-arrow-down":"md-keyboard-arrow-up"}),children:[t," ",(0,c.jsx)(n.Text,{type:"sub",size:13,bold:!0,lineHeight:15,children:r})]}),"在看"===t&&(0,c.jsx)(n.Heatmap,{id:"空间.展开分组"})]})}))},"./src/screens/user/zone/component/bangumi-list/section-header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{sectionHeader:{paddingHorizontal:r._._wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},section:{backgroundColor:r._.colorBg},arrow:{marginRight:-3}}}))},"./src/screens/user/zone/component/bangumi-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{loading:{marginTop:r._.window.height/3},contentContainerStyle:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:n.STORYBOOK?0:r._.bottom,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},nestScroll:{paddingHorizontal:r._.wind-r._._wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}}))},"./src/screens/user/zone/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Component")},"./src/screens/user/zone/component/extra/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/zone/component/heatmaps/index.tsx")),l=r(t("./src/screens/user/zone/component/remark-modal/index.tsx")),d=r(t("./src/screens/user/zone/component/used-modal/index.tsx")),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)((function(e,s){var t=s.$;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.default,{visible:t.state.visible,defaultAvatar:t.src}),(0,i.jsx)(l.default,{}),(0,i.jsx)(n.Track,{title:"空间",hm:["user/"+t.params.userId+"?route=zone","Zone"]}),(0,i.jsx)(a.default,{})]})}));try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/user/zone/component/extra/index.tsx#extra"})}catch(e){}},"./src/screens/user/zone/component/head/avatar/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/head/avatar/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$,r=t.usersInfo,l=r.avatar,c=r.username,u="string"==typeof t.src&&!t.src.includes("//lain.bgm.tv/pic/user/l/"),m=(0,o.getUserStatus)(c),p=a._.r(88);return(0,i.jsxs)(n.default,{children:[(0,i.jsx)(o.Image,{style:d.styles.avatar,src:t.src,size:p,radius:p/2,placeholder:!1,border:a._.__colorPlain__,borderWidth:2,fallback:u,fallbackSrc:null==l?void 0:l.large},String(t.src)),!!m&&(0,i.jsx)(n.default,{style:[d.styles.status,d.styles.online,d.styles["online"+m]]})]})}));try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/avatar/index.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/screens/user/zone/component/head/avatar/index.tsx#avatar"})}catch(e){}},"./src/screens/user/zone/component/head/avatar/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({avatar:{marginTop:14,backgroundColor:r._.__colorPlain__,overflow:"hidden"},status:{position:"absolute",zIndex:1,right:1,bottom:1,width:18,height:18,padding:0,backgroundColor:"rgba(255, 255, 255, 0.92)",borderRadius:18},online:{borderWidth:2,borderColor:r._.__colorPlain__},onlineSuccess:{backgroundColor:"rgb(9, 241, 117)"},onlineWarning:{backgroundColor:r._.colorWarning}})},"./src/screens/user/zone/component/head/blogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,r=s.$,l=s.navigation;return(0,i.jsxs)(n.default,{style:t,children:[(0,i.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:r.userId,to:"Blogs"}),l.push("Blogs",{userId:r.userId})},children:(0,i.jsx)(o.Text,{type:a._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:"日志"})}),(0,i.jsx)(o.Heatmap,{right:-74,bottom:-8,id:"空间.跳转",to:"Blogs",alias:"日志"})]})}))},"./src/screens/user/zone/component/head/catalogs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,r=s.$,l=s.navigation;return(0,i.jsxs)(n.default,{style:t,children:[(0,i.jsx)(o.Touchable,{animate:!0,scale:.8,onPress:function(){(0,d.t)("空间.跳转",{userId:r.userId,to:"Catalogs"}),l.push("Catalogs",{userId:r.userId})},children:(0,i.jsx)(o.Text,{type:a._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:"目录"})}),(0,i.jsx)(o.Heatmap,{right:-76,bottom:-8,id:"空间.跳转",to:"Catalogs",alias:"目录"})]})}))},"./src/screens/user/zone/component/head/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Head")},"./src/screens/user/zone/component/head/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/zone/component/head/avatar/index.tsx")),d=r(t("./src/screens/user/zone/component/head/blogs/index.tsx")),i=r(t("./src/screens/user/zone/component/head/catalogs/index.tsx")),c=r(t("./src/screens/user/zone/component/head/join/index.tsx")),u=r(t("./src/screens/user/zone/component/head/name/index.tsx")),m=r(t("./src/screens/user/zone/component/head/recent/index.tsx")),p=r(t("./src/screens/user/zone/component/head/remark/index.tsx")),f=r(t("./src/screens/user/zone/component/head/sync/index.tsx")),_=t("./src/screens/user/zone/component/head/ds.ts"),x=t("./src/screens/user/zone/component/head/styles.ts"),j=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ob)((function(e){var s=e.style,t=(0,x.memoStyles)();return(0,j.jsxs)(o.Flex,{style:s,direction:"column",children:[(0,j.jsxs)(n.default,{children:[(0,j.jsx)(l.default,{}),(0,j.jsx)(c.default,{style:t.l1}),(0,j.jsx)(f.default,{style:t.l2}),(0,j.jsx)(m.default,{style:t.l3}),(0,j.jsx)(d.default,{style:t.r1}),(0,j.jsx)(i.default,{style:t.r2}),(0,j.jsx)(p.default,{style:t.r3})]}),(0,j.jsx)(u.default,{})]})}),_.COMPONENT);try{head.displayName="head",head.__docgenInfo={description:"",displayName:"head",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/index.tsx#head"]={docgenInfo:head.__docgenInfo,name:"head",path:"src/screens/user/zone/component/head/index.tsx#head"})}catch(e){}},"./src/screens/user/zone/component/head/join/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.join.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=e.style,r=s.$.users.join;return(0,l.jsx)(n.Text,{style:t,type:o._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:r||"- 加入"})}))},"./src/screens/user/zone/component/head/name/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/head/name/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=t.usersInfo,d=r.id,u=r.username,m=d||t.params._id,p=!!u&&u!=m,f=l._.select("plain","title");return(0,c.jsxs)(n.default,{style:l._.mt.md,children:[(0,c.jsxs)(o.Flex,{children:[(0,c.jsx)(a.VerticalAlign,{text:t.nickname,type:f,lineHeight:14,bold:!0,shadow:!0,children:t.nickname}),!(!u&&!m)&&(0,c.jsxs)(o.Text,{style:l._.ml.xs,type:f,bold:!0,shadow:!0,children:["@",t.state.originUid?m:u||m]})]}),(0,c.jsx)(o.Flex,{style:i.styles.icons,children:p&&(0,c.jsx)(o.Touchable,{style:i.styles.icon,onPress:t.toggleOriginUid,children:(0,c.jsx)(o.Iconfont,{name:"md-compare-arrows",size:17,color:l._.__colorPlain__})})})]})}));try{name.displayName="name",name.__docgenInfo={description:"",displayName:"name",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/head/name/index.tsx#name"]={docgenInfo:name.__docgenInfo,name:"name",path:"src/screens/user/zone/component/head/name/index.tsx#name"})}catch(e){}},"./src/screens/user/zone/component/head/name/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({icons:{position:"absolute",zIndex:1,top:0,right:-54,width:48,height:18},icon:{paddingHorizontal:6,opacity:.92}})},"./src/screens/user/zone/component/head/recent/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/utils/fetch/index.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t,r,l,c,u=e.style,m=s.$,p="历史";return m.usersTimeline.list.length&&null!=(t=m.usersTimeline.list)&&null!=(r=t[0])&&r.time&&(p=String(null==(l=m.usersTimeline.list[0])||null==(c=l.time.split(" ·"))?void 0:c[0]).replace("·","")+"活跃"),(0,i.jsxs)(n.default,{style:u,children:[(0,i.jsx)(o.Touchable,{animate:!0,scale:.9,onPress:function(){(0,d.t)("空间.历史",{userId:m.userId}),m.openUsedModal()},children:(0,i.jsx)(o.Text,{type:a._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:p})}),(0,i.jsx)(o.Heatmap,{id:"空间.历史"})]})}))},"./src/screens/user/zone/component/head/remark/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/head/remark/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,r=s.$;return(0,i.jsx)(n.default,{style:t,children:(0,i.jsx)(o.Touchable,{style:d.styles.remark,animate:!0,scale:.8,onPress:r.openRemarkModal,children:(0,i.jsx)(o.Text,{type:a._.select("plain","title"),size:11,bold:!0,shadow:!0,numberOfLines:1,noWrap:!0,children:r.userRemark?"["+r.userRemark+"]":"备注"})})})}))},"./src/screens/user/zone/component/head/remark/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({remark:{maxWidth:100}})},"./src/screens/user/zone/component/head/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=function(e,s){return{position:"absolute",zIndex:1,top:r._.r(e-r._.xs),right:r._.r(s-r._.sm),paddingVertical:r._.xs,paddingHorizontal:r._.sm,borderRadius:r._.radiusSm,overflow:"hidden",opacity:.92}},o=function(e,s){return{position:"absolute",zIndex:1,top:r._.r(e-r._.xs),left:r._.r(s-r._.sm),paddingVertical:r._.xs,paddingHorizontal:r._.sm,borderRadius:r._.radiusSm,overflow:"hidden",opacity:.92}};s.memoStyles=r._.memoStyles((function(){return{l1:n(16,100),l2:n(52,116),l3:n(88,100),r1:o(16,100),r2:o(52,116),r3:o(88,100)}}))},"./src/screens/user/zone/component/head/sync/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=e.style,r=s.$.users,a=r.percent,d=r.hobby;return(0,l.jsxs)(n.Text,{style:t,type:o._.select("plain","title"),size:11,bold:!0,shadow:!0,noWrap:!0,children:["同步率 ",isNaN(a)?"-":a,"% (",d,")"]})}))},"./src/screens/user/zone/component/heatmaps/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Heatmaps")},"./src/screens/user/zone/component/heatmaps/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/heatmaps/ds.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ob)((function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height/1.6,id:"空间.标签页切换",transparent:!0}),(0,d.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height/1.6,id:"空间.标签页点击",transparent:!0}),(0,d.jsx)(n.Heatmap,{bottom:o._.bottom,id:"空间",screen:"Zone"})]})}),l.COMPONENT)},"./src/screens/user/zone/component/list-header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"ListHeader")},"./src/screens/user/zone/component/list-header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store/index.ts"),d=t("./src/screens/user/zone/component/list-header/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ob)((function(){return(0,i.jsx)(n.default,{style:{height:o._.parallaxImageHeight+l.H_TABBAR-16}})}),d.COMPONENT)},"./src/screens/user/zone/component/lock/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Lock")},"./src/screens/user/zone/component/lock/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),a=t("./src/screens/user/zone/component/lock/ds.ts"),l=t("./src/screens/user/zone/component/lock/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)((function(e,s){var t=s.$.users.ban;if(!t)return null;var r=(0,l.memoStyles)();return(0,d.jsxs)(n.Flex,{style:r.container,children:[(0,d.jsx)(n.Mesume,{index:2,size:60}),(0,d.jsx)(n.Flex.Item,{children:(0,d.jsx)(n.Text,{bold:!0,children:t})})]})}),a.COMPONENT);try{lock.displayName="lock",lock.__docgenInfo={description:"",displayName:"lock",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/lock/index.tsx#lock"]={docgenInfo:lock.__docgenInfo,name:"lock",path:"src/screens/user/zone/component/lock/index.tsx#lock"})}catch(e){}},"./src/screens/user/zone/component/lock/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingVertical:r._.md,paddingRight:r._._wind,paddingLeft:r._.xs,marginTop:r._.md,marginBottom:r._.lg,borderWidth:1,borderColor:r._.colorMain,borderRadius:r._.radiusSm}}}))},"./src/screens/user/zone/component/menu/back/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/back/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.navigation;return(0,i.jsx)(n.default,{style:[a._.header.left,d.styles.back],children:(0,i.jsx)(o.IconBack,{navigation:t,color:a._.__colorPlain__})})}));try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/back/index.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/user/zone/component/menu/back/index.tsx#back"})}catch(e){}},"./src/screens/user/zone/component/menu/back/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({back:{zIndex:1,marginTop:r._.platforms(-8,-8,-8,0),marginLeft:2}})},"./src/screens/user/zone/component/menu/friend/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/menu/friend/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=s.$;return t.users.disconnectUrl?(0,d.jsx)(n.Touchable,{style:l.styles.touch,onPress:t.logFriendStatus,children:(0,d.jsx)(n.Flex,{style:l.styles.icon,justify:"center",children:(0,d.jsx)(n.Iconfont,{name:"md-face",size:19,color:o._.__colorPlain__})})}):null}));try{friend.displayName="friend",friend.__docgenInfo={description:"",displayName:"friend",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/friend/index.tsx#friend"]={docgenInfo:friend.__docgenInfo,name:"friend",path:"src/screens/user/zone/component/menu/friend/index.tsx#friend"})}catch(e){}},"./src/screens/user/zone/component/menu/friend/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=r(t("./src/screens/user/zone/component/menu/back/index.tsx")),d=r(t("./src/screens/user/zone/component/menu/friend/index.tsx")),i=r(t("./src/screens/user/zone/component/menu/member/index.tsx")),c=r(t("./src/screens/user/zone/component/menu/menu/index.tsx")),u=t("./src/screens/user/zone/component/menu/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ob)((function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.default,{}),(0,m.jsxs)(n.Flex,{style:[o._.header.right,u.styles.right],children:[(0,m.jsx)(d.default,{}),(0,m.jsx)(i.default,{}),(0,m.jsx)(c.default,{})]})]})}))},"./src/screens/user/zone/component/menu/member/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/component/menu/member/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=s.$;return t.isAdvance?(0,i.jsx)(n.Touchable,{style:[d.styles.touch,o._.ml.xs],onPress:function(){return(0,a.info)("TA 也是高级会员"+(t.advanceDetail?" "+t.advanceDetail:""))},children:(0,i.jsx)(n.Flex,{style:d.styles.icon,justify:"center",children:(0,i.jsx)(n.Iconfont,{name:"md-attach-money",color:o._.__colorPlain__})})}):null}));try{member.displayName="member",member.__docgenInfo={description:"",displayName:"member",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/member/index.tsx#member"]={docgenInfo:member.__docgenInfo,name:"member",path:"src/screens/user/zone/component/menu/member/index.tsx#member"})}catch(e){}},"./src/screens/user/zone/component/menu/member/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/menu/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_PM=s.TEXT_IGNORE=s.TEXT_FRIEND=s.TEXT_DISCONNECT=s.TEXT_COPY_SHARE=s.TEXT_COPY_LINK=s.TEXT_CONNECT=s.TEXT_COLLECT=s.TEXT_BROWSER=s.TEXT_BLOCK=void 0;s.TEXT_BROWSER="浏览器查看",s.TEXT_COPY_LINK="复制链接",s.TEXT_COPY_SHARE="复制分享",s.TEXT_PM="发短信",s.TEXT_COLLECT="TA的收藏",s.TEXT_FRIEND="TA的好友",s.TEXT_CONNECT="加为好友",s.TEXT_DISCONNECT="解除好友",s.TEXT_BLOCK="屏蔽用户",s.TEXT_IGNORE="绝交"},"./src/screens/user/zone/component/menu/menu/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/constants/index.ts"),c=t("./src/screens/user/zone/component/menu/menu/utils.ts"),u=t("./src/screens/user/zone/component/menu/menu/ds.ts"),m=t("./src/screens/user/zone/component/menu/menu/styles.ts"),p=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=[u.TEXT_BROWSER,u.TEXT_COPY_LINK,u.TEXT_COPY_SHARE];return i.STORYBOOK||r.push(u.TEXT_PM),r.push(u.TEXT_COLLECT,u.TEXT_FRIEND),i.STORYBOOK||(t.users.connectUrl?r.push(u.TEXT_CONNECT):t.users.disconnectUrl&&r.push(u.TEXT_DISCONNECT),r.push(u.TEXT_IGNORE)),(0,p.jsx)(n.default,{style:m.styles.touch,children:(0,p.jsxs)(a.Popover,{data:r,onSelect:function(e){return(0,c.handleSelect)(e,s)},children:[(0,p.jsx)(o.Flex,{style:m.styles.icon,justify:"center",children:(0,p.jsx)(o.Iconfont,{name:"md-more-vert",color:l._.__colorPlain__})}),(0,p.jsx)(o.Heatmap,{id:"空间.右上角菜单"}),(0,p.jsx)(o.Heatmap,{right:62,id:"空间.添加好友",transparent:!0}),(0,p.jsx)(o.Heatmap,{right:113,id:"空间.解除好友",transparent:!0}),(0,p.jsx)(o.Heatmap,{right:170,id:"空间.跳转",to:"WebBrowser",alias:"浏览器",transparent:!0})]},t.usersInfo.id||t.usersInfo.username)})}));try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/menu/menu/index.tsx#menu"]={docgenInfo:menu.__docgenInfo,name:"menu",path:"src/screens/user/zone/component/menu/menu/index.tsx#menu"})}catch(e){}},"./src/screens/user/zone/component/menu/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({touch:{borderRadius:20,overflow:"hidden"},icon:{width:36,height:36,marginRight:-2}})},"./src/screens/user/zone/component/menu/menu/utils.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.handleSelect=function(e,s){var t=s.$,n=s.navigation,u=i.HOST+"/user/"+t.usersInfo.username,m=t.usersInfo.username||t.usersInfo.id||t.userId,p=(0,l.HTMLDecode)(t.usersInfo.nickname||t.params._name);switch((0,d.t)("空间.右上角菜单",{key:e,userId:m}),e){case c.TEXT_BROWSER:(0,l.open)(u);break;case c.TEXT_COPY_LINK:(0,l.copy)(u,"已复制链接");break;case c.TEXT_COPY_SHARE:(0,l.copy)("【链接】"+p+" | Bangumi番组计划\n"+u,"已复制分享文案");break;case c.TEXT_PM:n.push("PM",{userId:t.usersInfo.id,userName:p});break;case c.TEXT_COLLECT:t.navigateToUser(n);break;case c.TEXT_FRIEND:n.push("Friends",{userId:m});break;case c.TEXT_CONNECT:t.doConnect();break;case c.TEXT_DISCONNECT:(0,l.confirm)("确定解除好友?",(function(){return t.doDisconnect()}));break;case c.TEXT_IGNORE:(0,l.confirm)("与 "+p+" 绝交（不再看到用户的所有话题、评论、日志、私信、提醒）?",(0,o.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.rakuenStore.formhash){e.next=3;break}return e.next=3,a.rakuenStore.fetchPrivacy();case 3:a.rakuenStore.doBlockUser({keyword:String(m)},(0,o.default)(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.t)("空间.绝交"),(0,l.info)("已添加绝交"),(0,l.feedback)(),a.rakuenStore.fetchPrivacy();case 4:case"end":return e.stop()}}),e)}))),(function(){(0,l.info)("添加失败, 可能授权信息过期")}));case 4:case"end":return e.stop()}}),e)}))))}};var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),d=t("./src/utils/fetch/index.ts"),i=t("./src/constants/index.ts"),c=t("./src/screens/user/zone/component/menu/menu/ds.ts")},"./src/screens/user/zone/component/menu/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:r._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/parallax-image/bg/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=t("./src/utils/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/parallax-image/bg/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t,r=e.style,a=s.$,i=(0,l.memoStyles)();return(0,d.jsx)(n.default.Image,{style:[i.parallaxImage,r],source:a.imageSource,blurRadius:(0,o.getBlurRadius)(a.imageSource.uri,a.bg,null==(t=a.usersInfo.avatar)?void 0:t.large)})}))},"./src/screens/user/zone/component/parallax-image/bg/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{parallaxImage:{marginTop:-8,height:r._.parallaxImageHeight+8}}}))},"./src/screens/user/zone/component/parallax-image/center/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/screens/user/zone/store/index.ts"),i=r(t("./src/screens/user/zone/component/head/index.tsx")),c=t("./src/screens/user/zone/component/parallax-image/center/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,r=s.$,l=(0,c.memoStyles)();return(0,u.jsxs)(n.default.View,{style:[l.parallaxWrap,t],children:[(0,u.jsx)(n.default.View,{style:{opacity:r.scrollY.interpolate({inputRange:[-a._.parallaxImageHeight,0,a._.parallaxImageHeight-d.H_HEADER,a._.parallaxImageHeight],outputRange:[1,1,0,0]})},children:(0,u.jsx)(i.default,{style:l.head})}),(0,u.jsx)(o.default,{style:l.parallaxLine})]})}))},"./src/screens/user/zone/component/parallax-image/center/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/zone/store/index.ts");s.memoStyles=r._.memoStyles((function(){return{parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},parallaxLine:{position:"absolute",right:0,bottom:-1,left:0,height:n.H_RADIUS_LINE,backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderTopLeftRadius:n.H_RADIUS_LINE,borderTopRightRadius:n.H_RADIUS_LINE,overflow:"hidden"},head:{marginTop:(r._.parallaxImageHeight-120)/2}}}))},"./src/screens/user/zone/component/parallax-image/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"ParallaxImage")},"./src/screens/user/zone/component/parallax-image/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=t("./src/components/index.ts"),a=t("./src/screens/_/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),c=t("./src/screens/user/zone/store/index.ts"),u=t("./src/screens/user/zone/component/parallax-image/header/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.style,r=s.$,i=r.params._name,p=r.usersInfo,f=p.avatar,_=p.nickname;return(0,m.jsx)(n.default.View,{style:[u.styles.parallaxWrap,t,{opacity:r.scrollY.interpolate({inputRange:[-l._.parallaxImageHeight,0,l._.parallaxImageHeight-c.H_HEADER,l._.parallaxImageHeight],outputRange:[0,0,1,1]})}],children:(0,m.jsxs)(o.Flex,{style:u.styles.title,justify:"center",children:[(0,m.jsx)(a.Avatar,{style:u.styles.avatar,size:28,src:r.src,borderWidth:0,fallbackSrc:null==f?void 0:f.large}),(0,m.jsx)(o.Text,{style:l._.ml.sm,type:l._.select("plain","title"),align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,d.HTMLDecode)(_||i)})]})})}))},"./src/screens/user/zone/component/parallax-image/header/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/screens/user/zone/store/index.ts");s.styles=r._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0},title:{position:"absolute",left:"50%",width:240,bottom:n.H_RADIUS_LINE+14,transform:[{translateX:-120}]},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/component/parallax-image/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.string.fixed.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store/index.ts"),d=r(t("./src/screens/user/zone/component/menu/index.tsx")),i=r(t("./src/screens/user/zone/component/parallax-image/bg/index.tsx")),c=r(t("./src/screens/user/zone/component/parallax-image/center/index.tsx")),u=r(t("./src/screens/user/zone/component/parallax-image/header/index.tsx")),m=r(t("./src/screens/user/zone/component/parallax-image/mask/index.tsx")),p=t("./src/screens/user/zone/component/parallax-image/ds.ts"),f=t("./src/screens/user/zone/component/parallax-image/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=s.$,r={transform:[{translateY:t.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight-l.H_HEADER,o._.parallaxImageHeight],outputRange:[o._.parallaxImageHeight/2,0,-(o._.parallaxImageHeight-l.H_HEADER),-(o._.parallaxImageHeight-l.H_HEADER)]})},{scale:t.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight],outputRange:[2,1,1]})}]};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(n.default,{style:f.styles.parallax,pointerEvents:t.state.fixed?"none":void 0,children:[(0,_.jsx)(i.default,{style:r}),(0,_.jsx)(m.default,{style:r}),(0,_.jsx)(u.default,{style:r}),(0,_.jsx)(c.default,{style:r})]}),(0,_.jsx)(d.default,{})]})}),p.COMPONENT);try{parallaximage.displayName="parallaximage",parallaximage.__docgenInfo={description:"",displayName:"parallaximage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"]={docgenInfo:parallaximage.__docgenInfo,name:"parallaximage",path:"src/screens/user/zone/component/parallax-image/index.tsx#parallaximage"})}catch(e){}},"./src/screens/user/zone/component/parallax-image/mask/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/store/index.ts"),d=t("./src/screens/user/zone/component/parallax-image/mask/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=e.style,r=s.$;return(0,i.jsx)(n.default.View,{style:[d.styles.parallaxWrap,t,{backgroundColor:"rgba(0, 0, 0, 0.24)",opacity:r.scrollY.interpolate({inputRange:[-o._.parallaxImageHeight,0,o._.parallaxImageHeight-l.H_HEADER,o._.parallaxImageHeight],outputRange:o._.select([0,.4,1,1],[.4,.8,1,1])})}]})}))},"./src/screens/user/zone/component/parallax-image/mask/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({parallaxWrap:{position:"absolute",top:0,right:0,bottom:-2,left:0}})},"./src/screens/user/zone/component/parallax-image/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({parallax:{position:"absolute",zIndex:1,top:0,right:0,left:0},right:{zIndex:1,marginTop:r._.platforms(-6,-6,-6,0)}})},"./src/screens/user/zone/component/rakuen-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"RakuenList")},"./src/screens/user/zone/component/rakuen-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),j=t("./src/utils/decorators/index.ts"),y=t("./src/utils/dev/index.ts"),b=t("./src/constants/index.ts"),h=t("./src/screens/user/zone/ds.ts"),v=r(t("./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx")),g=t("./src/screens/user/zone/component/rakuen-list/utils.ts"),O=t("./src/screens/user/zone/component/rakuen-list/ds.ts"),T=t("./src/screens/user/zone/component/rakuen-list/styles.ts"),S=t("./node_modules/react/jsx-runtime.js");function E(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}var z=function(e){(0,l.default)(t,e);var s=E(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"connectRef",(function(s){var t=e.context.$,r=h.TABS.findIndex((function(e){return"超展开"===e.title}));return t.connectRef(s,r)})),(0,c.default)((0,a.default)(e),"renderSectionHeader",(function(e){var s=e.section.title;return(0,S.jsx)(f.SectionHeader,{size:14,children:s})})),(0,c.default)((0,a.default)(e),"renderItem",(function(s){var t=s.item,r=s.index,n=e.context.navigation;return(0,S.jsx)(v.default,Object.assign({navigation:n,index:r},t,{children:!r&&(0,S.jsx)(p.Heatmap,{id:"空间.跳转",to:"Topic",alias:"帖子"})}))})),e}return(0,o.default)(t,[{key:"render",value:function(){if((0,y.r)(O.COMPONENT),b.SHARE_MODE)return(0,S.jsx)(p.Loading,{style:T.styles.loading,children:(0,S.jsx)(p.Text,{style:_._.mt.md,children:"网页端不支持此功能"})});var e=this.context,s=e.$,t=e.navigation,r=s.state.timeout,n=this.props.onScroll,o=b.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:s.scrollY}}}],{useNativeDriver:b.USE_NATIVE_DRIVER,listener:n});if(!s.userTopicsFormCDN._loaded)return(0,S.jsx)(p.ScrollView,{contentContainerStyle:T.styles.contentContainerStyle,animated:!0,onScroll:o,children:(0,S.jsx)(p.Loading,{style:T.styles.loading,children:r&&(0,S.jsx)(p.Text,{style:_._.mt.md,children:"查询超时，TA可能没有发过帖子"})})});var a=s.userTopicsFormCDN._filter,l=void 0===a?0:a,d=l>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.Text,{style:_._.mt.md,type:"sub",align:"center",size:12,children:["还有",l,"条数据未显示"]}),(0,S.jsxs)(p.Text,{style:_._.mt.xs,type:"sub",align:"center",size:12,children:[(0,S.jsx)(p.Text,{type:"warning",size:12,onPress:function(){return(0,g.handleToQiafan)(t)},children:"高级会员"}),"显示所有"]})]}):void 0;return(0,S.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:(0,x.stl)(T.styles.contentContainerStyle,!b.STORYBOOK&&_._.container.bottom),keyExtractor:C,data:s.userTopicsFormCDN,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,ListFooterComponent:d,onScroll:o,onFooterRefresh:s.fetchUsersTimeline},this.props))}}]),t}(u.default.Component);s.default=(0,j.obc)(z);function C(e){return String(e.id)}try{rakuenlist.displayName="rakuenlist",rakuenlist.__docgenInfo={description:"",displayName:"rakuenlist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"]={docgenInfo:rakuenlist.__docgenInfo,name:"rakuenlist",path:"src/screens/user/zone/component/rakuen-list/index.tsx#rakuenlist"})}catch(e){}},"./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/rakuen-list/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"RakuenItem")},"./src/screens/user/zone/component/rakuen-list/rakuen-item/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/utils/fetch/index.ts"),d=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/ds.ts"),i=t("./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t=e.topicId,r=(e.avatar,e.userName),a=e.title,d=e.group,u=e.date,m=e.time,p=e.userId,f=e.children,_=s.navigation,x=(0,i.memoStyles)();return(0,c.jsxs)(n.Flex,{style:x.container,align:"start",children:[(0,c.jsx)(n.Flex.Item,{children:(0,c.jsx)(n.Touchable,{style:x.item,animate:!0,onPress:function(){(0,l.t)("空间.跳转",{to:"Topic",from:"超展开",topicId:t}),_.push("Topic",{topicId:t,_title:a,_group:d,_time:u+" "+m,_userName:r,_userId:p})},children:(0,c.jsx)(n.Flex,{align:"start",children:(0,c.jsxs)(n.Flex.Item,{children:[(0,c.jsx)(n.Text,{size:16,children:a}),(0,c.jsxs)(n.Text,{style:o._.mt.sm,type:"sub",size:12,children:[m," / ",d]})]})})})}),f]})}),d.COMPONENT)},"./src/screens/user/zone/component/rakuen-list/rakuen-item/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginRight:r._.xs,marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind}}}))},"./src/screens/user/zone/component/rakuen-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({loading:{marginTop:r._.lg},contentContainerStyle:{minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},nestScroll:{paddingBottom:r._.bottom},nestScrollLoading:{marginTop:-320}})},"./src/screens/user/zone/component/rakuen-list/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.handleToQiafan=function(e){(0,r.t)("空间.跳转",{from:"高级会员",to:"Qiafan"}),e.push("Qiafan")};var r=t("./src/utils/fetch/index.ts")},"./src/screens/user/zone/component/remark-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"RemarkModal")},"./src/screens/user/zone/component/remark-modal/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),p=t("./node_modules/mobx/dist/mobx.esm.js"),f=t("./src/components/index.ts"),_=t("./src/stores/index.ts"),x=t("./src/utils/decorators/index.ts"),j=t("./src/utils/dev/index.ts"),y=t("./src/screens/user/zone/component/remark-modal/ds.ts"),b=t("./src/screens/user/zone/component/remark-modal/styles.ts"),h=t("./node_modules/react/jsx-runtime.js");function v(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}s.default=(0,x.obc)(function(e){(0,l.default)(t,e);var s=v(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"iptRef",void 0),(0,c.default)((0,a.default)(e),"handleRef",(function(s){return e.iptRef=s})),e}return(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,s=this.context.$;(0,p.autorun)((function(){s.state.remarkModalVisible&&setTimeout((function(){try{var s,t;"function"==typeof(null==e||null==(s=e.iptRef)||null==(t=s.inputRef)?void 0:t.focus)&&e.iptRef.inputRef.focus()}catch(e){}}),240)}))}},{key:"render",value:function(){(0,j.r)(y.COMPONENT);var e=this.context.$,s=e.state,t=s.remarkModalVisible,r=s.remarkModalInput;return(0,h.jsx)(f.Modal,{style:this.styles.modal,visible:t,title:"备注",onClose:e.closeRemarkModal,children:(0,h.jsxs)(m.default,{style:this.styles.container,children:[(0,h.jsx)(f.Text,{size:13,bold:!0,children:"在页面中出现该用户，使用备注内容高亮覆盖"}),(0,h.jsxs)(f.Flex,{style:_._.mt.md,align:"center",children:[(0,h.jsx)(f.Flex.Item,{children:(0,h.jsx)(f.Input,{ref:this.handleRef,style:this.styles.ipt,defaultValue:r,placeholder:"输入",showClear:!0,onChangeText:e.changeRemarkModal,onSubmitEditing:e.submitRemarkModal})}),(0,h.jsx)(f.Touchable,{style:this.styles.btn,onPress:e.submitRemarkModal,children:(0,h.jsx)(f.Text,{size:13,children:"保存"})})]})]})})}},{key:"styles",get:function(){return(0,b.memoStyles)()}}]),t}(u.default.Component));try{remarkmodal.displayName="remarkmodal",remarkmodal.__docgenInfo={description:"",displayName:"remarkmodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/remark-modal/index.tsx#remarkmodal"]={docgenInfo:remarkmodal.__docgenInfo,name:"remarkmodal",path:"src/screens/user/zone/component/remark-modal/index.tsx#remarkmodal"})}catch(e){}},"./src/screens/user/zone/component/remark-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},btn:{paddingVertical:4,paddingRight:r._.sm,paddingLeft:20}}}))},"./src/screens/user/zone/component/stats/chart/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.reverse.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=(r(t("react")),r(t("./node_modules/react-native-web/dist/exports/View/index.js"))),a=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/component/stats/chart/utils.ts"),c=t("./src/screens/user/zone/component/stats/chart/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t,r=s.$,d=(0,c.memoStyles)(),m=(null==(t=r.users)?void 0:t.userStats)||{},p=null==m?void 0:m.chart,f=Math.max.apply(Math,(0,n.default)(Object.keys(p||{}).map((function(e){return Number((null==p?void 0:p[e])||0)}))));return(0,u.jsx)(a.Flex,{style:d.chart,children:Object.keys(p||{}).reverse().map((function(e,s){var t=(0,i.getHeight)(f,null==p?void 0:p[e]);return(0,u.jsxs)(a.Flex.Item,{style:s>0&&l._.ml.xs,children:[(0,u.jsxs)(a.Flex,{style:d.item,justify:"center",align:"end",children:[(0,u.jsx)(o.default,{style:[d.itemFill,{height:t}]}),(0,u.jsxs)(a.Text,{style:[d.count,{bottom:t}],size:11,type:"sub",align:"center",bold:!0,children:[null==p?void 0:p[e]," "]})]}),(0,u.jsx)(a.Text,{style:l._.mt.sm,size:12,bold:!0,type:"title",align:"center",children:e})]},e)}))})}));try{chart.displayName="chart",chart.__docgenInfo={description:"",displayName:"chart",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/chart/index.tsx#chart"]={docgenInfo:chart.__docgenInfo,name:"chart",path:"src/screens/user/zone/component/stats/chart/index.tsx#chart"})}catch(e){}},"./src/screens/user/zone/component/stats/chart/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{chart:{paddingHorizontal:r._.sm,marginTop:56,marginHorizontal:-4},item:{height:r._.r(128),paddingBottom:r._.xs,marginTop:-r._.md},itemFill:{position:"absolute",left:"50%",width:16,marginLeft:-8,backgroundColor:r._.select(r._.colorWait,r._._colorSub),borderRadius:r._.radiusXs},count:{position:"absolute",zIndex:1,right:0,left:0,marginBottom:4}}}))},"./src/screens/user/zone/component/stats/chart/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHeight=function(e,s){if(!e||!s)return 0;var t=Number(s)/Number(e);t>0&&t<r&&(t=r);return 100*t+"%"};var r=.04},"./src/screens/user/zone/component/stats/counts/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/screens/user/zone/component/stats/counts/styles.ts"),d=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.obc)((function(e,s){var t,r=s.$,a=(0,l.memoStyles)(),i=(null==(t=r.users)?void 0:t.userStats)||{};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockMain],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.total}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"收藏"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockSuccess],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.collect}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockPrimary],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.percent}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"完成率"})]})})]}),(0,d.jsxs)(o.Flex,{children:[(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockWarning],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.avg}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"平均分"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockPurple],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.std}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"标准差"})]})}),(0,d.jsx)(o.Flex.Item,{children:(0,d.jsxs)(n.default,{style:[a.block,a.blockSky],children:[(0,d.jsx)(o.Text,{type:"__plain__",size:20,bold:!0,children:null==i?void 0:i.scored}),(0,d.jsx)(o.Text,{type:"__plain__",size:12,bold:!0,children:"评分数"})]})})]})]})}));try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/user/zone/component/stats/counts/index.tsx#counts"})}catch(e){}},"./src/screens/user/zone/component/stats/counts/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{block:{paddingVertical:8,paddingHorizontal:r._.sm,margin:r._.xs,borderRadius:r._.radiusMd,overflow:"hidden"},blockMain:{backgroundColor:r._.colorMain},blockSuccess:{backgroundColor:"#70B941"},blockPrimary:{backgroundColor:"#6BAAE8"},blockWarning:{backgroundColor:r._.colorWarning},blockPurple:{backgroundColor:"#9065ED"},blockSky:{backgroundColor:"#369CF8"}}}))},"./src/screens/user/zone/component/stats/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Stats")},"./src/screens/user/zone/component/stats/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),a=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/utils/fetch/index.ts"),c=t("./src/constants/index.ts"),u=t("./src/screens/user/zone/ds.ts"),m=r(t("./src/screens/user/zone/component/stats/chart/index.tsx")),p=r(t("./src/screens/user/zone/component/stats/counts/index.tsx")),f=t("./src/screens/user/zone/component/stats/ds.ts"),_=t("./src/screens/user/zone/component/stats/styles.ts"),x=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$,r=s.navigation,d=(0,_.memoStyles)(),f=e.onScroll;return(0,x.jsx)(n.default.ScrollView,Object.assign({ref:function(e){var s=u.TABS.findIndex((function(e){return"统计"===e.title}));return t.connectRef(e,s)},contentContainerStyle:d.contentContainerStyle},e,c.SCROLL_VIEW_RESET_PROPS,{onScroll:c.STORYBOOK?void 0:n.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:c.USE_NATIVE_DRIVER,listener:f}),children:(0,x.jsxs)(o.default,{style:d.page,children:[(0,x.jsx)(p.default,{}),(0,x.jsx)(m.default,{}),(0,x.jsx)(a.Flex,{style:l._.mt.lg,justify:"center",children:(0,x.jsx)(a.Touchable,{style:d.touch,onPress:function(){var e=t.username||t.userId;(0,i.t)("空间.跳转",{userId:e,to:"UserTimeline"}),r.push("UserTimeline",{userId:e,userName:t.nickname})},children:(0,x.jsx)(a.Text,{type:"sub",bold:!0,children:"查看TA的时间线热力图"})})})]})}))}),f.COMPONENT);try{stats.displayName="stats",stats.__docgenInfo={description:"",displayName:"stats",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/stats/index.tsx#stats"]={docgenInfo:stats.__docgenInfo,name:"stats",path:"src/screens/user/zone/component/stats/index.tsx#stats"})}catch(e){}},"./src/screens/user/zone/component/stats/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+3*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"},nestScroll:{paddingTop:r._.md,paddingHorizontal:r._.wind,paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}}}))},"./src/screens/user/zone/component/tab-bar-label/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TIMELINE_PAGE=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/ds.ts"),o=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(o.COMPONENT,"TabBarLabel"),s.TIMELINE_PAGE=n.TABS.findIndex((function(e){return"时间线"===e.title}))},"./src/screens/user/zone/component/tab-bar-label/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/decorators/index.ts"),d=t("./src/constants/index.ts"),i=t("./src/screens/user/zone/component/tab-bar-label/ds.ts"),c=t("./src/screens/user/zone/component/tab-bar-label/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,l.obc)((function(e,s){var t=e.style,r=e.title,l=s.$,m=(0,u.jsx)(n.Text,{style:t,type:"title",size:13,lineHeight:13,noWrap:!0,children:r});return"时间线"===r&&l.state.page===i.TIMELINE_PAGE?(0,u.jsx)(o.Popover,{style:a._.container.block,data:d.TIMELINE_TYPE.map((function(e){return e.label})),onSelect:l.onSelectTimelineType,children:(0,u.jsxs)(n.Flex,{style:c.styles.popover,justify:"center",children:[m,(0,u.jsxs)(n.Text,{size:10,lineHeight:13,type:"sub",noWrap:!0,children:[" ",d.MODEL_TIMELINE_TYPE.getLabel(l.state.timelineType)," "]})]})}):m}),i.COMPONENT)},"./src/screens/user/zone/component/tab-bar-label/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({popover:{width:"100%",paddingVertical:r._.xs}})},"./src/screens/user/zone/component/tab/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Tab")},"./src/screens/user/zone/component/tab/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/stores/index.ts"),_=t("./src/utils/decorators/index.ts"),x=t("./src/utils/dev/index.ts"),j=t("./src/screens/user/zone/store/index.ts"),y=r(t("./src/screens/user/zone/component/about/index.tsx")),b=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),h=r(t("./src/screens/user/zone/component/list-header/index.tsx")),v=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),g=r(t("./src/screens/user/zone/component/stats/index.tsx")),O=r(t("./src/screens/user/zone/component/tab-bar-label/index.tsx")),T=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),S=r(t("./src/screens/user/zone/component/tinygrail/index.tsx")),E=t("./src/screens/user/zone/component/tab/ds.ts"),z=t("./src/screens/user/zone/component/tab/styles.ts"),C=t("./node_modules/react/jsx-runtime.js");function R(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}var I=function(e){(0,l.default)(t,e);var s=R(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"onIndexChange",(function(s){var t=e.context.$;(0,e.props.onIndexChange)(s),t.onTabChange(s)})),(0,c.default)((0,a.default)(e),"renderScene",(0,p.SceneMap)({bangumi:function(){return(0,C.jsx)(b.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})},stats:function(){return(0,C.jsx)(g.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})},timeline:function(){return(0,C.jsx)(T.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})},rakuen:function(){return(0,C.jsx)(v.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})},about:function(){return(0,C.jsx)(y.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})},tinygrail:function(){return(0,C.jsx)(S.default,{ListHeaderComponent:h.default,scrollEventThrottle:16,onScroll:e.props.onScroll})}})),(0,c.default)((0,a.default)(e),"renderLabel",(function(s){var t=s.route;return(0,C.jsx)(p.Flex,{style:e.styles.labelText,justify:"center",children:(0,C.jsx)(O.default,{title:t.title})})})),(0,c.default)((0,a.default)(e),"renderTabBar",(function(s){var t=e.context.$,r=f._.window.width/t.tabs.length;return(0,C.jsx)(m.default.View,{style:[e.styles.tabBarWrap,e.transform],children:(0,C.jsx)(p.TabBar,Object.assign({},s,{style:e.styles.tabBar,tabStyle:[e.styles.tab,{width:r}],labelStyle:e.styles.label,indicatorStyle:[e.styles.indicator,{marginLeft:(r-e.styles.indicator.width)/2}],pressOpacity:1,pressColor:"transparent",scrollEnabled:!0,renderLabel:e.renderLabel}))})})),e}return(0,o.default)(t,[{key:"navigationState",get:function(){var e=this.context.$;return{index:e.state.page,routes:e.tabs}}},{key:"transform",get:function(){return{transform:[{translateY:this.context.$.scrollY.interpolate({inputRange:[-f._.parallaxImageHeight,0,f._.parallaxImageHeight-j.H_HEADER,f._.parallaxImageHeight],outputRange:[2*f._.parallaxImageHeight,f._.parallaxImageHeight,j.H_HEADER,j.H_HEADER]})}]}}},{key:"render",value:function(){return(0,x.r)(E.COMPONENT),(0,C.jsx)(p.TabView,{lazy:!0,lazyPreloadDistance:0,navigationState:this.navigationState,renderTabBar:this.renderTabBar,renderScene:this.renderScene,onSwipeStart:this.props.onSwipeStart,onIndexChange:this.onIndexChange},f._.orientation)}},{key:"styles",get:function(){return(0,z.memoStyles)()}}]),t}(u.default.Component);s.default=(0,_.obc)(I);try{tab.displayName="tab",tab.__docgenInfo={description:"",displayName:"tab",props:{scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!0,type:{name:"number"}},onIndexChange:{defaultValue:null,description:"",name:"onIndexChange",required:!0,type:{name:"Fn"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!0,type:{name:"Fn"}},onSwipeStart:{defaultValue:null,description:"",name:"onSwipeStart",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tab/index.tsx#tab"]={docgenInfo:tab.__docgenInfo,name:"tab",path:"src/screens/user/zone/component/tab/index.tsx#tab"})}catch(e){}},"./src/screens/user/zone/component/tab/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n={tabBarWrap:{position:"absolute",zIndex:2,top:2-t("./src/screens/user/zone/store/index.ts").H_RADIUS_LINE,right:0,left:0},label:{padding:0},labelText:{width:"100%"},tabBarLeft:{position:"absolute",zIndex:3,left:0,marginTop:2}};s.memoStyles=r._.memoStyles((function(){return Object.assign({},n,{tabBar:{backgroundColor:r._.select(r._.colorPlain,r._.deepDark?r._._colorPlain:r._._colorDarkModeLevel1),borderBottomWidth:r._.select(r._.hairlineWidth,0),borderBottomColor:r._.colorBorder,shadowOpacity:0,elevation:0},tab:{height:r._.r(48)},indicator:{width:r._.r(16),height:4,backgroundColor:r._.colorMain,borderRadius:4}})}))},"./src/screens/user/zone/component/timeline-list/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.EVENT=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"TimelineList"),s.EVENT={id:"空间.跳转",data:{from:"时间胶囊"}}},"./src/screens/user/zone/component/timeline-list/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),p=t("./src/components/index.ts"),f=t("./src/screens/_/index.ts"),_=t("./src/stores/index.ts"),x=t("./src/utils/index.ts"),j=t("./src/utils/decorators/index.ts"),y=t("./src/utils/dev/index.ts"),b=t("./src/constants/index.ts"),h=t("./src/screens/user/zone/ds.ts"),v=t("./src/screens/user/zone/component/timeline-list/ds.ts"),g=t("./src/screens/user/zone/component/timeline-list/styles.ts"),O=t("./node_modules/react/jsx-runtime.js");function T(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}var S=function(e){(0,l.default)(t,e);var s=T(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"connectRef",(function(s){var t=e.context.$,r=h.TABS.findIndex((function(e){return"时间线"===e.title}));return t.connectRef(s,r)})),(0,c.default)((0,a.default)(e),"renderSectionHeader",(function(e){var s=e.section.title;return(0,O.jsx)(f.SectionHeader,{children:s})})),(0,c.default)((0,a.default)(e),"renderItem",(function(s){var t=s.item,r=s.index,n=e.context,o=n.$,a=n.navigation;return(0,O.jsx)(f.ItemTimeline,Object.assign({navigation:a,index:r,event:v.EVENT},t,{full:!0,onDelete:o.doDelete}))})),e}return(0,o.default)(t,[{key:"render",value:function(){(0,y.r)(v.COMPONENT);var e=this.context.$;if(!e.usersTimeline._loaded)return(0,O.jsx)(p.Loading,{style:g.styles.loading});var s=this.props.onScroll;return(0,O.jsx)(f.TapListener,{children:(0,O.jsx)(p.ListView,Object.assign({ref:this.connectRef,contentContainerStyle:!b.STORYBOOK&&_._.container.bottom,keyExtractor:x.keyExtractor,data:e.usersTimeline,sectionKey:"date",stickySectionHeadersEnabled:!1,renderSectionHeader:this.renderSectionHeader,renderItem:this.renderItem,animated:!0,onFooterRefresh:function(){return e.fetchUsersTimeline()}},this.props,{onScroll:b.STORYBOOK?void 0:m.default.event([{nativeEvent:{contentOffset:{y:e.scrollY}}}],{useNativeDriver:b.USE_NATIVE_DRIVER,listener:s})}))})}}]),t}(u.default.Component);s.default=(0,j.obc)(S);try{timelinelist.displayName="timelinelist",timelinelist.__docgenInfo={description:"",displayName:"timelinelist",props:{ListHeaderComponent:{defaultValue:null,description:"",name:"ListHeaderComponent",required:!1,type:{name:"any"}},scrollEventThrottle:{defaultValue:null,description:"",name:"scrollEventThrottle",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"]={docgenInfo:timelinelist.__docgenInfo,name:"timelinelist",path:"src/screens/user/zone/component/timeline-list/index.tsx#timelinelist"})}catch(e){}},"./src/screens/user/zone/component/timeline-list/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({loading:{marginTop:r._.window.height/3},nestScroll:{paddingBottom:r._.bottom},nestScrollLoading:{marginTop:160}})},"./src/screens/user/zone/component/tinygrail/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Tinygrail")},"./src/screens/user/zone/component/tinygrail/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find-index.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),o=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),a=t("./src/components/index.ts"),l=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),c=t("./src/utils/fetch/index.ts"),u=t("./src/constants/index.ts"),m=t("./src/screens/user/zone/ds.ts"),p=t("./src/screens/user/zone/component/tinygrail/ds.ts"),f=t("./src/screens/user/zone/component/tinygrail/styles.ts"),_=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=s.$,r=s.navigation,i=(0,f.memoStyles)(),p=e.onScroll,x=t.userAssets,j=x.assets,y=x.balance,b=x.lastIndex,h=t.usersInfo.nickname;return(0,_.jsx)(n.default.ScrollView,Object.assign({ref:function(e){var s=m.TABS_WITH_TINYGRAIL.findIndex((function(e){return"小圣杯"===e.title}));return t.connectRef(e,s)},contentContainerStyle:i.contentContainerStyle},e,u.SCROLL_VIEW_RESET_PROPS,{onScroll:n.default.event([{nativeEvent:{contentOffset:{y:t.scrollY}}}],{useNativeDriver:u.USE_NATIVE_DRIVER,listener:p}),children:(0,_.jsxs)(o.default,{style:i.page,children:[(0,_.jsxs)(a.Text,{style:l._.mt.lg,children:["总资产: ",(0,d.formatNumber)(j)," / ",(0,d.formatNumber)(y),0!==b&&" / #"+b]}),(0,_.jsxs)(a.Text,{style:l._.mt.sm,children:[t.templeTotal,"座圣殿"]}),(0,_.jsxs)(a.Text,{style:l._.mt.sm,children:[t.charaTotal,"个人物"]}),(0,_.jsx)(a.Flex,{style:l._.mt.lg,justify:"center",children:(0,_.jsxs)(a.Touchable,{style:i.touch,onPress:function(){(0,c.t)("空间.跳转",{userId:t.userId,to:"TinygrailCharaAssets"}),r.push("TinygrailCharaAssets",{userId:t.username,userName:(0,d.HTMLDecode)(h),from:"tinygrail"})},children:[(0,_.jsx)(a.Text,{type:l._.select("desc","main"),bold:!0,children:"查看TA的持仓"}),(0,_.jsx)(a.Heatmap,{id:"空间.跳转",to:"TinygrailCharaAssets",alias:"小圣杯持仓"})]})})]})}))}),p.COMPONENT);try{tinygrail.displayName="tinygrail",tinygrail.__docgenInfo={description:"",displayName:"tinygrail",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"]={docgenInfo:tinygrail.__docgenInfo,name:"tinygrail",path:"src/screens/user/zone/component/tinygrail/index.tsx#tinygrail"})}catch(e){}},"./src/screens/user/zone/component/tinygrail/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingTop:r._.parallaxImageHeight+2*r._.md,paddingHorizontal:r._.wind,minHeight:r._.window.height+r._.parallaxImageHeight-r._.tabBarHeight},page:{minHeight:r._.window.height-r._.parallaxImageHeight},touch:{paddingVertical:r._.sm,paddingHorizontal:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}}))},"./src/screens/user/zone/component/u/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.KEYS=void 0;s.KEYS=["v","a","n","t","ipa"]},"./src/screens/user/zone/component/u/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),l=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(t("react")),d=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),i=t("./src/components/index.ts"),c=t("./src/stores/index.ts"),m=t("./src/utils/index.ts"),p=t("./src/utils/decorators/index.ts"),f=t("./src/utils/hooks/index.ts"),_=t("./src/utils/kv/index.ts"),x=t("./src/screens/user/zone/component/u/utils.ts"),j=t("./src/screens/user/zone/component/u/ds.ts"),y=t("./node_modules/react/jsx-runtime.js");function b(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(b=function(e){return e?t:s})(e)}s.default=(0,p.c)((function(e,s){var t=s.$,n=(0,l.useState)({}),u=(0,a.default)(n,2),p=u[0],b=u[1];return(0,f.useMount)((function(){var e,s=(e=(0,o.default)(r.mark((function e(){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.get)("u_"+t.usersInfo.username);case 2:"object"==typeof(s=e.sent)&&(s.ts&&(s.ts=(0,m.date)(s.ts)),b(s));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)});setTimeout((function(){s()}),0)})),(0,f.useObserver)((function(){return c.userStore.isDeveloper?(0,y.jsxs)(d.default,{style:c._.mt.md,children:[(0,y.jsx)(i.Divider,{}),(0,y.jsx)(i.Text,{children:JSON.stringify(Object.assign({},(0,m.pick)(p,j.KEYS),{avatar:t.avatar,bg:t.bg}),null,2)}),!(null==p||!p.v)&&(0,y.jsx)(i.Expand,{style:c._.mt.md,children:(0,y.jsx)(i.Text,{children:JSON.stringify((0,x.formatString)((0,m.omit)(p,j.KEYS)),null,2)})})]}):null}))}));try{u.displayName="u",u.__docgenInfo={description:"",displayName:"u",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/u/index.tsx#u"]={docgenInfo:u.__docgenInfo,name:"u",path:"src/screens/user/zone/component/u/index.tsx#u"})}catch(e){}},"./src/screens/user/zone/component/u/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.entries.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.object.assign.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.formatString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.e;if(!s)return e;var t={},r={};return Object.entries(s).forEach((function(e){var s=(0,n.default)(e,2),o=s[0],a=s[1],l=o.split("."),d=(0,n.default)(l,2),i=d[0],c=d[1];/^T[A-Z]/.test(i)?(i in r||(r[i]={}),r[i][c]=a):(i in t||(t[i]={}),t[i][c]=a)})),Object.assign({},e,{e:t,tinygrail:r})};var n=r(t("./node_modules/@babel/runtime/helpers/slicedToArray.js"))},"./src/screens/user/zone/component/used-modal/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"UsedModal")},"./src/screens/user/zone/component/used-modal/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.array.index-of.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.slice.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.object.assign.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(t("react")),_=n(t("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),x=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),j=t("./src/components/index.ts"),y=t("./src/stores/index.ts"),b=t("./src/utils/decorators/index.ts"),h=t("./src/utils/dev/index.ts"),v=t("./src/constants/index.ts"),g=t("./src/screens/user/zone/component/used-modal/ds.ts"),O=t("./src/screens/user/zone/component/used-modal/styles.ts"),T=t("./node_modules/react/jsx-runtime.js");function S(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,m.default)(e);if(s){var n=(0,m.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,u.default)(this,t)}}var E=function(e){(0,c.default)(t,e);var s=S(t);function t(){var e;(0,l.default)(this,t);for(var n=arguments.length,d=new Array(n),c=0;c<n;c++)d[c]=arguments[c];return e=s.call.apply(s,[this].concat(d)),(0,p.default)((0,i.default)(e),"state",{name:{list:[],_loaded:0},avatar:[{uri:e.props.defaultAvatar}]}),(0,p.default)((0,i.default)(e),"checkUsedName",(0,a.default)(r.mark((function s(){var t,n,o,a,l,d,i;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.context,n=t.$,o=n.usersInfo,a=o.id,l=o.username,i={userId:d=l||a,type:v.MODEL_TIMELINE_TYPE.getValue("吐槽")},s.next=6,y.timelineStore.fetchUsersTimeline(i,!0);case 6:return s.next=8,y.timelineStore.fetchUsersTimeline(i);case 8:return s.next=10,y.timelineStore.fetchUsersTimeline(i);case 10:e.setState({name:{list:y.timelineStore.usersTimeline(d).list.filter((function(e){return e.reply&&e.reply.content&&e.reply.content.includes("改名为")})).map((function(e){return{date:e.date,content:e.reply.content}})),_loaded:1}});case 11:case"end":return s.stop()}}),s)})))),(0,p.default)((0,i.default)(e),"checkUserAvatar",(0,a.default)(r.mark((function s(){var t,n,a,l,d,i,c,u;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.context,n=t.$,a=n.usersInfo.avatar,l=(a||{}).medium,-1===(d=String(l||"").split("?")[0]).indexOf("https:")&&-1===d.indexOf("http:")&&(d="https:"+d),d=d.replace("http://","https://"),i=(0,v.hash)(d),c=i.slice(0,1).toLocaleLowerCase(),u=v.VERSIONS_AVATAR.map((function(e){return v.HOST_CDN+"/gh/czy0729/Bangumi-OSS@"+e+"/data/avatar/m/"+c+"/"+i+".jpg"})),e.setState({avatar:[e.props.defaultAvatar].concat((0,o.default)(u))});case 10:case"end":return s.stop()}}),s)})))),e}return(0,d.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.visible&&!this.state.name._loaded&&(this.checkUsedName(),this.checkUserAvatar())}},{key:"renderAvatars",value:function(){var e=this.state.avatar;return(0,T.jsx)(_.default,Object.assign({contentContainerStyle:this.styles.avatars,horizontal:!0},v.SCROLL_VIEW_RESET_PROPS,{children:e.map((function(e,s){return(0,T.jsx)(j.Image,{style:y._.mr.sm,src:e,size:40,radius:20,placeholder:!1,errorToHide:!0},s)}))}))}},{key:"renderNames",value:function(){var e=this,s=this.state.name;return(0,T.jsx)(_.default,Object.assign({contentContainerStyle:this.styles.names},v.SCROLL_VIEW_RESET_PROPS,{children:s._loaded?s.list.length?s.list.map((function(s,t){return(0,T.jsxs)(j.Flex,{style:e.styles.item,align:"start",children:[(0,T.jsx)(j.Text,{style:e.styles.date,type:"sub",size:12,children:s.date}),(0,T.jsx)(j.Flex.Item,{style:y._.ml.sm,children:(0,T.jsx)(j.Text,{size:12,children:s.content})})]},t)})):(0,T.jsx)(j.Flex,{style:this.styles.empty,direction:"column",justify:"center",children:(0,T.jsx)(j.Text,{size:12,align:"center",children:"该用户没有修改过名字"})}):(0,T.jsx)(j.Loading,{})}))}},{key:"render",value:function(){(0,h.r)(g.COMPONENT);var e=this.context.$,s=this.props.visible;return(0,T.jsx)(j.Modal,{style:this.styles.modal,visible:s,title:"用户资料修改历史",onClose:e.closeUsedModal,children:(0,T.jsxs)(x.default,{style:this.styles.content,children:[this.renderAvatars(),this.renderNames()]})})}},{key:"styles",get:function(){return(0,O.memoStyles)()}}]),t}(f.default.Component);(0,p.default)(E,"defaultProps",{title:"",visible:!1});s.default=(0,b.obc)(E);try{usedmodal.displayName="usedmodal",usedmodal.__docgenInfo={description:"",displayName:"usedmodal",props:{defaultAvatar:{defaultValue:null,description:"",name:"defaultAvatar",required:!1,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/component/used-modal/index.tsx#usedmodal"]={docgenInfo:usedmodal.__docgenInfo,name:"usedmodal",path:"src/screens/user/zone/component/used-modal/index.tsx#usedmodal"})}catch(e){}},"./src/screens/user/zone/component/used-modal/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{modal:{width:r._.r(r._.window.width-2*r._.wind),maxWidth:r._.r(320),backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd},content:{paddingHorizontal:r._.sm},avatars:{minHeight:r._.r(40),paddingVertical:r._.sm,marginTop:r._.sm},names:{height:r._.r(240),paddingVertical:r._.sm},item:{paddingVertical:r._.sm},date:{width:r._.r(80)},empty:{marginTop:-r._.md,height:"100%"}}}))},"./src/screens/user/zone/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.concat.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.TABS_WITH_TINYGRAIL=s.TABS=s.COMPONENT=void 0;s.COMPONENT="Zone";var r=s.TABS=[{title:"关于",key:"about"},{title:"番剧",key:"bangumi"},{title:"统计",key:"stats"},{title:"时间线",key:"timeline"},{title:"超展开",key:"rakuen"}];s.TABS_WITH_TINYGRAIL=[].concat(r,[{title:"小圣杯",key:"tinygrail"}])},"./src/screens/user/zone/hooks.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/web.timers.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.useZonePage=function(e){var s=e.$;(0,a.useRunAfter)((function(){s.init()}));var t=(0,a.useIsFocused)();(0,r.useEffect)((function(){t||(s.resetRemarkModal(),o.uiStore.closePopableSubject(),o.uiStore.closeLikesGrid())}),[t]),(0,a.useFocusEffect)((function(){setTimeout((function(){n.StatusBar.setBarStyle("light-content")}),40)})),(0,a.useMount)((function(){return function(){s.setState({mounted:!1})}}))};var r=t("react"),n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/hooks/index.ts")},"./src/screens/user/zone/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),a=t("./src/utils/decorators/index.ts"),l=t("./src/utils/hooks/index.ts"),d=t("./src/constants/index.ts"),i=r(t("./src/screens/user/zone/component/extra/index.tsx")),c=t("./src/screens/user/zone/hooks.ts"),u=r(t("./src/screens/user/zone/nested-scroll/index.tsx")),m=r(t("./src/screens/user/zone/scroll/index.tsx")),p=r(t("./src/screens/user/zone/store/index.ts")),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,a.ic)(p.default,(function(e,s){(0,c.useZonePage)(s);var t=s.$;return(0,l.useObserver)((function(){return(0,f.jsx)(n.Component,{id:"screen-zone",style:o._.container.plain,children:!!t.state._loaded&&(0,f.jsxs)(f.Fragment,{children:[d.IOS||d.STORYBOOK?(0,f.jsx)(m.default,{}):(0,f.jsx)(u.default,{}),(0,f.jsx)(i.default,{})]})})}))}));try{zone.displayName="zone",zone.__docgenInfo={description:"",displayName:"zone",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/index.tsx#zone"]={docgenInfo:zone.__docgenInfo,name:"zone",path:"src/screens/user/zone/index.tsx#zone"})}catch(e){}},"./src/screens/user/zone/nested-scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"NestedScroll")},"./src/screens/user/zone/nested-scroll/header-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./src/screens/user/zone/component/head/index.tsx")),o=t("./node_modules/react/jsx-runtime.js");s.default=function(){return(0,o.jsx)(n.default,{})}},"./src/screens/user/zone/nested-scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),a=r(t("./src/screens/user/zone/component/about/index.tsx")),l=r(t("./src/screens/user/zone/component/bangumi-list/index.tsx")),d=r(t("./src/screens/user/zone/component/menu/index.tsx")),i=r(t("./src/screens/user/zone/component/rakuen-list/index.tsx")),c=r(t("./src/screens/user/zone/component/stats/index.tsx")),u=r(t("./src/screens/user/zone/component/timeline-list/index.tsx")),m=t("./src/screens/user/zone/ds.ts"),p=r(t("./src/screens/user/zone/nested-scroll/header-component/index.tsx")),f=r(t("./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx")),_=t("./src/screens/user/zone/nested-scroll/utils.tsx"),x=t("./src/screens/user/zone/nested-scroll/ds.ts"),j=t("./src/screens/user/zone/nested-scroll/styles.ts"),y=t("./node_modules/react/jsx-runtime.js"),b=m.TABS.map((function(e){return e.title}));s.default=(0,o.obc)((function(e,s){var t=s.$,r=(0,j.memoStyles)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.NestedScrollParallaxHeader,{tabStyle:r.tab,pages:b,initialPage:t.state.page,imageSource:t.imageSource,blurRadius:t.blurRadius,tabBarLocalKey:"Zone|NestedScroll",HeaderComponent:(0,y.jsx)(p.default,{}),TopNavbarComponent:(0,y.jsx)(f.default,{}),renderLabel:_.renderLabel,onIndexChange:t.onTabChange,children:[(0,y.jsx)(a.default,{}),(0,y.jsx)(l.default,{}),(0,y.jsx)(c.default,{}),(0,y.jsx)(u.default,{}),(0,y.jsx)(i.default,{})]}),(0,y.jsx)(d.default,{})]})}),x.COMPONENT);try{nestedscroll.displayName="nestedscroll",nestedscroll.__docgenInfo={description:"",displayName:"nestedscroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"]={docgenInfo:nestedscroll.__docgenInfo,name:"nestedscroll",path:"src/screens/user/zone/nested-scroll/index.tsx#nestedscroll"})}catch(e){}},"./src/screens/user/zone/nested-scroll/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{tab:{flex:1,width:r._.window.contentWidth/5}}}))},"./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/nested-scroll/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"TopNavbarComponent")},"./src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),a=t("./src/stores/index.ts"),l=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/zone/nested-scroll/top-navbar-component/ds.ts"),c=t("./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts"),u=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=s.$;return(0,u.jsxs)(n.Flex,{style:c.styles.topNavbar,justify:"center",children:[(0,u.jsx)(n.Avatar,{style:c.styles.avatar,size:28,src:t.src,fallbackSrc:t.usersInfo.avatar.large,borderWidth:0},String(t.src)),(0,u.jsx)(o.VerticalAlign,{style:a._.ml.sm,text:t.usersInfo.nickname,type:a._.select("plain","title"),align:"center",bold:!0,shadow:!0,numberOfLines:1,children:(0,l.HTMLDecode)(t.usersInfo.nickname)})]})}),i.COMPONENT);try{topnavbarcomponent.displayName="topnavbarcomponent",topnavbarcomponent.__docgenInfo={description:"",displayName:"topnavbarcomponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"]={docgenInfo:topnavbarcomponent.__docgenInfo,name:"topnavbarcomponent",path:"src/screens/user/zone/nested-scroll/top-navbar-component/index.tsx#topnavbarcomponent"})}catch(e){}},"./src/screens/user/zone/nested-scroll/top-navbar-component/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({topNavbar:{marginTop:-8},avatar:{backgroundColor:"rgba(255, 255, 255, 0.8)"}})},"./src/screens/user/zone/nested-scroll/utils.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.renderLabel=a;r(t("react"));var n=r(t("./src/screens/user/zone/component/tab-bar-label/index.tsx")),o=t("./node_modules/react/jsx-runtime.js");function a(e){var s=e.style,t=e.title;return(0,o.jsx)(n.default,{style:s,title:t})}try{a.displayName="renderLabel",a.__docgenInfo={description:"",displayName:"renderLabel",props:{style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/nested-scroll/utils.tsx#renderLabel"]={docgenInfo:a.__docgenInfo,name:"renderLabel",path:"src/screens/user/zone/nested-scroll/utils.tsx#renderLabel"})}catch(e){}},"./src/screens/user/zone/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/zone/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Scroll")},"./src/screens/user/zone/scroll/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/web.timers.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("react")),m=t("./src/utils/decorators/index.ts"),p=t("./src/utils/dev/index.ts"),f=r(t("./src/screens/user/zone/component/parallax-image/index.tsx")),_=r(t("./src/screens/user/zone/component/tab/index.tsx")),x=t("./src/screens/user/zone/scroll/ds.ts"),j=t("./node_modules/react/jsx-runtime.js");function y(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}var b=function(e){(0,l.default)(t,e);var s=y(t);function t(){var e;(0,n.default)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=s.call.apply(s,[this].concat(o)),(0,c.default)((0,a.default)(e),"onSwipeStart",(function(){e.context.$.updatePageOffset()})),(0,c.default)((0,a.default)(e),"onIndexChange",(function(){setTimeout((function(){e.context.$.updatePageOffset([0])}),0)})),(0,c.default)((0,a.default)(e),"onScroll",(function(s){e.context.$.onScroll(s)})),e}return(0,o.default)(t,[{key:"render",value:function(){return(0,p.r)(x.COMPONENT),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.default,{scrollEventThrottle:16,onScroll:this.onScroll,onSwipeStart:this.onSwipeStart,onIndexChange:this.onIndexChange}),(0,j.jsx)(f.default,{})]})}}]),t}(u.default.Component);s.default=(0,m.obc)(b);try{scroll.displayName="scroll",scroll.__docgenInfo={description:"",displayName:"scroll",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/user/zone/scroll/index.tsx#scroll"]={docgenInfo:scroll.__docgenInfo,name:"scroll",path:"src/screens/user/zone/scroll/index.tsx#scroll"})}catch(e){}},"./src/screens/user/zone/store/action.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.fixed.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/web.timers.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/utils/fetch/index.ts"),x=t("./src/utils/webhooks/index.ts"),j=t("./src/constants/index.ts"),y=n(t("./src/screens/user/zone/store/fetch.ts"));function b(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.default)(e);if(s){var n=(0,u.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}s.default=function(e){(0,i.default)(t,e);var s=b(t);function t(){var e,n,a;(0,l.default)(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),(0,m.default)((0,d.default)(e),"y",0),(0,m.default)((0,d.default)(e),"scrollToOffset",{}),(0,m.default)((0,d.default)(e),"scrollTo",{}),(0,m.default)((0,d.default)(e),"connectRef",(function(s,t){e.scrollToOffset[t]=null==s?void 0:s.scrollToOffset,e.scrollTo[t]=(null==s?void 0:s.scrollResponderScrollTo)||(null==s?void 0:s.scrollTo)})),(0,m.default)((0,d.default)(e),"updatePageOffset",(function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-1,1],t=e.state,r=t.page,n=t.fixed?e.h_fixed:e.y;s.forEach((function(s){var t=e.scrollToOffset[r+s];if("function"==typeof t)t({offset:n,animated:!1});else{var o=e.scrollTo[r+s];"function"==typeof o&&o({y:n,animated:!1})}}))})),(0,m.default)((0,d.default)(e),"onScroll",(function(s){p.uiStore.closePopableSubject(),p.uiStore.closeLikesGrid();var t=e.state.fixed,r=s.nativeEvent.contentOffset.y;e.y=r;var n=e.h_fixed-20;t&&r<n?e.setState({fixed:!1}):!t&&r>=n&&e.setState({fixed:!0})})),(0,m.default)((0,d.default)(e),"onTabChange",(function(s){(0,_.t)("空间.标签页切换",{userId:e.userId,page:s}),e.setState({page:s}),e.save(),e.onTabChangeCallback(s)})),(0,m.default)((0,d.default)(e),"onTabChangeCallback",(n=(0,o.default)(r.mark((function s(t){var n;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if("番剧"!==(n=e.tabs[t].title)){s.next=6;break}return s.next=4,e.fetchUserCollections();case 4:s.next=24;break;case 6:if("时间线"!==n){s.next=11;break}return s.next=9,e.fetchUsersTimeline(!0);case 9:s.next=24;break;case 11:if("超展开"!==n){s.next=17;break}return e.checkUserTopicsIsTimeout(),s.next=15,e.fetchUserTopicsFormCDN();case 15:s.next=24;break;case 17:if("小圣杯"!==n||e.fromTinygrail){s.next=24;break}return s.next=20,e.fetchCharaAssets();case 20:return s.next=22,e.fetchTempleTotal();case 22:return s.next=24,e.fetchCharaTotal();case 24:setTimeout((function(){return e.updatePageOffset([0])}),0);case 25:case"end":return s.stop()}}),s)}))),function(e){return n.apply(this,arguments)})),(0,m.default)((0,d.default)(e),"checkUserTopicsIsTimeout",(function(){setTimeout((function(){0===e.userTopicsFormCDN.list.length&&e.setState({timeout:!0})}),3600)})),(0,m.default)((0,d.default)(e),"onToggleSection",(function(s){var t=e.state.expand;(0,_.t)("空间.展开分组",{userId:e.userId,title:s,expand:!t[s]}),p.systemStore.setting.zoneCollapse?e.setState({expand:(0,m.default)({在看:!1,看过:!1,想看:!1,搁置:!1,抛弃:!1},s,!t[s])}):(e.setState({expand:Object.assign({},t,(0,m.default)({},s,!t[s]))}),e.save())})),(0,m.default)((0,d.default)(e),"navigateToUser",(function(s){var t=e.params._name,r=e.usersInfo,n=r.avatar,o=r.nickname,a=r.username;s.push("User",{userId:a,_name:(0,f.HTMLDecode)(o||t),_image:null==n?void 0:n.large})})),(0,m.default)((0,d.default)(e),"openUsedModal",(function(){e.setState({visible:!0})})),(0,m.default)((0,d.default)(e),"closeUsedModal",(function(){e.setState({visible:!1})})),(0,m.default)((0,d.default)(e),"toggleOriginUid",(function(){var s=e.state.originUid;e.setState({originUid:!s})})),(0,m.default)((0,d.default)(e),"onSelectTimelineType",(function(s){var t=j.MODEL_TIMELINE_TYPE.getValue(s);t&&t!==e.state.timelineType&&(e.setState({timelineType:t}),e.fetchUsersTimeline(!0,!0))})),(0,m.default)((0,d.default)(e),"openRemarkModal",(function(){e.setState({remarkModalVisible:!0,remarkModalInput:e.userRemark||""})})),(0,m.default)((0,d.default)(e),"closeRemarkModal",(function(){e.setState({remarkModalVisible:!1})})),(0,m.default)((0,d.default)(e),"changeRemarkModal",(function(s){e.setState({remarkModalInput:s})})),(0,m.default)((0,d.default)(e),"submitRemarkModal",(function(){e.username&&(p.systemStore.updateUserRemark(e.username,e.state.remarkModalInput),e.resetRemarkModal(),(0,f.info)("已保存"),(0,f.feedback)())})),(0,m.default)((0,d.default)(e),"resetRemarkModal",(function(){e.setState({remarkModalVisible:!1,remarkModalInput:""})})),(0,m.default)((0,d.default)(e),"logFriendStatus",(0,o.default)(r.mark((function s(){var t,n,o,a,l,d;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.usersInfo.username,n={scope:j.MODEL_TIMELINE_SCOPE.getValue("自己"),type:j.MODEL_TIMELINE_TYPE.getValue("好友")},o=(0,f.loading)("查询好友信息中..."),s.next=5,p.timelineStore.fetchTimeline(n,!0);case 5:if(a=s.sent,l=a.list.find((function(e){var s,r,n;return null==e||null==(s=e.p3)||null==(r=s.url)||null==(n=r[0])?void 0:n.includes("/user/"+t)}))){s.next=15;break}return s.next=10,p.timelineStore.fetchTimeline(n);case 10:return s.next=12,p.timelineStore.fetchTimeline(n);case 12:return s.next=14,p.timelineStore.fetchTimeline(n);case 14:a=s.sent;case 15:if(l=a.list.find((function(e){var s,r,n;return null==e||null==(s=e.p3)||null==(r=s.url)||null==(n=r[0])?void 0:n.includes("/user/"+t)})),o(),l){s.next=19;break}return s.abrupt("return",(0,f.info)("是你的好友"));case 19:return d=l.time,(0,f.info)(d.split(" · ")[0]+"加为了好友"),s.abrupt("return");case 22:case"end":return s.stop()}}),s)})))),(0,m.default)((0,d.default)(e),"doConnect",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if((0,_.t)("空间.添加好友",{userId:e.userId}),!(t=e.users.connectUrl)){s.next=9;break}return s.next=5,(0,_.fetchHTML)({url:""+j.HOST+t});case 5:(0,f.feedback)(),(0,f.info)("已添加好友"),e.fetchUsers(),(0,x.webhookFriend)(e.usersInfo,p.userStore.userInfo);case 9:case"end":return s.stop()}}),s)})))),(0,m.default)((0,d.default)(e),"doDisconnect",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if((0,_.t)("空间.解除好友",{userId:e.userId}),!(t=e.users.disconnectUrl)){s.next=8;break}return s.next=5,(0,_.fetchHTML)({url:""+j.HOST+t});case 5:(0,f.feedback)(),(0,f.info)("已解除好友"),e.fetchUsers();case 8:case"end":return s.stop()}}),s)})))),(0,m.default)((0,d.default)(e),"doDelete",(a=(0,o.default)(r.mark((function s(t){var n;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return",!1);case 2:return s.next=4,(0,_.fetchHTML)({method:"POST",url:t});case 4:return n=s.sent,(0,f.feedback)(),e.fetchUsersTimeline(!0),s.abrupt("return",n);case 8:case"end":return s.stop()}}),s)}))),function(e){return a.apply(this,arguments)})),e}return(0,a.default)(t)}(y.default)},"./src/screens/user/zone/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=t("./node_modules/mobx/dist/mobx.esm.js"),m=t("./src/components/avatar/utils.ts"),p=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),_=t("./src/utils/user-setting/index.ts"),x=t("./src/constants/index.ts"),j=t("./src/screens/user/v2/ds.ts"),y=t("./src/screens/user/zone/ds.ts"),b=r(t("./src/screens/user/zone/store/state.ts"));function h(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}s.default=(n=function(e){(0,l.default)(t,e);var s=h(t);function t(){return(0,o.default)(this,t),s.apply(this,arguments)}return(0,a.default)(t,[{key:"tabs",get:function(){return p.systemStore.setting.tinygrail?y.TABS_WITH_TINYGRAIL:y.TABS}},{key:"fromTinygrail",get:function(){return"tinygrail"===this.params.from}},{key:"userId",get:function(){var e;return(null==(e=this.params)?void 0:e.userId)||""}},{key:"usersInfo",get:function(){return p.userStore.usersInfo(this.userId)}},{key:"username",get:function(){return this.usersInfo.username}},{key:"userCollections",get:function(){return p.userStore.userCollections(void 0,this.userId)}},{key:"usersTimeline",get:function(){return p.timelineStore.usersTimeline(this.userId)}},{key:"userTopicsFormCDN",get:function(){var e=p.rakuenStore.userTopicsFormCDN(this.usersInfo.username||this.usersInfo.id);if(p.systemStore.advance)return e;var s=e.list.filter((function(e,s){return s<8}));return Object.assign({},e,{list:s,_filter:e.list.length-8})}},{key:"users",get:function(){var e=p.usersStore.users(this.userId);return e._loaded?e:this.state.users}},{key:"recent",get:function(){var e=this.usersInfo.username;return e&&this.state.recent[e]||!1}},{key:"bg",get:function(){if(!this.recent)return"";var e=this.users.sign,s=(void 0===e?"":e).match(/\[bg\](.+?)\[\/bg\]/);return(0,_.fixedRemote)((0,f.HTMLDecode)(s?String(s[1]).trim():""))}},{key:"avatar",get:function(){if(!this.recent)return"";var e=this.users.sign,s=(void 0===e?"":e).match(/\[avatar\](.+?)\[\/avatar\]/),t=s?String(s[1]).trim():"";return(0,_.fixedRemote)((0,f.HTMLDecode)(t),!0)}},{key:"src",get:function(){var e;return(0,m.getCDNAvatar)((0,m.fixedHD)(this.avatar||this.params._image||(null==(e=this.usersInfo.avatar)?void 0:e.large)),"bgm_poster_200")}},{key:"imageSource",get:function(){var e=this.params._image,s=this.usersInfo.avatar,t={uri:null==s?void 0:s.large};return x.TEXT_ONLY?t=x.IMG_EMPTY_DARK:("string"==typeof e&&(t.uri=e),t.uri=(0,m.fixedHD)(this.bg||this.avatar||t.uri)),t}},{key:"blurRadius",get:function(){var e;return(0,f.getBlurRadius)(this.imageSource.uri,this.bg,null==(e=this.usersInfo.avatar)?void 0:e.large)}},{key:"nickname",get:function(){return(0,f.HTMLDecode)(this.usersInfo.nickname||this.params._name)}},{key:"userRemark",get:function(){return p.systemStore.userRemark(this.username)}},{key:"userAssets",get:function(){return p.tinygrailStore.userAssets(this.username)}},{key:"templeTotal",get:function(){return p.tinygrailStore.templeTotal(this.username)}},{key:"charaTotal",get:function(){return p.tinygrailStore.charaTotal(this.username)}},{key:"h_fixed",get:function(){return p._.parallaxImageHeight-j.H_HEADER}},{key:"isAdvance",get:function(){return p.systemStore.isAdvance(this.userId,this.username)}},{key:"advanceDetail",get:function(){return p.userStore.isDeveloper?p.systemStore.advanceDetail[this.userId||this.username]:""}}]),t}(b.default),(0,c.default)(n.prototype,"tabs",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"tabs"),n.prototype),(0,c.default)(n.prototype,"fromTinygrail",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"fromTinygrail"),n.prototype),(0,c.default)(n.prototype,"userId",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"userId"),n.prototype),(0,c.default)(n.prototype,"usersInfo",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"usersInfo"),n.prototype),(0,c.default)(n.prototype,"username",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"username"),n.prototype),(0,c.default)(n.prototype,"userCollections",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"userCollections"),n.prototype),(0,c.default)(n.prototype,"usersTimeline",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"usersTimeline"),n.prototype),(0,c.default)(n.prototype,"userTopicsFormCDN",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"userTopicsFormCDN"),n.prototype),(0,c.default)(n.prototype,"users",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"users"),n.prototype),(0,c.default)(n.prototype,"recent",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"recent"),n.prototype),(0,c.default)(n.prototype,"bg",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"bg"),n.prototype),(0,c.default)(n.prototype,"avatar",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"avatar"),n.prototype),(0,c.default)(n.prototype,"src",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"src"),n.prototype),(0,c.default)(n.prototype,"imageSource",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"imageSource"),n.prototype),(0,c.default)(n.prototype,"blurRadius",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"blurRadius"),n.prototype),(0,c.default)(n.prototype,"nickname",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"nickname"),n.prototype),(0,c.default)(n.prototype,"userRemark",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"userRemark"),n.prototype),(0,c.default)(n.prototype,"userAssets",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"userAssets"),n.prototype),(0,c.default)(n.prototype,"templeTotal",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"templeTotal"),n.prototype),(0,c.default)(n.prototype,"charaTotal",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"charaTotal"),n.prototype),(0,c.default)(n.prototype,"h_fixed",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"h_fixed"),n.prototype),(0,c.default)(n.prototype,"isAdvance",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAdvance"),n.prototype),(0,c.default)(n.prototype,"advanceDetail",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"advanceDetail"),n.prototype),n)},"./src/screens/user/zone/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=s.EXCLUDE_STATE=void 0;var r=t("./src/stores/users/init.ts"),n=t("./src/constants/index.ts"),o=t("./src/screens/user/zone/ds.ts"),a=(s.NAMESPACE="Screen"+o.COMPONENT,s.EXCLUDE_STATE={expand:{在看:!0,看过:!1,想看:!1,搁置:!1,抛弃:!1},visible:!1,timeout:!1,originUid:!1,fixed:!1,users:Object.assign({},r.INIT_USERS,{_loaded:!1}),timelineType:n.TIMELINE_TYPE[0].value,remarkModalVisible:!1,remarkModalInput:"",mounted:!0});s.STATE=Object.assign({page:0,recent:{}},a,{_loaded:!1})},"./src/screens/user/zone/store/fetch.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.is-array.js"),t("./node_modules/core-js/modules/es.object.assign.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/web.timers.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),a=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),_=t("./src/utils/index.ts"),x=t("./src/utils/kv/index.ts"),j=t("./src/constants/index.ts"),y=n(t("./src/screens/user/zone/store/computed.ts")),b=["ts"];function h(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,m.default)(e);if(s){var n=(0,m.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,u.default)(this,t)}}s.default=function(e){(0,c.default)(t,e);var s=h(t);function t(){var e;(0,d.default)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return e=s.call.apply(s,[this].concat(l)),(0,p.default)((0,i.default)(e),"fetchUsersInfo",(function(){return f.userStore.fetchUsersInfo(e.userId)})),(0,p.default)((0,i.default)(e),"fetchUsersFromOSS",(0,a.default)(r.mark((function s(){var t,n,a,l;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.users._loaded){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,(0,x.get)("zone_"+e.userId);case 5:if(t=s.sent){s.next=9;break}return e.updateThirdParty(),s.abrupt("return");case 9:n=t.ts,a=(0,o.default)(t,b),l=(0,_.getTimestamp)(),"object"!=typeof a||Array.isArray(a)||e.setState({users:Object.assign({},a,{_loaded:l})}),l-n>=604800&&e.updateThirdParty(),s.next=17;break;case 15:s.prev=15,s.t0=s.catch(2);case 17:case"end":return s.stop()}}),s,null,[[2,15]])})))),(0,p.default)((0,i.default)(e),"fetchUsers",(function(){return f.usersStore.fetchUsers({userId:e.userId})})),(0,p.default)((0,i.default)(e),"fetchUserCollections",(function(){return f.userStore.fetchUserCollections("anime",e.userId)})),(0,p.default)((0,i.default)(e),"fetchUsersTimeline",(function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&s&&(0,_.opitimize)(e.usersTimeline,60)?e.usersTimeline:f.timelineStore.fetchUsersTimeline({userId:e.userId,type:e.state.timelineType},s)})),(0,p.default)((0,i.default)(e),"fetchUserTopicsFormCDN",(function(){if(j.SHARE_MODE)return!1;var s=e.usersInfo,t=s.id,r=s.username;return f.rakuenStore.fetchUserTopicsFormCDN(r||t)})),(0,p.default)((0,i.default)(e),"fetchCharaAssets",(function(){return f.tinygrailStore.fetchUserAssets(e.username)})),(0,p.default)((0,i.default)(e),"fetchTempleTotal",(function(){return f.tinygrailStore.fetchTempleTotal(e.username)})),(0,p.default)((0,i.default)(e),"fetchCharaTotal",(function(){return f.tinygrailStore.fetchCharaTotal(e.username)})),(0,p.default)((0,i.default)(e),"fetchRecent",(0,a.default)(r.mark((function s(){var t,n;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.usersInfo.username){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,(0,x.get)("u_"+t);case 5:n=s.sent,e.setState({recent:(0,p.default)({},t,!(null==n||!n.ts)&&(0,_.getTimestamp)()-Number(n.ts||0)<=108e3)}),e.save();case 8:case"end":return s.stop()}}),s)})))),(0,p.default)((0,i.default)(e),"updateThirdParty",(function(){setTimeout((function(){if(!e.userId||!e.users._loaded)return!1;(0,x.update)("zone_"+e.userId,Object.assign({},(0,_.omit)(e.users,["recent","connectUrl","disconnectUrl","formhash","_loaded"])))}),1e4)})),e}return(0,l.default)(t)}(y.default)},"./src/screens/user/zone/store/index.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.object.assign.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"H_HEADER",{enumerable:!0,get:function(){return _.H_HEADER}}),Object.defineProperty(s,"H_RADIUS_LINE",{enumerable:!0,get:function(){return _.H_RADIUS_LINE}}),Object.defineProperty(s,"H_TABBAR",{enumerable:!0,get:function(){return _.H_TABBAR}}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),c=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=t("./src/utils/index.ts"),f=t("./src/constants/index.ts"),_=t("./src/screens/user/v2/ds.ts"),x=n(t("./src/screens/user/zone/store/action.ts")),j=t("./src/screens/user/zone/store/utils.ts"),y=t("./src/screens/user/zone/store/ds.ts");function b(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.default)(e);if(s){var n=(0,u.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}var h=function(e){(0,i.default)(t,e);var s=b(t);function t(){var e;(0,l.default)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=s.call.apply(s,[this].concat(a)),(0,m.default)((0,d.default)(e),"init",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=Object,s.t1={},s.next=4,e.getStorage(y.NAMESPACE);case 4:return s.t2=s.sent,s.t3=y.EXCLUDE_STATE,s.t4={_loaded:!0},t=s.t0.assign.call(s.t0,s.t1,s.t2,s.t3,s.t4),e.state._loaded?t.page=e.state.page:t.page>1&&(t.page=0),e.setState(t),s.abrupt("return",(0,p.queue)([function(){if(e.state.mounted)return e.onTabChangeCallback(e.state.page)},function(){if(e.state.mounted)return e.fetchUsersInfo()},function(){if(e.state.mounted)return e.fetchUsersFromOSS()},function(){if(e.state.mounted)return e.fetchUsers()},function(){if(e.state.mounted&&e.fromTinygrail)return e.fetchCharaAssets()},function(){if(e.state.mounted&&e.fromTinygrail)return e.fetchTempleTotal()},function(){if(e.state.mounted&&e.fromTinygrail)return e.fetchCharaTotal()},function(){if(e.state.mounted)return e.fetchUsersTimeline(!0)},function(){if(e.state.mounted&&!f.STORYBOOK)return e.fetchRecent()},function(){e.state.mounted&&!f.STORYBOOK&&(0,j.updateTrackUserInfo)(e.usersInfo)}]));case 11:case"end":return s.stop()}}),s)})))),e}return(0,a.default)(t)}(x.default);s.default=h},"./src/screens/user/zone/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(t("./node_modules/react-native-web/dist/exports/Animated/index.js")),m=t("./node_modules/mobx/dist/mobx.esm.js"),p=r(t("./src/utils/store/index.ts")),f=t("./src/screens/user/zone/store/ds.ts");function _(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,i.default)(e);if(s){var n=(0,i.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,d.default)(this,t)}}s.default=function(e){(0,l.default)(t,e);var s=_(t);function t(){var e;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=s.call.apply(s,[this].concat(n)),(0,c.default)((0,a.default)(e),"params",void 0),(0,c.default)((0,a.default)(e),"state",(0,m.observable)(f.STATE)),(0,c.default)((0,a.default)(e),"scrollY",new u.default.Value(0)),(0,c.default)((0,a.default)(e),"save",(function(){return e.saveStorage(f.NAMESPACE,f.EXCLUDE_STATE)})),e}return(0,n.default)(t)}(p.default)},"./src/screens/user/zone/store/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.for-each.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.find-index.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.updateTrackUserInfo=function(e){var s;if(null==e||!e.username||null==e||null==(s=e.avatar)||!s.medium||null==e||!e.nickname)return;var t=!1;if(o.SUBJECT_TYPE.forEach((function(s){if(!t){var o=r.systemStore.setting["comment"+(0,n.titleCase)(s.label)];null!=o&&o.length&&-1!==o.findIndex((function(s){return s===e.username}))&&(t=!0)}})),!t)return;r.usersStore.updateUsersInfo({avatar:e.avatar.medium,userId:e.username,userName:e.nickname})};var r=t("./src/stores/index.ts"),n=t("./src/utils/index.ts"),o=t("./src/constants/index.ts")}}]);