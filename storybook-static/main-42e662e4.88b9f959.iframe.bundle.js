(self.webpackChunkbangumi_pro=self.webpackChunkbangumi_pro||[]).push([[506],{"./src/screens/_/item/article/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemArticle,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemArticle,Object.assign({},e),e.timestamp)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/article/index.tsx"),d=s("./src/screens/_/item/article/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemArticle",component:a.ItemArticle};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.timestamp} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!1,type:{name:"string"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},timestamp:{defaultValue:null,description:"",name:"timestamp",required:!1,type:{name:"string | number"}},replies:{defaultValue:null,description:"",name:"replies",required:!1,type:{name:"string | number"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/article/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/article/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/bangumi-list/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(a.ItemBangumiList,Object.assign({},e))}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookGrid,{space:!0,children:d.list.map(function(e){return(0,l.jsx)(a.ItemBangumiList,Object.assign({},e),e.subjectId)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/bangumi-list/index.tsx"),d=s("./src/screens/_/item/bangumi-list/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemBangumiList",component:a.ItemBangumiList};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => <Component {...args} />"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookGrid space>\n      {list.map(item => (\n        <Component key={item.subjectId} {...item} />\n      ))}\n    </StorybookGrid>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},images:{defaultValue:null,description:"",name:"images",required:!1,type:{name:"Images"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/bangumi-list/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/bangumi-list/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/blog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemBlog,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemBlog,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/blog/index.tsx"),d=s("./src/screens/_/item/blog/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemBlog",component:a.ItemBlog};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},username:{defaultValue:null,description:"",name:"username",required:!1,type:{name:"string"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},replies:{defaultValue:null,description:"",name:"replies",required:!1,type:{name:"string"}},tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"string | string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/blog/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/blog/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/catalog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemCatalog,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemCatalog,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/catalog/index.tsx"),d=s("./src/screens/_/item/catalog/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemCatalog",component:a.ItemCatalog};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        // @ts-expect-error\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},userName:{defaultValue:null,description:"目录编纂者 (别人的才存在)",name:"userName",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"string"}},book:{defaultValue:null,description:"",name:"book",required:!1,type:{name:"any"}},anime:{defaultValue:null,description:"",name:"anime",required:!1,type:{name:"any"}},music:{defaultValue:null,description:"",name:"music",required:!1,type:{name:"any"}},game:{defaultValue:null,description:"",name:"game",required:!1,type:{name:"any"}},real:{defaultValue:null,description:"",name:"real",required:!1,type:{name:"any"}},time:{defaultValue:null,description:"最后更新时间",name:"time",required:!1,type:{name:"string"}},last:{defaultValue:null,description:"",name:"last",required:!1,type:{name:"string"}},filter:{defaultValue:null,description:"标题高亮值",name:"filter",required:!1,type:{name:"string"}},isUser:{defaultValue:null,description:"是否自己创建的目录",name:"isUser",required:!1,type:{name:"boolean"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!1,type:{name:"boolean"}},detail:{defaultValue:null,description:"目录详情信息",name:"detail",required:!1,type:{name:"CatalogDetail"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/catalog/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/catalog/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/character/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemCharacter,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemCharacter,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/character/index.tsx"),d=s("./src/screens/_/item/character/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemCharacter",component:a.ItemCharacter};t.default=o,(t.Item=r).args=d.list[3];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        // @ts-expect-error\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"character"'},{value:'"person"'}]}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},replies:{defaultValue:null,description:"",name:"replies",required:!1,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"string"}},actors:{defaultValue:null,description:"",name:"actors",required:!1,type:{name:"{ id: string; cover: `//lain.bgm.tv/pic/crt/s/${string}.jpg?r=${number}`; name: string; nameCn: string; }[]"}},positions:{defaultValue:null,description:"",name:"positions",required:!1,type:{name:"string[]"}},position:{defaultValue:null,description:"@deprecated",name:"position",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/character/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/character/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/collections-grid/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(a.ItemCollectionsGrid,Object.assign({},e))}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookGrid,{space:!0,children:d.list.map(function(e){return(0,l.jsx)(a.ItemCollectionsGrid,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/collections-grid/index.tsx"),d=s("./src/screens/_/item/collections-grid/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemCollectionsGrid",component:a.ItemCollectionsGrid};t.default=o,(t.Item=r).args=d.list[2];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => <Component {...args} />"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookGrid space>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookGrid>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},num:{defaultValue:null,description:"",name:"num",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},sub:{defaultValue:null,description:"",name:"sub",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!1,type:{name:"string"}},airtime:{defaultValue:null,description:"",name:"airtime",required:!1,type:{name:"string"}},aid:{defaultValue:null,description:"",name:"aid",required:!1,type:{name:"string | number"}},wid:{defaultValue:null,description:"",name:"wid",required:!1,type:{name:"string | number"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"string | number"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!1,type:{name:"boolean"}},isRectangle:{defaultValue:null,description:"",name:"isRectangle",required:!1,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections-grid/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/collections-grid/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/collections/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemCollections,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemCollections,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/collections/index.tsx"),d=s("./src/screens/_/item/collections/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemCollections",component:a.ItemCollections};t.default=o,(t.Item=r).args=d.list[10];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},inViewY:{defaultValue:null,description:"",name:"inViewY",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},simpleStars:{defaultValue:null,description:"",name:"simpleStars",required:!1,type:{name:"boolean"}},tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},modify:{defaultValue:null,description:"",name:"modify",required:!1,type:{name:"string"}},showLabel:{defaultValue:null,description:"",name:"showLabel",required:!1,type:{name:"boolean"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!1,type:{name:"boolean"}},isDo:{defaultValue:null,description:"",name:"isDo",required:!1,type:{name:"boolean"}},isOnHold:{defaultValue:null,description:"",name:"isOnHold",required:!1,type:{name:"boolean"}},isDropped:{defaultValue:null,description:"",name:"isDropped",required:!1,type:{name:"boolean"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!1,type:{name:"boolean"}},isCatalog:{defaultValue:null,description:"",name:"isCatalog",required:!1,type:{name:"boolean"}},isEditable:{defaultValue:null,description:"",name:"isEditable",required:!1,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!1,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(modify?: string) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/collections/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/comment/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemComment,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemComment,Object.assign({},e),e.userId)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/comment/index.tsx"),d=s("./src/screens/_/item/comment/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemComment",component:a.ItemComment};t.default=o,(t.Item=r).args=d.list[2];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        // @ts-expect-error\n        <Component key={item.userId} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"看过"'},{value:'"想看"'},{value:'"抛弃"'},{value:'"在看"'},{value:'"搁置"'}]}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},popoverData:{defaultValue:null,description:"",name:"popoverData",required:!1,type:{name:"string[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/comment/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/comment/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/friends/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemFriends,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemFriends,Object.assign({},e),e.userId)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/friends/index.tsx"),d=s("./src/screens/_/item/friends/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemFriends",component:a.ItemFriends};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.userId} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},hobby:{defaultValue:null,description:"",name:"hobby",required:!1,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!1,type:{name:"string | number"}},recent:{defaultValue:null,description:"",name:"recent",required:!1,type:{name:"string"}},doing:{defaultValue:null,description:"",name:"doing",required:!1,type:{name:"string | number"}},collect:{defaultValue:null,description:"",name:"collect",required:!1,type:{name:"string | number"}},wish:{defaultValue:null,description:"",name:"wish",required:!1,type:{name:"string | number"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!1,type:{name:"string | number"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"string | number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/friends/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/notify/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemNotify,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemNotify,Object.assign({},e),e.userId)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/notify/index.tsx"),d=s("./src/screens/_/item/notify/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemNotify",component:a.ItemNotify};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.userId} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},message2:{defaultValue:null,description:"",name:"message2",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},repeat:{defaultValue:null,description:"",name:"repeat",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/notify/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/notify/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/post/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemPost,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemPost,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/post/index.tsx"),d=s("./src/screens/_/item/post/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemPost",component:a.ItemPost};t.default=o,(t.Item=r).args=d.list[7];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{inViewY:{defaultValue:null,description:"",name:"inViewY",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},contentStyle:{defaultValue:null,description:"容器样式",name:"contentStyle",required:!1,type:{name:"ViewStyle"}},avatar:{defaultValue:null,description:"头像地址",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"用户 Id",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"用户昵称",name:"userName",required:!1,type:{name:"string"}},replySub:{defaultValue:null,description:"存放 bgm 特有的子回复配置字符串",name:"replySub",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"回复内容",name:"message",required:!1,type:{name:"string"}},sub:{defaultValue:null,description:"子回复数据",name:"sub",required:!1,type:{name:"any[]"}},id:{defaultValue:null,description:"楼层 Id",name:"id",required:!1,type:{name:"Id"}},authorId:{defaultValue:null,description:"作者 Id",name:"authorId",required:!1,type:{name:"UserId"}},postId:{defaultValue:null,description:"楼层 Id, 存在就跳转到对应楼层",name:"postId",required:!1,type:{name:"Id"}},time:{defaultValue:null,description:"发帖时间",name:"time",required:!1,type:{name:"string"}},floor:{defaultValue:null,description:"楼层",name:"floor",required:!1,type:{name:"string"}},userSign:{defaultValue:null,description:"用户签名",name:"userSign",required:!1,type:{name:"string"}},erase:{defaultValue:null,description:"删除楼层的请求地址",name:"erase",required:!1,type:{name:"string"}},directFloor:{defaultValue:null,description:"高亮标记楼层",name:"directFloor",required:!1,type:{name:"string"}},rendered:{defaultValue:null,description:"是否允许渲染 (用于优化)",name:"rendered",required:!1,type:{name:"boolean"}},matchLink:{defaultValue:null,description:"是否自动检测媒体块",name:"matchLink",required:!1,type:{name:"boolean"}},expandNums:{defaultValue:null,description:"楼层自动折叠子回复数",name:"expandNums",required:!1,type:{name:"number"}},showFixedTextare:{defaultValue:null,description:"传递显示回复弹窗的函数",name:"showFixedTextare",required:!1,type:{name:"() => any"}},event:{defaultValue:null,description:"埋点",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/post/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/say/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,c.jsx)(i.StorybookPage,{children:(0,c.jsx)(i.Flex.Item,{children:(0,c.jsx)(d.ItemSay,Object.assign({},e))})})}function n(){return(0,c.jsx)(i.StorybookPage,{children:(0,c.jsx)(i.StorybookList,{style:a._.container.wind,children:l.list.map(function(e){return(0,c.jsx)(d.ItemSay,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),d=s("./src/screens/_/item/say/index.tsx"),l=s("./src/screens/_/item/say/index.mock.tsx"),c=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemSay",component:d.ItemSay};t.default=o,(t.Item=r).args=l.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList style={_.container.wind}>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},showName:{defaultValue:null,description:"",name:"showName",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"UserId"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"boolean"}},onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/say/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/say/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/search/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemSearch,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemSearch,Object.assign({},e),e.id)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/search/index.tsx"),d=s("./src/screens/_/item/search/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemSearch",component:a.ItemSearch};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        <Component key={item.id} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},collected:{defaultValue:null,description:"",name:"collected",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/search/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/setting-block/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemSettingBlock,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{space:!0,children:d.list.map(function(e,t){return(0,l.jsx)(a.ItemSettingBlock,Object.assign({},e),t)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/setting-block/index.tsx"),d=s("./src/screens/_/item/setting-block/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemSettingBlock",component:a.ItemSettingBlock};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList space>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"__plain__"'},{value:'"main"'},{value:'"primary"'},{value:'"success"'},{value:'"warning"'},{value:'"danger"'},{value:'"title"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"bid"'},{value:'"ask"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting-block/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/setting-block/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/setting/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemSetting,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{space:!0,children:d.list.map(function(e,t){return(0,l.jsx)(a.ItemSetting,Object.assign({},e),t)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/setting/index.tsx"),d=s("./src/screens/_/item/setting/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemSetting",component:a.ItemSetting};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList space>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!1,type:{name:"(event?: any) => any"}},animate:{defaultValue:null,description:"是否使用缩放动画",name:"animate",required:!1,type:{name:"boolean"}},withoutFeedback:{defaultValue:null,description:"是否无反馈效果",name:"withoutFeedback",required:!1,type:{name:"boolean"}},delay:{defaultValue:null,description:"是否防止快速多次点击",name:"delay",required:!1,type:{name:"boolean"}},scale:{defaultValue:null,description:"点击中动画缩放比例, 默认 0.95",name:"scale",required:!1,type:{name:"number"}},hitSlop:{defaultValue:null,description:"设置元素能够检测到按压动作的额外距离",name:"hitSlop",required:!1,type:{name:"Insets"}},highlight:{defaultValue:null,description:"是否高亮反馈效果",name:"highlight",required:!1,type:{name:"boolean"}},delayPressIn:{defaultValue:null,description:"在 onPressOut 和 onPress 之前的时间",name:"delayPressIn",required:!1,type:{name:"number"}},delayPressOut:{defaultValue:null,description:"松开手后的时间",name:"delayPressOut",required:!1,type:{name:"number"}},useRN:{defaultValue:null,description:"iOS 端此值无变化\n安卓端 Touchable 都使用了 react-native-gesture-handler 提供的封装\n有比 RN 提供的更快的反馈效果，若设置为 true 强制使用 RN 提供的 <Touchable>",name:"useRN",required:!1,type:{name:"boolean"}},ripple:{defaultValue:null,description:"涟漪状的背景（安卓 only）",name:"ripple",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},hd:{defaultValue:null,description:"",name:"hd",required:!1,type:{name:"ReactNode"}},ft:{defaultValue:null,description:"",name:"ft",required:!1,type:{name:"ReactNode"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}},arrowStyle:{defaultValue:null,description:"",name:"arrowStyle",required:!1,type:{name:"TextStyle"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"number"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"__plain__"'},{value:'"main"'},{value:'"primary"'},{value:'"success"'},{value:'"warning"'},{value:'"danger"'},{value:'"title"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"bid"'},{value:'"ask"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"(event?: any) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/setting/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/timeline/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemTimeline,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e,t){return(0,l.jsx)(a.ItemTimeline,Object.assign({},e),t)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/timeline/index.tsx"),d=s("./src/screens/_/item/timeline/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemTimeline",component:a.ItemTimeline};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map((item, index) => (\n        // @ts-expect-error\n        <Component key={index} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"{ url?: string; src?: string; }"}},p1:{defaultValue:null,description:"",name:"p1",required:!1,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!1,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!1,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!1,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!1,type:{name:"{ count: number; url?: string; content?: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!1,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!1,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/timeline/index.stories.tsx#Item"})}catch(e){}},"./src/screens/_/item/voice/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");function r(e){return(0,l.jsx)(i.StorybookPage,{radius:!0,children:(0,l.jsx)(i.Flex.Item,{children:(0,l.jsx)(a.ItemVoice,Object.assign({},e))})})}function n(){return(0,l.jsx)(i.StorybookPage,{children:(0,l.jsx)(i.StorybookList,{children:d.list.map(function(e){return(0,l.jsx)(a.ItemVoice,Object.assign({},e),e.name)})})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.List=t.Item=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/item/voice/index.tsx"),d=s("./src/screens/_/item/voice/index.mock.tsx"),l=s("./node_modules/react/jsx-runtime.js"),o={title:"item/ItemVoice",component:a.ItemVoice};t.default=o,(t.Item=r).args=d.list[0];t.List=n,r.parameters=Object.assign({storySource:{source:"(args: Props) => (\n  <StorybookPage radius>\n    <Flex.Item>\n      <Component {...args} />\n    </Flex.Item>\n  </StorybookPage>\n)"}},r.parameters),n.parameters=Object.assign({storySource:{source:"() => (\n  <StorybookPage>\n    <StorybookList>\n      {list.map(item => (\n        // @ts-expect-error\n        <Component key={item.name} {...item} />\n      ))}\n    </StorybookList>\n  </StorybookPage>\n)"}},n.parameters);try{r.displayName="Item",r.__docgenInfo={description:"",displayName:"Item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"MonoId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"{ id?: SubjectId; name?: string; nameCn?: string; cover?: string; staff?: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/voice/index.stories.tsx#Item"]={docgenInfo:r.__docgenInfo,name:"Item",path:"src/screens/_/item/voice/index.stories.tsx#Item"})}catch(e){}},"./src/screens/discovery/adv/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("ADV")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ADV=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/adv/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/ADV",component:i.default};t.default=n;(t.ADV=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('ADV')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anime/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Anime")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anime=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/anime/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Anime",component:i.default};t.default=n;(t.Anime=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anime')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/anitama/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,d.jsx)(i.Page,{children:(0,d.jsx)(i.Text,{style:a._.mt.center,align:"center",children:"网页端暂不支持此功能 (资讯)"})})}function n(){return(0,d.jsx)(i.StorybookSPA,{children:(0,d.jsx)(i.StorybookList,{children:(0,d.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("Anitama")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Anitama=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/Anitama",component:r};(t.Anitama=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Anitama')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/discovery/award/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(e){var t=((null==e||null==(e=e.route)?void 0:e.params)||{}).uri;return(0,l.jsx)(i.Page,{children:(0,l.jsxs)(i.Text,{style:a._.mt.center,align:"center",onPress:function(){(0,d.open)(t)},children:["网页端暂不支持直接显示年鉴","\n\n","点击跳转查看"]})})}function n(){return(0,l.jsx)(i.StorybookSPA,{children:(0,l.jsx)(i.StorybookList,{children:(0,l.jsx)(r,Object.assign({},(0,i.getStorybookArgs)("Award")))})})}var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Award=void 0,o(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default={title:"screens/Award",component:r};(t.Award=n).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Award')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},n.parameters)},"./src/screens/discovery/blog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("DiscoveryBlog")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DiscoveryBlog=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/blog/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/DiscoveryBlog",component:i.default};t.default=n;(t.DiscoveryBlog=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('DiscoveryBlog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/browser/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Browser")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Browser=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/browser/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Browser",component:i.default};t.default=n;(t.Browser=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Browser')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/calendar/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Calendar")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Calendar=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/calendar/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Calendar",component:i.default};t.default=n;(t.Calendar=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Calendar')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog-detail/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("CatalogDetail")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CatalogDetail=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/catalog-detail/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/CatalogDetail",component:i.default};t.default=n;(t.CatalogDetail=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('CatalogDetail')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/catalog/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Catalog")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Catalog=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/catalog/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Catalog",component:i.default};t.default=n;(t.Catalog=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Catalog')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/channel/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Channel")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Channel=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/channel/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Channel",component:i.default};t.default=n;(t.Channel=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Channel')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/character/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Character")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Character=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/character/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Character",component:i.default};t.default=n;(t.Character=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Character')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/dollars/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Dollars")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Dollars=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/dollars/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Dollars",component:i.default};t.default=n;(t.Dollars=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Dollars')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/game/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Game")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Game=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/game/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Game",component:i.default};t.default=n;(t.Game=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Game')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/hentai/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Hentai")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Hentai=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/hentai/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Hentai",component:i.default};t.default=n;(t.Hentai=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Hentai')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/index/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Discovery")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Discovery=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/index/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Discovery",component:i.default};t.default=n;(t.Discovery=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Discovery')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/manga/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Manga")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Manga=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/manga/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Manga",component:i.default};t.default=n;(t.Manga=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Manga')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/rank/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Rank")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Rank=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/rank/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Rank",component:i.default};t.default=n;(t.Rank=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Rank')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/recommend/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Recommend")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Recommend=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/recommend/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Recommend",component:i.default};t.default=n;(t.Recommend=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Recommend')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/search/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Search")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Search=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/search/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Search",component:i.default};t.default=n;(t.Search=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Search')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/series/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Series")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Series=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/series/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Series",component:i.default};t.default=n;(t.Series=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Series')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/staff/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Staff")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Staff=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/staff/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Staff",component:i.default};t.default=n;(t.Staff=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Staff')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/tags/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Tags")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Tags=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/tags/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Tags",component:i.default};t.default=n;(t.Tags=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Tags')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wenku/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Wenku")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wenku=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/wenku/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Wenku",component:i.default};t.default=n;(t.Wenku=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wenku')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/wiki/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Wiki")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wiki=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/wiki/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Wiki",component:i.default};t.default=n;(t.Wiki=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Wiki')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/discovery/yearbook/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Yearbook")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Yearbook=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/discovery/yearbook/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Yearbook",component:i.default};t.default=n;(t.Yearbook=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Yearbook')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/home/catalogs/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("SubjectCatalogs")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SubjectCatalogs=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/home/catalogs/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/SubjectCatalogs",component:i.default};t.default=n;(t.SubjectCatalogs=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('SubjectCatalogs')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/home/characters/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Characters")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Characters=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/home/characters/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Characters",component:i.default};t.default=n;(t.Characters=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Characters')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/home/episodes/index.stories.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");function r(){return(0,a.jsx)(o.StorybookSPA,{children:(0,a.jsx)(o.StorybookList,{children:(0,a.jsx)(i.default,Object.assign({},(0,o.getStorybookArgs)("Episodes")))})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Episodes=void 0,n(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=n(s("./src/screens/home/episodes/index.tsx")),a=s("./node_modules/react/jsx-runtime.js"),n={title:"screens/Episodes",component:i.default};t.default=n;(t.Episodes=r).parameters=Object.assign({storySource:{source:"() => (\n  <StorybookSPA>\n    <StorybookList>\n      <Component {...getStorybookArgs('Episodes')} />\n    </StorybookList>\n  </StorybookSPA>\n)"}},r.parameters)},"./src/screens/_/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(t,"__esModule",{value:!0});var r=s("./src/screens/_/base/index.ts"),n=(Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),s("./src/screens/_/icon/index.ts")),o=(Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),s("./src/screens/_/item/index.ts"));Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},"./src/screens/_/item/article/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/23/22/232224.jpg?r=1675082191&hd=1",title:"会觉的进击的巨人好看与不好看的分割线？",summary:"变身巨人是一次？马莱篇是一次？2000年的谜底是一次？感觉我就像艾伦一样知道墙外还存在其他人类就失望了，当然不同于艾伦的绝望感，而是作为观众失去了兴趣。",nickname:"みたいなっ",userId:"a10100wo",timestamp:1678214315,replies:10,url:"http://bgm.tv/blog/318750"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/72/47/724780.jpg?r=1662563435",title:"若是死后都能相见，你还会惧怕死亡吗？",summary:"开头即结尾，三笠的“行ってらっしゃい”真的是字字诛心。不过还是要挑刺、尽管3D画面做的很棒、但mappa还是一如既往的人物方面不如第一季的wit studio（尽管第二季开始走下坡路了，真的有个梦想就是wit按照第一季的功力做完整部巨人---那样的话无疑也是一部旷世 ...",nickname:"lamenter",userId:"724780",timestamp:1678119734,replies:0,url:"http://bgm.tv/blog/318712"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/76/46/764666.jpg?r=1675303293&hd=1",title:"好",nickname:"tisezy",userId:"764666",timestamp:1678107524,replies:0,url:"http://bgm.tv/subject/topic/24911"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/41/59/415905.jpg?r=1671763059&hd=1",title:"我想了两年没想明白",nickname:"蜡烛泽君",userId:"415905",timestamp:1678043105,replies:48,url:"http://bgm.tv/subject/topic/24904"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/61/30/613037.jpg?r=1673155267&hd=1",title:"你别说，还真有可能风评好转",nickname:"奔涌的沧浪",userId:"613037",timestamp:1677986600,replies:3,url:"http://bgm.tv/subject/topic/24898"},{style:{paddingLeft:16},avatar:"http://lain.bgm.tv/pic/user/s/000/50/84/508427.jpg?r=1590764581",title:"想问问，看到这里，还有纯动画党么",nickname:"Sh1Ki847",userId:"508427",timestamp:1677944346,replies:33,url:"http://bgm.tv/subject/topic/24890"}]},"./src/screens/_/item/article/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemArticle=void 0,Object.defineProperty(t,"ItemArticleProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),y=s("./src/utils/app/index.ts"),j=s("./src/utils/html/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/_/base/index.ts"),g=s("./src/screens/_/item/article/styles.ts"),n=s("./src/screens/_/item/article/types.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=new Date,h=String(s.getFullYear()).slice(2,4),s=(0,r.ob)(function(e){var t=e.navigation,s=e.style,r=e.avatar,n=e.title,o=e.summary,i=e.nickname,a=e.userId,d=e.timestamp,l=e.replies,c=e.url,e=e.event,u=void 0===e?_.EVENT:e,e=(0,g.memoStyles)(),d=(0,f.date)("y-m-d",d);return-1!==d.indexOf(h+"-")&&(d=d.replace(h+"-","")),(0,b.jsx)(m.Touchable,{style:s,animate:!0,onPress:function(){return(0,y.appNavigate)(c,t,{},u)},children:(0,b.jsxs)(m.Flex,{align:"start",children:[(0,b.jsx)(m.UserStatus,{userId:a,children:(0,b.jsx)(x.Avatar,{style:e.image,userId:a,name:i,src:r,event:u,navigation:t})}),(0,b.jsxs)(m.Flex.Item,{style:e.item,children:[(0,b.jsx)(m.Text,{bold:!0,children:(0,j.HTMLDecode)(n)}),(0,b.jsxs)(m.Flex,{style:p._.mt.xs,children:[(0,b.jsx)(x.Name,{userId:a,showFriend:!0,size:12,bold:!0,children:(0,j.HTMLDecode)(i)}),(0,b.jsxs)(m.Text,{type:"sub",style:p._.ml.xs,size:12,children:["/ ",d,l?" / +"+l:""]})]}),!!o&&(0,b.jsx)(m.Text,{style:p._.mt.sm,size:13,lineHeight:15,numberOfLines:3,children:(0,j.HTMLDecode)(o.replace(/\r\n\r\n/g,"\r\n"))})]})]})})});t.ItemArticle=s;try{s.displayName="ItemArticle",s.__docgenInfo={description:"",displayName:"ItemArticle",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!1,type:{name:"string"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},timestamp:{defaultValue:null,description:"",name:"timestamp",required:!1,type:{name:"string | number"}},replies:{defaultValue:null,description:"",name:"replies",required:!1,type:{name:"string | number"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/article/index.tsx#ItemArticle"]={docgenInfo:s.__docgenInfo,name:"ItemArticle",path:"src/screens/_/item/article/index.tsx#ItemArticle"})}catch(e){}},"./src/screens/_/item/article/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{image:{marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm}}});t.memoStyles=s},"./src/screens/_/item/article/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/bangumi-list/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{subjectId:323651,images:{large:"//lain.bgm.tv/pic/cover/l/4c/ee/323651_gE7eZ.jpg",common:"//lain.bgm.tv/pic/cover/c/4c/ee/323651_gE7eZ.jpg",medium:"//lain.bgm.tv/pic/cover/m/4c/ee/323651_gE7eZ.jpg",small:"//lain.bgm.tv/pic/cover/s/4c/ee/323651_gE7eZ.jpg",grid:"//lain.bgm.tv/pic/cover/g/4c/ee/323651_gE7eZ.jpg"},name:"熊熊勇闯异世界 Punch!"},{subjectId:378862,images:{large:"//lain.bgm.tv/pic/cover/l/7e/ca/378862_24TnR.jpg",common:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",medium:"//lain.bgm.tv/pic/cover/m/7e/ca/378862_24TnR.jpg",small:"//lain.bgm.tv/pic/cover/s/7e/ca/378862_24TnR.jpg",grid:"//lain.bgm.tv/pic/cover/g/7e/ca/378862_24TnR.jpg"},name:"别当欧尼酱了！"},{subjectId:395714,images:{large:"//lain.bgm.tv/pic/cover/l/fd/3c/395714_5EeZx.jpg",common:"//lain.bgm.tv/pic/cover/c/fd/3c/395714_5EeZx.jpg",medium:"//lain.bgm.tv/pic/cover/m/fd/3c/395714_5EeZx.jpg",small:"//lain.bgm.tv/pic/cover/s/fd/3c/395714_5EeZx.jpg",grid:"//lain.bgm.tv/pic/cover/g/fd/3c/395714_5EeZx.jpg"},name:"转生公主与天才千金的魔法革命"},{subjectId:302766,images:{large:"//lain.bgm.tv/pic/cover/l/a5/3c/302766_Vqzpu.jpg",common:"//lain.bgm.tv/pic/cover/c/a5/3c/302766_Vqzpu.jpg",medium:"//lain.bgm.tv/pic/cover/m/a5/3c/302766_Vqzpu.jpg",small:"//lain.bgm.tv/pic/cover/s/a5/3c/302766_Vqzpu.jpg",grid:"//lain.bgm.tv/pic/cover/g/a5/3c/302766_Vqzpu.jpg"},name:"因为太怕痛就全点防御力了。2"},{subjectId:320839,images:{large:"//lain.bgm.tv/pic/cover/l/44/09/320839_3sL1e.jpg",common:"//lain.bgm.tv/pic/cover/c/44/09/320839_3sL1e.jpg",medium:"//lain.bgm.tv/pic/cover/m/44/09/320839_3sL1e.jpg",small:"//lain.bgm.tv/pic/cover/s/44/09/320839_3sL1e.jpg",grid:"//lain.bgm.tv/pic/cover/g/44/09/320839_3sL1e.jpg"},name:"虚构推理 第二季"},{subjectId:349317,images:{large:"//lain.bgm.tv/pic/cover/l/46/88/349317_JKzh6.jpg",common:"//lain.bgm.tv/pic/cover/c/46/88/349317_JKzh6.jpg",medium:"//lain.bgm.tv/pic/cover/m/46/88/349317_JKzh6.jpg",small:"//lain.bgm.tv/pic/cover/s/46/88/349317_JKzh6.jpg",grid:"//lain.bgm.tv/pic/cover/g/46/88/349317_JKzh6.jpg"},name:"新人炼金术师的店铺经营"},{subjectId:329906,images:{large:"//lain.bgm.tv/pic/cover/l/de/4a/329906_hmtVD.jpg",common:"//lain.bgm.tv/pic/cover/c/de/4a/329906_hmtVD.jpg",medium:"//lain.bgm.tv/pic/cover/m/de/4a/329906_hmtVD.jpg",small:"//lain.bgm.tv/pic/cover/s/de/4a/329906_hmtVD.jpg",grid:"//lain.bgm.tv/pic/cover/g/de/4a/329906_hmtVD.jpg"},name:"间谍过家家"},{subjectId:328609,images:{large:"//lain.bgm.tv/pic/cover/l/e2/e7/328609_2EHLJ.jpg",common:"//lain.bgm.tv/pic/cover/c/e2/e7/328609_2EHLJ.jpg",medium:"//lain.bgm.tv/pic/cover/m/e2/e7/328609_2EHLJ.jpg",small:"//lain.bgm.tv/pic/cover/s/e2/e7/328609_2EHLJ.jpg",grid:"//lain.bgm.tv/pic/cover/g/e2/e7/328609_2EHLJ.jpg"},name:"孤独摇滚！"},{subjectId:331445,images:{large:"//lain.bgm.tv/pic/cover/l/ba/28/331445_cUsfp.jpg",common:"//lain.bgm.tv/pic/cover/c/ba/28/331445_cUsfp.jpg",medium:"//lain.bgm.tv/pic/cover/m/ba/28/331445_cUsfp.jpg",small:"//lain.bgm.tv/pic/cover/s/ba/28/331445_cUsfp.jpg",grid:"//lain.bgm.tv/pic/cover/g/ba/28/331445_cUsfp.jpg"},name:"少女手工"},{subjectId:385541,images:{large:"//lain.bgm.tv/pic/cover/l/63/c9/385541_Q3dp6.jpg",common:"//lain.bgm.tv/pic/cover/c/63/c9/385541_Q3dp6.jpg",medium:"//lain.bgm.tv/pic/cover/m/63/c9/385541_Q3dp6.jpg",small:"//lain.bgm.tv/pic/cover/s/63/c9/385541_Q3dp6.jpg",grid:"//lain.bgm.tv/pic/cover/g/63/c9/385541_Q3dp6.jpg"},name:"PUI PUI 天竺鼠车车 驾校篇"},{subjectId:290980,images:{large:"//lain.bgm.tv/pic/cover/l/64/5a/290980_Jju6q.jpg",common:"//lain.bgm.tv/pic/cover/c/64/5a/290980_Jju6q.jpg",medium:"//lain.bgm.tv/pic/cover/m/64/5a/290980_Jju6q.jpg",small:"//lain.bgm.tv/pic/cover/s/64/5a/290980_Jju6q.jpg",grid:"//lain.bgm.tv/pic/cover/g/64/5a/290980_Jju6q.jpg"},name:"向山进发 Next Summit"},{subjectId:351712,images:{large:"//lain.bgm.tv/pic/cover/l/62/53/351712_8QlFI.jpg",common:"//lain.bgm.tv/pic/cover/c/62/53/351712_8QlFI.jpg",medium:"//lain.bgm.tv/pic/cover/m/62/53/351712_8QlFI.jpg",small:"//lain.bgm.tv/pic/cover/s/62/53/351712_8QlFI.jpg",grid:"//lain.bgm.tv/pic/cover/g/62/53/351712_8QlFI.jpg"},name:"名侦探柯南 犯人犯泽先生"},{subjectId:339326,images:{large:"//lain.bgm.tv/pic/cover/l/1a/75/339326_v466V.jpg",common:"//lain.bgm.tv/pic/cover/c/1a/75/339326_v466V.jpg",medium:"//lain.bgm.tv/pic/cover/m/1a/75/339326_v466V.jpg",small:"//lain.bgm.tv/pic/cover/s/1a/75/339326_v466V.jpg",grid:"//lain.bgm.tv/pic/cover/g/1a/75/339326_v466V.jpg"},name:"异世界舅舅"},{subjectId:349084,images:{large:"//lain.bgm.tv/pic/cover/l/df/b7/349084_N5Zvo.jpg",common:"//lain.bgm.tv/pic/cover/c/df/b7/349084_N5Zvo.jpg",medium:"//lain.bgm.tv/pic/cover/m/df/b7/349084_N5Zvo.jpg",small:"//lain.bgm.tv/pic/cover/s/df/b7/349084_N5Zvo.jpg",grid:"//lain.bgm.tv/pic/cover/g/df/b7/349084_N5Zvo.jpg"},name:"影宅 2nd Season"},{subjectId:333664,images:{large:"//lain.bgm.tv/pic/cover/l/41/49/333664_d4Py9.jpg",common:"//lain.bgm.tv/pic/cover/c/41/49/333664_d4Py9.jpg",medium:"//lain.bgm.tv/pic/cover/m/41/49/333664_d4Py9.jpg",small:"//lain.bgm.tv/pic/cover/s/41/49/333664_d4Py9.jpg",grid:"//lain.bgm.tv/pic/cover/g/41/49/333664_d4Py9.jpg"},name:"相合之物"}]},"./src/screens/_/item/bangumi-list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.small.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemBangumiList=void 0,Object.defineProperty(t,"ItemBangumiListProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),m=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/_/base/index.ts"),y=s("./src/screens/_/item/bangumi-list/styles.ts"),n=s("./src/screens/_/item/bangumi-list/types.ts"),j=s("./node_modules/react/jsx-runtime.js"),s=(0,r.ob)(function(e){var s=e.navigation,t=e.style,r=e.subjectId,n=e.images,o=void 0===n?{}:n,i=e.name,n=e.event,a=void 0===n?p.EVENT:n,e=(0,y.memoStyles)();return(0,j.jsx)(d.default,{style:(0,u.stl)(e.item,t),children:(0,j.jsxs)(l.Touchable,{animate:!0,scale:.9,onPress:function(){var e=a.id,t=a.data;(0,m.t)(e,Object.assign({to:"Subject",subjectId:r},void 0===t?{}:t)),s.push("Subject",{subjectId:r,_cn:i,_image:o.small})},children:[(0,j.jsx)(f.Cover,{size:e.item.width,src:o.small,radius:!0,shadow:!0}),(0,j.jsx)(l.Text,{style:c._.mt.sm,size:11,numberOfLines:2,bold:!0,children:(0,u.HTMLDecode)(i)})]})})});t.ItemBangumiList=s;try{s.displayName="ItemBangumiList",s.__docgenInfo={description:"",displayName:"ItemBangumiList",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},images:{defaultValue:null,description:"",name:"images",required:!1,type:{name:"Images"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/bangumi-list/index.tsx#ItemBangumiList"]={docgenInfo:s.__docgenInfo,name:"ItemBangumiList",path:"src/screens/_/item/bangumi-list/index.tsx#ItemBangumiList"})}catch(e){}},"./src/screens/_/item/bangumi-list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.portrait(5,7),e=r._.grid(e),t=e.width,e=e.marginLeft;return{item:{width:t,marginBottom:r._.portrait(r._.sm,r._.md),marginLeft:e}}});t.memoStyles=s},"./src/screens/_/item/bangumi-list/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/blog/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319726",cover:"//lain.bgm.tv/pic/user/l/000/53/46/534642.jpg?r=1672395278&hd=1",title:"性转和权力",content:"你的名字。中，泷借着三叶的身体展现男子力。\n而举例来说，Onimai 之中得到了女性身体的真 ...",username:"だるくvan",time:"1小时23分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319724",cover:"//lain.bgm.tv/pic/user/l/000/53/46/534642.jpg?r=1672395278&hd=1",title:"口音",content:"Suzume 的口音好难听。要么是口音本身难听，要么是声优做得不到位\n还是三叶的口音好听，像 ...",username:"だるくvan",time:"1小时47分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319723",cover:"//lain.bgm.tv/pic/cover/s/7c/ce/1048_3JCz0.jpg",title:"...",content:"你不如去鲨了我 (+0)...",username:"荒荒子",subject:"君が望む永遠",time:"4小时30分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319722",cover:"//lain.bgm.tv/pic/cover/s/d9/03/362577_Ku9z8.jpg",title:"恭祝诚哥再创新高",content:"铃芽之旅超过你的名字，创国内引进日影票房记录 (+1)...",username:"古道边",subject:"すずめの戸締まり",time:"5小时42分钟前",replies:"+1",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319717",cover:"//lain.bgm.tv/pic/cover/s/9e/4b/402223_xN4rh.jpg",title:"期待第四季OVA",content:"我要看精灵小姐涩涩！ (+0)...",username:"沧水",subject:"ダンジョンに出会いを求めるのは間違っているだろうか Ⅳ 深章 厄災編",time:"8小时30分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319715",cover:"//lain.bgm.tv/pic/cover/s/c9/1b/407713_jHaH4.jpg",title:"2023年还整这一出",content:"属于是吃二手答辩都吃不到热的，看看隔壁打A看管人脑子坏掉的赤坂是如何做的 ...",username:"逆天酱",subject:"絆のアリル",time:"9小时42分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319714",cover:"//lain.bgm.tv/pic/photo/l/a4/b0/517386_yE3Du.jpg",title:"SaGa Frontier 1：相隔十年又通了一条线",content:"2021年通关第六个游戏 Saga Frontier1（2021年7月31日）\nSF1我在2001年的时候曾经用PSP ...",username:"银河煤煤",time:"10小时2分钟前",replies:"+0",tags:[]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"319712",cover:"//lain.bgm.tv/pic/photo/l/d8/d5/603159_88wT8.jpg",title:"林一蹴的动画日记VOL.10 《すずめの戸締まり》",content:"坦白的说，我认为本片是新海诚最没有想法的一部作品。在铃芽之旅当中你能看到新海诚的大 ...",username:"林一蹴",time:"10小时7分钟前",replies:"+1",tags:[]}]},"./src/screens/_/item/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemBlog=void 0,Object.defineProperty(t,"ItemBlogProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./src/components/index.ts"),_=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),g=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/_/base/index.ts"),v=s("./src/screens/_/item/blog/styles.ts"),n=s("./src/screens/_/item/blog/types.ts"),S=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.style,r=e.id,n=e.cover,o=e.title,i=e.content,a=e.username,d=e.subject,l=e.time,c=e.replies,u=e.tags,u=void 0===u?[]:u,e=e.event,m=void 0===e?b.EVENT:e,p=t.navigation,e=(0,v.memoStyles)(),t=_.discoveryStore.blogReaded(r),f=[];return a&&f.push(a),d&&f.push((0,x.findSubjectCn)(d,r)),l&&f.push(l),(0,S.jsx)(j.Touchable,{style:(0,x.stl)(e.container,s,t&&e.readed),animate:!0,onPress:function(){var e=m.id,t=m.data;(0,g.t)(e,Object.assign({to:"Blog",blogId:r},t)),_.discoveryStore.updateBlogReaded(r),p.push("Blog",{blogId:r,_title:o})},children:(0,S.jsxs)(j.Flex,{align:"start",style:e.wrap,children:[!!n&&(0,S.jsx)(y.default,{style:e.imgContainer,children:(0,S.jsx)(h.Cover,{src:n,width:b.IMG_WIDTH_SM,height:b.IMG_HEIGHT_SM,radius:!0,shadow:!0})}),(0,S.jsxs)(j.Flex.Item,{children:[(0,S.jsxs)(j.Text,{size:15,numberOfLines:2,bold:!0,children:[(0,x.HTMLDecode)(o),"+0"!==c&&(0,S.jsxs)(j.Text,{size:12,type:"main",lineHeight:15,bold:!0,children:["  ",c]})]}),!!f.length&&(0,S.jsx)(y.default,{style:_._.mt.xs,children:(0,S.jsx)(j.Katakana.Provider,{size:11,bold:!0,children:(0,S.jsx)(j.Katakana,{type:"sub",size:11,bold:!0,children:f.join(" · ")})})}),(0,S.jsx)(j.Text,{style:_._.mt.sm,size:13,lineHeight:15,numberOfLines:4,children:(0,x.HTMLDecode)(i)}),!!u.length&&(0,S.jsxs)(j.Flex,{style:_._.mt.sm,children:[(0,S.jsx)(j.Flex.Item,{}),(0,S.jsxs)(j.Text,{style:e.tags,size:13,children:["tags: ","string"==typeof u?u:u.join(" ")]})]})]})]})})});t.ItemBlog=s},"./src/screens/_/item/blog/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},readed:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)},imgContainer:{width:n.IMG_WIDTH_SM,marginRight:r._._wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},tags:{padding:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:r._.select(r._.hairlineWidth,0),borderColor:r._.colorBorder,borderRadius:r._.radiusXs,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/_/item/blog/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/catalog/covers/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/_/base/index.ts"),a=s("./src/screens/_/item/catalog/ds.ts"),d=s("./src/screens/_/item/catalog/covers/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.list,e=void 0===(e=e.total)?0:e,s=(0,d.memoStyles)();return(0,l.jsxs)(n.default,{style:s.catalog,children:[(0,l.jsx)(n.default,{style:[s.catalogLine,s.catalogLevel2,{width:a.CATALOG_WIDTH,height:a.CATALOG_WIDTH-15}]}),(0,l.jsx)(n.default,{style:[s.catalogLine,s.catalogLevel1,{width:a.CATALOG_WIDTH,height:a.CATALOG_WIDTH-7}]}),(0,l.jsxs)(o.Flex,{style:s.thumbs,wrap:"wrap",children:[t.filter(function(e,t){return t<3}).map(function(e){return(0,l.jsx)(i.Cover,{size:a.WIDTH,src:e.image,placeholder:!1},e.id)}),!!t.length&&(0,l.jsx)(o.Flex,{style:s.num,justify:"center",align:"center",children:(0,l.jsxs)(o.Text,{size:13,bold:!0,children:["+",e||t.length]})})]})]})});t.default=s;try{covers.displayName="covers",covers.__docgenInfo={description:"",displayName:"covers",props:{list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"any"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/catalog/covers/index.tsx#covers"]={docgenInfo:covers.__docgenInfo,name:"covers",path:"src/screens/_/item/catalog/covers/index.tsx#covers"})}catch(e){}},"./src/screens/_/item/catalog/covers/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/catalog/ds.ts"),s=r._.memoStyles(function(){return{catalog:{width:n.CATALOG_WIDTH,height:n.CATALOG_WIDTH},num:{width:n.WIDTH,height:n.WIDTH},catalogLine:{position:"absolute",right:0,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:1,borderRadius:2,borderColor:r._.colorBorder},catalogLevel1:{zIndex:2,top:4,marginRight:-7},catalogLevel2:{zIndex:1,top:8,marginRight:-12},thumbs:{position:"absolute",zIndex:3,top:0,left:0,width:n.CATALOG_WIDTH+2,height:n.CATALOG_WIDTH+2,backgroundColor:r._.select(r._.colorPlain,r._.colorBg),borderWidth:1,borderColor:r._.colorBorder,borderRadius:3,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/_/item/catalog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WIDTH=t.CATALOG_WIDTH=t.AVATAR_WIDTH=void 0;var s=s("./src/stores/index.ts"),r=Math.floor(Math.min(s._.window.contentWidth/4,s._.r(72))),r=2*(t.WIDTH=r),r=(t.CATALOG_WIDTH=r,s._.r(28));t.AVATAR_WIDTH=r},"./src/screens/_/item/catalog/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{name:"优莉雅",title:"2023年4月（共54部）",time:"创建于:2023-4-4 14:00",isUser:!0,hideScore:!1,detail:{list:[{id:"422505",image:"//lain.bgm.tv/pic/cover/c/e6/64/422505_M6ePf.jpg",title:"ちびゴジラの逆襲",type:"动画",info:"2023年4月1日 / 新海岳人 / 坂崎千春",comment:"小哥斯拉的逆袭",order:"0"},{id:"394784",image:"//lain.bgm.tv/pic/cover/c/41/c3/394784_6Zqee.jpg",title:"MIX MEISEI STORY 2ND SEASON ～二度目の夏、空の向こうへ～",type:"动画",info:"2023年4月1日 / 神谷智大 / あだち充「MIX」（小学館「ゲッサン」連載中） / 牧孝雄",comment:"MIX：明青故事 第二季 ～第二次的夏天，向着天空的另一方～",order:"0"},{id:"404804",image:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",title:"天国大魔境",type:"动画",info:"2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛",comment:"天国大魔境",isCollect:!0,order:"0"},{id:"325808",image:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_UUcCc.jpg",title:"地獄楽",type:"动画",info:"2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣",comment:"地狱乐",order:"0"}],title:"2023年4月（共54部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"0/54",nickname:"优莉雅",userId:"lilyurey",time:"2023-4-4 14:00",collect:"5",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/44079/collect?gh=7a301ee1",byeUrl:"",_loaded:1680641119}},{name:"优莉雅",title:"2023年1月（共59部）",time:"创建于:2023-1-9 16:06",isUser:!0,hideScore:!1,detail:{list:[{id:"395782",image:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",title:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",type:"动画",info:"2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭",comment:"JOJO的奇妙冒险 石之海 Part.3 | B站",order:"0"},{id:"405990",image:"//lain.bgm.tv/pic/cover/c/03/55/405990_R99SD.jpg",title:"LUPIN ZERO ルパンゼロ",type:"动画",info:"2022年12月16日 / 酒向大輔 / モンキー・パンチ / 田口麻美；副人物设定：末永宏一",comment:"鲁邦 零",order:"0"},{id:"402740",image:"//lain.bgm.tv/pic/cover/c/77/29/402740_E164d.jpg",title:"極主夫道 シーズン2",type:"动画",info:"2023年1月1日 / 今千秋 / おおのこうすけ『極主夫道』（新潮社「くらげバンチ」連載）",comment:"极主夫道 第二季",order:"0"},{id:"395714",image:"//lain.bgm.tv/pic/cover/c/fd/3c/395714_5EeZx.jpg",title:"転生王女と天才令嬢の魔法革命",type:"动画",info:"2023年1月4日 / 玉木慎吾 / 鴉ぴえろ「転生王女と天才令嬢の魔法革命」(ファンタジア文庫刊) / 井出直美；副人物设定：前田恭佑",comment:"转生公主与天才千金的魔法革命",isCollect:!0,order:"0"}],title:"2023年1月（共59部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"1/59",nickname:"优莉雅",userId:"lilyurey",time:"2023-1-9 16:06",collect:"28",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:2,joinUrl:"/index/42153/collect?gh=7a301ee1",byeUrl:"",_loaded:1680639822}},{name:"优莉雅",title:"2022年10月（共56部）",time:"创建于:2022-10-8 16:31",isUser:!0,hideScore:!1,detail:{list:[{id:"375913",image:"//lain.bgm.tv/pic/cover/c/84/a6/375913_ApBCz.jpg",title:"ジョジョの奇妙な冒険 ストーンオーシャン 第2クール",type:"动画",info:"2022年10月7日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭",comment:"JOJO的奇妙冒险 石之海 Part.2 | B站",order:"0"},{id:"396443",image:"//lain.bgm.tv/pic/cover/c/17/73/396443_l164w.jpg",title:"デュエル・マスターズWIN",type:"动画",info:"2022年9月4日 / 鈴木裕輔 / 越貴文",comment:"决斗大师WIN",order:"0"},{id:"309311",image:"//lain.bgm.tv/pic/cover/c/39/83/309311_dJU58.jpg",title:"Cyberpunk: Edgerunners",type:"动画",info:"2022年9月13日 / 今石洋之 / CD Projekt ( Cyberpunk 2077, set in a universe created by Mike Pondsmith) / 吉成曜、（副人物设定）金子雄人、芳垣祐介",comment:"赛博朋克：边缘行者",order:"0"},{id:"345980",image:"//lain.bgm.tv/pic/cover/c/39/06/345980_zE5aQ.jpg",title:"四畳半タイムマシンブルース",type:"动画",info:"2022年9月14日 / 夏目真悟 / 「四畳半タイムマシンブルース」森見登美彦著、上田誠原案（KADOKAWA刊） / 伊東伸高、西垣庄子",comment:"四叠半时光机布鲁斯 | B站",order:"0"}],title:"2022年10月（共56部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"0/56",nickname:"优莉雅",userId:"lilyurey",time:"2022-10-8 16:31",collect:"35",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/40793/collect?gh=7a301ee1",byeUrl:"",_loaded:1680641130}},{name:"优莉雅",title:"2022年7月（共47部）",time:"创建于:2022-7-6 14:30",isUser:!0,hideScore:!1,detail:{list:[{id:"277037",image:"//lain.bgm.tv/pic/cover/c/29/be/277037_hJt5Z.jpg",title:"スプリガン",type:"动画",info:"2022年6月18日 / 小林寛 / たかしげ宙、皆川亮二「スプリガン」（小学館「少年サンデーコミックス」刊） / 半田修平、副人物设定：内藤直",comment:"遗迹守护者",order:"0"},{id:"315745",image:"//lain.bgm.tv/pic/cover/c/a6/f0/315745_n981m.jpg",title:"彼女、お借りします 第2期",type:"动画",info:"2022年7月1日 / 古賀一臣 / 宮島礼吏（講談社「週刊少年マガジン」連載） / 平山寛菜",comment:"租借女友 第二季",isCollect:!0,order:"0"},{id:"359985",image:"//lain.bgm.tv/pic/cover/c/88/ce/359985_wI8c7.jpg",title:"神クズ☆アイドル",type:"动画",info:"2022年7月1日 / 福岡大生 / いそふらぼん肘樹（月刊Comic ZERO-SUM/一迅社 刊） / 細田沙織",comment:"神渣☆偶像",order:"0"},{id:"381157",image:"//lain.bgm.tv/pic/cover/c/9d/f2/381157_zsZRs.jpg",title:"iiiあいすくりん2",type:"动画",info:"2022年7月2日 / 松村樹里亜 / シンエイ動画",comment:"冰冰冰淇淋君 第二季",order:"0"}],title:"2022年7月（共47部）",avatar:"//lain.bgm.tv/pic/user/l/000/00/79/7932.jpg?r=1369489635",progress:"2/47",nickname:"优莉雅",userId:"lilyurey",time:"2022-7-6 14:30",collect:"22",content:"不含TVSP，不含OVA/OAD，不含国产动画",replyCount:0,joinUrl:"/index/39516/collect?gh=7a301ee1",byeUrl:"",_loaded:1680639827}}]},"./src/screens/_/item/catalog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),v=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCatalog=void 0,Object.defineProperty(t,"ItemCatalogProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),S=s("./src/components/index.ts"),O=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),I=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),C=s("./src/constants/index.ts"),w=s("./src/screens/_/base/index.ts"),k=r(s("./src/screens/_/item/catalog/covers/index.tsx")),E=s("./src/screens/_/item/catalog/ds.ts"),R=s("./src/screens/_/item/catalog/styles.ts"),o=s("./src/screens/_/item/catalog/types.ts"),A=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s,r=e.event,n=void 0===r?C.EVENT:r,r=e.index,o=e.id,i=e.name,a=e.userName,d=e.title,l=e.info,c=e.book,u=e.anime,m=e.music,p=e.game,f=e.real,y=e.time,j=e.last,_=e.isUser,x=e.hideScore,g=void 0!==x&&x,x=e.filter,b=e.detail,e=e.children,h=t.navigation;return _||c||u||m||p||f?(t=(0,R.memoStyles)(),_=b||O.discoveryStore.catalogDetail(o),c=O.discoveryStore.catalogDetailFromOSS(o),p=(m=u=!_._loaded&&c._loaded?c:_).list,f=m.collect,b=m.content,_=m.avatar,s=m.userId,m=m.time,_=_||(null==u?void 0:u.avatar),s=s||(null==u?void 0:u.userId),i=(0,T.HTMLDecode)(i||a||(null==u?void 0:u.nickname)),a=f||(null==u?void 0:u.collect),f=(0,T.HTMLDecode)(d||(null==u?void 0:u.title)),"undefined"===(d=(0,T.HTMLDecode)((0,T.removeHTMLTag)(l||b||(null==u?void 0:u.desc)||(null==c?void 0:c.info),!1)).replace(/\n/g," "))&&(d=""),l="",j?l="创建于 "+j:y&&!y.includes("创建于")?l="最后更新 "+(0,T.lastDate)((0,T.getTimestamp)(y)):m&&(l="创建于 "+(null==(b=(0,T.lastDate)((0,T.getTimestamp)(m)))?void 0:b.slice(0,10))),(0,A.jsxs)(S.Touchable,{style:t.container,animate:!0,onPress:function(){var e=n.id,t=n.data;(0,I.t)(e,Object.assign({to:"CatalogDetail",catalogId:o},t)),h.push("CatalogDetail",{catalogId:o,_hideScore:g})},children:[(0,A.jsxs)(S.Flex,{style:t.wrap,align:"start",children:[(0,A.jsx)(w.InView,{style:t.inView,y:176*r+1,children:(0,A.jsx)(k.default,{list:p,total:null==c?void 0:c.total})}),(0,A.jsx)(S.Flex.Item,{children:(0,A.jsxs)(S.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,A.jsxs)(v.default,{children:[(0,A.jsx)(S.Highlight,{bold:!0,numberOfLines:3,value:x,t2s:!1,children:f}),!!d&&d!==f&&(0,A.jsx)(S.Text,{style:O._.mt.sm,size:11,numberOfLines:a?2:3,children:d}),!!a&&(0,A.jsxs)(S.Text,{style:O._.mt.xs,size:10,lineHeight:14,type:"sub",bold:!0,children:[a," 人收藏"]})]}),(0,A.jsxs)(S.Flex,{style:O._.mt.md,children:[(0,A.jsx)(v.default,{style:O._.mr.sm,children:(0,A.jsx)(S.UserStatus,{userId:s,children:(0,A.jsx)(w.Avatar,{navigation:h,size:E.AVATAR_WIDTH,userId:s,name:i,src:_,event:n},_)})}),(0,A.jsxs)(S.Flex.Item,{children:[!!i&&(0,A.jsx)(S.Text,{style:O._.mb.xxs,size:12,bold:!0,numberOfLines:1,children:i}),!!l&&(0,A.jsx)(S.Text,{size:10,type:"sub",children:l})]})]})]})})]}),e]})):null});t.ItemCatalog=r},"./src/screens/_/item/catalog/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/catalog/ds.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:n.CATALOG_WIDTH,minHeight:n.CATALOG_WIDTH},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:n.CATALOG_WIDTH,paddingVertical:r._.xs,paddingLeft:r._.r(24)}}});t.memoStyles=s},"./src/screens/_/item/catalog/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/character/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.IMG_WIDTH=void 0;s=s("./src/stores/index.ts")._.r(56);t.IMG_WIDTH=s},"./src/screens/_/item/character/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{type:"character",id:"64638",cover:"//lain.bgm.tv/pic/crt/g/94/bd/64638_crt_9yPuK.jpg",name:"グリッドマン",nameCn:"古立特",replies:"+19",info:"性别 男",actors:[{id:"3967",cover:"//lain.bgm.tv/pic/crt/s/ad/f7/3967_prsn_XC09F.jpg",name:"绿川光",nameCn:"緑川光"}],positions:[],position:"主角"},{type:"character",id:"64636",cover:"//lain.bgm.tv/pic/crt/g/87/b3/64636_crt_p2pPp.jpg",name:"響裕太",nameCn:"响裕太",replies:"+44",info:"性别 男 / 生日 2003年1月8日 / 血型 AB型 / 身高 160cm / 体重 52kg",actors:[{id:"20006",cover:"//lain.bgm.tv/pic/crt/s/6b/48/20006_prsn_tAC0E.jpg",name:"广濑裕也",nameCn:"広瀬裕也"}],positions:[],position:"主角"},{type:"character",id:"64639",cover:"//lain.bgm.tv/pic/crt/g/4b/84/64639_crt_LQ53Z.jpg",name:"内海将",nameCn:"内海将",replies:"+39",info:"性别 男 / 生日 2002年12月1日 / 血型 O型 / 身高 176cm / 体重 78kg",actors:[{id:"14604",cover:"//lain.bgm.tv/pic/crt/s/8c/e3/14604_prsn_kRPr7.jpg",name:"齐藤壮马",nameCn:"斉藤壮馬"}],positions:[],position:"主角"},{type:"character",id:"64640",cover:"//lain.bgm.tv/pic/crt/g/dd/be/64640_crt_R6tf5.jpg",name:"宝多六花",nameCn:"宝多六花",replies:"+185",info:"性别 女 / 生日 2002年12月5日 / 血型 O型 / 身高 155cm",actors:[{id:"5494",cover:"//lain.bgm.tv/pic/crt/s/50/20/5494_prsn_c9upP.jpg",name:"宫本侑芽",nameCn:"宮本侑芽"}],positions:[],position:"主角"},{type:"character",id:"88133",cover:"//lain.bgm.tv/pic/crt/g/e2/8f/88133_crt_1einY.jpg",name:"麻中蓬",nameCn:"麻中蓬",replies:"+63",info:"性别 男",actors:[{id:"16353",cover:"//lain.bgm.tv/pic/crt/s/d0/70/16353_prsn_O8uZj.jpg",name:"榎木淳弥",nameCn:"榎木淳弥"}],positions:[],position:"主角"},{type:"character",id:"88130",cover:"//lain.bgm.tv/pic/crt/g/55/1d/88130_crt_37H11.jpg",name:"南夢芽",nameCn:"南梦芽",replies:"+94",info:"性别 女",actors:[{id:"34866",cover:"//lain.bgm.tv/pic/crt/s/87/b9/34866_prsn_N4fr2.jpg",name:"若山诗音",nameCn:"若山詩音"}],positions:[],position:"主角"},{type:"character",id:"88134",cover:"//lain.bgm.tv/pic/crt/g/cb/50/88134_crt_Xp0MK.jpg",name:"山中暦",nameCn:"山中历",replies:"+17",info:"性别 男",actors:[{id:"15592",cover:"//lain.bgm.tv/pic/crt/s/66/57/15592_prsn_u1o76.jpg",name:"梅原裕一郎",nameCn:"梅原裕一郎"}],positions:[],position:"主角"},{type:"character",id:"88132",cover:"//lain.bgm.tv/pic/crt/g/50/0f/88132_crt_xxXkB.jpg",name:"飛鳥川ちせ",nameCn:"飞鸟川千濑",replies:"+42",info:"性别 女",actors:[{id:"11485",cover:"//lain.bgm.tv/pic/crt/s/e9/02/11485_prsn_2UXX0.jpg",name:"安济知佳",nameCn:"安済知佳"}],positions:[],position:"主角"}]},"./src/screens/_/item/character/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCharacter=void 0,Object.defineProperty(t,"ItemCharacterProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),v=s("./src/stores/index.ts"),S=s("./src/utils/html/index.ts"),O=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),T=s("./src/constants/index.ts"),I=s("./src/screens/_/base/index.ts"),C=s("./src/screens/_/item/character/ds.ts"),w=s("./src/screens/_/item/character/styles.ts"),n=s("./src/screens/_/item/character/types.ts"),k=s("./src/utils/index.ts"),E=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){function s(){var e=String(a).includes(i)?a:i+"/"+a;(0,O.t)(n.id,{to:"Mono",monoId:e}),y.push("Mono",{monoId:e,_name:_,_jp:x,_image:d})}var r=e.event,n=void 0===r?T.EVENT:r,r=e.index,o=e.type,i=void 0===o?"character":o,a=e.id,d=e.cover,o=e.name,l=e.nameCn,c=e.replies,u=e.info,m=e.actors,m=void 0===m?[]:m,p=e.positions,p=void 0===p?[]:p,f=e.position,e=e.children,y=t.navigation,j=(0,w.memoStyles)(),_=(0,S.HTMLDecode)((0,k.cnjp)(l,o)).trim(),x=(0,S.HTMLDecode)((0,k.cnjp)(o,l)).trim(),t=p.length?p:[f],g=158*r+1;return(0,E.jsxs)(b.default,{style:j.container,children:[(0,E.jsxs)(h.Flex,{style:j.wrap,align:"start",children:[(0,E.jsx)(I.InView,{style:j.inViewCover,y:g,children:!!d&&(0,E.jsx)(h.Touchable,{animate:!0,scale:.9,onPress:s,children:(0,E.jsx)(I.Cover,{src:d,width:C.IMG_WIDTH,height:C.IMG_WIDTH,radius:!0,shadow:!0})})}),(0,E.jsxs)(h.Flex.Item,{style:v._.ml.wind,children:[(0,E.jsx)(h.Touchable,{style:j.touch,animate:!0,onPress:s,children:(0,E.jsx)(h.Flex,{direction:"column",justify:"between",align:"start",children:(0,E.jsxs)(b.default,{children:[(0,E.jsx)(h.Flex,{style:v._.container.block,align:"start",children:(0,E.jsx)(h.Flex.Item,{style:v._.mr.md,children:(0,E.jsxs)(h.Text,{size:15,numberOfLines:2,bold:!0,children:[_,!!x&&x!==_&&(0,E.jsxs)(h.Text,{type:"sub",size:11,lineHeight:15,bold:!0,children:[" ",x]}),!!c&&(0,E.jsxs)(h.Text,{type:"main",size:11,lineHeight:15,bold:!0,children:[" ",c.replace(/\(|\)/g,"")]})]})})}),(0,E.jsx)(h.Flex,{style:v._.mt.sm,wrap:"wrap",children:t.map(function(e){return(0,E.jsx)(I.Tag,{style:j.position,value:e},e)})}),!!u&&(0,E.jsx)(h.Text,{style:v._.mt.xs,size:12,children:(0,S.HTMLDecode)(u)})]})})}),(0,E.jsx)(h.Flex,{style:v._.mt.sm,wrap:"wrap",children:m.map(function(t){var e=(0,k.cnjp)(t.nameCn,t.name),s=(0,k.cnjp)(t.name,t.nameCn);return(0,E.jsx)(h.Touchable,{style:j.touchActor,animate:!0,onPress:function(){var e=String(t.id).includes("person")?t.id:"person/"+t.id;(0,O.t)(n.id,{to:"Mono",monoId:e}),y.push("Mono",{monoId:e})},children:(0,E.jsxs)(h.Flex,{children:[(0,E.jsx)(I.InView,{style:j.inViewAvatar,y:g,children:(0,E.jsx)(I.Cover,{src:t.cover,size:v._.r(32),radius:!0,shadow:!0})}),(0,E.jsxs)(h.Flex.Item,{style:v._.ml.sm,children:[(0,E.jsx)(h.Text,{size:12,numberOfLines:1,bold:!0,lineHeight:13,children:e}),!!s&&s!==e&&(0,E.jsx)(h.Text,{size:11,type:"sub",numberOfLines:1,children:s})]})]})},t.id)})})]})]}),e]})});t.ItemCharacter=s},"./src/screens/_/item/character/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/character/ds.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inViewCover:{minWidth:n.IMG_WIDTH,minHeight:n.IMG_WIDTH},inViewAvatar:{minWidth:r._.r(32),minHeight:r._.r(32)},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},touch:{paddingLeft:r._.xs,marginLeft:-r._.xs,borderRadius:r._.radiusSm,overflow:"hidden"},touchActor:{minWidth:128,marginTop:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"},position:{marginTop:r._.sm,marginRight:r._.sm}}});t.memoStyles=s},"./src/screens/_/item/character/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/collections-grid/collection/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t,s,r,n=e.collection,o=e.typeCn,e=e.airtime;return n||e?(s="icon",r=13,n.includes("过")?(t="md-check",s="warning",r=14):n.includes("在")?(t="ios-star",s="primary"):n.includes("想")?(t="md-favorite",s="main",r=12):n.includes("搁置")?(t="md-visibility-off",s="desc"):n.includes("抛弃")?(t="md-delete-outline",s="desc"):t="ios-star-outline",n=n,"音乐"===o&&(n=n.replace("看","听")),"书籍"===o&&(n=n.replace("看","读")),"游戏"===o&&(n=n.replace("看","玩")),(0,l.jsxs)(i.Flex,{style:a._.mt.xs,justify:"center",children:[!!n&&(0,l.jsx)(i.Iconfont,{style:a._.mr.xs,name:t,size:r,color:a._["color"+(0,d.titleCase)(s)]}),(0,l.jsxs)(i.Text,{size:11,lineHeight:13,type:"sub",bold:!0,align:"center",children:[(0,l.jsx)(i.Text,{size:11,lineHeight:13,type:s,bold:!0,children:n}),!!n&&!!e&&" · ",e]})]})):null});t.default=s;try{collection.displayName="collection",collection.__docgenInfo={description:"",displayName:"collection",props:{collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"any"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"any"}},airtime:{defaultValue:null,description:"",name:"airtime",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections-grid/collection/index.tsx#collection"]={docgenInfo:collection.__docgenInfo,name:"collection",path:"src/screens/_/item/collections-grid/collection/index.tsx#collection"})}catch(e){}},"./src/screens/_/item/collections-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),r={top:r._.device(2,4),right:r._.device(4,4),bottom:r._.device(10,4),left:r._.device(4,4)},r=(t.HIT_SLOP=r,{navigation:{},style:{},gridStyles:{},id:0,name:"",nameCn:"",sub:"",cover:"",score:"",rank:"",typeCn:"",collection:"",userCollection:"",airtime:"",aid:"",wid:"",mid:"",isCollect:!1,isRectangle:!1,event:s.EVENT});t.DEFAULT_PROPS=r},"./src/screens/_/item/collections-grid/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{id:"/subject/296739",name:"ヴィンランド・サガ SEASON 2",nameCn:"冰海战记 第二季",cover:"//lain.bgm.tv/pic/cover/c/a4/16/296739_71dLe.jpg",typeCn:"动画",tip:"24话 / 2023年1月9日 / 籔田修平 / 幸村誠「ヴィンランド・サガ」（講談社『アフタヌーン』連載） / 阿比留隆彦；副人物设定：若狭賢史、辻村幸輝、あべたくじ（阿部卓司）、渡辺慶子、色部美穂、安食圭 ",rank:"186",score:"8.1",total:"(1132人评分)",collection:"",collected:!1},{id:"/subject/425211",name:"かぐや様は告らせたい-ファーストキッスは終わらない-",nameCn:"辉夜大小姐想让我告白-初吻不会结束-",cover:"//lain.bgm.tv/pic/cover/c/ca/79/425211_bPbra.jpg",typeCn:"动画",tip:"4话 / 2023年3月31日 / 畠山守(小俣真一) / 赤坂アカ （集英社「週刊ヤングジャンプ」連載） / 八尋裕子 ",rank:"236",score:"8.1",total:"(664人评分)",collection:"",collected:!1},{id:"/subject/404804",name:"天国大魔境",nameCn:"天国大魔境",cover:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛 ",rank:"277",score:"7.9",total:"(599人评分)",collection:"",collected:!0},{id:"/subject/376739",name:"進撃の巨人 The Final Season 完結編 前編",nameCn:"进击的巨人 最终季 完结篇 前篇",cover:"//lain.bgm.tv/pic/cover/c/4f/33/376739_KMN9x.jpg",typeCn:"动画",tip:"1话 / 2023年3月3日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋 ",rank:"431",score:"7.8",total:"(2003人评分)",collection:"",collected:!0},{id:"/subject/378862",name:"お兄ちゃんはおしまい！",nameCn:"别当欧尼酱了！",cover:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",typeCn:"动画",tip:"12话 / 2023年1月5日 / 藤井慎吾 / ねことうふ（月刊ComicREX／一迅社刊） / 今村亮 ",rank:"563",score:"7.7",total:"(5885人评分)",collection:"",collected:!0},{id:"/subject/362335",name:"グリッドマン ユニバース",nameCn:"古立特宇宙",cover:"//lain.bgm.tv/pic/cover/c/76/b8/362335_VhtRE.jpg",typeCn:"动画",tip:"1话 / 2023年3月24日 / 雨宮哲 / グリッドマン / 坂本勝 ",rank:"565",score:"8.1",total:"(68人评分)",collection:"",collected:!0},{id:"/subject/325587",name:"やはり俺の青春ラブコメはまちがっている。完 OVA",nameCn:"我的青春恋爱物语果然有问题 完 OVA",cover:"//lain.bgm.tv/pic/cover/c/df/fa/325587_P8eCb.jpg",typeCn:"动画",tip:"1话 / 2023年4月27日 / 渡航（小学館「ガガガ文庫」） ",rank:"1302",score:"7.4",total:"(377人评分)",collection:"",collected:!0},{id:"/subject/373247",name:"無職転生Ⅱ～異世界行ったら本気だす～",nameCn:"无职转生 II ～到了异世界就拿出真本事～",cover:"//lain.bgm.tv/pic/cover/c/cf/55/373247_qX53z.jpg",typeCn:"动画",tip:"2023年7月 / 理不尽な孫の手（MFブックス／KADOKAWA刊） ",rank:"1490",score:"7.3",total:"(236人评分)",collection:"",collected:!0},{id:"/subject/395782",name:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",nameCn:"JOJO的奇妙冒险 石之海 Part.3",cover:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",typeCn:"动画",tip:"14话 / 2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭 ",rank:"1886",score:"7.2",total:"(1886人评分)",collection:"",collected:!1},{id:"/subject/401960",name:"にじよん あにめーしょん",nameCn:"虹四动画",cover:"//lain.bgm.tv/pic/cover/c/31/aa/401960_nQcWc.jpg",typeCn:"动画",tip:"15话 / 2023年1月6日 / ほりうちゆうや / 矢立肇；漫画：ミヤコヒト ",rank:"2145",score:"7.1",total:"(520人评分)",collection:"",collected:!1},{id:"/subject/358660",name:"",nameCn:"中国奇谭",cover:"//lain.bgm.tv/pic/cover/c/e2/97/358660_M4986.jpg",typeCn:"动画",tip:"8话 / 2023年1月1日 / 於水（《小妖怪的夏天》），胡睿（《鹅鹅鹅》），杨木（《林林》），刘毛宁（《乡村巴士带走了王孩儿和神仙》），陈莲华、周小琳（《小满》），潘斌（《飞鸟与鱼》），顾杨、刘旷（《小卖部》），徐宁（《玉兔》） / 於水（《小妖怪的夏天》），顾杨（《小卖部》） ",rank:"2193",score:"7.1",total:"(1562人评分)",collection:"",collected:!1},{id:"/subject/325808",name:"地獄楽",nameCn:"地狱乐",cover:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_4OXIC.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣 ",rank:"2205",score:"7.0",total:"(340人评分)",collection:"",collected:!1}]},"./src/screens/_/item/collections-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.sub.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCollectionsGrid=void 0,Object.defineProperty(t,"ItemCollectionsGridProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),h=r(s("./src/screens/_/item/collections-grid/item.tsx")),o=s("./src/screens/_/item/collections-grid/types.ts"),v=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.num,n=e.id,o=e.name,i=e.nameCn,a=e.sub,d=e.cover,l=e.score,c=e.rank,u=e.typeCn,m=e.collection,p=e.userCollection,f=e.airtime,y=e.aid,j=e.wid,_=e.mid,x=e.isCollect,g=e.isRectangle,e=e.event;return(0,v.jsx)(h.default,{navigation:t,style:s,gridStyles:b._.grid(void 0===r?3:r),id:n,name:o,nameCn:i,sub:a,cover:d,score:l,rank:c,typeCn:u,collection:m,userCollection:p,airtime:f,aid:y,wid:j,mid:_,isCollect:x,isRectangle:g,event:e})});t.ItemCollectionsGrid=r;try{r.displayName="ItemCollectionsGrid",r.__docgenInfo={description:"",displayName:"ItemCollectionsGrid",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},num:{defaultValue:null,description:"",name:"num",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},sub:{defaultValue:null,description:"",name:"sub",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!1,type:{name:"string"}},airtime:{defaultValue:null,description:"",name:"airtime",required:!1,type:{name:"string"}},aid:{defaultValue:null,description:"",name:"aid",required:!1,type:{name:"string | number"}},wid:{defaultValue:null,description:"",name:"wid",required:!1,type:{name:"string | number"}},mid:{defaultValue:null,description:"",name:"mid",required:!1,type:{name:"string | number"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!1,type:{name:"boolean"}},isRectangle:{defaultValue:null,description:"",name:"isRectangle",required:!1,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections-grid/index.tsx#ItemCollectionsGrid"]={docgenInfo:r.__docgenInfo,name:"ItemCollectionsGrid",path:"src/screens/_/item/collections-grid/index.tsx#ItemCollectionsGrid"})}catch(e){}},"./src/screens/_/item/collections-grid/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),v=s("./src/stores/index.ts"),S=s("./src/utils/index.ts"),O=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),T=s("./src/screens/_/base/index.ts"),I=r(s("./src/screens/_/item/collections-grid/collection/index.tsx")),C=s("./src/screens/_/item/collections-grid/ds.ts"),w=s("./node_modules/react/jsx-runtime.js"),r=(0,n.memo)(function(e){var r=e.navigation,t=e.style,s=e.gridStyles,n=e.id,o=e.name,i=e.nameCn,a=e.sub,d=e.cover,l=e.score,c=e.rank,u=e.typeCn,m=e.collection,p=e.userCollection,f=e.airtime,y=e.aid,j=e.wid,_=e.mid,x=e.isRectangle,g=e.event;return(0,w.jsx)(b.default,{style:(0,S.stl)({width:s.width,marginBottom:s.marginLeft+v._.xs,marginLeft:s.marginLeft},t),children:(0,w.jsxs)(h.Touchable,{animate:!0,hitSlop:C.HIT_SLOP,onPress:function(){var e=g.id,t=g.data,s=String(n).replace("/subject/","");(0,O.t)(e,Object.assign({to:"Subject",subjectId:s,type:"grid"},t)),r.push("Subject",{subjectId:s,_jp:o,_cn:i,_image:d,_aid:y,_wid:j,_mid:_,_type:u,_collection:m||p})},children:[(0,w.jsx)(T.Cover,{size:s.width,height:x?s.width:s.height,src:d,radius:!0,shadow:!0,type:u}),(0,w.jsx)(h.Text,{style:v._.mt.sm,size:12,lineHeight:13,numberOfLines:3,bold:!0,align:"center",children:(0,S.cnjp)(i,o)}),(0,w.jsx)(I.default,{collection:m,typeCn:u,airtime:f}),!!a&&(0,w.jsx)(h.Text,{style:v._.mt.xs,size:11,lineHeight:11,type:"sub",align:"center",bold:!0,numberOfLines:1,children:a}),!!l&&(0,w.jsxs)(h.Flex,{style:v._.mt.sm,justify:"center",children:[(0,w.jsx)(T.Rank,{style:v._.mr.xs,value:c,size:9}),(0,w.jsx)(T.Stars,{value:l,size:9})]})]})})},C.DEFAULT_PROPS);t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},gridStyles:{defaultValue:null,description:"",name:"gridStyles",required:!0,type:{name:"GridStyle"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"string"}},sub:{defaultValue:null,description:"",name:"sub",required:!0,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"string | number"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!0,type:{name:"string"}},airtime:{defaultValue:null,description:"",name:"airtime",required:!0,type:{name:"string"}},aid:{defaultValue:null,description:"",name:"aid",required:!0,type:{name:"string | number"}},wid:{defaultValue:null,description:"",name:"wid",required:!0,type:{name:"string | number"}},mid:{defaultValue:null,description:"",name:"mid",required:!0,type:{name:"string | number"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!0,type:{name:"boolean"}},isRectangle:{defaultValue:null,description:"",name:"isRectangle",required:!0,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections-grid/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/collections-grid/item.tsx#item"})}catch(e){}},"./src/screens/_/item/collections-grid/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/collections/bottom/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),_=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),g=s("./src/screens/_/base/index.ts"),b=s("./src/screens/_/item/collections/bottom/styles.ts"),h=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),v=s("./node_modules/react/jsx-runtime.js");r=(0,n.ob)(function(e){var t=e.id,s=e.score,r=e.rank,n=e.total,o=e.simpleStars,i=e.time,a=e.tags,d=e.hideScore,l=e.isDo,c=e.isOnHold,e=e.isDropped,u=!!s,i=((l||c||e)&&(m=Math.ceil(((0,x.getTimestamp)()-(0,x.getTimestamp)(i))/86400)),[]),l=(l&&i.push(m+"天"),c&&i.push("搁置"+m+"天"),e&&i.push("抛弃"+m+"天"),a.split(" ").filter(function(e){return!!e&&"自己可见"!==e}).filter(function(e,t){return t<4})),c=(0,b.memoStyles)(),e=!d&&!!r,m=!d&&u,u=!d&&!!n,d=!!i.length,a=a.includes("自己可见"),t=_.subjectStore.nsfw(t),p=e||m||u||d,f=a||t,y=!(null==l||!l.length);return p||f||y?(0,v.jsxs)(j.Flex,{style:_._.mt.md,children:[p&&(0,v.jsxs)(v.Fragment,{children:[e&&(0,v.jsx)(g.Rank,{value:r}),m&&(0,v.jsx)(g.Stars,{style:e&&_._.ml.sm,value:s,simple:o}),u&&(0,v.jsxs)(j.Text,{style:(e||m)&&_._.ml.sm,type:"sub",size:10,children:["(",n,"人评分)"]}),d&&(0,v.jsx)(j.Text,{style:(e||m||u)&&_._.ml.sm,type:"sub",size:11,lineHeight:12,numberOfLines:1,children:i})]}),f&&(0,v.jsxs)(v.Fragment,{children:[p&&(0,v.jsx)(h.default,{style:c.split}),a&&(0,v.jsx)(g.Tag,{children:(0,v.jsx)(j.Iconfont,{name:"md-visibility-off",color:_._.select(_._.colorSub,_._.colorDesc),size:12})}),t&&(0,v.jsx)(g.Tag,{style:a&&_._.ml.sm,value:"R18"})]}),y&&(0,v.jsxs)(v.Fragment,{children:[(p||f)&&(0,v.jsx)(h.default,{style:c.split}),(0,v.jsx)(g.Tags,{value:l})]})]}):null});t.default=r;try{bottom.displayName="bottom",bottom.__docgenInfo={description:"",displayName:"bottom",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"any"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"any"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"any"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"any"}},simpleStars:{defaultValue:null,description:"",name:"simpleStars",required:!0,type:{name:"any"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"any"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"any"}},isDo:{defaultValue:null,description:"",name:"isDo",required:!0,type:{name:"any"}},isOnHold:{defaultValue:null,description:"",name:"isOnHold",required:!0,type:{name:"any"}},isDropped:{defaultValue:null,description:"",name:"isDropped",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections/bottom/index.tsx#bottom"]={docgenInfo:bottom.__docgenInfo,name:"bottom",path:"src/screens/_/item/collections/bottom/index.tsx#bottom"})}catch(e){}},"./src/screens/_/item/collections/bottom/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{split:{width:3,height:8,marginRight:8,marginLeft:r._.select(7,8),backgroundColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2),borderRadius:2,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/_/item/collections/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0});s={navigation:{},styles:{},index:0,inViewY:0,id:0,name:"",nameCn:"",tip:"",rank:"",score:"",total:"",simpleStars:!1,tags:"",comments:"",time:"",collection:"",userCollection:"",cover:"",type:"",numberOfLines:2,modify:"",showLabel:!(t.DEFAULT_PROPS=void 0),hideScore:!1,isDo:!1,isOnHold:!1,isDropped:!1,isCollect:!1,isCatalog:!1,isEditable:!1,event:s("./src/constants/index.ts").EVENT,filter:"",showManage:!1,onEdit:function(){}};t.DEFAULT_PROPS=s},"./src/screens/_/item/collections/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{id:"376137",name:"異世界のんびり農家",nameCn:"异世界悠闲农家",tip:"12话 / 2023年1月6日 / 倉谷涼一 / 内藤騎之介「異世界のんびり農家」 / (主)齊藤佳子、(副)五十内裕輔",rank:"",score:"7",simpleStars:!0,tags:"2023年1月 异世界 轻小说改",comments:"",time:"2023-3-26",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/09/1a/376137_OjCOB.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"339326",name:"異世界おじさん",nameCn:"异世界舅舅",tip:"13话 / 2022年7月6日 / 河合滋樹 / 殆ど死んでいる(WebComicアパンダ連載/KADOKAWA刊) / 大田和寛",rank:"",score:"8",simpleStars:!0,tags:"2022年7月 漫画改 异世界",comments:"",time:"2023-3-9",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/1a/75/339326_v466V.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"77476",name:"シドニアの騎士",nameCn:"希德尼娅的骑士",tip:"12话 / 2014年4月10日",rank:"",score:"8",simpleStars:!0,tags:"2014年4月 漫画改",comments:"",time:"2023-3-7",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/57/23/77476_tv6F8.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"163046",name:"迷家-マヨイガ-",nameCn:"迷家",tip:"12话 / 2016年4月1日 / 水島努 / diomedéa・ポニーキャニオン / 井出直美",rank:"",score:"1",simpleStars:!0,tags:"2016年4月 原创 冈田麿里",comments:"补标，这么弱智的番（个人心中最弱智）是不可能看第二次的",time:"2023-2-14",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/c0/fc/163046_YU34C.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"391706",name:"機動戦士ガンダム 水星の魔女 PROLOGUE",nameCn:"机动战士高达 水星的魔女 PROLOGUE",tip:"1话 / 2022-07-14（先行）2022-09-25",rank:"",score:"9",simpleStars:!0,tags:"",comments:"预算拉满",time:"2022-10-17",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/2a/9c/391706_GzNG2.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"342200",name:"異世界薬局",nameCn:"异世界药局",tip:"12话 / 2022年7月10日 / 草川啓造 / 高山理図（MFブックス／KADOKAWA刊） / 松本麻友子；副人物设定：前田恭佑",rank:"",score:"7",simpleStars:!0,tags:"2022年7月 异世界 轻小说改",comments:"",time:"2022-9-28",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/05/43/342200_2hdHa.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"100403",name:"冴えない彼女の育てかた",nameCn:"路人女主的养成方法",tip:"13话 / 2015年1月8日 / 亀井幹太 / 丸戸史明（ファンタジア文庫／株式会社KADOKAWA 富士見書房BC） / 高瀬智章",rank:"",score:"",simpleStars:!0,tags:"2015年1月 轻小说改",comments:"",time:"2022-9-4",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/6b/01/100403_JFsXn.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"331752",name:"進撃の巨人 The Final Season Part.2",nameCn:"进击的巨人 最终季 Part.2",tip:"12话 / 2022年1月9日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋",rank:"",score:"",simpleStars:!0,tags:"2022年1月",comments:"",time:"2022-7-15",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/61/0c/331752_iRPHK.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"330055",name:"史上最強の大魔王、村人Aに転生する",nameCn:"史上最强的大魔王转生为村人A",tip:"12话 / 2022年4月6日 / 湊未來 / 下等妙人（株式会社KADOKAWA／ファンタジア文庫刊） / 野口孝行、[副人物设定]渡邊義弘（フロンティアワン）",rank:"",score:"5",simpleStars:!0,tags:"2022年4月 轻小说改",comments:"真厕纸",time:"2022-7-4",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/22/3c/330055_AHxG5.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"356756",name:"パリピ孔明",nameCn:"派对浪客诸葛孔明",tip:"12话 / 2022年4月5日 / 本間修 / 四葉夕卜・小川亮 （講談社「ヤングマガジン」連載） / 関口可奈味",rank:"",score:"8",simpleStars:!0,tags:"2022年4月 P.A.WORKS 漫画改",comments:"",time:"2022-6-21",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/93/98/356756_ro03P.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"1905",name:"サマーウォーズ",nameCn:"夏日大作战",tip:"1话 / 2009年8月1日 / 細田守 / 細田守 / 貞本義行",rank:"",score:"8",simpleStars:!0,tags:"2009 剧场版 细田守",comments:"10多年后二刷, 也太好看了",time:"2022-6-7",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/73/e0/1905_5tj44.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""},{id:"326870",name:"失格紋の最強賢者",nameCn:"失格纹的最强贤者",tip:"12话 / 2022年1月8日 / 秋田谷典昭 / 進行諸島 / 大沢美奈",rank:"",score:"6",simpleStars:!0,tags:"",comments:"",time:"2022-4-27",userCollection:"看过",cover:"//lain.bgm.tv/pic/cover/c/62/b8/326870_NN377.jpg",type:"动画",showLabel:!1,isDo:!1,isOnHold:!1,isDropped:!1,event:{id:"我的.跳转",type:"list"},filter:""}]},"./src/screens/_/item/collections/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCollections=void 0,Object.defineProperty(t,"ItemCollectionsProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),A=r(s("./src/screens/_/item/collections/item.tsx")),P=s("./src/screens/_/item/collections/styles.ts"),o=s("./src/screens/_/item/collections/types.ts"),L=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var t=e.navigation,s=e.index,r=e.inViewY,n=e.id,o=e.name,i=e.nameCn,a=e.tip,d=e.rank,l=e.score,c=e.total,u=e.simpleStars,m=e.tags,p=e.comments,f=e.time,y=e.collection,j=e.userCollection,_=e.cover,x=e.type,g=e.modify,b=e.numberOfLines,h=e.showLabel,v=e.hideScore,S=e.isDo,O=e.isOnHold,T=e.isDropped,I=e.isCollect,C=e.isCatalog,w=e.isEditable,k=e.event,E=e.filter,R=e.showManage,e=e.onEdit;return(0,L.jsx)(A.default,{navigation:t,styles:(0,P.memoStyles)(),index:s,inViewY:r,id:n,name:o,nameCn:i,tip:a,rank:d,score:l,total:c,simpleStars:u,tags:m,comments:p,time:f,collection:y,userCollection:j,cover:_,type:x,numberOfLines:b,modify:g,showLabel:h,hideScore:v,isDo:S,isOnHold:O,isDropped:T,isCollect:I,isCatalog:C,isEditable:w,event:k,filter:E,showManage:R,onEdit:e})});t.ItemCollections=r;try{r.displayName="ItemCollections",r.__docgenInfo={description:"",displayName:"ItemCollections",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},inViewY:{defaultValue:null,description:"",name:"inViewY",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},simpleStars:{defaultValue:null,description:"",name:"simpleStars",required:!1,type:{name:"boolean"}},tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!1,type:{name:"number"}},modify:{defaultValue:null,description:"",name:"modify",required:!1,type:{name:"string"}},showLabel:{defaultValue:null,description:"",name:"showLabel",required:!1,type:{name:"boolean"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!1,type:{name:"boolean"}},isDo:{defaultValue:null,description:"",name:"isDo",required:!1,type:{name:"boolean"}},isOnHold:{defaultValue:null,description:"",name:"isOnHold",required:!1,type:{name:"boolean"}},isDropped:{defaultValue:null,description:"",name:"isDropped",required:!1,type:{name:"boolean"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!1,type:{name:"boolean"}},isCatalog:{defaultValue:null,description:"",name:"isCatalog",required:!1,type:{name:"boolean"}},isEditable:{defaultValue:null,description:"",name:"isEditable",required:!1,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!1,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(modify?: string) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections/index.tsx#ItemCollections"]={docgenInfo:r.__docgenInfo,name:"ItemCollections",path:"src/screens/_/item/collections/index.tsx#ItemCollections"})}catch(e){}},"./src/screens/_/item/collections/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),V=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),M=s("./src/stores/index.ts"),q=s("./src/utils/index.ts"),D=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),N=s("./src/constants/index.ts"),B=s("./src/screens/_/base/index.ts"),F=s("./src/screens/_/icon/touchable/index.tsx"),H=r(s("./src/screens/_/item/collections/title/index.tsx")),K=r(s("./src/screens/_/item/collections/bottom/index.tsx")),r=s("./src/screens/_/item/collections/ds.ts"),Y=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t,s=e.navigation,r=e.styles,n=e.index,o=e.inViewY,i=e.id,a=e.name,d=e.nameCn,l=e.tip,c=e.rank,u=e.score,m=e.total,p=e.simpleStars,f=e.tags,y=e.comments,j=e.time,_=e.collection,x=e.userCollection,g=e.cover,b=e.type,h=e.modify,v=e.numberOfLines,S=e.hideScore,O=e.isDo,T=e.isOnHold,I=e.isDropped,C=e.isCatalog,w=e.isEditable,k=e.event,E=e.filter,R=e.showManage,A=e.onEdit,P=b,L=(C&&(y||w)||(t="between"),String(i).replace("/subject/","")),e=a.length+d.length;return(0,Y.jsx)(V.Touchable,{style:r.container,animate:!0,onPress:function(){var e=k.id,t=k.data;(0,D.t)(e,Object.assign({to:"Subject",subjectId:i,type:"list"},t)),s.push("Subject",{subjectId:i,_jp:a,_cn:d,_image:g,_type:b,_collection:_||x})},children:(0,Y.jsxs)(V.Flex,{style:r.wrap,align:"start",children:[(0,Y.jsx)(B.InView,{style:r.inView,y:156*n+o+1,children:(0,Y.jsx)(B.Cover,{src:g,width:1.1*N.IMG_WIDTH,height:1.1*N.IMG_HEIGHT,radius:!0,shadow:!0,type:b})}),(0,Y.jsxs)(V.Flex.Item,{style:r.body,children:[(0,Y.jsxs)(V.Flex,{style:!!t&&r.content,direction:"column",justify:t,align:"start",children:[(0,Y.jsxs)(V.Flex,{style:M._.container.block,align:"start",children:[(0,Y.jsx)(V.Flex.Item,{children:(0,Y.jsx)(H.default,{name:a,nameCn:d,filter:E,numberOfLines:y?1:2})}),R&&(0,Y.jsx)(B.Manage,{subjectId:L,collection:_,typeCn:P,onPress:function(){M.uiStore.showManageModal({subjectId:L,title:d,desc:a,status:N.MODEL_COLLECTION_STATUS.getValue(_),action:(0,q.getAction)(P)},"收藏")}})]}),!!l&&(0,Y.jsx)(V.Text,{size:11,lineHeight:12,numberOfLines:v-(36<=e?1:0),children:(0,q.HTMLDecode)(l)}),(0,Y.jsxs)(V.Flex,{children:[(0,Y.jsx)(V.Flex.Item,{children:(0,Y.jsx)(K.default,{id:i,score:u,rank:c,total:m,simpleStars:p,time:j,tags:f,hideScore:S,isDo:O,isOnHold:T,isDropped:I})}),w&&(0,Y.jsx)(F.IconTouchable,{style:r.edit,name:"md-more-vert",onPress:function(){return A(h)}})]})]}),!!y&&"undefined"!==y&&(0,Y.jsx)(V.Text,{style:r.comments,size:14,lineHeight:17,children:y})]})]})})},r.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ container: { flex: number; paddingLeft: number; backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; }; inView: { minWidth: number; minHeight: number; }; wrap: { paddingVertical: number; paddingRight: number; }; ... 5 more ...; body: { ...; }; }'}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},inViewY:{defaultValue:null,description:"",name:"inViewY",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"string"}},tip:{defaultValue:null,description:"",name:"tip",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"string | number"}},simpleStars:{defaultValue:null,description:"",name:"simpleStars",required:!0,type:{name:"boolean"}},tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},userCollection:{defaultValue:null,description:"",name:"userCollection",required:!0,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!0,type:{name:"number"}},modify:{defaultValue:null,description:"",name:"modify",required:!0,type:{name:"string"}},showLabel:{defaultValue:null,description:"",name:"showLabel",required:!0,type:{name:"boolean"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},isDo:{defaultValue:null,description:"",name:"isDo",required:!0,type:{name:"boolean"}},isOnHold:{defaultValue:null,description:"",name:"isOnHold",required:!0,type:{name:"boolean"}},isDropped:{defaultValue:null,description:"",name:"isDropped",required:!0,type:{name:"boolean"}},isCollect:{defaultValue:null,description:"",name:"isCollect",required:!0,type:{name:"boolean"}},isCatalog:{defaultValue:null,description:"",name:"isCatalog",required:!0,type:{name:"boolean"}},isEditable:{defaultValue:null,description:"",name:"isEditable",required:!0,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"string"}},showManage:{defaultValue:null,description:"",name:"showManage",required:!0,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!0,type:{name:"(modify?: string) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/collections/item.tsx#item"})}catch(e){}},"./src/screens/_/item/collections/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{flex:1,paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:1.1*n.IMG_WIDTH,minHeight:1.1*n.IMG_HEIGHT},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:1.1*n.IMG_HEIGHT-r._.xs},tip:{minHeight:40},comments:{paddingVertical:r._.sm,paddingHorizontal:12,marginTop:r._.md,marginBottom:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:r._.select(r._.hairlineWidth,0),borderColor:r._.colorBorder,borderRadius:r._.radiusXs,overflow:"hidden"},edit:{marginTop:r._.sm,marginRight:-12},tag:{width:34,height:18,paddingHorizontal:r._.xs,paddingVertical:1,marginTop:-1,marginLeft:r._.sm,marginBottom:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2),borderWidth:r._.hairlineWidth,borderRadius:r._.radiusXs,borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel2)},body:{marginTop:2,marginLeft:r._._wind}}});t.memoStyles=s},"./src/screens/_/item/collections/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t,s=e.name,r=e.nameCn,n=e.filter,e=e.numberOfLines,o=!!s,i=(0,l.HTMLDecode)((0,l.cnjp)(r,s)),s=(0,l.HTMLDecode)((0,l.cnjp)(s,r)),r="";return(r=n?(0,l.getPinYinFilterValue)(i,n):r)?(0,c.jsxs)(a.Flex,{wrap:"wrap",align:"end",children:[(0,c.jsx)(a.Highlight,{size:15,bold:!0,numberOfLines:e,value:r,children:i+" "}),o&&s!==i&&(0,c.jsx)(a.Highlight,{type:"sub",size:11,lineHeight:12,bold:!0,numberOfLines:1,value:r,children:s})]}):(n=i.length,t=32<=(r=s.length)?9:24<=r?10:16<=r?11:12,(0,c.jsxs)(a.Flex,{style:16<=n+r&&d._.mb.xs,wrap:"wrap",align:"end",children:[(0,c.jsx)(a.Katakana.Provider,{size:r=32<=n?12:24<=n?13:12<=n?14:15,numberOfLines:e,children:(0,c.jsxs)(a.Katakana,{size:r,bold:!0,children:[i," "]})}),o&&s!==i&&(0,c.jsx)(a.Katakana.Provider,{size:t,lineHeight:13,bold:!0,numberOfLines:1,children:(0,c.jsx)(a.Katakana,{type:"sub",size:t,lineHeight:13,bold:!0,children:s})})]}))});t.default=s;try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}},numberOfLines:{defaultValue:null,description:"",name:"numberOfLines",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/collections/title/index.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"src/screens/_/item/collections/title/index.tsx#title"})}catch(e){}},"./src/screens/_/item/collections/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/comment/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;s={navigation:{},styles:{},style:{},time:"",avatar:"",userId:"",userName:"",star:"",status:"",comment:"",event:s("./src/constants/index.ts").EVENT,popoverData:void 0,onSelect:void 0};t.DEFAULT_PROPS=s},"./src/screens/_/item/comment/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{time:"1h 47m ago",avatar:"//lain.bgm.tv/pic/user/l/000/45/37/453707.jpg?r=1585863899",userId:"453707",userName:"雪",star:"5",comment:"不喜欢，全局单纯让我感觉到女主因为男主帅能抛弃一切。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 10m ago",avatar:"//lain.bgm.tv/pic/user/l/000/74/94/749455.jpg?r=1671530327",userId:"749455",userName:"Haruka",star:"6",comment:"总体来说是一部成功的商业片，是一部优缺点都很鲜明的作品。但是诚哥所给的惊艳感，还有君名和天子的个人所喜欢的故事性在本片中并没有展现出来，个人评价来说是不如前二者的。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 16m ago",avatar:"//lain.bgm.tv/pic/user/l/000/53/76/537692.jpg?r=1637892718",userId:"graydan",userName:"月ノ灰兎",star:"7",comment:"买票时看到标签只有一个爱情让我眉头一皱…仿佛用一见钟情能解释很多事情但没经验我不好说。比起爱情还是少女成长的成分更多这个地方很喜欢，发现妈妈和异世里的发型不同也许是一个伏笔。非常佩服后半段女主的体力，太恐怖了",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 29m ago",avatar:"//lain.bgm.tv/pic/user/l/000/65/52/655231.jpg?r=1655461744",userId:"655231",userName:"ArmandElric",star:"7",comment:"对场景塑造的强调 配乐加持的依赖 加上简单的脚本和世界观设计的薄弱 不过是从贩卖爱情变成了贩卖亲情 从一个俗套跳进了另一个俗套",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"4h 34m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/04/590406.jpg?r=1654325771",userId:"590406",userName:"yyyyffff",star:"8",comment:"7.6 与君名相比还有不小差距，但比天气之子简直好了一百倍，尤其是体现在直接观感上可以说天差地别；如果以奇幻片的角度去看《铃芽》可以说是一部优秀的动画电影，但如果以爱情片的定位去审视那这一塌糊涂的感情线会把它的其他优点一并掩盖从而变得一文不值；东京大地震和结局的轮回伏笔大加分，感情线不合格，其他片段属于灾难三部曲中的中上水准，好坏与否见仁见智，于我个人而言毫无疑问是值回票价了的。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 7m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/33/593301.jpg?r=1671769787&hd=1",userId:"lovemylove",userName:"热爱所热爱",star:"6",comment:"很符合“还行”的水平。值得便宜票价看一看，值得线上看一看。",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 29m ago",avatar:"//lain.bgm.tv/pic/user/l/000/27/89/278931.jpg?r=1482682477",userId:"278931",userName:"SmFuY2dr",star:"7",comment:"最没有诚哥味的诚哥电影",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"5h 54m ago",avatar:"//lain.bgm.tv/pic/user/l/000/66/81/668154.jpg?r=1673148981&hd=1",userId:"668154",userName:"三日月",star:"6",comment:"能把各异要素做到较为顺滑的杂糅是新海诚能力的体现，但诸多生硬处理和逻辑缺失仍是硬性问题，所幸实际观影体验过程中被巧妙掩盖了（4,1）",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 1m ago",avatar:"//lain.bgm.tv/pic/user/l/000/75/21/752149.jpg?r=1672649672&hd=1",userId:"752149",userName:"一马平川地躺下",star:"6",comment:"能明白诚哥想表达的东西，但东西太多了受时长限制自然也什么都讲不好。爱情线缺情感铺垫，亲情线缺人物转变，故事线的起承转合用蹩脚的巧合和女主那bug般的体力缝补。当爱情线由诚哥创作的垫脚石变为绊脚石，三年之约成了创作的束缚，我还会为下一个三年买票吗？ʕ•̫͡•ʔ",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 19m ago",avatar:"//lain.bgm.tv/pic/user/l/000/56/88/568872.jpg?r=1640097088",userId:"love580231",userName:"丶布鲁",star:"6",comment:"感情线很突兀，对观感影响极大，作画依旧是诚哥那股子味道，音乐也还行，不过这个人设跟剧情还有这感情线，6分最多了",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 44m ago",avatar:"//lain.bgm.tv/pic/user/l/000/59/77/597797.jpg?r=1628003405",userId:"597797",userName:"怅惘的扎比",star:"7",comment:"讲人寄托于古旧事物的思念，讲亲情，讲友情，讲相互救赎都挺好。爱情既没有必要也不是重点，为什么一定要塞一点进去呢？",popoverData:["特别关注TA的动画评论","屏蔽用户"]},{time:"6h 54m ago",avatar:"//lain.bgm.tv/pic/user/l/000/75/50/755076.jpg?r=1672990328&hd=1",userId:"enxore",userName:"enxore",star:"7",comment:"瑕疵很多，稍逊于君名，但观感不错。其实所谓瑕疵都是新海诚为了观感舍弃的叙事罢。",popoverData:["特别关注TA的动画评论","屏蔽用户"]}]},"./src/screens/_/item/comment/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemComment=void 0,Object.defineProperty(t,"ItemCommentProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),m=r(s("./src/screens/_/item/comment/item.tsx")),p=s("./src/screens/_/item/comment/styles.ts"),o=s("./src/screens/_/item/comment/types.ts"),f=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.time,n=e.avatar,o=e.userId,i=e.userName,a=e.star,d=e.status,l=e.comment,c=e.event,u=e.popoverData,e=e.onSelect;return(0,f.jsx)(m.default,{navigation:t,styles:(0,p.memoStyles)(),style:s,time:r,avatar:n,userId:o,userName:i,star:a,status:d,comment:l,event:c,popoverData:u,onSelect:e})});t.ItemComment=r;try{r.displayName="ItemComment",r.__docgenInfo={description:"",displayName:"ItemComment",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"看过"'},{value:'"想看"'},{value:'"抛弃"'},{value:'"在看"'},{value:'"搁置"'}]}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},popoverData:{defaultValue:null,description:"",name:"popoverData",required:!1,type:{name:"string[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/comment/index.tsx#ItemComment"]={docgenInfo:r.__docgenInfo,name:"ItemComment",path:"src/screens/_/item/comment/index.tsx#ItemComment"})}catch(e){}},"./src/screens/_/item/comment/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/_/base/index.ts"),n=s("./src/screens/_/item/comment/ds.ts"),g=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.style,n=e.time,o=e.avatar,i=e.userId,a=e.userName,d=e.star,l=e.status,c=e.comment,u=e.event,m=e.popoverData,p=e.onSelect;return(0,g.jsxs)(f.Flex,{style:(0,j.stl)(s.item,r),align:"start",children:[(0,g.jsx)(f.UserStatus,{userId:i,children:(0,g.jsx)(x.Avatar,{navigation:t,style:s.image,userId:i,name:a,src:o,event:u})}),(0,g.jsxs)(f.Flex.Item,{style:s.content,children:[(0,g.jsxs)(f.Flex,{children:[(0,g.jsx)(f.Flex.Item,{children:(0,g.jsx)(x.Name,{userId:i,showFriend:!0,size:14,bold:!0,right:(0,g.jsxs)(f.Text,{type:"sub",size:11,lineHeight:14,children:["  ",String(n).includes("ago")?(0,j.correctAgo)(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return-1!==t.indexOf("ago")?t.replace("d","d ").replace("h","h ").replace("m","m ").replace("s","s "):(e=t.length,t.slice(2,e-5)+" "+t.slice(e-5,e))}(n)):n]}),children:a})}),!_.SHARE_MODE&&!!m&&"function"==typeof p&&(0,g.jsx)(x.Popover,{style:s.touch,data:m,onSelect:function(e){return p(e,{avatar:o,userId:i,userName:a},c)},children:(0,g.jsx)(f.Flex,{style:s.icon,justify:"center",children:(0,g.jsx)(f.Iconfont,{style:y._.ml.md,name:"md-more-vert",size:18})})},i)]}),!(!d&&!l)&&(0,g.jsxs)(f.Flex,{style:s.stars,children:[(0,g.jsx)(x.Stars,{value:d}),!!l&&(0,g.jsxs)(f.Text,{type:"sub",size:11,children:[!!d&&" · ",l]})]}),!!c&&(0,g.jsx)(f.Text,{style:y._.mt.xs,size:15,lineHeight:20,selectable:!1,children:c})]})]})},n.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { backgroundColor: "rgb(255, 255, 255)" | "rgb(36, 36, 36)"; }; image: { marginTop: number; marginLeft: number; }; content: { paddingVertical: number; paddingRight: number; marginLeft: number; }; border: { ...; }; stars: { ...; }; touch: { ...; }; icon: { ...; }; }'}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!0,type:{name:"string | number"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"看过"'},{value:'"想看"'},{value:'"抛弃"'},{value:'"在看"'},{value:'"搁置"'}]}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},popoverData:{defaultValue:null,description:"",name:"popoverData",required:!0,type:{name:"string[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/comment/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/comment/item.tsx#item"})}catch(e){}},"./src/screens/_/item/comment/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{backgroundColor:r._.colorPlain},image:{marginTop:r._.md,marginLeft:r._.wind},content:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},stars:{marginVertical:r._.xs},touch:{marginVertical:-8,marginRight:-2,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}}});t.memoStyles=s},"./src/screens/_/item/comment/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/friends/counts/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/_/item/friends/counts/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.wish,s=e.collect,r=e.doing,n=e.onHold,e=e.dropped;return(0,d.jsxs)(o.Flex,{style:a.styles.counts,children:[!!t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-favorite",size:12,color:i._.colorSub}),(0,d.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:t})]}),!!r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-visibility",size:14,color:i._.colorSub}),(0,d.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:r})]}),!!s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-check",size:14,color:i._.colorSub}),(0,d.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:s})]}),!!n&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-visibility-off",size:13,color:i._.colorSub}),(0,d.jsx)(o.Text,{style:i._.mr.sm,size:11,type:"sub",children:n})]}),!!e&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Iconfont,{style:i._.mr.xs,name:"md-delete-outline",size:14,color:i._.colorSub}),(0,d.jsx)(o.Text,{size:11,type:"sub",children:e})]})]})});t.default=s;try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{wish:{defaultValue:null,description:"",name:"wish",required:!0,type:{name:"any"}},collect:{defaultValue:null,description:"",name:"collect",required:!0,type:{name:"any"}},doing:{defaultValue:null,description:"",name:"doing",required:!0,type:{name:"any"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!0,type:{name:"any"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/_/item/friends/counts/index.tsx#counts"})}catch(e){}},"./src/screens/_/item/friends/counts/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({counts:{marginTop:s._.sm,marginBottom:s._.xs}});t.styles=s},"./src/screens/_/item/friends/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/c/000/00/00/1.jpg?r=1671687974&hd=1",userId:"sai",userName:"Sai🖖",hobby:"15",percent:6.61,recent:"2023-4-1 12:22",doing:28,collect:225,wish:166,onHold:40,dropped:19,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/10/14/101403.jpg?r=1673256692&hd=1",userId:"vistaing",userName:"f_vistaing",hobby:"12",percent:5.29,recent:"2023-3-12 12:55",doing:27,collect:309,wish:99,onHold:32,dropped:49,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/23/54/235458.jpg?r=1552660673",userId:"lhyzf",userName:"猫苇",hobby:"54",percent:23.79,recent:"3h 36m ago",doing:17,collect:684,wish:73,onHold:15,dropped:5,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/13/50/135015.jpg?r=1523800130",userId:"moe_taiga",userName:"掌中萌虎",hobby:"44",percent:19.38,recent:"2022-10-13 21:12",doing:38,collect:623,wish:53,dropped:81,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/43/11/431197.jpg?r=1575107896",userId:"cts",userName:"影约",hobby:"47",percent:20.7,recent:"17h 39m ago",doing:30,collect:1241,wish:2425,onHold:14,dropped:57,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/29/13/291383.jpg?r=1672044593&hd=1",userId:"tttbbx",userName:"雪の宿❄️",hobby:"13",percent:5.73,recent:"4h 18m ago",doing:14,collect:437,wish:107,onHold:5,dropped:77,filter:""},{avatar:"//lain.bgm.tv/pic/user/c/000/21/04/210454.jpg?r=1671770242&hd=1",userId:"mp4spig",userName:"狂犬榨汁姬艾莉丝",hobby:"23",percent:10.13,recent:"1d 4h ago",doing:49,collect:522,wish:377,onHold:34,dropped:25,filter:""},{avatar:"//lain.bgm.tv/pic/user/l/000/10/21/102150.jpg?r=1464620237",userId:"xu940830",userName:"工藤龍一郎",hobby:"22",percent:9.69,recent:"1d 4h ago",doing:86,collect:485,wish:75,onHold:48,dropped:142,filter:""}]},"./src/screens/_/item/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemFriends=void 0,Object.defineProperty(t,"ItemFriendsProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/@ant-design/react-native/lib/progress/index.js"))),x=s("./src/components/index.ts"),g=s("./src/stores/index.ts"),b=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),h=s("./src/constants/index.ts"),v=s("./src/screens/_/base/index.ts"),S=r(s("./src/screens/_/item/friends/name/index.tsx")),O=r(s("./src/screens/_/item/friends/counts/index.tsx")),T=s("./src/screens/_/item/friends/styles.ts"),o=s("./src/screens/_/item/friends/types.ts"),I=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var s=e.navigation,r=e.avatar,n=e.userId,o=e.userName,t=e.hobby,i=e.percent,a=e.recent,d=e.doing,l=e.collect,c=e.wish,u=e.onHold,m=e.dropped,p=e.filter,f=e.event,y=void 0===f?h.EVENT:f,f=e.children,e=(0,T.memoStyles)(),j=g._.window.contentWidth-144;return(0,I.jsxs)(x.Touchable,{style:e.container,animate:!0,onPress:function(){var e=y.id,t=y.data;(0,b.t)(e,Object.assign({to:"Zone",userId:n},void 0===t?{}:t)),s.push("Zone",{userId:n,_name:o,_image:r})},children:[(0,I.jsxs)(x.Flex,{children:[(0,I.jsx)(x.UserStatus,{userId:n,children:(0,I.jsx)(v.Avatar,{navigation:s,style:e.image,name:o,userId:n,src:r})}),(0,I.jsxs)(x.Flex.Item,{style:e.item,children:[(0,I.jsxs)(x.Flex,{children:[(0,I.jsx)(x.Flex.Item,{children:(0,I.jsx)(S.default,{userName:o,filter:p})}),(0,I.jsx)(x.Text,{style:g._.ml.sm,size:13,children:a})]}),(0,I.jsx)(O.default,{wish:c,collect:l,doing:d,onHold:u,dropped:m}),(0,I.jsx)(_.default,{style:e.progress,barStyle:e.bar,wrapWidth:j,percent:Number(i)})]}),(0,I.jsxs)(x.Text,{style:e.hobby,size:12,type:"sub",children:[t||"-"," / ",i||"-","%"]})]}),f]})});t.ItemFriends=r;try{r.displayName="ItemFriends",r.__docgenInfo={description:"",displayName:"ItemFriends",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},hobby:{defaultValue:null,description:"",name:"hobby",required:!1,type:{name:"string"}},percent:{defaultValue:null,description:"",name:"percent",required:!1,type:{name:"string | number"}},recent:{defaultValue:null,description:"",name:"recent",required:!1,type:{name:"string"}},doing:{defaultValue:null,description:"",name:"doing",required:!1,type:{name:"string | number"}},collect:{defaultValue:null,description:"",name:"collect",required:!1,type:{name:"string | number"}},wish:{defaultValue:null,description:"",name:"wish",required:!1,type:{name:"string | number"}},dropped:{defaultValue:null,description:"",name:"dropped",required:!1,type:{name:"string | number"}},onHold:{defaultValue:null,description:"",name:"onHold",required:!1,type:{name:"string | number"}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/index.tsx#ItemFriends"]={docgenInfo:r.__docgenInfo,name:"ItemFriends",path:"src/screens/_/item/friends/index.tsx#ItemFriends"})}catch(e){}},"./src/screens/_/item/friends/name/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.userName,e=e.filter,e=(0,o.getPinYinFilterValue)(t,e);return(0,i.jsx)(n.Highlight,{numberOfLines:1,bold:!0,value:e,children:t})});t.default=s;try{name.displayName="name",name.__docgenInfo={description:"",displayName:"name",props:{userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/friends/name/index.tsx#name"]={docgenInfo:name.__docgenInfo,name:"name",path:"src/screens/_/item/friends/name/index.tsx#name"})}catch(e){}},"./src/screens/_/item/friends/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingBottom:r._.md,backgroundColor:r._.colorPlain},image:{marginTop:2,marginLeft:r._.wind},item:{paddingTop:r._.md-2,paddingRight:r._.wind,paddingBottom:r._.sm+2,marginLeft:r._.md-2},progress:{position:"absolute",right:"32%",bottom:0,left:0,borderRadius:8,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),overflow:"hidden"},bar:{backgroundColor:"transparent",borderBottomColor:r._.colorPrimary,borderBottomWidth:4,borderRadius:4},hobby:{position:"absolute",right:r._.wind-r._.sm,bottom:0,paddingHorizontal:r._.sm,marginBottom:-4,backgroundColor:r._.colorPlain},count:{marginTop:r._.sm,marginBottom:r._.xs}}});t.memoStyles=s},"./src/screens/_/item/friends/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/index.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(t,"__esModule",{value:!0});var r=s("./src/screens/_/item/article/index.tsx"),n=(Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),s("./src/screens/_/item/bangumi-list/index.tsx")),o=(Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),s("./src/screens/_/item/blog/index.tsx")),i=(Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}),s("./src/screens/_/item/catalog/index.tsx")),a=(Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),s("./src/screens/_/item/character/index.tsx")),d=(Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),s("./src/screens/_/item/collections/index.tsx")),l=(Object.keys(d).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}),s("./src/screens/_/item/collections-grid/index.tsx")),c=(Object.keys(l).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}),s("./src/screens/_/item/comment/index.tsx")),u=(Object.keys(c).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}),s("./src/screens/_/item/friends/index.tsx")),m=(Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}),s("./src/screens/_/item/notify/index.tsx")),p=(Object.keys(m).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}),s("./src/screens/_/item/pm/index.tsx")),f=(Object.keys(p).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}),s("./src/screens/_/item/post/index.tsx")),y=(Object.keys(f).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}),s("./src/screens/_/item/say/index.tsx")),j=(Object.keys(y).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}),s("./src/screens/_/item/search/index.tsx")),_=(Object.keys(j).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}})}),s("./src/screens/_/item/setting-block/index.tsx")),x=(Object.keys(_).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})}),s("./src/screens/_/item/setting/index.tsx")),g=(Object.keys(x).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}})}),s("./src/screens/_/item/timeline/index.tsx")),b=(Object.keys(g).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}),s("./src/screens/_/item/voice/index.tsx"));Object.keys(b).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})})},"./src/screens/_/item/notify/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141582",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/68/17/681772.jpg?r=1658461514",userId:"681772",userName:"方先森的二次元",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/51/65/516549.jpg?r=1675609244&hd=1",userId:"516549",userName:"希望人冇事",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141577",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/73/42/734240.jpg?r=1667519932",userId:"734240",userName:"黑色幽默",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141573",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/60/37/603776.jpg?r=1648998420",userId:"603776",userName:"哈利·波特",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141553",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/35/11/351149.jpg?r=1680257835&hd=1",userId:"351149",userName:"Otone",title:"",message:"请求与你成为好友",message2:"",href:"",repeat:0},{avatar:"//lain.bgm.tv/pic/user/l/000/53/38/533872.jpg?r=1645015013",userId:"nofttwiq",userName:"Nofttwiq.",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141523",repeat:1},{avatar:"//lain.bgm.tv/pic/user/l/000/32/28/322898.jpg?r=1516957049",userId:"322898",userName:"青鸟千秋",title:"吐槽",message:"回复了你的 ",message2:"",href:"/user/sukaretto/timeline/status/33457566#post_141517",repeat:0}]},"./src/screens/_/item/notify/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.repeat.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemNotify=void 0,Object.defineProperty(t,"ItemNotifyProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/_/base/index.ts"),b=s("./src/screens/_/item/notify/styles.ts"),n=s("./src/screens/_/item/notify/types.ts"),h=s("./node_modules/react/jsx-runtime.js"),s=(0,r.ob)(function(e){var t,s=e.navigation,r=e.index,n=e.avatar,o=e.userId,i=e.userName,a=e.title,d=e.message,l=e.message2,c=e.href,u=e.repeat,m=e.event,p=void 0===m?x.EVENT:m,m=e.children,e=(0,b.memoStyles)(),f=null==(f=String(c).split("/status/"))?void 0:f[1];return f&&(f=j.timelineStore.say(f)).list.length&&(t=null==(f=f.list[0])?void 0:f.text),(0,h.jsx)(y.Touchable,{animate:!0,onPress:function(){(0,_.appNavigate)(c,s,{_title:a},p)},children:(0,h.jsxs)(y.Flex,{style:e.container,align:"start",children:[(0,h.jsx)(y.UserStatus,{userId:o,children:(0,h.jsx)(g.InView,{style:e.inView,y:40*r+1,children:(0,h.jsx)(g.Avatar,{style:e.image,navigation:s,userId:o,name:i,src:n,event:p},String(n))})}),(0,h.jsxs)(y.Flex.Item,{style:e.item,children:[(0,h.jsx)(g.Name,{userId:o,showFriend:!0,size:13,type:"title",bold:!0,children:i}),(0,h.jsxs)(y.Flex,{style:j._.mt.xs,align:"start",children:[(0,h.jsxs)(y.Flex.Item,{children:[(0,h.jsxs)(y.Text,{lineHeight:18,children:[d,(0,h.jsx)(y.Text,{lineHeight:18,type:"main",bold:!0,children:a}),l]}),!!t&&(0,h.jsxs)(y.Text,{style:e.desc,type:"sub",size:11,lineHeight:18,numberOfLines:1,children:["描述：",t]})]}),(0,h.jsx)(y.Flex,{style:e.tag,justify:"end",children:!!u&&(0,h.jsx)(g.Tag,{value:"x"+(u+1)})})]})]}),m]})})});t.ItemNotify=s;try{s.displayName="ItemNotify",s.__docgenInfo={description:"",displayName:"ItemNotify",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},message2:{defaultValue:null,description:"",name:"message2",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},repeat:{defaultValue:null,description:"",name:"repeat",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/notify/index.tsx#ItemNotify"]={docgenInfo:s.__docgenInfo,name:"ItemNotify",path:"src/screens/_/item/notify/index.tsx#ItemNotify"})}catch(e){}},"./src/screens/_/item/notify/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},image:{marginTop:r._.md},inView:{minWidth:40,minHeight:40},item:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm},desc:{marginTop:r._.xs},tag:{width:40,marginTop:5}}});t.memoStyles=s},"./src/screens/_/item/notify/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/pm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemPM=void 0,Object.defineProperty(t,"ItemPMProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),f=s("./src/stores/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/utils/html/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/_/base/index.ts"),g=s("./src/screens/_/item/pm/styles.ts"),n=s("./src/screens/_/item/pm/types.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=(0,r.ob)(function(e){var t=e.navigation,s=e.event,r=void 0===s?_.EVENT:s,s=e.index,n=e.id,o=e.title,i=e.content,a=e.avatar,d=e.name,l=e.userId,c=e.time,u=e.new,e=e.onRefresh,m=void 0===e?function(){}:e,e=(0,g.memoStyles)();return(0,b.jsx)(p.Touchable,{animate:!0,onPress:function(){(0,y.t)(r.id,Object.assign({to:"PM"},r.data)),t.push("PM",{id:n}),u&&setTimeout(function(){m()},4e3)},children:(0,b.jsxs)(p.Flex,{style:e.container,align:"start",children:[(0,b.jsx)(x.InView,{style:e.inView,y:98*s+1,children:(0,b.jsx)(x.Avatar,{style:e.image,navigation:t,userId:l,name:d,src:a,event:r})}),(0,b.jsx)(p.Flex.Item,{style:e.item,children:(0,b.jsxs)(p.Flex,{children:[(0,b.jsxs)(p.Flex.Item,{children:[(0,b.jsx)(x.Name,{userId:l,showFriend:!0,size:13,type:"title",bold:!0,right:(0,b.jsxs)(p.Text,{size:11,lineHeight:13,type:"sub",children:[" ",c]}),children:d}),(0,b.jsx)(p.Text,{style:f._.mt.xs,type:"main",bold:!0,children:o}),(0,b.jsx)(p.Text,{style:f._.mt.sm,size:13,lineHeight:16,type:"title",children:(0,j.HTMLDecode)(i)})]}),u&&(0,b.jsx)(p.Text,{style:f._.ml.sm,type:"danger",children:"new"})]})})]})})});t.ItemPM=s;try{s.displayName="ItemPM",s.__docgenInfo={description:"",displayName:"ItemPM",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"UserId"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},new:{defaultValue:null,description:"",name:"new",required:!1,type:{name:"boolean"}},onRefresh:{defaultValue:null,description:"",name:"onRefresh",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/pm/index.tsx#ItemPM"]={docgenInfo:s.__docgenInfo,name:"ItemPM",path:"src/screens/_/item/pm/index.tsx#ItemPM"})}catch(e){}},"./src/screens/_/item/pm/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind,backgroundColor:r._.colorPlain},inView:{minWidth:40,minHeight:40},image:{marginTop:r._.md},item:{paddingVertical:r._.md,paddingRight:r._.wind,marginLeft:r._.sm}}});t.memoStyles=s},"./src/screens/_/item/pm/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/post/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.REG_MARK=t.IMAGES_MAX_WIDTH_SUB=t.IMAGES_MAX_WIDTH=t.EXPAND_NUMS=t.DEFAULT_PROPS=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=r._.window.width-2*r._.wind-32-r._.sm,n=(t.IMAGES_MAX_WIDTH=n,r._.window.width-2*r._.wind-64-2*r._.sm),r=(t.IMAGES_MAX_WIDTH_SUB=n,t.EXPAND_NUMS=3,{navigation:{},inViewY:0,index:0,styles:{},contentStyle:{},topicId:"",authorId:"",avatar:"",erase:"",floor:"",directFloor:!(t.REG_MARK=/mark|mrak|cy|码|马|眼/i),id:0,isAuthor:!1,isExpand:!1,isFriend:!1,isJump:!1,isNew:!1,matchLink:!1,msg:"",postId:"",readedTime:"",replySub:"",showFixedTextare:function(){},expandNums:void 0,sub:[],time:"",translate:"",url:"",userId:"",userName:"",userSign:"",formhash:"",likeType:"",event:s.EVENT,onToggleExpand:function(){}});t.DEFAULT_PROPS=r},"./src/screens/_/item/post/floor-text/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/_/item/post/floor-text/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.time,s=e.floor,e=e.isNew,r=(0,a.memoStyles)();return(0,d.jsxs)(o.Flex,{children:[e&&(0,d.jsx)(n.default,{style:r.new}),(0,d.jsxs)(o.Text,{style:r.container,type:"sub",size:11,lineHeight:12,children:[(0,i.simpleTime)(t),"   ","#",String(s).replace("#","")]})]})});t.default=s;try{floortext.displayName="floortext",floortext.__docgenInfo={description:"",displayName:"floortext",props:{time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"any"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"any"}},isNew:{defaultValue:null,description:"",name:"isNew",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/floor-text/index.tsx#floortext"]={docgenInfo:floortext.__docgenInfo,name:"floortext",path:"src/screens/_/item/post/floor-text/index.tsx#floortext"})}catch(e){}},"./src/screens/_/item/post/floor-text/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{opacity:r._.select(1,.8)},new:{width:4,height:4,marginRight:6,marginTop:1,backgroundColor:r._.colorMain,borderRadius:2}}});t.memoStyles=s},"./src/screens/_/item/post/icon-extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/_/base/index.ts"),b=s("./src/screens/_/item/post/icon-extra/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.topicId,r=e.id,n=e.formhash,o=e.likeType,i=e.replySub,a=e.erase,d=e.userId,l=e.userName,c=e.message,u=void 0===c?"":c,m=e.msg,p=e.showFixedTextare,f=t.$;return x.SHARE_MODE?null:(c=[],j.rakuenStore.setting.likes&&o&&c.push("贴贴"),!i||null!=f&&f.isLimit||null==f||!f.showFixedTextarea||c.push("回复"),c.push("复制回复"),null!=f&&f.doTranslateFloor&&c.push("翻译"),c.push("屏蔽用户"),a&&null!=f&&f.doDeleteReply&&c.push("删除"),(0,h.jsx)(g.Popover,{style:b.styles.touch,data:c,onSelect:function(e){return"翻译"===e?null==f?void 0:f.doTranslateFloor(r,m):"贴贴"===e?j.uiStore.showLikesGrid(s,r,n,o):"回复"===e?(null!=f&&f.showFixedTextarea(l,i,u,m),p()):"删除"===e?(0,_.confirm)("确定删除回复?",function(){return null==f?void 0:f.doDeleteReply(a)}):void("屏蔽用户"===e?(0,_.confirm)("确定屏蔽用户?",function(){j.rakuenStore.addBlockUser(l+"@"+d),(0,_.info)("已屏蔽 "+l)}):"复制回复"===e&&(0,_.copy)((0,_.getCommentPlainText)(m),"已复制 "+l+" 的回复"))},children:(0,h.jsx)(y.Flex,{style:b.styles.icon,justify:"center",children:(0,h.jsx)(y.Iconfont,{style:j._.ml.md,name:"md-more-vert",size:18})})}))});t.default=s},"./src/screens/_/item/post/icon-extra/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts")._.create({touch:{marginVertical:-8,marginRight:4,borderRadius:20,overflow:"hidden"},icon:{width:36,height:36}});t.styles=s},"./src/screens/_/item/post/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",userId:"426934",userName:"火龙果汁",replySub:"subReply('group', 379989, 2292543, 0, 456208, 426934, 0)",message:"在单位领导永远不知道我在做什么的能力",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#2-1",id:"2292601",message:"在水bangumi（确信",replySub:"subReply('group',379989,2292543,2292601,426934,329030, 1)",time:"2023-4-4 17:04",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/75/49/754951.jpg?r=1677802277&hd=1",floor:"#2-2",id:"2292622",message:"奶奶的我领导也不知道我在做什么，所以我经常在马桶上接到死亡语音通话。",replySub:"subReply('group',379989,2292543,2292622,426934,754951, 1)",time:"2023-4-4 17:32",userId:"animevaluator",userName:"冷冻水产鉴定员"},{avatar:"//lain.bgm.tv/pic/user/s/000/30/42/304246.jpg?r=1493888995",floor:"#2-3",id:"2292656",message:"压力马斯内",replySub:"subReply('group',379989,2292543,2292656,426934,304246, 1)",time:"2023-4-4 18:06",userId:"304246",userName:"Rくん"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/78/517847.jpg?r=1593354131",floor:"#2-4",id:"2292947",message:"这不是可以无限摸鱼？",replySub:"subReply('group',379989,2292543,2292947,426934,517847, 1)",time:"2023-4-4 22:29",userId:"517847",userName:"mini"},{avatar:"//lain.bgm.tv/pic/user/s/000/42/69/426934.jpg?r=1531184431",floor:"#2-5",id:"2292949",message:'<div class="quote"><q><span style="font-weight:bold;">mini</span> 说: 这不是可以无限摸鱼？</q></div>但是领导会知道我什么事还没做<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292543,2292949,426934,426934, 1)",time:"2023-4-4 22:30",userId:"426934",userName:"火龙果汁"}],id:"2292543",authorId:"329030",time:"2023-4-4 16:30",floor:"#2",userSign:"(低级趣味无罪)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/43/79/437965.jpg?r=1537852802",userId:"nyanpasspass",userName:"喵帕斯帕斯~",replySub:"subReply('group', 379989, 2292544, 0, 456208, 437965, 0)",message:'耳朵可以动算吗<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#3-1",id:"2292623",message:"意思是你的耳朵很敏感吗？",replySub:"subReply('group',379989,2292544,2292623,437965,765083, 1)",time:"2023-4-4 17:32",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/51/87/518766.jpg?r=1671898550&hd=1",floor:"#3-2",id:"2292659",message:'自从初中发现自己耳朵会动后,都好久没动了,你不说我都忘了, 刚刚动了下,还是这么自然<img src="/img/smiles/tv/15.gif" smileid="54" alt="(bgm38)">',replySub:"subReply('group',379989,2292544,2292659,437965,518766, 1)",time:"2023-4-4 18:09",userId:"klove",userName:"klion"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#3-3",id:"2292662",message:"不算、这个大火都会",replySub:"subReply('group',379989,2292544,2292662,437965,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"}],id:"2292544",authorId:"329030",time:"2023-4-4 16:30",floor:"#3",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/55/22/552259.jpg?r=1671751582&hd=1",userId:"wspr",userName:"Wspr",replySub:"subReply('group', 379989, 2292565, 0, 456208, 552259, 0)",message:"总能抖到机灵",sub:[],id:"2292565",authorId:"329030",time:"2023-4-4 16:45",floor:"#4",userSign:"(你还活着，我为你祝贺)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/35/13/351390.jpg?r=1672240450&hd=1",userId:"lostpig",userName:"𝙇𝙤𝙨𝙩 𝙋𝙞𝙜 🎉",replySub:"subReply('group', 379989, 2292577, 0, 456208, 351390, 0)",message:"我总能找到出路。",sub:[],id:"2292577",authorId:"329030",time:"2023-4-4 16:48",floor:"#5",userSign:"(被遗忘的小猪会被遗忘吗？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/72/99/729908.jpg?r=1678202566&hd=1",userId:"alanyi",userName:"idew",replySub:"subReply('group', 379989, 2292578, 0, 456208, 729908, 0)",message:"体育好",sub:[],id:"2292578",authorId:"329030",time:"2023-4-4 16:50",floor:"#6",userSign:"(人生若只如初见)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/53/34/533424.jpg?r=1657627604",userId:"533424",userName:"Kamikaze",replySub:"subReply('group', 379989, 2292584, 0, 456208, 533424, 0)",message:"削苹果皮极快",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#7-1",id:"2292599",message:"羡慕，不会削",replySub:"subReply('group',379989,2292584,2292599,533424,329030, 1)",time:"2023-4-4 17:02",userId:"329030",userName:"YURI VIOLET"}],id:"2292584",authorId:"329030",time:"2023-4-4 16:52",floor:"#7",userSign:"(坚守正义)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/56/89/568999.jpg?r=1609677640",userId:"didhdifed",userName:"既不是熊也不是猫",replySub:"subReply('group', 379989, 2292589, 0, 456208, 568999, 0)",message:"饭量很大",sub:[],id:"2292589",authorId:"329030",time:"2023-4-4 16:56",floor:"#8",userSign:"(丧钟为谁而鸣？)",rendered:!1},{avatar:"//lain.bgm.tv/pic/user/s/000/70/84/708416.jpg?r=1676045215&hd=1",userId:"708416",userName:"导来也",replySub:"subReply('group', 379989, 2292590, 0, 456208, 708416, 0)",message:"一天导十五发",sub:[{avatar:"//lain.bgm.tv/pic/user/s/000/32/90/329030.jpg?r=1517042008",floor:"#9-1",id:"2292597",message:"？",replySub:"subReply('group',379989,2292590,2292597,708416,329030, 1)",time:"2023-4-4 17:01",userId:"329030",userName:"YURI VIOLET"},{avatar:"//lain.bgm.tv/pic/user/s/000/76/50/765083.jpg?r=1675392731&hd=1",floor:"#9-2",id:"2292625",message:"这确实是优势呀，快找个富婆",replySub:"subReply('group',379989,2292590,2292625,708416,765083, 1)",time:"2023-4-4 17:33",userId:"risinyoung",userName:"TaiFanLeAi"},{avatar:"//lain.bgm.tv/pic/user/s/000/74/92/749240.jpg?r=1671584659",floor:"#9-3",id:"2292636",message:"今日导五管，明日导十管，然后得一夕安寝，后面忘了",replySub:"subReply('group',379989,2292590,2292636,708416,749240, 1)",time:"2023-4-4 17:46",userId:"749240",userName:"Yuki256"},{avatar:"//lain.bgm.tv/pic/user/s/000/77/24/772497.jpg?r=1680349036&hd=1",floor:"#9-4",id:"2292642",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>这题我会，后日导十五管<span class="text_mask" style="background-color:#555;color:#555;border:1px solid #555;">然后猝死</span>',replySub:"subReply('group',379989,2292590,2292642,708416,772497, 1)",time:"2023-4-4 17:51",userId:"skdsretard",userName:"skdsretard"},{avatar:"//lain.bgm.tv/pic/user/s/000/61/43/614371.jpg?r=1651581633",floor:"#9-5",id:"2292663",message:"导给我吃",replySub:"subReply('group',379989,2292590,2292663,708416,614371, 1)",time:"2023-4-4 18:16",userId:"gorogoro5656",userName:"ゴロゴロ☆"},{avatar:"//lain.bgm.tv/pic/user/s/000/70/45/704500.jpg?r=1674046193&hd=1",floor:"#9-6",id:"2292687",message:'<div class="quote"><q><span style="font-weight:bold;">Yuki256</span> 说: 今日导五管，明日导十管，然后得一夕安寝，后面忘了</q></div>起视小弟，而牛牛又立起',replySub:"subReply('group',379989,2292590,2292687,708416,704500, 1)",time:"2023-4-4 18:58",userId:"704500",userName:"Saussurea"},{avatar:"//lain.bgm.tv/pic/user/s/000/32/13/321399.jpg?r=1579839352",floor:"#9-7",id:"2292695",message:"不当男优可惜了，汁男也行",replySub:"subReply('group',379989,2292590,2292695,708416,321399, 1)",time:"2023-4-4 19:12",userId:"josh",userName:"娇尸"},{avatar:"//lain.bgm.tv/pic/user/s/000/72/91/729174.jpg?r=1666191422",floor:"#9-8",id:"2292990",message:"？",replySub:"subReply('group',379989,2292590,2292990,708416,729174, 1)",time:"2023-4-4 23:03",userId:"wlx321",userName:"wlx321"},{avatar:"//lain.bgm.tv/pic/user/s/000/29/56/295606.jpg?r=1510443424",floor:"#9-9",id:"2293068",message:"什麼超導體",replySub:"subReply('group',379989,2292590,2293068,708416,295606, 1)",time:"2023-4-4 23:45",userId:"295606",userName:"absurd"}],id:"2292590",authorId:"329030",time:"2023-4-4 16:56",floor:"#9",userSign:"(胶遁！。。。哎，什么来着？)",rendered:!1}]},"./src/screens/_/item/post/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.some.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),R=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemPost=void 0,Object.defineProperty(t,"ItemPostProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),A=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),P=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),L=s("./src/constants/index.ts"),V=r(s("./src/screens/_/item/post/item.tsx")),M=s("./src/screens/_/item/post/utils.ts"),q=s("./src/screens/_/item/post/styles.ts"),o=s("./src/screens/_/item/post/types.ts"),D=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s,r,n,o,i,a,d,l,c=e.inViewY,u=e.index,m=e.contentStyle,p=e.avatar,f=e.userId,y=e.userName,j=e.replySub,_=e.message,x=e.sub,g=e.id,b=e.authorId,h=e.postId,v=e.time,S=e.floor,O=e.userSign,T=e.erase,I=e.rendered,C=e.matchLink,w=e.showFixedTextare,k=e.expandNums,e=e.event,E=t.$,t=t.navigation;return!f||(0,M.isBlockUser)(f,y,j,"Topic|"+g)||(n=(o=R.rakuenStore.setting).filterDelete,s=o.blockKeywords,o=o.subExpand,r=(0,P.default)(_),n&&(r=(0,P.default)(_)).includes("内容已被用户删除"))?null:(_=(n=(null==E?void 0:E.state)||{}).expands,n=n.translateResultFloor,o=void 0===(k=Number(k||o))||x.length<=k||x.length>k&&(null==_?void 0:_.includes(g)),i=!!(_=null==E||null==(_=E.readed)?void 0:_._time)&&(0,A.getTimestamp)(v)>_,a=b===f,d=!!h&&h===g,l=((null==E?void 0:E.params)||{})._url||L.HOST+"/rakuen/topic/"+(null==E?void 0:E.topicId),s.some(function(e){return r.includes(e)})&&(r='<span style="color:#999;font-size:12px">命中自定义关键字，已被屏蔽</span>'),(0,D.jsx)(V.default,{navigation:t,inViewY:c,index:u,styles:(0,q.memoStyles)(),contentStyle:m,topicId:null==E?void 0:E.topicId,authorId:b,avatar:p,erase:T,floor:S,directFloor:(null==E||null==(s=E.state)?void 0:s.directFloor)===S,id:g,isAuthor:a,isExpand:o,isFriend:null==E||null==(t=E.myFriendsMap)?void 0:t[f],isJump:d,isNew:i,matchLink:void 0===C?I:C,msg:r,postId:h,readedTime:_,replySub:j,showFixedTextare:w,expandNums:k,sub:x,time:v,translate:null==n?void 0:n[g],url:l,userId:f,userName:y,userSign:O,formhash:null==E||null==(c=E.topic)?void 0:c.formhash,likeType:null==E||null==(u=E.topic)?void 0:u.likeType,event:e,onToggleExpand:null==E?void 0:E.toggleExpand}))});t.ItemPost=r},"./src/screens/_/item/post/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),M=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),q=s("./src/components/index.ts"),D=s("./src/stores/index.ts"),N=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),B=s("./src/screens/_/base/index.ts"),F=r(s("./src/screens/_/item/post/user-label/index.tsx")),H=r(s("./src/screens/_/item/post/floor-text/index.tsx")),K=r(s("./src/screens/_/item/post/icon-extra/index.tsx")),Y=r(s("./src/screens/_/item/post/sub/index.tsx")),z=s("./src/screens/_/item/post/utils.ts"),G=s("./src/screens/_/item/post/ds.ts"),U=s("./node_modules/react/jsx-runtime.js"),i=["sub"],r=(0,o.memo)(function(e){var t=e.navigation,s=e.inViewY,r=e.index,n=e.styles,o=e.contentStyle,i=e.topicId,a=e.authorId,d=e.avatar,l=e.erase,c=e.floor,u=e.directFloor,m=e.id,p=e.isAuthor,f=e.isExpand,y=e.isFriend,j=e.isJump,_=e.isNew,x=e.matchLink,g=e.msg,b=e.postId,h=e.readedTime,v=e.replySub,S=e.showFixedTextare,O=e.expandNums,T=e.sub,I=e.time,C=e.translate,w=e.url,k=e.userId,E=e.userName,R=e.userSign,A=e.formhash,P=e.likeType,L=e.event,V=e.onToggleExpand;return(0,U.jsxs)(M.default,{style:n.item,children:[(0,U.jsxs)(q.Flex,{style:(0,N.stl)(D._.container.item,j&&n.itemJump),align:"start",onLayout:T.length?function(e){z.layoutHeightMap.set(Number(m),e.nativeEvent.layout.height)}:void 0,children:[(0,U.jsx)(q.UserStatus,{userId:k,children:(0,U.jsx)(B.InView,{style:n.inView,y:100*r+s+1,children:(0,U.jsx)(B.Avatar,{navigation:t,userId:k,name:E,size:36,src:d,event:L})})}),(0,U.jsxs)(q.Flex.Item,{style:(0,N.stl)(n.content,o),children:[(0,U.jsxs)(q.Flex,{align:"start",children:[(0,U.jsx)(q.Flex.Item,{children:(0,U.jsx)(B.Name,{userId:k,size:10<E.length?12:14,lineHeight:14,bold:!0,right:(0,U.jsx)(F.default,{isAuthor:p,isFriend:y,userSign:R}),children:(0,N.HTMLDecode)(E)})}),(0,U.jsx)(K.default,{topicId:i,id:m,formhash:A,likeType:P,msg:g,replySub:v,erase:l,userId:k,userName:E,showFixedTextare:S})]}),(0,U.jsx)(H.default,{time:I,floor:c,isNew:_}),(0,U.jsxs)(M.default,{style:n.html,children:[(0,U.jsx)(B.HTML,{navigation:t,id:m,msg:g,url:w,imagesMaxWidth:G.IMAGES_MAX_WIDTH,matchLink:x,event:L}),(0,U.jsx)(B.Likes,{topicId:i,id:m,formhash:A,likeType:P})]}),!!C&&(0,U.jsx)(q.Text,{style:n.translate,size:11,children:C})]}),u&&(0,U.jsx)(M.default,{style:n.direct,pointerEvents:"none"})]}),!!T.length&&(0,U.jsxs)(q.Flex,{children:[(0,U.jsx)(M.default,{style:n.left}),(0,U.jsxs)(q.Flex.Item,{style:n.sub,children:[(0,U.jsx)(q.Flex,{wrap:"wrap",children:T.filter(function(e,t){return!!f||t<O}).map(function(e){return(0,U.jsx)(Y.default,{id:e.id,message:e.message,userId:e.userId,userName:e.userName,avatar:e.avatar,floor:e.floor,erase:e.erase,replySub:e.replySub,time:e.time,postId:b,authorId:a,uid:k,url:w,readedTime:h,matchLink:x,showFixedTextare:S,event:L},e.id)})}),T.length>O&&(0,U.jsx)(q.Touchable,{onPress:function(){return V(m)},children:(0,U.jsx)(q.Text,{style:n.expand,type:f?"sub":"main",size:12,align:"center",bold:!0,children:f?"收起楼层":"展开 "+(T.length-O)+" 条回复"})})]})]})]})},G.DEFAULT_PROPS,function(e){var t=e.sub,e=(0,n.default)(e,i);return Object.assign({sub:t.length},e)});t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},inViewY:{defaultValue:null,description:"",name:"inViewY",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { width: number; paddingVertical: number; paddingHorizontal: number; }; itemJump: { borderBottomWidth: number; borderColor: "rgb(50, 200, 64)" | "rgb(50, 209, 96)"; }; inView: { minWidth: number; minHeight: number; }; ... 6 more ...; expand: { ...; }; }'}},contentStyle:{defaultValue:null,description:"",name:"contentStyle",required:!0,type:{name:"ViewStyle"}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`group/${string}` | `group/${number}` | `subject/${string}` | `subject/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}`"}},authorId:{defaultValue:null,description:"",name:"authorId",required:!0,type:{name:"UserId"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},erase:{defaultValue:null,description:"",name:"erase",required:!0,type:{name:"string"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"string"}},directFloor:{defaultValue:null,description:"",name:"directFloor",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},isAuthor:{defaultValue:null,description:"",name:"isAuthor",required:!0,type:{name:"boolean"}},isExpand:{defaultValue:null,description:"",name:"isExpand",required:!0,type:{name:"boolean"}},isFriend:{defaultValue:null,description:"",name:"isFriend",required:!0,type:{name:"boolean"}},isJump:{defaultValue:null,description:"",name:"isJump",required:!0,type:{name:"boolean"}},isNew:{defaultValue:null,description:"",name:"isNew",required:!0,type:{name:"boolean"}},matchLink:{defaultValue:null,description:"",name:"matchLink",required:!0,type:{name:"boolean"}},msg:{defaultValue:null,description:"",name:"msg",required:!0,type:{name:"string"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"Id"}},readedTime:{defaultValue:null,description:"",name:"readedTime",required:!0,type:{name:"string"}},replySub:{defaultValue:null,description:"",name:"replySub",required:!0,type:{name:"string"}},showFixedTextare:{defaultValue:null,description:"",name:"showFixedTextare",required:!0,type:{name:"any"}},expandNums:{defaultValue:null,description:"",name:"expandNums",required:!0,type:{name:"any"}},sub:{defaultValue:null,description:"",name:"sub",required:!0,type:{name:"any[]"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!0,type:{name:"any"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},userSign:{defaultValue:null,description:"",name:"userSign",required:!0,type:{name:"string"}},formhash:{defaultValue:null,description:"",name:"formhash",required:!0,type:{name:"string"}},likeType:{defaultValue:null,description:"",name:"likeType",required:!0,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/post/item.tsx#item"})}catch(e){}},"./src/screens/_/item/post/mark/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/screens/_/base/index.ts"),_=s("./src/screens/_/item/post/mark/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=void 0===(s=e.style)?void 0:s,r=e.id,n=e.message,o=e.userId,i=e.userName,a=e.avatar,d=e.url,l=e.event,c=t.navigation,e=(0,_.memoStyles)(),t=f.systemStore.setting.avatarRound,u=f._.window.width-f._.wind-20-f._.sm;return(0,x.jsxs)(p.Flex,{style:s?[e.item,s]:e.item,children:[(0,x.jsxs)(p.Flex,{style:t?e.round:e.rectangle,children:[(0,x.jsx)(m.default,{style:f._.mr.sm,children:(0,x.jsx)(p.UserStatus,{userId:o,mini:!0,children:(0,x.jsx)(j.Avatar,{navigation:c,size:20,userId:o,name:i,src:a,event:l})})}),(0,x.jsx)(j.Name,{userId:o,size:10,bold:!0,children:(0,y.HTMLDecode)(i)})]}),(0,x.jsx)(p.RenderHtml,{style:f._.ml.sm,baseFontStyle:f._.baseFontStyle.sm,imagesMaxWidth:u,html:n,onLinkPress:function(e){return(0,y.appNavigate)(e,c,{},l)},onImageFallback:function(){return(0,y.open)(d+"#post_"+r)}})]})});t.default=s},"./src/screens/_/item/post/mark/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingRight:r._.sm+2,paddingTop:r._.sm},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm}}});t.memoStyles=s},"./src/screens/_/item/post/plus-one/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),y=s("./src/components/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),x=s("./src/screens/_/base/index.ts"),g=r(s("./src/screens/_/item/post/user-label/index.tsx")),b=s("./src/screens/_/item/post/plus-one/styles.ts"),h=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.id,r=e.message,n=e.userId,o=e.userName,i=e.avatar,a=e.url,d=e.event,l=e.isAuthor,c=e.isFriend,e=e.isLayer,u=t.navigation,t=(0,b.memoStyles)(),m=j.systemStore.setting.avatarRound,p=j._.window.width-2*j._.wind-40-2*j._.sm;return(0,h.jsx)(f.default,{style:t.item,children:(0,h.jsxs)(y.Flex,{children:[(0,h.jsxs)(y.Flex,{style:m?t.round:t.rectangle,children:[(0,h.jsx)(f.default,{style:j._.mr.xs,children:(0,h.jsx)(y.UserStatus,{userId:n,mini:!0,children:(0,h.jsx)(x.Avatar,{navigation:u,size:20,userId:n,name:o,src:i,event:d})})}),(0,h.jsx)(x.Name,{userId:n,size:10,bold:!0,children:(0,_.HTMLDecode)(o)}),(0,h.jsx)(g.default,{isAuthor:l,isFriend:c,isLayer:e,lineHeight:10})]}),(0,h.jsx)(y.RenderHtml,{style:j._.ml.sm,baseFontStyle:j._.baseFontStyle.sm,imagesMaxWidth:p,html:r,onLinkPress:function(e){return(0,_.appNavigate)(e,u,{},d)},onImageFallback:function(){return(0,_.open)(a+"#post_"+s)}})]})})});t.default=r},"./src/screens/_/item/post/plus-one/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingRight:r._.sm+2,paddingTop:r._.sm},round:{padding:4,paddingRight:12,backgroundColor:r._.colorBg,borderRadius:16},rectangle:{padding:4,paddingRight:8,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm}}});t.memoStyles=s},"./src/screens/_/item/post/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{width:r._.window.width,paddingVertical:r._.md,paddingHorizontal:r._.wind},itemJump:{borderBottomWidth:2,borderColor:r._.colorSuccess},inView:{minWidth:36,minHeight:36},content:{paddingLeft:r._.sm},html:{paddingRight:r._.md+2,marginTop:r._.sm},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"},direct:{position:"absolute",top:1-r._.md,right:0,bottom:-r._.md,left:4-r._._wind,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},left:{width:r._.r(36)},sub:{paddingTop:r._.md},expand:{paddingTop:r._.sm,paddingBottom:r._.md,marginLeft:44}}});t.memoStyles=s},"./src/screens/_/item/post/sub/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.REG_PLUS=t.REG_BGM=t.DEFAULT_PROPS=t.AVATAR_WIDTH=void 0;var r=s("./src/stores/index.ts"),s={navigation:{},styles:{},topicId:"",authorId:"",avatar:"",blockKeywords:[],erase:"",filterDelete:!0,floor:"",directFloor:!1,id:0,isBlockUser:!1,matchLink:!1,message:"",myFriendsMap:{},postId:"",postUsersMap:{},quote:!0,quoteAvatar:!0,wide:!1,readedTime:"",replySub:"",showFixedTextare:!1,time:"",translate:"",uid:"",url:"",userId:"",userName:"",formhash:"",likeType:"",event:s("./src/constants/index.ts").EVENT},s=(t.DEFAULT_PROPS=s,t.REG_BGM=/^<img src="\/img\/smiles\/tv\/\d+\.gif" smileid="\d+" alt="\(bgm\d+\)">$/,t.REG_PLUS=/\+\d/,r._.r(32));t.AVATAR_WIDTH=s},"./src/screens/_/item/post/sub/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),O=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),T=s("./src/screens/_/item/post/utils.ts"),I=r(s("./src/screens/_/item/post/sub/item.tsx")),C=s("./src/screens/_/item/post/sub/styles.ts"),w=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s,r,n,o,i,a=e.authorId,d=e.avatar,l=e.erase,c=e.floor,u=e.id,m=e.matchLink,p=e.message,f=e.postId,y=e.readedTime,j=e.replySub,_=e.showFixedTextare,x=e.time,g=e.uid,b=e.url,h=e.userId,v=e.userName,e=e.event,S=t.$,t=t.navigation;return!h||(0,T.isBlockUser)(h,v,j)?null:(s=((null==S?void 0:S.state)||{}).translateResultFloor,r=(i=O.rakuenStore.setting).blockKeywords,n=i.quote,o=i.quoteAvatar,i=i.wide,(0,w.jsx)(I.default,{navigation:t,styles:(0,C.memoStyles)(),topicId:null==S?void 0:S.topicId,authorId:a,avatar:d,blockKeywords:r,erase:l,filterDelete:null==S?void 0:S.filterDelete,floor:c,directFloor:(null==S||null==(t=S.state)?void 0:t.directFloor)===c,id:u,isBlockUser:null==S?void 0:S.isBlockUser,matchLink:m,message:p,myFriendsMap:null==S?void 0:S.myFriendsMap,postId:f,postUsersMap:null==S?void 0:S.postUsersMap,quote:n,quoteAvatar:o,wide:i,readedTime:y,replySub:j,showFixedTextare:_,time:x,translate:null==s?void 0:s[u],uid:g,url:b,userId:h,userName:v,formhash:null==S||null==(a=S.topic)?void 0:a.formhash,likeType:null==S||null==(d=S.topic)?void 0:d.likeType,event:e}))});t.default=r},"./src/screens/_/item/post/sub/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.some.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),V=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),M=s("./src/components/index.ts"),q=s("./src/stores/index.ts"),D=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),N=r(s("./src/utils/thirdParty/html-entities-decoder.ts")),B=s("./src/screens/_/base/index.ts"),F=r(s("./src/screens/_/item/post/floor-text/index.tsx")),H=r(s("./src/screens/_/item/post/icon-extra/index.tsx")),K=r(s("./src/screens/_/item/post/mark/index.tsx")),Y=r(s("./src/screens/_/item/post/plus-one/index.tsx")),z=r(s("./src/screens/_/item/post/user-label/index.tsx")),G=s("./src/screens/_/item/post/utils.ts"),U=s("./src/screens/_/item/post/ds.ts"),W=s("./src/screens/_/item/post/sub/ds.ts"),$=s("./node_modules/react/jsx-runtime.js"),r=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,r=e.topicId,n=e.authorId,o=e.avatar,i=e.blockKeywords,a=e.erase,d=e.filterDelete,l=e.floor,c=e.directFloor,u=e.id,m=e.isBlockUser,p=e.matchLink,f=e.message,y=e.myFriendsMap,j=e.postId,_=e.postUsersMap,x=e.quote,g=e.quoteAvatar,b=e.wide,h=e.readedTime,v=e.replySub,S=e.showFixedTextare,O=e.time,T=e.translate,I=e.uid,C=e.url,w=e.userId,k=e.userName,E=e.formhash,R=e.likeType,e=e.event,A=(0,N.default)(f),P=(0,D.removeHTMLTag)(A);if(d&&P.includes("内容已被用户删除"))return null;d=n===w,n=!d&&I===w,I=y[w];if(P.length<=10&&W.REG_PLUS.test(P)||W.REG_BGM.test(A.trim()))return(0,$.jsx)(Y.default,{id:u,message:f,userId:w,userName:k,avatar:o,url:C,isAuthor:d,isFriend:I,isLayer:n,event:e});if(P.length<=8&&U.REG_MARK.test(P))return(0,$.jsx)(K.default,{id:u,message:A,userId:w,userName:k,avatar:o,url:C,event:e});y=null==(y=P.match(/^(.+?)说:/))?void 0:y[1],_=y?_[y]:"";if(_){var L=(0,D.matchUserIdFromAvatar)(_.avatar);if(L&&"function"==typeof m&&m(L,y))return null}i.some(function(e){return P.includes(e)})&&(f='<span style="color:#999;font-size:12px">命中自定义关键字，已被屏蔽</span>');m=!!h&&(0,D.getTimestamp)(O)>h,L=x&&g&&!!_;return(0,$.jsxs)(M.Flex,{style:(0,D.stl)(s.item,!!j&&j===u&&s.itemJump),align:"start",onLayout:function(e){G.layoutHeightMap.set(Number(u),e.nativeEvent.layout.height)},children:[(0,$.jsx)(M.UserStatus,{userId:w,children:(0,$.jsx)(B.Avatar,{style:q._.mt.md,navigation:t,userId:w,name:k,src:o,size:36,event:e})}),(0,$.jsxs)(M.Flex.Item,{style:s.content,children:[(0,$.jsxs)(M.Flex,{align:"start",children:[(0,$.jsx)(M.Flex.Item,{children:(0,$.jsx)(B.Name,{userId:w,size:10<k.length?12:14,lineHeight:14,bold:!0,right:(0,$.jsx)(z.default,{isAuthor:d,isFriend:I,isLayer:n}),children:(0,D.HTMLDecode)(k)})}),(0,$.jsx)(H.default,{topicId:r,id:u,formhash:E,likeType:R,replySub:v,erase:a,userId:w,userName:k,message:f,msg:A,showFixedTextare:S})]}),(0,$.jsx)(F.default,{time:O,floor:l,isNew:m}),(0,$.jsxs)(V.default,{style:s.html,children:[(0,$.jsx)(B.HTML,{navigation:t,style:b&&s.wide,id:u,msg:A,url:C,imagesMaxWidth:U.IMAGES_MAX_WIDTH_SUB,matchLink:p,event:e}),!!T&&(0,$.jsx)(M.Text,{style:s.translate,size:11,children:T}),L&&(0,$.jsxs)(M.Flex,{style:(0,D.stl)(s.quoteUserRound,b&&s.quoteUserRoundWide),children:[(0,$.jsx)(B.Avatar,{navigation:t,size:13,userId:_.userId,name:_.userName,src:_.avatar,radius:q.systemStore.setting.avatarRound?void 0:4,event:e}),(0,$.jsxs)(M.Text,{type:q._.select("desc","sub"),size:12,bold:!0,children:[" ",_.userName,":"]})]}),(0,$.jsx)(B.Likes,{style:b&&s.likesWide,topicId:r,id:u,formhash:E,likeType:R})]})]}),c&&(0,$.jsx)(V.default,{style:s.direct,pointerEvents:"none"})]})},W.DEFAULT_PROPS);t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { width: string; paddingLeft: number; }; itemJump: { borderBottomWidth: number; borderColor: "rgb(50, 200, 64)" | "rgb(50, 209, 96)"; }; content: { paddingVertical: number; marginLeft: number; }; ... 6 more ...; direct: { ...; }; }'}},topicId:{defaultValue:null,description:"",name:"topicId",required:!0,type:{name:"`group/${string}` | `group/${number}` | `subject/${string}` | `subject/${number}` | `ep/${string}` | `ep/${number}` | `prsn/${string}` | `prsn/${number}`"}},authorId:{defaultValue:null,description:"",name:"authorId",required:!0,type:{name:"UserId"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},blockKeywords:{defaultValue:null,description:"",name:"blockKeywords",required:!0,type:{name:"any[]"}},erase:{defaultValue:null,description:"",name:"erase",required:!0,type:{name:"string"}},filterDelete:{defaultValue:null,description:"",name:"filterDelete",required:!0,type:{name:"boolean"}},floor:{defaultValue:null,description:"",name:"floor",required:!0,type:{name:"string"}},directFloor:{defaultValue:null,description:"",name:"directFloor",required:!0,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},isBlockUser:{defaultValue:null,description:"",name:"isBlockUser",required:!0,type:{name:"any"}},matchLink:{defaultValue:null,description:"",name:"matchLink",required:!0,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},myFriendsMap:{defaultValue:null,description:"",name:"myFriendsMap",required:!0,type:{name:"Record<UserId, boolean>"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"Id"}},postUsersMap:{defaultValue:null,description:"",name:"postUsersMap",required:!0,type:{name:"Record<UserId, any>"}},quote:{defaultValue:null,description:"",name:"quote",required:!0,type:{name:"boolean"}},quoteAvatar:{defaultValue:null,description:"",name:"quoteAvatar",required:!0,type:{name:"boolean"}},wide:{defaultValue:null,description:"",name:"wide",required:!0,type:{name:"boolean"}},readedTime:{defaultValue:null,description:"",name:"readedTime",required:!0,type:{name:"any"}},replySub:{defaultValue:null,description:"",name:"replySub",required:!0,type:{name:"string"}},showFixedTextare:{defaultValue:null,description:"",name:"showFixedTextare",required:!0,type:{name:"boolean"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},translate:{defaultValue:null,description:"",name:"translate",required:!0,type:{name:"any"}},uid:{defaultValue:null,description:"",name:"uid",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},userName:{defaultValue:null,description:"",name:"userName",required:!0,type:{name:"string"}},formhash:{defaultValue:null,description:"",name:"formhash",required:!0,type:{name:"string"}},likeType:{defaultValue:null,description:"",name:"likeType",required:!0,type:{name:"string"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:'{ readonly id: ""; readonly data: {}; }'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/sub/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/post/sub/item.tsx#item"})}catch(e){}},"./src/screens/_/item/post/sub/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/post/sub/ds.ts"),s=r._.memoStyles(function(){var e=r._.sm,t=-(n.AVATAR_WIDTH+e+4);return{item:{width:"100%",paddingLeft:r._.sm},itemJump:{borderBottomWidth:2,borderColor:r._.colorSuccess},content:{paddingVertical:r._.md,marginLeft:e},html:{paddingRight:r._.md+2,marginTop:r._.xs},quoteUserRound:{position:"absolute",top:11,left:10.5,zIndex:1,padding:2,backgroundColor:r._.colorBg},translate:{padding:r._.sm,marginTop:r._.sm,marginRight:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs,overflow:"hidden"},wide:{paddingRight:r._.sm,marginTop:4,marginLeft:t},quoteUserRoundWide:{top:15,left:11,marginLeft:t},likesWide:{marginLeft:t},direct:{position:"absolute",top:6,right:0,bottom:2,left:-2,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/_/item/post/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/post/user-label/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=void 0!==(t=e.isAuthor)&&t,s=void 0!==(s=e.isFriend)&&s,r=void 0!==(r=e.isLayer)&&r,n=void 0===(n=e.userSign)?void 0:n,e=void 0===(e=e.lineHeight)?14:e;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)(o.Text,{type:"main",size:10,lineHeight:e,bold:!0,children:[" ","作者"]}),s&&!t&&(0,i.jsxs)(o.Text,{type:"warning",size:10,lineHeight:e,bold:!0,children:[" ","好友"]}),r&&!t&&!s&&(0,i.jsxs)(o.Text,{type:"primary",size:10,lineHeight:e,bold:!0,children:[" ","层主"]}),!!n&&(0,i.jsxs)(o.Text,{type:"sub",size:10,lineHeight:e,children:[" ","(",null==n?void 0:n.slice(1,(null==n?void 0:n.length)-1),")"]})]})});t.default=s;try{userlabel.displayName="userlabel",userlabel.__docgenInfo={description:"",displayName:"userlabel",props:{isAuthor:{defaultValue:null,description:"",name:"isAuthor",required:!1,type:{name:"boolean"}},isFriend:{defaultValue:null,description:"",name:"isFriend",required:!1,type:{name:"boolean"}},isLayer:{defaultValue:null,description:"",name:"isLayer",required:!1,type:{name:"boolean"}},userSign:{defaultValue:null,description:"",name:"userSign",required:!1,type:{name:"any"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/post/user-label/index.tsx#userlabel"]={docgenInfo:userlabel.__docgenInfo,name:"userlabel",path:"src/screens/_/item/post/user-label/index.tsx#userlabel"})}catch(e){}},"./src/screens/_/item/post/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.isBlockUser=function(r,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",e=3<arguments.length?arguments[3]:void 0,t=-1!==a.rakuenStore.setting.blockUserIds.findIndex(function(e){var e=e.split("@"),e=(0,i.default)(e,2),t=e[0],e=e[1];if("undefined"===e)return t===n;if(o){var s=o.split(",");if(7===s.length&&e==s[5])return!0}return e==r||t===n});t&&e&&(d[e=r+"|"+e]||(d[e]=1,setTimeout(function(){a.rakuenStore.trackBlockedUser(r)},0)));return t},t.layoutHeightMap=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),a=s("./src/stores/index.ts"),r=new Map,d=(t.layoutHeightMap=r,{})},"./src/screens/_/item/say/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{position:"right",avatar:"https://api.bgm.tv/v0/users/sukaretto/avatar?type=large",showName:!0,name:"咕咕子❶",text:"今日咖啡：辛鹿 3号 神奇樱桃蜜柚",id:"sukaretto",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/casserole/avatar?type=large",showName:!0,name:"Casserole",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;Myanimelist&#x540C;&#x6B65;",id:"casserole",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/772257/avatar?type=large",showName:!0,name:"Armin",text:"&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#x6240;&#x6709;&#x7684;&#x6536;&#x85CF;&#x90FD;&#x8BBE;&#x4E3A;&#x79C1;&#x5BC6;&#xFF0C;&#x5305;&#x62EC;&#x5728;&#x770B;&#x548C;&#x770B;&#x8FC7;&#x4E5F;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#xFF0C;&#x8C22;&#x8C22;&#xFF01;",id:"772257",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/516549/avatar?type=large",showName:!0,name:"希望人冇事",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5DF2;&#x5B8C;&#x7ED3;&#x7684;&#x756A;&#x5267;&#x4ECD;&#x7136;&#x663E;&#x793A;&#x660E;&#x65E5;(bgm34) <a href="https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg" class="l" rel="nofollow external noopener noreferrer" target="_blank">https://p.sda1.dev/10/f209d6c96f0520d36af68800c7892ca1/IMG_20230318_183605.jpg</a>',id:"516549",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/569814/avatar?type=large",showName:!0,name:"标签贰零零壹",text:"bug&#x540C;&#x4E0A;",id:"569814",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/498672/avatar?type=large",showName:!0,name:"川上晴生",text:"&#x60F3;&#x95EE;&#x4E0B;&#x6CA1;&#x6709;&#x9ED1;&#x540D;&#x5355;&#x529F;&#x80FD;&#x5417;&#xFF1F;&#x73B0;&#x5728;&#x7684;&#x5C4F;&#x853D;&#x611F;&#x89C9;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#x7528;&#xFF0C;&#x6362;&#x8BBE;&#x5907;&#x53C8;&#x4F1A;&#x770B;&#x5230;&#x4E86;",id:"498672",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/jin100497/avatar?type=large",showName:!0,name:"100497",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x5E0C;&#x671B;&#x589E;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x542F;&#x52A8;&#x56FE;&#x7247;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#xFF0C;&#x8C22;&#x8C22;',id:"jin100497",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/734240/avatar?type=large",showName:!0,name:"黑色幽默",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x52A0;&#x8F7D;&#x52A8;&#x753B;&#x53EF;&#x4EE5;&#x8BBE;&#x8BA1;&#x6210;&#x70B9;&#x70B9;&#x70B9;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8FD9;&#x4E2A;BGM&#x5A18;&#x7728;&#x773C;&#x775B;&#xFF0C;&#x4ED6;&#x8FD9;&#x4E2A;&#x6D41;&#x5149;&#x8BBE;&#x8BA1;&#x4E0D;&#x662F;&#x5F88;&#x660E;&#x663E;',id:"734240",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/re0_sjz/avatar?type=large",showName:!0,name:"Re:0_SJZ",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a>\n&#x80FD;&#x4E0D;&#x80FD;&#x6DFB;&#x52A0; &#x8D85;&#x5408;&#x91D1;&#x7EC4;&#x4EF6;&#x91CC;&#x7684;\n&#x70B9;&#x51FB;&#x770B;&#x8FC7;&#x65F6;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;\n&#x5728;&#x7AE0;&#x8282;&#x9875;&#x9762;&#x5185;&#x4FEE;&#x6539;&#x6536;&#x85CF;&#x72B6;&#x6001;&#x4E3A;&#x770B;&#x8FC7;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x7684;&#x96C6;&#x6570;&#xFF0C;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8FDB;&#x5EA6;&#xFF0E; sp &#x8FDB;&#x5EA6;&#x4F1A;&#x4FDD;&#x7559;&#x539F;&#x6837;&#x4E66;&#x7C4D;&#x548C;&#x52A8;&#x753B;&#x4EE5;&#x53CA;&#x4E09;&#x6B21;&#x5143;&#x5747;&#x6709;&#x6548;&#xFF0E;..',id:"re0_sjz",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/a4paper/avatar?type=large",showName:!0,name:"nodame",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> &#x66F4;&#x65B0;&#x6700;&#x65B0;&#x7248;&#x540E;&#xFF0C;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#xFF0C;CDN&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED;',id:"a4paper",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/nofttwiq/avatar?type=large",showName:!0,name:"Nofttwiq.",text:"&#x53CD;&#x9988;&#xFF0C;&#x5B89;&#x5353;&#x8FDB;&#x5EA6;&#x91CC;&#x7684;&#x81EA;&#x52A8;&#x8C03;&#x8282;&#x7AE0;&#x8282;&#x6309;&#x94AE;&#x5927;&#x5C0F;&#x5173;&#x95ED;&#x4E4B;&#x540E;&#xFF0C;&#x9000;&#x51FA;&#x5E94;&#x7528;&#xFF0C;&#x540E;&#x53F0;&#x6E05;&#x7406;&#x540E;&#xFF0C;&#x56DE;&#x5230;&#x5E94;&#x7528;&#x9009;&#x9879;&#x4F1A;&#x518D;&#x6B21;&#x6253;&#x5F00;&#xFF0C;&#x6BCF;&#x8FDB;&#x4E00;&#x6B21;&#x5C31;&#x8981;&#x91CD;&#x65B0;&#x8FDB;&#x8BBE;&#x7F6E;&#x8C03;&#x4E00;&#x6B21;",id:"nofttwiq",format:!0},{position:"left",avatar:"https://api.bgm.tv/v0/users/ilris/avatar?type=large",showName:!0,name:"Sisbell",text:'<a href="/user/sukaretto" class="l">@&#x5495;&#x5495;&#x5B50;&#x2776;</a> [&#x7591;&#x4F3C;BUG]&#x67E5;&#x770B;&#x6761;&#x76EE;&#x4E0B;&#x4EBA;&#x7269;&#x5410;&#x69FD;&#x533A;&#x65F6;&#x5076;&#x7136;&#x53D1;&#x73B0;&#xFF0C;&#x5410;&#x69FD;&#x52A0;&#x8F7D;&#x697C;&#x5C42;&#x6570;&#x4F3C;&#x4E4E;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;22&#x5C42;&#xFF0C;&#x8D85;&#x8FC7;&#x4FBF;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x4E14;&#x6301;&#x7EED;&#x663E;&#x793A;&#x52A0;&#x8F7D;&#x4E2D;&#x3002;&#x6682;&#x4E0D;&#x6E05;&#x695A;&#x4ECE;&#x4EC0;&#x4E48;&#x7248;&#x672C;&#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x5E94;&#x8BE5;&#x4E5F;&#x6CA1;&#x95EE;&#x9898;&#x3002;(bgm38)',id:"ilris",format:!0}]},"./src/screens/_/item/say/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSay=void 0,Object.defineProperty(t,"ItemSayProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/screens/_/base/index.ts"),g=s("./src/screens/_/item/say/styles.ts"),n=s("./src/screens/_/item/say/types.ts"),b=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.event,r=void 0===s?_.EVENT:s,s=e.index,n=e.position,n=void 0===n?"left":n,o=e.avatar,i=e.showName,a=e.name,d=e.text,l=e.id,c=e.format,c=void 0===c||c,e=e.onLongPress,e=void 0===e?function(){}:e,u=t.navigation,t=(0,g.memoStyles)(),m=y.systemStore.setting.coverRadius;return"right"===n?(0,b.jsxs)(f.Flex,{style:i?y._.mt.md:y._.mt.sm,align:"start",children:[(0,b.jsx)(f.Flex.Item,{style:t.contentRight,children:(0,b.jsxs)(f.Flex,{direction:"column",align:"end",children:[i&&(0,b.jsx)(f.Text,{style:y._.mr.sm,size:11,type:"title",bold:!0,children:a}),(0,b.jsx)(p.default,{style:[t.text,t.textActive,y._.mt.xs],children:(0,b.jsx)(f.RenderHtml,{baseFontStyle:t.baseFontStyleRight,linkStyle:t.linkStyleRight,html:c?h(d):d,onLinkPress:function(e){return(0,j.appNavigate)(e,u,{},r)}})})]})}),(0,b.jsx)(f.Flex,{style:[t.avatarWrapRight,{borderRadius:m+4}],justify:"center",children:(0,b.jsx)(f.UserStatus,{userId:l,children:(0,b.jsx)(x.Avatar,{navigation:u,src:o,size:34,userId:l,name:a,borderWidth:0,event:r})})})]},s):(0,b.jsxs)(f.Flex,{style:i?y._.mt.md:y._.mt.sm,align:"start",children:[(0,b.jsx)(f.Flex,{style:[t.avatarWrapLeft,{borderRadius:m+4}],justify:"center",children:(0,b.jsx)(f.UserStatus,{userId:l,children:(0,b.jsx)(x.Avatar,{navigation:u,src:o,size:34,userId:l,name:a,borderWidth:0,event:r,onLongPress:e})})}),(0,b.jsx)(f.Flex.Item,{style:t.contentLeft,children:(0,b.jsxs)(f.Flex,{direction:"column",align:"start",children:[i&&(0,b.jsx)(x.Name,{style:y._.ml.sm,userId:l,showFriend:!0,size:11,type:"title",bold:!0,children:a}),(0,b.jsx)(p.default,{style:[t.text,y._.mt.xs],children:(0,b.jsx)(f.RenderHtml,{baseFontStyle:t.baseFontStyle,html:c?h(d):d,onLinkPress:function(e){return(0,j.appNavigate)(e,u,{},r)}})})]})})]},s)});function h(e){var s=0<arguments.length&&void 0!==e?e:"",t=s.match(/\(bgm\d+\)/g)||[];return t.length&&t.forEach(function(e){var t=parseInt(e.match(/\d+/g)[0]);s=s.replace(e,'<img smileid alt="(bgm~~~'+t+')" />')}),s.replace(/~~~/g,"")}t.ItemSay=s},"./src/screens/_/item/say/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{avatarWrapLeft:{position:"absolute",zIndex:1,left:0,bottom:0,width:40,height:40,backgroundColor:r._.colorBg},avatarWrapRight:{position:"absolute",zIndex:1,right:0,bottom:0,width:40,height:40,backgroundColor:r._.colorBg},contentLeft:{maxWidth:"88%",marginBottom:24,marginLeft:24},contentRight:{maxWidth:"88%",marginLeft:"12%",marginBottom:24,marginRight:24},text:{maxWidth:"100%",padding:12,marginRight:24,backgroundColor:r._.colorPlain,borderRadius:16},textActive:{marginRight:0,marginLeft:24,backgroundColor:r._.colorPrimary,borderTopLeftRadius:16},baseFontStyle:{fontSize:14+r._.fontSizeAdjust,lineHeight:22},baseFontStyleRight:{fontSize:14+r._.fontSizeAdjust,lineHeight:22,color:r._.__colorPlain__},linkStyleRight:{color:r._.__colorPlain__,textDecorationColor:r._.__colorPlain__}}});t.memoStyles=s},"./src/screens/_/item/say/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/search/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;s={navigation:{},styles:{},style:{},index:0,id:"",name:"",nameCn:"",cover:"",typeCn:"",tip:"",rank:"",score:"",total:"",comments:"",collection:"",collected:!1,position:[],event:s("./src/constants/index.ts").EVENT};t.DEFAULT_PROPS=s},"./src/screens/_/item/search/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{id:"/subject/296739",name:"ヴィンランド・サガ SEASON 2",nameCn:"冰海战记 第二季",cover:"//lain.bgm.tv/pic/cover/c/a4/16/296739_71dLe.jpg",typeCn:"动画",tip:"24话 / 2023年1月9日 / 籔田修平 / 幸村誠「ヴィンランド・サガ」（講談社『アフタヌーン』連載） / 阿比留隆彦；副人物设定：若狭賢史、辻村幸輝、あべたくじ（阿部卓司）、渡辺慶子、色部美穂、安食圭 ",rank:"186",score:"8.1",total:"(1132人评分)",collection:"",collected:!1},{id:"/subject/425211",name:"かぐや様は告らせたい-ファーストキッスは終わらない-",nameCn:"辉夜大小姐想让我告白-初吻不会结束-",cover:"//lain.bgm.tv/pic/cover/c/ca/79/425211_bPbra.jpg",typeCn:"动画",tip:"4话 / 2023年3月31日 / 畠山守(小俣真一) / 赤坂アカ （集英社「週刊ヤングジャンプ」連載） / 八尋裕子 ",rank:"236",score:"8.1",total:"(664人评分)",collection:"搁置",collected:!1},{id:"/subject/404804",name:"天国大魔境",nameCn:"天国大魔境",cover:"//lain.bgm.tv/pic/cover/c/ba/c9/404804_1sTp8.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 森大貴 / 石黒正数「天国大魔境」（月刊アフタヌーン／講談社刊） / うつした(南方研究所)；副人物设定：吉田優子、渡辺愛 ",rank:"277",score:"7.9",total:"(599人评分)",collection:"在看",collected:!0},{id:"/subject/376739",name:"進撃の巨人 The Final Season 完結編 前編",nameCn:"进击的巨人 最终季 完结篇 前篇",cover:"//lain.bgm.tv/pic/cover/c/4f/33/376739_KMN9x.jpg",typeCn:"动画",tip:"1话 / 2023年3月3日 / 林祐一郎 / 諫山創（別冊少年マガジン連載／講談社） / 岸友洋 ",rank:"431",score:"7.8",total:"(2003人评分)",collection:"想看",collected:!0},{id:"/subject/378862",name:"お兄ちゃんはおしまい！",nameCn:"别当欧尼酱了！",cover:"//lain.bgm.tv/pic/cover/c/7e/ca/378862_24TnR.jpg",typeCn:"动画",tip:"12话 / 2023年1月5日 / 藤井慎吾 / ねことうふ（月刊ComicREX／一迅社刊） / 今村亮 ",rank:"563",score:"7.7",total:"(5885人评分)",collection:"看过",collected:!0},{id:"/subject/362335",name:"グリッドマン ユニバース",nameCn:"古立特宇宙",cover:"//lain.bgm.tv/pic/cover/c/76/b8/362335_VhtRE.jpg",typeCn:"动画",tip:"1话 / 2023年3月24日 / 雨宮哲 / グリッドマン / 坂本勝 ",rank:"565",score:"8.1",total:"(68人评分)",collection:"",collected:!0},{id:"/subject/325587",name:"やはり俺の青春ラブコメはまちがっている。完 OVA",nameCn:"我的青春恋爱物语果然有问题 完 OVA",cover:"//lain.bgm.tv/pic/cover/c/df/fa/325587_P8eCb.jpg",typeCn:"动画",tip:"1话 / 2023年4月27日 / 渡航（小学館「ガガガ文庫」） ",rank:"1302",score:"7.4",total:"(377人评分)",collection:"",collected:!0},{id:"/subject/373247",name:"無職転生Ⅱ～異世界行ったら本気だす～",nameCn:"无职转生 II ～到了异世界就拿出真本事～",cover:"//lain.bgm.tv/pic/cover/c/cf/55/373247_qX53z.jpg",typeCn:"动画",tip:"2023年7月 / 理不尽な孫の手（MFブックス／KADOKAWA刊） ",rank:"1490",score:"7.3",total:"(236人评分)",collection:"",collected:!0},{id:"/subject/395782",name:"ジョジョの奇妙な冒険 ストーンオーシャン 第3クール",nameCn:"JOJO的奇妙冒险 石之海 Part.3",cover:"//lain.bgm.tv/pic/cover/c/f7/40/395782_2KxQx.jpg",typeCn:"动画",tip:"14话 / 2023年1月6日 / 加藤敏幸 / 荒木飛呂彦（集英社ジャンプコミックス刊） / 筱雅律；副人物设定：土屋圭 ",rank:"1886",score:"7.2",total:"(1886人评分)",collection:"",collected:!1},{id:"/subject/401960",name:"にじよん あにめーしょん",nameCn:"虹四动画",cover:"//lain.bgm.tv/pic/cover/c/31/aa/401960_nQcWc.jpg",typeCn:"动画",tip:"15话 / 2023年1月6日 / ほりうちゆうや / 矢立肇；漫画：ミヤコヒト ",rank:"2145",score:"7.1",total:"(520人评分)",collection:"",collected:!1},{id:"/subject/358660",name:"",nameCn:"中国奇谭",cover:"//lain.bgm.tv/pic/cover/c/e2/97/358660_M4986.jpg",typeCn:"动画",tip:"8话 / 2023年1月1日 / 於水（《小妖怪的夏天》），胡睿（《鹅鹅鹅》），杨木（《林林》），刘毛宁（《乡村巴士带走了王孩儿和神仙》），陈莲华、周小琳（《小满》），潘斌（《飞鸟与鱼》），顾杨、刘旷（《小卖部》），徐宁（《玉兔》） / 於水（《小妖怪的夏天》），顾杨（《小卖部》） ",rank:"2193",score:"7.1",total:"(1562人评分)",collection:"",collected:!1},{id:"/subject/325808",name:"地獄楽",nameCn:"地狱乐",cover:"//lain.bgm.tv/pic/cover/c/e6/b1/325808_4OXIC.jpg",typeCn:"动画",tip:"13话 / 2023年4月1日 / 牧田佳織 / 賀来ゆうじ（『地獄楽』集英社「ジャンプコミックス」刊） / 久木晃嗣 ",rank:"2205",score:"7.0",total:"(340人评分)",collection:"",collected:!1}]},"./src/screens/_/item/search/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSearch=void 0,Object.defineProperty(t,"ItemSearchProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),_=r(s("./src/screens/_/item/search/item.tsx")),x=s("./src/screens/_/item/search/styles.ts"),o=s("./src/screens/_/item/search/types.ts"),g=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.index,n=e.id,o=e.name,i=e.nameCn,a=e.cover,d=e.typeCn,l=e.tip,c=e.rank,u=e.score,m=e.total,p=e.comments,f=e.collection,y=e.collected,j=e.position,e=e.event;return(0,g.jsx)(_.default,{navigation:t,styles:(0,x.memoStyles)(),style:s,index:r,id:n,name:o,nameCn:i,cover:a,typeCn:d,tip:l,rank:c,score:u,total:m,comments:p,collection:f,collected:y,position:j,event:e})});t.ItemSearch=r;try{r.displayName="ItemSearch",r.__docgenInfo={description:"",displayName:"ItemSearch",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!1,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!1,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!1,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"string"}},collection:{defaultValue:null,description:"",name:"collection",required:!1,type:{name:"string"}},collected:{defaultValue:null,description:"",name:"collected",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/index.tsx#ItemSearch"]={docgenInfo:r.__docgenInfo,name:"ItemSearch",path:"src/screens/_/item/search/index.tsx#ItemSearch"})}catch(e){}},"./src/screens/_/item/search/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),S=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),O=s("./src/stores/index.ts"),T=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),I=s("./src/constants/index.ts"),C=s("./src/screens/_/base/index.ts"),w=r(s("./src/screens/_/item/search/title/index.tsx")),r=s("./src/screens/_/item/search/ds.ts"),k=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t=e.navigation,s=e.styles,r=e.style,n=e.index,o=e.id,i=e.name,a=e.nameCn,d=e.cover,l=e.typeCn,c=e.tip,u=e.rank,m=e.score,p=e.total,f=e.comments,y=e.collection,j=e.position,_=e.event,e=!String(o).includes("/subject/"),x="音乐"===l,g=c||j.length?"between":"start",b=String(o).replace("/subject/",""),h=e?I.IMG_WIDTH:I.IMG_WIDTH_LG,v=e?I.IMG_WIDTH:I.IMG_HEIGHT_LG;return(0,k.jsx)(S.Touchable,{style:(0,T.stl)(s.container,r),animate:!0,onPress:function(){(0,T.appNavigate)(String(o),t,{_jp:i,_cn:a,_image:d,_type:l,_collection:y},_)},children:(0,k.jsxs)(S.Flex,{style:s.wrap,align:"start",children:[(0,k.jsx)(C.InView,{style:{minWidth:h,minHeight:v},y:184*n+1,children:(0,k.jsx)(C.Cover,{src:d,placeholder:!e,width:h,height:v,radius:!0,shadow:!0,type:l})}),(0,k.jsxs)(S.Flex,{style:(0,T.stl)(s.content,!!f&&s.flux,x&&s.musicContent),direction:"column",justify:g,align:"start",children:[(0,k.jsxs)(S.Flex,{style:O._.container.block,align:"start",children:[(0,k.jsx)(S.Flex.Item,{children:(0,k.jsx)(w.default,{name:i,nameCn:a,comments:f})}),!e&&(0,k.jsx)(C.Manage,{subjectId:b,collection:y,typeCn:l,onPress:function(){O.uiStore.showManageModal({subjectId:b,title:(0,T.cnjp)(a,i),desc:(0,T.cnjp)(i,a),status:I.MODEL_COLLECTION_STATUS.getValue(y),action:(0,T.getAction)(l)})}})]}),!!c&&(0,k.jsx)(S.Text,{style:(0,T.stl)(x&&O._.mt.xs,I.STORYBOOK&&O._.mr.lg),size:11,lineHeight:13,numberOfLines:x?2:3,children:c}),!!j.length&&(0,k.jsx)(S.Flex,{style:O._.mt.sm,wrap:"wrap",children:j.map(function(e){return(0,k.jsx)(C.Tag,{style:O._.mr.sm,value:e},e)})}),(0,k.jsxs)(S.Flex,{style:O._.mt.md,children:[(0,k.jsx)(C.Rank,{value:u}),(0,k.jsx)(C.Stars,{value:m}),(0,k.jsx)(S.Text,{style:O._.ml.xxs,type:"sub",size:11,children:p})]})]})]})})},r.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingLeft: number; }; wrap: { paddingVertical: number; paddingRight: number; }; content: { flex: number; height: number; marginLeft: number; }; flux: { height: string; minHeight: number; }; musicContent: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Id"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!0,type:{name:"string"}},typeCn:{defaultValue:null,description:"",name:"typeCn",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},tip:{defaultValue:null,description:"",name:"tip",required:!0,type:{name:"string"}},rank:{defaultValue:null,description:"",name:"rank",required:!0,type:{name:"string | number"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"string | number"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"string"}},collection:{defaultValue:null,description:"动画才有, 具体收藏状态",name:"collection",required:!0,type:{name:"string"}},collected:{defaultValue:null,description:"是否收藏",name:"collected",required:!0,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"string[]"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/search/item.tsx#item"})}catch(e){}},"./src/screens/_/item/search/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{flex:1,height:n.IMG_HEIGHT_LG,marginLeft:r._._wind},flux:{height:"auto",minHeight:n.IMG_HEIGHT_LG},musicContent:{height:"auto",minHeight:n.IMG_WIDTH_LG}}});t.memoStyles=s},"./src/screens/_/item/search/title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.name,s=e.nameCn,e=e.comments,r=(0,a.cnjp)(s,t),s=!!(t=(0,a.cnjp)(t,s))&&t!==r,n=28<=(n=(r||t).length)?12:20<=n?13:12<=n?14:15,o=32<=(o=t.length)?9:24<=o?10:16<=o?11:12;return(0,d.jsxs)(d.Fragment,{children:[!(!r&&!t)&&(0,d.jsxs)(i.Katakana.Provider,{size:n,numberOfLines:s?2:3,bold:!0,children:[(0,d.jsx)(i.Katakana,{size:n,bold:!0,children:r||t}),!!e&&(0,d.jsxs)(i.Text,{type:"main",lineHeight:n,children:[" ",e]})]}),s&&(0,d.jsx)(i.Katakana.Provider,{type:"sub",size:o,lineHeight:13,bold:!0,numberOfLines:1,children:(0,d.jsx)(i.Katakana,{type:"sub",size:o,lineHeight:13,bold:!0,numberOfLines:1,children:t})})]})});t.default=s;try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!0,type:{name:"any"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/search/title/index.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"src/screens/_/item/search/title/index.tsx#title"})}catch(e){}},"./src/screens/_/item/search/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/setting-block/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"主题",information:"点击顶部 Logo 亦可快速切换黑白模式，长按 Logo 则前往设置\n两种黑暗模式之间切换需要重新启动才能正确生效",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068629567-49cdcbef-26cb-40f4-aff9-059427a8f27e.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068632037-870a9c78-0478-4ce9-8696-c52812f70be0.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661068634586-b7c73edc-a671-4922-8f85-b04448aa4b9c.png"}]},{style:{marginTop:8},show:!0,title:"字体",information:"开启后会强制使用 Resource Han Rounded (思源幼圆) 字体，以便在各设备达到设计上面的 UI 统一",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070600959-cfe3b7a7-696b-4325-a81e-fe3f58f99edf.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661070607888-446ff81c-6acf-4416-8a73-e2aca67932db.png"}]},{style:{marginTop:8},show:!0,title:"封面拟物",information:"能确定类型的条目封面拟物化，增加区分度",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071481482-cb9d38b1-1f09-4188-a13d-c10f5b6bbf75.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071487013-ae69bffd-7e68-40be-a3d7-2ded444e7d3c.png"}]},{style:{marginTop:8},show:!0,title:"图片圆角",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071928529-37497a51-74f6-4024-adec-b7d3c7a06e8c.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071931109-1464ee05-7d82-43a8-9fe1-14f214de16a3.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661071933774-201d5370-7fd0-4e97-91ac-cda5b4be45f7.png"}]},{style:{marginTop:8},show:!0,title:"看板娘吐槽",information:"通常在列表尾部出现表示已到底",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661072680253-59856506-ac70-44d7-bba3-fd34fb8ffef3.png"}]},{style:{marginTop:8},show:!0,title:"头像",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073314717-f67e17c1-0ae4-4e19-b61a-4fdaf2eb4bdd.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073326148-8687046a-026a-4217-a3b3-1209dc3470e2.png"}]},{style:{marginTop:8,marginRight:-16},show:!0,title:"字号",informationType:"sub",size:16,filter:"",thumb:[{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073553895-58817e4e-68c6-4236-9d4b-aef6a2d2eb6b.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073556659-29544f2b-ddef-443f-8d0f-b8f562536bc6.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073559152-353bcac8-6cd2-475b-8826-98288110e9cc.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073561929-ef4508fd-a12b-4c38-bb93-a7d9b0021965.png"},{url:"https://cdn.nlark.com/yuque/0/2022/png/386799/1661073564431-15d38cf2-04d1-4514-96cb-2f1c8ddea115.png"}]}]},"./src/screens/_/item/setting-block/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IItemSettingBlock",{enumerable:!0,get:function(){return o.IItemSettingBlock}}),t.ItemSettingBlock=void 0,Object.defineProperty(t,"ItemSettingBlockItemProps",{enumerable:!0,get:function(){return o.ItemSettingBlockItemProps}}),Object.defineProperty(t,"ItemSettingBlockProps",{enumerable:!0,get:function(){return o.ItemSettingBlockProps}}),r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),r=r(s("./src/screens/_/item/setting-block/item.tsx")),f=s("./src/screens/_/item/setting-block/styles.ts"),o=s("./src/screens/_/item/setting-block/types.ts"),y=s("./node_modules/react/jsx-runtime.js"),s=(0,n.ob)(function(e){var t=e.style,s=e.show,r=e.title,n=e.information,o=e.informationType,o=void 0===o?"sub":o,i=e.size,i=void 0===i?16:i,a=e.filter,d=e.thumb,l=e.align,e=e.children;return void 0===s||s?(s=(0,f.memoStyles)(),(0,y.jsxs)(c.default,{style:t?[s.container,t]:s.container,children:[!!r&&(0,y.jsxs)(u.Flex,{children:[(0,y.jsx)(u.Highlight,{type:"title",size:i,bold:!0,value:a,children:r}),!!d&&(0,y.jsx)(u.Touchable,{style:m._.ml.xs,onPress:function(){return(0,p.showImageViewer)(d,0,!0)},children:(0,y.jsx)(u.Iconfont,{name:"md-info-outline",size:16})})]}),!!n&&(0,y.jsx)(u.Highlight,{style:m._.mt.xs,type:o,size:12,lineHeight:14,value:a,children:n}),(0,y.jsx)(u.Flex,{style:m._.mt.md,align:l,children:e})]})):null});(t.ItemSettingBlock=s).Item=r.default},"./src/screens/_/item/setting-block/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/screens/_/item/setting-block/styles.ts"),_=s("./src/utils/index.ts"),x=s("./node_modules/react/jsx-runtime.js"),s=(0,r.ob)(function(e){var t=e.style,s=e.itemStyle,r=e.show,n=e.active,n=void 0!==n&&n,o=e.icon,i=e.iconStyle,a=e.iconColor,d=e.title,l=e.information,c=e.informationType,c=void 0===c?"sub":c,u=e.filter,m=e.children,e=e.onPress,e=void 0===e?function(){}:e;return void 0===r||r?(r=(0,j.memoStyles)(),(0,x.jsx)(f.Flex.Item,{style:t,children:(0,x.jsx)(f.Touchable,{animate:!0,onPress:e,children:(0,x.jsx)(p.default,{style:(0,_.stl)(r.touch,n&&r.active),children:(0,x.jsxs)(f.Flex,{style:(0,_.stl)(r.body,s),direction:"column",justify:"center",align:"center",children:[!!o&&(0,x.jsx)(f.Iconfont,{style:(0,_.stl)(y._.mb.sm,i),name:o,color:a||y._.colorSub,size:20}),(0,x.jsx)(f.Highlight,{size:15,align:"center",value:u,children:d}),!!l&&(0,x.jsx)(f.Highlight,{style:y._.mt.xs,type:c,size:10,lineHeight:11,align:"center",value:u,children:l}),m]})})})})):null});t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},itemStyle:{defaultValue:null,description:"",name:"itemStyle",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},iconStyle:{defaultValue:null,description:"",name:"iconStyle",required:!1,type:{name:"TextStyle"}},iconColor:{defaultValue:null,description:"",name:"iconColor",required:!1,type:{name:"ColorValue"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"__plain__"'},{value:'"main"'},{value:'"primary"'},{value:'"success"'},{value:'"warning"'},{value:'"danger"'},{value:'"title"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"bid"'},{value:'"ask"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting-block/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/setting-block/item.tsx#item"})}catch(e){}},"./src/screens/_/item/setting-block/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingHorizontal:r._._wind,paddingBottom:r._.md},touch:{minWidth:r._.window.contentWidth/5,borderWidth:1,borderColor:r._.colorBorder,borderRadius:r._.radiusMd,overflow:"hidden"},active:{borderColor:r._.colorSuccess},body:{height:76,paddingHorizontal:r._.xs}}});t.memoStyles=s},"./src/screens/_/item/setting-block/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/setting/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{show:!0,hd:"版本",ft:"7.11.1",arrow:!0,arrowStyle:[{marginLeft:8},{marginRight:2}],arrowIcon:"md-open-in-new",arrowSize:18,informationType:"sub",filter:""},{show:!0,hd:"主题",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"画面",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"定制",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"CDN",ft:"开启",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"底栏",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"屏蔽",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""},{show:!0,hd:"其他",ft:"",arrow:!0,arrowIcon:"md-navigate-next",arrowSize:22,informationType:"sub",filter:""}]},"./src/screens/_/item/setting/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemSetting=void 0,Object.defineProperty(t,"ItemSettingProps",{enumerable:!0,get:function(){return n.Props}}),r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),j=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/stores/index.ts"),g=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/screens/_/item/setting/styles.ts"),n=s("./src/screens/_/item/setting/types.ts"),h=s("./node_modules/react/jsx-runtime.js"),v=["style","show","hd","ft","arrow","arrowStyle","arrowIcon","arrowSize","information","informationType","thumb","filter","children","onPress"],s=(0,r.ob)(function(e){var t=e.style,s=e.show,s=void 0===s||s,r=e.hd,n=e.ft,o=e.arrow,i=e.arrowStyle,a=e.arrowIcon,a=void 0===a?"md-navigate-next":a,d=e.arrowSize,d=void 0===d?22:d,l=e.information,c=e.informationType,c=void 0===c?"sub":c,u=e.thumb,m=e.filter,p=e.children,f=e.onPress,e=(0,y.default)(e,v);return s?(s=(0,b.memoStyles)(),r=(0,h.jsxs)(j.default,{style:s.item,children:[(0,h.jsxs)(_.Flex,{children:[(0,h.jsx)(_.Flex.Item,{children:(0,h.jsxs)(_.Flex,{children:[(0,h.jsx)(_.Highlight,{type:"title",size:16,bold:!0,value:m,children:r}),!!u&&(0,h.jsx)(_.Touchable,{style:x._.ml.xs,onPress:function(){return(0,g.showImageViewer)(u,0,!0)},children:(0,h.jsx)(_.Iconfont,{name:"md-info-outline",size:16})})]})}),"string"==typeof n?(0,h.jsx)(_.Text,{type:"sub",children:n}):n,o&&(0,h.jsx)(_.Iconfont,{style:(0,g.stl)(x._.ml.xs,i),name:a,size:d})]}),(0,h.jsx)(_.Flex,{children:!!l&&(0,h.jsx)(_.Highlight,{style:s.information,type:c,size:12,lineHeight:13,value:m,children:l})}),p]}),f?(0,h.jsx)(_.Touchable,Object.assign({style:t?[s.touchable,t]:s.touchable,onPress:f},e,{children:r})):(0,h.jsx)(j.default,Object.assign({style:t?[s.touchable,t]:s.touchable},e,{children:r}))):null});t.ItemSetting=s;try{s.displayName="ItemSetting",s.__docgenInfo={description:"",displayName:"ItemSetting",props:{onLongPress:{defaultValue:null,description:"",name:"onLongPress",required:!1,type:{name:"(event?: any) => any"}},animate:{defaultValue:null,description:"是否使用缩放动画",name:"animate",required:!1,type:{name:"boolean"}},withoutFeedback:{defaultValue:null,description:"是否无反馈效果",name:"withoutFeedback",required:!1,type:{name:"boolean"}},delay:{defaultValue:null,description:"是否防止快速多次点击",name:"delay",required:!1,type:{name:"boolean"}},scale:{defaultValue:null,description:"点击中动画缩放比例, 默认 0.95",name:"scale",required:!1,type:{name:"number"}},hitSlop:{defaultValue:null,description:"设置元素能够检测到按压动作的额外距离",name:"hitSlop",required:!1,type:{name:"Insets"}},highlight:{defaultValue:null,description:"是否高亮反馈效果",name:"highlight",required:!1,type:{name:"boolean"}},delayPressIn:{defaultValue:null,description:"在 onPressOut 和 onPress 之前的时间",name:"delayPressIn",required:!1,type:{name:"number"}},delayPressOut:{defaultValue:null,description:"松开手后的时间",name:"delayPressOut",required:!1,type:{name:"number"}},useRN:{defaultValue:null,description:"iOS 端此值无变化\n安卓端 Touchable 都使用了 react-native-gesture-handler 提供的封装\n有比 RN 提供的更快的反馈效果，若设置为 true 强制使用 RN 提供的 <Touchable>",name:"useRN",required:!1,type:{name:"boolean"}},ripple:{defaultValue:null,description:"涟漪状的背景（安卓 only）",name:"ripple",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},hd:{defaultValue:null,description:"",name:"hd",required:!1,type:{name:"ReactNode"}},ft:{defaultValue:null,description:"",name:"ft",required:!1,type:{name:"ReactNode"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}},arrowStyle:{defaultValue:null,description:"",name:"arrowStyle",required:!1,type:{name:"TextStyle"}},arrowIcon:{defaultValue:null,description:"",name:"arrowIcon",required:!1,type:{name:"enum",value:[{value:'"home"'},{value:'"trophy"'},{value:'"icon-layer"'},{value:'"icon-history"'},{value:'"icon-quotes"'},{value:'"icon-delete-row"'},{value:'"icon-bold"'},{value:'"icon-image"'},{value:'"icon-italic"'},{value:'"icon-more-grid"'},{value:'"icon-underline"'},{value:'"icon-hide"'},{value:'"icon-strikethrough"'},{value:'"icon-link"'},{value:'"icon-setting"'},{value:'"icon-trophy"'},{value:'"icon-home"'},{value:'"icon-bgm"'},{value:'"icon-moon"'},{value:'"icon-star"'},{value:'"icon-sunny"'},{value:'"ios-moon"'},{value:'"ios-star"'},{value:'"ios-star-half"'},{value:'"ios-star-outline"'},{value:'"ios-sunny"'},{value:'"md-link"'},{value:'"md-search"'},{value:'"md-menu"'},{value:'"md-access-time"'},{value:'"md-add"'},{value:'"md-add-circle-outline"'},{value:'"md-airplay"'},{value:'"md-arrow-back"'},{value:'"md-arrow-drop-down"'},{value:'"md-arrow-drop-up"'},{value:'"md-arrow-forward"'},{value:'"md-attach-money"'},{value:'"md-bookmark-outline"'},{value:'"md-brightness-2"'},{value:'"md-brightness-5"'},{value:'"md-calculate"'},{value:'"md-calendar-today"'},{value:'"md-cancel-presentation"'},{value:'"md-card-membership"'},{value:'"md-change-history"'},{value:'"md-chat-bubble-outline"'},{value:'"md-check"'},{value:'"md-check-circle"'},{value:'"md-check-circle-outline"'},{value:'"md-chrome-reader-mode"'},{value:'"md-close"'},{value:'"md-compare-arrows"'},{value:'"md-data-usage"'},{value:'"md-delete-outline"'},{value:'"md-do-not-disturb-alt"'},{value:'"md-done-all"'},{value:'"md-filter-none"'},{value:'"md-edit"'},{value:'"md-equalizer"'},{value:'"md-expand"'},{value:'"md-face"'},{value:'"md-favorite"'},{value:'"md-favorite-outline"'},{value:'"md-filter-list"'},{value:'"md-folder"'},{value:'"md-folder-open"'},{value:'"md-folder-shared"'},{value:'"md-folder-special"'},{value:'"md-g-translate"'},{value:'"md-gavel"'},{value:'"md-grid-view"'},{value:'"md-hd"'},{value:'"md-image-aspect-ratio"'},{value:'"md-inbox"'},{value:'"md-info-outline"'},{value:'"md-insert-chart-outlined"'},{value:'"md-ios-share"'},{value:'"md-keyboard-arrow-down"'},{value:'"md-keyboard-arrow-up"'},{value:'"md-live-tv"'},{value:'"md-local-play"'},{value:'"md-looks"'},{value:'"md-mail-outline"'},{value:'"md-menu-open"'},{value:'"md-money"'},{value:'"md-more-horiz"'},{value:'"md-more-vert"'},{value:'"md-navigate-before"'},{value:'"md-navigate-next"'},{value:'"md-notes"'},{value:'"md-open-in-new"'},{value:'"md-person-outline"'},{value:'"md-radio-button-off"'},{value:'"md-radio-button-on"'},{value:'"md-read-more"'},{value:'"md-refresh"'},{value:'"md-remove-circle-outline"'},{value:'"md-remove-red-eye"'},{value:'"md-send"'},{value:'"md-sort"'},{value:'"md-star"'},{value:'"md-star-half"'},{value:'"md-star-outline"'},{value:'"md-subdirectory-arrow-right"'},{value:'"md-text-format"'},{value:'"md-timeline"'},{value:'"md-trending-up"'},{value:'"md-vertical-align-top"'},{value:'"md-videogame-asset"'},{value:'"md-visibility"'},{value:'"md-visibility-off"'},{value:'"md-waterfall-chart"'},{value:'"md-whatshot"'},{value:'"md-workspaces-outline"'},{value:'"setting"'}]}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"number"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"string"}},informationType:{defaultValue:null,description:"",name:"informationType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"__plain__"'},{value:'"main"'},{value:'"primary"'},{value:'"success"'},{value:'"warning"'},{value:'"danger"'},{value:'"title"'},{value:'"desc"'},{value:'"sub"'},{value:'"icon"'},{value:'"border"'},{value:'"avatar"'},{value:'"bid"'},{value:'"ask"'},{value:'"tinygrailPlain"'},{value:'"tinygrailText"'},{value:'"tinygrailIcon"'}]}},filter:{defaultValue:null,description:"",name:"filter",required:!1,type:{name:"string"}},thumb:{defaultValue:null,description:"",name:"thumb",required:!1,type:{name:"false | { url: string; _url?: string; headers?: object; }[]"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"(event?: any) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/setting/index.tsx#ItemSetting"]={docgenInfo:s.__docgenInfo,name:"ItemSetting",path:"src/screens/_/item/setting/index.tsx#ItemSetting"})}catch(e){}},"./src/screens/_/item/setting/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{touchable:{paddingLeft:r._._wind},item:{paddingVertical:12,paddingRight:r._._wind},information:{maxWidth:"86%"}}});t.memoStyles=s},"./src/screens/_/item/setting/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/timeline/avatar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/screens/_/base/index.ts"),l=s("./src/screens/_/item/timeline/ds.ts"),c=s("./src/screens/_/item/timeline/avatar/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.navigation,s=e.p1Text,r=e.userId,n=e.avatarSrc,e=e.event,o=(0,c.memoStyles)();return(0,u.jsx)(i.default,{style:o.avatar,children:!!n&&(0,u.jsx)(a.UserStatus,{userId:r,children:(0,u.jsx)(d.Avatar,{navigation:t,size:l.AVATAR_WIDTH,userId:r,name:s,src:n,event:e})})})});t.default=s;try{avatar.displayName="avatar",avatar.__docgenInfo={description:"",displayName:"avatar",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},p1Text:{defaultValue:null,description:"",name:"p1Text",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}},avatarSrc:{defaultValue:null,description:"",name:"avatarSrc",required:!0,type:{name:"any"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/avatar/index.tsx#avatar"]={docgenInfo:avatar.__docgenInfo,name:"avatar",path:"src/screens/_/item/timeline/avatar/index.tsx#avatar"})}catch(e){}},"./src/screens/_/item/timeline/avatar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/_/item/timeline/ds.ts"),s=r._.memoStyles(function(){return{avatar:{width:r._.r(n.AVATAR_WIDTH),marginTop:r._.r(18),marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/_/item/timeline/desc/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),f=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/screens/_/item/timeline/desc/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.navigation,s=e.subject,r=e.subjectId,n=e.image,o=e.comment,i=e.replyContent,a=e.replyCount,d=(e=e.event).id,l=void 0===(e=e.data)?{}:e;return(0,j.jsxs)(j.Fragment,{children:[!!s&&(0,j.jsx)(c.default,{style:m._.mt.sm,children:(0,j.jsx)(u.Katakana.Provider,{children:(0,j.jsx)(u.Katakana,{type:"main",bold:!0,onPress:function(){var e=Object.assign({to:"Subject",subjectId:r},l);r&&m.systemStore.setting.timelinePopable?((0,f.t)("时间胶囊.缩略框",e),m.uiStore.showPopableSubject({subjectId:r})):((0,f.t)(d,e),t.push("Subject",{subjectId:r,_cn:(0,p.findSubjectCn)(s,r),_jp:s,_image:(0,p.getCoverMedium)(!!n.length&&n[0])}))},children:(0,p.findSubjectCn)(s,r)})})}),!!(o||i||a)&&(0,j.jsx)(c.default,{style:m._.mt.sm,children:(0,j.jsx)(u.Expand,{moreStyle:y.styles.more,ratio:.64,children:(0,j.jsx)(u.Text,{lineHeight:20,children:o||i||a})})})]})});t.default=s;try{desc.displayName="desc",desc.__docgenInfo={description:"",displayName:"desc",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"any"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"any"}},replyContent:{defaultValue:null,description:"",name:"replyContent",required:!0,type:{name:"any"}},replyCount:{defaultValue:null,description:"",name:"replyCount",required:!0,type:{name:"any"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/desc/index.tsx#desc"]={docgenInfo:desc.__docgenInfo,name:"desc",path:"src/screens/_/item/timeline/desc/index.tsx#desc"})}catch(e){}},"./src/screens/_/item/timeline/desc/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts")._.create({more:{paddingHorizontal:0}});t.styles=s},"./src/screens/_/item/timeline/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIDDEN_DS=t.DEFAULT_PROPS=t.AVATAR_WIDTH=t.AVATAR_COVER_WIDTH=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),r=(t.AVATAR_WIDTH=40,r._.r(40)),r=(t.AVATAR_COVER_WIDTH=r,t.HIDDEN_DS=["1天不看TA","3天不看TA","7天不看TA","重置"],{navigation:{},styles:{},style:{},avatar:{},userId:"",p1:{},p2:{},p3:{text:[],url:[]},p4:{},image:[],comment:"",reply:{},time:"",star:"",subject:"",subjectId:0,clearHref:"",index:0,event:s.EVENT,onDelete:function(){},onHidden:function(){}});t.DEFAULT_PROPS=r},"./src/screens/_/item/timeline/images/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),l=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/_/base/index.ts"),y=s("./src/screens/_/item/timeline/utils.ts"),j=s("./src/screens/_/item/timeline/ds.ts"),_=s("./src/screens/_/item/timeline/images/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var n=e.type,t=e.image,o=e.p3Text,i=e.p3Url,a=e.onNavigate;return t.length<=1?null:(e=t.map(function(s,r){var e=!String(!!i.length&&i[0]).includes("subject");return(0,x.jsx)(l.default,{style:n?u._.mr.md:u._.mr.sm,children:(0,x.jsx)(c.Touchable,{animate:!0,onPress:function(){var e=!!i.length&&i[r]||"",t=(0,y.matchSubjectId)(e);a(e,{_cn:(0,m.findSubjectCn)(!!o.length&&o[r],t),_jp:!!o.length&&o[r],_name:!!o.length&&o[r],_image:s,_type:n})},children:(0,x.jsx)(f.Cover,{src:s,size:e?j.AVATAR_COVER_WIDTH:p.IMG_WIDTH_SM,height:e?j.AVATAR_COVER_WIDTH:p.IMG_HEIGHT_SM,radius:!0,shadow:!0,type:n})})},s||r)}),t.length<=3?(0,x.jsx)(c.Flex,{style:u._.mt.sm,children:e}):(0,x.jsx)(d.default,Object.assign({style:_.styles.scrollView,contentContainerStyle:_.styles.images,horizontal:!0},p.SCROLL_VIEW_RESET_PROPS,{children:e})))});t.default=s;try{images.displayName="images",images.__docgenInfo={description:"",displayName:"images",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/images/index.tsx#images"]={docgenInfo:images.__docgenInfo,name:"images",path:"src/screens/_/item/timeline/images/index.tsx#images"})}catch(e){}},"./src/screens/_/item/timeline/images/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({scrollView:{marginTop:s._.sm,marginRight:-40},images:{paddingTop:s._.sm,paddingRight:s._.sm,paddingBottom:s._.md}});t.styles=s},"./src/screens/_/item/timeline/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["leleq"],url:["https://bgm.tv/user/44560"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/39/13/391356.jpg?r=1610550722","//lain.bgm.tv/pic/user/m/000/04/45/44560.jpg?r=1592279114"],comment:"",reply:{content:"",count:"",url:""},time:"7分54秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"想读"},p3:{text:["あかね噺","ルリドラゴン"],url:["https://bgm.tv/subject/368650","https://bgm.tv/subject/384745"]},p4:{text:"2本书"},image:["//lain.bgm.tv/pic/cover/g/23/a2/368650_L2Zad.jpg","//lain.bgm.tv/pic/cover/g/17/48/384745_lItt3.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"45分47秒前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/25/22/252257.jpg?r=1572229607",url:"https://bgm.tv/user/renkomei"},p1:{text:"Renkomei",url:"https://bgm.tv/user/renkomei"},p2:{text:"想看"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-","天国大魔境","便利屋斎藤さん、異世界に行く"],url:["https://bgm.tv/subject/389474","https://bgm.tv/subject/404804","https://bgm.tv/subject/366165"]},p4:{text:"3部番组"},image:["//lain.bgm.tv/pic/cover/g/ca/b6/389474_tzbrl.jpg","//lain.bgm.tv/pic/cover/g/ba/c9/404804_1sTp8.jpg","//lain.bgm.tv/pic/cover/g/5a/a2/366165_Ds2pa.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时12分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/72/37/723766.jpg?r=1662224182",url:"https://bgm.tv/user/zyskayo2015420"},p1:{text:"ZYSKAYO",url:"https://bgm.tv/user/zyskayo2015420"},p2:{text:"将"},p3:{text:["Ayato"],url:["https://bgm.tv/user/ayato_kanzaki"]},p4:{text:"2位成员加为了好友"},image:["//lain.bgm.tv/pic/user/m/000/69/47/694706.jpg?r=1653029467","//lain.bgm.tv/pic/user/m/000/39/53/395345.jpg?r=1581063492"],comment:"",reply:{content:"",count:"",url:""},time:"1时35分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/47/37/473749.jpg?r=1612928373",url:"https://bgm.tv/user/kexi"},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"完成了"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:"14 of 14 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"北国语雪",url:"https://bgm.tv/user/kexi"},p2:{text:"看过"},p3:{text:["響け！ユーフォニアム"],url:["https://bgm.tv/subject/115908"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/37/df/115908_c0uQj.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"1时46分前",star:"9",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.22 声"],url:["https://bgm.tv/subject/ep/1130196"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"1时50分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/52/69/526953.jpg?r=1680368709&hd=1",url:"https://bgm.tv/user/luv3c111"},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"看过"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/ca/79/425211_bPbra.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"Zq",url:"https://bgm.tv/user/luv3c111"},p2:{text:"完成了"},p3:{text:["かぐや様は告らせたい-ファーストキッスは終わらない-"],url:["https://bgm.tv/subject/425211"]},p4:{text:"4 of 4 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/63/43/634335.jpg?r=1671736241&hd=1",url:"https://bgm.tv/user/634335"},p1:{text:"Aqua",url:"https://bgm.tv/user/634335"},p2:{text:"看过"},p3:{text:["ep.21 俺がいない"],url:["https://bgm.tv/subject/ep/1130195"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时15分前",star:"",subject:"ブルーロック",subjectId:"341163",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/56/98/569814.jpg?r=1613895989",url:"https://bgm.tv/user/569814"},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"收藏了"},p3:{text:["内田真礼","黒沢ともよ","高橋李依","内田雄馬","上田麗奈"],url:["https://bgm.tv/person/6724","https://bgm.tv/person/9560","https://bgm.tv/person/17491","https://bgm.tv/person/15390","https://bgm.tv/person/13164"]},p4:{text:"5个人物"},image:["//lain.bgm.tv/pic/crt/s/4c/23/6724_prsn_BTm9m.jpg?r=1673349167","//lain.bgm.tv/pic/crt/s/dd/f8/9560_prsn_pJTJr.jpg","//lain.bgm.tv/pic/crt/s/bd/56/17491_prsn_1PkIP.jpg?r=1642506690","//lain.bgm.tv/pic/crt/s/38/47/15390_prsn_iW2u5.jpg?r=1647787440","//lain.bgm.tv/pic/crt/s/c5/14/13164_prsn_NrGno.jpg?r=1675004027"],comment:"",reply:{content:"",count:"",url:""},time:"2时16分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"看过"},p3:{text:["ep.1 もにょっとした気持ち"],url:["https://bgm.tv/subject/ep/850084"]},p4:{text:""},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时25分前 · mobile",star:"",subject:"私に天使が舞い降りた！",subjectId:"249637",clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"标签贰零零壹",url:"https://bgm.tv/user/569814"},p2:{text:"在看"},p3:{text:["私に天使が舞い降りた！"],url:["https://bgm.tv/subject/249637"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/f3/2d/249637_2r3gw.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时26分前 · mobile",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"//lain.bgm.tv/pic/user/l/000/39/43/394354.jpg?r=1655402789",url:"https://bgm.tv/user/394354"},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"看过"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:""},image:["//lain.bgm.tv/r/100x100/pic/cover/l/31/aa/401960_nQcWc.jpg"],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"7",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["にじよん あにめーしょん"],url:["https://bgm.tv/subject/401960"]},p4:{text:"15 of 15 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时44分前",star:"",subject:"",subjectId:0,clearHref:""},{style:{backgroundColor:"rgb(0, 0, 0)"},avatar:{src:"",url:""},p1:{text:"透明なDonTeeth",url:"https://bgm.tv/user/394354"},p2:{text:"完成了"},p3:{text:["ダイヤのA"],url:["https://bgm.tv/subject/73083"]},p4:{text:"30 of 75 话"},image:[],comment:"",reply:{content:"",count:"",url:""},time:"2时58分前",star:"",subject:"",subjectId:0,clearHref:""}]},"./src/screens/_/item/timeline/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemTimeline=void 0,Object.defineProperty(t,"ItemTimelineProps",{enumerable:!0,get:function(){return o.Props}}),r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),h=s("./src/utils/index.ts"),v=s("./src/utils/match/index.ts"),n=s("./src/utils/decorators/index.ts"),S=s("./src/constants/index.ts"),O=r(s("./src/screens/_/item/timeline/item.tsx")),T=s("./src/screens/_/item/timeline/styles.ts"),o=s("./src/screens/_/item/timeline/types.ts"),I=s("./node_modules/react/jsx-runtime.js"),r=(0,n.ob)(function(e){var t=e.navigation,s=e.style,r=e.avatar,n=e.p1,o=e.p2,i=e.p3,a=e.p4,d=e.image,l=e.comment,c=e.reply,u=e.time,m=e.star,p=e.subject,f=e.subjectId,y=e.clearHref,j=e.index,_=e.event,x=e.onDelete,e=e.onHidden,g=(0,v.matchUserId)(String((null==r?void 0:r.url)||(null==n?void 0:n.url)).replace(S.HOST,""));return g in b.timelineStore.hidden&&(0,h.getTimestamp)()<b.timelineStore.hidden[g]?null:(0,I.jsx)(O.default,{navigation:t,styles:(0,T.memoStyles)(),style:s,avatar:r,userId:g,p1:n,p2:o,p3:i,p4:a,image:d,comment:l,reply:c,time:u,star:m,subject:p,subjectId:f,clearHref:y,index:j,event:_,onDelete:x,onHidden:e})});t.ItemTimeline=r;try{r.displayName="ItemTimeline",r.__docgenInfo={description:"",displayName:"ItemTimeline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"{ url?: string; src?: string; }"}},p1:{defaultValue:null,description:"",name:"p1",required:!1,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!1,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!1,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!1,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!1,type:{name:"{ count: number; url?: string; content?: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!1,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!1,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!1,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!1,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!1,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/index.tsx#ItemTimeline"]={docgenInfo:r.__docgenInfo,name:"ItemTimeline",path:"src/screens/_/item/timeline/index.tsx#ItemTimeline"})}catch(e){}},"./src/screens/_/item/timeline/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),A=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),P=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),L=s("./src/components/index.ts"),V=s("./src/stores/index.ts"),M=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),q=s("./src/constants/index.ts"),D=s("./src/screens/_/base/index.ts"),N=r(s("./src/screens/_/item/timeline/avatar/index.tsx")),B=s("./src/screens/_/item/timeline/ds.ts"),F=r(s("./src/screens/_/item/timeline/p/index.tsx")),H=r(s("./src/screens/_/item/timeline/desc/index.tsx")),K=r(s("./src/screens/_/item/timeline/images/index.tsx")),Y=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}r=(0,n.memo)(function(e){var t,s=e.navigation,r=e.styles,n=e.style,o=e.avatar,i=e.userId,a=e.p1,d=e.p2,l=e.p3,c=e.p4,u=e.image,m=e.comment,p=e.reply,f=e.time,y=e.star,j=e.subject,_=e.subjectId,x=e.clearHref,g=e.index,b=e.event,h=e.onDelete,v=e.onHidden,e=o.src,o=p.count,S=p.url,p=p.content,O=a.text,a=a.url,d=d.text,T=l.text,I=l.url,l=c.text,C=!!u.length&&u[0],c=!String(!!I.length&&I[0]).includes("subject"),w=3<=u.length,k=(0,A.useCallback)(function(e,t){return(0,M.appNavigate)(e,s,t,b)},[]),E=(0,A.useCallback)(function(){(0,M.confirm)("确定删除?",function(){return h(x)})},[x]),R=(null!=d&&d.includes("读")||null!=l&&l.includes("书籍")?t="书籍":null!=d&&d.includes("听")||null!=l&&l.includes("音乐")?t="音乐":(null!=d&&d.includes("玩")||null!=l&&l.includes("游戏"))&&(t="游戏"),84*(g+2));return(0,Y.jsxs)(L.Flex,{style:n,align:"start",children:[(0,Y.jsx)(D.InView,{style:r.inView,y:R,children:(0,Y.jsx)(N.default,{navigation:s,p1Text:O,userId:i,avatarSrc:e,event:b})},g),(0,Y.jsx)(L.Flex.Item,{style:(0,M.stl)(w?r.noPR:r.content,V._.ml.sm),children:(0,Y.jsxs)(L.Flex,{align:"start",children:[(0,Y.jsxs)(L.Flex.Item,{children:[(0,Y.jsxs)(P.default,{style:w&&r.hasPR,children:[(0,Y.jsx)(F.default,{image:u,p1Text:O,p1Url:a,p2Text:d,p3Text:T,p3Url:I,p4Text:l,userId:i,avatarSrc:e,onNavigate:k}),(0,Y.jsx)(H.default,{navigation:s,subject:j,subjectId:_,image:u,comment:m,replyContent:p,replyCount:o,event:!0})]}),(0,Y.jsx)(D.InView,{y:R,children:(0,Y.jsx)(K.default,{type:t,image:u,p3Text:T,p3Url:I,onNavigate:k})},g),(0,Y.jsxs)(L.Flex,{style:1!==u.length||m||o?V._.mt.md:V._.mt.lg,children:[!!o&&(0,Y.jsx)(L.Touchable,{animate:!0,scale:.9,onPress:function(){return k(S)},children:(0,Y.jsx)(L.Text,{type:"primary",size:12,children:o})}),(0,Y.jsx)(L.Text,{style:V._.mr.sm,type:"sub",size:12,children:f}),(0,Y.jsx)(D.Stars,{value:y})]})]}),(0,Y.jsxs)(L.Flex,{align:"start",children:[1===u.length&&(0,Y.jsx)(D.InView,{y:R,children:(0,Y.jsx)(L.Touchable,{style:V._.ml.md,animate:!0,onPress:function(){k(!!I.length&&I[0],{_jp:!!T.length&&T[0],_name:!!T.length&&T[0],_image:C,_type:t})},children:(0,Y.jsx)(D.Cover,{src:C,size:c?B.AVATAR_COVER_WIDTH:q.IMG_WIDTH_SM,height:c?B.AVATAR_COVER_WIDTH:q.IMG_HEIGHT_SM,radius:!0,shadow:!0,type:t})})},g),(0,Y.jsx)(P.default,{style:r.menu,children:!q.SHARE_MODE&&(x?(0,Y.jsx)(L.Touchable,{style:r.touch,onPress:E,children:(0,Y.jsx)(L.Flex,{style:r.extra,justify:"center",children:(0,Y.jsx)(L.Iconfont,{name:"md-close",size:18})})}):(0,Y.jsx)(D.Popover,{style:r.touch,data:B.HIDDEN_DS,onSelect:function(e){return v(e,i)},children:(0,Y.jsx)(L.Flex,{style:r.extra,justify:"center",children:(0,Y.jsx)(L.Iconfont,{name:"md-more-vert",size:18})})}))})]})]})})]})},B.DEFAULT_PROPS,function(e){return{style:e.style,styles:e.styles}});t.default=r;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ inView: { minWidth: number; minHeight: number; }; content: { paddingTop: number; paddingRight: number; paddingBottom: number; }; noPR: { paddingVertical: number; paddingRight: number; }; hasPR: { paddingRight: number; }; menu: { ...; }; touch: { ...; }; extra: { ...; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"{ url?: string; src?: string; }"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"UserId"}},p1:{defaultValue:null,description:"",name:"p1",required:!0,type:{name:"{ text: string; url: string; }"}},p2:{defaultValue:null,description:"",name:"p2",required:!0,type:{name:"{ text: string; }"}},p3:{defaultValue:null,description:"",name:"p3",required:!0,type:{name:"{ text: string[]; url: string[]; }"}},p4:{defaultValue:null,description:"",name:"p4",required:!0,type:{name:"{ text: string; }"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string[]"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}},reply:{defaultValue:null,description:"",name:"reply",required:!0,type:{name:"{ count: number; url?: string; content?: string; }"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},star:{defaultValue:null,description:"",name:"star",required:!0,type:{name:"string | number"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"string"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},clearHref:{defaultValue:null,description:"",name:"clearHref",required:!0,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(clearHref?: string) => any"}},onHidden:{defaultValue:null,description:"",name:"onHidden",required:!0,type:{name:"(title?: string, userId?: UserId) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/_/item/timeline/item.tsx#item"})}catch(e){}},"./src/screens/_/item/timeline/p/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),m=s("./src/screens/_/base/index.ts"),f=r(s("./src/screens/_/item/timeline/p3/index.tsx")),y=s("./node_modules/react/jsx-runtime.js");r=(0,n.ob)(function(e){var t=e.image,s=e.p1Text,r=e.p1Url,n=e.p2Text,o=e.p3Text,i=e.p3Url,a=e.p4Text,d=e.userId,l=e.avatarSrc,c=e.onNavigate;return s||n||null!=o&&o.length||a?(0,y.jsxs)(u.Katakana.Provider,{lineHeight:16,children:[!!s&&(0,y.jsxs)(m.Name,{userId:d,type:"title",lineHeight:16,bold:!0,onPress:function(){return c(r,{_name:s,_image:l})},children:[s," "]}),(0,y.jsxs)(u.Text,{type:"sub",lineHeight:16,children:[n," "]}),(0,y.jsx)(f.default,{image:t,p3Text:o,p3Url:i,onNavigate:c}),!!a&&(0,y.jsxs)(u.Katakana,{type:"sub",lineHeight:16,children:[" ",a]})]}):null});t.default=r;try{p.displayName="p",p.__docgenInfo={description:"",displayName:"p",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p1Text:{defaultValue:null,description:"",name:"p1Text",required:!0,type:{name:"any"}},p1Url:{defaultValue:null,description:"",name:"p1Url",required:!0,type:{name:"any"}},p2Text:{defaultValue:null,description:"",name:"p2Text",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},p4Text:{defaultValue:null,description:"",name:"p4Text",required:!0,type:{name:"any"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"any"}},avatarSrc:{defaultValue:null,description:"",name:"avatarSrc",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/p/index.tsx#p"]={docgenInfo:p.__docgenInfo,name:"p",path:"src/screens/_/item/timeline/p/index.tsx#p"})}catch(e){}},"./src/screens/_/item/timeline/p3/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/stores/index.ts"),u=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),m=s("./src/utils/fetch/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/_/item/timeline/utils.ts"),y=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t,s,o=e.image,r=e.p3Text,i=e.p3Url,a=e.onNavigate,d=null;return 1<r.length?(d=[],r.forEach(function(e,t){var s=String(i[t]),r=s.includes(p.HOST_NAME+"/subject/")&&!s.includes("/ep/"),n=r?(0,f.matchSubjectId)(s):0;d.push((0,y.jsx)(l.Katakana,{type:r?"main":"title",lineHeight:16,bold:!0,onPress:function(){r&&n&&c.systemStore.setting.timelinePopable?((0,m.t)("时间胶囊.缩略框",{to:"Subject",subjectId:n}),c.uiStore.showPopableSubject({subjectId:n})):a(s,r&&{_jp:e,_cn:(0,u.findSubjectCn)(e,n),_name:e,_image:(0,u.getCoverMedium)(o[t]||"")})},children:r?(0,u.findSubjectCn)(e,n):e},e||t),(0,y.jsx)(l.Text,{lineHeight:16,type:"sub",children:"、"},e+"."))}),d.pop()):1===r.length&&(t=!!String(!!i.length&&i[0]).includes(p.HOST_NAME+"/subject/")&&!i[0].includes("/ep/"),s=t?(0,f.matchSubjectId)(!!i.length&&i[0]):0,d=(0,y.jsx)(l.Katakana,{type:t?"main":"title",lineHeight:16,bold:!0,onPress:function(){t&&s&&c.systemStore.setting.timelinePopable?((0,m.t)("时间胶囊.缩略框",{to:"Subject",subjectId:s}),c.uiStore.showPopableSubject({subjectId:s})):a(!!i.length&&i[0],t&&{_jp:!!r.length&&r[0],_cn:(0,u.findSubjectCn)(!!r.length&&r[0],s),_name:!!r.length&&r[0],_image:(0,u.getCoverMedium)(!!o.length&&o[0]||"")})},children:t?(0,u.findSubjectCn)(!!r.length&&r[0],s):!!r.length&&r[0]})),d});t.default=s;try{p3.displayName="p3",p3.__docgenInfo={description:"",displayName:"p3",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"any"}},p3Text:{defaultValue:null,description:"",name:"p3Text",required:!0,type:{name:"any"}},p3Url:{defaultValue:null,description:"",name:"p3Url",required:!0,type:{name:"any"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/timeline/p3/index.tsx#p3"]={docgenInfo:p3.__docgenInfo,name:"p3",path:"src/screens/_/item/timeline/p3/index.tsx#p3"})}catch(e){}},"./src/screens/_/item/timeline/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{inView:{minWidth:40,minHeight:40},content:{paddingTop:r._.md,paddingRight:r._.wind-r._._wind,paddingBottom:r._.md},noPR:{paddingVertical:r._.md,paddingRight:r._.wind-r._._wind},hasPR:{paddingRight:r._._wind},menu:{minWidth:r._._wind},touch:{marginTop:-7,marginHorizontal:r._.xs,borderRadius:20,overflow:"hidden"},extra:{width:36,height:36}}});t.memoStyles=s},"./src/screens/_/item/timeline/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/_/item/timeline/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.matchSubjectId=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e&&(e=e.match(/\d+/))&&e.length?e[0]:0}},"./src/screens/_/item/voice/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.AVATAR_SIZE=void 0;s=s("./src/stores/index.ts")._.r(40);t.AVATAR_SIZE=s},"./src/screens/_/item/voice/index.mock.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;t.list=[{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"97758",name:"運命",nameCn:"命运",cover:"//lain.bgm.tv/pic/crt/s/8c/fe/97758_crt_dzdka.jpg",subject:[{id:"339227",name:"takt op. 運命は真紅き旋律の街を",nameCn:"宿命回响",cover:"//lain.bgm.tv/pic/cover/g/7c/aa/339227_9995K.jpg"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"72355",name:"イレイナ",nameCn:"伊蕾娜",cover:"//lain.bgm.tv/pic/crt/s/35/0e/72355_crt_6Z6zM.jpg",subject:[{id:"292970",name:"魔女の旅々",nameCn:"魔女之旅",cover:"//lain.bgm.tv/pic/cover/g/99/17/292970_mxMxx.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"15180",name:"ルシウス・モデストゥス",nameCn:"路西斯·慕德斯特",cover:"//lain.bgm.tv/pic/crt/s/b1/65/15180_crt_z1vFm.jpg",subject:[{id:"317692",name:"テルマエ・ロマエ ノヴァエ",nameCn:"新罗马浴场",cover:"//lain.bgm.tv/pic/cover/g/64/17/317692_c72WT.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"35956",name:"四葉こころ",nameCn:"四叶心",cover:"//lain.bgm.tv/pic/crt/s/4e/7c/35956_crt_Kr6If.jpg",subject:[{id:"137894",name:"かみさまみならい ヒミツのここたま 第1シリーズ",nameCn:"见习神明 秘密的心灵 第一部",cover:"//lain.bgm.tv/pic/cover/g/38/17/137894_3EEl6.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"36048",name:"野乃本ククル",nameCn:"野乃本库库露",cover:"//lain.bgm.tv/pic/crt/s/7a/69/36048_crt_SBU1P.jpg",subject:[{id:"130093",name:"不思議なソメラちゃん",nameCn:"不思议美眉",cover:"//lain.bgm.tv/pic/cover/g/bb/01/130093_400l0.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"38516",name:"久我山八重",nameCn:"久我山八重",cover:"//lain.bgm.tv/pic/crt/s/9c/0c/38516_crt_FnXpg.jpg",subject:[{id:"167434",name:"ガーリッシュ ナンバー",nameCn:"少女编号",cover:"//lain.bgm.tv/pic/cover/g/9a/31/167434_B0BSn.jpg",staff:"主角"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40516",name:"煌上花音",nameCn:"煌上花音",cover:"//lain.bgm.tv/pic/crt/s/fe/d5/40516_crt_ahHpU.jpg",subject:[{id:"178624",name:"バトルガール ハイスクール",nameCn:"战斗女子高校",cover:"//lain.bgm.tv/pic/cover/g/06/67/178624_TyPcZ.jpg",staff:"主角"},{id:"120299",name:"バトルガール ハイスクール",nameCn:"战斗女子学园",cover:"//lain.bgm.tv/pic/cover/g/9f/01/120299_ikOqE.jpg",staff:"主角"},{id:"220668",name:"アリス・ギア・アイギス",nameCn:"机战少女 Alice",cover:"//lain.bgm.tv/pic/cover/g/77/83/220668_caojc.jpg",staff:"客串"}]},{style:{width:"100%",backgroundColor:"rgb(0, 0, 0)"},id:"40704",name:"ユインシエル・アステリア",nameCn:"尤因谢尔·阿斯特里亚",cover:"//lain.bgm.tv/pic/crt/s/b5/dd/40704_crt_3HgHg.jpg",subject:[{id:"174519",name:"レガリア The Three Sacred Stars",nameCn:"雷加利亚三圣星",cover:"//lain.bgm.tv/pic/cover/g/51/9b/174519_ghelJ.jpg",staff:"主角"}]}]},"./src/screens/_/item/voice/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");function r(e){var s=e.style,i=e.navigation,a=void 0===(t=e.event)?b.EVENT:t,r=e.index,d=e.id,l=e.name,c=e.nameCn,u=e.cover,t=e.subject,m=e.children,p=(e=(0,o.useExpandLazy)(void 0===t?[]:t,4)).list,f=e.onExpand;return(0,o.useObserver)(function(){var n=(0,S.memoStyles)(),e=(0,x.cnjp)(c,l),t=(0,x.cnjp)(l,c),o=132*r+1,e=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(j.Flex,{style:n.wrap,align:"start",children:[(0,O.jsx)(j.Flex.Item,{flex:1.8,children:(0,O.jsx)(j.Touchable,{animate:!0,onPress:function(){(0,g.t)(a.id,Object.assign({},a.data,{to:"Mono",monoId:d})),i.push("Mono",{monoId:"character/"+d,_name:c,_jp:l,_image:u})},children:(0,O.jsxs)(j.Flex,{align:"start",children:[(0,O.jsx)(h.InView,{style:n.inViewAvatar,y:o,children:(0,O.jsx)(j.Image,{size:v.AVATAR_SIZE,src:u,radius:!0,shadow:!0})}),(0,O.jsxs)(j.Flex.Item,{style:_._.ml.sm,children:[(0,O.jsx)(j.Text,{size:12,bold:!0,children:e}),!!t&&t!==e&&(0,O.jsx)(j.Text,{style:_._.mt.xs,size:11,type:"sub",lineHeight:12,bold:!0,children:t})]})]})})}),(0,O.jsx)(j.Flex.Item,{style:_._.ml.sm,flex:3.2,children:p.map(function(e,t){var s=(0,x.cnjp)(e.nameCn,e.name),r=(0,x.cnjp)(e.name,e.nameCn);return(0,O.jsx)(j.Touchable,{style:0!==t&&_._.mt.md,animate:!0,onPress:function(){(0,g.t)(a.id,Object.assign({},a.data,{to:"Subject",subjectId:e.id})),i.push("Subject",{subjectId:e.id,_jp:e.name,_cn:e.nameCn,_image:e.cover})},children:(0,O.jsxs)(j.Flex,{align:"start",children:[(0,O.jsxs)(j.Flex.Item,{style:_._.mr.md,children:[(0,O.jsx)(j.Text,{align:"right",size:12,bold:!0,children:s}),(0,O.jsx)(j.Text,{style:_._.mt.xs,size:11,type:"sub",align:"right",lineHeight:12,bold:!0,children:r}),(0,O.jsx)(j.Flex,{style:_._.mt.sm,justify:"end",children:(0,O.jsx)(h.Tag,{value:e.staff})})]}),(0,O.jsx)(h.InView,{style:n.inViewCover,y:o,children:(0,O.jsx)(h.Cover,{size:b.IMG_WIDTH_SM,height:b.IMG_HEIGHT_SM,src:e.cover,radius:!0,shadow:!0})})]})},e.id)})})]}),m]});return 4<=p.length?(0,O.jsx)(j.Expand,{style:s,ratio:1.8,onExpand:f,children:e}):(0,O.jsx)(y.default,{style:s,children:e})})}var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),y=(Object.defineProperty(t,"__esModule",{value:!0}),t.ItemVoice=void 0,Object.defineProperty(t,"ItemVoiceProps",{enumerable:!0,get:function(){return i.Props}}),n(s("./node_modules/react/index.js")),n(s("./node_modules/react-native-web/dist/exports/View/index.js"))),j=s("./src/components/index.ts"),_=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),g=s("./src/utils/fetch/index.ts"),o=s("./src/utils/hooks/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/_/base/index.ts"),v=s("./src/screens/_/item/voice/ds.ts"),S=s("./src/screens/_/item/voice/styles.ts"),i=s("./src/screens/_/item/voice/types.ts"),O=s("./node_modules/react/jsx-runtime.js");t.ItemVoice=r;try{r.displayName="ItemVoice",r.__docgenInfo={description:"",displayName:"ItemVoice",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"ViewStyle"}},event:{defaultValue:{value:"{\n  id: '',\n  data: {}\n} as const"},description:"",name:"event",required:!1,type:{name:"EventType"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"MonoId"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},nameCn:{defaultValue:null,description:"",name:"nameCn",required:!1,type:{name:"string"}},cover:{defaultValue:null,description:"",name:"cover",required:!1,type:{name:"string"}},subject:{defaultValue:{value:"[]"},description:"",name:"subject",required:!1,type:{name:"{ id?: SubjectId; name?: string; nameCn?: string; cover?: string; staff?: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/_/item/voice/index.tsx#ItemVoice"]={docgenInfo:r.__docgenInfo,name:"ItemVoice",path:"src/screens/_/item/voice/index.tsx#ItemVoice"})}catch(e){}},"./src/screens/_/item/voice/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/_/item/voice/ds.ts"),s=r._.memoStyles(function(){return{wrap:{paddingVertical:r._.md,paddingHorizontal:r._.wind},tag:{marginTop:2,marginLeft:r._.xs},inViewAvatar:{minWidth:o.AVATAR_SIZE,minHeight:o.AVATAR_SIZE},inViewCover:{minWidth:n.IMG_WIDTH_SM,minHeight:n.IMG_HEIGHT_SM}}});t.memoStyles=s},"./src/screens/_/item/voice/types.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0})},"./src/screens/discovery/adv/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/adv/index.ts"),r=(t.ADVANCE_LIMIT=60,[[],[]]),s=(s.ADV_DEV.forEach(function(e,t){return r[t%2?1:0].push(e)}),[{title:"首字　",type:"first",data:s.ADV_FIRST},{title:"发行　",type:"year",data:s.ADV_YEAR,always:!0},{title:"开发商",type:"dev",data:r,multiple:!0},{title:"排序　",type:"sort",data:s.ADV_SORT,always:!0},{title:"收藏",type:"collected",data:s.ADV_COLLECTED}]);t.filterDS=s},"./src/screens/discovery/adv/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),d=r(s("./src/screens/discovery/adv/list/index.tsx")),r=r(s("./src/screens/discovery/adv/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{title:"找 Gal",alias:"Gal",hm:["adv","ADV"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{adv.displayName="adv",adv.__docgenInfo={description:"",displayName:"adv",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/index.tsx#adv"]={docgenInfo:adv.__docgenInfo,name:"adv",path:"src/screens/discovery/adv/index.tsx#adv"})}catch(e){}},"./src/screens/discovery/adv/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/adv/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"ADV.跳转"};s=(0,r.obc)(function(e,t){var s,r=e.pickIndex,n=e.index,e=e.num,t=t.navigation,r=m.otaStore.advSubjectId(r),o=(r=m.otaStore.game(r)).id,i=r.t,a=r.c,d=r.sc,l=r.r,r=r.en;return o?(s=(0,f.memoStyles)(),(0,y.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(n%e)&&s.left,navigation:t,event:j,num:e,id:o,cover:a?"https://lain.bgm.tv/pic/cover/m/"+a+".jpg":p.IMG_DEFAULT,nameCn:i,score:d,rank:l,airtime:r,collection:m.collectionStore.collect(o)})):(n=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:n.width,height:p.IMG_HEIGHT_LG,marginBottom:n.marginLeft+m._.xs,marginLeft:n.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/adv/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/adv/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=void 0;s=s("./src/stores/index.ts"),s=s._.device(114,Math.floor(.4*s._.window.contentWidth)),t.THUMB_WIDTH=s,s=Math.floor(.56*s);t.THUMB_HEIGHT=s},"./src/screens/discovery/adv/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),g=s("./src/components/index.ts"),b=s("./src/stores/index.ts"),h=s("./src/screens/_/index.ts"),v=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),S=s("./src/utils/fetch/index.ts"),O=s("./src/constants/index.ts"),T=s("./src/screens/discovery/adv/item/ds.ts"),I=s("./src/screens/discovery/adv/item/utils.ts"),C=s("./src/screens/discovery/adv/item/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o,i,a,d=e.index,e=e.pickIndex,l=t.navigation,c=(0,C.memoStyles)(),t=b.otaStore.advSubjectId(e),u=(e=b.otaStore.game(t)).id,m=e.t,t=e.c,p=e.en,f=e.sc,y=e.r,j=e.o,_=e.l,e=e.d;return u?(r=20<=(s=(0,v.HTMLDecode)(m)).length?13:14<=s.length?14:15,n=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":O.IMG_DEFAULT,o=(0,I.getThumbs)(u,_),i=(0,I.getThumbs)(u,_,!1),t=[p,e].filter(function(e){return!!e}).join(" / "),a=b.collectionStore.collect(u),(0,w.jsxs)(g.Touchable,{style:c.container,animate:!0,onPress:function(){l.push("Subject",{subjectId:u,_image:n}),(0,S.t)("ADV.跳转",{subjectId:u})},children:[(0,w.jsxs)(g.Flex,{style:c.wrap,align:"start",children:[(0,w.jsx)(h.Cover,{src:n,width:O.IMG_WIDTH_LG,height:O.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"游戏"}),(0,w.jsxs)(g.Flex,{style:c.content,direction:"column",align:"start",children:[(0,w.jsx)(x.default,{style:c.body,children:(0,w.jsxs)(g.Flex,{style:b._.container.block,align:"start",children:[(0,w.jsxs)(g.Flex.Item,{children:[(0,w.jsx)(g.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,w.jsx)(g.Text,{style:b._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:t}),(0,w.jsxs)(g.Flex,{style:b._.mt.md,wrap:"wrap",children:[(0,w.jsx)(h.Rank,{value:y}),(0,w.jsx)(h.Stars,{style:b._.mr.xs,value:f,simple:!0}),!!j&&(0,w.jsxs)(g.Text,{style:b._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]})]})]}),(0,w.jsx)(h.Manage,{subjectId:u,collection:a,typeCn:"游戏",onPress:function(){b.uiStore.showManageModal({subjectId:u,title:m,status:O.MODEL_COLLECTION_STATUS.getValue(a),action:"玩"},"找游戏")}})]})}),!!o.length&&(0,w.jsx)(x.default,{style:c.thumbs,children:(0,w.jsx)(g.HorizontalList,{data:o.filter(function(e,t){return t<3}),renderItem:function(e,t){return(0,w.jsx)(g.Image,{style:(0,v.stl)(!!t&&b._.ml.sm,t===o.length-1&&b._.mr.md),src:e,size:T.THUMB_WIDTH,height:T.THUMB_HEIGHT,radius:!0,onPress:function(){(0,v.showImageViewer)(i.map(function(e){return{url:e}}),t)}},e)},renderNums:3<i.length&&function(){return(0,w.jsx)(g.Touchable,{onPress:function(){(0,v.showImageViewer)(i.map(function(e){return{url:e}}),3)},children:(0,w.jsx)(g.Flex,{style:c.nums,justify:"center",children:(0,w.jsxs)(g.Text,{size:15,bold:!0,children:["+ ",i.length]})})})}})})]})]}),0===d&&(0,w.jsx)(g.Heatmap,{id:"ADV.跳转"})]})):(0,w.jsx)(g.Flex,{style:c.loading,justify:"center",children:(0,w.jsx)(g.Loading.Raw,{})})});t.default=s},"./src/screens/discovery/adv/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/discovery/adv/item/ds.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:n.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:o.THUMB_HEIGHT},nums:{width:o.THUMB_HEIGHT,height:o.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:n.IMG_HEIGHT_LG}}});t.memoStyles=s},"./src/screens/discovery/adv/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e?[]:new Array(e).fill("").map(function(e,t){return(0,n.CDN_GAME)(s,t,r)})};var n=s("./src/constants/index.ts")},"./src/screens/discovery/adv/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/adv/item/index.tsx")),x=r(s("./src/screens/discovery/adv/item-grid/index.tsx")),g=s("./src/screens/discovery/adv/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(S,r),v=h(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,title:"频道　",name:"ADV",type:"ADV",lastUpdate:j.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,keyExtractor:O,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onADVPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var v,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function O(e){return String(e)}t.default=u;try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/adv/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/adv/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/adv/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/adv/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/adv/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/discovery/adv/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h,v="ScreenADV",S=!1,l=(s=r.default,(0,l.default)(O,s),h=b(O),(0,a.default)(O,[{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.advSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,p.default)((r=O).prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"cnFirst"),r.prototype),(0,p.default)(r.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isList"),r.prototype),(0,p.default)(r.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"total"),r.prototype),(0,p.default)(r.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),r);function O(){var r;(0,i.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=h.call.apply(h,[this].concat(t)),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({query:{first:"",year:2022,dev:"",sort:"评分人数",collected:""},data:x.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(v);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:S})),S){e.next=7;break}return e.next=7,(0,j.init)();case 7:S=!0,y.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 11:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"search",function(){setTimeout(function(){var e=r.state.query,e=(0,j.search)(e);r.setState({data:e})},80)}),(0,m.default)((0,d.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(v),(0,_.t)("ADV.选择",{type:e,value:t})},0)}),(0,m.default)((0,d.default)(r),"scrollToOffset",null),(0,m.default)((0,d.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("ADV.到顶"))}),(0,m.default)((0,d.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("ADV.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(v)}),(0,m.default)((0,d.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(v)}),r}t.default=l},"./src/screens/discovery/anime/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/anime/index.ts"),r=(t.ADVANCE_LIMIT=120,[[],[]]),n=(s.ANIME_TAGS.forEach(function(e,t){return r[t%2?1:0].push(e)}),[[],[]]),s=(s.ANIME_OFFICIAL.forEach(function(e,t){return n[t%2?1:0].push(e)}),[{title:"地区",type:"area",data:s.ANIME_AREA},{title:"版本",type:"type",data:s.ANIME_TYPE},{title:"首字",type:"first",data:s.ANIME_FIRST},{title:"年份",type:"year",data:s.ANIME_YEAR,always:!0},{title:"季度",type:"begin",data:s.ANIME_BEGIN,always:!0},{title:"状态",type:"status",data:s.ANIME_STATUS},{title:"类型",type:"tags",data:r,multiple:!0,multiSelect:!0},{title:"制作",type:"official",data:n,multiple:!0},{title:"排序",type:"sort",data:s.ANIME_SORT,always:!0},{title:"收藏",type:"collected",data:s.ANIME_COLLECTED}]);t.filterDS=s},"./src/screens/discovery/anime/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n,r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.$,e=void 0===(e=e.title)?"Anime":e,s=void 0!==(n=t?null==t?void 0:t.isList:n)||void 0!==(null==t?void 0:t.isList),r=void 0===(null==t?void 0:t.isList)?n:null==t?void 0:t.isList;return(0,d.jsxs)(o.Flex,{style:a._.mr.xs,children:[s&&(0,d.jsx)(i.IconLayout,{style:a._.mr.xs,list:r,onPress:(null==t?void 0:t.switchLayout)||function(){},children:(0,d.jsx)(o.Heatmap,{right:30,id:e+".切换布局"})}),(0,d.jsx)(i.IconHeader,{name:"md-vertical-align-top",onPress:(null==t?void 0:t.scrollToTop)||function(){},children:(0,d.jsx)(o.Heatmap,{id:e+".到顶"})})]})});t.default=s;try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}},$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenAnime"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"游戏"'},{value:'"Anime"'},{value:'"文库"'},{value:'"Hentai"'},{value:'"Manga"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/anime/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/anime/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/anime/extra/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.title,r=void 0===(n=e.alias)?"Anime":n,n=e.hm,o=t.$;return(0,d.jsx)(i.Header,{title:void 0===s?"找番剧":s,alias:r,hm:(void 0===n?void 0:n)||["anime","Anime"],headerRight:function(){return(0,d.jsx)(a.default,{$:o,title:r})}})});t.default=r},"./src/screens/discovery/anime/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),d=r(s("./src/screens/discovery/anime/list/index.tsx")),r=r(s("./src/screens/discovery/anime/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{anime.displayName="anime",anime.__docgenInfo={description:"",displayName:"anime",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/index.tsx#anime"]={docgenInfo:anime.__docgenInfo,name:"anime",path:"src/screens/discovery/anime/index.tsx#anime"})}catch(e){}},"./src/screens/discovery/anime/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/anime/item-grid/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),x={id:"Anime.跳转"};s=(0,r.obc)(function(e,t){var s=e.index,r=e.pickIndex,e=e.num,t=t.navigation,n=(0,j.memoStyles)(),r=f.otaStore.animeSubjectId(r),o=(r=f.otaStore.anime(r)).id,i=r.ageId,a=r.image,d=r.cn,l=r.jp,c=r.score,u=r.begin,r=r.rank;return o?(0,_.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(s%e)&&n.left,event:x,num:e,id:o,aid:i,cover:a?"https://lain.bgm.tv/pic/cover/m/"+a+".jpg":y.IMG_DEFAULT,name:l,nameCn:d,score:c,rank:r,airtime:u?String(u).slice(0,7):"",collection:f.collectionStore.collect(o)}):(t=f._.grid(e),(0,_.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,_.jsx)(m.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/anime/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/anime/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),h=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),v=s("./src/stores/index.ts"),S=s("./src/screens/_/index.ts"),O=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),T=s("./src/utils/fetch/index.ts"),I=s("./src/constants/index.ts"),C=s("./src/screens/discovery/anime/item/styles.ts"),w=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o,i=e.index,e=e.pickIndex,a=t.navigation,t=(0,C.memoStyles)(),e=v.otaStore.animeSubjectId(e),d=(e=v.otaStore.anime(e)).id,l=e.ageId,c=e.image,u=e.cn,m=e.jp,p=e.ep,f=e.type,y=e.status,j=e.begin,_=e.tags,x=e.official,g=e.score,b=e.rank,e=e.total;return d?(r=20<=(s=(0,O.cnjp)(u,m)).length?13:14<=s.length?14:15,n=c?"https://lain.bgm.tv/pic/cover/m/"+c+".jpg":I.IMG_DEFAULT,c=String(_).split(" ").filter(function(e){return!!e&&"暂无"!==e}),_=["TV"===f?"":f,String(p).replace(/\(完结\)|第|\[|\]/g,""),y,j,"暂无"===x?"":x].filter(function(e){return!!e}).join(" / "),o=v.collectionStore.collect(d),(0,w.jsxs)(h.Touchable,{style:t.container,animate:!0,onPress:function(){a.push("Subject",{subjectId:d,_cn:u,_image:n,_aid:l}),(0,T.t)("Anime.跳转",{subjectId:d})},children:[(0,w.jsxs)(h.Flex,{style:t.wrap,align:"start",children:[(0,w.jsx)(S.InView,{style:t.inView,y:.4*v._.window.height+I.IMG_HEIGHT_LG*i,children:(0,w.jsx)(S.Cover,{src:n,width:I.IMG_WIDTH_LG,height:I.IMG_HEIGHT_LG,radius:!0,shadow:!0})}),(0,w.jsxs)(h.Flex.Item,{style:v._.ml.wind,children:[(0,w.jsxs)(h.Flex,{align:"start",children:[(0,w.jsx)(h.Flex.Item,{children:(0,w.jsxs)(h.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,w.jsx)(h.Text,{size:r,bold:!0,numberOfLines:2,children:s}),(0,w.jsx)(h.Text,{style:v._.mt.sm,size:11,lineHeight:14,children:_})]})}),(0,w.jsx)(S.Manage,{subjectId:d,collection:o,onPress:function(){v.uiStore.showManageModal({subjectId:d,title:(0,O.cnjp)(u,m),desc:(0,O.cnjp)(m,u),status:I.MODEL_COLLECTION_STATUS.getValue(o)},"找番剧")}})]}),(0,w.jsxs)(h.Flex,{style:t.bottom,children:[(0,w.jsxs)(h.Flex,{children:[(0,w.jsx)(S.Rank,{value:b}),(0,w.jsx)(S.Stars,{style:v._.mr.xs,value:g,simple:!0}),!!e&&(0,w.jsxs)(h.Text,{style:v._.mr.sm,type:"sub",size:11,bold:!0,children:["(",e,")"]})]}),(0,w.jsx)(h.Flex.Item,{children:(0,w.jsx)(S.Tags,{value:c})})]})]})]}),0===i&&(0,w.jsx)(h.Heatmap,{id:"Anime.跳转"})]})):(0,w.jsx)(h.Flex,{style:t.loading,justify:"center",children:(0,w.jsx)(h.Loading.Raw,{})})});t.default=s},"./src/screens/discovery/anime/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){var e=.58*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},inView:{minWidth:n.IMG_WIDTH_LG,minHeight:n.IMG_HEIGHT_LG},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}});t.memoStyles=s},"./src/screens/discovery/anime/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/anime/item/index.tsx")),x=r(s("./src/screens/discovery/anime/item-grid/index.tsx")),g=s("./src/screens/discovery/anime/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(S,r),v=h(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,lastUpdate:j.TEXT_UPDATE_ANIME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_ANIME+"，在版本更新前数据不会有任何变化，预计一个季度更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录，通常收录的都是有对应源头的数据。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:O,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,scrollEventThrottle:16,onScroll:e.onScroll,onPage:f.otaStore.onAnimePage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var v,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function O(e){return String(e)}t.default=u;try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/anime/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/anime/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/anime/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/anime/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),n=n(s("./src/utils/store/index.ts")),x=s("./src/utils/subject/anime/index.ts"),g=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/discovery/anime/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var S,O="ScreenAnime",T=!1,c=(s=n.default,(0,c.default)(I,s),S=v(I),(0,o.default)(I,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.animeSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<h.ADVANCE_LIMIT})}}]),(0,f.default)((n=I).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"cnFirst"),n.prototype),(0,f.default)(n.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"isList"),n.prototype),(0,f.default)(n.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"total"),n.prototype),(0,f.default)(n.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"list"),n.prototype),n);function I(){var o;(0,d.default)(this,I);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=S.call.apply(S,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)({visibleBottom:j._.window.height,query:{area:"日本",type:"",first:"",year:2023,begin:"",status:"",tags:[],official:"",sort:"评分人数",collected:""},data:b.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,p.default)((0,l.default)(o),"init",(0,a.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(O);case 2:if(t=e.sent,t=Object.assign({},t,{_loaded:T}),Array.isArray(t.tags)||(t.tags=[]),o.setState(t),T){e.next=9;break}return e.next=9,(0,x.init)();case 9:T=!0,t=o.params._tags,(s=void 0===t?[]:t).length&&o.initQuery(s),j.collectionStore.fetchUserCollectionsQueue(!1),o.search(),setTimeout(function(){o.setState({_loaded:!0})},120);case 15:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(t){setTimeout(function(){var e=o.state.query,e=(0,x.search)(t||e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(O),(0,g.t)("Anime.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,g.t)("Anime.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,g.t)("Anime.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(O)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(O)}),(0,p.default)((0,l.default)(o),"onScroll",_.updateVisibleBottom.bind((0,l.default)(o))),o}t.default=c},"./src/screens/discovery/blog/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=(Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.NAMESPACE=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),s=s("./src/constants/index.ts"),r=(t.NAMESPACE="ScreenDiscoveryBlog",[{title:"全部",key:"all"}].concat((0,r.default)(s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}}))));t.TABS=r},"./src/screens/discovery/blog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,a.jsx)(n.Header,{title:"日志",alias:"全站日志",hm:["discovery/blog","DiscoveryBlog"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("全站日志.右上角菜单",{key:e}),(0,o.open)("https://bgm.tv/blog"))},children:(0,a.jsx)(n.Heatmap,{id:"全站日志.右上角菜单"})})}})});t.default=s},"./src/screens/discovery/blog/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"全站日志.标签页切换",transparent:!0}),(0,i.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"全站日志.标签页点击",transparent:!0})]})});t.default=s},"./src/screens/discovery/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/blog/header/index.tsx")),d=r(s("./src/screens/discovery/blog/tabs/index.tsx")),l=r(s("./src/screens/discovery/blog/heatmaps/index.tsx")),r=r(s("./src/screens/discovery/blog/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,c.jsx)(d.default,{}),(0,c.jsx)(l.default,{})]})]})})});t.default=s;try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/blog/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=t.EVENT=void 0;t.EVENT={id:"全站日志.跳转"};t.HEATMAPS={prev:"全站日志.上一页",next:"全站日志.下一页",search:"全站日志.页码跳转"}},"./src/screens/discovery/blog/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(s("./node_modules/react/index.js")),c=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/blog/list/ds.ts"),y=s("./src/screens/discovery/blog/list/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(s);return e=r?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}s=l.default.Component,(0,i.default)(g,s),x=_(g),(0,o.default)(g,[{key:"renderPagination",value:function(){var e=this.context.$,t=this.props.type,s=e.state.ipt;return(0,j.jsx)(u.Pagination,{style:this.styles.pagination,input:s[t],heatmaps:f.HEATMAPS,onPrev:e.prev,onNext:e.next,onChange:e.onChange,onSearch:e.doSearch})}},{key:"render",value:function(){var e=this.context.$,t=this.props.type,s=e.state.show,r=e.blog(t),n=r.list,r=r._loaded;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.ScrollView,{scrollToTop:t===e.type,keyboardDismissMode:"on-drag",children:s&&(0,j.jsx)(j.Fragment,{children:r?(0,j.jsx)(c.default,{style:this.styles.container,children:n.map(function(e){return(0,j.jsx)(m.ItemBlog,Object.assign({style:p._.container.item,event:f.EVENT},e),e.id)})}):(0,j.jsx)(c.default,{style:this.styles.container,children:(0,j.jsx)(u.Loading,{})})})}),this.renderPagination()]})}},{key:"styles",get:function(){return(0,y.memoStyles)()}}]);var x,l=g;function g(){return(0,n.default)(this,g),x.apply(this,arguments)}i=(0,r.obc)(l);t.default=i;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"all"'},{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/blog/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/blog/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{minHeight:.75*r._.window.height},pagination:{marginTop:r._.xs,marginBottom:n.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}}});t.memoStyles=s},"./src/screens/discovery/blog/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/screens/discovery/blog/ds.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(b,s),g=x(b),(0,a.default)(b,[{key:"type",get:function(){var e=this.state.page;return _.TABS[e].key}},{key:"blog",value:function(t){var s=this.state.currentPage;return(0,p.computed)(function(){var e=f.discoveryStore.blog(t,s[t]);return f.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,y.x18s)(e.title)})}):e}).get()}}]);var g,r=b;function b(){var r;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=g.call.apply(g,[this].concat(t)),(0,m.default)((0,d.default)(r),"state",(0,p.observable)({page:0,show:!0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},_loaded:!1})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(_.NAMESPACE);case 2:return t=e.sent,r.setState(Object.assign({},t,{show:!0,_loaded:!0})),e.abrupt("return",r.fetchBlog());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"fetchBlog",function(){var e=r.state.currentPage;return f.discoveryStore.fetchBlog({type:r.type,page:e[r.type]})}),(0,m.default)((0,d.default)(r),"onTabChange",function(e){e!==r.state.page&&((0,j.t)("全站日志.标签页切换"),r.setState({page:e}),r.setStorage(_.NAMESPACE),r.tabChangeCallback(e))}),(0,m.default)((0,d.default)(r),"tabChangeCallback",function(e){e=_.TABS[e].key;r.blog(e)._loaded||r.fetchBlog()}),(0,m.default)((0,d.default)(r),"onShow",function(){setTimeout(function(){r.setState({show:!0}),r.setStorage(_.NAMESPACE)},400)}),(0,m.default)((0,d.default)(r),"prev",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];1!==t[r.type]&&((0,j.t)("全站日志.上一页",{type:r.type,page:s-1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s-1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s-1)))}),r.fetchBlog(),r.onShow())}),(0,m.default)((0,d.default)(r),"next",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=t[r.type];(0,j.t)("全站日志.下一页",{type:r.type,page:s+1}),r.setState({show:!1,currentPage:Object.assign({},t,(0,m.default)({},r.type,s+1)),ipt:Object.assign({},e,(0,m.default)({},r.type,String(s+1)))}),r.fetchBlog(),r.onShow()}),(0,m.default)((0,d.default)(r),"onChange",function(e){var e=e.nativeEvent.text,t=r.state.ipt;r.setState({ipt:Object.assign({},t,(0,m.default)({},r.type,e))})}),(0,m.default)((0,d.default)(r),"doSearch",function(){var e=r.state,t=e.currentPage,e=e.ipt,s=""===e[r.type]?1:parseInt(e[r.type]);s<1?(0,y.info)("请输入正确页码"):((0,j.t)("全站日志.页码跳转",{type:r.type,page:s}),r.setState({currentPage:Object.assign({},t,(0,m.default)({},r.type,s)),show:!1,ipt:Object.assign({},e,(0,m.default)({},r.type,String(s)))}),r.fetchBlog(),r.onShow())}),r}t.default=r},"./src/screens/discovery/blog/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/blog/list/index.tsx")),d=s("./src/screens/discovery/blog/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,l.jsx)(n.TabsV2,{style:o._.mt._sm,routes:d.TABS,page:s,backgroundColor:o._.colorPlain,renderItem:function(e){return(0,l.jsx)(a.default,{type:e.key},e.key)},onChange:t.onTabChange},o._.orientation)});t.default=r;try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/blog/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/blog/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/browser/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DATE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=new Date,r=(t.DATE=n,t.NAMESPACE="ScreenBrowser",{visibleBottom:r._.window.height,sort:"date",show:!0,ota:{}}),s=(t.EXCLUDE_STATE=r,Object.assign({type:s.MODEL_SUBJECT_TYPE.getLabel("动画"),airtime:n.getFullYear(),month:n.getMonth()+1,layout:"list",fixed:!1,collected:!0},r,{_loaded:!1}));t.STATE=s},"./src/screens/discovery/browser/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"索引",hm:[s.url,"Browser"],headerRight:function(){return(0,a.jsx)(n.Flex,{children:(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("索引.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"索引.右上角菜单"})})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/browser/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/browser/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/browser/header/index.tsx")),d=r(s("./src/screens/discovery/browser/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/browser/list/index.tsx")),r=r(s("./src/screens/discovery/browser/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){var e=s.state.fixed;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{children:[e&&(0,c.jsx)(d.default,{}),s.state._loaded&&(0,c.jsx)(l.default,{})]})]})})});t.default=s;try{browser.displayName="browser",browser.__docgenInfo={description:"",displayName:"browser",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/index.tsx#browser"]={docgenInfo:browser.__docgenInfo,name:"browser",path:"src/screens/discovery/browser/index.tsx#browser"})}catch(e){}},"./src/screens/discovery/browser/list/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),a=s("./src/stores/index.ts"),d=s("./src/constants/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js"),c={id:"索引.跳转",data:{type:"grid"}};s=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,n=String(s.id).replace("/subject/",""),n=a.collectionStore.collect(n),r=d.MODEL_SUBJECT_TYPE.getTitle(r),o=a._.portrait(3,5);return(0,l.jsx)(i.ItemCollectionsGrid,Object.assign({style:(a._.isPad||a._.isLandscape)&&!(e%o)&&a._.container.left,navigation:t,num:o,collection:n,event:c},s,{isCollect:s.collected,isRectangle:"音乐"===r}))});t.default=s},"./src/screens/discovery/browser/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),a=s("./src/utils/app/index.ts"),d=r(s("./src/screens/discovery/browser/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/browser/list/item/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var t=t.$,s=(n=t.state).show,r=n.layout,n=n.fixed;return t.list._loaded&&s?(s=t.isList?void 0:i._.portrait(3,5),(0,c.jsx)(o.ListView,{contentContainerStyle:i._.container.bottom,keyExtractor:a.keyExtractor,numColumns:s,data:t.list,lazy:9,ListHeaderComponent:!n&&(0,c.jsx)(d.default,{}),renderItem:u,scrollToTop:!0,scrollEventThrottle:16,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.fetchBrowser},""+r+s)):(0,c.jsxs)(c.Fragment,{children:[!n&&(0,c.jsx)(d.default,{}),(0,c.jsx)(o.Loading,{})]})});function u(e){var t=e.item,e=e.index;return(0,c.jsx)(l.default,{item:t,index:e})}t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/browser/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/browser/list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/browser/list/list/index.tsx")),i=r(s("./src/screens/discovery/browser/list/grid/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=e.item,e=e.index;return t.$.isList?(0,a.jsx)(o.default,{item:s,index:e}):(0,a.jsx)(i.default,{item:s,index:e})});t.default=r},"./src/screens/discovery/browser/list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),i=s("./src/stores/index.ts"),a=s("./src/constants/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js"),l={id:"索引.跳转",data:{type:"list"}};s=(0,r.obc)(function(e,t){var s=e.item,e=e.index,r=t.$,t=t.navigation,r=r.state.type,n=String(s.id).replace("/subject/",""),n=i.collectionStore.collect(n),r=a.MODEL_SUBJECT_TYPE.getTitle(r);return(0,d.jsx)(o.ItemSearch,Object.assign({style:i._.container.item,navigation:t,event:l,index:e},s,{typeCn:r,collection:n}))});t.default=s},"./src/screens/discovery/browser/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),a=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/kv/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/discovery/browser/ds.ts"),v=["collected"];function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T=[],c=(s=r.default,(0,c.default)(I,s),O=S(I),(0,o.default)(I,[{key:"airtime",get:function(){var e=this.state,t=e.airtime,e=e.month;return e&&"不选择"!==e?t+"-"+e:String(t)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"browser",get:function(){var t,e=this.state,s=e.type,e=e.sort,s=j.tagStore.browser(s,this.airtime,e);return j.userStore.isLimit?(t=0,e=s.list.filter(function(e){e=(0,_.x18)(e.id);return e&&(t+=1),!e}),Object.assign({},s,{list:e,_filter:t})):s}},{key:"list",get:function(){return this.browser._loaded?this.state.collected?this.browser:Object.assign({},this.browser,{list:this.browser.list.filter(function(e){return!e.collected})}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):b.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.type,e=e.sort;return(0,b.HTML_BROSWER)(t,this.airtime,1,e)}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.type,e=e.sort;return"browser_"+[t,this.airtime,e].join("_")}}]),(0,f.default)((r=I).prototype,"airtime",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"airtime"),r.prototype),(0,f.default)(r.prototype,"ota",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),(0,f.default)(r.prototype,"browser",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"browser"),r.prototype),(0,f.default)(r.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),(0,f.default)(r.prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,f.default)(r.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"isList"),r.prototype),(0,f.default)(r.prototype,"thirdPartyKey",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),r);function I(){var o;(0,d.default)(this,I);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=O.call.apply(O,[this].concat(s)),(0,p.default)((0,l.default)(o),"state",(0,y.observable)(h.STATE)),(0,p.default)((0,l.default)(o),"init",(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(h.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,o.setState(Object.assign({},t,{airtime:t.airtime||h.DATE.getFullYear(),month:t.month||h.DATE.getMonth()+1},h.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",o.fetchBrowser(!0));case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"onHeaderRefresh",function(){return o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"fetchBrowser",(t=(0,a.default)(i.mark(function e(t){var s,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&o.fetchThirdParty(),n=o.state,r=n.type,n=n.sort,e.next=4,j.tagStore.fetchBrowser({type:r,airtime:o.airtime,sort:n},t);case 4:return(s=e.sent).list.length&&o.thirdPartyKey in o.state.ota&&(n=(null==(r=o.ota)?void 0:r.ts)||0,604800<=(0,_.getTimestamp)()-n)&&o.updateThirdParty(),setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(s.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,p.default)((0,l.default)(o),"fetchThirdParty",(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.ota||o.browser._loaded){e.next=8;break}return e.next=3,(0,g.get)(o.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return o.setState({ota:(0,p.default)({},o.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:o.setState({ota:(0,p.default)({},o.thirdPartyKey,Object.assign({},t,{_loaded:(0,_.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"updateThirdParty",(0,a.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.includes(o.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,g.update)(o.thirdPartyKey,{list:o.browser.list.map(function(e){e.collected;return(0,n.default)(e,v)})}),T.push(o.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"resetScrollView",function(){o.setState({show:!1}),setTimeout(function(){o.setState({show:!0}),o.setStorage(h.NAMESPACE)},40)}),(0,p.default)((0,l.default)(o),"onTypeSelect",function(e){(0,x.t)("索引.类型选择",{type:e}),o.setState({type:b.MODEL_SUBJECT_TYPE.getLabel(e)}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"onAirdateSelect",function(e){(0,x.t)("索引.年选择",{airtime:e}),o.setState({airtime:"全部"===e?"":e}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"onMonthSelect",function(e){o.state.airtime?((0,x.t)("索引.月选择",{month:e}),o.setState({month:"全部"===e?"":e}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onAirdatePrev",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),1==s?(--e,t=12):--t,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)-1}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onAirdateNext",function(){var e,t,s=o.state,r=s.airtime,s=s.month;r?(s?(e=Number(r),t=Number(s),12==s?(e+=1,t=1):t+=1,o.setState({airtime:e,month:t})):o.setState({airtime:Number(r)+1}),o.resetScrollView(),o.fetchBrowser(!0)):(0,_.info)("请先选择年")}),(0,p.default)((0,l.default)(o),"onOrderSelect",function(e){o.setState({sort:b.MODEL_BROWSER_SORT.getValue(e)}),o.resetScrollView(),o.fetchBrowser(!0)}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("索引.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onToggleFixed",function(){var e=o.state.fixed;o.setState({fixed:!e}),o.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onToggleCollected",function(){var e=o.state.collected;o.setState({collected:!e}),o.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(o),"onScroll",_.updateVisibleBottom.bind((0,l.default)(o))),o}t.default=c},"./src/screens/discovery/browser/tool-bar/back.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.ToolBar.Icon,{icon:"md-arrow-back",iconColor:o._.colorDesc,onSelect:t.onAirdatePrev})});t.default=s;try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/back.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/discovery/browser/tool-bar/back.tsx#back"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=i.MODEL_SUBJECT_TYPE.getTitle(s);return(0,a.jsx)(n.ToolBar.Popover,{data:i.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:o._.colorDesc,text:s,type:"desc",heatmap:"索引.类型选择",onSelect:t.onTypeSelect})});t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/browser/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/browser/tool-bar/filter.tsx")),d=r(s("./src/screens/discovery/browser/tool-bar/back.tsx")),l=r(s("./src/screens/discovery/browser/tool-bar/year.tsx")),c=r(s("./src/screens/discovery/browser/tool-bar/month.tsx")),u=r(s("./src/screens/discovery/browser/tool-bar/next.tsx")),m=r(s("./src/screens/discovery/browser/tool-bar/more.tsx")),p=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){return t=t.$,(0,p.jsxs)(n.ToolBar,{style:!t.isList&&o._.mb.xs,children:[(0,p.jsx)(a.default,{}),(0,p.jsx)(d.default,{}),(0,p.jsx)(l.default,{}),(0,p.jsx)(c.default,{}),(0,p.jsx)(u.default,{}),(0,p.jsx)(m.default,{})]})});t.default=r;try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/discovery/browser/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,a.jsx)(o.ToolBar.Popover,{data:["全部"].concat((0,n.default)(i.DATA_BROWSER_MONTH)),text:s+"月"||0,type:"desc",heatmap:"索引.月选择",onSelect:t.onMonthSelect})});t.default=s;try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/browser/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).layout,n=t.fixed,t=t.collected;return(0,a.jsx)(o.ToolBar.Popover,{data:["布局（"+("list"===r?"列表":"网格")+"）","筛选（"+(n?"固定":"浮动")+"）","收藏（"+(t?"显示":"隐藏")+"）"],icon:"md-more-vert",iconColor:i._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?s.switchLayout():e.includes("筛选")?s.onToggleFixed():e.includes("收藏")?s.onToggleCollected():void 0}})});t.default=s;try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/browser/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/next.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){return t=t.$,(0,i.jsx)(n.ToolBar.Icon,{icon:"md-arrow-forward",iconColor:o._.colorDesc,onSelect:t.onAirdateNext})});t.default=s;try{next.displayName="next",next.__docgenInfo={description:"",displayName:"next",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/next.tsx#next"]={docgenInfo:next.__docgenInfo,name:"next",path:"src/screens/discovery/browser/tool-bar/next.tsx#next"})}catch(e){}},"./src/screens/discovery/browser/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_BROWSER_AIRTIME,text:s||"年",type:"desc",heatmap:"索引.年选择",onSelect:t.onAirdateSelect})});t.default=s;try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/browser/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/calendar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenCalendar",s={visibleBottom:s._.window.height},t.EXCLUDE_STATE=s,s=Object.assign({layout:"list",type:"all",expand:!1},s,{_lastQueue:0,_loaded:!1});t.STATE=s},"./src/screens/discovery/calendar/extra/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/calendar/type/index.tsx")),a=r(s("./src/screens/discovery/calendar/icon-layout/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");r=(0,n.ob)(function(e){var t=e.type,s=e.isList,r=e.loaded,n=e.onChange,e=e.onPress;return(0,d.jsxs)(o.Flex,{children:[!!r&&(0,d.jsx)(i.default,{type:t,onChange:n}),(0,d.jsx)(a.default,{isList:s,onPress:e})]})});t.default=r;try{extra.displayName="extra",extra.__docgenInfo={description:"",displayName:"extra",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},isList:{defaultValue:null,description:"",name:"isList",required:!0,type:{name:"any"}},loaded:{defaultValue:null,description:"",name:"loaded",required:!0,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/extra/index.tsx#extra"]={docgenInfo:extra.__docgenInfo,name:"extra",path:"src/screens/discovery/calendar/extra/index.tsx#extra"})}catch(e){}},"./src/screens/discovery/calendar/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/calendar/extra/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=t.$,r=(t=s.state).type,n=t._loaded;return(0,a.jsx)(o.Header,{title:"每日放送",hm:["calendar","Calendar"],headerTitleAlign:"left",headerRight:function(){return(0,a.jsx)(i.default,{type:r,isList:s.isList,loaded:n,onChange:s.onToggleType,onPress:s.onSwitchLayout})}})});t.default=r;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/calendar/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/calendar/icon-layout/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(e){var t=e.isList,e=e.onPress;return(0,a.jsx)(o.IconLayout,{style:i._.ml.sm,list:void 0===t||t,size:20,onPress:void 0===e?function(){}:e,children:(0,a.jsx)(n.Heatmap,{right:30,id:"每日放送.切换布局"})})});t.default=s;try{iconlayout.displayName="iconlayout",iconlayout.__docgenInfo={description:"",displayName:"iconlayout",props:{isList:{defaultValue:null,description:"",name:"isList",required:!1,type:{name:"boolean"}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/icon-layout/index.tsx#iconlayout"]={docgenInfo:iconlayout.__docgenInfo,name:"iconlayout",path:"src/screens/discovery/calendar/icon-layout/index.tsx#iconlayout"})}catch(e){}},"./src/screens/discovery/calendar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/calendar/header/index.tsx")),d=r(s("./src/screens/discovery/calendar/list/index.tsx")),r=r(s("./src/screens/discovery/calendar/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{}),(0,l.jsx)(n.Page,{loaded:s.calendar._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{calendar.displayName="calendar",calendar.__docgenInfo={description:"",displayName:"calendar",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/index.tsx#calendar"]={docgenInfo:calendar.__docgenInfo,name:"calendar",path:"src/screens/discovery/calendar/index.tsx#calendar"})}catch(e){}},"./src/screens/discovery/calendar/item-grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=void 0;s=s("./src/stores/index.ts"),t.DEFAULT_PROPS={navigation:{},styles:{},hideScore:!1,style:{},subjectId:0,name:"",images:{},score:"",collection:"",air:"",time:"2359"},s={top:s._.device(2,4),right:s._.device(4,4),bottom:s._.device(10,4),left:s._.device(4,4)};t.HIT_SLOP=s},"./src/screens/discovery/calendar/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),u=r(s("./src/screens/discovery/calendar/item-grid/item.tsx")),m=s("./src/screens/discovery/calendar/item-grid/styles.ts"),p=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.style,r=e.subjectId,n=e.name,o=e.images,i=e.score,a=e.air,e=e.time,d=t.$,t=t.navigation,d=d.state.type,l=c.collectionStore.collect(r);return"collect"!==d||l?(0,p.jsx)(u.default,{navigation:t,styles:(0,m.memoStyles)(),hideScore:c.systemStore.setting.hideScore,style:s,subjectId:r,name:n,images:o,score:i,collection:l,air:a,time:e}):null});t.default=r},"./src/screens/discovery/calendar/item-grid/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),p=s("./src/components/index.ts"),f=s("./src/screens/_/index.ts"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/calendar/item-grid/ds.ts"),g=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.hideScore,n=e.style,o=e.subjectId,i=e.name,a=e.images,d=e.score,l=e.collection,c=e.air,e=e.time,r=!r&&!!d,u=[];return e&&"2359"!==e&&u.push(e.slice(0,2)+":"+e.slice(2)),l&&u.push(l),u=u.join(" · "),(0,g.jsx)(m.default,{style:(0,j.stl)(s.item,n),children:(0,g.jsxs)(p.Touchable,{animate:!0,hitSlop:x.HIT_SLOP,onPress:function(){(0,_.t)("每日放送.跳转",{to:"Subject",subjectId:o}),t.push("Subject",{subjectId:o,_cn:i,_image:null==a?void 0:a.medium})},children:[(0,g.jsx)(f.Cover,{width:s.cover.width,height:s.cover.height,src:null==a?void 0:a.medium,radius:!0,shadow:!0}),(0,g.jsx)(p.Text,{style:y._.mt.sm,size:13,lineHeight:15,numberOfLines:2,bold:!0,children:(0,j.HTMLDecode)(i)}),!!u&&(0,g.jsx)(p.Text,{style:y._.mt.xs,size:11,lineHeight:12,type:"sub",bold:!0,children:u}),(0,g.jsxs)(p.Flex,{style:y._.mt.sm,children:[!!c&&(0,g.jsxs)(p.Text,{style:y._.mr.xs,size:11,bold:!0,children:["第",c,"话"]}),r&&(0,g.jsx)(f.Stars,{value:d,simple:!0})]})]})})},x.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: number; marginLeft: number; marginBottom: number; }; cover: { width: number; height: number; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},images:{defaultValue:null,description:"",name:"images",required:!0,type:{name:"Images"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"string | number"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},air:{defaultValue:null,description:"",name:"air",required:!0,type:{name:"string | number"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/item-grid/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/calendar/item-grid/item.tsx#item"})}catch(e){}},"./src/screens/discovery/calendar/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.grid();return{item:{width:e.width,marginLeft:e.marginLeft,marginBottom:r._.md},cover:{width:e.width,height:e.height}}});t.memoStyles=s},"./src/screens/discovery/calendar/item-line/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0,t.DEFAULT_PROPS={navigation:{},section:0,index:0,styles:{},hideScore:!1,subjectId:0,name:"",desc:"",images:{},air:"",time:"2359",expand:!1,collection:void 0,score:0,sites:{},onToggleExpand:function(){}}},"./src/screens/discovery/calendar/item-line/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),y=r(s("./src/screens/discovery/calendar/item-line/item-line.tsx")),j=s("./src/screens/discovery/calendar/item-line/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.subjectId,r=e.images,r=void 0===r?{}:r,n=e.name,o=e.desc,i=e.air,a=e.time,d=e.score,l=e.section,e=e.index,c=t.$,t=t.navigation,u=c.state,m=u.type,u=u.expand,p=f.collectionStore.collect(s);return"collect"===m&&!p||!u&&!a?null:(m=c.sites(s),(0,_.jsx)(y.default,{navigation:t,section:l,index:e,styles:(0,j.memoStyles)(),hideScore:f.systemStore.setting.hideScore,subjectId:s,name:n,desc:o,images:r,air:i,time:a,expand:u,collection:p,score:d,sites:m,onToggleExpand:c.onToggleExpand}))});t.default=r},"./src/screens/discovery/calendar/item-line/item-line.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),v=s("./src/screens/_/index.ts"),S=s("./src/stores/index.ts"),O=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),T=s("./src/utils/fetch/index.ts"),I=s("./src/constants/index.ts"),n=s("./src/screens/discovery/calendar/item-line/ds.ts"),C=s("./node_modules/react/jsx-runtime.js"),w=.64*S._.window.height,s=(0,r.memo)(function(e){var t=e.navigation,s=e.section,r=e.index,n=e.styles,o=e.hideScore,i=e.subjectId,a=e.name,d=e.desc,l=e.images,c=e.air,u=e.time,m=e.expand,p=e.collection,f=e.score,y=e.sites,e=e.onToggleExpand,j=(0,O.HTMLDecode)(a),_=20<=j.length?12:14<=j.length?13:14,o=!o&&!!f,x=m||!m&&u&&"2359"!==u,g=[],y=(y.b&&g.push("bilibili"),!y.b&&y.bhmt&&g.push("bilibili 港澳台"),y.i&&g.push("爱奇艺"),y.q&&g.push("腾讯视频"),(0,C.jsxs)(h.Flex,{style:n.item,align:"start",children:[(0,C.jsxs)(b.default,{style:n.time,children:[!(!u||"2359"===u&&!m)&&(0,C.jsx)(h.Text,{bold:!0,children:"2359"===u?"未知":u.slice(0,2)+":"+u.slice(2)}),"2359"===u&&(0,C.jsx)(h.Touchable,{style:n.undetermined,withoutFeedback:!0,onPress:e,children:(0,C.jsx)(h.Text,{type:"sub",children:m?"收起":"展开"})})]}),x&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.InView,{style:n.inView,y:w*s+138*r+1,children:(0,C.jsx)(v.Cover,{width:I.IMG_WIDTH,height:I.IMG_HEIGHT,src:null==l?void 0:l.medium,radius:!0,shadow:!0})}),(0,C.jsx)(h.Flex.Item,{style:S._.ml.md,children:(0,C.jsxs)(h.Flex,{style:n.body,direction:"column",justify:"between",align:"start",children:[(0,C.jsx)(b.default,{style:S._.container.block,children:(0,C.jsx)(h.Flex,{align:"start",children:(0,C.jsx)(h.Flex.Item,{children:(0,C.jsx)(h.Katakana.Provider,{itemStyle:n.katakanas,size:_,numberOfLines:3,bold:!0,children:(0,C.jsx)(h.Katakana,{type:"desc",size:_,numberOfLines:3,bold:!0,children:j})})})})}),!!g.length&&(0,C.jsx)(h.Text,{type:"sub",size:13,bold:!0,children:g.join("、")}),(0,C.jsxs)(h.Flex,{children:[!!c&&(0,C.jsxs)(h.Text,{style:S._.mr.sm,type:"sub",size:13,bold:!0,children:["至第",c,"话"]}),o&&(0,C.jsx)(v.Stars,{simple:!0,value:f,type:"desc",size:13})]})]})}),(0,C.jsx)(v.Manage,{subjectId:i,collection:p,onPress:function(){S.uiStore.showManageModal({subjectId:i,title:(0,O.HTMLDecode)(a),desc:d,status:I.MODEL_COLLECTION_STATUS.getValue(p)},"每日放送")}})]})]}));return x?(0,C.jsx)(b.default,{style:S._.container.block,children:(0,C.jsx)(h.Touchable,{animate:!0,onPress:function(){(0,T.t)("每日放送.跳转",{to:"Subject",subjectId:i}),t.push("Subject",{subjectId:i,_cn:a,_image:null==l?void 0:l.medium})},children:y})}):(0,C.jsx)(b.default,{style:S._.container.block,children:y})},n.DEFAULT_PROPS);t.default=s;try{itemline.displayName="itemline",itemline.__docgenInfo={description:"",displayName:"itemline",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},section:{defaultValue:null,description:"",name:"section",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ item: { width: string; paddingVertical: number; paddingRight: number; }; inView: { minWidth: number; minHeight: number; }; time: { width: number; paddingLeft: number; marginTop: number; }; body: { width: string; height: number; paddingTop: number; }; katakanas: { ...; }; undetermined: { ...; }; }"}},hideScore:{defaultValue:null,description:"",name:"hideScore",required:!0,type:{name:"boolean"}},subjectId:{defaultValue:null,description:"",name:"subjectId",required:!0,type:{name:"SubjectId"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},desc:{defaultValue:null,description:"",name:"desc",required:!0,type:{name:"string"}},images:{defaultValue:null,description:"",name:"images",required:!0,type:{name:"Images"}},air:{defaultValue:null,description:"",name:"air",required:!0,type:{name:"string"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"string"}},expand:{defaultValue:null,description:"",name:"expand",required:!0,type:{name:"boolean"}},collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"string"}},score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"number"}},sites:{defaultValue:null,description:"",name:"sites",required:!0,type:{name:"{ b?: number; bhmt?: number; i?: string; q?: string; }"}},onToggleExpand:{defaultValue:null,description:"",name:"onToggleExpand",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/item-line/item-line.tsx#itemline"]={docgenInfo:itemline.__docgenInfo,name:"itemline",path:"src/screens/discovery/calendar/item-line/item-line.tsx#itemline"})}catch(e){}},"./src/screens/discovery/calendar/item-line/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{item:{width:"100%",paddingVertical:12,paddingRight:r._._wind},inView:{minWidth:n.IMG_WIDTH,minHeight:n.IMG_HEIGHT},time:{width:r._.r(72),paddingLeft:r._._wind,marginTop:2},body:{width:"100%",height:n.IMG_HEIGHT-4,paddingTop:2},katakanas:{marginTop:-10},undetermined:{zIndex:1,paddingVertical:r._.sm}}});t.memoStyles=s},"./src/screens/discovery/calendar/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),n=s("./src/components/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),o=s("./src/utils/decorators/index.ts"),p=r(s("./src/screens/discovery/calendar/item-grid/index.tsx")),f=r(s("./src/screens/discovery/calendar/item-line/index.tsx")),y=s("./src/screens/discovery/calendar/utils.ts"),i=s("./src/screens/discovery/calendar/item/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),_=(new Date).getDay();0===_&&(_=7);r=(0,o.obc)(function(e,t){var s=e.item,o=e.section,i=t.$,a=s.items,d=parseInt((0,m.date)("Hi",(0,m.getTimestamp)())),l=!1;return(0,j.jsx)(n.Flex,{wrap:"wrap",align:"start",children:a.map(function(e,t){var s,r=(0,y.getTime)(e),n=(0<t&&(0,y.getTime)(a[t-1])===r&&(r=""),e.air),n=(e.air_weekday!==_&&0!==n&&(n=Number(n)+1),{key:e.id,subjectId:e.id,images:e.images,name:(0,m.cnjp)(e.name_cn,e.name),desc:(0,m.cnjp)(e.name,e.name_cn),score:e.rating&&e.rating.score,air:n,time:r,section:o.index,index:t});return i.isList?(s=(new Date).getHours()<12,(s=o.index===(s?1:0))&&!l&&parseInt(r)>d?(l=!0,(0,j.jsxs)(c.default,{style:u._.container.block,children:[(0,j.jsx)(x,{}),(0,j.jsx)(f.default,Object.assign({},n))]},e.id)):s&&!l&&t===a.length-1?(0,j.jsxs)(c.default,{style:u._.container.block,children:[(0,j.jsx)(f.default,Object.assign({},n)),(0,j.jsx)(x,{})]},e.id):(0,j.jsx)(f.default,Object.assign({},n))):(0,j.jsx)(p.default,Object.assign({index:t},n))})})});function x(){var e=(0,i.memoStyles)();return(0,j.jsxs)(n.Flex,{children:[(0,j.jsx)(n.Flex.Item,{style:e.line}),(0,j.jsx)(n.Iconfont,{name:"md-access-time",color:u._.colorMain,size:16}),(0,j.jsx)(n.Text,{style:u._.ml.xs,type:"main",bold:!0,children:(0,m.date)("H:i",(0,m.getTimestamp)())}),(0,j.jsx)(n.Flex.Item,{style:e.line}),(0,j.jsx)(n.Heatmap,{id:"每日放送.跳转"})]})}t.default=r},"./src/screens/discovery/calendar/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{line:{height:1,marginVertical:r._.md,marginHorizontal:r._._wind,backgroundColor:r._.colorMain}}});t.memoStyles=s},"./src/screens/discovery/calendar/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/discovery/calendar/item/index.tsx")),c=s("./src/screens/discovery/calendar/list/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");r=(0,d.obc)(function(e,t){var t=t.$,s=(0,c.memoStyles)(),r=t.state.layout,n=t.isList?void 0:3;return(0,u.jsx)(o.ListView,{style:i._.container.plain,contentContainerStyle:s.contentContainerStyle,keyExtractor:a.keyExtractor,sections:t.sections,lazy:2,numColumns:n,scrollToTop:!0,renderSectionHeader:m,renderItem:p,scrollEventThrottle:16,onScroll:t.onScroll},""+r+n)});function m(e){e=e.section.title;return(0,u.jsx)(n.SectionHeader,{style:[i._.container.plain,{paddingVertical:i._.md,paddingLeft:i._._wind}],size:14,children:e})}function p(e){var t=e.item,e=e.section;return(0,u.jsx)(l.default,{item:t,section:void 0===e?{}:e})}t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/calendar/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/calendar/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind-r._.device(r._._wind,r._._wind+8)}}});t.memoStyles=s},"./src/screens/discovery/calendar/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=r(s("./src/assets/json/thirdParty/bangumiData.min.json")),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/screens/discovery/calendar/utils.ts"),b=s("./src/screens/discovery/calendar/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(S,s),v=h(S),(0,a.default)(S,[{key:"calendar",get:function(){return j.calendarStore.calendar}},{key:"sections",get:function(){var e=(new Date).getDay(),t=(0===e&&(e=7),(new Date).getHours()<12),e=e-(t?2:1),t=this.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.slice().sort(function(e,t){return(0,_.desc)((0,g.getTime)(e),(0,g.getTime)(t))})})});return t.slice(e).concat(t.slice(0,e)).map(function(e,t){return{title:e.weekday.cn,index:t,data:[e]}})}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,f.computed)(function(){return j.subjectStore.subject(e)}).get()}},{key:"sites",value:function(t){return(0,f.computed)(function(){var e;return(null==(e=y.default.find(function(e){return e.id==t}))?void 0:e.s)||{}}).get()}}]),(0,p.default)((r=S).prototype,"calendar",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"calendar"),r.prototype),(0,p.default)(r.prototype,"sections",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"sections"),r.prototype),(0,p.default)(r.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isList"),r.prototype);var v,l=r;function S(){var s;(0,i.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,m.default)((0,d.default)(s),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,d.default)(s),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getStorage(b.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,s.setState(Object.assign({},t,b.EXCLUDE_STATE,{_loaded:!0})),e.next=9,(0,x.queue)([function(){return j.calendarStore.fetchOnAir()},function(){return j.calendarStore.fetchCalendar()}]);case 9:s.fetchCollectionsQueue();case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(s),"fetchCollectionsQueue",function(){var e=s.state._lastQueue;(0,_.getTimestamp)()-e<=86400||setTimeout((0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],s.calendar.list.forEach(function(e){e.items.forEach(function(e){t.push(e.id)})}),e.next=5,j.collectionStore.fetchCollectionStatusQueue(t);case 5:s.setState({_lastQueue:(0,_.getTimestamp)()}),s.setStorage(b.NAMESPACE),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])})),2e3)}),(0,m.default)((0,d.default)(s),"onSwitchLayout",function(){var e=s.isList?"grid":"list";(0,x.t)("每日放送.切换布局",{layout:e}),s.setState({layout:e}),s.setStorage(b.NAMESPACE)}),(0,m.default)((0,d.default)(s),"onToggleType",function(e){var t=s.state.type;if(e){if("全部"===e&&"all"===t)return;if("收藏"===e&&"collect"===t)return}s.setState({type:"all"===t?"collect":"all"}),s.setStorage(b.NAMESPACE)}),(0,m.default)((0,d.default)(s),"onToggleExpand",function(){var e=s.state.expand;s.setState({expand:!e}),s.setStorage(b.NAMESPACE)}),(0,m.default)((0,d.default)(s),"onScroll",_.updateVisibleBottom.bind((0,d.default)(s))),s}t.default=l},"./src/screens/discovery/calendar/type/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/calendar/type/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),a=["全部","收藏"];s=(0,r.ob)(function(e){var t=e.type,e=e.onChange;return(0,i.jsx)(n.SegmentedControl,{style:o.styles.segment,size:11,values:a,selectedIndex:"collect"===t?1:0,onValueChange:e})});t.default=s;try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/calendar/type/index.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/discovery/calendar/type/index.tsx#type"})}catch(e){}},"./src/screens/discovery/calendar/type/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({segment:{width:s._.r(96),height:s._.r(28)}});t.styles=s},"./src/screens/discovery/calendar/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=function(e){return String((null==e?void 0:e.timeLocal)||(null==e?void 0:e.timeCN)||(null==e?void 0:e.timeJP)||"2359")}},"./src/screens/discovery/catalog-detail/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenCatalogDetail",s={visibleBottom:s._.window.height,visible:!1,defaultEditItem:null,progress:{fetching:!1,message:"",current:0,total:0}},t.EXCLUDE_STATE=s,s=Object.assign({layout:"list",sort:0},s,{_loaded:!1});t.STATE=s},"./src/screens/discovery/catalog-detail/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/index.ts"),l=s("./src/utils/fetch/index.ts"),n=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),u=r(s("./src/screens/discovery/catalog-detail/icon-copy/index.tsx")),m=r(s("./src/screens/discovery/catalog-detail/icon-favor/index.tsx")),p=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var e=e.fixed,s=t.$,r=t.navigation,n=(t=s.catalogDetail).title,o=t.joinUrl,i=t.byeUrl;return(0,p.jsx)(a.Header,{mode:"float",fixed:e,title:n,alias:"目录详情",hm:["index/"+s.catalogId,"CatalogDetail"],headerRight:function(){return(0,p.jsxs)(a.Flex,{children:[(0,p.jsx)(u.default,{$:s,navigation:r}),!(!o&&!i)&&(0,p.jsx)(m.default,{$:s}),(0,p.jsx)(a.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,l.t)("目录详情.右上角菜单",{key:e}),(0,d.open)(c.HOST+"/index/"+s.catalogId))},children:(0,p.jsx)(a.Heatmap,{id:"目录详情.右上角菜单"})})]})}})});t.default=r},"./src/screens/discovery/catalog-detail/icon-copy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e){var t=e.$,s=e.navigation;return(0,i.jsx)(n.IconHeader,{name:"md-filter-none",color:o._.colorDesc,size:17,onPress:function(){return t.onCopy(s)}})});t.default=s;try{iconcopy.displayName="iconcopy",iconcopy.__docgenInfo={description:"",displayName:"iconcopy",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/icon-copy/index.tsx#iconcopy"]={docgenInfo:iconcopy.__docgenInfo,name:"iconcopy",path:"src/screens/discovery/catalog-detail/icon-copy/index.tsx#iconcopy"})}catch(e){}},"./src/screens/discovery/catalog-detail/icon-favor/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/catalog-detail/icon-favor/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e){var t=(e=e.$).catalogDetail.collect;return(0,d.jsxs)(n.Flex,{style:t?a.styles.withCollect:i._.mr.xs,children:[(0,d.jsxs)(o.IconHeader,{name:e.isCollect?"md-star":"md-star-outline",size:22,color:e.isCollect?i._.colorYellow:i._.colorDesc,onPress:e.toggleCollect,children:[(0,d.jsx)(n.Heatmap,{right:75,id:"目录详情.取消收藏"}),(0,d.jsx)(n.Heatmap,{right:30,id:"目录详情.收藏"})]}),!!t&&(0,d.jsx)(n.Text,{style:a.styles.num,size:10,bold:!0,children:t})]})});t.default=s;try{iconfavor.displayName="iconfavor",iconfavor.__docgenInfo={description:"",displayName:"iconfavor",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalogDetail"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/icon-favor/index.tsx#iconfavor"]={docgenInfo:iconfavor.__docgenInfo,name:"iconfavor",path:"src/screens/discovery/catalog-detail/icon-favor/index.tsx#iconfavor"})}catch(e){}},"./src/screens/discovery/catalog-detail/icon-favor/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({withCollect:{paddingRight:s._.xs,marginRight:s._.xs},num:{position:"absolute",right:4,bottom:5}});t.styles=s},"./src/screens/discovery/catalog-detail/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),a=s("./src/components/index.ts"),d=s("./src/components/header/utils.tsx"),l=s("./src/screens/_/index.ts"),c=s("./src/utils/hooks/index.ts"),n=s("./src/utils/decorators/index.ts"),u=r(s("./src/screens/discovery/catalog-detail/header/index.tsx")),m=r(s("./src/screens/discovery/catalog-detail/list/index.tsx")),p=r(s("./src/screens/discovery/catalog-detail/tips/index.tsx")),r=r(s("./src/screens/discovery/catalog-detail/store.ts")),f=s("./node_modules/react/jsx-runtime.js");function y(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(y=function(e){return e?s:t})(e))}s=(0,n.ic)(r.default,function(e,t){var s=t.$,t=((0,c.useRunAfter)(function(){s.init()}),(0,d.useOnScroll)()),r=t.fixed,n=t.onScroll,o=(0,i.useCallback)(function(e){s.onScroll(e),n(e)},[n]);return(0,c.useObserver)(function(){var e=s.state,t=e.visible,e=e.defaultEditItem;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.default,{fixed:r}),(0,f.jsxs)(a.Page,{children:[(0,f.jsx)(m.default,{onScroll:o}),(0,f.jsx)(p.default,{})]}),(0,f.jsx)(l.FolderManageModal,{id:s.catalogId,visible:t,defaultExpand:s.catalogId,defaultEditItem:e,onClose:s.onClose})]})})});t.default=s;try{catalogdetail.displayName="catalogdetail",catalogdetail.__docgenInfo={description:"",displayName:"catalogdetail",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/index.tsx#catalogdetail"]={docgenInfo:catalogdetail.__docgenInfo,name:"catalogdetail",path:"src/screens/discovery/catalog-detail/index.tsx#catalogdetail"})}catch(e){}},"./src/screens/discovery/catalog-detail/info/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),f=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),y=s("./src/components/index.ts"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/screens/discovery/catalog-detail/info/styles.ts"),b=s("./src/constants/index.ts"),h=s("./node_modules/react/jsx-runtime.js"),v=["列表","网格"],S=["默认","时间","评分"];s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,g.memoStyles)(),n=s.state.sort,o=(p=s.catalogDetail).title,i=p.avatar,a=p.content,d=p.progress,l=p.nickname,c=p.userId,u=p.time,m=p.replyCount,p=p._loaded,m=5==m?"5+":m;return(0,h.jsxs)(f.default,{style:t.container,children:[(0,h.jsx)(y.Header.Placeholder,{}),(0,h.jsxs)(f.default,{style:j._.container.inner,children:[(0,h.jsx)(y.Text,{size:20,bold:!0,children:o}),!(!l&&!u)&&(0,h.jsxs)(y.Flex,{style:j._.mt.sm,children:[(0,h.jsx)(y.Text,{type:"title",size:13,lineHeight:15,bold:!0,onPress:function(){(0,x.t)("目录详情.跳转",{to:"Zone",catalogId:s.catalogId,userId:c}),r.push("Zone",{userId:c,_id:c,_name:l,_image:i})},children:l}),(0,h.jsxs)(y.Text,{type:"sub",size:13,lineHeight:15,bold:!0,children:[l?" · ":"",u]})]}),!!i&&(0,h.jsxs)(y.Flex,{style:j._.mt.lg,justify:"center",children:[(0,h.jsx)(y.Image,{src:(0,_.getCoverLarge)(i),size:j._.r(80),shadow:!0,placeholder:!1,imageViewer:!0,event:{id:"目录详情.封面图查看",data:{catalogId:s.catalogId}}}),(0,h.jsx)(y.Heatmap,{id:"目录详情.封面图查看"})]}),!!a&&(0,h.jsx)(y.Expand,{style:j._.mt.lg,ratio:.64,children:(0,h.jsx)(y.RenderHtml,{html:a,onLinkPress:function(e){return(0,_.appNavigate)(e,r)}})}),(0,h.jsxs)(y.Flex,{style:j._.mt.md,children:[(0,h.jsx)(y.Flex.Item,{children:(0,h.jsxs)(y.Flex,{children:[(0,h.jsx)(y.Touchable,{onPress:function(){r.push("WebBrowser",{url:b.HOST+"/index/"+s.catalogId+"/comments",title:"目录留言"}),(0,x.t)("目录详情.跳转",{to:"WebBrowser",catalogId:s.catalogId,userId:c})},children:(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:["留言",m?" ("+m+")":""]})}),(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:[" ","·"," "]}),(0,h.jsx)(y.Touchable,{onPress:function(){r.push("Catalogs",{userId:c}),(0,x.t)("目录详情.跳转",{to:"Catalogs",catalogId:s.catalogId,userId:c})},children:(0,h.jsx)(y.Text,{type:"sub",size:12,bold:!0,children:"TA 的其他目录"})})]})}),(0,h.jsxs)(y.Text,{type:"sub",size:12,bold:!0,children:["完成度","  ",d.replace("/"," / ")]})]}),(0,h.jsxs)(y.Flex,{style:j._.mt.lg,children:[(0,h.jsx)(y.Flex.Item,{children:(0,h.jsx)(y.Button,{style:t.btn,styleText:j._.fontSize11,type:"plain",bold:!0,onPress:s.fetchSubjectsQueue,children:"更新分数"})}),s.state._loaded&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.SegmentedControl,{style:t.layout,size:11,values:v,selectedIndex:s.isList?0:1,onValueChange:s.switchLayout}),(0,h.jsx)(y.SegmentedControl,{style:t.sort,size:11,values:S,selectedIndex:n||0,onValueChange:s.sort}),(0,h.jsx)(y.Heatmap,{id:"目录详情.排序"})]})]})]}),!p&&(0,h.jsx)(y.Flex,{style:t.loading,justify:"center",children:(0,h.jsx)(y.Loading,{})})]})});t.default=s;try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/info/index.tsx#info"]={docgenInfo:info.__docgenInfo,name:"info",path:"src/screens/discovery/catalog-detail/info/index.tsx#info"})}catch(e){}},"./src/screens/discovery/catalog-detail/info/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{minHeight:r._.window.contentWidth},loading:{height:240},layout:{width:r._.r(96),height:32,marginRight:r._.sm+2},sort:{width:r._.r(128),height:32},btn:{width:r._.r(82),height:32}}});t.memoStyles=s},"./src/screens/discovery/catalog-detail/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js"),u={id:"目录详情.跳转"};s=(0,r.obc)(function(e,t){var s=void 0===(s=e.index)?0:s,e=e.item,r=t.$,t=t.navigation,n=String(e.id).match(/\d+/)[0],o=d.collectionStore.collect(n);return r.isList?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.ItemCollections,{navigation:t,event:u,inViewY:.5*d._.window.height,index:s,id:n,type:e.type,cover:e.image,name:d.subjectStore.jp(n)||e.title,nameCn:d.subjectStore.cn(n)||(0,l.findSubjectCn)(e.title,n),tip:e.info,comments:e.comment,score:e.score,rank:e.rank,total:e.total,numberOfLines:3,modify:e.modify,isCollect:e.isCollect,collection:o,isCatalog:!0,hideScore:r.hideScore,isEditable:r.isSelf,showManage:!0,onEdit:r.onEdit}),!s&&(0,c.jsx)(i.Heatmap,{id:"目录详情.跳转"})]}):(0,c.jsx)(a.ItemCollectionsGrid,{navigation:t,event:u,id:n,num:r.gridNum,name:d.subjectStore.jp(n)||e.title,nameCn:d.subjectStore.cn(n)||(0,l.findSubjectCn)(e.title,n),cover:e.image,score:e.score,rank:e.rank,typeCn:e.type,collection:o})});t.default=s},"./src/screens/discovery/catalog-detail/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/constants/text/index.ts"),l=r(s("./src/screens/discovery/catalog-detail/info/index.tsx")),c=r(s("./src/screens/discovery/catalog-detail/item/index.tsx")),u=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(e,t){var e=e.onScroll,s=(t=t.$).state.layout,r=t.isList?void 0:t.gridNum;return(0,u.jsx)(n.PaginationList2,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,numColumns:r,data:t.list,limit:12,ListHeaderComponent:(0,u.jsx)(l.default,{}),renderItem:m,scrollToTop:!0,footerEmptyDataText:d.TEXT_18X,scrollEventThrottle:16,onScroll:e,onHeaderRefresh:t.fetchCatalogDetail},""+s+r)});function m(e){var t=e.index,e=e.item;return(0,u.jsx)(c.default,{index:t,item:e})}t.default=r},"./src/screens/discovery/catalog-detail/store.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=r(s("./src/utils/cache-manager/index.ts")),b=s("./src/utils/webhooks/index.ts"),h=s("./src/constants/index.ts"),v=r(s("./src/constants/i18n/index.ts")),S=s("./src/screens/discovery/catalog-detail/ds.ts");function O(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}r=_.default,(0,i.default)(I,r),T=O(I),(0,o.default)(I,[{key:"catalogId",get:function(){var e=this.params.catalogId;return void 0===e?"":e}},{key:"catalogDetail",get:function(){return y.discoveryStore.catalogDetail(this.catalogId)}},{key:"list",get:function(){var e=S.NAMESPACE+"|"+this.catalogId;if(this.state.progress.fetching){var t=g.default.get(e);if(t)return t}var t=this.state.sort,s=this.catalogDetail.list.map(function(e){var t=e.id;return Object.assign({},e,{score:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.score)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(e=e.rating)?void 0:e.score)||0,rank:(null==(e=y.subjectStore.subject(t))?void 0:e.rank)||(null==(e=y.subjectStore.subjectFromOSS(t))?void 0:e.rank)||"",total:(null==(e=y.subjectStore.subject(t))||null==(e=e.rating)?void 0:e.total)||(null==(e=y.subjectStore.subjectFromOSS(t))||null==(t=e.rating)?void 0:t.total)||""})});return 1===t?g.default.set(e,s.slice().sort(function(e,t){return(0,j.desc)((0,j.getTimestamp)(((null==(e=String(e.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"),(0,j.getTimestamp)(((null==(e=String(t.info).split(" / "))?void 0:e[0])||"").trim(),"YYYY年M月D日"))})):2===t?g.default.set(e,s.slice().sort(function(e,t){return(0,j.desc)(e,t,function(e){return e.rank?1e4-e.rank:e.score})})):g.default.set(e,s)}},{key:"isCollect",get:function(){return!!this.catalogDetail.byeUrl}},{key:"hideScore",get:function(){return this.params._hideScore}},{key:"isSelf",get:function(){var e=this.catalogDetail,t=e.joinUrl,e=e.byeUrl;return y.userStore.isLogin&&!t&&!e}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"gridNum",get:function(){return y._.portrait(3,5)}}]),(0,p.default)((s=I).prototype,"catalogId",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogId"),s.prototype),(0,p.default)(s.prototype,"catalogDetail",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogDetail"),s.prototype),(0,p.default)(s.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"list"),s.prototype),(0,p.default)(s.prototype,"isCollect",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isCollect"),s.prototype),(0,p.default)(s.prototype,"hideScore",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"hideScore"),s.prototype),(0,p.default)(s.prototype,"isSelf",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSelf"),s.prototype),(0,p.default)(s.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isList"),s.prototype),(0,p.default)(s.prototype,"gridNum",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"gridNum"),s.prototype);var T,_=s;function I(){var i;(0,n.default)(this,I);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=T.call.apply(T,[this].concat(s)),(0,m.default)((0,l.default)(i),"params",void 0),(0,m.default)((0,l.default)(i),"state",(0,f.observable)(S.STATE)),(0,m.default)((0,l.default)(i),"init",(0,d.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(S.NAMESPACE);case 2:return t=e.sent,i.setState(Object.assign({},t,S.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",i.fetchCatalogDetail());case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"fetchCatalogDetail",(0,d.default)(a.mark(function e(){var t=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<t.length&&void 0!==t[0]&&t[0]||!(0,j.opitimize)(i.catalogDetail,120))return e.next=4,y.discoveryStore.fetchCatalogDetail({id:i.catalogId});e.next=4;break;case 4:return i.fetchCollectionStatusQueue(),e.abrupt("return",i.catalogDetail);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"fetchCollectionStatusQueue",function(){setTimeout(function(){y.collectionStore.fetchCollectionStatusQueue(i.list.filter(function(e){return e.isCollect}).map(function(e){return e.id}))},160)}),(0,m.default)((0,l.default)(i),"fetchSubjectsQueue",function(){(0,j.confirm)("更新 "+i.list.length+" 个条目的评分?",(0,d.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],i.list.forEach(function(e){var s=e.id;t.push((0,d.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.subjectStore.fetchSubjectFromOSS(s);case 2:if(e.sent){e.next=6;break}return e.next=6,y.subjectStore.fetchSubject(s,"small");case 6:if((null==(t=y.subjectStore.subject(s))?void 0:t.rank)||(null==(t=y.subjectStore.subjectFromOSS(s))?void 0:t.rank)||""){e.next=12;break}return e.next=10,y.subjectStore.fetchSubject(s,"small");case 10:e.next=14;break;case 12:return e.next=14,(0,j.sleep)(40);case 14:i.setState({progress:{current:i.state.progress.current+1}});case 15:case"end":return e.stop()}},e)})))}),t.length&&i.setState({progress:{fetching:!0,message:"更新条目信息",current:1,total:t.length}}),e.next=5,(0,x.queue)(t,2);case 5:i.setState({progress:S.EXCLUDE_STATE.progress});case 6:case"end":return e.stop()}},e)})),"提示")}),(0,m.default)((0,l.default)(i),"toggleCollect",function(){i.catalogDetail.byeUrl?i.doErase():i.doCollect()}),(0,m.default)((0,l.default)(i),"sort",function(e){e="评分"===e?2:"时间"===e?1:0;(0,x.t)("目录详情.排序",{sort:e}),i.setState({sort:e}),i.setStorage(S.NAMESPACE)}),(0,m.default)((0,l.default)(i),"onEdit",function(t){var e=i.list.find(function(e){return e.modify==t});e?((0,x.t)("目录详情.管理",{id:i.catalogId}),e&&i.setState({visible:!0,defaultEditItem:e})):(0,j.info)("目录不属于你或者"+v.default.login()+"状态失效了")}),(0,m.default)((0,l.default)(i),"onClose",function(){i.setState({visible:!1,defaultEditItem:null})}),(0,m.default)((0,l.default)(i),"onCopy",function(e){y.userStore.formhash?(0,j.confirm)("复制当前目录成为自己的目录, 此操作会大量消耗服务器资源, 请勿滥用, 确定?",function(){return i.doCopy(e)},"复制目录"):(0,j.info)("请先"+v.default.login())}),(0,m.default)((0,l.default)(i),"switchLayout",function(){var e=i.isList?"grid":"list";(0,x.t)("目录详情.切换布局",{layout:e}),i.setState({layout:e}),i.setStorage(S.NAMESPACE)}),(0,m.default)((0,l.default)(i),"onScroll",j.updateVisibleBottom.bind((0,l.default)(i))),(0,m.default)((0,l.default)(i),"doCollect",(0,d.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.catalogDetail.joinUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.收藏",{catalogId:i.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+h.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已收藏"),(0,b.webhookCatalog)(Object.assign({},i.catalogDetail,{id:i.catalogId}),y.userStore.userInfo),e.abrupt("return",i.fetchCatalogDetail(!0));case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"doErase",(0,d.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.catalogDetail.byeUrl){e.next=3;break}return e.abrupt("return",!1);case 3:return(0,x.t)("目录详情.取消收藏",{catalogId:i.catalogId}),e.next=6,(0,x.fetchHTML)({method:"POST",url:""+h.HOST+t});case 6:return(0,j.feedback)(),(0,j.info)("已取消收藏"),e.abrupt("return",i.fetchCatalogDetail(!0));case 9:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(i),"doCopy",(t=(0,d.default)(a.mark(function e(n){var o,t,s;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=y.userStore.formhash,s=i.catalogDetail,t=s.title,s=s.content,y.discoveryStore.doCatalogCreate({formhash:o,title:t||"",desc:(0,j.removeHTMLTag)(s||"")},function(e,t){var s;t&&t.responseURL&&((s=t.responseURL.match(/\d+/g))&&s[0]?((0,j.info)("创建成功, 开始复制数据..."),setTimeout((0,d.default)(a.mark(function e(){var r;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s[0],e.next=3,(0,x.queue)(i.list.map(function(t,s){return function(){return new Promise(function(e){(0,j.info)(s+1+" / "+i.list.length),y.discoveryStore.doCatalogAddRelate({catalogId:r,subjectId:String(t.id).match(/\d+/)[0],formhash:o,noConsole:!0},function(){e()})})}}),1);case 3:n.push("CatalogDetail",{catalogId:r}),(0,j.info)("已完成"),(0,x.t)("目录详情.复制",{from:r});case 6:case"end":return e.stop()}},e)})),400)):(0,j.info)("目录创建失败, 请检查"+v.default.login()+"状态"))});case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),i}t.default=_},"./src/screens/discovery/catalog-detail/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$.state.progress).fetching,r=t.message,n=t.current,t=t.total;return(0,i.jsx)(o.Progress,{show:s,message:r,current:n,total:t})});t.default=s;try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog-detail/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/catalog-detail/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/catalog/filter/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR_DS=t.TYPE_DS=t.HOT_DS=t.FILTER_DS=void 0;var s=["不限","动画","书籍","游戏","音乐","三次元"],r=["不限","近1年","近3年",2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010],n=["不限","动画","漫画","作品","推荐","游戏","日本","目录","个人","裏","小说","轻","百合","排行榜","汉化","销量","列表","真","名作","女性","评分","葉","世界","黄油","原","自用","网站","店","实用","批评","厉害","已","计划","空间","补完","同人","收录","综合","动画短片","收集","看","排名","历年","选","冷门","少女","收藏","作画","一般","佳作","妹","组","坑","经典","世纪","完结","全","剧场版","制作","音乐","相关","剧情","记录","独立","美少女","国产","合集","史","最","适合","动画电影","含有","资源","动漫","纯爱","补","持续","施工","萌","選","值得","露点","男","要素","整理","人气","参与","媒体","部门","获奖作品","群友","版","画","完","艺术","系","榜","作","回","更新","奥斯卡","元素","不错","观看","看过","中文","精品","脚本","排行","本子","后宫","文化厅","校园","推理","评选","赏","角色","超级","广为人知","漫","统计","转生","英雄","步兵","大全","撸","年鉴","绅士","战斗","优秀","高分","物","提及","语音","成人","狂","票选","新房","作家","拿来","汇总","祭","演出","引进","光","反","手塚治虫","文化","魔法","作品集","致","读者","异","好看","門","文学","战士","高达","机器人","日美","口碑","剧场","部分","田中","泡面","三观","姉","待","迪士尼","长片","人生","美国","編","京都","补充","完整","获奖","佳","平成","选集","夏新","猎奇","名家","待补","参上","文明","健康","食肉","筛选","介绍","警告","口味","男孩子","知道","妹子","簿","神","扭曲","截止"],s=[{key:"filterType",title:"类型",data:t.TYPE_DS=s},{key:"filterYear",title:"时间",data:t.YEAR_DS=r},{key:"filterKey",title:"热词",data:t.HOT_DS=n}];t.FILTER_DS=s},"./src/screens/discovery/catalog/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.index-of.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/constants/index.ts"),c=s("./src/screens/discovery/catalog/filter/ds.ts"),u=s("./src/screens/discovery/catalog/filter/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var r,n=t.$;return"advance"!==n.state.type?null:(r=(0,u.memoStyles)(),(0,m.jsx)(o.default,{style:r.filter,children:c.FILTER_DS.map(function(s){return(0,m.jsxs)(i.Flex,{style:r.row,children:[(0,m.jsx)(o.default,{children:(0,m.jsx)(i.Text,{size:12,bold:!0,children:s.title})}),(0,m.jsx)(i.Flex.Item,{style:a._.ml.md,children:(0,m.jsx)(i.ScrollView,Object.assign({style:r.contentContainerStyle,horizontal:!0},l.SCROLL_VIEW_RESET_PROPS,{children:s.data.map(function(e,t){return"filterKey"===s.key&&!t&&n.state.filterKey&&7<=s.data.indexOf(n.state.filterKey)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Touchable,{style:r.item,onPress:function(){return n.onFilterChange(s.key,e)},children:(0,m.jsx)(i.Text,{size:11,children:e})},e),(0,m.jsx)(i.Touchable,{style:[r.item,r.itemActive],onPress:function(){return n.onFilterChange(s.key,n.state.filterKey)},children:(0,m.jsx)(i.Text,{size:11,children:n.state.filterKey})},e)]}):(t=n.state[s.key]===e,(0,m.jsx)(i.Touchable,{style:(0,d.stl)(r.item,t&&r.itemActive),onPress:function(){return n.onFilterChange(s.key,e)},children:(0,m.jsx)(i.Text,{size:11,children:e})},e))})}))})]},s.key)})}))});t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/catalog/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/catalog/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{filter:{paddingVertical:r._.sm},row:{paddingVertical:2,paddingRight:r._.wind-r._._wind,paddingLeft:r._.wind},contentContainerStyle:{paddingVertical:r._.r(4)},item:{paddingVertical:r._.r(4),paddingHorizontal:r._.r(12),borderRadius:r._.r(12),overflow:"hidden"},itemActive:{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel2)}}});t.memoStyles=s},"./src/screens/discovery/catalog/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/catalog/type/index.tsx")),a=s("./node_modules/react/jsx-runtime.js");r=(0,o.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"目录",headerTitleAlign:"left",hm:["discovery/catalog","Catalog"],headerRight:function(){return(0,a.jsx)(i.default,{$:s})}})});t.default=r;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/catalog/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/catalog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/catalog/header/index.tsx")),d=r(s("./src/screens/discovery/catalog/filter/index.tsx")),l=r(s("./src/screens/discovery/catalog/list/index.tsx")),c=r(s("./src/screens/discovery/catalog/pagination/index.tsx")),r=r(s("./src/screens/discovery/catalog/store.ts")),u=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){var e=s.state,t=e.fixedFilter,e=e.fixedPagination;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{loaded:s.state._loaded,children:[t&&(0,u.jsx)(d.default,{}),(0,u.jsx)(l.default,{}),e&&(0,u.jsx)(c.default,{})]})]})})});t.default=s;try{catalog.displayName="catalog",catalog.__docgenInfo={description:"",displayName:"catalog",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/index.tsx#catalog"]={docgenInfo:catalog.__docgenInfo,name:"catalog",path:"src/screens/discovery/catalog/index.tsx#catalog"})}catch(e){}},"./src/screens/discovery/catalog/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),n=s("./src/utils/decorators/index.ts"),m=r(s("./src/screens/discovery/catalog/filter/index.tsx")),p=r(s("./src/screens/discovery/catalog/pagination/index.tsx")),f=s("./src/screens/discovery/catalog/list/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"目录.跳转"};r=(0,n.obc)(function(e,t){var t=t.$,s=(o=t.state).show,r=o.filterKey,n=o.fixedPagination,o=o.fixedFilter,i=(a=t.catalog).list,a=a._loaded;return(0,y.jsxs)(l.ScrollView,{contentContainerStyle:u._.mb.md,scrollToTop:!0,children:[!o&&(0,y.jsx)(m.default,{}),t.isLimit?(0,y.jsxs)(l.Flex,{style:f.styles.empty,direction:"column",justify:"center",children:[(0,y.jsx)(l.Mesume,{size:80}),(0,y.jsx)(l.Text,{style:[f.styles.text,u._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"此功能仅对正常注册用户开放"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.default,{style:f.styles.container,children:s&&(a&&!i.length?(0,y.jsxs)(l.Flex,{style:f.styles.empty,direction:"column",justify:"center",children:[(0,y.jsx)(l.Mesume,{size:80}),(0,y.jsx)(l.Text,{style:[f.styles.text,u._.mt.sm],type:"sub",size:13,lineHeight:15,align:"center",children:"到底了"})]}):i.map(function(e,t){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.ItemCatalog,Object.assign({event:j},e,{filter:"不限"===r?"":r}),e.id),1===t&&(0,y.jsx)(l.Heatmap,{id:"目录.跳转"})]})}))}),!n&&s&&(0,y.jsx)(p.default,{})]})]})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/catalog/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/catalog/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({container:{minHeight:.64*s._.window.height,marginBottom:s._.md},empty:{minHeight:.5*s._.window.height},text:Object.assign({maxWidth:s._.window.contentWidth-2*s._.md},s._.fontSize14)});t.styles=s},"./src/screens/discovery/catalog/more/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e){var t=e.$,s=(e=(null==t?void 0:t.state)||{}).fixedFilter,e=e.fixedPagination;return(0,i.jsx)(n.ToolBar.Popover,{data:["筛选（"+(s?"固定":"浮动")+"）","分页（"+(e?"固定":"浮动")+"）"],icon:"md-more-vert",iconColor:o._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("筛选")?t.onToggleFixed("fixedFilter"):e.includes("分页")?t.onToggleFixed("fixedPagination"):void 0}})});t.default=s;try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/more/index.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/catalog/more/index.tsx#more"})}catch(e){}},"./src/screens/discovery/catalog/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/catalog/pagination/styles.ts"),i=s("./node_modules/react/jsx-runtime.js"),a={onPrev:"目录.上一页",onNext:"目录.下一页",search:"目录.页码跳转"};s=(0,r.obc)(function(e,t){var s=(t=t.$).state.ipt;return(0,i.jsx)(n.Pagination,{style:o.styles.pagination,input:s,heatmaps:a,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})});t.default=s;try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/catalog/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/catalog/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({pagination:{marginTop:s._.xs,marginBottom:s._.ios(s._.md+s._.sm,s._.md)}});t.styles=s},"./src/screens/discovery/catalog/store.ts":(e,t,s)=>{var i=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),d=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),o=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),_=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/kv/index.ts"),b=r(s("./src/assets/json/catalogs.json")),h=s("./src/constants/index.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var S,O="ScreenCatalog",_=(r=_.default,(0,o.default)(T,r),S=v(T),(0,n.default)(T,[{key:"catalogAdvance",get:function(){return b.default.map(function(e){var t=e.r>=Math.max(e.a||0,e.b||0,e.m||0,e.g||0)?"real":e.g>=Math.max(e.a||0,e.b||0,e.m||0)?"game":e.m>=Math.max(e.a||0,e.b||0)?"music":e.b>=(e.a||0)?"book":"anime";return{id:e.i,title:e.t,last:e.d,anime:e.a||0,book:e.b||0,music:e.m||0,game:e.g||0,real:e.r||0,_type:t}})}},{key:"catalogAdvanceFilter",get:function(){var t,e,s,r=this.state,n=r.page,o=r.filterType,i=r.filterYear,a=r.filterKey,r=this.catalogAdvance;o&&"不限"!==o&&(r=r.filter(function(e){return h.MODEL_SUBJECT_TYPE.getTitle(e._type)===o})),i&&"不限"!==i&&(r="近1年"===i?(e=(0,j.getTimestamp)(),t=Number(""+(Number((0,j.date)("Y",e))-1)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=t})):"近3年"===i?(e=(0,j.getTimestamp)(),s=Number(""+(Number((0,j.date)("Y",e))-3)+(0,j.date)("md",e)),r.filter(function(e){return Number(e.last.replace(/-/g,""))>=s})):r.filter(function(e){return e.last.includes(i)}));return{list:(r=a&&"不限"!==a?r.filter(function(e){return e.title.includes(a)}):r).slice(10*(n-1),10*n),_loaded:!0}}},{key:"catalog",get:function(){var e=this.state,t=e.type,e=e.page;return"advance"===t?this.catalogAdvanceFilter:(t=y.discoveryStore.catalog(t,e),y.userStore.isLimit?Object.assign({},t,{list:t.list.filter(function(e){return!(0,j.x18s)(e.title)})}):t)}},{key:"isLimit",get:function(){var e;return!h.STORYBOOK&&"advance"===this.state.type&&(!y.userStore.isLogin||!(e=y.userStore.userInfo.id)||e==h.APP_USERID_TOURIST||e==h.APP_USERID_IOS_AUTH||void 0)}}]),(0,p.default)((s=T).prototype,"catalogAdvance",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogAdvance"),s.prototype),(0,p.default)(s.prototype,"catalogAdvanceFilter",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalogAdvanceFilter"),s.prototype),(0,p.default)(s.prototype,"catalog",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"catalog"),s.prototype),(0,p.default)(s.prototype,"isLimit",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"isLimit"),s.prototype),s);function T(){var n;(0,d.default)(this,T);for(var t,s,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=S.call.apply(S,[this].concat(r)),(0,m.default)((0,l.default)(n),"state",(0,f.observable)({type:"advance",page:1,show:!0,ipt:"1",filterType:"不限",filterYear:"近1年",filterKey:"不限",fixedFilter:!1,fixedPagination:!1,_loaded:!1})),(0,m.default)((0,l.default)(n),"init",(0,a.default)(i.mark(function e(){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.t1=Object,e.t2={},e.next=5,n.getStorage(O);case 5:return e.t3=e.sent,e.t4={_loaded:!0},e.t5=e.t1.assign.call(e.t1,e.t2,e.t3,e.t4),e.t0.setState.call(e.t0,e.t5),e.abrupt("return",n.fetchCatalog());case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"fetchCatalog",(0,a.default)(i.mark(function e(){var t,s,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=n.state,t=s.type,s=s.page,"advance"!==t?e.next=5:(r=n.catalogAdvanceFilter.list,e.next=8);break;case 5:return e.next=7,y.discoveryStore.fetchCatalog({type:t,page:s});case 7:r=e.sent;case 8:return(0,x.queue)(r.map(function(e){return function(){return n.fetchCatalogDetail(e.id)}})),e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"fetchCatalogDetail",(t=(0,a.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:return e.next=4,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 4:if(e.sent)return e.abrupt("return",!0);e.next=7;break;case 7:return e.next=9,y.discoveryStore.fetchCatalogDetail({id:t});case 9:return s=e.sent,n.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,l.default)(n),"updateCatalogDetail",function(c){setTimeout(function(){var e=c.id,t=c.title,s=c.info,r=c.content,n=c.avatar,o=c.nickname,i=c.userId,a=c.time,d=c.collect,l=c.list,s=(0,j.HTMLDecode)((0,j.removeHTMLTag)(s||r));(0,g.update)("catalog_"+e,{id:e,title:t,info:s?s.slice(0,40):"",avatar:n,nickname:o,userId:i,time:a,collect:d,list:l.filter(function(e,t){return t<3}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}}),total:l.length})},2e3)}),(0,m.default)((0,l.default)(n),"onShow",function(){setTimeout(function(){n.setState({show:!0}),n.setStorage(O)},400)}),(0,m.default)((0,l.default)(n),"onToggleType",(s=(0,a.default)(i.mark(function e(t){var s;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.state.type,t){if("最新"===t&&""===s)return e.abrupt("return");e.next=4}else e.next=8;break;case 4:if("热门"===t&&"collect"===s)return e.abrupt("return");e.next=6;break;case 6:if("高级"===t&&"advance"===s)return e.abrupt("return");e.next=8;break;case 8:return(0,x.t)("目录.切换类型",{type:t}),n.setState({type:"热门"===t?"collect":"高级"===t?"advance":"",page:1,ipt:"1",show:!1}),e.next=12,n.fetchCatalog();case 12:n.setState({show:!0}),n.setStorage(O);case 14:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),(0,m.default)((0,l.default)(n),"onPrev",(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=n.state.page))return e.abrupt("return");e.next=3;break;case 3:(0,x.t)("目录.上一页",{page:t-1}),n.setState({page:t-1,show:!1,ipt:String(t-1)}),n.fetchCatalog(),n.onShow();case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onNext",(0,a.default)(i.mark(function e(){var t;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.page,(0,x.t)("目录.下一页",{page:t+1}),n.setState({page:t+1,show:!1,ipt:String(t+1)}),n.fetchCatalog(),n.onShow();case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,l.default)(n),"onChange",function(e){e=e.nativeEvent.text;n.setState({ipt:e})}),(0,m.default)((0,l.default)(n),"onFilterChange",function(e,t){n.setState((0,m.default)({page:1,show:!1,ipt:"1"},e,t)),n.onShow(),n.fetchCatalog(),(0,x.t)("目录.高级筛选",{value:e+"|"+t})}),(0,m.default)((0,l.default)(n),"onToggleFixed",function(e){n.setState((0,m.default)({},e,!n.state[e])),n.setStorage(O),(0,x.t)("目录.切换锁定",{value:e+"|"+!n.state[e]})}),(0,m.default)((0,l.default)(n),"doSearch",function(){var e=n.state.ipt,e=""===e?1:parseInt(e);e<1?(0,j.info)("请输入正确页码"):((0,x.t)("目录.页码跳转",{page:e}),n.setState({page:e,show:!1,ipt:String(e)}),n.fetchCatalog(),setTimeout(function(){n.setState({show:!0}),n.setStorage(O)},400))}),n}t.default=_},"./src/screens/discovery/catalog/type/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r,n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/react/index.js")),n(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),l=n(s("./src/screens/discovery/catalog/more/index.tsx")),c=s("./src/screens/discovery/catalog/type/styles.ts"),u=s("./node_modules/react/jsx-runtime.js"),m=["高级","最新","热门"];n=(0,d.ob)(function(e){(e=e.$)&&(r=e.state.type);var t="collect"===(t=void 0===(null==e?void 0:e.state.type)?r:null==e?void 0:e.state.type)?1:"advance"===t?0:2;return(0,u.jsxs)(i.Flex,{style:a._.mr.md,children:[(0,u.jsxs)(o.default,{children:[(0,u.jsx)(i.SegmentedControl,{style:c.styles.segment,size:11,values:m,selectedIndex:t,onValueChange:(null==e?void 0:e.onToggleType)||function(){}},String(null==e||null==(t=e.state)?void 0:t._loaded)),(0,u.jsx)(i.Heatmap,{id:"目录.切换类型"})]}),(0,u.jsx)(l.default,{$:e},String(null==e||null==(t=e.state)?void 0:t._loaded))]})});t.default=n;try{r.displayName="type",r.__docgenInfo={description:"",displayName:"type",props:{$:{defaultValue:null,description:"",name:"$",required:!0,type:{name:"ScreenCatalog"}},navigation:{defaultValue:null,description:"",name:"navigation",required:!1,type:{name:"Navigation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/catalog/type/index.tsx#type"]={docgenInfo:r.__docgenInfo,name:"type",path:"src/screens/discovery/catalog/type/index.tsx#type"})}catch(e){}},"./src/screens/discovery/catalog/type/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({segment:{width:s._.r(144),height:s._.r(28),marginRight:s._.xs}});t.styles=s},"./src/screens/discovery/channel/blog/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,t=void 0===(t=s.channel.blog)?[]:t;return(0,a.jsxs)(n.default,{style:i._.mt.lg,children:[(0,a.jsx)(o.SectionTitle,{style:i._.container.wind,children:"最近日志"}),(0,a.jsx)(n.default,{style:i._.mt.sm,children:t.map(function(e){return(0,a.jsx)(o.ItemBlog,Object.assign({},e,{event:{id:"频道.跳转",data:{from:"blog",type:s.type}}}),e.id)})})]})});t.default=s;try{blog.displayName="blog",blog.__docgenInfo={description:"",displayName:"blog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/blog/index.tsx#blog"]={docgenInfo:blog.__docgenInfo,name:"blog",path:"src/screens/discovery/channel/blog/index.tsx#blog"})}catch(e){}},"./src/screens/discovery/channel/discuss/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/channel/discuss/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,u.memoStyles)(),t=void 0===(t=s.channel.discuss)?[]:t;return(0,m.jsxs)(o.default,{style:d._.mt.lg,children:[(0,m.jsx)(a.SectionTitle,{style:d._.container.wind,children:"最新讨论"}),(0,m.jsx)(o.default,{style:d._.mt.sm,children:t.map(function(e){return(0,m.jsx)(i.Touchable,{style:n.item,animate:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Topic",from:"discuss",type:s.type,topicId:e.id}),r.push("Topic",{topicId:e.id,_title:e.title,_replies:e.replies,_userName:e.userName,_userId:e.userId,_time:e.time})},children:(0,m.jsx)(o.default,{style:n.wrap,children:(0,m.jsxs)(i.Flex,{style:n.content,children:[(0,m.jsxs)(i.Flex.Item,{children:[(0,m.jsxs)(i.Text,{size:15,bold:!0,children:[e.title," ","+0"!==e.replies&&(0,m.jsx)(i.Text,{type:"main",size:12,lineHeight:14,bold:!0,children:e.replies})]}),(0,m.jsx)(i.Katakana.Provider,{style:d._.mt.sm,itemStyle:n.katakanas,size:12,children:(0,m.jsx)(i.Katakana,{type:"sub",size:12,children:(0,l.findSubjectCn)(e.subjectName)})})]}),(0,m.jsxs)(o.default,{style:d._.ml.md,children:[(0,m.jsx)(i.Text,{size:12,align:"right",bold:!0,children:e.userName}),(0,m.jsx)(i.Text,{style:d._.mt.xs,type:"sub",size:12,align:"right",children:e.time})]})]})})},e.id)})})]})});t.default=s;try{discuss.displayName="discuss",discuss.__docgenInfo={description:"",displayName:"discuss",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/discuss/index.tsx#discuss"]={docgenInfo:discuss.__docgenInfo,name:"discuss",path:"src/screens/discovery/channel/discuss/index.tsx#discuss"})}catch(e){}},"./src/screens/discovery/channel/discuss/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingLeft:r._.wind},wrap:{paddingRight:r._.wind-r._._wind},content:{paddingVertical:r._.md,paddingRight:r._._wind},katakanas:{marginTop:-4}}});t.memoStyles=s},"./src/screens/discovery/channel/friends/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),u=s("./src/screens/discovery/channel/rank/ds.ts"),m=s("./src/screens/discovery/channel/friends/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,m.memoStyles)();return(t=void 0===(t=s.channel.friends)?[]:t).length?(0,p.jsxs)(o.default,{style:d._.mt.lg,children:[(0,p.jsx)(a.SectionTitle,{style:d._.container.wind,children:"好友最近关注"}),(0,p.jsx)(i.Flex,{style:n.container,wrap:"wrap",children:t.map(function(e,t){return(0,p.jsx)(o.default,{style:(0,l.stl)(n.item,t%2!=0&&n.itemMarginLeft),children:(0,p.jsx)(i.Touchable,{animate:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Subject",from:"friends",type:s.type,subjectId:e.id}),r.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,p.jsxs)(i.Flex,{align:"start",children:[(0,p.jsx)(o.default,{style:n.image,children:(0,p.jsx)(a.Cover,{src:e.cover,width:u.COVER_WIDTH_SM,height:u.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:s.typeCn})}),(0,p.jsxs)(i.Flex.Item,{style:"音乐"===s.typeCn?d._.ml.md:d._.ml.sm,children:[(0,p.jsx)(i.Katakana.Provider,{numberOfLines:2,children:(0,p.jsx)(i.Katakana,{bold:!0,numberOfLines:2,size:13,children:(0,l.findSubjectCn)(e.name,e.id)})}),(0,p.jsxs)(i.Text,{style:d._.mt.xs,size:11,numberOfLines:2,children:[(0,p.jsx)(i.Text,{size:11,type:"sub",bold:!0,onPress:function(){(0,c.t)("频道.跳转",{to:"Zone",from:"friends",type:s.type,userId:e.userId}),r.push("Zone",{userId:e.userId,_name:e.userName})},children:e.userName})," ",e.action]})]})]})})},""+e.id+e.userId)})})]}):null});t.default=s;try{friends.displayName="friends",friends.__docgenInfo={description:"",displayName:"friends",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/friends/index.tsx#friends"]={docgenInfo:friends.__docgenInfo,name:"friends",path:"src/screens/discovery/channel/friends/index.tsx#friends"})}catch(e){}},"./src/screens/discovery/channel/friends/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/discovery/channel/rank/ds.ts"),s=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind,marginTop:r._.sm},item:{width:"47.5%",paddingVertical:r._.sm,marginBottom:4},itemMarginLeft:{marginLeft:"5%"},image:{width:n.COVER_WIDTH_SM}}});t.memoStyles=s},"./src/screens/discovery/channel/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/utils/fetch/index.ts"),d=s("./src/constants/index.ts"),l=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,l.jsx)(o.Header,{title:s.typeCn+"频道",alias:"频道",hm:[s.url,"Channel"],headerRight:function(){return(0,l.jsx)(o.Header.Popover,{name:"md-menu",data:[].concat((0,n.default)(d.MODEL_SUBJECT_TYPE.data.map(function(e){return e.title})),["浏览器查看"]),onSelect:function(e){(0,a.t)("频道.右上角菜单",{key:e}),"浏览器查看"===e?(0,i.open)(s.url):setTimeout(function(){r.setOptions({title:e+"频道"}),s.toggleType(d.MODEL_SUBJECT_TYPE.getLabel(e))},40)},children:(0,l.jsx)(o.Heatmap,{id:"频道.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/channel/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/channel/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/channel/header/index.tsx")),l=r(s("./src/screens/discovery/channel/rank/index.tsx")),c=r(s("./src/screens/discovery/channel/friends/index.tsx")),u=r(s("./src/screens/discovery/channel/blog/index.tsx")),m=r(s("./src/screens/discovery/channel/discuss/index.tsx")),p=r(s("./src/screens/discovery/channel/tags/index.tsx")),r=r(s("./src/screens/discovery/channel/store.ts")),f=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.default,{}),(0,f.jsx)(n.Page,{loaded:s.channel._loaded,children:(0,f.jsxs)(n.ScrollView,{contentContainerStyle:i._.container.bottom,scrollToTop:!0,children:[(0,f.jsx)(l.default,{}),(0,f.jsx)(c.default,{}),(0,f.jsx)(u.default,{}),(0,f.jsx)(m.default,{}),(0,f.jsx)(p.default,{})]})})]})})});t.default=s;try{channel.displayName="channel",channel.__docgenInfo={description:"",displayName:"channel",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/index.tsx#channel"]={docgenInfo:channel.__docgenInfo,name:"channel",path:"src/screens/discovery/channel/index.tsx#channel"})}catch(e){}},"./src/screens/discovery/channel/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COVER_WIDTH_SM=t.COVER_WIDTH=t.COVER_HEIGHT_SM=t.COVER_HEIGHT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=1.2*s.IMG_WIDTH,n=(t.COVER_WIDTH=n,1.2*s.IMG_HEIGHT),s=(t.COVER_HEIGHT=n,r._.r(72)),n=1.28*(t.COVER_WIDTH_SM=s);t.COVER_HEIGHT_SM=n},"./src/screens/discovery/channel/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/screens/discovery/channel/rank/ds.ts"),p=s("./src/screens/discovery/channel/rank/styles.ts"),f=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var r=t.$,n=t.navigation,o=(0,p.memoStyles)(),t=r.channel,s=void 0===(s=t.rankTop)?[]:s,t=void 0===(t=t.rank)?[]:t;return(0,f.jsxs)(i.default,{style:l._.mt.md,children:[(0,f.jsx)(d.SectionTitle,{style:l._.container.wind,children:"关注榜"}),(0,f.jsxs)(i.default,{style:l._.mt.sm,children:[s.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,f.jsx)(a.Touchable,{style:o.itemLg,animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,f.jsxs)(a.Flex,{align:"start",children:[(0,f.jsx)(d.Cover,{src:e.cover,width:m.COVER_WIDTH,height:m.COVER_HEIGHT,radius:!0,shadow:!0,type:r.typeCn}),(0,f.jsx)(a.Flex.Item,{style:l._.ml.md,children:(0,f.jsxs)(a.Flex,{style:l._.mt.xs,align:"start",children:[(0,f.jsx)(a.Flex.Item,{children:(0,f.jsxs)(a.Flex,{style:o.content,direction:"column",justify:"between",align:"start",children:[(0,f.jsxs)(i.default,{children:[(0,f.jsx)(a.Katakana.Provider,{size:15,lineHeight:l._.device(15,18),numberOfLines:2,children:(0,f.jsx)(a.Katakana,{size:15,lineHeight:l._.device(15,18),bold:!0,numberOfLines:2,children:(0,c.findSubjectCn)((0,c.HTMLDecode)(e.name),e.id)})}),(0,f.jsx)(a.Text,{style:l._.mt.xs,size:13,type:"sub",children:e.follow})]}),(0,f.jsx)(i.default,{children:!!s&&(0,f.jsx)(d.Tag,{value:s})})]})}),(0,f.jsx)(a.Text,{style:l._.ml.md,type:0===t?"danger":"main",size:15,bold:!0,children:t+1})]})})]})},e.id)}),(0,f.jsx)(a.Flex,{style:o.container,wrap:"wrap",children:t.map(function(e,t){var s=r.userCollectionsMap[e.id];return(0,f.jsx)(i.default,{style:(0,c.stl)(o.item,t%2!=0&&o.itemMarginLeft),children:(0,f.jsx)(a.Touchable,{animate:!0,onPress:function(){(0,u.t)("频道.跳转",{to:"Subject",from:"rank",type:r.type,subjectId:e.id}),n.push("Subject",{subjectId:e.id,_image:e.cover,_jp:e.name})},children:(0,f.jsxs)(a.Flex,{align:"start",children:[(0,f.jsx)(d.Cover,{src:e.cover,width:m.COVER_WIDTH_SM,height:m.COVER_HEIGHT_SM,radius:!0,shadow:!0,type:r.typeCn}),(0,f.jsx)(a.Flex.Item,{style:"音乐"===r.typeCn?l._.ml.md:l._.ml.sm,children:(0,f.jsxs)(a.Flex,{align:"start",children:[(0,f.jsx)(a.Flex.Item,{children:(0,f.jsxs)(a.Flex,{style:o.contentSm,direction:"column",justify:"between",align:"start",children:[(0,f.jsxs)(i.default,{children:[(0,f.jsx)(a.Katakana.Provider,{size:12,lineHeight:l._.device(12,18),numberOfLines:3,children:(0,f.jsx)(a.Katakana,{size:12,lineHeight:l._.device(12,18),bold:!0,numberOfLines:3,children:(0,c.findSubjectCn)((0,c.HTMLDecode)(e.name),e.id)})}),(0,f.jsx)(a.Text,{style:l._.mt.xxs,size:11,type:"sub",children:e.follow})]}),(0,f.jsx)(i.default,{children:!!s&&(0,f.jsx)(d.Tag,{value:s})})]})}),(0,f.jsx)(a.Text,{style:l._.ml.xs,type:"warning",size:13,bold:!0,children:t+4})]})})]})})},e.id)})})]})]})});t.default=s;try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/channel/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/channel/rank/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/screens/discovery/channel/rank/ds.ts"),s=r._.memoStyles(function(){return{container:{width:"100%",paddingHorizontal:r._.wind},itemLg:{width:"100%",paddingVertical:r._.sm,paddingHorizontal:r._.wind,marginBottom:4},image:{width:n.COVER_WIDTH},item:{width:"48%",paddingVertical:r._.sm,marginBottom:4},content:{height:n.COVER_HEIGHT-2*r._.xs},imageSm:{width:n.COVER_WIDTH_SM},contentSm:{height:n.COVER_HEIGHT_SM},itemMarginLeft:{marginLeft:"4%"}}});t.memoStyles=s},"./src/screens/discovery/channel/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/kv/index.ts"),_=s("./src/constants/index.ts"),x=s("./src/utils/index.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,h=[],l=(s=r.default,(0,l.default)(v,s),b=g(v),(0,a.default)(v,[{key:"type",get:function(){return this.state.type||this.params.type||"anime"}},{key:"typeCn",get:function(){return _.MODEL_SUBJECT_TYPE.getTitle(this.type)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"channel",get:function(){var e=y.discoveryStore.channel(this.type);return e._loaded?e:this.ota||{_loaded:0}}},{key:"url",get:function(){return(0,_.HTML_CHANNEL)(this.type)}},{key:"userCollectionsMap",get:function(){return y.collectionStore.userCollectionsMap}},{key:"thirdPartyKey",get:function(){return"channel_"+this.type}}]),(0,p.default)((r=v).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"type"),r.prototype),(0,p.default)(r.prototype,"typeCn",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"typeCn"),r.prototype),(0,p.default)(r.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),(0,p.default)(r.prototype,"channel",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"channel"),r.prototype),(0,p.default)(r.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,p.default)(r.prototype,"userCollectionsMap",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"userCollectionsMap"),r.prototype),(0,p.default)(r.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),r);function v(){var r;(0,i.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({type:"",ota:{}})),(0,m.default)((0,d.default)(r),"init",function(){r.setState({type:r.type}),r.fetchChannel()}),(0,m.default)((0,d.default)(r),"fetchChannel",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,y.discoveryStore.fetchChannel({type:r.type});case 3:return(t=e.sent)&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,86400<=(0,x.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"fetchThirdParty",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.channel._loaded){e.next=8;break}return e.next=3,(0,j.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,m.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,m.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,x.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"updateThirdParty",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,j.update)(r.thirdPartyKey,(0,x.omit)(r.channel,["friends","_loaded"])),h.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"toggleType",function(e){r.setState({type:e}),r.fetchChannel()}),r}t.default=l},"./src/screens/discovery/channel/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/utils/fetch/index.ts"),c=s("./src/screens/discovery/channel/tags/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,c.memoStyles)(),t=void 0===(t=s.channel.tags)?[]:t;return(0,u.jsxs)(o.default,{style:d._.mt.lg,children:[(0,u.jsx)(a.SectionTitle,{style:d._.container.wind,children:"标签"}),(0,u.jsx)(i.Flex,{style:n.container,wrap:"wrap",children:t.map(function(e){return(0,u.jsx)(i.Touchable,{style:n.tag,animate:!0,scale:.85,onPress:function(){(0,l.t)("频道.跳转",{to:"Tag",from:"tags",type:s.type,tag:e}),r.push("Tag",{type:s.type,tag:e})},children:(0,u.jsx)(i.Text,{type:"desc",size:13,children:e})},e)})})]})});t.default=s;try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/channel/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/channel/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/channel/tags/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.wind,marginTop:12},tag:{paddingVertical:4,paddingHorizontal:8,marginRight:8,marginBottom:12,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderWidth:1,borderColor:r._.select(r._.colorBorder,r._._colorDarkModeLevel1),borderRadius:r._.radiusXs}}});t.memoStyles=s},"./src/screens/discovery/character/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"用户人物",hm:[s.url,"Character"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("收藏的人物.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"收藏的人物.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/character/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/character/heatmaps/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.Heatmap,{right:o._.wind+62,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"收藏的人物.标签页切换",transparent:!0})})});t.default=s},"./src/screens/discovery/character/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/character/header/index.tsx")),d=r(s("./src/screens/discovery/character/tabs/index.tsx")),l=r(s("./src/screens/discovery/character/heatmaps/index.tsx")),r=r(s("./src/screens/discovery/character/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.default,{}),(0,c.jsxs)(n.Page,{children:[!!s.state._loaded&&(0,c.jsx)(d.default,{}),(0,c.jsx)(l.default,{})]})]})})});t.default=s;try{character.displayName="character",character.__docgenInfo={description:"",displayName:"character",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/index.tsx#character"]={docgenInfo:character.__docgenInfo,name:"character",path:"src/screens/discovery/character/index.tsx#character"})}catch(e){}},"./src/screens/discovery/character/item-recents/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),j=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),_=s("./src/components/index.ts"),x=s("./src/screens/_/index.ts"),g=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),v=s("./src/constants/index.ts"),S=s("./src/screens/discovery/character/item-recents/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){function s(){(0,h.t)("收藏的人物.跳转",{to:"Subject",subjectId:n}),p.push("Subject",{subjectId:n,_jp:a,_cn:i,_image:o})}var r=e.index,n=e.id,o=e.cover,i=e.name,a=e.nameJP,d=e.type,l=e.info,c=e.star,u=e.starInfo,m=void 0===(e=e.actors)?[]:e,p=t.navigation,f=(0,S.memoStyles)(),e=v.MODEL_SUBJECT_TYPE.getTitle(d),t=(0,b.cnjp)(i,a),y=(0,b.cnjp)(a,i);return(0,O.jsxs)(j.default,{style:f.container,children:[(0,O.jsxs)(_.Flex,{align:"start",style:f.wrap,children:[(0,O.jsx)(j.default,{style:f.imgContainer,children:!!o&&(0,O.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,O.jsx)(x.Cover,{src:o,width:v.IMG_WIDTH,height:v.IMG_HEIGHT,radius:!0,shadow:!0,type:e})})}),(0,O.jsxs)(_.Flex.Item,{children:[(0,O.jsx)(_.Touchable,{animate:!0,onPress:s,children:(0,O.jsxs)(_.Flex,{direction:"column",justify:"between",align:"start",children:[(0,O.jsxs)(j.default,{children:[(0,O.jsxs)(_.Flex,{style:g._.container.block,align:"start",children:[(0,O.jsx)(_.Flex.Item,{children:(0,O.jsxs)(_.Katakana.Provider,{size:15,numberOfLines:2,children:[(0,O.jsx)(_.Katakana,{size:15,bold:!0,children:t}),!!y&&(0,O.jsxs)(_.Katakana,{type:"sub",size:11,lineHeight:15,children:[" ",y]})]})}),(0,O.jsxs)(_.Flex,{style:g._.mt.xxs,children:[(0,b.x18)(n,i||a)&&(0,O.jsx)(x.Tag,{style:g._.ml.sm,value:"NSFW"}),!!d&&(0,O.jsx)(x.Tag,{style:g._.ml.sm,value:e})]})]}),!!l&&(0,O.jsx)(_.Text,{style:g._.mt.sm,size:12,lineHeight:14,numberOfLines:4,children:(0,b.HTMLDecode)(l)})]}),!!c&&!!u&&(0,O.jsxs)(_.Flex,{style:g._.mt.sm,children:[!!c&&(0,O.jsx)(x.Stars,{style:g._.mr.xs,value:c}),(0,O.jsx)(_.Text,{style:g._.mr.sm,type:"sub",size:12,children:u})]})]})}),(0,O.jsx)(_.Flex,{style:g._.mt.sm,wrap:"wrap",children:m.map(function(e){return(0,O.jsxs)(_.Flex,{style:(0,b.stl)(1<m.length&&f.actors,g._.mt.md),children:[(0,O.jsx)(_.Touchable,{animate:!0,onPress:function(){(0,h.t)("收藏的人物.跳转",{to:"Mono",monoId:e.id}),p.push("Mono",{monoId:e.id})},children:(0,O.jsx)(x.Cover,{src:e.avatar,size:g._.r(40),radius:!0})}),(0,O.jsxs)(_.Flex.Item,{style:g._.ml.sm,children:[(0,O.jsx)(_.Text,{size:12,numberOfLines:1,bold:!0,children:e.name}),(0,O.jsx)(_.Text,{size:10,lineHeight:12,type:"sub",numberOfLines:1,children:e.info})]})]},e.id)})})]})]}),!r&&(0,O.jsx)(_.Heatmap,{id:"收藏的人物.跳转"})]})});t.default=s},"./src/screens/discovery/character/item-recents/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{backgroundColor:r._.colorPlain},imgContainer:{width:n.IMG_WIDTH,marginRight:r._.md+4},wrap:{paddingVertical:r._.md},border:{borderTopColor:r._.colorBorder,borderTopWidth:r._.hairlineWidth},actors:{width:"50%"}}});t.memoStyles=s},"./src/screens/discovery/character/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),d=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/utils/fetch/index.ts"),m=s("./src/screens/discovery/character/item/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.index,r=e.avatar,n=e.name,o=e.id,i=t.navigation,e=(0,m.memoStyles)();return(0,p.jsx)(a.default,{style:(0,c.stl)(e.item,s%l._.portrait(5,8)==0&&e.left),children:(0,p.jsxs)(d.Touchable,{animate:!0,scale:.9,onPress:function(){(0,u.t)("收藏的人物.跳转",{to:"Mono",monoId:o}),i.push("Mono",{monoId:o})},children:[(0,p.jsx)(d.Image,{size:e.item.width,src:r,radius:!0,shadow:!0}),(0,p.jsx)(d.Katakana.Provider,{style:l._.mt.sm,size:10,numberOfLines:2,align:"center",children:(0,p.jsx)(d.Katakana,{size:10,numberOfLines:2,align:"center",bold:!0,children:(0,c.HTMLDecode)(n)})})]})})});t.default=s},"./src/screens/discovery/character/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.portrait(5,8),e=r._.grid(e);return{item:{width:e.width,marginTop:r._.md,marginLeft:e.marginLeft},left:{marginLeft:0}}});t.memoStyles=s},"./src/screens/discovery/character/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/decorators/index.ts"),y=s("./src/utils/app/index.ts"),j=r(s("./src/screens/discovery/character/item/index.tsx")),_=r(s("./src/screens/discovery/character/item-recents/index.tsx")),x=s("./node_modules/react/jsx-runtime.js");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(h,r),b=g(h),(0,o.default)(h,[{key:"isRecents",get:function(){return"recents"===this.props.id}},{key:"num",get:function(){return p._.portrait(5,8)}},{key:"render",value:function(){var e,t,s=this.context.$,r=this.props.id,n=s.list(r);return n._loaded?(e=s.state.page,t=this.isRecents?void 0:this.num,(0,x.jsx)(m.ListView,{keyExtractor:y.keyExtractor,contentContainerStyle:p._.container.wind,data:n,numColumns:t,scrollToTop:s.tabs[e].key===r,renderItem:this.renderItem,onHeaderRefresh:function(){return s.fetchList(r,!0)},onFooterRefresh:function(){return s.fetchList(r)}},""+p._.orientation+t)):(0,x.jsx)(m.Loading,{})}}]);var b,s=h;function h(){var s;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=b.call.apply(b,[this].concat(t)),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return s.isRecents?(0,x.jsx)(_.default,Object.assign({index:e},t)):(0,x.jsx)(j.default,Object.assign({index:e,num:s.num},t))}),s}(0,c.default)(s,"defaultProps",{title:"全部"});u=(0,f.obc)(s);t.default=u;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/character/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/character/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/constants/index.ts");function x(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(b,s),g=x(b),(0,a.default)(b,[{key:"userId",get:function(){var e=this.params.userName;return void 0===e?y.userStore.myId:e}},{key:"tabs",get:function(){return this.userId===y.userStore.myId?[{title:"人物近况",key:"recents"},{title:"虚拟角色",key:"characters"},{title:"现实人物",key:"persons"}]:[{title:"虚拟角色",key:"characters"},{title:"现实人物",key:"persons"}]}},{key:"list",value:function(e){var t=this;switch(e){case"persons":return(0,f.computed)(function(){return y.usersStore.persons(t.userId)}).get();case"recents":return(0,f.computed)(function(){return y.usersStore.recents}).get();default:return(0,f.computed)(function(){return y.usersStore.characters(t.userId)}).get()}}},{key:"url",get:function(){var e;return _.HOST+"/user/"+(null==(e=this.params)?void 0:e.userName)+"/mono"}}]),(0,p.default)((r=b).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,p.default)(r.prototype,"tabs",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"tabs"),r.prototype),(0,p.default)(r.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype);var g,l=r;function b(){var r;(0,i.default)(this,b);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=g.call.apply(g,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({page:0,_loaded:!0})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.page,t=r.tabs[t].key,s=r.list(t),s._loaded){e.next=5;break}return e.abrupt("return",r.fetchList(t,!0));case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"fetchList",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];switch(e){case"recents":return y.usersStore.fetchRecents(t);case"persons":return y.usersStore.fetchPersons({userId:r.userId},t);default:return y.usersStore.fetchCharacters({userId:r.userId},t)}}),(0,m.default)((0,d.default)(r),"onChange",function(e){e!==r.state.page&&((0,j.t)("收藏的人物.标签页切换"),r.setState({page:e}),r.setStorage(void 0,void 0,"ScreenCharacter"),r.tabChangeCallback(e))}),(0,m.default)((0,d.default)(r),"tabChangeCallback",function(e){e=r.tabs[e].key;r.list(e)._loaded||r.fetchList(e,!0)}),r}t.default=l},"./src/screens/discovery/character/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/character/list/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,d.jsx)(n.TabsV2,{style:o._.mt._sm,routes:t.tabs,page:s,backgroundColor:o._.colorPlain,renderItem:function(e){return(0,d.jsx)(a.default,{id:e.key},e.key)},onChange:t.onChange},o._.orientation)});t.default=r;try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/character/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/character/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/dollars/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenDollars",s={visibleBottom:s._.window.height,fething:!1,show:!1,text:""};t.EXCLUDE_STATE=s},"./src/screens/discovery/dollars/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).visibleBottom,n=t.show;return(0,d.jsx)(o.Header,{title:"DOLLARS",hm:["dollars","Dollars"],headerRight:function(){return(0,d.jsxs)(o.Flex,{children:[!n&&r>=2*a._.window.height&&(0,d.jsx)(i.IconTouchable,{style:a._.mr.xs,name:"md-keyboard-arrow-up",size:24,color:a._.colorTitle,onPress:function(){s.scrollToTop(!0)}}),(0,d.jsx)(i.IconTouchable,{style:a._.mr.xs,name:n?"md-close":"md-edit",size:n?20:16,color:a._.colorTitle,onPress:function(){s.onToggleShow()}})]})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/dollars/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/dollars/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.timers.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=m(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),o=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/dollars/header/index.tsx")),l=r(s("./src/screens/discovery/dollars/textarea/index.tsx")),c=r(s("./src/screens/discovery/dollars/list/index.tsx")),r=r(s("./src/screens/discovery/dollars/store.ts")),u=s("./node_modules/react/jsx-runtime.js");function m(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(m=function(e){return e?s:t})(e))}s=(0,i.ic)(r.default,function(e,t){var s=t.$,r=((0,a.useRunAfter)(function(){s.init()}),(0,n.useRef)(null));return(0,a.useMount)(function(){return r.current=setInterval(function(){s.updateDollars()},8e3),function(){s.scrollViewRef=null,s.inputRef=null,clearInterval(r.current)}}),(0,a.useObserver)(function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.default,{}),(0,u.jsxs)(o.Page,{loaded:s.dollars._loaded,children:[(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})]})})});t.default=s;try{dollars.displayName="dollars",dollars.__docgenInfo={description:"",displayName:"dollars",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/index.tsx#dollars"]={docgenInfo:dollars.__docgenInfo,name:"dollars",path:"src/screens/discovery/dollars/index.tsx#dollars"})}catch(e){}},"./src/screens/discovery/dollars/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),_=s("./src/screens/discovery/dollars/item/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r=e.index,n=e.avatar,o=e.nickname,i=e.msg,e=e.color,a=t.$,d=t.navigation,t=(0,_.memoStyles)(),l=null==(s=String(n).match(/\/(\d+)\.jpg/))?void 0:s[1];return(0,x.jsxs)(u.Flex,{style:t.item,align:"start",children:[(0,x.jsxs)(u.Flex,{style:t.avatar,direction:"column",children:[(0,x.jsx)(u.UserStatus,{userId:l,children:(0,x.jsx)(m.InView,{style:t.inView,y:64*r+1,children:(0,x.jsx)(m.Avatar,{src:j.HOST+"/pic/user/l/"+n,size:52,borderWidth:2,borderColor:p._.select(p._.colorBorder,"rgba(255, 255, 255, 0.88)"),radius:4,onPress:function(){return a.onToggleShow(o)},onLongPress:function(){l&&(d.push("Zone",{userId:l}),(0,y.t)("Dollars.跳转",{to:"Zone",userId:l}))}})})}),(0,x.jsx)(u.Text,{style:p._.mt.sm,size:12,bold:!0,align:"center",children:o})]}),(0,x.jsx)(u.Flex.Item,{children:(0,x.jsx)(c.default,{style:[t.content,{backgroundColor:e||"transparent"}],children:(0,x.jsx)(u.Text,{type:"__plain__",lineHeight:17,bold:!0,shadow:!0,selectable:!0,children:(0,f.HTMLDecode)(i).replace(/<br \/>/g,"")})})})]})});t.default=s},"./src/screens/discovery/dollars/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingVertical:12},inView:{minWidth:52,minHeight:52},avatar:{width:80,paddingRight:12},content:{padding:15,paddingTop:12,marginTop:-1,borderWidth:5,borderRadius:r._.radiusMd,borderColor:r._.select("rgba(255, 255, 255, 0.5)","rgba(255, 255, 255, 0.88)")},moreStyle:{}}});t.memoStyles=s},"./src/screens/discovery/dollars/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/ScrollView/index.js"))),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),d=r(s("./src/screens/discovery/dollars/item/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=(t=t.$).dollars.list;return(0,l.jsx)(n.default,Object.assign({ref:t.forwardRef,style:o._.container.wind,contentContainerStyle:o._.container.bottom},a.SCROLL_VIEW_RESET_PROPS,{keyboardDismissMode:"on-drag",scrollEventThrottle:32,onScroll:t.onScroll,children:s.map(function(e,t){return(0,l.jsx)(d.default,Object.assign({index:t},e),e.id)})}))});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/dollars/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/dollars/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/screens/discovery/dollars/ds.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(h,s),b=g(h),(0,a.default)(h,[{key:"isWebLogin",get:function(){return y.userStore.isWebLogin}},{key:"dollars",get:function(){return y.discoveryStore.dollars}}]),(0,p.default)((r=h).prototype,"isWebLogin",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isWebLogin"),r.prototype),(0,p.default)(r.prototype,"dollars",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"dollars"),r.prototype);var b,l=r;function h(){var r;(0,i.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,d.default)(r),"state",(0,f.observable)(x.EXCLUDE_STATE)),(0,m.default)((0,d.default)(r),"scrollViewRef",null),(0,m.default)((0,d.default)(r),"inputRef",null),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState(Object.assign({},x.EXCLUDE_STATE)),e.abrupt("return",r.fetchDollars());case 2:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"forwardRef",function(e){r.scrollViewRef=e}),(0,m.default)((0,d.default)(r),"forwardInputRef",function(e){try{r.inputRef=e.inputRef}catch(e){}}),(0,m.default)((0,d.default)(r),"fetchDollars",function(){return y.discoveryStore.fetchDollars()}),(0,m.default)((0,d.default)(r),"updateDollars",function(){return y.discoveryStore.updateDollars()}),(0,m.default)((0,d.default)(r),"scrollToTop",function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];try{null!=(e=r.scrollViewRef)&&e.scrollTo&&setTimeout(function(){r.scrollViewRef.scrollTo({x:0,y:0,animated:t,duration:640})},160)}catch(e){}}),(0,m.default)((0,d.default)(r),"scrollToBottom",function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];try{null!=(e=r.scrollViewRef)&&e.scrollToEnd&&setTimeout(function(){r.scrollViewRef.scrollToEnd({animated:t,duration:640})},160)}catch(e){}}),(0,m.default)((0,d.default)(r),"onToggleShow",function(e){var t,s;r.isWebLogin?(t=(s=r.state).show,s=s.text,e?(r.setState({show:!0,text:s.includes("@"+e)?s:"@"+e+" "+s}),setTimeout(function(){try{r.inputRef.focus()}catch(e){}},0)):r.setState({show:!t})):(0,j.info)("未登录")}),(0,m.default)((0,d.default)(r),"onChangeText",function(e){r.setState({text:e.trim()})}),(0,m.default)((0,d.default)(r),"onSubmit",function(){var e=r.state,t=e.fething,s=e.text;t||(s?(r.setState({fetching:!0,show:!1}),setTimeout(function(){r.updateDollars(),y.discoveryStore.doDollars({message:s},function(){r.setState({fetching:!1,text:""}),r.updateDollars(),(0,_.t)("Dollars.发送",{userId:y.userStore.myId})},function(){(0,j.info)("发送失败, 可能需要重新登录"),r.setState({fetching:!1,show:!0})})},80)):(0,j.info)("请输入内容"))}),(0,m.default)((0,d.default)(r),"onScroll",j.updateVisibleBottom.bind((0,d.default)(r))),r}t.default=l},"./src/screens/discovery/dollars/textarea/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/dollars/textarea/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).show,r=r.text;return s?(s=(0,a.memoStyles)(),(0,d.jsxs)(n.default,{style:s.container,children:[(0,d.jsx)(o.Input,{ref:t.forwardInputRef,style:s.textarea,inputStyle:s.input,multiline:!0,numberOfLines:3,value:r,placeholder:"单击头像可以@某人，长按前往空间",autoFocus:!0,returnKeyType:"done",returnKeyLabel:"发送",onChangeText:t.onChangeText,onSubmitEditing:t.onSubmit}),(0,d.jsx)(o.Touchable,{style:i._.mt.md,onPress:t.onSubmit,children:(0,d.jsx)(n.default,{style:s.btn,children:(0,d.jsx)(o.Text,{size:16,bold:!0,align:"center",children:"POST"})})})]})):null});t.default=s;try{textarea.displayName="textarea",textarea.__docgenInfo={description:"",displayName:"textarea",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/dollars/textarea/index.tsx#textarea"]={docgenInfo:textarea.__docgenInfo,name:"textarea",path:"src/screens/discovery/dollars/textarea/index.tsx#textarea"})}catch(e){}},"./src/screens/discovery/dollars/textarea/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingTop:r._.sm,paddingHorizontal:r._.wind,paddingBottom:r._.md,backgroundColor:r._.colorPlain},textarea:{borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)"),backgroundColor:r._.select(r._.colorBg,"rgba(255, 255, 255, 0.24)")},input:Object.assign({},r._.fontSize15,{color:r._.colorDesc}),btn:{paddingVertical:r._.sm,borderWidth:3,borderRadius:r._.radiusMd,borderColor:r._.select("#000","rgba(255, 255, 255, 0.88)")}}});t.memoStyles=s},"./src/screens/discovery/game/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.advFilterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/game/index.ts"),r=(t.ADVANCE_LIMIT=100,[[],[]]),n=(s.GAME_CATE.forEach(function(e,t){return r[t%2?1:0].push(e)}),[[],[]]),o=(s.GAME_DEV.forEach(function(e,t){return n[t%2?1:0].push(e)}),[[],[]]),i=(s.GAME_PUB.forEach(function(e,t){return o[t%2?1:0].push(e)}),[{title:"首字　",type:"first",data:s.GAME_FIRST},{title:"发行　",type:"year",data:s.GAME_YEAR,always:!0},{title:"平台　",type:"platform",data:s.GAME_PLATFORM},{title:"类型　",type:"cate",data:r,multiple:!0,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"发行商",type:"pub",data:o,multiple:!0},{title:"排序　",type:"sort",data:s.GAME_SORT,always:!0},{title:"收藏",type:"collected",data:s.GAME_COLLECTED}]),i=(t.filterDS=i,[{title:"首字　",type:"first",data:s.GAME_FIRST},{title:"发行　",type:"year",data:s.GAME_YEAR,always:!0},{title:"类型　",type:"cate",data:r,multiple:!0,always:!0},{title:"开发商",type:"dev",data:n,multiple:!0},{title:"发行商",type:"dev",data:o,multiple:!0},{title:"排序　",type:"sort",data:s.GAME_SORT,always:!0},{title:"收藏",type:"collected",data:s.GAME_COLLECTED}]);t.advFilterDS=i},"./src/screens/discovery/game/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),d=r(s("./src/screens/discovery/game/list/index.tsx")),r=r(s("./src/screens/discovery/game/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{title:"找游戏",alias:"游戏",hm:["game","Game"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{game.displayName="game",game.__docgenInfo={description:"",displayName:"game",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/index.tsx#game"]={docgenInfo:game.__docgenInfo,name:"game",path:"src/screens/discovery/game/index.tsx#game"})}catch(e){}},"./src/screens/discovery/game/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/game/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"游戏.跳转"};s=(0,r.obc)(function(e,t){var s,r=e.pickIndex,n=e.index,e=e.num,t=t.navigation,r=m.otaStore.gameSubjectId(r),o=(r=m.otaStore.game(r)).id,i=r.t,a=r.c,d=r.sc,l=r.r,r=r.en;return o?(s=(0,f.memoStyles)(),(0,y.jsx)(u.ItemCollectionsGrid,{style:(m._.isPad||m._.isLandscape)&&!(n%e)&&s.left,navigation:t,event:j,num:e,id:o,cover:a?"//lain.bgm.tv/pic/cover/m/"+a+".jpg":p.IMG_DEFAULT,name:i,score:d,rank:l,airtime:r,collection:m.collectionStore.collect(o)})):(n=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:n.width,height:p.IMG_HEIGHT_LG,marginBottom:n.marginLeft+m._.xs,marginLeft:n.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/game/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/game/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_WIDTH=t.THUMB_HEIGHT=void 0;s=s("./src/stores/index.ts"),s=s._.device(114,Math.floor(.4*s._.window.contentWidth)),t.THUMB_WIDTH=s,s=Math.floor(.56*s);t.THUMB_HEIGHT=s},"./src/screens/discovery/game/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),b=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),h=s("./src/components/index.ts"),v=s("./src/stores/index.ts"),S=s("./src/screens/_/index.ts"),O=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),T=s("./src/utils/fetch/index.ts"),I=s("./src/constants/index.ts"),C=s("./src/screens/discovery/game/item/ds.ts"),w=s("./src/screens/discovery/game/item/utils.ts"),k=s("./src/screens/discovery/game/item/styles.ts"),E=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o,i,a,d,l=e.index,e=e.pickIndex,c=t.navigation,u=(0,k.memoStyles)(),t=v.otaStore.gameSubjectId(e),m=(e=v.otaStore.game(t)).id,p=e.t,t=e.c,f=e.en,y=e.cn,j=e.sc,_=e.r,x=e.o,g=e.l;return m?(r=20<=(s=(0,O.HTMLDecode)(p)).length?13:14<=s.length?14:15,n=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":I.IMG_DEFAULT,o=(0,w.getThumbs)(m,g),i=(0,w.getThumbs)(m,g,!1),t=R(e,"ta"),g=R(e,"d"),a=R(e,"p"),e=R(e,"pl"),g=g.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),a=a.map(function(e){return String(e).trim()}).filter(function(e){return!!e}),e=[e.join("、"),f,y&&y!==f?"中文 "+y:""],g.join("、")===a.join("、")?e.push(g.join("、")):e.push(g.join("、")+" 开发",a.join("、")+" 发行"),f=e.filter(function(e){return!!e}).join(" / "),d=v.collectionStore.collect(m),(0,E.jsxs)(h.Touchable,{style:u.container,animate:!0,onPress:function(){c.push("Subject",{subjectId:m,_image:n}),(0,T.t)("游戏.跳转",{subjectId:m})},children:[(0,E.jsxs)(h.Flex,{style:u.wrap,align:"start",children:[(0,E.jsx)(S.Cover,{src:n,width:I.IMG_WIDTH_LG,height:I.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"游戏"}),(0,E.jsxs)(h.Flex,{style:u.content,direction:"column",align:"start",children:[(0,E.jsx)(b.default,{style:u.body,children:(0,E.jsxs)(h.Flex,{style:v._.container.block,align:"start",children:[(0,E.jsxs)(h.Flex.Item,{children:[(0,E.jsx)(h.Text,{size:r,bold:!0,numberOfLines:3,children:s}),(0,E.jsx)(h.Text,{style:v._.mt.sm,size:11,lineHeight:14,numberOfLines:5,children:f}),(0,E.jsxs)(h.Flex,{style:v._.mt.md,children:[(0,E.jsx)(S.Rank,{value:_}),(0,E.jsx)(S.Stars,{style:v._.mr.xs,value:j,simple:!0}),!!x&&(0,E.jsxs)(h.Text,{style:v._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),(0,E.jsx)(h.Flex.Item,{children:(0,E.jsx)(S.Tags,{value:t})})]})]}),(0,E.jsx)(S.Manage,{subjectId:m,collection:d,typeCn:"游戏",onPress:function(){v.uiStore.showManageModal({subjectId:m,title:p,status:I.MODEL_COLLECTION_STATUS.getValue(d),action:"玩"},"找游戏")}})]})}),!!o.length&&(0,E.jsx)(b.default,{style:u.thumbs,children:(0,E.jsx)(h.HorizontalList,{data:o.filter(function(e,t){return t<2}),renderItem:function(e,t){return(0,E.jsx)(h.Image,{style:(0,O.stl)(!!t&&v._.ml.sm,t===o.length-1&&v._.mr.md),src:e,size:C.THUMB_WIDTH,height:C.THUMB_HEIGHT,radius:!0,onPress:function(){(0,O.showImageViewer)(i.map(function(e){return{url:e}}),t)}},e)},renderNums:2<i.length&&function(){return(0,E.jsx)(h.Touchable,{onPress:function(){(0,O.showImageViewer)(i.map(function(e){return{url:e}}),2)},children:(0,E.jsx)(h.Flex,{style:u.nums,justify:"center",children:(0,E.jsxs)(h.Text,{size:15,bold:!0,children:["+ ",i.length]})})})}})})]})]}),0===l&&(0,E.jsx)(h.Heatmap,{id:"游戏.跳转"})]})):(0,E.jsx)(h.Flex,{style:u.loading,justify:"center",children:(0,E.jsx)(h.Loading.Raw,{})})});function R(e,t){var s=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?t:void 0;return("object"==typeof(null==s?void 0:s[r])?null==s?void 0:s[r]:[(null==s?void 0:s[r])||void 0]).filter(function(e){return void 0!==e})}t.default=s},"./src/screens/discovery/game/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),o=s("./src/screens/discovery/game/item/ds.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md},content:{flex:1,minHeight:n.IMG_HEIGHT_LG,marginLeft:r._._wind},body:{marginRight:r._.wind},thumbs:{marginTop:r._.md,height:o.THUMB_HEIGHT},nums:{width:o.THUMB_HEIGHT,height:o.THUMB_HEIGHT,marginRight:r._._wind,marginLeft:r._.sm,backgroundColor:r._.colorBg,borderRadius:r._.radiusSm,overflow:"hidden"},loading:{height:n.IMG_HEIGHT_LG}}});t.memoStyles=s},"./src/screens/discovery/game/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.fill.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=function(e){return"m/"+e},t.getThumbs=function(s,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"number"!=typeof e?[]:new Array(e).fill("").map(function(e,t){return(0,n.CDN_GAME)(s,t,r)})};var n=s("./src/constants/index.ts")},"./src/screens/discovery/game/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/game/item/index.tsx")),x=r(s("./src/screens/discovery/game/item-grid/index.tsx")),g=s("./src/screens/discovery/game/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(S,r),v=h(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,title:"频道　",name:"游戏",type:"游戏",lastUpdate:j.TEXT_UPDATE_GAME.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_GAME+"，在版本更新前数据不会有任何变化，游戏因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、游戏预览图和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,keyExtractor:O,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onGamePage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var v,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function O(e){return String(e)}t.default=u;try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/game/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/game/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/game/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/game/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/game/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/discovery/game/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h,v="ScreenGame",S=!1,l=(s=r.default,(0,l.default)(O,s),h=b(O),(0,a.default)(O,[{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.gameSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,p.default)((r=O).prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"cnFirst"),r.prototype),(0,p.default)(r.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isList"),r.prototype),(0,p.default)(r.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"total"),r.prototype),(0,p.default)(r.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),r);function O(){var r;(0,i.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=h.call.apply(h,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({query:{first:"",year:2023,platform:"",cate:"",dev:"",pub:"",sort:"发行",collected:""},data:x.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(v);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:S})),S){e.next=7;break}return e.next=7,(0,j.init)();case 7:S=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery(s),y.collectionStore.fetchUserCollectionsQueue(!1,"游戏"),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"search",function(){setTimeout(function(){var e=r.state.query,e=(0,j.search)(e);r.setState({data:e})},80)}),(0,m.default)((0,d.default)(r),"initQuery",function(){var e=r.state.query;r.setState({expand:!0,query:Object.assign({},e,{cate:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])[0]})})}),(0,m.default)((0,d.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(v),(0,_.t)("游戏.选择",{type:e,value:t})},0)}),(0,m.default)((0,d.default)(r),"scrollToOffset",null),(0,m.default)((0,d.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("游戏.到顶"))}),(0,m.default)((0,d.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("游戏.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(v)}),(0,m.default)((0,d.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(v)}),r}t.default=l},"./src/screens/discovery/hentai/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/hentai/index.ts"),r=(t.ADVANCE_LIMIT=80,[[],[]]),s=(s.HENTAI_CONTENT.forEach(function(e,t){return r[t%2?1:0].push(e)}),[{title:"首字",type:"first",data:s.HENTAI_FIRST},{title:"年份",type:"year",data:s.HENTAI_YEAR,always:!0},{title:"人物",type:"chara",data:s.HENTAI_CHARA,login:!0},{title:"职业",type:"job",data:s.HENTAI_JOB,login:!0},{title:"外貌",type:"body",data:s.HENTAI_BODY,login:!0},{title:"剧情",type:"content",data:r,multiple:!0,login:!0},{title:"排序",type:"sort",data:s.HENTAI_SORT,always:!0},{title:"收藏",type:"collected",data:s.HENTAI_COLLECTED}]);t.filterDS=s},"./src/screens/discovery/hentai/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/anime/header/index.tsx")),c=r(s("./src/screens/discovery/hentai/list/index.tsx")),r=r(s("./src/screens/discovery/hentai/store.ts")),u=s("./node_modules/react/jsx-runtime.js"),s=(0,a.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.default,{title:"找番剧",alias:"Hentai",hm:["hentai","Hentai"]}),(0,u.jsx)(n.Page,{loaded:s.state._loaded,children:s.access?(0,u.jsx)(c.default,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.FilterSwitch,{name:"Hentai"}),(0,u.jsx)(n.Text,{style:i._.mt.lg,align:"center",children:"游客或您所在的用户组暂不开放此功能"})]})})]})})});t.default=s;try{hentai.displayName="hentai",hentai.__docgenInfo={description:"",displayName:"hentai",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/index.tsx#hentai"]={docgenInfo:hentai.__docgenInfo,name:"hentai",path:"src/screens/discovery/hentai/index.tsx#hentai"})}catch(e){}},"./src/screens/discovery/hentai/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/hentai/item-grid/styles.ts"),y=s("./node_modules/react/jsx-runtime.js"),j={id:"Hentai.跳转"};s=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,f.memoStyles)(),s=m.otaStore.hentaiSubjectId(s),o=(s=m.otaStore.hentai(s)).id,i=s.i,a=s.c,d=s.a,l=s.s,s=s.r;return o?(0,y.jsx)(u.ItemCollectionsGrid,{navigation:t,style:(m._.isPad||m._.isLandscape)&&!(r%e)&&n.left,event:j,num:e,id:o,cover:i?"https://lain.bgm.tv/pic/cover/m/"+i+".jpg":p.IMG_DEFAULT,name:a,score:l,rank:s,airtime:d?String(d).slice(0,7):"",collection:m.collectionStore.collect(o)}):(t=m._.grid(e),(0,y.jsx)(c.Flex,{style:{width:t.width,height:p.IMG_HEIGHT_LG,marginBottom:t.marginLeft+m._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,y.jsx)(c.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/hentai/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/hentai/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),x=s("./src/stores/index.ts"),g=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),b=s("./src/utils/fetch/index.ts"),h=s("./src/utils/subject/hentai/index.ts"),v=s("./src/constants/index.ts"),S=s("./src/screens/discovery/hentai/item/utils.ts"),O=s("./src/screens/discovery/hentai/item/styles.ts"),T=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.$,a=t.navigation,d=(0,O.memoStyles)(),t=x.otaStore.hentaiSubjectId(e),l=(e=x.otaStore.hentai(t)).id,c=e.h,t=e.i,u=e.c,m=e.e,p=e.a,f=void 0===(f=e.t)?[]:f,y=e.s,j=e.r,e=e.n;return l?(s=20<=u.length?13:14<=u.length?14:15,r=t?"https://lain.bgm.tv/pic/cover/m/"+t+".jpg":v.IMG_DEFAULT,t=[m?m+"话":"",p].filter(function(e){return!!e}).join(" / "),n=x.collectionStore.collect(l),(0,T.jsxs)(_.Touchable,{style:d.container,animate:!0,onPress:function(){a.push("Subject",{subjectId:l,_cn:u,_image:r,_hid:c}),(0,b.t)("Hentai.跳转",{subjectId:l})},children:[(0,T.jsxs)(_.Flex,{style:d.wrap,align:"start",children:[(0,T.jsx)(g.Cover,{src:r,width:v.IMG_WIDTH_LG,height:v.IMG_HEIGHT_LG,radius:!0,shadow:!0,textOnly:v.TEXT_ONLY||!i.isLogin}),(0,T.jsx)(_.Flex.Item,{style:x._.ml.wind,children:(0,T.jsxs)(_.Flex,{style:i.isLogin&&14<=f.length?d.contentFlux:d.content,direction:"column",justify:"between",align:"start",children:[(0,T.jsxs)(_.Flex,{align:"start",children:[(0,T.jsxs)(_.Flex.Item,{children:[(0,T.jsx)(_.Text,{size:s,bold:!0,numberOfLines:3,children:u}),(0,T.jsx)(_.Text,{style:x._.mt.sm,size:11,lineHeight:14,children:t})]}),(0,T.jsx)(g.Manage,{subjectId:l,collection:n,onPress:function(){x.uiStore.showManageModal({subjectId:l,title:u,status:v.MODEL_COLLECTION_STATUS.getValue(n)},"找Hentai")}})]}),i.isLogin&&!!f.length&&(0,T.jsxs)(_.Flex,{style:x._.mt.sm,wrap:"wrap",children:[f.map(function(e){return(0,T.jsx)(g.Tag,{style:d.tag,type:(0,S.getType)(i.state,e),value:h.HENTAI_TAGS[e]},e)}),(0,T.jsx)(g.Tag,{value:"+"+f.length})]}),(0,T.jsxs)(_.Flex,{style:x._.mt.md,wrap:"wrap",children:[(0,T.jsx)(g.Rank,{value:j}),(0,T.jsx)(g.Stars,{style:x._.mr.xs,value:y,simple:!0}),!!e&&(0,T.jsxs)(_.Text,{type:"sub",size:11,bold:!0,children:["(",e,")"]})]})]})})]}),0===o&&(0,T.jsx)(_.Heatmap,{id:"Hentai.跳转"})]})):(0,T.jsx)(_.Flex,{style:d.loading,justify:"center",children:(0,T.jsx)(_.Loading.Raw,{})})});t.default=s},"./src/screens/discovery/hentai/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:n.IMG_HEIGHT_LG},contentFlux:{minHeight:n.IMG_HEIGHT_LG},tag:{marginTop:6,marginRight:6},loading:{height:n.IMG_HEIGHT_LG}}});t.memoStyles=s},"./src/screens/discovery/hentai/item/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.getType=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,e=null==e?void 0:e.query,s=e.chara,r=e.job,n=e.body,e=e.content,t=o.HENTAI_TAGS[t];return s===t||r===t||n===t||e===t?"main":void 0};var o=s("./src/utils/subject/hentai/index.ts")},"./src/screens/discovery/hentai/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/hentai/item/index.tsx")),_=r(s("./src/screens/discovery/hentai/item-grid/index.tsx")),x=s("./src/screens/discovery/hentai/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(v,r),h=b(v),(0,o.default)(v,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,g.jsx)(p.Filter,{filterDS:x.filterDS,name:"Hentai",type:"Hentai",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能仅对正常登录用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,g.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onHentaiPage},""+r+s)):(0,g.jsxs)(g.Fragment,{children:[this.renderFilter(),(0,g.jsx)(m.Loading,{})]})}}]);var h,s=v;function v(){var s;(0,n.default)(this,v);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,g.jsx)(j.default,{pickIndex:t,index:e}):(0,g.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function S(e){return String(e)}t.default=u;try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/hentai/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/hentai/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/hentai/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/hentai/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/subject/hentai/index.ts"),_=s("./src/utils/fetch/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/screens/discovery/hentai/ds.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h,v="ScreenHentai",S=!1,l=(s=r.default,(0,l.default)(O,s),h=b(O),(0,a.default)(O,[{key:"access",get:function(){var e;return!y.userStore.isLimit&&(null==y.systemStore||null==(e=y.systemStore.ota)?void 0:e.HENTAI)}},{key:"isLogin",get:function(){return y.userStore.isLogin}},{key:"cnFirst",get:function(){return y.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=y.otaStore.hentaiSubjectId(e);return!y.collectionStore.collect(e)})),t=y.systemStore.advance?t:t.filter(function(e,t){return t<g.ADVANCE_LIMIT})}}]),(0,p.default)((r=O).prototype,"access",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"access"),r.prototype),(0,p.default)(r.prototype,"isLogin",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isLogin"),r.prototype),(0,p.default)(r.prototype,"cnFirst",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"cnFirst"),r.prototype),(0,p.default)(r.prototype,"isList",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"isList"),r.prototype),(0,p.default)(r.prototype,"total",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"total"),r.prototype),(0,p.default)(r.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),r);function O(){var r;(0,i.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=h.call.apply(h,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({query:{first:"",year:2022,chara:"",job:"",body:"",content:"",sort:"评分人数",collected:""},data:x.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(v);case 2:if(t=e.sent,r.setState(Object.assign({},t,{_loaded:S})),S){e.next=7;break}return e.next=7,(0,j.init)();case 7:S=!0,t=r.params._tags,(s=void 0===t?[]:t).length&&r.initQuery(s),y.collectionStore.fetchUserCollectionsQueue(!1),r.search(),setTimeout(function(){r.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"search",function(t){setTimeout(function(){var e=r.state.query,e=(0,j.search)(t||e);r.setState({data:e})},80)}),(0,m.default)((0,d.default)(r),"initQuery",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];r.setState({expand:!0}),e.forEach(function(e){var t=r.state.query;r.setState({query:Object.assign({},t,(0,m.default)({},(0,j.getTagType)(j.HENTAI_TAGS_MAP[e]),e))})})}),(0,m.default)((0,d.default)(r),"onSelect",function(e,t){var s=r.state.query;r.setState({query:Object.assign({},s,(0,m.default)({},e,t))}),setTimeout(function(){r.search(),r.setStorage(v),(0,_.t)("Hentai.选择",{type:e,value:t})},0)}),(0,m.default)((0,d.default)(r),"scrollToOffset",null),(0,m.default)((0,d.default)(r),"scrollToTop",function(){"function"==typeof r.scrollToOffset&&(r.scrollToOffset({x:0,y:0,animated:!0}),(0,_.t)("Hentai.到顶"))}),(0,m.default)((0,d.default)(r),"switchLayout",function(){var e=r.isList?"grid":"list";(0,_.t)("Hentai.切换布局",{layout:e}),r.setState({layout:e}),r.setStorage(v)}),(0,m.default)((0,d.default)(r),"onExpand",function(){var e=r.state.expand;r.setState({expand:!e}),r.setStorage(v)}),r}t.default=l},"./src/screens/discovery/index/award-2021/index.tsx":(e,t,n)=>{n("./node_modules/core-js/modules/es.object.define-property.js");var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s(n("./node_modules/react/index.js")),s(n("./node_modules/react-native-web/dist/exports/View/index.js"))),i=n("./src/components/index.ts"),a=n("./src/stores/index.ts"),d=n("./src/utils/hooks/index.ts"),s=n("./src/utils/decorators/index.ts"),l=n("./src/utils/fetch/index.ts"),c=n("./src/constants/index.ts"),u=n("./src/screens/discovery/index/award-2021/styles.ts"),m=n("./node_modules/react/jsx-runtime.js");s=(0,s.c)(function(e,t){var s=t.$,r=t.navigation;return(0,d.useIsFocused)(),(0,d.useObserver)(function(){var e=(0,u.memoStyles)(),t=a.systemStore.setting.coverRadius;s.state.showBlockTrain;return(0,m.jsx)(o.default,{style:[e.container,{borderRadius:t}],children:(0,m.jsx)(i.Touchable,{style:e.item2021,animate:!0,onPress:function(){(0,l.t)("发现.跳转",{to:"Award",year:2021}),r.push("Award",{uri:c.HOST+"/award/2021"})},children:!c.TEXT_ONLY&&(0,m.jsx)(i.Image,{src:n("./src/assets/images/static/2021.png"),size:e.body.width,height:e.body.height,placeholder:!1,resizeMode:"contain"})})})})});t.default=s;try{award2021.displayName="award2021",award2021.__docgenInfo={description:"",displayName:"award2021",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/award-2021/index.tsx#award2021"]={docgenInfo:award2021.__docgenInfo,name:"award2021",path:"src/screens/discovery/index/award-2021/index.tsx#award2021"})}catch(e){}},"./src/screens/discovery/index/award-2021/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.device(128,164),t=2*e+16;return{container:{height:e,marginRight:r._.md},item2021:{width:2*r._.device(128,164)+16,height:r._.device(128,164),backgroundColor:"#ebf3ec",borderRadius:r._.radiusMd,overflow:"hidden"},body:{width:t,height:e,backgroundColor:"#c4cfa1",opacity:.99},touch:{position:"absolute",zIndex:2,right:0,bottom:0,borderRadius:r._.radiusSm,overflow:"hidden"},switch:{paddingVertical:1,margin:r._.sm,backgroundColor:"#3e4730",borderRadius:r._.radiusSm,overflow:"hidden",opacity:.8},switchText:{width:32,color:"#c4cfa1"}}});t.memoStyles=s},"./src/screens/discovery/index/award-2022/index.web.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js"))),a=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),d=s("./src/components/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/utils/hooks/index.ts"),u=s("./src/constants/index.ts"),m=s("./src/screens/discovery/index/award-2022/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");function f(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(f=function(e){return e?s:t})(e))}function n(e){var t=e.navigation,s=e.width,r=e.height,n=(0,m.memoStyles)(),e=l.systemStore.setting.coverRadius,o=(0,i.useRef)(null);return(0,c.useMount)(function(){o.current.innerHTML="\n    <style>\n      .award2022 * {\n        padding: 0;\n        margin: 0;\n      }\n      .award2022 {\n        box-sizing: border-box;\n        position: relative;\n        width: "+(s||n.body.width)+"px;\n        height: "+(r||n.body.height)+'px;\n        padding: 0;\n        margin: 0 0 10px 0;\n        line-height: 100%;\n        background: #fff;\n        border: none;\n      }\n      .award2022 .wrap {\n        position: absolute;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        color: #fff;\n        background-color: transparent;\n      }\n      .award2022 .header {\n        margin: 30px auto;\n        text-indent: -9999px;\n        font-size: 0;\n        line-height: 100%;\n        background: url(https://bgm.tv/img/event/2022/title.png);\n        width: 80%;\n        max-width: 860px;\n        max-height: 120px;\n        aspect-ratio: 860 / 120;\n        background-size: 100% auto;\n        background-repeat: no-repeat;\n        z-index: 3;\n        position: relative;\n      }\n      .award2022 .heroes {\n        position: absolute;\n        width: 168px;\n        height: 85px;\n        background-image: url(https://bgm.tv/img/event/2022/heroes_s.png);\n        background-size: 100% 100%;\n        background-repeat: no-repeat;\n        bottom: 0;\n        z-index: 2;\n      }\n      .award2022 .oceanCanvas {\n        position: absolute;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n      }\n      .award2022 .oceanCanvas div {\n        position: absolute;\n        overflow: hidden;\n      }\n      .award2022 .oceanCanvas .sea {\n        height: 30%;\n        width: 200%;\n        left: -50%;\n        top: 40%;\n        border-radius: 0 0 50% 50%;\n        background: linear-gradient(\n          to bottom,\n          rgba(255, 255, 255, 1) 0%,\n          rgba(255, 255, 255, 1) 75%,\n          rgba(235, 233, 234, 1) 100%\n        );\n        animation: waveanim ease-in-out 10s;\n        animation-iteration-count: infinite;\n        transform-origin: 50% 0%;\n        overflow: hidden;\n      }\n      .award2022 .oceanCanvas .sand {\n        height: 35%;\n        width: 100%;\n        background: rgb(248, 247, 245);\n        top: 65%;\n        border-radius: 0 0 15px 15px;\n      }\n      .award2022 .oceanCanvas .sand-front {\n        height: 10%;\n        width: 100%;\n        background: rgb(248, 247, 245);\n        top: 90%;\n        border-radius: 0 0 15px 15px;\n      }\n      .award2022 .oceanCanvas .wet-sand {\n        height: 37.5%;\n        width: 200%;\n        left: -50%;\n        top: 40%;\n        border-radius: 0 0 50% 50%;\n        background: rgb(237, 233, 227);\n        box-shadow: 0 10px 10px 0 rgb(241, 238, 234);\n        animation: wetsandanim ease-in-out 10s;\n        animation-iteration-count: infinite;\n      }\n      .award2022 @keyframes waveanim {\n        0% {\n          transform: scaleY(1);\n        }\n        35% {\n          transform: scaleY(1.3);\n        }\n        69% {\n          transform: scaleY(1);\n        }\n        100% {\n          transform: scaleY(1);\n        }\n      }\n      .award2022 @keyframes wetsandanim {\n        0% {\n          opacity: 0.2;\n        }\n        34% {\n          opacity: 0.2;\n        }\n        35% {\n          opacity: 0.7;\n        }\n        100% {\n          opacity: 0.2;\n        }\n      }\n      .award2022 @keyframes seafoamanim {\n        0% {\n          opacity: 0;\n        }\n        30% {\n          opacity: 1;\n        }\n        50% {\n          opacity: 0;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    </style>\n    <div class="award2022">\n      <div class="wrap">\n        <div class="oceanCanvas">\n          <div class="sand"></div>\n          <div class="wet-sand"></div>\n          <div class="sea">\n            <div class="seafoam"></div>\n          </div>\n          <div class="seafoam"></div>\n          <div class="sea">\n            <div class="seafoam"></div>\n          </div>\n          <div class="sand-front"></div>\n        </div>\n        <div class="heroes"></div>\n        <div class="header"></div>\n      </div>\n    </div>'}),(0,p.jsx)(a.default,{style:[n.container,{height:r||n.container.height,marginRight:r?0:n.container.marginRight,borderRadius:e}],children:(0,p.jsx)(d.Touchable,{style:[n.item2022,{width:s||n.item2022.width,height:r||n.item2022.height}],animate:!0,onPress:function(){t.push("Award",{uri:u.HOST+"/award/2022"})},children:(0,p.jsx)(a.default,{ref:o})})})}t.default=n;try{n.displayName="Award2022",n.__docgenInfo={description:"",displayName:"Award2022",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/award-2022/index.web.tsx#Award2022"]={docgenInfo:n.__docgenInfo,name:"Award2022",path:"src/screens/discovery/index/award-2022/index.web.tsx#Award2022"})}catch(e){}},"./src/screens/discovery/index/award-2022/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.device(128,164),t=2*e+16;return{container:{height:e,marginRight:r._.md},item2022:{width:2*r._.device(128,164)+16,height:r._.device(128,164),backgroundColor:"#ffffff",borderWidth:r._.select(r._.hairlineWidth,0),borderColor:"rgba(235, 233, 234, 1)",borderRadius:r._.radiusMd,overflow:"hidden"},body:{width:t,height:e,backgroundColor:"#ffffff",opacity:.99}}});t.memoStyles=s},"./src/screens/discovery/index/award/index.tsx":(e,t,i)=>{i("./node_modules/core-js/modules/es.object.define-property.js"),i("./node_modules/core-js/modules/es.weak-map.js"),i("./node_modules/core-js/modules/es.object.to-string.js"),i("./node_modules/core-js/modules/es.string.iterator.js"),i("./node_modules/core-js/modules/es.array.iterator.js"),i("./node_modules/core-js/modules/web.dom-collections.iterator.js"),i("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),i("./node_modules/core-js/modules/es.array.map.js");var s=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s(i("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=g(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(i("./node_modules/react/index.js")),l=s(i("./node_modules/react-native-web/dist/exports/ScrollView/index.js")),c=i("./src/components/index.ts"),u=i("./src/stores/index.ts"),m=i("./src/utils/fetch/index.ts"),p=i("./src/utils/hooks/index.ts"),f=i("./src/constants/index.ts"),y=s(i("./src/screens/discovery/index/award-2022/index.web.tsx")),j=s(i("./src/screens/discovery/index/award-2021/index.tsx")),_=i("./src/screens/discovery/index/award/styles.ts"),x=i("./node_modules/react/jsx-runtime.js");function g(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(g=function(e){return e?s:t})(e))}var b=[2017,2016,2015,2014,2013,2012,2011,2010];function r(e){var r=e.navigation,e=(0,d.useState)(u._.isPad),e=(0,a.default)(e,2),n=e[0],t=e[1],o=(0,d.useCallback)(function(e){20<=e.nativeEvent.contentOffset.x&&t(!0)},[]);return(0,p.useObserver)(function(){var t=(0,_.memoStyles)(),s=u.systemStore.setting.coverRadius;return(0,x.jsxs)(l.default,{contentContainerStyle:t.container,horizontal:!0,showsHorizontalScrollIndicator:!1,scrollEventThrottle:16,onScroll:n?void 0:o,children:[(0,x.jsx)(y.default,{navigation:r}),(0,x.jsx)(j.default,{}),!f.TEXT_ONLY&&n&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Touchable,{style:[t.item2020,{borderRadius:s}],animate:!0,onPress:function(){(0,m.t)("发现.跳转",{to:"Award",year:2020}),r.push("Award",{uri:f.HOST+"/award/2020"})},children:(0,x.jsx)(c.Image,{src:i("./src/assets/images/static/2020.png"),size:t.item2020.width,height:t.item2020.height,placeholder:!1,resizeMode:"contain"})}),(0,x.jsx)(c.Touchable,{style:[t.item2019,{borderRadius:s}],animate:!0,onPress:function(){(0,m.t)("发现.跳转",{to:"Award",year:2019}),r.push("Award",{uri:f.HOST+"/award/2019"})},children:(0,x.jsx)(c.Image,{src:i("./src/assets/images/static/2019.png"),size:t.item2020.width-32,height:t.item2020.height,placeholder:!1,resizeMode:"contain"})}),(0,x.jsx)(c.Touchable,{style:[t.item2018,{borderRadius:s}],animate:!0,onPress:function(){(0,m.t)("发现.跳转",{to:"Award",year:2018}),r.push("Award",{uri:f.HOST+"/award/2018"})},children:(0,x.jsx)(c.Image,{src:i("./src/assets/images/static/2018.png"),size:t.item2018.width,height:t.item2020.height,placeholder:!1})}),b.map(function(e){return(0,x.jsx)(c.Touchable,{style:[u._.container.touch,u._.ml.md,{borderRadius:s}],animate:!0,onPress:function(){(0,m.t)("发现.跳转",{to:"Award",year:e}),r.push("Award",{uri:f.HOST+"/award/"+e})},children:(0,x.jsxs)(c.Flex,{style:[t.item,{borderRadius:s}],justify:"center",direction:"column",children:[(0,x.jsx)(c.Text,{size:18,type:u._.select("plain","title"),bold:!0,children:e}),(0,x.jsx)(c.Text,{size:18,type:u._.select("plain","title"),bold:!0,children:"年鉴"})]})},e)})]})]})})}t.default=r;try{r.displayName="Award",r.__docgenInfo={description:"",displayName:"Award",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/award/index.tsx#Award"]={docgenInfo:r.__docgenInfo,name:"Award",path:"src/screens/discovery/index/award/index.tsx#Award"})}catch(e){}},"./src/screens/discovery/index/award/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.device(128,164),t=2*e+16;return{container:{paddingVertical:r._.md,paddingHorizontal:r._.windSm},item2021:{width:t,height:e,marginRight:r._.md,backgroundColor:"#ebf3ec",borderRadius:r._.radiusMd,overflow:"hidden"},item2020:{width:t,height:e,marginRight:r._.md,backgroundColor:"rgb(236, 243, 236)",borderRadius:r._.radiusMd,overflow:"hidden"},item2019:{width:t,height:e,paddingLeft:20,marginRight:r._.md,backgroundColor:"rgb(54, 63, 69)",borderRadius:r._.radiusMd,overflow:"hidden"},item2018:{width:t,height:e,borderRadius:r._.radiusMd,overflow:"hidden"},item:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:r._.radiusMd}}});t.memoStyles=s},"./src/screens/discovery/index/btn/btn.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),p=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/screens/discovery/index/btn/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s,r,n,o=e.item,e=e.onPress,t=t.$,i=(0,j.memoStyles)(),a=o.key,d=o.name,l=o.text,c=o.icon,o=o.size,t=5===t.discoveryMenuNum,u=t?i.wrapSm:i.wrap,m=t?i.itemSm:i.item;return"Split"===a?(0,_.jsx)(p.default,{style:y._.container.touch,children:(0,_.jsx)(p.default,{style:u,children:(0,_.jsx)(f.Flex,{style:m,justify:"center",children:(0,_.jsx)(p.default,{style:i.split})})})}):(s=t?i.iconWrapSm:i.iconWrap,i=t?i.iconSm:i.icon,r=(o||24)-(t?2:0),n=13-(t?1:0),u=(0,_.jsx)(f.Flex,{style:u,justify:"center",children:(0,_.jsxs)(f.Flex,{style:m,direction:"column",justify:"center",children:[(0,_.jsx)(p.default,{style:s,children:(0,_.jsx)(f.Flex,{style:i,justify:"center",children:l?(0,_.jsx)(f.Text,{type:"__plain__",size:(o||16)-(t?2:0),bold:!0,children:l}):(0,_.jsx)(f.Iconfont,{name:c,size:r,color:y._.__colorPlain__})})}),(0,_.jsx)(f.Text,{style:y._.mt.sm,size:n,align:"center",bold:!0,numberOfLines:1,children:d})]})}),e?(0,_.jsxs)(f.Touchable,{style:y._.container.touch,animate:!0,onPress:e,children:[u,(0,_.jsx)(f.Heatmap,{id:"发现.跳转",to:a,alias:d})]}):(0,_.jsx)(p.default,{style:y._.container.touch,children:u}))});t.default=s},"./src/screens/discovery/index/btn/index.tsx":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),u=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/Clipboard/index.js"))),m=s("./src/screens/_/base/filter-switch/index.tsx"),p=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),y=r(s("./src/constants/i18n/index.ts")),j=r(s("./src/screens/discovery/index/btn/btn.tsx")),_=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var e=e.item,r=t.$,n=t.navigation,t=r.state.dragging,s=r.userInfo,o=s.username,i=s.id,a=e.key,d=e.login;return(0,_.jsx)(j.default,{item:e,onPress:t?void 0:(0,c.default)(l.mark(function e(){var t,s;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||o||i){e.next=2;break}return e.abrupt("return",(0,p.info)("请先"+y.default.login()));case 2:if("Open"===a)return e.abrupt("return",r.toggleDragging());e.next=4;break;case 4:if((0,f.t)("发现.跳转",{to:a}),"Anime"===a)return e.next=8,(0,m.getLastPath)();e.next=10;break;case 8:return t=e.sent,e.abrupt("return",n.push(t));case 10:if("Netabare"===a)return e.abrupt("return",n.push("WebBrowser",{url:"https://netaba.re/trending",title:"评分趋势"}));e.next=12;break;case 12:if("UserTimeline"===a)return e.abrupt("return",n.push(a,{userId:o||i}));e.next=14;break;case 14:if("Link"===a)return e.next=17,u.default.getString();e.next=24;break;case 17:if(t=e.sent,s=(0,p.matchBgmUrl)(t,!0)||[],s=s[0]){e.next=23;break}return r.toggleLinkModal(),e.abrupt("return",!0);case 23:return e.abrupt("return",(0,p.appNavigate)(s,n));case 24:return e.abrupt("return",n.push(a,d?{userName:o||i}:{}));case 25:case"end":return e.stop()}},e)}))})});t.default=r},"./src/screens/discovery/index/btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.r(50);return{wrap:{width:.249*(r._.windowSm.width-2*r._.windSm),height:.249*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},wrapSm:{width:.198*(r._.windowSm.width-2*r._.windSm),paddingVertical:r._.sm+4},item:{width:(r._.windowSm.width-2*r._.windSm)/4},itemSm:{width:(r._.windowSm.width-2*r._.windSm)/5},iconWrap:{width:e},iconWrapSm:{width:e-4},icon:{width:e,height:e,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:e},iconSm:{width:e-4,height:e-4,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:e-4},split:{width:3,height:28,backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel2),borderRadius:2}}});t.memoStyles=s},"./src/screens/discovery/index/cover-lg/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),u=s("./src/components/index.ts"),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/screens/discovery/index/ds.ts"),_=s("./src/screens/discovery/index/cover-lg/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.title,r=e.src,n=e.cn,o=e.data,i=t.navigation,e=(0,_.memoStyles)(),a=(t=p.systemStore.setting).coverRadius,t="magma"===t.cdnOrigin,d="音乐"===s;return(0,x.jsx)(l.default,{style:e.item,children:(0,x.jsxs)(u.Touchable,{style:[e.touch,{borderRadius:a}],animate:!0,onPress:function(){(0,y.t)("发现.跳转",{to:"Subject",from:s,type:"lg",subjectId:o.subjectId}),i.push("Subject",{subjectId:o.subjectId,_jp:o.title,_cn:n,_type:s,_image:r,_imageForce:r})},children:[(0,x.jsx)(m.Cover,{src:t?(0,f.matchCoverUrl)(r,!1,""):(0,f.getCoverLarge)(r),size:e.cover.width,height:d?e.cover.width:e.cover.height,radius:!0,cdn:t}),(0,x.jsx)(c.LinearGradient,{style:e.linear,colors:j.linearColor,pointerEvents:"none"}),(0,x.jsxs)(l.default,{style:e.desc,pointerEvents:"none",children:[(0,x.jsx)(u.Text,{type:p._.select("plain","desc"),bold:!0,children:o.info}),(0,x.jsx)(u.Text,{style:p._.mt.xs,size:24,type:p._.select("plain","title"),bold:!0,numberOfLines:2,children:(0,f.HTMLDecode)(n)})]})]})})});t.default=s},"./src/screens/discovery/index/cover-lg/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{marginTop:r._.md,marginHorizontal:r._.windSm},touch:{backgroundColor:r._.colorBg,overflow:"hidden"},cover:{width:r._.windowSm.contentWidth,height:1.38*r._.windowSm.contentWidth},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},desc:{position:"absolute",zIndex:2,right:r._._wind-2,bottom:r._.md-2,left:r._._wind-2,opacity:.92}}});t.memoStyles=s},"./src/screens/discovery/index/cover-sm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),c=s("./src/components/index.ts"),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/utils/html/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/screens/discovery/index/ds.ts"),_=s("./src/screens/discovery/index/cover-sm/styles.ts"),x=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.title,r=e.src,n=e.cn,o=e.data,i=t.navigation,e=(0,_.memoStyles)(),t=m.systemStore.setting.coverRadius,a="音乐"===s;return(0,x.jsx)(d.default,{style:e.item,children:(0,x.jsxs)(c.Touchable,{style:[e.touch,{borderRadius:t}],animate:!0,onPress:function(){(0,y.t)("发现.跳转",{to:"Subject",from:s,type:"sm",subjectId:o.subjectId}),i.push("Subject",{subjectId:o.subjectId,_jp:o.title,_cn:n,_type:s,_image:r,_imageForce:r})},children:[(0,x.jsx)(u.Cover,{src:(0,p.getCoverMedium)(r),size:e.cover.width,height:a?e.cover.width:e.cover.height,radius:!0}),(0,x.jsx)(l.LinearGradient,{style:(0,p.stl)(e.linear,a&&e.linearMusic),colors:j.linearColor,pointerEvents:"none"}),(0,x.jsxs)(d.default,{style:e.desc,pointerEvents:"none",children:[(0,x.jsx)(c.Text,{size:10,type:m._.select("plain","title"),numberOfLines:1,bold:!0,children:o.info}),(0,x.jsx)(c.Text,{style:m._.mt.xs,type:m._.select("plain","title"),size:12,numberOfLines:2,bold:!0,children:(0,f.HTMLDecode)(n)})]})]})})});t.default=s},"./src/screens/discovery/index/cover-sm/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.windowSm.contentWidth*r._.device(.34,.42);return{item:{marginRight:r._._wind+2},touch:{backgroundColor:r._.colorBg,overflow:"hidden"},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,height:96,right:0,bottom:0,left:0,marginBottom:-.5},linearMusic:{bottom:-32},desc:{position:"absolute",zIndex:2,right:r._._wind-2,bottom:14,left:r._._wind-2,opacity:.92}}});t.memoStyles=s},"./src/screens/discovery/index/cover-today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.WEEKDAY_CN=void 0;t.WEEKDAY_CN={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"}},"./src/screens/discovery/index/cover-today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/index/ds.ts"),u=s("./src/screens/discovery/index/cover-today/ds.ts"),m=s("./src/screens/discovery/index/cover-today/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.data,r=t.navigation,e=(0,m.memoStyles)();return(0,p.jsx)(n.default,{style:e.item,children:(0,p.jsxs)(i.Touchable,{style:[e.touch,{borderRadius:d.systemStore.setting.coverRadius}],animate:!0,onPress:function(){var e;r.push("Subject",{subjectId:s.id,_jp:s.name,_cn:s.name_cn,_image:null==s||null==(e=s.images)?void 0:e.common})},children:[(0,p.jsx)(a.Cover,{src:(0,l.getCoverMedium)(null==s||null==(t=s.images)?void 0:t.common),width:e.cover.width,height:e.cover.height,radius:!0}),(0,p.jsx)(o.LinearGradient,{style:e.linear,colors:c.linearColor,pointerEvents:"none"}),(0,p.jsxs)(n.default,{style:e.info,pointerEvents:"none",children:[(0,p.jsxs)(i.Text,{size:d._.device(10,13),type:d._.select("plain","title"),numberOfLines:1,bold:!0,pointerEvents:"none",children:[s.timeCN.slice(0,2),":",s.timeCN.slice(2)," · 周",u.WEEKDAY_CN[s.weekday]]}),(0,p.jsx)(i.Text,{style:d._.mt.xs,size:d._.device(10,12),type:d._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:(0,l.HTMLDecode)((0,l.cnjp)(s.name_cn,s.name))})]})]})})});t.default=s},"./src/screens/discovery/index/cover-today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.windowSm.contentWidth*r._.device(.26,.298);return{item:{marginRight:r._.device(r._._wind,r._.md)},touch:{overflow:"hidden"},cover:{width:e,height:1.38*e},linear:{position:"absolute",zIndex:1,top:"50%",right:0,bottom:0,left:0,marginBottom:-.5},info:{position:"absolute",zIndex:2,right:r._.sm+4,bottom:r._.sm+2,left:r._.sm+4,opacity:.92}}});t.memoStyles=s},"./src/screens/discovery/index/cover-xs/cover-xs.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),u=s("./node_modules/expo-linear-gradient/build/LinearGradient.js"),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/utils/fetch/index.ts"),_=s("./src/screens/discovery/index/ds.ts"),n=s("./src/screens/discovery/index/cover-xs/ds.ts"),x=s("./src/screens/discovery/index/cover-xs/styles.ts"),g=s("./node_modules/react/jsx-runtime.js"),s=(0,r.memo)(function(e){var t=e.navigation,s=e.styles,r=e.imageWidth,n=e.avatarRound,o=e.title,i=e.avatar,a=e.data,e=f.systemStore.setting.coverRadius,d="音乐"===o,l=1.38*r;return(0,g.jsxs)(c.default,{children:[(0,g.jsx)(c.default,{style:s.item,children:(0,g.jsxs)(m.Touchable,{style:[s.touch,{borderRadius:e}],animate:!0,onPress:function(){(0,j.t)("发现.跳转",{to:"Subject",from:o,type:"xs",subjectId:a.id}),t.push("Subject",{subjectId:a.id,_jp:a.name,_type:o,_image:a.cover})},children:[(0,g.jsx)(p.Cover,{src:(0,y.getCoverMedium)(a.cover),width:r,height:d?r:l,radius:!0}),(0,g.jsx)(u.LinearGradient,{style:(0,y.stl)(s.linear,d&&s.linearMusic),colors:_.linearColor,pointerEvents:"none"}),(0,g.jsx)(m.Text,{style:s.desc,size:8,type:f._.select("plain","title"),numberOfLines:2,bold:!0,pointerEvents:"none",children:(0,y.HTMLDecode)(a.name)})]})}),!!i&&(0,g.jsx)(m.Flex,{style:(0,y.stl)(s.fixed,n&&s.avatarRound),justify:"center",children:(0,g.jsx)(m.UserStatus,{userId:a.userId,mini:!0,children:(0,g.jsx)(p.Avatar,{navigation:t,style:s.avatar,size:x.AVATAR_SIZE,src:i,userId:a.userId,name:a.userName,borderColor:"transparent"})})})]})},n.DEFAULT_PROPS);t.default=s;try{coverxs.displayName="coverxs",coverxs.__docgenInfo={description:"",displayName:"coverxs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ item: { marginRight: number; }; touch: { backgroundColor: "rgb(238, 238, 240)" | "rgb(24, 24, 24)"; overflow: "hidden"; }; linear: { position: "absolute"; zIndex: number; height: number; right: number; ... 4 more ...; borderBottomLeftRadius: number; }; ... 4 more ...; avatarRound: { ...; }; }'}},imageWidth:{defaultValue:null,description:"",name:"imageWidth",required:!0,type:{name:"number"}},avatarRound:{defaultValue:null,description:"",name:"avatarRound",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"enum",value:[{value:'"动画"'},{value:'"书籍"'},{value:'"音乐"'},{value:'"游戏"'},{value:'"三次元"'}]}},avatar:{defaultValue:null,description:"",name:"avatar",required:!0,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ id: SubjectId; cover: string; name: string; userId: UserId; userName: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/cover-xs/cover-xs.tsx#coverxs"]={docgenInfo:coverxs.__docgenInfo,name:"coverxs",path:"src/screens/discovery/index/cover-xs/cover-xs.tsx#coverxs"})}catch(e){}},"./src/screens/discovery/index/cover-xs/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={navigation:{},styles:{},imageWidth:0,avatarRound:!1,title:"",avatar:"",data:{}}},"./src/screens/discovery/index/cover-xs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/stores/index.ts")),n=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/index/cover-xs/cover-xs.tsx")),a=s("./src/screens/discovery/index/cover-xs/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var s=e.title,r=e.avatar,e=e.data,t=t.navigation,n=o.systemStore.setting.avatarRound;return(0,d.jsx)(i.default,{navigation:t,styles:(0,a.memoStyles)(),imageWidth:o._.windowSm.contentWidth*o._.device(.34,.4)*.5625,avatarRound:n,title:s,avatar:r,data:e})});t.default=r},"./src/screens/discovery/index/cover-xs/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=t.AVATAR_SIZE=void 0;var r=s("./src/stores/index.ts"),s=(t.AVATAR_SIZE=24,r._.memoStyles(function(){return{item:{marginRight:r._._wind+2},touch:{backgroundColor:r._.colorBg,overflow:"hidden"},linear:{position:"absolute",zIndex:1,height:64,right:0,bottom:0,left:0,marginBottom:-.5,borderBottomRightRadius:r._.radiusSm,borderBottomLeftRadius:r._.radiusSm},linearMusic:{bottom:-20},desc:{position:"absolute",zIndex:2,right:2,bottom:3,left:25,opacity:.92},fixed:{position:"absolute",zIndex:2,bottom:0,left:0,width:28,height:28,marginLeft:-6,marginBottom:-2,backgroundColor:r._.select(r._.colorPlain,r._.colorBg),borderRadius:r._.radiusSm+2},avatar:{backgroundColor:r._.select(r._.colorPlain,r._.colorBg)},avatarRound:{borderRadius:28}}}));t.memoStyles=s},"./src/screens/discovery/index/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.MENU_MAP_STORYBOOK=t.MENU_MAP=t.INITIAL_RENDER_NUMS_XS=t.EXCLUDE_STATE=void 0,t.getMenus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=Object.assign({},a);i.STORYBOOK&&delete(t=Object.assign({},t,d)).Dollars;var s=[],e=(e.forEach(function(e){t[e]&&(s.push(t[e]),delete t[e])}),Object.keys(t));{var r;e.length&&(r=s.findIndex(function(e){return"Open"===e.key}),e=e.map(function(e){return t[e]}),s=[].concat((0,n.default)(s.slice(0,r)),(0,n.default)(e),(0,n.default)(s.slice(r,s.length))))}return i.STORYBOOK?s.filter(function(e){return!1!==e.web}):i.IOS?s.filter(function(e){return!1!==e.ios}):s},t.linearColor=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),r=s("./src/stores/index.ts"),o=s("./src/utils/index.ts"),i=s("./src/constants/index.ts"),s=(t.NAMESPACE="ScreenDiscovery",{visibleBottom:r._.window.height,home:{list:i.SUBJECT_TYPE.map(function(e){return{type:e.label}}),pagination:{page:1,pageTotal:1},_loaded:(0,o.getTimestamp)()},visible:!1,dragging:!1,expand:!1,link:""}),o=(t.EXCLUDE_STATE=s,Object.assign({showBlockTrain:!0},s,{_loaded:!0})),s=(t.STATE=o,r._.device(Math.floor(r._.window.contentWidth/80)+1,0)),a=(t.INITIAL_RENDER_NUMS_XS=s,{Rank:{key:"Rank",name:"排行榜",icon:"md-equalizer"},Anime:{key:"Anime",name:"找条目",icon:"md-live-tv",size:21},Browser:{key:"Browser",name:"索引",icon:"md-data-usage"},Catalog:{key:"Catalog",name:"目录",icon:"md-folder-open"},Calendar:{key:"Calendar",name:"每日放送",icon:"md-calendar-today",size:20},DiscoveryBlog:{key:"DiscoveryBlog",name:"日志",icon:"md-edit",size:21},Tags:{key:"Tags",name:"标签",icon:"md-bookmark-outline"},Open:{key:"Open",name:"自定义",icon:"md-more-horiz"},Staff:{key:"Staff",name:"新番",icon:"md-local-play"},Search:{key:"Search",name:"搜索",icon:"md-search"},Tinygrail:{key:"Tinygrail",name:"小圣杯",icon:"trophy",size:20,web:!1},Recommend:{key:"Recommend",name:"推荐",icon:"md-favorite-outline"},Dollars:{key:"Dollars",name:"Dollars",text:"D",size:20},Wiki:{key:"Wiki",name:"维基人",text:"wiki",size:14},Yearbook:{key:"Yearbook",name:"年鉴",icon:"md-whatshot"},UserTimeline:{key:"UserTimeline",name:"时间线",icon:"md-timeline",login:!0,web:!1},Netabare:{key:"Netabare",name:"netaba.re",text:"N",size:18,web:!1},Anitama:{key:"Anitama",name:"资讯",icon:"md-text-format",size:26,web:!1},Smb:{key:"Smb",name:"本地管理",text:"SMB",size:14,ios:!1,web:!1},DoubanSync:{key:"DoubanSync",name:"豆瓣同步",text:"豆",size:18,web:!1},BilibiliSync:{key:"BilibiliSync",name:"bilibili 同步",text:"B",size:20,web:!1},Backup:{key:"Backup",name:"本地备份",text:"CSV",size:14,web:!1},Series:{key:"Series",name:"关联系列",icon:"md-workspaces-outline",login:!0,web:!1},Character:{key:"Character",name:"我的人物",icon:"md-folder-shared",login:!0,web:!1},Catalogs:{key:"Catalogs",name:"我的目录",icon:"md-folder-special",login:!0,web:!1},Link:{key:"Link",name:"剪贴板",icon:"md-link",web:!1}}),d=(t.MENU_MAP=a,{Rakuen:{key:"Rakuen",name:"超展开",size:20,icon:"md-chat-bubble-outline"},Timeline:{key:"Timeline",name:"时间胶囊",icon:"md-access-time"},Setting:{key:"Setting",name:"设置",icon:"setting"}});t.MENU_MAP_STORYBOOK=d;t.linearColor=["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.56)","rgba(0, 0, 0, 0.8)"]},"./src/screens/discovery/index/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),n=s("./src/utils/decorators/index.ts"),l=r(s("./src/screens/discovery/index/award/index.tsx")),c=r(s("./src/screens/discovery/index/today/index.tsx")),u=r(s("./src/screens/discovery/index/sort-menu/index.tsx")),m=s("./src/screens/discovery/index/header/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s=t.$,t=t.navigation,r=(0,m.memoStyles)(),n=s.state.dragging,o=s.home.today;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.StatusBarPlaceholder,{}),!n&&(0,p.jsxs)(i.default,{children:[(0,p.jsx)(l.default,{navigation:t}),(0,p.jsx)(a.Heatmap,{id:"发现.跳转",to:"Award"})]}),(0,p.jsx)(u.default,{}),!n&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Flex,{style:r.wrap,children:[!!s.online&&(0,p.jsxs)(a.Text,{align:"right",size:12,children:["online ",s.online]}),(0,p.jsx)(a.Flex.Item,{children:(0,p.jsx)(a.Text,{align:"right",size:12,numberOfLines:1,children:s.today||o})})]}),(0,p.jsx)(c.default,{})]})]})});t.default=r;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/index/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/index/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{wrap:{paddingHorizontal:r._.windSm+2,marginTop:r._.md+8,marginBottom:r._.xs}}});t.memoStyles=s},"./src/screens/discovery/index/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/navigations/tab-bar/index.tsx")),i=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/index/list/index.tsx")),u=r(s("./src/screens/discovery/index/link-modal/index.tsx")),m=r(s("./src/screens/discovery/index/mesume/index.tsx")),r=r(s("./src/screens/discovery/index/store.ts")),p=s("./node_modules/react/jsx-runtime.js"),s=(0,n.ic)(r.default,function(e,t){var s=e.isFocused,r=t.$,n=t.navigation;return(0,l.useRunAfter)(function(){r.init(),n.addListener(o.EVENT_APP_TAB_PRESS+"|Discovery",function(){r.onRefreshThenScrollTop()})}),(0,l.useFocusEffect)(function(){(0,d.androidDayNightToggle)(a._.isDark)}),(0,l.useObserver)(function(){var e=a.systemStore.setting.live2D;return(0,p.jsxs)(i.Page,{children:[(0,p.jsx)(i.StatusBarEvents,{backgroundColor:"transparent"}),(0,p.jsx)(c.default,{isFocused:s}),e&&(0,p.jsx)(m.default,{dragging:r.state.dragging}),(0,p.jsx)(u.default,{}),(0,p.jsx)(i.Track,{title:"发现",hm:["discovery","Discovery"]}),(0,p.jsx)(i.Heatmap,{bottom:a._.bottom,id:"发现",screen:"Discovery"})]})})},{listenIsFocused:!0});t.default=s;try{index.displayName="index",index.__docgenInfo={description:"",displayName:"index",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/index.tsx#index"]={docgenInfo:index.__docgenInfo,name:"index",path:"src/screens/discovery/index/index.tsx#index"})}catch(e){}},"./src/screens/discovery/index/link-modal/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.LINKS=void 0;s=s("./src/constants/index.ts"),s=[{key:"条目",value:s.HOST+"/subject/",text:s.HOST+"/subject/{ID}"},{key:"帖子",value:s.HOST+"/group/topic/",text:s.HOST+"/group/topic/{ID}"},{key:"小组",value:s.HOST+"/group/",text:s.HOST+"/group/{ID}"},{key:"虚拟人物",value:s.HOST+"/character/",text:s.HOST+"/character/{ID}"},{key:"现实人物",value:s.HOST+"/person/",text:s.HOST+"/person/{ID}"},{key:"用户空间",value:s.HOST+"/user/",text:s.HOST+"/user/{ID}"},{key:"标签",value:s.HOST+"/tag/",text:s.HOST+"/tag/{ID}"},{key:"目录",value:s.HOST+"/index/",text:s.HOST+"/index/{ID}"},{key:"日志",value:s.HOST+"/blog/",text:s.HOST+"/blog/{ID}"}];t.LINKS=s},"./src/screens/discovery/index/link-modal/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),f=s("./src/components/index.ts"),y=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),j=s("./src/screens/discovery/index/link-modal/styles.ts"),_=s("./src/screens/discovery/index/link-modal/ds.ts"),x=s("./node_modules/react/jsx-runtime.js");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}var b,r=(0,r.obc)((s=u.default.Component,(0,a.default)(h,s),b=g(h),(0,o.default)(h,[{key:"componentDidMount",value:function(){var s=this,e=this.context.$;(0,p.autorun)(function(){e.state.visible&&setTimeout(function(){try{var e,t;"function"==typeof(null==s||null==(e=s.iptRef)||null==(t=e.inputRef)?void 0:t.focus)&&s.iptRef.inputRef.focus()}catch(e){}},240)})}},{key:"renderModal",value:function(){var t=this,e=this.context,s=e.$,r=e.navigation,e=s.state,n=e.visible,e=e.link;return(0,x.jsxs)(f.Modal,{style:this.styles.modal,visible:n,title:"剪贴板",onClose:s.toggleLinkModal,children:[(0,x.jsxs)(m.default,{style:this.styles.container,children:[(0,x.jsx)(f.Text,{size:13,bold:!0,children:"可能由于权限问题，未能在剪贴板中匹配到链接，请手动粘贴或输入"}),(0,x.jsxs)(f.Flex,{style:y._.mt.md,align:"center",children:[(0,x.jsx)(f.Flex.Item,{children:(0,x.jsx)(f.Input,{ref:function(e){return t.iptRef=e},style:this.styles.ipt,defaultValue:e,placeholder:"输入或粘贴 bgm.tv 的链接",showClear:!0,onChangeText:s.onChangeText,onSubmitEditing:function(){return s.onLinkSubmit(r)}})}),(0,x.jsx)(f.Touchable,{style:y._.ml.md,onPress:function(){return s.onLinkSubmit(r)},children:(0,x.jsx)(f.Text,{size:13,children:"提交"})})]})]}),(0,x.jsx)(m.default,{style:this.styles.info,children:(0,x.jsx)(f.Touchable,{onPress:this.onOpenActionSheet,children:(0,x.jsx)(f.Text,{size:14,type:"sub",children:"预设"})})})]})}},{key:"renderActionSheet",value:function(){var t=this,e=this.state.show;return(0,x.jsx)(f.ActionSheet,{show:e,title:"预设",height:640,onClose:this.onCloseActionSheet,children:(0,x.jsx)(m.default,{style:y._.container.wind,children:_.LINKS.map(function(e){return(0,x.jsx)(f.Touchable,{style:t.styles.item,onPress:function(){return t.onSelect(e.value)},children:(0,x.jsxs)(f.Flex,{children:[(0,x.jsxs)(f.Flex.Item,{children:[(0,x.jsx)(f.Text,{size:15,bold:!0,children:e.key}),(0,x.jsx)(f.Text,{style:y._.mt.xs,type:"sub",size:13,bold:!0,children:e.text})]}),(0,x.jsx)(f.Iconfont,{name:"md-navigate-next"})]})},e.key)})})})}},{key:"render",value:function(){return(0,x.jsxs)(x.Fragment,{children:[this.renderModal(),this.renderActionSheet()]})}},{key:"styles",get:function(){return(0,j.memoStyles)()}}]),h));function h(){var r;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,c.default)((0,i.default)(r),"state",{show:!1}),(0,c.default)((0,i.default)(r),"iptRef",void 0),(0,c.default)((0,i.default)(r),"onOpenActionSheet",function(){r.setState({show:!0},function(){try{var e,t,s;"function"==typeof(null==(e=(0,i.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.blur)&&r.iptRef.inputRef.blur()}catch(e){}})}),(0,c.default)((0,i.default)(r),"onCloseActionSheet",function(){r.setState({show:!1},function(){setTimeout(function(){try{var e,t,s;"function"==typeof(null==(e=(0,i.default)(r))||null==(t=e.iptRef)||null==(s=t.inputRef)?void 0:s.focus)&&r.iptRef.inputRef.focus()}catch(e){}},480)})}),(0,c.default)((0,i.default)(r),"onSelect",function(e){r.context.$.onChangeText(e),r.onCloseActionSheet()}),r}t.default=r;try{linkmodal.displayName="linkmodal",linkmodal.__docgenInfo={description:"",displayName:"linkmodal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/link-modal/index.tsx#linkmodal"]={docgenInfo:linkmodal.__docgenInfo,name:"linkmodal",path:"src/screens/discovery/index/link-modal/index.tsx#linkmodal"})}catch(e){}},"./src/screens/discovery/index/link-modal/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{modal:{width:r._.windowSm.width-2*r._.windSm,maxWidth:400,marginBottom:.4*r._.windowSm.height,backgroundColor:r._.select(r._.colorBg,r._.colorBg),borderRadius:r._.radiusMd},container:{paddingVertical:r._.md,paddingHorizontal:r._.sm},ipt:{height:44,paddingHorizontal:14,paddingVertical:0,color:r._.colorDesc,backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderWidth:2,borderColor:r._.select(r._.colorIcon,r._.colorBorder),borderRadius:r._.radiusSm,overflow:"hidden"},info:{position:"absolute",zIndex:1,top:1,right:20,marginTop:-20},item:{paddingVertical:12}}});t.memoStyles=s},"./src/screens/discovery/index/list-item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={styles:{},style:{},index:0,type:"anime",list:[],friendsChannel:[],friendsMap:{}}},"./src/screens/discovery/index/list-item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/index/list-item/list-item.tsx")),i=s("./src/screens/discovery/index/list-item/styles.ts"),a=s("./node_modules/react/jsx-runtime.js"),d={},r=(0,n.obc)(function(e,t){var s,r=e.style,n=e.index,e=e.type,e=void 0===e?"anime":e,t=t.$;return!t.state.dragging&&null!=(s=d[e]||t.ramdonHome[e])&&s.length?(null!=s&&s.length&&!d[e]&&(d[e]=s),(0,a.jsx)(o.default,{styles:(0,i.memoStyles)(),style:r,index:n,type:e,list:d[e],friendsChannel:t.friendsChannel(e),friendsMap:t.friendsMap})):null});t.default=r},"./src/screens/discovery/index/list-item/list-item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=r(s("./src/screens/discovery/index/section-title/index.tsx")),y=r(s("./src/screens/discovery/index/cover-lg/index.tsx")),j=r(s("./src/screens/discovery/index/cover-sm/index.tsx")),_=r(s("./src/screens/discovery/index/cover-xs/index.tsx")),x=s("./src/screens/discovery/index/ds.ts"),r=s("./src/screens/discovery/index/list-item/ds.ts"),g=s("./node_modules/react/jsx-runtime.js"),b=u._.device(Math.floor(u._.window.contentWidth/140)+1,0),s=(0,n.memo)(function(e){var t=e.styles,s=e.style,r=e.index,n=e.type,o=e.list,i=e.friendsChannel,a=e.friendsMap,d=p.MODEL_SUBJECT_TYPE.getTitle(n);return(0,g.jsxs)(c.InView,{y:.64*u._.window.height+800*r,children:[(0,g.jsx)(f.default,{title:d,type:n}),(0,g.jsx)(y.default,{title:d,src:(0,m.getCoverLarge)(o[0].cover)||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(o[0].title,o[0].subjectId),data:o[0]}),(0,g.jsx)(l.HorizontalList,{style:s,contentContainerStyle:t.contentContainerStyle,data:o.filter(function(e,t){return 0<t}),initialRenderNums:b,renderItem:function(e){return(0,g.jsx)(j.default,{title:d,src:e.cover||p.IMG_DEFAULT,cn:(0,m.findSubjectCn)(e.title,e.subjectId),data:e},e.subjectId)}}),!!i.length&&(0,g.jsx)(l.HorizontalList,{contentContainerStyle:t.contentContainerStyleSm,data:i.filter(function(e){return"/img/no_img.gif"!==e.cover}),initialRenderNums:x.INITIAL_RENDER_NUMS_XS,renderItem:function(e){var t;return(0,g.jsx)(_.default,{title:d,avatar:null==(t=a[e.userId])?void 0:t.avatar,data:e},e.userId+"|"+e.id)}})]})},r.DEFAULT_PROPS);t.default=s;try{listitem.displayName="listitem",listitem.__docgenInfo={description:"",displayName:"listitem",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ contentContainerStyle: { paddingVertical: number; paddingRight: number; paddingLeft: number; }; contentContainerStyleSm: { paddingRight: number; paddingBottom: number; paddingLeft: number; }; }"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"ViewStyle"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}},list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"any[]"}},friendsChannel:{defaultValue:null,description:"",name:"friendsChannel",required:!0,type:{name:"DeepPartial<{ id: SubjectId; name: string; cover: `//lain.bgm.tv/pic/cover/c/${string}.jpg`; userId: UserId; userName: string; action: string; }>[]"}},friendsMap:{defaultValue:null,description:"",name:"friendsMap",required:!0,type:{name:"FriendsMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/list-item/list-item.tsx#listitem"]={docgenInfo:listitem.__docgenInfo,name:"listitem",path:"src/screens/discovery/index/list-item/list-item.tsx#listitem"})}catch(e){}},"./src/screens/discovery/index/list-item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingVertical:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingLeft:r._.windSm},contentContainerStyleSm:{paddingRight:r._.windSm-r._._wind,paddingBottom:r._.md+4,paddingLeft:r._.windSm}}});t.memoStyles=s},"./src/screens/discovery/index/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),l=r(s("./src/screens/discovery/index/header/index.tsx")),c=r(s("./src/screens/discovery/index/list-item/index.tsx")),u=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(e,t){var e=e.isFocused,t=t.$,s=i.systemStore.setting.live2D,r=(n=t.state).home,n=n.dragging;return(0,u.jsx)(o.ListView,{ref:t.forwardRef,keyExtractor:m,style:i._.container.flex,contentContainerStyle:i._.container.bottom,data:r,ListHeaderComponent:(0,u.jsx)(l.default,{}),showFooter:!s&&!n,renderItem:p,scrollToTop:e||d.WSA,scrollEnabled:!n,scrollEventThrottle:16,onScroll:t.onScroll})});function m(e){return e.type}function p(e){var t=e.item,e=e.index;return(0,u.jsxs)(n.default,{children:[(0,u.jsx)(c.default,Object.assign({},t,{index:e})),(0,u.jsx)(o.Heatmap,{id:"发现.跳转",from:d.MODEL_SUBJECT_TYPE.getTitle(t.type)})]},t.type)}t.default=r},"./src/screens/discovery/index/mesume/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./node_modules/react-native-webview/index.js"),i=s("./src/components/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/hooks/index.ts"),l=s("./src/constants/index.ts"),c=s("./src/screens/discovery/index/mesume/styles.ts"),u=s("./node_modules/react/jsx-runtime.js");function m(e){var s=e.dragging,r=(0,d.useIsFocused)();return(0,d.useObserver)(function(){var e,t;return l.STORYBOOK||s||!r?null:(e=(0,c.memoStyles)(),t=a.systemStore.setting.live2DVoice,(0,u.jsxs)(u.Fragment,{children:[!l.IOS&&(0,u.jsx)(n.default,{style:e.prevent,children:(0,u.jsx)(i.Touchable,{style:e.touch,ripple:!1,withoutFeedback:!0,onPress:function(){}})}),(0,u.jsx)(n.default,{style:e.stage,children:(0,u.jsx)(o.WebView,{style:e.webview,source:{html:"<!DOCTYPE html>\n            <html lang=\"en\">\n              <head>\n                <meta charset=\"UTF-8\" />\n                <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n                <title>Document</title>\n                <style>\n                  * {\n                    padding: 0;\n                    margin: 0;\n                  }\n                  #ukagaka_shell {\n                    position: fixed;\n                    bottom: 0;\n                    right: 0;\n                    z-index: 90;\n                  }\n                  #ukagaka_shell div.ui_10 {\n                    width: 150px;\n                    height: 355px;\n                    color: #ab515d;\n                  }\n                  #ukagaka_shell .ukagaka_body {\n                    width: 100%;\n                    height: 100%;\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                  }\n                  #oml-stage {\n                    position: fixed;\n                    bottom: 0;\n                    opacity: 0;\n                    left: auto;\n                    right: 0 !important;\n                    z-index: 80;\n                  }\n                  #oml-canvas {\n                    width: 100%;\n                    height: 100%;\n                    position: relative;\n                    z-index: 81;\n                  }\n                </style>\n              </head>\n              <body>\n                <div id=\"ukagaka_shell\">\n                  <div class=\"ui_10\">\n                    <div class=\"ukagaka_body shell_1\">\n                      <div id=\"ukagaka_voice\"></div>\n                    </div>\n                  </div>\n                </div>\n                <script src=\"https://unpkg.com/jquery@3.6.0/dist/jquery.min.js\"><\/script>\n                <script>\n                  $(document).ready(() => {\n                    var chiiLib = {\n                      ukagaka: {\n                        playVoice: function (voice_list) {\n                          var voice_id = voice_list[Math.floor(Math.random() * voice_list.length)]\n                          var voice_str =\n                            '<audio><source src=\"https://s-sh-4501-bangumi-cdn.oss.dogecdn.com/live-2d/wave/wave' +\n                            voice_id +\n                            '.wav\" type=\"audio/wav\"></audio>'\n                          $('#ukagaka_voice').html(voice_str)\n                          var voice = document.querySelector('#ukagaka_voice audio')\n                          voice.volume = 0.2\n                          voice.play()\n                        }\n                      }\n                    }\n\n                    $.cachedScript = function (url, options) {\n                      options = $.extend(options || {}, {\n                        dataType: \"script\",\n                        cache: true,\n                        url: url,\n                      });\n                      return $.ajax(options);\n                    };\n\n                    $.cachedScript('https://bgm.tv/js/oml-cubism4.min.js?v3').done(function () {\n                      var path = 'live-2d/bangumi_musume_2d.model3.json'\n                      OML2D.loadOhMyLive2D({\n                        sayHello: false,\n                        tips: false,\n                        transitionTime: 500,\n                        rootElement: '#ukagaka_shell',\n                        callback: {\n                          ready: function () {\n                            $('#ukagaka_shell .ukagaka_body').css({\n                              'animation-name': 'oml-stage-slide-out',\n                              'animation-duration': '500ms',\n                              animationFillMode: 'forwards'\n                            })\n                          },\n                          hit: function (hitAreas, model) {\n                            if (hitAreas.includes('Body')) {\n                              model.motion('Tap@Body')\n                              "+(t?"chiiLib.ukagaka.playVoice([41, 40])":"")+"\n                            } else if (hitAreas.includes('Hair')) {\n                              model.motion('Tap')\n                              "+(t?"chiiLib.ukagaka.playVoice([39, 53, 29, 30, 31])":"")+"\n                            } else if (hitAreas.includes('Face')) {\n                              model.motion('Flick@Body')\n                              "+(t?"chiiLib.ukagaka.playVoice([40, 43, 44, 45, 46, 48, 49, 50, 51, 52, 59])":"")+"\n                            }\n                          }\n                        },\n                        source: 'https://s-sh-4501-bangumi-cdn.oss.dogecdn.com',\n                        models: {\n                          path: path,\n                          scale: 0.72,\n                          stageStyle: { width: '140', height: '256' }\n                        }\n                      })\n                    })\n                  })\n                <\/script>\n              </body>\n            </html>"},scrollEnabled:!1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,androidHardwareAccelerationDisabled:!0})})]}))})}t.default=m;try{m.displayName="Mesume",m.__docgenInfo={description:"",displayName:"Mesume",props:{dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/mesume/index.tsx#Mesume"]={docgenInfo:m.__docgenInfo,name:"Mesume",path:"src/screens/discovery/index/mesume/index.tsx#Mesume"})}catch(e){}},"./src/screens/discovery/index/mesume/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{prevent:{position:"absolute",zIndex:1,bottom:r._.ios(r._.tabBarHeight,r._.xs),right:0},touch:{width:132,height:256},stage:{position:"absolute",zIndex:10,bottom:r._.ios(r._.tabBarHeight,r._.xs),right:0,width:128,height:256,backgroundColor:"transparent"},webview:{backgroundColor:"transparent"}}});t.memoStyles=s},"./src/screens/discovery/index/section-title/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),l=s("./src/screens/discovery/index/section-title/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.title,r=e.type,n=t.navigation,e=(0,l.memoStyles)();return(0,c.jsx)(i.SectionTitle,{style:e.section,right:(0,c.jsx)(o.Touchable,{style:e.touch,onPress:function(){(0,d.t)("发现.跳转",{to:"Channel",title:s}),n.push("Channel",{type:r})},children:(0,c.jsxs)(o.Flex,{children:[(0,c.jsx)(o.Text,{children:"频道"}),(0,c.jsx)(o.Iconfont,{name:"md-navigate-next",color:a._.colorTitle})]})}),children:s})});t.default=s},"./src/screens/discovery/index/section-title/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{section:{marginTop:24,marginHorizontal:r._.windSm},touch:{paddingVertical:r._.xs,paddingLeft:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/discovery/index/sort-menu/btns/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),a=s("./src/screens/_/index.ts"),d=s("./src/stores/index.ts"),l=s("./src/stores/system/init.ts"),c=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/constants/index.ts"),m=s("./src/screens/discovery/index/sort-menu/btns/styles.ts"),p=s("./node_modules/react/jsx-runtime.js"),s=(0,r.obc)(function(e,t){var s=e.setMenu,r=e.onCancel,e=e.onSave,n=t.navigation,t=(0,m.memoStyles)();return(0,p.jsxs)(o.default,{style:u.STORYBOOK&&t.web,children:[(0,p.jsxs)(i.Flex,{style:t.btns,justify:"end",children:[(0,p.jsx)(i.Flex.Item,{children:(0,p.jsx)(i.Touchable,{style:t.touch,onPress:r,children:(0,p.jsx)(i.Flex,{style:t.btn,justify:"center",children:(0,p.jsx)(i.Text,{type:"sub",bold:!0,size:11,children:"取消"})})})}),(0,p.jsx)(i.Flex.Item,{style:d._.ml.md,children:(0,p.jsx)(i.Touchable,{style:t.touch,onPress:e,children:(0,p.jsx)(i.Flex,{style:t.btn,justify:"center",children:(0,p.jsx)(i.Text,{type:"__plain__",bold:!0,size:11,children:"保存"})})})}),(0,p.jsx)(a.IconTouchable,{style:t.refresh,name:"md-refresh",color:d._.colorDesc,onPress:function(){(0,c.confirm)("是否恢复默认菜单布局",function(){s(l.INIT_DISCOVERY_MENU)})}})]}),(0,p.jsx)(i.Touchable,{style:d._.mt.sm,onPress:function(){n.push("Setting",{open:"Discovery"})},children:(0,p.jsxs)(i.Flex,{style:t.setting,children:[(0,p.jsx)(i.Flex.Item,{children:(0,p.jsx)(i.Text,{children:"更多设置"})}),(0,p.jsx)(i.Iconfont,{name:"md-navigate-next",size:24})]})})]})});t.default=s},"./src/screens/discovery/index/sort-menu/btns/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{web:{position:"fixed",zIndex:1,right:r._.wind,bottom:r._.sm,left:r._.wind},btns:{paddingHorizontal:r._.sm,marginTop:r._.md,marginBottom:n.STORYBOOK?0:r._.md},touch:{borderRadius:r._.r(36),overflow:"hidden"},btn:{height:r._.r(36),backgroundColor:r._.select(r._.colorDesc,r._._colorDarkModeLevel1),borderRadius:r._.r(36)},refresh:{marginRight:r._.sm,marginLeft:r._.md},setting:{paddingHorizontal:r._.sm,marginVertical:r._.sm}}});t.memoStyles=s},"./src/screens/discovery/index/sort-menu/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;s={navigation:{},styles:{},orientation:s("./src/stores/index.ts")._.orientation,dragging:!1,discoveryMenu:[],discoveryTodayOnair:!0,discoveryMenuNum:4,onToggle:function(){},onSubmit:function(){}};t.DEFAULT_PROPS=s},"./src/screens/discovery/index/sort-menu/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/dev/index.ts"),d=r(s("./src/screens/discovery/index/sort-menu/sort-menu.tsx")),l=s("./src/screens/discovery/index/sort-menu/styles.ts"),c=s("./node_modules/react/jsx-runtime.js"),r=(0,i.obc)(function(e,t){var s=t.$,t=t.navigation,r=((0,a.rerender)("Discovery.SortMenu"),(0,l.memoStyles)());return(0,c.jsx)(n.default,{style:r.container,children:(0,c.jsx)(d.default,{navigation:t,styles:r,orientation:o._.orientation,dragging:s.state.dragging,discoveryMenu:s.discoveryMenu,discoveryTodayOnair:s.discoveryTodayOnair,discoveryMenuNum:s.discoveryMenuNum,onToggle:s.toggleDragging,onSubmit:s.saveDiscoveryMenu})})});t.default=r;try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/sort-menu/index.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/sort-menu/index.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/sort-menu/sort-menu.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),x=r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(s("./node_modules/react/index.js")),b=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),h=s("./src/components/@/react-native-draggable-grid/draggable-grid.tsx"),v=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),S=s("./src/utils/dev/index.ts"),O=s("./src/constants/index.ts"),T=r(s("./src/screens/discovery/index/btn/index.tsx")),I=s("./src/screens/discovery/index/ds.ts"),C=r(s("./src/screens/discovery/index/sort-menu/btns/index.tsx")),r=s("./src/screens/discovery/index/sort-menu/ds.ts"),w=s("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}s=(0,n.memo)(function(e){var s=e.styles,t=e.orientation,r=e.dragging,n=e.discoveryMenu,o=e.discoveryMenuNum,i=e.onToggle,a=e.onSubmit,e=((0,S.rerender)("Discovery.SortMenu.Main"),(0,g.useState)(n)),e=(0,x.default)(e,2),d=e[0],l=e[1],e=(0,g.useMemo)(function(){return(0,I.getMenus)(d)},[d]),c=e.findIndex(function(e){return"Open"===e.key}),u=(0,g.useCallback)(function(e,t){return(0,w.jsx)(b.default,{style:c<t&&"Cancel"!==e.key&&"Save"!==e.key&&s.transparent,children:(0,w.jsx)(T.default,{item:e})},e.key)},[c,s.transparent]),m=(0,g.useCallback)(function(e){var t=[];e.forEach(function(e){if("Save"!==e.key)return"Split"===e.key?t.push("Open"):void t.push(e.key)}),l(t)},[]),p=(0,g.useCallback)(function(){i(),setTimeout(function(){l(n)},80)},[n,i]),f=(0,g.useCallback)(function(){a(d),setTimeout(function(){i()},80)},[d,a,i]),y=(0,g.useMemo)(function(){return r&&(0,w.jsx)(C.default,{setMenu:l,onCancel:p,onSave:f})},[r,p,f]),j=t===O.ORIENTATION_PORTRAIT,e=r?[].concat((0,_.default)(e.slice(0,c)),[{key:"Split",name:"后面隐藏",text:"|",size:20}],(0,_.default)(e.slice(c+1,e.length))):e.filter(function(e,t){return t<=c});return(0,w.jsxs)(b.default,{children:[j&&r&&(0,w.jsx)(v.Text,{style:s.text,size:13,bold:!0,children:"按住拖拽排序，拖动到分割线左侧显示，右侧隐藏"}),!j&&y,r?(0,w.jsx)(h.DraggableGrid,{data:e,numColumns:o,itemHeight:s.dragItem.height,renderItem:u,onDragRelease:m},t+"|"+o):(0,w.jsx)(v.Flex,{wrap:"wrap",children:e.map(function(e){return u(e)})}),j&&y]})},r.DEFAULT_PROPS);t.default=s;try{sortmenu.displayName="sortmenu",sortmenu.__docgenInfo={description:"",displayName:"sortmenu",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ container: { paddingHorizontal: number; minHeight: number; }; transparent: { opacity: number; }; text: { marginTop: number; marginLeft: number; marginBottom: number; }; dragItem: { height: number; }; }"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!0,type:{name:"enum",value:[{value:'"PORTRAIT"'},{value:'"LANDSCAPE"'}]}},dragging:{defaultValue:null,description:"",name:"dragging",required:!0,type:{name:"boolean"}},discoveryMenu:{defaultValue:null,description:"",name:"discoveryMenu",required:!0,type:{name:'("Tinygrail" | "Calendar" | "Search" | "Rank" | "Anime" | "Browser" | "Catalog" | "DiscoveryBlog" | "Tags" | "Staff" | "Anitama" | "Open" | "Wiki" | "Yearbook" | "UserTimeline" | ... 10 more ... | "Recommend")[]'}},discoveryTodayOnair:{defaultValue:null,description:"",name:"discoveryTodayOnair",required:!0,type:{name:"boolean"}},discoveryMenuNum:{defaultValue:null,description:"",name:"discoveryMenuNum",required:!0,type:{name:"number"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(discoveryMenu: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/sort-menu/sort-menu.tsx#sortmenu"]={docgenInfo:sortmenu.__docgenInfo,name:"sortmenu",path:"src/screens/discovery/index/sort-menu/sort-menu.tsx#sortmenu"})}catch(e){}},"./src/screens/discovery/index/sort-menu/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{container:{paddingHorizontal:r._.windSm,minHeight:100},transparent:{opacity:r._.select(.6,.4)},text:{marginTop:r._.ios(r._.sm,r._.md),marginLeft:r._.md,marginBottom:r._.sm},dragItem:{height:(r._.windowSm.width-2*r._.windSm)/4}}});t.memoStyles=s},"./src/screens/discovery/index/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.link.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.reverse.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/stores/calendar/onair.ts"),x=s("./src/utils/index.ts"),g=s("./src/utils/fetch/index.ts"),r=r(s("./src/utils/store/index.ts")),b=s("./src/constants/index.ts"),h=s("./src/screens/discovery/index/ds.ts");function v(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,c.default)(O,s),S=v(O),(0,d.default)(O,[{key:"userInfo",get:function(){return j.userStore.userInfo}},{key:"home",get:function(){return j.calendarStore.home}},{key:"ramdonHome",get:function(){return Object.assign({},this.home,{anime:(0,x.appRandom)(this.home.anime,"info"),book:(0,x.appRandom)(this.home.book,"info"),game:(0,x.appRandom)(this.home.game,"info"),music:(0,x.appRandom)(this.home.music,"info"),real:(0,x.appRandom)(this.home.real,"info")})}},{key:"today",get:function(){return j.calendarStore.home.today}},{key:"isLimit",get:function(){return j.userStore.isLimit}},{key:"online",get:function(){return j.discoveryStore.online||j.systemStore.ota.online}},{key:"friendsMap",get:function(){return j.usersStore.friendsMap}},{key:"friendsChannel",value:function(e){return(0,y.computed)(function(){return j.discoveryStore.channel(e).friends}).get()}},{key:"onAir",get:function(){return j.calendarStore.onAir}},{key:"calendar",get:function(){var n=this,e=j.calendarStore.calendar.list.map(function(e){return Object.assign({},e,{items:e.items.map(function(e){var t=n.onAir[e.id]||_.ON_AIR[e.id]||{},s=t.air,r=t.timeCN,t=t.timeJP;return Object.assign({},e,{air:void 0===s?0:s,timeCN:r||t||"2359"})}).filter(function(e){return"2359"!==e.timeCN}).sort(function(e,t){return(0,x.desc)(String(e.timeCN||""),String(t.timeCN||""))})})}),s=[];return e.forEach(function(t){t.items.forEach(function(e){s.push(Object.assign({},e,{weekday:t.weekday.id}))})}),s.reverse()}},{key:"todayBangumi",get:function(){try{var e=(0,x.date)("Hi",(0,x.getTimestamp)()),t=parseInt(""+((new Date).getDay()||7)+e),s=this.calendar.findIndex(function(e){return t>=parseInt(""+e.weekday+e.timeCN)});return-1===s?[]:[].concat((0,o.default)(this.calendar),(0,o.default)(this.calendar),(0,o.default)(this.calendar)).slice(s-10+this.calendar.length,s+2+this.calendar.length).reverse()}catch(e){return[]}}},{key:"discoveryMenu",get:function(){return j.systemStore.setting.discoveryMenu}},{key:"discoveryTodayOnair",get:function(){return j.systemStore.setting.discoveryTodayOnair}},{key:"discoveryMenuNum",get:function(){return j.systemStore.setting.discoveryMenuNum}}]),(0,f.default)((r=O).prototype,"userInfo",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"userInfo"),r.prototype),(0,f.default)(r.prototype,"home",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"home"),r.prototype),(0,f.default)(r.prototype,"ramdonHome",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"ramdonHome"),r.prototype),(0,f.default)(r.prototype,"today",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"today"),r.prototype),(0,f.default)(r.prototype,"isLimit",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"isLimit"),r.prototype),(0,f.default)(r.prototype,"online",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"online"),r.prototype),(0,f.default)(r.prototype,"friendsMap",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"friendsMap"),r.prototype),(0,f.default)(r.prototype,"onAir",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"onAir"),r.prototype),(0,f.default)(r.prototype,"calendar",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"calendar"),r.prototype),(0,f.default)(r.prototype,"todayBangumi",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"todayBangumi"),r.prototype),(0,f.default)(r.prototype,"discoveryMenu",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"discoveryMenu"),r.prototype),(0,f.default)(r.prototype,"discoveryTodayOnair",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"discoveryTodayOnair"),r.prototype),(0,f.default)(r.prototype,"discoveryMenuNum",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"discoveryMenuNum"),r.prototype);var S,c=r;function O(){var r;(0,a.default)(this,O);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=S.call.apply(S,[this].concat(t)),(0,p.default)((0,l.default)(r),"state",(0,y.observable)(h.STATE)),(0,p.default)((0,l.default)(r),"init",(0,i.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getStorage(h.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,t=t.showBlockTrain,r.setState(Object.assign({showBlockTrain:t},h.EXCLUDE_STATE)),setTimeout(function(){(0,g.queue)([function(){return!!b.STORYBOOK||r.fetchOnline()},function(){return!j.userStore.isWebLogin||r.fetchChannel()},(0,i.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.calendarStore.init("onAir");case 2:if(t=r.onAir._loaded,(0,x.getTimestamp)()-Number(t||0)<86400)return e.abrupt("return",!0);e.next=5;break;case 5:return e.abrupt("return",j.calendarStore.fetchOnAir());case 6:case"end":return e.stop()}},e)})),function(){return j.calendarStore.fetchCalendar()},function(){return!!b.STORYBOOK||j.usersStore.fetchUsers()}])},800),e.abrupt("return",j.calendarStore.fetchHome());case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(r),"fetchOnline",function(){return j.discoveryStore.fetchOnline()}),(0,p.default)((0,l.default)(r),"fetchChannel",function(){return(0,g.queue)(b.SUBJECT_TYPE.map(function(e){return function(){return j.discoveryStore.fetchChannel({type:e.label})}}),1)}),(0,p.default)((0,l.default)(r),"openMenu",function(){r.setState({expand:!0}),r.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(r),"closeMenu",function(){r.setState({expand:!1}),r.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(r),"scrollToIndex",void 0),(0,p.default)((0,l.default)(r),"forwardRef",function(e){r.scrollToIndex=null==e?void 0:e.scrollToIndex}),(0,p.default)((0,l.default)(r),"onRefreshThenScrollTop",function(){try{"function"==typeof r.scrollToIndex&&((0,g.t)("其他.刷新到顶",{screen:"Discovery"}),r.fetchOnline(),r.scrollToIndex({animated:!0,index:0,viewOffset:8e3}))}catch(e){console.error("Discovery","onRefreshThenScrollTop",e)}}),(0,p.default)((0,l.default)(r),"toggleLinkModal",function(){var e=r.state.visible;r.setState({visible:!e})}),(0,p.default)((0,l.default)(r),"onChangeText",function(e){r.setState({link:e})}),(0,p.default)((0,l.default)(r),"onLinkSubmit",function(e){var t,s=r.state.link;s.length?(s.includes("http://")||s.includes("https://")||(s="https://"+s),(t=((0,x.matchBgmUrl)(s,!0)||[])[0])?((0,x.appNavigate)(t,e),r.setState({visible:!1,link:""}),(0,g.t)("发现.剪贴板",{link:s})):(0,x.info)("链接不符合格式")):(0,x.info)("请输入链接")}),(0,p.default)((0,l.default)(r),"toggleDragging",function(){var e=r.state.dragging;try{e||r.scrollToIndex({animated:!0,index:0,viewOffset:8e3})}catch(e){console.error("Discovery","toggleDragging",e)}r.setState({dragging:!e})}),(0,p.default)((0,l.default)(r),"toggleBlockTrain",function(){var e=r.state.showBlockTrain;r.setState({showBlockTrain:!e}),r.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(r),"saveDiscoveryMenu",function(e){j.systemStore.setSetting("discoveryMenu",e)}),(0,p.default)((0,l.default)(r),"onScroll",x.updateVisibleBottom.bind((0,l.default)(r))),r}t.default=c},"./src/screens/discovery/index/today/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTP_ROPS=void 0;t.DEFAULTP_ROPS={styles:{},todayBangumi:[]}},"./src/screens/discovery/index/today/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/index/today/today.tsx")),i=s("./src/screens/discovery/index/today/styles.ts"),a=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){t=t.$;return t.discoveryTodayOnair&&t.todayBangumi.length?(0,a.jsx)(o.default,{styles:(0,i.memoStyles)(),todayBangumi:t.todayBangumi}):null});t.default=r;try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/today/index.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/today/index.tsx#today"})}catch(e){}},"./src/screens/discovery/index/today/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.device(r._._wind,r._.md);return{contentContainerStyle:{paddingTop:r._.md+4,paddingRight:r._.windSm-r._._wind,paddingBottom:r._.sm,paddingLeft:r._.windSm},split:{marginRight:e-r._.sm,marginLeft:-r._.sm},line:{width:2,height:2,marginVertical:r._.xs,backgroundColor:r._.colorIcon,borderRadius:2,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/discovery/index/today/today.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/screens/discovery/index/ds.ts"),l=r(s("./src/screens/discovery/index/cover-today/index.tsx")),r=s("./src/screens/discovery/index/today/ds.ts"),c=s("./node_modules/react/jsx-runtime.js"),s=(0,a.memo)(function(e){var s=e.styles,e=e.todayBangumi;return(0,c.jsx)(o.HorizontalList,{contentContainerStyle:s.contentContainerStyle,data:e,initialRenderNums:d.INITIAL_RENDER_NUMS_XS,renderItem:function(e,t){return(0,c.jsxs)(c.Fragment,{children:[2===t&&(0,c.jsxs)(o.Flex,{style:s.split,direction:"column",justify:"center",children:[(0,c.jsx)(n.default,{style:s.line}),(0,c.jsx)(o.Text,{size:10,type:"sub",children:"now"}),(0,c.jsx)(n.default,{style:[s.line,{marginTop:i._.xs+2}]})]}),(0,c.jsx)(l.default,{data:e},e.id)]})}})},r.DEFAULTP_ROPS);t.default=s;try{today.displayName="today",today.__docgenInfo={description:"",displayName:"today",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:'{ contentContainerStyle: { paddingTop: number; paddingRight: number; paddingBottom: number; paddingLeft: number; }; split: { marginRight: number; marginLeft: number; }; line: { width: number; height: number; marginVertical: number; backgroundColor: "rgb(200, 200, 200)" | "rgba(255, 255, 255, 0.38)"; borderRadius: nu...'}},todayBangumi:{defaultValue:null,description:"",name:"todayBangumi",required:!0,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/index/today/today.tsx#today"]={docgenInfo:today.__docgenInfo,name:"today",path:"src/screens/discovery/index/today/today.tsx#today"})}catch(e){}},"./src/screens/discovery/manga/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/manga/index.ts"),r=(t.ADVANCE_LIMIT=120,[[],[],[]]),s=(s.MANGA_TAGS.forEach(function(e,t){(t%3==0?r[0]:t%3==1?r[1]:r[2]).push(e)}),[{title:"首字",type:"first",data:s.MANGA_FIRST},{title:"年份",type:"year",data:s.MANGA_YEAR,always:!0},{title:"状态",type:"status",data:s.MANGA_STATUS},{title:"类型",type:"tags",data:r,multiple:!0,multiSelect:!0},{title:"排序",type:"sort",data:s.MANGA_SORT,always:!0},{title:"收藏",type:"collected",data:s.MANGA_COLLECTED}]);t.filterDS=s},"./src/screens/discovery/manga/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),d=r(s("./src/screens/discovery/manga/list/index.tsx")),r=r(s("./src/screens/discovery/manga/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{title:"找漫画",alias:"Manga",hm:["manga","Manga"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{manga.displayName="manga",manga.__docgenInfo={description:"",displayName:"manga",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/index.tsx#manga"]={docgenInfo:manga.__docgenInfo,name:"manga",path:"src/screens/discovery/manga/index.tsx#manga"})}catch(e){}},"./src/screens/discovery/manga/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),u=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),m=s("./src/screens/_/index.ts"),p=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/manga/item-grid/styles.ts"),j=s("./node_modules/react/jsx-runtime.js"),_={id:"Manga.跳转"};s=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,y.memoStyles)(),s=p.otaStore.mangaSubjectId(s),o=(s=p.otaStore.manga(s)).id,i=s.mid,a=s.image,d=s.title,l=s.score,c=s.rank,s=s.publish;return o?(0,j.jsx)(m.ItemCollectionsGrid,{style:(p._.isPad||p._.isLandscape)&&!(r%e)&&n.left,navigation:t,event:_,num:e,id:o,mid:i,cover:a?"//lain.bgm.tv/pic/cover/m/"+a+".jpg":f.IMG_DEFAULT,name:d,score:l,rank:c,airtime:s,typeCn:"书籍",collection:p.collectionStore.collect(o)}):(r=p._.grid(e),(0,j.jsx)(u.Flex,{style:{width:r.width,height:f.IMG_HEIGHT_LG,marginBottom:r.marginLeft+p._.xs,marginLeft:r.marginLeft},justify:"center",children:(0,j.jsx)(u.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/manga/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/manga/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),x=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),g=s("./src/stores/index.ts"),b=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),h=s("./src/utils/fetch/index.ts"),v=s("./src/constants/index.ts"),S=s("./src/screens/discovery/manga/item/styles.ts"),O=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.navigation,t=(0,S.memoStyles)(),e=g.otaStore.mangaSubjectId(e),a=(e=g.otaStore.manga(e)).id,d=e.mid,l=e.author,c=e.title,u=e.cates,m=e.ep,p=e.image,f=e.score,y=e.rank,j=e.total,_=e.status,e=e.publish;return a?(s=20<=c.length?13:14<=c.length?14:15,r=p?"https://lain.bgm.tv/pic/cover/m/"+p+".jpg":v.IMG_DEFAULT,p=String(u).split(" "),u=[_,e,l,m].filter(function(e){return!!e}).join(" / "),n=g.collectionStore.collect(a),(0,O.jsxs)(x.Touchable,{style:t.container,animate:!0,onPress:function(){i.push("Subject",{subjectId:a,_cn:c,_image:r,_mid:d}),(0,h.t)("Manga.跳转",{subjectId:a})},children:[(0,O.jsxs)(x.Flex,{style:t.wrap,align:"start",children:[(0,O.jsx)(b.Cover,{src:r,width:v.IMG_WIDTH_LG,height:v.IMG_HEIGHT_LG,radius:!0,shadow:!0}),(0,O.jsxs)(x.Flex.Item,{style:g._.ml.wind,children:[(0,O.jsxs)(x.Flex,{align:"start",children:[(0,O.jsx)(x.Flex.Item,{children:(0,O.jsxs)(x.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,O.jsx)(x.Text,{size:s,bold:!0,numberOfLines:2,children:c}),(0,O.jsx)(x.Text,{size:11,lineHeight:14,children:u})]})}),(0,O.jsx)(b.Manage,{subjectId:a,collection:n,typeCn:"书籍",onPress:function(){g.uiStore.showManageModal({subjectId:a,title:c,status:v.MODEL_COLLECTION_STATUS.getValue(n),action:"读"},"找漫画")}})]}),(0,O.jsxs)(x.Flex,{style:t.bottom,children:[(0,O.jsx)(b.Rank,{value:y}),(0,O.jsx)(b.Stars,{style:g._.mr.xs,value:f,simple:!0}),!!j&&(0,O.jsxs)(x.Text,{style:g._.mr.sm,type:"sub",size:11,bold:!0,children:["(",j,")"]}),(0,O.jsx)(x.Flex.Item,{children:(0,O.jsx)(x.Flex,{children:p.map(function(e){return(0,O.jsx)(b.Tag,{style:g._.mr.sm,value:e},e)})})})]})]})]}),0===o&&(0,O.jsx)(x.Heatmap,{id:"Manga.跳转"})]})):(0,O.jsx)(x.Flex,{style:t.loading,justify:"center",children:(0,O.jsx)(x.Loading.Raw,{})})});t.default=s},"./src/screens/discovery/manga/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){var e=.58*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}});t.memoStyles=s},"./src/screens/discovery/manga/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=O,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=s("./src/constants/index.ts"),_=r(s("./src/screens/discovery/manga/item/index.tsx")),x=r(s("./src/screens/discovery/manga/item-grid/index.tsx")),g=s("./src/screens/discovery/manga/ds.ts"),b=s("./node_modules/react/jsx-runtime.js");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(S,r),v=h(S),(0,o.default)(S,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,b.jsx)(p.Filter,{filterDS:g.filterDS,name:"漫画",type:"Manga",lastUpdate:j.TEXT_UPDATE_MANGA.slice(0,7),information:"数据最后快照于 "+j.TEXT_UPDATE_MANGA+"，在版本更新前数据不会有任何变化，漫画因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，而是作者从互联网上花了很大功夫，经过筛选优化后，与 bgm.tv 相应条目对应的数据。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选、最后更新章节和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+g.ADVANCE_LIMIT+" 条数据的限制。\n        \n本页面只要存在的条目，均有其对应的源头。整理不易若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,b.jsx)(p.PaginationList2,{keyExtractor:O,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onMangaPage},""+r+s)):(0,b.jsxs)(b.Fragment,{children:[this.renderFilter(),(0,b.jsx)(m.Loading,{})]})}}]);var v,s=S;function S(){var s;(0,n.default)(this,S);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=v.call.apply(v,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,b.jsx)(_.default,{pickIndex:t,index:e}):(0,b.jsx)(x.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function O(e){return String(e)}t.default=u;try{O.displayName="keyExtractor",O.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#keyExtractor"]={docgenInfo:O.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/manga/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/manga/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/manga/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/manga/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),n=n(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/manga/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/manga/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var v,S="ScreenManga",O=!1,c=(s=n.default,(0,c.default)(T,s),v=h(T),(0,o.default)(T,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.mangaSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<b.ADVANCE_LIMIT})}}]),(0,f.default)((n=T).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"cnFirst"),n.prototype),(0,f.default)(n.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"isList"),n.prototype),(0,f.default)(n.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"total"),n.prototype),(0,f.default)(n.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"list"),n.prototype),n);function T(){var o;(0,d.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=v.call.apply(v,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)({query:{first:"",year:2022,begin:"",status:"",tags:[],hd:"",sort:"评分人数",collected:""},data:g.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,p.default)((0,l.default)(o),"init",(0,a.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(S);case 2:if(t=e.sent,o.setState(Object.assign({},t,{_loaded:O})),O){e.next=7;break}return e.next=7,(0,_.init)();case 7:O=!0,t=o.params._tags,(s=void 0===t?[]:t).length&&o.initQuery(s),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),o.search(),setTimeout(function(){o.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(t){setTimeout(function(){var e=o.state.query,e=(0,_.search)(t||e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(S),(0,x.t)("Manga.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("Manga.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("Manga.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(S)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(S)}),o}t.default=c},"./src/screens/discovery/rank/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DEFAULT_TYPE=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenRank",s.MODEL_SUBJECT_TYPE.getLabel("动画")),r=(t.DEFAULT_TYPE=n,{visibleBottom:r._.window.height,show:!0,ota:{}}),n=(t.EXCLUDE_STATE=r,Object.assign({page:0,currentPage:{all:1,anime:1,book:1,game:1,music:1,real:1},ipt:{all:"1",anime:"1",book:"1",game:"1",music:"1",real:"1"},type:n,filter:"",airtime:"",month:"",list:!0,fixed:s.STORYBOOK,fixedPagination:s.STORYBOOK,collected:!0},r,{_loaded:!1}));t.STATE=n},"./src/screens/discovery/rank/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"排行榜",hm:[s.url,"Rank"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("排行榜.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"排行榜.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/rank/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/rank/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/rank/header/index.tsx")),d=r(s("./src/screens/discovery/rank/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/rank/list/index.tsx")),c=r(s("./src/screens/discovery/rank/pagination/index.tsx")),r=r(s("./src/screens/discovery/rank/store.ts")),u=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var r=t.$;return(0,i.useRunAfter)(function(){r.init()}),(0,i.useObserver)(function(){var e=r.state,t=e._loaded,s=e.fixed,e=e.fixedPagination;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.default,{}),(0,u.jsxs)(n.Page,{children:[s&&(0,u.jsx)(d.default,{}),t&&(0,u.jsx)(l.default,{}),e&&(0,u.jsx)(c.default,{})]})]})})});t.default=s;try{rank.displayName="rank",rank.__docgenInfo={description:"",displayName:"rank",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/index.tsx#rank"]={docgenInfo:rank.__docgenInfo,name:"rank",path:"src/screens/discovery/rank/index.tsx#rank"})}catch(e){}},"./src/screens/discovery/rank/list/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_GRID=void 0;t.EVENT_GRID={id:"排行榜.跳转",data:{type:"grid"}}},"./src/screens/discovery/rank/list/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/rank/list/grid/styles.ts"),j=s("./src/screens/discovery/rank/list/grid/ds.ts"),_=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var n=t.$,o=t.navigation,i=(0,y.memoStyles)(),a=(t=n.state).type,d=t.airtime,t=n.list.list,s=n.rank._filter,l=m._.portrait(3,5);return(0,_.jsxs)(c.Flex,{style:i.grid,wrap:"wrap",align:"start",children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=m.collectionStore.collect(s);return(0,_.jsx)(u.ItemCollectionsGrid,Object.assign({navigation:o,style:!(t%l)&&i.left,num:l,event:j.EVENT_GRID,airtime:""===d&&(0,p.matchYear)(e.tip)},e,{id:s,cover:e.cover||n.cover(e.id),typeCn:f.MODEL_SUBJECT_TYPE.getTitle(a),collection:r,isCollect:e.collected,isRectangle:"音乐"===f.MODEL_SUBJECT_TYPE.getTitle(a)}),e.id)}):(0,_.jsx)(c.Empty,{}),!!s&&(0,_.jsx)(u.FilterText,{value:s})]})});t.default=s;try{grid.displayName="grid",grid.__docgenInfo={description:"",displayName:"grid",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/grid/index.tsx#grid"]={docgenInfo:grid.__docgenInfo,name:"grid",path:"src/screens/discovery/rank/list/grid/index.tsx#grid"})}catch(e){}},"./src/screens/discovery/rank/list/grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{grid:{paddingHorizontal:r._.wind,paddingVertical:r._.md},left:{marginLeft:0}}});t.memoStyles=s},"./src/screens/discovery/rank/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/rank/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/rank/pagination/index.tsx")),c=r(s("./src/screens/discovery/rank/list/list/index.tsx")),u=r(s("./src/screens/discovery/rank/list/grid/index.tsx")),m=s("./src/screens/discovery/rank/list/styles.ts"),p=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var t=t.$,s=(o=t.state).show,r=o.list,n=o.fixed,o=o.fixedPagination,i=t.list._loaded;return s&&i?(0,p.jsxs)(a.ScrollView,{contentContainerStyle:m.styles.scrollView,scrollToTop:!0,scrollEventThrottle:16,onScroll:t.onScroll,children:[!n&&(0,p.jsx)(d.default,{}),r?(0,p.jsx)(c.default,{}):(0,p.jsx)(u.default,{}),!o&&(0,p.jsx)(l.default,{})]}):(0,p.jsxs)(a.Flex.Item,{children:[!n&&(0,p.jsx)(d.default,{}),(0,p.jsx)(a.Loading,{})]})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/rank/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/rank/list/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_LIST=void 0;t.EVENT_LIST={id:"排行榜.跳转",data:{type:"list"}}},"./src/screens/discovery/rank/list/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/constants/index.ts"),r=s("./src/utils/decorators/index.ts"),u=s("./src/screens/discovery/rank/list/list/ds.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var n=t.$,o=t.navigation,i=n.state.type,t=n.list.list,s=n.rank._filter;return(0,m.jsxs)(m.Fragment,{children:[t.length?t.map(function(e,t){var s=String(e.id).replace("/subject/",""),r=c.MODEL_SUBJECT_TYPE.getTitle(i),s=l.collectionStore.collect(s,r);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.ItemSearch,Object.assign({style:l._.container.item,navigation:o,index:t,collection:s,typeCn:r,event:u.EVENT_LIST},e,{cover:e.cover||n.cover(e.id)}),e.id),1===t&&(0,m.jsx)(a.Heatmap,{id:"排行榜.跳转"})]})}):(0,m.jsx)(a.Empty,{}),!!s&&(0,m.jsx)(d.FilterText,{value:s})]})});t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/list/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/rank/list/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/rank/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({scrollView:{paddingBottom:s._.md}});t.styles=s},"./src/screens/discovery/rank/pagination/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HEATMAPS=void 0;t.HEATMAPS={prev:"排行榜.上一页",next:"排行榜.下一页",search:"排行榜.页码跳转"}},"./src/screens/discovery/rank/pagination/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/rank/pagination/ds.ts"),i=s("./src/screens/discovery/rank/pagination/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).type,r=r.ipt;return(0,a.jsx)(n.Pagination,{style:i.styles.pagination,input:r[s],heatmaps:o.HEATMAPS,onPrev:t.onPrev,onNext:t.onNext,onChange:t.onChange,onSearch:t.doSearch})});t.default=s;try{pagination.displayName="pagination",pagination.__docgenInfo={description:"",displayName:"pagination",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/pagination/index.tsx#pagination"]={docgenInfo:pagination.__docgenInfo,name:"pagination",path:"src/screens/discovery/rank/pagination/index.tsx#pagination"})}catch(e){}},"./src/screens/discovery/rank/pagination/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),s=r._.create({pagination:{marginTop:r._.xs,marginBottom:s.STORYBOOK?0:r._.ios(r._.md+r._.sm,r._.md)}});t.styles=s},"./src/screens/discovery/rank/store.ts":(e,t,s)=>{var d=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/utils/kv/index.ts"),b=s("./src/constants/index.ts"),h=s("./src/screens/discovery/rank/ds.ts"),v=["collected"];function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T=[],c=(s=r.default,(0,c.default)(I,s),O=S(I),(0,a.default)(I,[{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"rank",get:function(){var t,e=this.state,s=e.type,r=e.filter,n=e.airtime,o=e.month,e=e.currentPage,e=j.tagStore.rank(s,e[s],r,o?n+"-"+o:n);return j.userStore.isLimit?(t=0,Object.assign({},e,{list:e.list.filter(function(e){e=(0,_.x18)(e.id);return e&&(t+=1),!e}),_filter:t})):e}},{key:"list",get:function(){return this.rank._loaded?this.state.collected?this.rank:Object.assign({},this.rank,{list:this.rank.list.filter(function(e){return!e.collected})}):this.ota||b.LIST_EMPTY}},{key:"url",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,e=e.airtime;return(0,b.HTML_RANK)(s,"rank",t[s],r,e)}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}},{key:"thirdPartyKey",get:function(){var e=this.state,t=e.currentPage,s=e.type,r=e.filter,n=e.airtime,e=e.month;return"rank_"+[s,r,e?n+"-"+e:n,t[s]].join("_")}},{key:"cover",value:function(t){var e;return this.ota&&(null==(e=this.ota.list.find(function(e){return e.id===t}))?void 0:e.cover)||""}}]),(0,f.default)((r=I).prototype,"ota",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),(0,f.default)(r.prototype,"rank",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"rank"),r.prototype),(0,f.default)(r.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),(0,f.default)(r.prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,f.default)(r.prototype,"thirdPartyKey",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),r);function I(){var a;(0,i.default)(this,I);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return a=O.call.apply(O,[this].concat(t)),(0,p.default)((0,l.default)(a),"state",(0,y.observable)(h.STATE)),(0,p.default)((0,l.default)(a),"init",(0,o.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getStorage(h.NAMESPACE);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,a.setState(Object.assign({},t,h.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",a.fetchRank());case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchRank",(0,o.default)(d.mark(function e(){var t,s,r,n,o,i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.fetchThirdParty(),i=a.state,t=i.currentPage,s=i.type,o=i.filter,r=i.airtime,i=i.month,e.next=4,j.tagStore.fetchRank({type:s,filter:o,airtime:i?r+"-"+i:r,page:t[s]});case 4:return(n=e.sent).list.length&&a.thirdPartyKey in a.state.ota&&(i=(null==(o=a.ota)?void 0:o.ts)||0,604800<=(0,_.getTimestamp)()-i)&&a.updateThirdParty(),setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(n.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"fetchThirdParty",(0,o.default)(d.mark(function e(){var t;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ota||a.rank._loaded){e.next=8;break}return e.next=3,(0,g.get)(a.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return a.setState({ota:(0,p.default)({},a.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:a.setState({ota:(0,p.default)({},a.thirdPartyKey,Object.assign({},t,{_loaded:(0,_.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"updateThirdParty",(0,o.default)(d.mark(function e(){return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.includes(a.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,g.update)(a.thirdPartyKey,{list:a.rank.list.map(function(e){e.collected;return(0,n.default)(e,v)})}),T.push(a.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(a),"resetScrollView",function(){a.setState({show:!1}),setTimeout(function(){a.setState({show:!0}),a.setStorage(h.NAMESPACE)},40)}),(0,p.default)((0,l.default)(a),"onTypeSelect",function(e){(0,x.t)("排行榜.类型选择",{type:e}),a.setState({type:b.MODEL_SUBJECT_TYPE.getLabel(e),filter:""}),a.resetScrollView(),a.fetchRank()}),(0,p.default)((0,l.default)(a),"onFilterSelect",function(e,t){(0,x.t)("排行榜.筛选选择",{filter:e}),a.setState({filter:"全部"===e?"":t.getValue(e)}),a.resetScrollView(),a.fetchRank()}),(0,p.default)((0,l.default)(a),"onAirdateSelect",function(e){(0,x.t)("排行榜.年选择",{airtime:e});var t=a.state,s=t.type,r=t.currentPage,t=t.ipt;a.setState({airtime:"全部"===e?"":e,month:"",currentPage:Object.assign({},r,(0,p.default)({},s,1)),ipt:Object.assign({},t,(0,p.default)({},s,"1"))}),a.resetScrollView(),a.fetchRank()}),(0,p.default)((0,l.default)(a),"onMonthSelect",function(e){var t=a.state,s=t.airtime,r=t.type,n=t.currentPage,t=t.ipt;""===s?(0,_.info)("请先选择年"):((0,x.t)("排行榜.月选择",{month:e}),a.setState({month:"全部"===e?"":e,currentPage:Object.assign({},n,(0,p.default)({},r,1)),ipt:Object.assign({},t,(0,p.default)({},r,"1"))}),a.resetScrollView(),a.fetchRank())}),(0,p.default)((0,l.default)(a),"onToggleList",function(){var e=a.state.list;(0,x.t)("排行榜.切换布局",{list:!e}),a.setState({list:!e}),a.resetScrollView()}),(0,p.default)((0,l.default)(a),"onToggleToolbar",function(e){a.setState((0,p.default)({},e,!a.state[e])),a.setStorage(h.NAMESPACE)}),(0,p.default)((0,l.default)(a),"onPrev",function(){var e=a.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];1!==t[s]&&((0,x.t)("排行榜.上一页",{type:s,page:r-1}),a.setState({currentPage:Object.assign({},t,(0,p.default)({},s,r-1)),ipt:Object.assign({},e,(0,p.default)({},s,String(r-1)))}),a.resetScrollView(),a.fetchRank())}),(0,p.default)((0,l.default)(a),"onNext",function(){var e=a.state,t=e.currentPage,s=e.type,e=e.ipt,r=t[s];(0,x.t)("排行榜.下一页",{type:s,page:r+1}),a.setState({currentPage:Object.assign({},t,(0,p.default)({},s,r+1)),ipt:Object.assign({},e,(0,p.default)({},s,String(r+1)))}),a.resetScrollView(),a.fetchRank()}),(0,p.default)((0,l.default)(a),"onChange",function(e){var e=e.nativeEvent.text,t=a.state,s=t.type,t=t.ipt;a.setState({ipt:Object.assign({},t,(0,p.default)({},s,e))})}),(0,p.default)((0,l.default)(a),"doSearch",function(){var e=a.state,t=e.type,s=e.currentPage,e=e.ipt,r=""===e[t]?1:parseInt(e[t]);r<1?(0,_.info)("请输入正确页码"):((0,x.t)("排行榜.页码跳转",{type:t,page:r}),a.setState({currentPage:Object.assign({},s,(0,p.default)({},t,r)),ipt:Object.assign({},e,(0,p.default)({},t,String(r)))}),a.resetScrollView(),a.fetchRank())}),(0,p.default)((0,l.default)(a),"onScroll",_.updateVisibleBottom.bind((0,l.default)(a))),a}t.default=c},"./src/screens/discovery/rank/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r=t.$,n=(t=r.state).type,t=t.filter;switch(n=a.MODEL_SUBJECT_TYPE.getTitle(n)){case"书籍":s=a.MODEL_RANK_BOOK_FILTER;break;case"游戏":s=a.MODEL_RANK_GAME_FILTER;break;case"三次元":s=a.MODEL_RANK_REAL_FILTER;break;default:s=a.MODEL_RANK_ANIME_FILTER}var o=s.getLabel(t);return"音乐"!==n&&(0,d.jsx)(i.ToolBar.Popover,{data:s.data.map(function(e){return e.label}),text:"全部"===o?"类型":o,type:""===t?void 0:"desc",heatmap:"排行榜.筛选选择",onSelect:function(e){return r.onFilterSelect(e,s)}})});t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/rank/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/rank/tool-bar/type.tsx")),a=r(s("./src/screens/discovery/rank/tool-bar/year.tsx")),d=r(s("./src/screens/discovery/rank/tool-bar/month.tsx")),l=r(s("./src/screens/discovery/rank/tool-bar/filter.tsx")),c=r(s("./src/screens/discovery/rank/tool-bar/more.tsx")),u=s("./node_modules/react/jsx-runtime.js");r=(0,o.ob)(function(){return(0,u.jsxs)(n.ToolBar,{children:[(0,u.jsx)(i.default,{}),(0,u.jsx)(a.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})});t.default=r},"./src/screens/discovery/rank/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.month;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_MONTH,text:s?s+"月":"月",type:""===s?void 0:"desc",heatmap:"排行榜.月选择",onSelect:t.onMonthSelect})});t.default=s;try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/rank/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=(t=s.state).list,n=t.fixed,o=t.fixedPagination,t=t.collected;return(0,d.jsx)(i.ToolBar.Popover,{data:["布局（"+(r?"列表":"网格")+"）","筛选（"+(n?"固定":"浮动")+"）","分页（"+(o?"固定":"浮动")+"）","收藏（"+(t?"显示":"隐藏")+"）"],icon:"md-more-vert",iconColor:a._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){return e.includes("布局")?s.onToggleList():e.includes("筛选")?s.onToggleToolbar("fixed"):e.includes("分页")?s.onToggleToolbar("fixedPagination"):e.includes("收藏")?s.onToggleToolbar("collected"):void 0}})});t.default=s;try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/rank/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/type.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.type,s=i.MODEL_SUBJECT_TYPE.getTitle(s);return(0,a.jsx)(n.ToolBar.Popover,{data:i.SUBJECT_TYPE.map(function(e){return e.title}),icon:"md-filter-list",iconColor:o._.colorDesc,text:s,type:"desc",heatmap:"排行榜.类型选择",onSelect:t.onTypeSelect})});t.default=s;try{type.displayName="type",type.__docgenInfo={description:"",displayName:"type",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/type.tsx#type"]={docgenInfo:type.__docgenInfo,name:"type",path:"src/screens/discovery/rank/tool-bar/type.tsx#type"})}catch(e){}},"./src/screens/discovery/rank/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_AIRTIME,text:s||"年",type:""===s?void 0:"desc",heatmap:"排行榜.年选择",onSelect:t.onAirdateSelect})});t.default=s;try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/rank/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/rank/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/recommend/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/stores/index.ts"),t.NAMESPACE="ScreenRecommend",s={visibleBottom:s._.window.height,focus:!1,searching:!1},t.EXCLUDE_STATE=s,s=Object.assign({},s,{value:"",data:{top:[],pop:[],tv:[],old_tv:[],movie:[],old_movie:[],nsfw:[],_loaded:0},subjects:{},_loaded:!1});t.STATE=s},"./src/screens/discovery/recommend/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/screens/_/index.ts"),a=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),c=s("./src/constants/index.ts"),u=r(s("./src/screens/discovery/recommend/search-bar/index.tsx")),m=r(s("./src/screens/discovery/recommend/list/index.tsx")),r=r(s("./src/screens/discovery/recommend/store.ts")),p=s("./src/screens/discovery/recommend/styles.ts"),f=s("./node_modules/react/jsx-runtime.js"),s=(0,d.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,l.useRunAfter)(function(){s.init()}),(0,l.useObserver)(function(){var e=(0,p.memoStyles)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Header,{title:"番剧推荐",hm:["recommend","Recommend"]}),(0,f.jsxs)(o.Page,{children:[(0,f.jsxs)(o.Flex,{style:e.searchBar,children:[(0,f.jsx)(o.Flex.Item,{children:(0,f.jsx)(u.default,{})}),(0,f.jsx)(n.default,{style:a._.ml.sm,children:(0,f.jsx)(o.Button,{style:e.btn,type:"ghostPlain",size:"sm",onPress:s.doSearch,children:"查询"})})]}),(0,f.jsx)(m.default,{})]}),c.STORYBOOK&&(0,f.jsx)(n.default,{style:e.home,children:(0,f.jsx)(i.IconTouchable,{name:"home",size:17,color:a._.colorSub,onPress:function(){return r.push("Discovery")}})})]})})});t.default=s;try{recommend.displayName="recommend",recommend.__docgenInfo={description:"",displayName:"recommend",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/index.tsx#recommend"]={docgenInfo:recommend.__docgenInfo,name:"recommend",path:"src/screens/discovery/recommend/index.tsx#recommend"})}catch(e){}},"./src/screens/discovery/recommend/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SORT=void 0;t.SORT=[{key:"top",title:"最受好评",desc:"分数超过 8分, 看过人数超过 10000 的作品"},{key:"pop",title:"近年流行",desc:"近年来的流行作品，收藏数的排名在前 20%"},{key:"tv",title:"TV",desc:"通常的 tv 动画"},{key:"old_tv",title:"老 TV",desc:"06 年及以前的老动画"},{key:"movie",title:"剧场版",desc:"动画电影 / 剧场版"},{key:"old_movie",title:"老剧场版",desc:"06 年及以前动画电影 / 剧场版"},{key:"nsfw",title:"NSFW",desc:"绝大多数是里番"}]},"./src/screens/discovery/recommend/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),l=s("./src/stores/index.ts"),c=s("./src/screens/discovery/recommend/list/styles.ts"),u=s("./src/screens/discovery/recommend/list/ds.ts"),m=s("./src/utils/index.ts"),p=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var n=t.$,o=t.navigation,s=(t=n.state).searching,r=t.data;return s?(0,p.jsx)(a.Loading,{style:l._.container.flex}):(0,p.jsx)(a.ScrollView,{contentContainerStyle:l._.container.bottom,keyboardDismissMode:"on-drag",children:u.SORT.slice().sort(function(e,t){return(0,m.desc)(!(null==(e=r[e.key])||!e.length),!(null==(e=r[t.key])||!e.length))}).map(function(e){return(0,p.jsxs)(i.default,{style:l._.mv.md,children:[(0,p.jsx)(a.Text,{style:l._.ml.md,size:20,bold:!0,children:e.title}),(0,p.jsx)(i.default,{style:c.styles.list,children:r[e.key].map(function(e,t){var s=n.subject(e),r=n.subjectOSS(e);return s.jp||r.name||s.cn||r.name_cn?(0,p.jsx)(d.ItemSearch,{style:l._.container.item,navigation:o,index:t,id:"/subject/"+e,typeCn:"动画",name:s.jp||r.name,nameCn:s.cn||r.name_cn,cover:s.image||r.image,rank:s.rank||r.rank,score:s.rating.score||(null==(t=r.rating)?void 0:t.score),total:"("+(s.rating.total||(null==(t=r.rating)?void 0:t.total)||0)+")",tip:[s.eps||r.totalEps?(s.eps||r.totalEps)+"话":"",s.date||r.date,r.origin,r.director].filter(function(e){return!!e}).join(" / ")},String(e)):(0,p.jsx)(a.Flex,{style:c.styles.loading,justify:"center",children:(0,p.jsx)(a.Loading.Raw,{})},String(e))})})]},e.key)})})});t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/recommend/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/recommend/list/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),r=r._.create({list:{minHeight:80},loading:{height:s.IMG_HEIGHT_LG}});t.styles=r},"./src/screens/discovery/recommend/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/recommend/search-bar/styles.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(0,o.memoStyles)(),r=t.state.value;return(0,i.jsx)(n.Input,{style:s.searchIpt,value:r,returnKeyType:"search",returnKeyLabel:"查询",placeholder:"输入用户 ID",autoFocus:!0,onChange:t.onChange,onSubmitEditing:t.doSearch})});t.default=s;try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/recommend/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/recommend/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/recommend/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{searchIpt:Object.assign({height:40,paddingRight:20,paddingLeft:20},r._.fontSize12,{backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:34})}});t.memoStyles=s},"./src/screens/discovery/recommend/store.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.entries.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),l=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),y=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),j=s("./node_modules/mobx/dist/mobx.esm.js"),_=s("./src/stores/index.ts"),x=s("./src/utils/index.ts"),g=r(s("./src/utils/thirdParty/axios.js")),r=r(s("./src/utils/store/index.ts")),b=s("./src/utils/kv/index.ts"),h=s("./src/constants/index.ts"),v=s("./src/screens/discovery/recommend/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(s);return e=r?(e=(0,p.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,m.default)(this,e)}}s=r.default,(0,u.default)(T,s),O=S(T),(0,i.default)(T,[{key:"ids",get:function(){var t=[],s=this.state.data;return["top","pop","tv","old_tv","movie","old_movie","nsfw"].forEach(function(e){s[e].forEach(function(e){t.push(e)})}),t}},{key:"subject",value:function(e){return(0,j.computed)(function(){return _.subjectStore.subjectV2(e)}).get()}},{key:"subjectOSS",value:function(e){var t=this;return(0,j.computed)(function(){return t.state.subjects["subject_"+e]||{}}).get()}}]),(0,y.default)((r=T).prototype,"ids",[j.computed],Object.getOwnPropertyDescriptor(r.prototype,"ids"),r.prototype);var O,u=r;function T(){var i;(0,o.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=O.call.apply(O,[this].concat(t)),(0,f.default)((0,c.default)(i),"state",(0,j.observable)(v.STATE)),(0,f.default)((0,c.default)(i),"init",(0,n.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(v.NAMESPACE);case 2:if(t=e.sent,i.setState(Object.assign({},t,v.EXCLUDE_STATE,{_loaded:!0})),h.STORYBOOK){e.next=7;break}return e.next=7,i.fetchSubjects();case 7:i.fetchSubjectsFromOSS();case 8:case"end":return e.stop()}},e)}))),(0,f.default)((0,c.default)(i),"fetchSubjects",(0,n.default)(a.mark(function e(){var t,s,r;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.default)(i.ids)).length){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,_.subjectStore.initSubjectV2(t);case 5:if(s=(0,x.getTimestamp)(),r=[],t.forEach(function(e){var t=_.subjectStore.subjectV2(e)._loaded;(!t||3600<=s-Number(t))&&r.push(function(){return console.info("fetchSubjects",e),_.subjectStore.fetchSubjectV2(e)})}),r.length){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",(0,x.queue)(r));case 11:case"end":return e.stop()}},e)}))),(0,f.default)((0,c.default)(i),"fetchSubjectsFromOSS",(0,n.default)(a.mark(function e(){var t,s,r,n,o;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,l.default)(i.ids)).length){e.next=3;break}return e.abrupt("return",!0);case 3:if(s=i.state.subjects,r=(0,x.getTimestamp)(),n=[],t.forEach(function(e){var t;i.subject(e).id||(!(t=(s[e]||{})._loaded)||3600<=r-Number(t))&&(!(t=i.subjectOSS(e)._loaded)||3600<=r-Number(t))&&n.push("subject_"+e)}),n.length){e.next=9;break}return e.abrupt("return",!0);case 9:return e.prev=9,console.info("fetchSubjectsFromOSS",n),e.next=13,(0,b.gets)(n);case 13:o=e.sent,Object.entries(o).forEach(function(e){var t,s,r,e=(0,d.default)(e,2),n=e[0],e=e[1];try{o[n]=(0,x.pick)(e,["name","name_cn","image","rank","rating","totalEps","info","staff"]),o[n].info&&(o[n].date=(null==(t=o[n].info.match(/<li><span>(发售日|放送开始|上映年度|上映时间): <\/span>(.+?)<\/li>/))?void 0:t[2])||"",delete o[n].info),Array.isArray(o[n].staff)&&(s=o[n].staff.find(function(e){return"原作"===e.desc}),o[n].origin=(null==s?void 0:s.name)||(null==s?void 0:s.nameJP)||"",r=o[n].staff.find(function(e){return"导演"===e.desc}),o[n].director=(null==r?void 0:r.name)||(null==r?void 0:r.nameJP)||""),o[n]._loaded=(0,x.getTimestamp)()}catch(e){}}),i.setState({subjects:o}),i.setStorage(v.NAMESPACE),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])}))),(0,f.default)((0,c.default)(i),"onChange",function(e){e=e.nativeEvent.text;i.setState({value:e})}),(0,f.default)((0,c.default)(i),"doSearch",(0,n.default)(a.mark(function e(){var t,s;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=i.state.value){e.next=4;break}return e.abrupt("return");case 4:return i.setState({searching:!0}),e.next=7,(0,g.default)({method:"get",url:"http://101.43.236.40/api/rec/"+t.trim()});case 7:if(s=e.sent,!("tv"in(s=s.data))){e.next=21;break}if(s.old_tv=s.old_tv||s["old tv"],delete s["old tv"],s.old_movie=s.old_movie||s["old movie"],delete s["old movie"],i.setState({data:s}),h.STORYBOOK){e.next=18;break}return e.next=18,i.fetchSubjects();case 18:return e.next=20,i.fetchSubjectsFromOSS();case 20:i.setStorage(v.NAMESPACE);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:i.setState({searching:!1});case 27:case"end":return e.stop()}},e,null,[[0,23]])}))),i}t.default=u},"./src/screens/discovery/recommend/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{searchBar:{paddingBottom:r._.md,paddingHorizontal:r._.wind},btn:{width:68,height:40,borderRadius:40},home:{position:"fixed",zIndex:1001,top:9,right:10}}});t.memoStyles=s},"./src/screens/discovery/search/advance/index.tsx":(e,t,d)=>{d("./node_modules/core-js/modules/es.object.define-property.js"),d("./node_modules/core-js/modules/es.weak-map.js"),d("./node_modules/core-js/modules/es.object.to-string.js"),d("./node_modules/core-js/modules/es.string.iterator.js"),d("./node_modules/core-js/modules/es.array.iterator.js"),d("./node_modules/core-js/modules/web.dom-collections.iterator.js"),d("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),d("./node_modules/core-js/modules/es.map.js"),d("./node_modules/core-js/modules/es.string.trim.js"),d("./node_modules/core-js/modules/es.object.keys.js"),d("./node_modules/core-js/modules/es.array.for-each.js"),d("./node_modules/core-js/modules/web.dom-collections.for-each.js"),d("./node_modules/core-js/modules/es.object.assign.js"),d("./node_modules/core-js/modules/es.array.sort.js"),d("./node_modules/core-js/modules/es.array.includes.js"),d("./node_modules/core-js/modules/es.string.includes.js"),d("./node_modules/core-js/modules/es.array.map.js"),d("./node_modules/core-js/modules/es.string.search.js"),d("./node_modules/core-js/modules/es.regexp.exec.js");var s=d("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s(d("./node_modules/@babel/runtime/helpers/slicedToArray.js"))),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var s,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in e){var o;"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&((o=n?Object.getOwnPropertyDescriptor(e,s):null)&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s])}r.default=e,t&&t.set(e,r);return r}(d("./node_modules/react/index.js")),u=s(d("./node_modules/react-native-web/dist/exports/View/index.js")),m=d("./src/components/index.ts"),p=d("./src/utils/index.ts"),f=d("./src/utils/hooks/index.ts"),y=d("./src/utils/fetch/index.ts"),j=d("./src/screens/discovery/search/advance/styles.ts"),_=d("./node_modules/react/jsx-runtime.js");function i(e){var t,s;return"function"!=typeof WeakMap?null:(t=new WeakMap,s=new WeakMap,(i=function(e){return e?s:t})(e))}var x=new Map,g={},b={},h={};function r(e){var s=e.navigation,n=e.cat,o=e.value,r=e.onSubmit,e=(0,c.useState)([]),e=(0,l.default)(e,2),t=e[0],i=e[1],a=(0,c.useRef)({});return(0,c.useEffect)(function(){try{var t,e,s,r=(0,p.t2s)(o.toLocaleUpperCase()).trim();r?(o&&"subject_1"===n&&!Object.keys(b).length?b=d("./src/assets/json/substrings/book.json"):o&&"subject_4"===n&&!Object.keys(h).length?h=d("./src/assets/json/substrings/game.json"):o&&!Object.keys(g).length&&(t={},d("./src/assets/json/thirdParty/bangumiData.min.json").forEach(function(e){t[e.c]=e.id}),g=Object.assign({},t,d("./src/assets/json/substrings/anime.json"),d("./src/assets/json/substrings/alias.json"))),x.has(r)?i(x.get(r)):(e=[],o&&"subject_1"===n?(e=Object.keys(b).sort(function(e,t){return(0,p.asc)(e.length,t.length)}),a.current=b):o&&"subject_4"===n?(e=Object.keys(h).sort(function(e,t){return(0,p.asc)(e.length,t.length)}),a.current=h):o&&(e=Object.keys(g).sort(function(e,t){return(0,p.asc)(e.length,t.length)}),a.current=g),s=[],e.forEach(function(e){8<=s.length||e.toLocaleUpperCase().includes(r)&&s.push(e)}),i(s),x.set(r,s))):i([])}catch(e){}},[n,o]),(0,f.useObserver)(function(){var e=(0,j.memoStyles)();return(0,_.jsx)(u.default,{children:t.map(function(t){return(0,_.jsx)(u.default,{style:e.item,children:(0,_.jsxs)(m.Flex,{style:e.content,children:[(0,_.jsx)(m.Flex.Item,{children:(0,_.jsx)(m.Touchable,{onPress:function(){r(t),(0,y.t)("搜索.模糊查询点击",{text:(0,p.t2s)(o.toLocaleUpperCase()).trim()})},children:(0,_.jsx)(m.Highlight,{size:12<=t.length?13:15,bold:!0,value:o,numberOfLines:2,children:t})})}),(0,_.jsx)(m.Touchable,{style:e.search,onPress:function(){return r(t)},children:(0,_.jsx)(m.Iconfont,{name:"md-search"})}),(0,_.jsx)(m.Touchable,{style:e.open,onPress:function(){var e=a.current[t];s.push("Subject",{subjectId:e}),(0,y.t)("搜索.模糊查询跳转",{subjectId:e})},children:(0,_.jsx)(m.Iconfont,{name:"md-open-in-new",size:19})})]})},t)})})})}t.default=r;try{r.displayName="Advance",r.__docgenInfo={description:"",displayName:"Advance",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}},cat:{defaultValue:null,description:"",name:"cat",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/advance/index.tsx#Advance"]={docgenInfo:r.__docgenInfo,name:"Advance",path:"src/screens/discovery/search/advance/index.tsx#Advance"})}catch(e){}},"./src/screens/discovery/search/advance/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},content:{paddingVertical:r._.sm},search:{padding:r._.sm,borderRadius:20,overflow:"hidden"},open:{padding:r._.sm,marginRight:-r._.sm,marginLeft:r._.sm,borderRadius:20,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/discovery/search/btn-submit/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/search/btn-submit/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,d.jsxs)(n.default,{style:i._.ml.sm,children:[(0,d.jsx)(o.Button,{style:a.styles.btn,type:"ghostPlain",size:"sm",onPress:function(){return s.onSubmit(r)},children:s.isUser?"前往":"查询"}),(0,d.jsx)(o.Heatmap,{id:"搜索.搜索"})]})});t.default=s;try{btnsubmit.displayName="btnsubmit",btnsubmit.__docgenInfo={description:"",displayName:"btnsubmit",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/btn-submit/index.tsx#btnsubmit"]={docgenInfo:btnsubmit.__docgenInfo,name:"btnsubmit",path:"src/screens/discovery/search/btn-submit/index.tsx#btnsubmit"})}catch(e){}},"./src/screens/discovery/search/btn-submit/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({btn:{width:s._.r(68),height:40,borderRadius:40,overflow:"hidden"}});t.styles=s},"./src/screens/discovery/search/category/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./src/screens/discovery/search/category/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.cat;return(0,d.jsxs)(o.Popover,{style:a.styles.touch,data:i.SEARCH_CAT.map(function(e){return e.label}),onSelect:t.onSelect,children:[(0,d.jsx)(n.Button,{style:a.styles.btn,styleText:a.styles.text,size:"sm",type:"ghostMain",children:i.MODEL_SEARCH_CAT.getLabel(s)}),(0,d.jsx)(n.Heatmap,{id:"搜索.切换类型"})]})});t.default=s;try{category.displayName="category",category.__docgenInfo={description:"",displayName:"category",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/category/index.tsx#category"]={docgenInfo:category.__docgenInfo,name:"category",path:"src/screens/discovery/search/category/index.tsx#category"})}catch(e){}},"./src/screens/discovery/search/category/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({touch:{borderTopLeftRadius:40,borderBottomLeftRadius:40,overflow:"hidden"},btn:{width:s._.r(68),height:40,paddingLeft:s._.r(4),borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:40,borderBottomLeftRadius:40},text:{width:s._.r(68)}});t.styles=s},"./src/screens/discovery/search/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DEFAULT_LEGACY=t.DEFAULT_CAT=void 0;var r=s("./src/stores/index.ts"),s=s("./src/constants/index.ts"),n=(t.NAMESPACE="ScreenSearch",s.MODEL_SEARCH_CAT.getValue("动画")),s=(t.DEFAULT_CAT=n,s.MODEL_SEARCH_LEGACY.getValue("精确")),r=(t.DEFAULT_LEGACY=s,{visibleBottom:r._.window.height,value:"",focus:!1,searching:!1,modal:{visible:!1,subjectId:0,title:"",desc:"",status:"",action:"听"}}),n=(t.EXCLUDE_STATE=r,Object.assign({history:[],cat:n,legacy:s},r,{_loaded:!1}));t.STATE=n},"./src/screens/discovery/search/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"搜索",hm:[s.url,"Search"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("搜索.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"搜索.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/search/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/search/history/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),i=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/discovery/search/history/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r=t.$,n=(t=r.state).history;return""!==t.value?null:(s=(0,a.memoStyles)(),(0,d.jsxs)(o.default,{children:[n.map(function(e){return(0,d.jsx)(o.default,{style:s.item,children:(0,d.jsxs)(i.Flex,{style:s.content,children:[(0,d.jsx)(i.Flex.Item,{children:(0,d.jsx)(i.Text,{size:15,bold:!0,onPress:function(){return r.selectHistory(e)},children:e})}),(0,d.jsx)(i.Touchable,{style:s.close,onPress:function(){return r.deleteHistory(e)},children:(0,d.jsx)(i.Iconfont,{name:"md-close"})})]})},e)}),!!n.length&&(0,d.jsx)(o.default,{style:s.clear,children:(0,d.jsx)(i.Text,{type:"sub",size:15,bold:!0,onPress:r.deleteHistoryAll,children:"清除历史"})}),(0,d.jsx)(i.Heatmap,{right:52,id:"搜索.选择历史"}),(0,d.jsx)(i.Heatmap,{id:"搜索.删除历史",transparent:!0})]}))});t.default=s;try{history.displayName="history",history.__docgenInfo={description:"",displayName:"history",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/history/index.tsx#history"]={docgenInfo:history.__docgenInfo,name:"history",path:"src/screens/discovery/search/history/index.tsx#history"})}catch(e){}},"./src/screens/discovery/search/history/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingHorizontal:r._.wind},content:{paddingVertical:r._.sm},close:{padding:r._.sm,marginLeft:r._.md,borderRadius:20,overflow:"hidden"},clear:{paddingHorizontal:r._.wind,marginTop:r._.sm}}});t.memoStyles=s},"./src/screens/discovery/search/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/search/header/index.tsx")),l=r(s("./src/screens/discovery/search/category/index.tsx")),c=r(s("./src/screens/discovery/search/legacy/index.tsx")),u=r(s("./src/screens/discovery/search/search-bar/index.tsx")),m=r(s("./src/screens/discovery/search/btn-submit/index.tsx")),p=r(s("./src/screens/discovery/search/advance/index.tsx")),f=r(s("./src/screens/discovery/search/history/index.tsx")),y=r(s("./src/screens/discovery/search/list/index.tsx")),r=r(s("./src/screens/discovery/search/store.ts")),j=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$,r=t.navigation;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){var e=s.state,t=e.cat,e=e.value;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.default,{}),(0,j.jsxs)(n.Page,{children:[(0,j.jsxs)(n.Flex,{style:_.searchBar,children:[(0,j.jsx)(l.default,{}),(0,j.jsx)(n.Flex.Item,{children:(0,j.jsx)(u.default,{})}),(0,j.jsx)(c.default,{}),(0,j.jsx)(m.default,{})]}),s.showAdvance&&(0,j.jsx)(p.default,{navigation:r,cat:t,value:e,onSubmit:function(e){return s.onAdvance(e,r)}}),(0,j.jsx)(f.default,{}),(0,j.jsx)(y.default,{})]})]})})}),_=(t.default=s,o._.create({searchBar:{marginTop:o._.xs,paddingBottom:o._.sm,paddingHorizontal:o._.wind}}));try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/index.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/screens/discovery/search/index.tsx#search"})}catch(e){}},"./src/screens/discovery/search/legacy/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/constants/index.ts"),a=s("./src/screens/discovery/search/legacy/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(r=t.state).cat,r=r.legacy;return["人物","用户"].includes(i.MODEL_SEARCH_CAT.getLabel(s))?null:(s=(0,a.memoStyles)(),(0,d.jsxs)(o.Popover,{style:s.touch,data:i.SEARCH_LEGACY.map(function(e){return e.label}),onSelect:t.onLegacySelect,children:[(0,d.jsx)(n.Button,{style:s.btn,styleText:s.text,type:"ghostPlain",size:"sm",children:i.MODEL_SEARCH_LEGACY.getLabel(r)}),(0,d.jsx)(n.Heatmap,{id:"搜索.切换细分类型"})]}))});t.default=s;try{legacy.displayName="legacy",legacy.__docgenInfo={description:"",displayName:"legacy",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/legacy/index.tsx#legacy"]={docgenInfo:legacy.__docgenInfo,name:"legacy",path:"src/screens/discovery/search/legacy/index.tsx#legacy"})}catch(e){}},"./src/screens/discovery/search/legacy/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{touch:{borderTopRightRadius:40,borderBottomRightRadius:40,overflow:"hidden"},btn:{width:r._.r(68),height:40,paddingRight:r._.r(4),borderWidth:r._.select(r._.hairlineWidth,0),borderLeftWidth:0,borderColor:r._.colorBorder,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:40,borderBottomRightRadius:40},text:{width:r._.r(68)}}});t.memoStyles=s},"./src/screens/discovery/search/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),a=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/search/list/item/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(e,t){var s;return(t=t.$).state.searching?(0,l.jsx)(n.Loading,{style:o._.container.flex}):(s=t.search())._loaded?(0,l.jsx)(n.ListView,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,data:s,keyboardDismissMode:"on-drag",scrollToTop:!0,renderItem:c,scrollEventThrottle:16,onScroll:t.onScroll,onHeaderRefresh:t.onHeaderRefresh,onFooterRefresh:t.doSearch}):null});function c(e){var t=e.item,e=e.index;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.default,{item:t,index:e}),!e&&(0,l.jsx)(n.Heatmap,{id:"搜索.跳转"})]})}t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/search/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/search/list/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/constants/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),d={id:"搜索.跳转"};s=(0,r.obc)(function(e,t){var s=e.item,e=e.index,t=t.navigation,r=String(s.id).replace("/subject/",""),r=o.collectionStore.collect(r);return(0,a.jsx)(n.ItemSearch,Object.assign({style:o._.container.item,navigation:t,index:e,event:d},s,{typeCn:i.MODEL_SUBJECT_TYPE.getTitle(s.type),collection:r}))});t.default=s},"./src/screens/discovery/search/search-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),l=s("./src/screens/discovery/search/search-bar/styles.ts"),c=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,t=(0,l.memoStyles)(),n=(o=s.state).cat,o=o.value,n=d.MODEL_SEARCH_CAT.getLabel(n);return(0,c.jsx)(i.Input,{style:(0,a.stl)(t.searchIpt,["人物","用户"].includes(n)&&t.radius),value:o,returnKeyType:"search",returnKeyLabel:"搜索",placeholder:s.isUser?"输入完整的用户Id":"输入关键字",autoFocus:!0,onChangeText:s.onChangeText,onFocus:s.onFocus,onBlur:s.onBlur,onSubmitEditing:function(){return s.onSubmit(r)}})});t.default=s;try{searchbar.displayName="searchbar",searchbar.__docgenInfo={description:"",displayName:"searchbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/search/search-bar/index.tsx#searchbar"]={docgenInfo:searchbar.__docgenInfo,name:"searchbar",path:"src/screens/discovery/search/search-bar/index.tsx#searchbar"})}catch(e){}},"./src/screens/discovery/search/search-bar/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{searchIpt:Object.assign({height:40,paddingVertical:0,paddingRight:4,paddingLeft:12},r._.fontSize12,{backgroundColor:r._.select(r._.colorPlain,r._._colorDarkModeLevel1),borderRadius:0}),radius:{borderTopRightRadius:40,borderBottomRightRadius:40}}});t.memoStyles=s},"./src/screens/discovery/search/store.ts":(e,t,s)=>{var l=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),n=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),a=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/search/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}s=r.default,(0,d.default)(S,s),v=h(S),(0,i.default)(S,[{key:"search",value:function(){var e=this.state,t=e.cat,s=e.legacy,r=e.value;return(0,y.computed)(function(){var e=j.searchStore.search(r,t,s);return j.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,_.x18)(e.id)})}):e}).get()}},{key:"url",get:function(){var e=this.state,t=e.value,t=void 0===t?"":t,s=e.cat,e=e.legacy,e=void 0===e?"":e,t=t.replace(/ /g,"+");return(0,g.HTML_SEARCH)(encodeURIComponent(t),s,1,e)}},{key:"isUser",get:function(){var e=this.state.cat;return"用户"===g.MODEL_SEARCH_CAT.getLabel(e)}},{key:"showAdvance",get:function(){var e=this.state,t=e.focus,e=e.cat;return!(!t||"mono_all"===e||"user"===e||this.search().list.length)}},{key:"subject",value:function(e){return(0,y.computed)(function(){return j.subjectStore.subject(e)}).get()}}]),(0,f.default)((r=S).prototype,"url",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,f.default)(r.prototype,"isUser",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"isUser"),r.prototype),(0,f.default)(r.prototype,"showAdvance",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"showAdvance"),r.prototype);var v,d=r;function S(){var d;(0,o.default)(this,S);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return d=v.call.apply(v,[this].concat(s)),(0,p.default)((0,a.default)(d),"params",void 0),(0,p.default)((0,a.default)(d),"state",(0,y.observable)(b.STATE)),(0,p.default)((0,a.default)(d),"init",(0,n.default)(l.mark(function e(){var t;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getStorage(b.NAMESPACE);case 2:return t=e.sent,d.setState(Object.assign({},t,b.EXCLUDE_STATE,{_loaded:!0})),d.initState(),e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))),(0,p.default)((0,a.default)(d),"onHeaderRefresh",function(){return d.doSearch(!0)}),(0,p.default)((0,a.default)(d),"initState",function(){setTimeout(function(){var e=d.params,t=e._type,s=e._value,r=e.type,e=e.value;(r||t)&&d.setState({cat:g.MODEL_SEARCH_CAT.getValue(r||t)}),(e||s)&&(d.setState({value:String(e||s)}),d.setStorage(b.NAMESPACE),d.doSearch())},40)}),(0,p.default)((0,a.default)(d),"onSelect",function(e){var t=d.state.cat,e=g.MODEL_SEARCH_CAT.getValue(e);e!==t&&((0,x.t)("搜索.切换类型",{cat:e}),d.setState({cat:e}),d.setStorage(b.NAMESPACE),d.state.value)&&d.doSearch()}),(0,p.default)((0,a.default)(d),"onLegacySelect",function(e){var t=d.state.legacy,e=g.MODEL_SEARCH_LEGACY.getValue(e);e!==t&&((0,x.t)("搜索.切换细分类型",{legacy:e}),d.setState({legacy:e}),d.setStorage(b.NAMESPACE),d.state.value)&&d.doSearch()}),(0,p.default)((0,a.default)(d),"onChangeText",function(e){var t={value:e};e&&(t.focus=!0),d.setState(t)}),(0,p.default)((0,a.default)(d),"selectHistory",function(e){(0,x.t)("搜索.选择历史",{value:e}),d.setState({value:e})}),(0,p.default)((0,a.default)(d),"deleteHistory",function(t){(0,x.t)("搜索.删除历史",{value:t});var e=d.state.history;d.setState({history:e.filter(function(e){return e!==t})}),d.setStorage(b.NAMESPACE)}),(0,p.default)((0,a.default)(d),"deleteHistoryAll",function(){d.setState({history:[]}),d.setStorage(b.NAMESPACE)}),(0,p.default)((0,a.default)(d),"onSubmit",function(e){var t;return d.isUser?(t=d.state.value)?e.push("Zone",{userId:t}):(0,_.info)("请输入完整的用户Id"):d.doSearch(!0)}),(0,p.default)((0,a.default)(d),"onAdvance",function(e,t){d.setState({value:e,focus:!1}),d.onSubmit(t)}),(0,p.default)((0,a.default)(d),"onFocus",function(){d.setState({focus:!0})}),(0,p.default)((0,a.default)(d),"onBlur",function(){d.setState({focus:!0})}),(0,p.default)((0,a.default)(d),"onScroll",_.updateVisibleBottom.bind((0,a.default)(d))),(0,p.default)((0,a.default)(d),"doSearch",(t=(0,n.default)(l.mark(function e(t){var s,r,n,o,i,a;return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.state,s=o.history,r=o.cat,n=o.legacy,""===(o=o.value))return(0,_.info)("请输入内容"),e.abrupt("return");e.next=4;break;case 4:return(0,x.t)("搜索.搜索",{cat:r,value:o}),i=(0,c.default)(s),s.includes(o)||i.unshift(o),t&&(10<i.length&&i.pop(),d.setState({history:i,searching:!0}),d.setStorage(b.NAMESPACE)),e.prev=8,e.next=11,j.searchStore.fetchSearch({cat:r,legacy:n,text:o},t);case 11:a=e.sent,setTimeout(function(){j.collectionStore.fetchCollectionStatusQueue(a.list.filter(function(e){return e.collected}).map(function(e){return String(e.id).replace("/subject/","")}))},160),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),(0,_.info)("请稍候再查询");case 18:d.setState({searching:!1});case 19:case"end":return e.stop()}},e,null,[[8,15]])})),function(e){return t.apply(this,arguments)})),d}t.default=d},"./src/screens/discovery/series/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.SUBJECT_TYPE=t.SUBJECT_ITEM=t.RELATIONS=t.NAMESPACE=t.LIMIT=t.HOST_API_V0=t.DISTANCE=t.DATA_STATUS=t.DATA_SORT=t.DATA_FILTER=void 0;s=s("./src/constants/index.ts"),t.NAMESPACE="ScreenSeries",t.DATA_SORT=["默认","关联数","新放送","评分"],s=s.RANK_ANIME_FILTER.map(function(e){return e.label});t.DATA_FILTER=s,t.DATA_STATUS=["全部","有关联系列","未收藏","看过","在看","未看完"],t.HOST_API_V0="https://api.bgm.tv/v0",t.RELATIONS=["前传","续集","番外篇","主线故事","相同世界观","不同世界观"],t.SUBJECT_TYPE=2,t.SUBJECT_ITEM={id:0,name:"",name_cn:"",image:"",date:"",total_episodes:0,platform:"",rank:0,score:0,total:0,_loaded:0},t.LIMIT=100;t.DISTANCE=86400},"./src/screens/discovery/series/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation;return(0,d.jsx)(n.Header,{title:"关联系列",hm:["series","Series"],headerRight:function(){return(0,d.jsxs)(n.Flex,{children:[(0,d.jsx)(o.IconTouchable,{style:i._.mr.xs,name:"md-refresh",color:i._.colorDesc,onPress:function(){return(0,a.confirm)("刷新涉及大量请求与计算，若非必要请勿重复刷新，确定?",s.fetchSeries)}}),(0,d.jsx)(o.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,size:19,onPress:function(){r.push("Information",{title:"关联系列",message:["目的为查漏补缺，便捷查找是否存在未收藏的关联番剧。","使用了你「在看」和「看过」的收藏数据，通过关联条目计算出结果。","为了控制请求数，所以并没有一次性循环请求关联到底。","举例说当一部有四季的番剧，你只收藏过第一季，那就最多只能索引到第三季，所以你收藏的条目越多，关联范围越广。","为什么排序不符合预期? 因可能关联到上千个条目，条目的上映日期和评分需要请求，当条目项看见才会请求，所以请至少手动滚动到底一次，条目信息才会补全。","为了防止滥用，目前此功能非高级会员仅会对「在看」和「看过」的前 100 条数据进行关联计算，高级会员支持 500 条。"],advance:!0})}})]})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/series/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/series/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/series/header/index.tsx")),c=r(s("./src/screens/discovery/series/tool-bar/index.tsx")),u=r(s("./src/screens/discovery/series/item/index.tsx")),m=r(s("./src/screens/discovery/series/tips/index.tsx")),r=r(s("./src/screens/discovery/series/store.ts")),p=s("./node_modules/react/jsx-runtime.js"),s=(0,a.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){var e=s.state.fixed;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.default,{}),(0,p.jsxs)(n.Page,{loaded:s.state._loaded,children:[e&&(0,p.jsx)(c.default,{}),(0,p.jsx)(o.PaginationList,{contentContainerStyle:i._.container.bottom,data:s.data,limit:6,ListHeaderComponent:!e&&(0,p.jsx)(c.default,{}),renderItem:f,onPage:s.onPage},s.state.sort),(0,p.jsx)(m.default,{})]})]})})});function f(e){e=e.item;return(0,p.jsx)(u.default,{item:e})}t.default=s;try{series.displayName="series",series.__docgenInfo={description:"",displayName:"series",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/index.tsx#series"]={docgenInfo:series.__docgenInfo,name:"series",path:"src/screens/discovery/series/index.tsx#series"})}catch(e){}},"./src/screens/discovery/series/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPS=void 0;t.DEFAULT_PROPS={styles:{},data:[],subjects:{}}},"./src/screens/discovery/series/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/utils/decorators/index.ts")),o=r(s("./src/screens/discovery/series/item/item.tsx")),i=s("./src/screens/discovery/series/item/styles.ts"),a=s("./node_modules/react/jsx-runtime.js"),r=(0,n.obc)(function(e,t){var e=e.item,t=t.$;return"有关联系列"===t.state.status&&e.length<=1?null:(e=t.filterData(e),(0,a.jsx)(o.default,{styles:(0,i.memoStyles)(),data:e,subjects:t.subjects(e)}))});t.default=r},"./src/screens/discovery/series/item/item.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.sub.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),i=(r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/utils/index.ts"),n=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/discovery/series/subject/index.tsx")),r=s("./src/screens/discovery/series/item/ds.ts"),l=s("./node_modules/react/jsx-runtime.js"),s=(0,n.memo)(function(e){var t,s=e.styles,r=e.data,n=e.subjects;return r.length?(t=Math.min.apply(Math,(0,o.default)(r)),e=r.filter(function(e){return e!==t}),(0,l.jsxs)(i.default,{children:[(0,l.jsx)(d.default,{id:t}),!!e.length&&(0,l.jsx)(i.default,{style:s.sub,children:e.sort(function(e,t){return(0,a.asc)((null==(e=n[e])?void 0:e.date)||"9999-99-99",(null==(e=n[t])?void 0:e.date)||"9999-99-99")}).map(function(e){return(0,l.jsx)(d.default,{style:s.subItem,id:e,small:!0},e)})})]})):null},r.DEFAULT_PROPS);t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{styles:{defaultValue:null,description:"",name:"styles",required:!0,type:{name:"{ sub: { marginTop: number; paddingLeft: number; paddingBottom: number; }; subItem: { paddingVertical: number; }; }"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SubjectId[]"}},subjects:{defaultValue:null,description:"",name:"subjects",required:!0,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/item/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/discovery/series/item/item.tsx#item"})}catch(e){}},"./src/screens/discovery/series/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{sub:{marginTop:-r._.sm,paddingLeft:r._.wind+r._.sm,paddingBottom:r._.md},subItem:{paddingVertical:r._.md}}});t.memoStyles=s},"./src/screens/discovery/series/store.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.is-array.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.set.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),o=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),x=r(s("./src/utils/store/index.ts")),g=s("./src/utils/fetch/index.ts"),b=s("./src/utils/fetch.v0/index.ts"),h=r(s("./src/constants/i18n/index.ts")),v=s("./src/screens/discovery/series/ds.ts");function S(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var O,T={fetching:!1,message:"",current:0,total:0},I={},C={},x=(r=x.default,(0,c.default)(w,r),O=S(w),(0,i.default)(w,[{key:"userId",get:function(){return j.userStore.usersInfo(j.userStore.myUserId).username||j.userStore.myUserId}},{key:"subjectIds",get:function(){return this.state.collections.map(function(e){return e.id})}},{key:"collection",value:function(t){var e=this;return(0,y.computed)(function(){return e.state.collections.find(function(e){return e.id===t})||e.state.otherCollections.find(function(e){return e.id===t})}).get()}},{key:"collections",value:function(e){var r=this;return(0,y.computed)(function(){var s={};return e.forEach(function(e){var t=r.collection(e);t&&(s[e]=t)}),s}).get()}},{key:"subject",value:function(e){var t=this;return(0,y.computed)(function(){return t.state.subjects[e]||v.SUBJECT_ITEM}).get()}},{key:"subjects",value:function(e){var s=this;return(0,y.computed)(function(){var t={};return e.forEach(function(e){t[e]=s.subject(e)}),t}).get()}},{key:"filterData",value:function(n){var o=this;return(0,y.computed)(function(){var e=o.state,t=e.filter,s=e.airtime,e=e.status,r=n;return t&&(r=r.filter(function(e){e=o.subject(e);return(null==e?void 0:e.platform)&&String(e.platform).includes(t)})),s&&(r=r.filter(function(e){e=o.subject(e);return(null==e?void 0:e.date)&&String(e.date).includes(s+"-")})),"未收藏"===e?r=r.filter(function(e){return!o.collection(e)}):"看过"===e?r=r.filter(function(e){return 2===(null==(e=o.collection(e))?void 0:e.type)}):"在看"===e?r=r.filter(function(e){return 3===(null==(e=o.collection(e))?void 0:e.type)}):"未看完"===e&&(r=r.filter(function(e){var t=o.collection(e),e=o.subject(e);return(null==t?void 0:t.ep)&&(null==e?void 0:e.eps)&&(null==t?void 0:t.ep)!==(null==e?void 0:e.eps)})),r}).get()}},{key:"data",get:function(){var s=this,e=this.state,t=e.data,e=e.sort;return"关联数"===e?t.slice().sort(function(e,t){return(0,_.desc)(e.length,t.length)}):"新放送"===e?t.slice().sort(function(e,t){e=Math.max.apply(Math,(0,d.default)(e.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))}))),t=Math.max.apply(Math,(0,d.default)(t.map(function(e){return Number((s.subject(e).date||"0000-00-00").replace(/-/g,""))})));return(0,_.desc)(e,t)}):"评分"===e?t.slice().sort(function(e,t){e=Math.min.apply(Math,(0,d.default)(e.map(function(e){return s.subject(e).rank||9999}))),t=Math.min.apply(Math,(0,d.default)(t.map(function(e){return s.subject(e).rank||9999})));return(0,_.asc)(e,t)}):t}},{key:"info",get:function(){var t=0;return this.data.forEach(function(e){return t+=e.length}),{series:this.data.length,total:t}}}]),(0,f.default)((s=w).prototype,"userId",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"userId"),s.prototype),(0,f.default)(s.prototype,"subjectIds",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"subjectIds"),s.prototype),(0,f.default)(s.prototype,"data",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"data"),s.prototype),(0,f.default)(s.prototype,"info",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"info"),s.prototype),s);function w(){var i;(0,n.default)(this,w);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i=O.call.apply(O,[this].concat(t)),(0,p.default)((0,l.default)(i),"state",(0,y.observable)(Object.assign({collections:[],otherCollections:[],relations:{},subjects:{},data:[],sort:"",filter:"",airtime:"",status:"",fixed:!1},T,{_loaded:!1}))),(0,p.default)((0,l.default)(i),"init",(0,o.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(v.NAMESPACE);case 2:t=e.sent,i.setState(Object.assign({},t,T,{_loaded:(0,_.getTimestamp)()})),i.state.data.length?i.calculateData():i.fetchSeries();case 5:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSeries",(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state.fetching)return e.abrupt("return",!1);e.next=2;break;case 2:return C={},e.next=5,i.fetchCollections();case 5:return e.next=7,i.fetchRelations();case 7:i.calculateData(),setTimeout((0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchSubRelations();case 2:i.calculateData(),i.fetchSomeSubjects(),setTimeout(function(){i.fetchOtherCollections()},4e3);case 5:case"end":return e.stop()}},e)})),1600);case 9:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchCollections",(0,o.default)(a.mark(function e(){var t,s,r,n,o;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.userId){e.next=3;break}return(0,_.info)("此功能依赖收藏数据，请先"+h.default.login(),4),e.abrupt("return",!1);case 3:return i.setState({fetching:!0,message:"获取用户收藏",current:1,total:2}),s=[],e.next=7,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=2&limit="+v.LIMIT);case 7:if(r=e.sent,!Array.isArray(null==(n=r)?void 0:n.data)){e.next=21;break}if(s.push.apply(s,(0,d.default)(null==(n=r)?void 0:n.data)),!j.systemStore.advance){e.next=21;break}if(!(100<(null==(n=r)?void 0:n.total))){e.next=21;break}n=2;case 13:if(n<=Math.min(Math.ceil(r.total/v.LIMIT),5))return e.next=16,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=2&offset="+(n-1)*v.LIMIT+"&limit="+v.LIMIT);e.next=21;break;case 16:r=e.sent,s.push.apply(s,(0,d.default)(null==(o=r)?void 0:o.data));case 18:n+=1,e.next=13;break;case 21:return i.setState({current:2}),e.next=24,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=3&limit="+v.LIMIT);case 24:if(r=e.sent,Array.isArray(null==(o=r)?void 0:o.data)&&s.push.apply(s,(0,d.default)(null==(t=r)?void 0:t.data)),s.length){e.next=28;break}return e.abrupt("return",!1);case 28:return i.setState({collections:s.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),i.setState(Object.assign({},T)),i.setStorage(v.NAMESPACE),e.abrupt("return",!0);case 32:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchOtherCollections",(0,o.default)(a.mark(function e(){var t,s,r,n,o;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=1&limit="+v.LIMIT);case 3:return o=e.sent,Array.isArray(null==(t=o)?void 0:t.data)&&n.push.apply(n,(0,d.default)(null==(t=o)?void 0:t.data)),e.next=7,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=4&limit="+v.LIMIT);case 7:return o=e.sent,Array.isArray(null==(t=o)?void 0:t.data)&&n.push.apply(n,(0,d.default)(null==(s=o)?void 0:s.data)),e.next=11,(0,b.request)(v.HOST_API_V0+"/users/"+i.userId+"/collections?subject_type="+v.SUBJECT_TYPE+"&type=5&limit="+v.LIMIT);case 11:if(o=e.sent,Array.isArray(null==(s=o)?void 0:s.data)&&n.push.apply(n,(0,d.default)(null==(r=o)?void 0:r.data)),n.length){e.next=15;break}return e.abrupt("return",!1);case 15:i.setState({otherCollections:n.slice().sort(function(e,t){return(0,_.desc)(e.updated_at,t.updated_at)}).map(function(e){return{id:e.subject_id,type:e.type,ep:e.ep_status,updated_at:e.updated_at}})}),i.setStorage(v.NAMESPACE);case 17:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchRelations",(0,o.default)(a.mark(function e(){var r,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n=[],i.subjectIds.forEach(function(s){n.push((0,o.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(v.HOST_API_V0+"/subjects/"+s+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return v.SUBJECT_TYPE===e.type&&v.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))}),e.next=5,(0,g.queue)(n.map(function(t){return(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i.setState({fetching:!0,message:"获取条目关系",current:i.state.current+1,total:n.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 5:return i.clearState("relations",r),i.setStorage(v.NAMESPACE),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSubRelations",(0,o.default)(a.mark(function e(){var r,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign({},i.state.relations),n=[],Object.keys(r).forEach(function(e){r[e].forEach(function(s){r[s]||n.push((0,o.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(v.HOST_API_V0+"/subjects/"+s.id+"/subjects");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return r[s]=[],e.abrupt("return",!1);case 6:return r[s]=t.filter(function(e){return v.SUBJECT_TYPE===e.type&&v.RELATIONS.includes(e.relation)}).sort(function(e,t){return(0,_.asc)(e.id,t.id)}).map(function(e){return e.id}),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)})))})}),i.setState({fetching:!0,message:"获取二级条目关系",current:0,total:n.length}),e.next=6,(0,g.queue)(n.map(function(t){return(0,o.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i.setState({fetching:!0,message:"获取二级条目关系",current:i.state.current+1,total:n.length}),e.abrupt("return",!0);case 4:case"end":return e.stop()}},e)}))}),2);case 6:return i.setState({relations:r}),setTimeout(function(){i.setState(Object.assign({},T))},1600),i.setStorage(v.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSubjects",(0,o.default)(a.mark(function e(){var t,s,r,n=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=0<n.length&&void 0!==n[0]?n[0]:[]).length){e.next=3;break}return e.abrupt("return",!1);case 3:return s=(0,_.getTimestamp)(),r=[],t.forEach(function(n){var e;return!!I[n]||!!((e=i.subject(n))._loaded&&s-e._loaded<=v.DISTANCE)||(I[n]=!0,void r.push((0,o.default)(a.mark(function e(){var t,s,r;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.request)(v.HOST_API_V0+"/subjects/"+n);case 2:if(null!=(r=e.sent)&&r.id){e.next=5;break}return e.abrupt("return",!1);case 5:i.setState({subjects:(0,p.default)({},n,{id:n,name:(0,_.cnjp)(r.name_cn,r.name),image:(null==r||null==(t=r.images)?void 0:t.common)||"",date:r.date,eps:r.eps,total_episodes:r.total_episodes,platform:r.platform,rank:null==(t=r.rating)?void 0:t.rank,score:null==(s=r.rating)?void 0:s.score,total:null==(s=r.rating)?void 0:s.total,_loaded:(0,_.getTimestamp)()})});case 6:case"end":return e.stop()}},e)}))))}),e.next=8,(0,g.queue)(r,2);case 8:return i.setStorage(v.NAMESPACE),e.abrupt("return",!0);case 10:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(i),"fetchSomeSubjects",function(){var e=i.state.data,t=[];e.forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,d.default)(e)):t.push(e)}),t.length=200,i.fetchSubjects(t)}),(0,p.default)((0,l.default)(i),"calculateData",function(){var s=i.state.relations,r=[];Object.keys(s).sort(function(e,t){return(0,_.desc)(e,t)}).forEach(function(e){var e=[Number(e)].concat((0,d.default)(s[e])),t=e.find(function(e){return e in C});t?(t=r[C[t]]).push.apply(t,(0,d.default)(e)):(r.push(e),e.forEach(function(e){C[e]=r.length-1}))}),i.setState({data:r.map(function(e){return Array.from(new Set(e)).sort(function(e,t){return(0,_.asc)(e,t)})}),_loaded:(0,_.getTimestamp)()})}),(0,p.default)((0,l.default)(i),"onPage",function(){var t=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){Array.isArray((0,y.toJS)(e))?t.push.apply(t,(0,d.default)(e)):t.push(e)}),i.fetchSubjects(t)}),(0,p.default)((0,l.default)(i),"onToggleFixed",function(){var e=i.state.fixed;i.setState({fixed:!e}),i.setStorage(v.NAMESPACE)}),(0,p.default)((0,l.default)(i),"onSortSelect",function(e){"默认"===e?i.setState({sort:""}):(i.setState({sort:e}),i.setStorage(v.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onFilterSelect",function(e){"全部"===e?i.setState({filter:""}):(i.setState({filter:e}),i.setStorage(v.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onAirtimeSelect",function(e){"全部"===e?i.setState({airtime:""}):(i.setState({airtime:e}),i.setStorage(v.NAMESPACE))}),(0,p.default)((0,l.default)(i),"onStatusSelect",function(e){"全部"===e?i.setState({status:""}):(i.setState({status:e}),i.setStorage(v.NAMESPACE))}),i}t.default=x},"./src/screens/discovery/series/subject/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.small.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.join.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/constants/index.ts"),y=s("./src/screens/discovery/series/subject/styles.ts"),j=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,r,n,o=void 0===(o=e.style)?void 0:o,i=e.id,e=void 0!==(e=e.small)&&e,a=t.$,d=t.navigation,t=(0,y.memoStyles)(),l=a.subject(i);return 0===l._loaded?(0,j.jsx)(c.Flex,{style:t.loading,justify:"center",children:(0,j.jsx)(c.Loading.Raw,{})}):(r=[],null!=(s=a.collection(i))&&s.ep?r.push("看到 "+s.ep+" "):s&&r.push("看到 0"),null!=l&&l.eps&&r.push(" "+(null==l?void 0:l.eps)+" 话"),null!=l&&l.total_episodes&&(null==l?void 0:l.total_episodes)!==(null==l?void 0:l.eps)&&r.push("共 "+(null==l?void 0:l.total_episodes)+" 章节"),a=l.platform&&"TV"!==l.platform&&l.platform,a=[!!l.total&&"("+l.total+"人)",l.date||"未放送",a].filter(function(e){return!!e}),n=24<(n=l.name.length)?11:16<n?12:8<n?13:14,(0,j.jsx)(c.Touchable,{animate:!0,onPress:function(){d.push("Subject",{subjectId:l.id,_cn:l.name,_image:l.image})},children:(0,j.jsxs)(c.Flex,{style:(0,p.stl)(t.item,o),align:"start",children:[(0,j.jsx)(u.Cover,{src:l.image,width:e?.88*f.IMG_WIDTH_SM:f.IMG_WIDTH_SM,height:e?.88*f.IMG_HEIGHT_SM:f.IMG_HEIGHT_SM,radius:!0}),(0,j.jsx)(c.Flex.Item,{children:(0,j.jsxs)(c.Flex,{style:e?t.bodySm:t.body,direction:"column",justify:"between",align:"start",children:[(0,j.jsx)(c.Text,{style:m._.mr.sm,size:n,bold:!0,numberOfLines:2,children:l.name}),(0,j.jsx)(c.Text,{size:11,bold:!0,children:r.join(" / ")}),(0,j.jsxs)(c.Flex,{style:m._.mt.sm,children:[(0,j.jsx)(u.Rank,{style:m._.mr.xs,value:l.rank}),(0,j.jsx)(u.Stars,{style:m._.mr.xs,value:l.score,simple:!0}),(0,j.jsx)(c.Text,{size:11,type:"sub",children:a.join(" / ")})]})]})}),(0,j.jsx)(u.Manage,{style:t.manage,subjectId:i,collection:m.collectionStore.collect(i),onPress:function(){m.uiStore.showManageModal({subjectId:i,title:l.name,status:null==s?void 0:s.type},"关联系列")}})]})}))});t.default=s},"./src/screens/discovery/series/subject/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){return{loading:{height:120},item:{paddingHorizontal:r._.wind,paddingVertical:20},body:{height:n.IMG_HEIGHT_SM,paddingLeft:r._.md},bodySm:{height:.88*n.IMG_HEIGHT_SM,paddingLeft:r._.md},manage:{marginTop:-2}}});t.memoStyles=s},"./src/screens/discovery/series/tips/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$.state).fetching,r=t.message,n=t.current,t=t.total;return(0,i.jsx)(o.Progress,{show:s,message:r,current:n,total:t})});t.default=s;try{tips.displayName="tips",tips.__docgenInfo={description:"",displayName:"tips",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tips/index.tsx#tips"]={docgenInfo:tips.__docgenInfo,name:"tips",path:"src/screens/discovery/series/tips/index.tsx#tips"})}catch(e){}},"./src/screens/discovery/series/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/series/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.filter;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_FILTER,text:s||"类型",type:s?"desc":void 0,onSelect:t.onFilterSelect})});t.default=s;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/series/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/series/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/series/tool-bar/sort.tsx")),a=r(s("./src/screens/discovery/series/tool-bar/year.tsx")),d=r(s("./src/screens/discovery/series/tool-bar/filter.tsx")),l=r(s("./src/screens/discovery/series/tool-bar/status.tsx")),c=r(s("./src/screens/discovery/series/tool-bar/more.tsx")),u=s("./node_modules/react/jsx-runtime.js");r=(0,o.ob)(function(){return(0,u.jsxs)(n.ToolBar,{children:[(0,u.jsx)(i.default,{}),(0,u.jsx)(a.default,{}),(0,u.jsx)(d.default,{}),(0,u.jsx)(l.default,{}),(0,u.jsx)(c.default,{})]})});t.default=r},"./src/screens/discovery/series/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$,t=s.state.fixed;return(0,i.jsx)(n.ToolBar.Popover,{data:["筛选（"+(t?"固定":"浮动")+"）"],icon:"md-more-vert",iconColor:o._.colorDesc,iconSize:20,type:"desc",transparent:!0,onSelect:function(e){if(e.includes("筛选"))return s.onToggleFixed()}})});t.default=s;try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/series/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/series/tool-bar/sort.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./src/screens/discovery/series/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.sort;return(0,a.jsx)(n.ToolBar.Popover,{data:i.DATA_SORT,icon:"md-sort",iconColor:s?o._.colorDesc:o._.colorSub,text:s||"排序",type:s?"desc":void 0,onSelect:t.onSortSelect})});t.default=s;try{sort.displayName="sort",sort.__docgenInfo={description:"",displayName:"sort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/sort.tsx#sort"]={docgenInfo:sort.__docgenInfo,name:"sort",path:"src/screens/discovery/series/tool-bar/sort.tsx#sort"})}catch(e){}},"./src/screens/discovery/series/tool-bar/status.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/series/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.status;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_STATUS,text:s||"状态",type:s?"desc":void 0,onSelect:t.onStatusSelect})});t.default=s;try{status.displayName="status",status.__docgenInfo={description:"",displayName:"status",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/status.tsx#status"]={docgenInfo:status.__docgenInfo,name:"status",path:"src/screens/discovery/series/tool-bar/status.tsx#status"})}catch(e){}},"./src/screens/discovery/series/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=(t=t.$).state.airtime;return(0,i.jsx)(n.ToolBar.Popover,{data:o.DATA_AIRTIME,text:s||"年",type:s?"desc":void 0,onSelect:t.onAirtimeSelect})});t.default=s;try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/series/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/series/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/staff/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,d.jsx)(n.Header,{title:"新番",hm:["user/lilyurey/index","Staff"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("新番档期.右上角菜单",{key:e}),(0,o.open)(a.HOST+"/user/lilyurey/index"))},children:(0,d.jsx)(n.Heatmap,{id:"新番档期.右上角菜单"})})}})});t.default=s},"./src/screens/discovery/staff/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/staff/header/index.tsx")),l=r(s("./src/screens/discovery/staff/list/index.tsx")),r=r(s("./src/screens/discovery/staff/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"新番",screen:"Staff"})]})]})})});t.default=s;try{staff.displayName="staff",staff.__docgenInfo={description:"",displayName:"staff",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/index.tsx#staff"]={docgenInfo:staff.__docgenInfo,name:"staff",path:"src/screens/discovery/staff/index.tsx#staff"})}catch(e){}},"./src/screens/discovery/staff/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),d=s("./node_modules/react/jsx-runtime.js"),l={id:"新番档期.跳转",data:{userId:"lilyurey"}};s=(0,r.obc)(function(e,t){var s=t.$;return s.catalogs._loaded?(0,d.jsx)(n.ListView,{style:i._.container.plain,keyExtractor:a.keyExtractor,data:s.catalogs,lazy:6,scrollToTop:!0,renderItem:c,scrollEventThrottle:16,onScroll:s.onScroll,onHeaderRefresh:function(){return s.fetchCatalogs(!0)},onFooterRefresh:function(){return s.fetchCatalogs()}}):(0,d.jsx)(n.Loading,{style:i._.container.plain})});function c(e){var t=e.item,e=e.index;return(0,d.jsx)(o.ItemCatalog,Object.assign({},t,{index:e,name:"优莉雅",isUser:!0,event:l}))}t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/staff/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/staff/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/staff/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(h,s),b=g(h),(0,n.default)(h,[{key:"userId",get:function(){return"lilyurey"}},{key:"catalogs",get:function(){return y.usersStore.catalogs(this.userId,!1)}}]),(0,p.default)((r=h).prototype,"userId",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,p.default)(r.prototype,"catalogs",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"catalogs"),r.prototype);var b,l=r;function h(){var n;(0,a.default)(this,h);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=b.call.apply(b,[this].concat(s)),(0,m.default)((0,d.default)(n),"state",(0,f.observable)({visibleBottom:y._.window.height})),(0,m.default)((0,d.default)(n),"init",function(){return n.fetchCatalogs(!0)}),(0,m.default)((0,d.default)(n),"fetchCatalogs",(0,i.default)(o.mark(function e(){var t,s,r=arguments;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]&&r[0],e.next=3,y.usersStore.fetchCatalogs({userId:n.userId,isCollect:!1},t);case 3:return t=e.sent,s=t.list,(0,_.queue)(s.map(function(e){return function(){return n.fetchCatalogDetail(e.id)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"fetchCatalogDetail",(t=(0,i.default)(o.mark(function e(t){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:return e.next=4,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 4:if(e.sent)return e.abrupt("return",!0);e.next=7;break;case 7:return e.next=9,y.discoveryStore.fetchCatalogDetail({id:t});case 9:return s=e.sent,n.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,d.default)(n),"updateCatalogDetail",function(d){setTimeout(function(){var e=d.id,t=d.title,s=d.avatar,r=d.nickname,n=d.userId,o=d.time,i=d.collect,a=d.list;(0,x.update)("catalog_"+e,{id:e,title:t,avatar:s,nickname:r,userId:n,time:o,collect:i,list:a.filter(function(e,t){return t<100}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}})})},2e3)}),(0,m.default)((0,d.default)(n),"onScroll",j.updateVisibleBottom.bind((0,d.default)(n))),n}t.default=l},"./src/screens/discovery/tags/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TABS=t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=void 0;s=s("./src/constants/index.ts"),t.NAMESPACE="ScreenTags",s=s.SUBJECT_TYPE.map(function(e){return{title:e.title,key:e.label}}),t.TABS=s,s={ipt:"",filter:"",isFocused:!0,ota:{}},t.EXCLUDE_STATE=s,s=Object.assign({page:0},s,{_loaded:!1});t.STATE=s},"./src/screens/discovery/tags/filter/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=r(s("./node_modules/react-native-web/dist/exports/View/index.js")),p=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/screens/discovery/tags/filter/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");function j(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}s=u.default.Component,(0,a.default)(x,s),_=j(x),(0,o.default)(x,[{key:"render",value:function(){var e=this.context.$,t=e.state.ipt,s=this.state.focus;return(0,y.jsxs)(m.default,{style:this.styles.filter,children:[(0,y.jsx)(p.Input,{style:this.styles.input,clearButtonMode:"never",value:t,returnKeyType:"search",returnKeyLabel:"搜索",onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:e.onFilterChange,onSubmitEditing:e.onSubmitEditing}),!s&&!t&&(0,y.jsx)(p.Flex,{style:this.styles.icon,justify:"center",pointerEvents:"none",children:(0,y.jsx)(p.Iconfont,{name:"md-search",size:18})})]})}},{key:"styles",get:function(){return(0,f.memoStyles)()}}]);var _,u=x;function x(){var e;(0,n.default)(this,x);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=_.call.apply(_,[this].concat(s)),(0,c.default)((0,i.default)(e),"state",{focus:!1}),(0,c.default)((0,i.default)(e),"onFocus",function(){e.setState({focus:!0})}),(0,c.default)((0,i.default)(e),"onBlur",function(){e.setState({focus:!1})}),e}a=(0,r.obc)(u);t.default=a;try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/filter/index.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/tags/filter/index.tsx#filter"})}catch(e){}},"./src/screens/discovery/tags/filter/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{filter:{height:64,paddingVertical:12,paddingHorizontal:r._.wind,marginBottom:r._._wind,backgroundColor:r._.colorBg},input:Object.assign({height:40,paddingVertical:0},r._.fontSize16,{textAlign:"center",backgroundColor:r._.select(r._.colorBorder,r._.colorPlain),borderRadius:40}),icon:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0}}});t.memoStyles=s},"./src/screens/discovery/tags/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:"标签",alias:"标签索引",hm:[s.url,"Tags"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("标签索引.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"标签索引.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/tags/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/tags/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/discovery/tags/header/index.tsx")),l=r(s("./src/screens/discovery/tags/tabs/index.tsx")),r=r(s("./src/screens/discovery/tags/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{loaded:s.state._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{right:o._.wind,bottom:o._.window.height-o._.tabsHeaderHeight-12,id:"标签索引.标签页切换",transparent:!0})]})]})})});t.default=s;try{tags.displayName="tags",tags.__docgenInfo={description:"",displayName:"tags",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/index.tsx#tags"]={docgenInfo:tags.__docgenInfo,name:"tags",path:"src/screens/discovery/tags/index.tsx#tags"})}catch(e){}},"./src/screens/discovery/tags/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.filter.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),f=s("./src/screens/discovery/tags/item/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.type,r=e.name,n=e.nums,e=e.index,o=t.$,i=t.navigation,t=(0,f.memoStyles)(),a=u.systemStore.setting.coverRadius,o=o.state.filter,d=n,n=(1e4<n&&(d=(0,m.formatNumber)(n/1e4,1)+"w"),u._.num(4)),l=(0,m.HTMLDecode)(r);return(0,y.jsxs)(c.Touchable,{style:(0,m.stl)(t.container,(u._.isPad||u._.isLandscape)&&!(e%n)&&u._.container.left,{borderRadius:a}),animate:!0,scale:.85,onPress:function(){(0,p.t)("标签索引.跳转",{to:"Tag",type:s,tag:l}),i.push("Tag",{type:s,tag:l})},children:[(0,y.jsxs)(c.Flex,{style:t.item,direction:"column",justify:"center",children:[(0,y.jsx)(c.Highlight,{align:"center",size:12,bold:!0,numberOfLines:3,value:o,children:l}),(0,y.jsx)(c.Text,{style:u._.mt.xs,type:"sub",align:"center",size:10,children:d})]}),0===e&&(0,y.jsx)(c.Heatmap,{id:"标签索引.跳转"})]})});t.default=s},"./src/screens/discovery/tags/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){var e=r._.grid(r._.num(4)),t=e.width,e=e.marginLeft;return{container:{marginBottom:r._.md,marginLeft:e,overflow:"hidden",backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1)},item:{width:t,height:t,paddingHorizontal:r._.sm}}});t.memoStyles=s},"./src/screens/discovery/tags/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/stores/index.ts"),f=s("./src/utils/decorators/index.ts"),y=r(s("./src/screens/discovery/tags/filter/index.tsx")),j=r(s("./src/screens/discovery/tags/item/index.tsx")),_=s("./src/screens/discovery/tags/ds.ts"),x=s("./node_modules/react/jsx-runtime.js");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(h,r),b=g(h),(0,o.default)(h,[{key:"render",value:function(){var e=this.context.$,t=this.props.id,s=e.state.page,e=e.list(t),r=p._.num(4);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.default,{}),e._loaded?(0,x.jsx)(m.ListView,{keyExtractor:v,contentContainerStyle:p._.container.bottom,data:e,lazy:32,numColumns:r,scrollToTop:_.TABS[s].key===t,keyboardDismissMode:"on-drag",renderItem:this.renderItem,onHeaderRefresh:this.onHeaderRefresh,onFooterRefresh:this.onFooterRefresh},""+p._.orientation+r):(0,x.jsx)(m.Loading,{})]})}}]);var b,s=h;function h(){var r;(0,n.default)(this,h);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,c.default)((0,i.default)(r),"renderItem",function(e){var t=e.item,e=e.index,s=r.props.id;return(0,x.jsx)(j.default,Object.assign({type:s,index:e},t))}),(0,c.default)((0,i.default)(r),"onHeaderRefresh",function(){var e=r.context.$,t=r.props.id;return e.fetchList(t,!0)}),(0,c.default)((0,i.default)(r),"onFooterRefresh",function(){var e=r.context.$,t=r.props.id;return e.fetchList(t)}),r}(0,c.default)(s,"defaultProps",{title:"全部"});u=(0,f.obc)(s);function v(e){return e.name+"|"+e.nums}t.default=u;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"anime"'},{value:'"book"'},{value:'"game"'},{value:'"music"'},{value:'"real"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/tags/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/tags/store.ts":(e,t,s)=>{var a=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),o=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/fetch/index.ts"),x=s("./src/utils/kv/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/tags/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var v,S=[],l=(s=r.default,(0,l.default)(O,s),v=h(O),(0,i.default)(O,[{key:"type",get:function(){var e=this.state.page;return b.TABS[e].key}},{key:"url",get:function(){var e=this.state,t=e.page,e=e.filter;return(0,g.HTML_TAGS)(this.type,t,e)}},{key:"thirdPartyKey",get:function(){var e=this.state.filter;return"tags_"+[this.type,e].join("_")}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"list",value:function(t){var s=this;return(0,f.computed)(function(){var e=s.state.filter,e=y.discoveryStore.tags(t,e);return e._loaded?y.userStore.isLimit?Object.assign({},e,{list:e.list.filter(function(e){return!(0,j.x18s)(e.name)})}):e:s.ota?Object.assign({},s.ota,{pagination:{page:1,pageTotal:10}}):g.LIST_EMPTY}).get()}}]),(0,p.default)((r=O).prototype,"type",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"type"),r.prototype),(0,p.default)(r.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,p.default)(r.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),(0,p.default)(r.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),r);function O(){var i;(0,o.default)(this,O);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=v.call.apply(v,[this].concat(s)),(0,m.default)((0,d.default)(i),"state",(0,f.observable)(b.STATE)),(0,m.default)((0,d.default)(i),"init",(0,n.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getStorage(b.NAMESPACE);case 2:return t=e.sent,i.setState(Object.assign({},t,b.EXCLUDE_STATE,{_loaded:!0})),e.abrupt("return",i.fetchList(i.type,!0));case 5:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"fetchList",(t=(0,n.default)(a.mark(function e(t){var s,r,n,o=arguments;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=1<o.length&&void 0!==o[1]&&o[1])&&i.fetchThirdParty(),s=i.state.filter,e.next=5,y.discoveryStore.fetchTags({type:t,filter:s},r);case 5:return(s=e.sent).list.length&&i.thirdPartyKey in i.state.ota&&(n=(null==(r=i.ota)?void 0:r.ts)||0,604800<=(0,j.getTimestamp)()-n)&&i.updateThirdParty(),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,d.default)(i),"fetchThirdParty",(0,n.default)(a.mark(function e(){var t;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ota||i.list(i.type)._loaded){e.next=8;break}return e.next=3,(0,x.get)(i.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return i.setState({ota:(0,m.default)({},i.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:i.setState({ota:(0,m.default)({},i.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"updateThirdParty",(0,n.default)(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S.includes(i.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,x.update)(i.thirdPartyKey,{list:i.list(i.type).list}),S.push(i.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(i),"onChange",function(e){e!==i.state.page&&((0,_.t)("标签索引.标签页切换"),i.setState({page:e}),i.tabChangeCallback(e),i.setStorage(b.NAMESPACE))}),(0,m.default)((0,d.default)(i),"tabChangeCallback",function(e){e=b.TABS[e].key;i.list(e)._loaded||i.fetchList(e,!0)}),(0,m.default)((0,d.default)(i),"onFilterChange",function(e){e=e.trim();e?i.setState({ipt:e}):i.setState({ipt:e,filter:""})}),(0,m.default)((0,d.default)(i),"onSubmitEditing",function(){var e=i.state.ipt;e&&e.length&&(i.setState({filter:e}),i.fetchList(i.type,!0),i.setStorage(b.NAMESPACE))}),i}t.default=l},"./src/screens/discovery/tags/tabs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/tags/list/index.tsx")),d=s("./src/screens/discovery/tags/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){var s=(t=t.$).state.page;return(0,l.jsx)(n.TabsV2,{style:o._.mt._sm,routes:d.TABS,page:s,backgroundColor:o._.colorPlain,renderItem:function(e){return(0,l.jsx)(a.default,{id:e.key},e.key)},onChange:t.onChange},o._.orientation)});t.default=r;try{tabs.displayName="tabs",tabs.__docgenInfo={description:"",displayName:"tabs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/tags/tabs/index.tsx#tabs"]={docgenInfo:tabs.__docgenInfo,name:"tabs",path:"src/screens/discovery/tags/tabs/index.tsx#tabs"})}catch(e){}},"./src/screens/discovery/wenku/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.filterDS=t.ADVANCE_LIMIT=void 0;var s=s("./src/utils/subject/wenku/index.ts"),r=(t.ADVANCE_LIMIT=100,[[],[]]),s=(s.WENKU_TAGS.forEach(function(e,t){return r[t%2?1:0].push(e)}),[{title:"首字",type:"first",data:s.WENKU_FIRST},{title:"发行",type:"year",data:s.WENKU_YEAR,always:!0},{title:"状态",type:"status",data:s.WENKU_STATUS},{title:"动画",type:"anime",data:s.WENKU_ANIME},{title:"出版",type:"cate",data:s.WENKU_CATE},{title:"作者",type:"author",data:s.WENKU_AUTHOR},{title:"分类",type:"tags",data:r,multiple:!0,multiSelect:!0,always:!0},{title:"排序",type:"sort",data:s.WENKU_SORT,always:!0},{title:"收藏",type:"collected",data:s.WENKU_COLLECTED}]);t.filterDS=s},"./src/screens/discovery/wenku/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/decorators/index.ts"),i=s("./src/utils/hooks/index.ts"),a=r(s("./src/screens/discovery/anime/header/index.tsx")),d=r(s("./src/screens/discovery/wenku/list/index.tsx")),r=r(s("./src/screens/discovery/wenku/store.ts")),l=s("./node_modules/react/jsx-runtime.js"),s=(0,o.ic)(r.default,function(e,t){var s=t.$;return(0,i.useRunAfter)(function(){s.init()}),(0,i.useObserver)(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{title:"找文库",alias:"文库",hm:["wenku","Wenku"]}),(0,l.jsx)(n.Page,{loaded:s.state._loaded,children:(0,l.jsx)(d.default,{})})]})})});t.default=s;try{wenku.displayName="wenku",wenku.__docgenInfo={description:"",displayName:"wenku",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/index.tsx#wenku"]={docgenInfo:wenku.__docgenInfo,name:"wenku",path:"src/screens/discovery/wenku/index.tsx#wenku"})}catch(e){}},"./src/screens/discovery/wenku/item-grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.slice.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),m=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/discovery/wenku/item-grid/styles.ts"),_=s("./node_modules/react/jsx-runtime.js"),x={id:"文库.跳转"};s=(0,r.obc)(function(e,t){var s=e.pickIndex,r=e.index,e=e.num,t=t.navigation,n=(0,j.memoStyles)(),s=f.otaStore.wenkuSubjectId(s),o=(s=f.otaStore.wenku(s)).id,i=s.wid,a=s.image,d=s.cn,l=s.score,c=s.rank,u=s.begin,s=s.update;return o?(0,_.jsx)(p.ItemCollectionsGrid,{navigation:t,style:(f._.isPad||f._.isLandscape)&&!(r%e)&&n.left,event:x,num:e,id:o,wid:i,cover:a?"https://lain.bgm.tv/pic/cover/m/"+a+".jpg":y.IMG_DEFAULT,nameCn:d,score:l,rank:c,airtime:u||s?String(u||s).slice(0,7):"",typeCn:"书籍",collection:f.collectionStore.collect(o)}):(t=f._.grid(e),(0,_.jsx)(m.Flex,{style:{width:t.width,height:y.IMG_HEIGHT_LG,marginBottom:t.marginLeft+f._.xs,marginLeft:t.marginLeft},justify:"center",children:(0,_.jsx)(m.Loading.Raw,{})}))});t.default=s},"./src/screens/discovery/wenku/item-grid/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{left:{marginLeft:r._.wind}}});t.memoStyles=s},"./src/screens/discovery/wenku/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.fill.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),T=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),I=s("./src/stores/index.ts"),C=s("./src/screens/_/index.ts"),w=s("./src/utils/dev/index.ts"),n=s("./src/utils/decorators/index.ts"),k=s("./src/utils/fetch/index.ts"),E=s("./src/constants/index.ts"),R=r(s("./src/screens/discovery/wenku/item/tags.tsx")),A=s("./src/screens/discovery/wenku/item/styles.ts"),P=s("./node_modules/react/jsx-runtime.js");r=(0,n.obc)(function(e,t){var s,r,n,o=e.index,e=e.pickIndex,i=t.$,a=t.navigation,t=(0,A.memoStyles)(),e=I.otaStore.wenkuSubjectId(e),d=(e=I.otaStore.wenku(e)).id,l=e.wid,c=e.image,u=e.cn,m=e.ep,p=e.status,f=e.begin,y=e.update,j=e.score,_=e.rank,x=e.total,g=e.cate,b=e.author,h=e.len,v=e.hot,S=e.up,O=e.anime,e=e.tags;return d?(s=20<=u.length?13:14<=u.length?14:15,p=[1===p?"完结":"连载",f||y,g,b,h?h+"万字":"",m],"更新"===i.state.query.sort&&y&&p.push(y+" 更新"),f=p.filter(function(e){return!!e}).join(" / "),g=(0,w.fill)("",v,"◆"),b=(0,w.fill)("",S,"▲"),r=c?"https://lain.bgm.tv/pic/cover/m/"+c+".jpg":E.IMG_DEFAULT,n=I.collectionStore.collect(d),(0,P.jsxs)(T.Touchable,{style:t.container,animate:!0,onPress:function(){a.push("Subject",{subjectId:d,_cn:u,_image:r,_wid:l}),(0,k.t)("游戏.跳转",{subjectId:d})},children:[(0,P.jsxs)(T.Flex,{style:t.wrap,align:"start",children:[(0,P.jsx)(C.Cover,{src:r,width:E.IMG_WIDTH_LG,height:E.IMG_HEIGHT_LG,radius:!0,shadow:!0,type:"书籍"}),(0,P.jsxs)(T.Flex.Item,{style:I._.ml.wind,children:[(0,P.jsxs)(T.Flex,{align:"start",children:[(0,P.jsx)(T.Flex.Item,{children:(0,P.jsxs)(T.Flex,{style:t.content,direction:"column",justify:"between",align:"start",children:[(0,P.jsx)(T.Text,{size:s,bold:!0,numberOfLines:3,children:u||"-"}),(0,P.jsx)(T.Text,{style:I._.mt.sm,size:11,lineHeight:14,numberOfLines:3,children:f}),(0,P.jsxs)(T.Flex,{style:[I._.container.block,I._.mt.sm],children:[(0,P.jsx)(T.Flex.Item,{children:!!g&&(0,P.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["热度　",g]})}),(0,P.jsx)(T.Flex.Item,{children:!!b&&(0,P.jsxs)(T.Text,{size:10,bold:!0,type:"sub",children:["趋势　",b]})})]})]})}),(0,P.jsx)(C.Manage,{subjectId:d,collection:n,typeCn:"书籍",onPress:function(){I.uiStore.showManageModal({subjectId:d,title:u,status:E.MODEL_COLLECTION_STATUS.getValue(n),action:"读"},"找文库")}})]}),(0,P.jsxs)(T.Flex,{style:t.bottom,children:[(0,P.jsx)(C.Rank,{value:_}),(0,P.jsx)(C.Stars,{style:I._.mr.xs,value:j,simple:!0}),!!x&&(0,P.jsxs)(T.Text,{style:I._.mr.sm,type:"sub",size:11,bold:!0,children:["(",x,")"]}),!!O&&(0,P.jsx)(C.Tag,{style:I._.mr.sm,value:"动画化"}),(0,P.jsx)(T.Flex.Item,{children:(0,P.jsx)(R.default,{value:e})})]})]})]}),0===o&&(0,P.jsx)(T.Heatmap,{id:"游戏.跳转"})]})):(0,P.jsx)(T.Flex,{style:t.loading,justify:"center",children:(0,P.jsx)(T.Loading.Raw,{})})});t.default=r},"./src/screens/discovery/wenku/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),n=s("./src/constants/index.ts"),s=r._.memoStyles(function(){var e=.8*n.IMG_HEIGHT_LG;return{container:{paddingLeft:r._.wind},wrap:{paddingVertical:r._.md,paddingRight:r._.wind},content:{height:e},loading:{height:n.IMG_HEIGHT_LG},bottom:{marginTop:n.IMG_HEIGHT_LG-e-16}}});t.memoStyles=s},"./src/screens/discovery/wenku/item/tags.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s,e=e.value,t=t.$;return e&&"string"==typeof e?(s=t.state.query.tags,t=e.split(" ").sort(function(e,t){return(0,o.desc)(s.includes(e),s.includes(t))}),(0,i.jsx)(n.Tags,{value:t})):null});t.default=s},"./src/screens/discovery/wenku/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.keyExtractor=S,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/react/index.js")),m=s("./src/components/index.ts"),p=s("./src/screens/_/index.ts"),f=s("./src/stores/index.ts"),y=s("./src/utils/decorators/index.ts"),j=r(s("./src/screens/discovery/wenku/item/index.tsx")),_=r(s("./src/screens/discovery/wenku/item-grid/index.tsx")),x=s("./src/screens/discovery/wenku/ds.ts"),g=s("./node_modules/react/jsx-runtime.js");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}r=u.default.Component,(0,a.default)(v,r),h=b(v),(0,o.default)(v,[{key:"num",get:function(){return f._.portrait(3,5)}},{key:"renderFilter",value:function(){return(0,g.jsx)(p.Filter,{filterDS:x.filterDS,name:"文库",type:"文库",lastUpdate:"2022-09",information:"数据最后快照于 2022-09-20，在版本更新前数据不会有任何变化，轻小说因变化频率较低预计半年更新一次。\n        \n本页数据非来源自 bgm.tv，并非所有条目都进行了收录。\n        \n有比 bgm.tv 更准确的分类、更丰富的筛选和更多的排序。\n        \n目前本功能对所有用户开放，非高级会员在一个条件下会有最多只显示前 "+x.ADVANCE_LIMIT+" 条数据的限制。\n        \n整理不易，若觉得有用可以通过各种方式给与鼓励支持!"})}},{key:"render",value:function(){var e=this.context.$,t=e.state,s=t._loaded,r=t.layout,t=t.data;return s||t._loaded?(s=e.isList?void 0:this.num,(0,g.jsx)(p.PaginationList2,{keyExtractor:S,connectRef:this.connectRef,contentContainerStyle:f._.container.bottom,numColumns:s,data:e.list,limit:9,ListHeaderComponent:this.renderFilter(),renderItem:this.renderItem,scrollToTop:!0,onPage:f.otaStore.onWenkuPage},""+r+s)):(0,g.jsxs)(g.Fragment,{children:[this.renderFilter(),(0,g.jsx)(m.Loading,{})]})}}]);var h,s=v;function v(){var s;(0,n.default)(this,v);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s=h.call.apply(h,[this].concat(t)),(0,c.default)((0,i.default)(s),"connectRef",function(e){var t=s.context.$;e&&e.scrollToOffset&&(t.scrollToOffset=e.scrollToOffset)}),(0,c.default)((0,i.default)(s),"renderItem",function(e){var t=e.item,e=e.index;return"list"===s.context.$.state.layout?(0,g.jsx)(j.default,{pickIndex:t,index:e}):(0,g.jsx)(_.default,{pickIndex:t,index:e,num:s.num})}),s}u=(0,y.obc)(s);function S(e){return String(e)}t.default=u;try{S.displayName="keyExtractor",S.__docgenInfo={description:"",displayName:"keyExtractor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#keyExtractor"]={docgenInfo:S.__docgenInfo,name:"keyExtractor",path:"src/screens/discovery/wenku/list/index.tsx#keyExtractor"})}catch(e){}try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wenku/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wenku/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wenku/store.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js"),n=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"))),a=n(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=n(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(s("./node_modules/@babel/runtime/helpers/createClass.js")),l=n(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=n(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=n(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=n(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=n(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),y=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),n=n(s("./src/utils/store/index.ts")),_=s("./src/utils/subject/wenku/index.ts"),x=s("./src/utils/fetch/index.ts"),g=s("./src/constants/index.ts"),b=s("./src/screens/discovery/wenku/ds.ts");function h(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(s);return e=r?(e=(0,m.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var v,S="ScreenWenku",O=!1,c=(s=n.default,(0,c.default)(T,s),v=h(T),(0,o.default)(T,[{key:"cnFirst",get:function(){return j.systemStore.setting.cnFirst}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"total",get:function(){return this.state.data.list.length}},{key:"list",get:function(){var e=this.state,t=e.data,e=e.query,t=t.list;return"隐藏"===e.collected&&(t=t.filter(function(e){e=j.otaStore.wenkuSubjectId(e);return!j.collectionStore.collect(e)})),t=j.systemStore.advance?t:t.filter(function(e,t){return t<b.ADVANCE_LIMIT})}}]),(0,f.default)((n=T).prototype,"cnFirst",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"cnFirst"),n.prototype),(0,f.default)(n.prototype,"isList",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"isList"),n.prototype),(0,f.default)(n.prototype,"total",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"total"),n.prototype),(0,f.default)(n.prototype,"list",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"list"),n.prototype),n);function T(){var o;(0,d.default)(this,T);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return o=v.call.apply(v,[this].concat(t)),(0,p.default)((0,l.default)(o),"params",void 0),(0,p.default)((0,l.default)(o),"state",(0,y.observable)({query:{first:"",year:2022,status:"",anime:"",cate:"",author:"",tags:[],sort:"发行",collected:""},data:g.LIST_EMPTY,layout:"list",expand:!1,_loaded:!1})),(0,p.default)((0,l.default)(o),"init",(0,a.default)(r.mark(function e(){var t,s;return r.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getStorage(S);case 2:if(t=e.sent,o.setState(Object.assign({},t,{_loaded:O})),O){e.next=7;break}return e.next=7,(0,_.init)();case 7:O=!0,t=o.params._tags,(s=void 0===t?[]:t).length&&o.initQuery(s),j.collectionStore.fetchUserCollectionsQueue(!1,"书籍"),o.search(),setTimeout(function(){o.setState({_loaded:!0})},120);case 13:case"end":return e.stop()}},e)}))),(0,p.default)((0,l.default)(o),"search",function(){setTimeout(function(){var e=o.state.query,e=(0,_.search)(e);o.setState({data:e})},80)}),(0,p.default)((0,l.default)(o),"initQuery",function(){var e=o.state.query;o.setState({expand:!0,query:Object.assign({},e,{tags:0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]})})}),(0,p.default)((0,l.default)(o),"onSelect",function(e,t){var s,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=o.state.query;"tags"===e?(s=void 0===(s=n.tags)?[]:s,r?o.setState({query:Object.assign({},n,{tags:""===t?[]:s.includes(t)?s.filter(function(e){return t!==e}):[].concat((0,i.default)(s),[t])})}):o.setState({query:Object.assign({},n,{tags:""===t?[]:[t]})})):o.setState({query:Object.assign({},n,(0,p.default)({},e,t))}),setTimeout(function(){o.search(),o.setStorage(S),(0,x.t)("文库.选择",{type:e,value:t,multiple:r})},0)}),(0,p.default)((0,l.default)(o),"scrollToOffset",null),(0,p.default)((0,l.default)(o),"scrollToTop",function(){"function"==typeof o.scrollToOffset&&(o.scrollToOffset({x:0,y:0,animated:!0}),(0,x.t)("文库.到顶"))}),(0,p.default)((0,l.default)(o),"switchLayout",function(){var e=o.isList?"grid":"list";(0,x.t)("文库.切换布局",{layout:e}),o.setState({layout:e}),o.setStorage(S)}),(0,p.default)((0,l.default)(o),"onExpand",function(){var e=o.state.expand;o.setState({expand:!e}),o.setStorage(S)}),o}t.default=c},"./src/screens/discovery/wiki/cate/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),r=s("./src/utils/decorators/index.ts"),o=s("./src/screens/discovery/wiki/ds.ts"),i=s("./src/screens/discovery/wiki/cate/styles.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,s=(0,i.memoStyles)(),r=t.state.top;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.SegmentedControl,{style:s.segment,size:11,values:o.TOP_DS,selectedIndex:r,onValueChange:t.onChangeTop}),(0,a.jsx)(n.SegmentedControl,{style:s.segment,size:11,values:t.segement.values,selectedIndex:t.segement.selectedIndex,onValueChange:t.onChangeSub},t.segement.key)]})});t.default=s;try{cate.displayName="cate",cate.__docgenInfo={description:"",displayName:"cate",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/cate/index.tsx#cate"]={docgenInfo:cate.__docgenInfo,name:"cate",path:"src/screens/discovery/wiki/cate/index.tsx#cate"})}catch(e){}},"./src/screens/discovery/wiki/cate/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{segment:{width:r._.window.width-2*r._.wind,height:r._.r(32),marginLeft:r._.wind,marginTop:r._.sm+2}}});t.memoStyles=s},"./src/screens/discovery/wiki/counts/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),a=s("./src/components/index.ts"),d=s("./src/screens/_/index.ts"),l=s("./src/stores/index.ts"),r=s("./src/utils/decorators/index.ts"),c=s("./src/screens/discovery/wiki/ds.ts"),u=s("./src/screens/discovery/wiki/counts/styles.ts"),m=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var t=t.$,r=(0,u.memoStyles)(),n=l.systemStore.setting.coverRadius,s=(t=t.wiki).counts,o=void 0===(t=t.lastCounts)?[]:t;return(0,m.jsxs)(i.default,{style:l._.mt._sm,children:[(0,m.jsx)(d.PreventTouchPlaceholder,{}),(0,m.jsx)(a.ScrollView,{contentContainerStyle:r.contentContainerStyle,horizontal:!0,showsHorizontalScrollIndicator:!1,children:s.map(function(e,t){var s=o.length>t&&parseInt(e.replace(/,/g,""))-parseInt(o[t].replace(/,/g,""));return(0,m.jsxs)(i.default,{style:[r.count,{borderRadius:n}],children:[(0,m.jsx)(a.Text,{size:13,bold:!0,children:c.LABEL_DS[t]}),(0,m.jsxs)(a.Text,{style:l._.mt.xs,type:"main",bold:!0,children:[e,!!s&&(0,m.jsxs)(a.Text,{type:"bid",bold:!0,children:[" ","↑",s]})]})]},c.LABEL_DS[t])})})]})});t.default=s;try{counts.displayName="counts",counts.__docgenInfo={description:"",displayName:"counts",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/counts/index.tsx#counts"]={docgenInfo:counts.__docgenInfo,name:"counts",path:"src/screens/discovery/wiki/counts/index.tsx#counts"})}catch(e){}},"./src/screens/discovery/wiki/counts/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{contentContainerStyle:{paddingHorizontal:r._.wind,paddingLeft:r._.wind-r._.sm,minHeight:r._.r(56)},count:{padding:r._.device(r._.sm,r._.md),marginTop:r._.sm,marginLeft:r._.sm,backgroundColor:r._.select(r._.colorBg,r._._colorDarkModeLevel1),borderRadius:r._.radiusSm,borderWidth:r._.hairlineWidth,borderColor:r._.colorBorder}}});t.memoStyles=s},"./src/screens/discovery/wiki/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_DS=t.TOP_DS=t.RELATION_DS=t.NAMESPACE=t.LAST_DS=t.LABEL_DS=t.KEYS=void 0;t.NAMESPACE="ScreenWiki",t.KEYS={"0|0":"all","0|1":"lock","0|2":"merge","0|3":"crt","0|4":"prsn","0|5":"ep","1|0":"relation","1|1":"subjectPerson","1|2":"subjectCrt","2|0":"all","2|1":"anime","2|2":"book","2|3":"music","2|4":"game","2|5":"real"},t.LABEL_DS=["全部条目","动画","书籍","音乐","游戏","三次元","章节","角色","人物","编辑"],t.TOP_DS=["编辑","关联","入库"],t.TYPE_DS=["条目","锁定","合并","角色","人物","章节"],t.RELATION_DS=["条目关联","人物关联","角色关联"];t.LAST_DS=["全部","动画","书籍","音乐","游戏","三次元"]},"./src/screens/discovery/wiki/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/constants/index.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.ob)(function(){return(0,d.jsx)(n.Header,{title:"维基人",hm:["wiki","Wiki"],headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("维基人.右上角菜单",{key:e}),(0,o.open)(a.HOST+"/wiki"))},children:(0,d.jsx)(n.Heatmap,{id:"维基人.右上角菜单"})})}})});t.default=s},"./src/screens/discovery/wiki/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),o=s("./src/components/index.ts"),i=s("./src/stores/index.ts"),a=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),l=r(s("./src/screens/discovery/wiki/header/index.tsx")),c=r(s("./src/screens/discovery/wiki/counts/index.tsx")),u=r(s("./src/screens/discovery/wiki/cate/index.tsx")),m=r(s("./src/screens/discovery/wiki/list/index.tsx")),r=r(s("./src/screens/discovery/wiki/store.ts")),p=s("./node_modules/react/jsx-runtime.js"),s=(0,a.ic)(r.default,function(e,t){var s=t.$;return(0,d.useRunAfter)(function(){s.init()}),(0,d.useObserver)(function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.default,{}),(0,p.jsxs)(o.Page,{children:[(0,p.jsx)(c.default,{}),(0,p.jsxs)(n.default,{style:f.list,children:[(0,p.jsx)(u.default,{}),(0,p.jsx)(m.default,{})]})]})]})})}),f=(t.default=s,i._.create({list:{flex:1,paddingTop:i._.sm}}));try{wiki.displayName="wiki",wiki.__docgenInfo={description:"",displayName:"wiki",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/index.tsx#wiki"]={docgenInfo:wiki.__docgenInfo,name:"wiki",path:"src/screens/discovery/wiki/index.tsx#wiki"})}catch(e){}},"./src/screens/discovery/wiki/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),l=s("./src/components/index.ts"),c=s("./src/screens/_/index.ts"),u=s("./src/stores/index.ts"),m=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),p=s("./src/constants/index.ts"),f=s("./src/screens/discovery/wiki/item/styles.ts"),y=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=e.id,r=e.name,n=e.detail,o=e.userName,i=e.userId,a=t.navigation,e=(0,f.memoStyles)(),t=String(s).includes("/subject/")?String(s).replace("/subject/",""):0;return(0,y.jsxs)(d.default,{style:e.item,children:[(0,y.jsxs)(l.Flex,{align:"start",children:[!!t&&(0,y.jsx)(c.Cover,{style:u._.mr.md,size:p.IMG_WIDTH_SM,height:p.IMG_HEIGHT_SM,src:(0,p.API_COVER)(t),radius:!0,headers:u.userStore.requestHeaders}),(0,y.jsxs)(l.Flex.Item,{children:[(0,y.jsx)(l.Touchable,{style:e.touch,onPress:function(){return(0,m.appNavigate)(s,a)},children:(0,y.jsx)(l.Text,{type:"main",lineHeight:15,bold:!0,children:(0,m.findSubjectCn)(r)})}),(0,y.jsxs)(l.Text,{style:u._.mt.xs,onPress:function(){return a.push("Zone",{userId:i})},children:[!!n&&(0,y.jsxs)(l.Text,{type:"sub",size:12,lineHeight:14,children:[n," "]}),!(!o&&!i)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Text,{type:"sub",size:12,lineHeight:14,children:["by"," "]}),(0,y.jsx)(l.Text,{size:12,lineHeight:14,bold:!0,children:o||i})]})]})]})]}),(0,y.jsx)(l.Divider,{style:u._.mt.sm})]})});t.default=s},"./src/screens/discovery/wiki/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingVertical:r._.sm,paddingHorizontal:r._.wind},touch:{borderRadius:r._.radiusSm,overflow:"hidden"}}});t.memoStyles=s},"./src/screens/discovery/wiki/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=r(s("./src/screens/discovery/wiki/item/index.tsx")),d=s("./node_modules/react/jsx-runtime.js");r=(0,i.obc)(function(e,t){return t=t.$,(0,d.jsx)(n.ScrollView,{contentContainerStyle:[o._.mt.md,o._.container.bottom],children:t.list.map(function(e,t){return(0,d.jsx)(a.default,Object.assign({},e),t)})})});t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/wiki/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/wiki/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/wiki/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.find-index.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/screens/discovery/wiki/ds.ts");function _(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}s=r.default,(0,l.default)(g,s),x=_(g),(0,a.default)(g,[{key:"wiki",get:function(){return y.discoveryStore.wiki}},{key:"segement",get:function(){var e,t,s=this.state,r=s.top,n=s.type,o=s.relation,s=s.last,o=1===r?(e="relation",t=j.RELATION_DS,o):2===r?(e="last",t=j.LAST_DS,s):(e="type",t=j.TYPE_DS,n);return{key:e,values:t,selectedIndex:o}}},{key:"list",get:function(){var e=this.wiki,t=e.timeline,t=void 0===t?{}:t,e=e.last,s=this.state,r=s.top,n=s.type,o=s.relation,s=s.last;return 0===r?t[j.KEYS[r+"|"+n]]||[]:1===r?t[j.KEYS[r+"|"+o]]||[]:(void 0===e?{}:e)[j.KEYS[r+"|"+s]]||[]}}]),(0,p.default)((r=g).prototype,"wiki",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"wiki"),r.prototype),(0,p.default)(r.prototype,"segement",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"segement"),r.prototype),(0,p.default)(r.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype);var x,l=r;function g(){var r;(0,i.default)(this,g);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=x.call.apply(x,[this].concat(t)),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({top:0,type:0,relation:0,last:0,_loaded:!1})),(0,m.default)((0,d.default)(r),"init",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.getStorage(j.NAMESPACE),e.next=3,t;case 3:return t=e.sent,r.setState(Object.assign({},t,{_loaded:!0})),e.abrupt("return",y.discoveryStore.fetchWiki());case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"onChangeTop",function(t){r.setState({top:j.TOP_DS.findIndex(function(e){return e===t})}),r.setStorage(j.NAMESPACE)}),(0,m.default)((0,d.default)(r),"onChangeSub",function(t){var e=r.segement,s=e.key,e=e.values;r.setState((0,m.default)({},s,e.findIndex(function(e){return e===t}))),r.setStorage(j.NAMESPACE)}),r}t.default=l},"./src/screens/discovery/yearbook/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.YEARS=void 0;t.YEARS=[2017,2016,2015,2014,2013,2012,2011,2010]},"./src/screens/discovery/yearbook/index.tsx":(e,t,o)=>{o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.array.map.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s(o("./node_modules/react/index.js")),o("./src/components/index.ts")),a=o("./src/stores/index.ts"),d=o("./src/utils/index.ts"),r=o("./src/utils/hooks/index.ts"),l=o("./src/utils/fetch/index.ts"),c=o("./src/constants/index.ts"),u=s(o("./src/screens/discovery/index/award-2022/index.web.tsx")),m=o("./src/screens/discovery/yearbook/ds.ts"),p=o("./src/screens/discovery/yearbook/styles.ts"),f=o("./node_modules/react/jsx-runtime.js");t.default=function(e){var n=e.navigation;return(0,r.useObserver)(function(){var s=(0,p.memoStyles)(),r=a._.portrait(2,4);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Header,{title:"Bangumi年鉴",hm:["discovery/yearbook","Yearbook"]}),(0,f.jsx)(i.Page,{children:(0,f.jsxs)(i.ScrollView,{contentContainerStyle:s.container,scrollToTop:!0,children:[(0,f.jsx)(u.default,{navigation:n,width:s.item2021.width,height:s.item2021.height}),(0,f.jsxs)(i.Flex,{wrap:"wrap",children:[(0,f.jsx)(i.Touchable,{style:s.item2021,animate:!0,onPress:function(){(0,l.t)("Bangumi年鉴.跳转",{to:"Award",year:2021}),n.push("Award",{uri:c.HOST+"/award/2021"})},children:(0,f.jsx)(i.Image,{src:o("./src/assets/images/static/2021.png"),size:s.item2021.width,height:s.item2021.height,placeholder:!1,resizeMode:"contain"})}),(0,f.jsx)(i.Touchable,{style:s.item2020,animate:!0,onPress:function(){(0,l.t)("Bangumi年鉴.跳转",{to:"Award",year:2020}),n.push("Award",{uri:c.HOST+"/award/2020"})},children:(0,f.jsx)(i.Image,{src:o("./src/assets/images/static/2020.png"),size:s.item2020.width,height:s.item2020.height,placeholder:!1,resizeMode:"contain"})}),(0,f.jsx)(i.Touchable,{style:s.item2019,animate:!0,onPress:function(){(0,l.t)("Bangumi年鉴.跳转",{to:"Award",year:2019}),n.push("Award",{uri:c.HOST+"/award/2019"})},children:(0,f.jsx)(i.Flex,{justify:"center",children:(0,f.jsx)(i.Image,{src:o("./src/assets/images/static/2019.png"),size:s.item2019.width-32,height:s.item2019.height,placeholder:!1,resizeMode:"contain"})})}),(0,f.jsx)(i.Touchable,{style:s.item2018,animate:!0,onPress:function(){(0,l.t)("Bangumi年鉴.跳转",{to:"Award",year:2018}),n.push("Award",{uri:c.HOST+"/award/2018"})},children:(0,f.jsx)(i.Image,{src:o("./src/assets/images/static/2018.png"),size:s.item2018.width,height:s.item2018.height,placeholder:!1})})]}),(0,f.jsx)(i.Flex,{wrap:"wrap",children:m.YEARS.map(function(e,t){return(0,f.jsx)(i.Touchable,{style:a._.container.touch,animate:!0,onPress:function(){(0,l.t)("Bangumi年鉴.跳转",{to:"Award",year:e}),n.push("Award",{uri:c.HOST+"/award/"+e})},children:(0,f.jsx)(i.Flex,{style:(0,d.stl)(s.item,t%r==0&&s.left),justify:"center",direction:"column",children:(0,f.jsx)(i.Text,{size:18,type:a._.select("plain","title"),bold:!0,children:e})})},e)})})]})})]})})};try{yearbook.displayName="yearbook",yearbook.__docgenInfo={description:"",displayName:"yearbook",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/yearbook/index.tsx#yearbook"]={docgenInfo:yearbook.__docgenInfo,name:"yearbook",path:"src/screens/discovery/yearbook/index.tsx#yearbook"})}catch(e){}},"./src/screens/discovery/yearbook/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts"),s=n._.memoStyles(function(){var e=n._.portrait(1,2),t=(n._.window.width-2*n._.wind-n._.md*(e-1))/e,s=.4*t,r=n._.portrait(2,4),r=(n._.window.width-2*n._.wind-n._.md*(r-1))/r;return{container:{paddingHorizontal:n._.wind,paddingBottom:n._.bottom},item2021:{width:t,height:s,marginTop:n._.md,backgroundColor:"#ebf3ec",borderRadius:n._.radiusMd,overflow:"hidden"},item2020:{width:t,height:s,marginTop:n._.md,backgroundColor:"rgb(236, 243, 236)",borderRadius:n._.radiusMd,overflow:"hidden"},item2019:{width:t,height:s,marginTop:n._.md,marginLeft:2===e?n._.md:0,backgroundColor:"rgb(54, 63, 69)",borderRadius:n._.radiusMd,overflow:"hidden"},item2018:{width:t,height:s,marginTop:n._.md,borderRadius:n._.radiusMd,overflow:"hidden"},item:{width:r,height:r,marginTop:n._.md,marginLeft:n._.md,backgroundColor:n._.select(n._.colorDesc,n._._colorDarkModeLevel1),borderRadius:n._.radiusMd},left:{marginLeft:0}}});t.memoStyles=s},"./src/screens/home/catalogs/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./src/screens/home/catalogs/header/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,d.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?"包含"+s.params.name+"的目录":"条目目录",alias:"条目目录",hm:[s.url,"SubjectCatalogs"],headerTitleStyle:a.styles.title,headerRight:function(){return(0,d.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("条目目录.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,d.jsx)(n.Heatmap,{id:"条目目录.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/catalogs/header/index.tsx#header"})}catch(e){}},"./src/screens/home/catalogs/header/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;s=s("./src/stores/index.ts"),s=s._.create({title:{paddingLeft:s._.sm,paddingRight:s._.md}});t.styles=s},"./src/screens/home/catalogs/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/home/catalogs/header/index.tsx")),l=r(s("./src/screens/home/catalogs/list/index.tsx")),r=r(s("./src/screens/home/catalogs/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{loaded:s.list._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"条目目录",screen:"SubjectCatalogs"})]})]})})});t.default=s;try{catalogs.displayName="catalogs",catalogs.__docgenInfo={description:"",displayName:"catalogs",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/index.tsx#catalogs"]={docgenInfo:catalogs.__docgenInfo,name:"catalogs",path:"src/screens/home/catalogs/index.tsx#catalogs"})}catch(e){}},"./src/screens/home/catalogs/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/screens/_/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js"),a={id:"条目目录.跳转"};s=(0,r.ob)(function(e){var t=e.item,e=e.index;return(0,i.jsx)(o.ItemCatalog,{event:a,isUser:!0,id:t.id,name:t.userName,title:t.title,children:!e&&(0,i.jsx)(n.Heatmap,{id:"条目目录.跳转"})})});t.default=s;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/item/index.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/screens/home/catalogs/item/index.tsx#item"})}catch(e){}},"./src/screens/home/catalogs/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),a=s("./src/utils/decorators/index.ts"),d=r(s("./src/screens/home/catalogs/item/index.tsx")),l=s("./node_modules/react/jsx-runtime.js");r=(0,a.obc)(function(e,t){var s=t.$;return(0,l.jsx)(n.ListView,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,data:s.list,lazy:4,renderItem:c,scrollToTop:!0,onHeaderRefresh:function(){return s.fetchSubjectCatalogs(!0)},onFooterRefresh:s.fetchSubjectCatalogs})});function c(e){var t=e.item,e=e.index;return(0,l.jsx)(d.default,{item:t,index:e})}t.default=r;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/catalogs/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/catalogs/list/index.tsx#list"})}catch(e){}},"./src/screens/home/catalogs/store.ts":(e,t,s)=>{var o=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),a=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),j=s("./src/utils/fetch/index.ts"),_=s("./src/utils/kv/index.ts"),x=s("./src/constants/index.ts"),g=s("./src/utils/index.ts");function b(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var h,v=[],l=(s=r.default,(0,l.default)(S,s),h=b(S),(0,n.default)(S,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"url",get:function(){return(0,x.HTML_SUBJECT_CATALOGS)(this.subjectId)}},{key:"list",get:function(){var e=y.subjectStore.subjectCatalogs(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):x.LIST_EMPTY}},{key:"catalogDetail",value:function(e){return(0,f.computed)(function(){return y.discoveryStore.catalogDetail(e)}).get()}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"subject-catalogs_"+this.subjectId}}]),(0,p.default)((r=S).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"subjectId"),r.prototype),(0,p.default)(r.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,p.default)(r.prototype,"list",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"list"),r.prototype),(0,p.default)(r.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),(0,p.default)(r.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),r);function S(){var n;(0,a.default)(this,S);for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=h.call.apply(h,[this].concat(s)),(0,m.default)((0,d.default)(n),"params",void 0),(0,m.default)((0,d.default)(n),"state",(0,f.observable)({ota:{}})),(0,m.default)((0,d.default)(n),"init",function(){return n.fetchSubjectCatalogs(!0)}),(0,m.default)((0,d.default)(n),"fetchSubjectCatalogs",(0,i.default)(o.mark(function e(){var t,s,r=arguments;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<r.length&&void 0!==r[0]&&r[0])&&n.fetchThirdParty(),e.next=4,y.subjectStore.fetchSubjectCatalogs({subjectId:n.subjectId},t);case 4:return(t=e.sent).list.length&&n.thirdPartyKey in n.state.ota&&(s=(null==(s=n.ota)?void 0:s.ts)||0,604800<=(0,g.getTimestamp)()-s)&&n.updateThirdParty(),(0,j.queue)(t.list.map(function(e){return function(){return n.fetchCatalogDetail(e.id)}})),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"fetchCatalogDetail",(t=(0,i.default)(o.mark(function e(t){var s;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.discoveryStore.catalogDetail(t)._loaded||y.discoveryStore.catalogDetailFromOSS(t)._loaded)return e.abrupt("return",!0);e.next=2;break;case 2:return e.next=4,y.discoveryStore.fetchCatalogDetailFromOSS({id:t});case 4:if(e.sent)return e.abrupt("return",!0);e.next=7;break;case 7:return e.next=9,y.discoveryStore.fetchCatalogDetail({id:t});case 9:return s=e.sent,n.updateCatalogDetail(Object.assign({},s,{id:t})),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),(0,m.default)((0,d.default)(n),"fetchThirdParty",(0,i.default)(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ota||n.list._loaded){e.next=8;break}return e.next=3,(0,_.get)(n.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return n.setState({ota:(0,m.default)({},n.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:n.setState({ota:(0,m.default)({},n.thirdPartyKey,Object.assign({},t,{_loaded:(0,g.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"updateThirdParty",(0,i.default)(o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.includes(n.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(n.thirdPartyKey,{list:n.list.list}),v.push(n.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(n),"updateCatalogDetail",function(c){setTimeout(function(){var e=c.id,t=c.title,s=c.info,r=c.content,n=c.avatar,o=c.nickname,i=c.userId,a=c.time,d=c.collect,l=c.list,s=(0,g.HTMLDecode)((0,g.removeHTMLTag)(s||r));(0,_.update)("catalog_"+e,{id:e,title:t,info:s?s.slice(0,40):"",avatar:n,nickname:o,userId:i,time:a,collect:d,list:l.filter(function(e,t){return t<3}).map(function(e){return{id:e.id,image:e.image,title:e.title,type:e.type,info:e.info,comment:e.comment}}),total:l.length})},2e3)}),n}t.default=l},"./src/screens/home/characters/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的角色":"更多角色",alias:"更多角色",hm:[s.url,"Characters"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("更多角色.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"更多角色.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/characters/header/index.tsx#header"})}catch(e){}},"./src/screens/home/characters/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/home/characters/header/index.tsx")),l=r(s("./src/screens/home/characters/list/index.tsx")),r=r(s("./src/screens/home/characters/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{loaded:s.characters._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"更多角色",screen:"Characters"})]})]})})});t.default=s;try{characters.displayName="characters",characters.__docgenInfo={description:"",displayName:"characters",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/index.tsx#characters"]={docgenInfo:characters.__docgenInfo,name:"characters",path:"src/screens/home/characters/index.tsx#characters"})}catch(e){}},"./src/screens/home/characters/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/screens/_/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js"),d={id:"更多角色.跳转"};s=(0,r.obc)(function(e,t){return t=t.$,(0,a.jsx)(n.PaginationList2,{contentContainerStyle:o._.container.bottom,keyExtractor:i.keyExtractor,data:t.characters.list,limit:12,scrollToTop:!0,renderItem:l,scrollEventThrottle:16,onScroll:t.onScroll})});function l(e){var t=e.item,e=e.index;return(0,a.jsx)(n.ItemCharacter,Object.assign({style:o._.container.item,index:e,event:d},t))}t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/characters/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/characters/list/index.tsx#list"})}catch(e){}},"./src/screens/home/characters/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js"),r=(s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.function.bind.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js")),o=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"))),i=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),f=s("./node_modules/mobx/dist/mobx.esm.js"),y=s("./src/stores/index.ts"),j=s("./src/utils/index.ts"),r=r(s("./src/utils/store/index.ts")),_=s("./src/utils/kv/index.ts"),x=s("./src/constants/index.ts");function g(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(s);return e=r?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var b,h=[],l=(s=r.default,(0,l.default)(v,s),b=g(v),(0,a.default)(v,[{key:"subjectId",get:function(){var e=this.params.subjectId;return void 0===e?"":e}},{key:"characters",get:function(){var e=y.monoStore.characters(this.subjectId);return e._loaded?e:this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):x.LIST_EMPTY}},{key:"url",get:function(){return(0,x.HTML_SUBJECT_CHARACTERS)(this.subjectId)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"thirdPartyKey",get:function(){return"characters_"+this.subjectId}}]),(0,p.default)((r=v).prototype,"subjectId",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"subjectId"),r.prototype),(0,p.default)(r.prototype,"characters",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"characters"),r.prototype),(0,p.default)(r.prototype,"url",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),(0,p.default)(r.prototype,"ota",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"ota"),r.prototype),(0,p.default)(r.prototype,"thirdPartyKey",[f.computed],Object.getOwnPropertyDescriptor(r.prototype,"thirdPartyKey"),r.prototype),r);function v(){var r;(0,i.default)(this,v);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r=b.call.apply(b,[this].concat(t)),(0,m.default)((0,d.default)(r),"params",void 0),(0,m.default)((0,d.default)(r),"state",(0,f.observable)({visibleBottom:y._.window.height,ota:{}})),(0,m.default)((0,d.default)(r),"init",function(){return r.fetchCharacters()}),(0,m.default)((0,d.default)(r),"fetchCharacters",(0,o.default)(n.mark(function e(){var t,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.fetchThirdParty(),e.next=3,y.monoStore.fetchCharacters({subjectId:r.subjectId});case 3:return(t=e.sent).list.length&&r.thirdPartyKey in r.state.ota&&(s=(null==(s=r.ota)?void 0:s.ts)||0,604800<=(0,j.getTimestamp)()-s)&&r.updateThirdParty(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"fetchThirdParty",(0,o.default)(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ota||r.characters._loaded){e.next=8;break}return e.next=3,(0,_.get)(r.thirdPartyKey);case 3:if(t=e.sent){e.next=7;break}return r.setState({ota:(0,m.default)({},r.thirdPartyKey,{list:[],_loaded:0})}),e.abrupt("return");case 7:r.setState({ota:(0,m.default)({},r.thirdPartyKey,Object.assign({},t,{_loaded:(0,j.getTimestamp)()}))});case 8:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"updateThirdParty",(0,o.default)(n.mark(function e(){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.includes(r.thirdPartyKey))return e.abrupt("return");e.next=2;break;case 2:setTimeout(function(){(0,_.update)(r.thirdPartyKey,{list:r.characters.list}),h.push(r.thirdPartyKey)},0);case 3:case"end":return e.stop()}},e)}))),(0,m.default)((0,d.default)(r),"onScroll",j.updateVisibleBottom.bind((0,d.default)(r))),r}t.default=l},"./src/screens/home/episodes/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.function.name.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/utils/index.ts"),i=s("./src/utils/fetch/index.ts"),r=s("./src/utils/decorators/index.ts"),a=s("./node_modules/react/jsx-runtime.js");s=(0,r.obc)(function(e,t){var s=t.$;return(0,a.jsx)(n.Header,{title:null!=(t=s.params)&&t.name?s.params.name+"的章节":"章节",alias:"章节",hm:[s.url,"Episodes"],headerRight:function(){return(0,a.jsx)(n.Header.Popover,{data:["浏览器查看"],onSelect:function(e){"浏览器查看"===e&&((0,i.t)("章节.右上角菜单",{key:e}),(0,o.open)(s.url))},children:(0,a.jsx)(n.Heatmap,{id:"章节.右上角菜单"})})}})});t.default=s;try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/home/episodes/header/index.tsx#header"})}catch(e){}},"./src/screens/home/episodes/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),o=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),a=s("./src/utils/hooks/index.ts"),d=r(s("./src/screens/home/episodes/header/index.tsx")),l=r(s("./src/screens/home/episodes/list/index.tsx")),r=r(s("./src/screens/home/episodes/store.ts")),c=s("./node_modules/react/jsx-runtime.js"),s=(0,i.ic)(r.default,function(e,t){var s=t.$;return(0,a.useRunAfter)(function(){s.init()}),(0,a.useObserver)(function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.default,{}),(0,c.jsxs)(n.Page,{loaded:s.subject._loaded,children:[(0,c.jsx)(l.default,{}),(0,c.jsx)(n.Heatmap,{bottom:o._.bottom,id:"章节",screen:"Episodes"})]})]})})});t.default=s;try{episodes.displayName="episodes",episodes.__docgenInfo={description:"",displayName:"episodes",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/index.tsx#episodes"]={docgenInfo:episodes.__docgenInfo,name:"episodes",path:"src/screens/home/episodes/index.tsx#episodes"})}catch(e){}},"./src/screens/home/episodes/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/react/index.js")),r(s("./node_modules/react-native-web/dist/exports/View/index.js"))),c=s("./node_modules/mobx/dist/mobx.esm.js"),u=s("./src/components/index.ts"),m=s("./src/stores/index.ts"),p=s("./src/utils/index.ts"),r=s("./src/utils/decorators/index.ts"),f=s("./src/utils/fetch/index.ts"),y=s("./src/constants/index.ts"),j=s("./src/screens/home/episodes/list/styles.tsx"),_=s("./node_modules/react/jsx-runtime.js"),x=m._.r(128),g=.56*x;s=(0,r.obc)(function(e,t){var s=t.$,r=t.navigation,n=(0,j.memoStyles)(),t=s.eps.slice().sort(function(e,t){return(0,p.desc)(e,t,function(e){return"NA"===e.status?0:e.type||10})}),o=(0,c.toJS)(s.params.epsThumbs||[]),i=(s=s.params).filterEps,a=void 0===i?0:i,d=void 0===(i=s.epsThumbsHeader)?{}:i;return(0,_.jsx)(u.ScrollView,{style:m._.container.plain,contentContainerStyle:m._.container.bottom,scrollToTop:!0,children:t.map(function(e,t){return(0,_.jsxs)(u.Touchable,{animate:!0,onPress:function(){(0,f.t)("章节.跳转",{to:"Topic",topicId:"ep/"+e.id}),r.push("Topic",{topicId:"ep/"+e.id,_title:"ep"+e.sort+"."+e.name,_desc:"时长:"+e.duration+" / 首播:"+e.airdate+"<br />"+e.desc})},children:[(0,_.jsxs)(u.Flex,{style:n.item,children:[(0,_.jsx)(u.Flex.Item,{children:(0,_.jsxs)(u.Flex,{align:"start",children:[(0,_.jsx)(l.default,{style:(0,p.stl)(n.status,"Air"===e.status&&n.statusPrimary,"Today"===e.status&&n.statusSuccess)}),(0,_.jsxs)(u.Flex.Item,{children:[(0,_.jsxs)(u.Text,{bold:!0,children:[e.sort,". ",(0,p.HTMLDecode)((0,p.cnjp)(e.name_cn,e.name)),!!e.comment&&(0,_.jsxs)(u.Text,{type:"main",size:11,lineHeight:14,children:[" ","+",e.comment]})]}),(0,_.jsxs)(u.Text,{style:m._.mt.sm,size:11,type:"sub",children:["首播: ",e.airdate||"-"," / 时长: ",e.duration||"-"]})]})]})}),!y.STORYBOOK&&!!o[t+a]&&(0,_.jsx)(l.default,{style:m._.ml.sm,children:(0,_.jsx)(u.Image,{src:o[t],size:x,height:g,radius:!0,headers:d,onPress:function(){return(0,p.showImageViewer)(o.map(function(e){return{url:e.split("@")[0],headers:d}}),t)}})})]}),!t&&(0,_.jsx)(u.Heatmap,{id:"章节.跳转"})]},e.id)})})});t.default=s;try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/home/episodes/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/home/episodes/list/index.tsx#list"})}catch(e){}},"./src/screens/home/episodes/list/styles.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var r=s("./src/stores/index.ts"),s=r._.memoStyles(function(){return{item:{paddingVertical:r._.sm+2,paddingHorizontal:r._.wind},status:{width:6,height:6,marginTop:r._.r(6),marginRight:r._.sm,backgroundColor:r._.colorSub,borderRadius:3},statusSuccess:{backgroundColor:r._.colorSuccess},statusPrimary:{backgroundColor:r._.colorPrimary}}});t.memoStyles=s},"./src/screens/home/episodes/store.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js"))),o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),m=s("./node_modules/mobx/dist/mobx.esm.js"),p=s("./src/stores/index.ts"),r=r(s("./src/utils/store/index.ts")),f=s("./src/constants/index.ts");function y(s){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(s);return e=r?(e=(0,l.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,e)}}s=r.default,(0,a.default)(_,s),j=y(_),(0,o.default)(_,[{key:"subjectId",get:function(){return this.params.subjectId}},{key:"subject",get:function(){return p.subjectStore.subject(this.subjectId)}},{key:"eps",get:function(){var e,s;return this.subject._loaded?(e=this.params.filterEps,(s=void 0===e?0:e)?(this.subject.eps||[]).filter(function(e,t){return s<t}):this.subject.eps||[]):[]}},{key:"url",get:function(){return f.HOST+"/subject/"+this.subjectId+"/ep"}}]),(0,u.default)((r=_).prototype,"subjectId",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"subjectId"),r.prototype),(0,u.default)(r.prototype,"subject",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"subject"),r.prototype),(0,u.default)(r.prototype,"eps",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"eps"),r.prototype),(0,u.default)(r.prototype,"url",[m.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype);var j,a=r;function _(){var e;(0,n.default)(this,_);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e=j.call.apply(j,[this].concat(s)),(0,c.default)((0,i.default)(e),"params",void 0),(0,c.default)((0,i.default)(e),"init",function(){return p.subjectStore.fetchSubject(e.subjectId)}),e}t.default=a}}]);