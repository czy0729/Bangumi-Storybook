(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8383],{"./src/screens/web-view/bilibili-sync/btn/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),l=s("./src/screens/web-view/bilibili-sync/btn/styles.ts"),d=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)((function(e){var t=e.style,s=void 0===t?void 0:t,n=e.btnStyle,i=void 0===n?void 0:n,c=e.text,a=void 0===c?"同步":c,u=e.type,m=void 0===u?void 0:u,f=e.size,b=void 0===f?11:f,p=e.disabled,j=void 0===p?void 0:p,_=e.loading,v=void 0===_?void 0:_,x=e.onPress,h=void 0===x?void 0:x,y=(0,l.memoStyles)(),g="success"===m&&!j;return(0,d.jsx)(o.Touchable,{style:(0,r.stl)(y.touch,s),onPress:j||v?void 0:h,children:(0,d.jsx)(o.Flex,{style:(0,r.stl)(y.btn,g&&y.btnSuccess,i),justify:"center",children:v?(0,d.jsx)(o.Loading.Mini,{}):(0,d.jsx)(o.Text,{bold:!0,size:b,type:g?"__plain__":void 0,children:a})})})}))},"./src/screens/web-view/bilibili-sync/btn/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles((function(){return{touch:{width:56,borderRadius:n._.r(28),overflow:"hidden"},btn:{height:n._.r(28),backgroundColor:n._.select(n._.colorBg,n._._colorDarkModeLevel1),borderRadius:n._.r(28)},btnSuccess:{backgroundColor:"rgb(1, 173, 145)"}}}))},"./src/screens/web-view/bilibili-sync/column-bgm/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ob)((function(e){var t=e.select,s=e.text,n=e.next;return(0,l.jsxs)(o.Text,{style:r._.mt.md,type:s?t?"sub":"desc":"sub",size:11,bold:!0,children:[s||"__",t&&(0,l.jsxs)(o.Text,{size:11,bold:!0,type:"desc",children:[" ","→ ",n]})]})}))},"./src/screens/web-view/bilibili-sync/column-select/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=n(s("./node_modules/react-native-web/dist/exports/View/index.js")),r=s("./src/components/index.ts"),i=s("./src/utils/decorators/index.ts"),l=s("./src/screens/web-view/bilibili-sync/column-select/styles.ts"),d=s("./node_modules/react/jsx-runtime.js"),c={top:4,right:32,bottom:4,left:16};t.default=(0,i.ob)((function(e){var t=e.select,s=e.disabled,n=e.onPress;return s?(0,d.jsx)(o.default,{style:l.styles.columnSelect}):(0,d.jsx)(r.Touchable,{style:l.styles.columnSelect,hitSlop:c,onPress:function(){return n(!t)},children:(0,d.jsx)(r.Flex,{style:l.styles.radio,justify:"center",children:(0,d.jsx)(r.Iconfont,{name:t?"md-check-circle":"md-radio-button-off",color:t?"rgb(1, 173, 145)":void 0,size:16})})})}))},"./src/screens/web-view/bilibili-sync/column-select/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=s("./src/stores/index.ts");t.styles=n._.create({columnSelect:{width:26,height:28,paddingTop:5,marginTop:3,marginLeft:-2,borderRadius:20,overflow:"hidden"},radio:{width:26,height:26}})},"./src/screens/web-view/bilibili-sync/column/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/utils/decorators/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,r.ob)((function(e){var t=e.style,s=void 0===t?void 0:t,n=e.type,r=void 0===n?void 0:n,l=e.text,d=void 0===l?void 0:l,c=e.right,a=void 0===c?void 0:c,u=e.onPress,m=void 0===u?void 0:u;return(0,i.jsxs)(o.Flex,{style:s,children:[(0,i.jsx)(o.Text,{size:11,type:d&&"/"!==d?r:"sub",onPress:m,children:d||"__"}),a]})}))},"./src/screens/web-view/bilibili-sync/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.MEDIA_SUBJECT=t.LOADED=t.HOST_API=t.EXCLUDE_STATE=void 0;t.NAMESPACE="ScreenBilibili";var n=t.EXCLUDE_STATE={loadedBangumiData:!1};t.STATE=Object.assign({data:{list:[],_loaded:0},reviews:{},collections:{},bottom:{current:0},hide:!1,hideWatched:!1,hideSame:!1,hideNotMatched:!1,privacy:!1},n,{_loaded:!1}),t.HOST_API="https://api.bgm.tv",t.LOADED={},t.MEDIA_SUBJECT={28220978:1424,28235244:330973,28235419:317042,28236365:326868,28236374:333158,28236378:323626,28236382:341077,28236394:344422,28236424:321825,28236579:348666,3846:35861}},"./src/screens/web-view/bilibili-sync/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/screens/_/index.ts"),i=s("./src/stores/index.ts"),l=s("./src/utils/decorators/index.ts"),d=s("./src/utils/fetch/index.ts"),c=n(s("./src/constants/i18n/index.ts")),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,l.obc)((function(e,t){var s=t.$,n=t.navigation,l=s.state.hide;return(0,a.jsx)(o.Header,{title:"bilibili 同步",hm:["bilibili-sync","BilibiliSync"],headerRight:function(){return(0,a.jsxs)(o.Flex,{children:[(0,a.jsx)(r.IconTouchable,{style:i._.mr.xs,name:l?"md-refresh":"md-close",color:i._.colorDesc,onPress:s.onToggleHide}),(0,a.jsx)(r.IconTouchable,{name:"md-info-outline",color:i._.colorDesc,size:19,onPress:function(){(0,d.t)("bili同步.关于"),n.push("Information",{title:"bilibili 同步",message:["此功能涉及到第三方平台"+c.default.login()+"，作者保证不会窃取任何个人数据，若有异议请勿使用。","因自动对比的数据存在较大的出错可能，目前不打算做一键提交功能，请手动核实后自行提交。","部分(僅限港澳台地區)的番剧做了最低限度的模糊匹配，若连翻译名称都不一样的基本没可能匹配成功。","网页版不存在此功能，所以此为高级会员功能。此功能开发不易，目前暂时对所有用户开放，觉得有用可支持一下。"],advance:!0})}})]})}})}))},"./src/screens/web-view/bilibili-sync/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/utils/index.ts"),i=s("./src/utils/decorators/index.ts"),l=s("./src/utils/hooks/index.ts"),d=n(s("./src/screens/web-view/bilibili-sync/header/index.tsx")),c=n(s("./src/screens/web-view/bilibili-sync/list/index.tsx")),a=n(s("./src/screens/web-view/bilibili-sync/login/index.tsx")),u=n(s("./src/screens/web-view/bilibili-sync/store.ts")),m=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.ic)(u.default,(function(e,t){var s=t.$;return(0,l.useMount)((function(){(0,r.runAfter)((function(){s.init()}))})),(0,l.useObserver)((function(){return(0,m.jsxs)(o.Component,{id:"screen-bilibili-sync",children:[(0,m.jsx)(d.default,{}),(0,m.jsxs)(o.Page,{loaded:s.state._loaded,children:[(0,m.jsx)(a.default,{hide:s.state.hide,onToggleHide:s.onToggleHide,setData:s.setData,setReviews:s.setReviews}),(0,m.jsx)(c.default,{})]})]})}))}))},"./src/screens/web-view/bilibili-sync/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_SLOP=t.DEFAULT_PROPS=t.BILIBILI_STATUS=void 0;var n=s("./src/constants/index.ts");t.BILIBILI_STATUS={1:"想看",2:"在看",3:"看过"},t.HIT_SLOP={top:4,right:20,bottom:4,left:20},t.DEFAULT_PROPS={navigation:{},styles:{},item:{},review:{},collection:{},hideSame:!1,onRefreshCollection:n.FROZEN_FN,onBottom:n.FROZEN_FN,onSubmit:n.FROZEN_FN}},"./src/screens/web-view/bilibili-sync/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/utils/decorators/index.ts"),r=n(s("./src/screens/web-view/bilibili-sync/item/item.tsx")),i=s("./src/screens/web-view/bilibili-sync/item/styles.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)((function(e,t){var s=e.item,n=t.$,o=t.navigation,d=n.state,c=d.hideWatched,a=d.hideSame,u=d.hideNotMatched,m=s.subjectId;if(u&&!m)return null;var f=n.collection(m);return c&&"collect"===(null==f?void 0:f.status)?null:(0,l.jsx)(r.default,{navigation:o,styles:(0,i.memoStyles)(),item:s,review:n.review(s.id),collection:f,hideSame:a,onRefreshCollection:n.onRefreshCollection,onBottom:n.onBottom,onSubmit:n.onSubmit})}))},"./src/screens/web-view/bilibili-sync/item/item.tsx":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=S(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,s&&s.set(e,n),n}(s("react")),d=o(s("./node_modules/react-native-web/dist/exports/View/index.js")),c=s("./src/components/index.ts"),a=s("./src/components/cover/utils.ts"),u=s("./src/screens/_/index.ts"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),b=s("./src/utils/decorators/index.ts"),p=s("./src/utils/fetch/index.ts"),j=s("./src/constants/index.ts"),_=o(s("./src/screens/web-view/bilibili-sync/btn/index.tsx")),v=o(s("./src/screens/web-view/bilibili-sync/column/index.tsx")),x=o(s("./src/screens/web-view/bilibili-sync/column-bgm/index.tsx")),h=o(s("./src/screens/web-view/bilibili-sync/column-select/index.tsx")),y=s("./src/screens/web-view/bilibili-sync/utils.ts"),g=s("./src/screens/web-view/bilibili-sync/item/ds.ts"),w=s("./node_modules/react/jsx-runtime.js");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(S=function(e){return e?s:t})(e)}t.default=(0,b.memo)((function(e){var t,s=e.navigation,o=e.styles,b=e.item,S=e.review,T=e.collection,P=e.hideSame,I=e.onRefreshCollection,E=e.onBottom,O=e.onSubmit,M=b.subjectId,C=!!M,D=!(null==T||!T.loaded),k=(null==(t=b.progress.replace("看到","").replace("第","").split(" "))?void 0:t[0])||"",L=(0,l.useState)(!1),A=(0,i.default)(L,2),R=A[0],B=A[1],N=(0,y.useSelectStatus)(b.status,null==T?void 0:T.status),F=(0,i.default)(N,2),H=F[0],q=F[1],z=(0,y.useSelectEp)(k,null==T?void 0:T.ep_status),W=(0,i.default)(z,2),G=W[0],U=W[1],V=(0,y.useSelectScore)(null==S?void 0:S.score,null==T?void 0:T.rating),J=(0,i.default)(V,2),Y=J[0],$=J[1],K=(0,y.useSelectComment)(null==S?void 0:S.content,null==T?void 0:T.comment),X=(0,i.default)(K,2),Z=X[0],Q=X[1],ee={status:g.BILIBILI_STATUS[b.status]||"",ep:k||"",score:(null==S?void 0:S.score)||"",comment:(null==S?void 0:S.content)||""},te={status:j.MODEL_COLLECTION_STATUS.getLabel(null==T?void 0:T.status)||"",ep:(null==T?void 0:T.ep_status)&&T.ep_status+"话",score:(null==T?void 0:T.rating)||"",comment:(null==T?void 0:T.comment)||""};if(P&&ee.status==te.status&&ee.ep==te.ep&&ee.score==te.score&&ee.comment==te.comment)return null;var se={status:g.BILIBILI_STATUS[b.status],ep:(0,y.getSelectEp)(k,null==T?void 0:T.ep_status).value,score:(0,y.getSelectScore)(null==S?void 0:S.score,null==T?void 0:T.rating).value,comment:(0,y.getSelectComment)(null==S?void 0:S.content,null==T?void 0:T.comment).value},ne=function(){C&&s.push("Subject",{subjectId:M,_cn:b.title.replace("（僅限港澳台地區）",""),_image:(0,a.getCoverSrc)(b.cover,j.IMG_WIDTH_SM)})};return(0,w.jsxs)(c.Flex,{style:o.item,align:"start",children:[(0,w.jsx)(u.Cover,{src:b.cover,width:j.IMG_WIDTH_SM,height:j.IMG_HEIGHT_SM,radius:!0,onPress:ne}),(0,w.jsx)(c.Flex.Item,{children:(0,w.jsxs)(c.Flex,{style:o.body,direction:"column",align:"start",children:[(0,w.jsx)(c.Text,{bold:!0,numberOfLines:2,onPress:ne,children:b.title}),(0,w.jsxs)(c.Flex,{style:m._.mt.md,align:"start",children:[(0,w.jsxs)(d.default,{children:[(0,w.jsx)(v.default,{text:" ",type:"sub"}),(0,w.jsx)(v.default,{style:m._.mt.md,text:"状态",type:"sub"}),(0,w.jsx)(v.default,{style:m._.mt.md,text:"进度",type:"sub"}),(0,w.jsx)(v.default,{style:m._.mt.md,text:"评分",type:"sub"}),(0,w.jsx)(v.default,{style:m._.mt.md,text:"点评",type:"sub"})]}),(0,w.jsxs)(c.Flex.Item,{style:m._.ml.md,children:[(0,w.jsx)(v.default,{text:"bilibili",type:"sub"}),(0,w.jsx)(v.default,{style:m._.mt.md,text:ee.status}),(0,w.jsx)(v.default,{style:m._.mt.md,text:ee.ep}),(0,w.jsx)(v.default,{style:m._.mt.md,text:ee.score}),(0,w.jsx)(v.default,{style:m._.mt.md,text:ee.comment,onPress:function(){null!=S&&S.content&&(0,f.copy)(null==S?void 0:S.content,"已复制")}})]}),(0,w.jsxs)(c.Flex.Item,{style:m._.ml.md,flex:1.5,children:[(0,w.jsx)(v.default,{text:"bgm",type:"sub",right:C&&(0,w.jsx)(c.Touchable,{style:m._.ml.xs,hitSlop:g.HIT_SLOP,onPress:function(){return I(M)},children:(0,w.jsx)(c.Iconfont,{name:"md-refresh",size:12})})}),C?D?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.default,{select:H,text:te.status,next:se.status}),(0,w.jsx)(x.default,{select:G,text:te.ep,next:se.ep+"话"}),(0,w.jsx)(x.default,{select:Y,text:te.score,next:se.score}),(0,w.jsx)(x.default,{select:Z,text:te.comment,next:se.comment})]}):(0,w.jsx)(c.Flex,{style:o.loading,children:(0,w.jsx)(c.Loading.Mini,{})}):(0,w.jsx)(v.default,{style:m._.mt.md,text:"未找到条目"})]}),C&&(0,w.jsxs)(d.default,{style:o.selectors,children:[(0,w.jsx)(v.default,{text:" ",type:"sub"}),D&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.default,{select:H,disabled:!se.status,onPress:q}),(0,w.jsx)(h.default,{select:G,disabled:""===se.ep,onPress:U}),(0,w.jsx)(h.default,{select:Y,disabled:!se.score,onPress:$}),(0,w.jsx)(h.default,{select:Z,disabled:!se.comment,onPress:Q})]})]})]}),(0,w.jsx)(d.default,{style:o.toolbar,children:(0,w.jsxs)(c.Flex,{style:m._.mt.md,children:[(0,w.jsx)(c.Flex.Item,{children:(0,w.jsxs)(c.Flex,{children:[(0,w.jsx)(_.default,{text:"详情",onPress:function(){(0,p.t)("bili同步.详情"),(0,f.open)("https://www.bilibili.com/bangumi/media/md"+b.id)}}),(0,w.jsx)(_.default,{style:m._.ml.sm,text:"搜索",onPress:function(){(0,p.t)("bili同步.搜索"),s.push("Search",{type:"动画",value:b.title.replace("（僅限港澳台地區）","")})}}),(0,w.jsx)(_.default,{style:m._.ml.sm,text:"置底",onPress:function(){return E(b.id)}})]})}),C&&(0,w.jsx)(_.default,{style:m._.ml.md,type:"success",disabled:!D||!(H||G||Y||Z),loading:R,onPress:(0,r.default)(n.mark((function e(){var t,s,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},s={},H?"想看"===se.status?(t.status=!0,s.status="wish"):"看过"===se.status?(t.status=!0,s.status="collect"):"在看"===se.status&&(t.status=!0,s.status="do"):te.status&&(t.status=!0,s.status=j.MODEL_COLLECTION_STATUS.getValue(te.status)),Y&&(t.score=!0,s.rating=se.score),Z&&(t.comment=!0,s.comment=se.comment),o={},G&&(t.ep=!0,o.ep=se.ep),B(!0),e.next=10,O(M,s,o);case 10:B(!1),t.status&&q(!1),t.ep&&U(!1),t.score&&$(!1),t.comment&&Q(!1);case 15:case"end":return e.stop()}}),e)})))})]})})]})})]})}),g.DEFAULT_PROPS)},"./src/screens/web-view/bilibili-sync/item/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles((function(){return{item:{paddingRight:n._.wind-n._._wind,paddingLeft:n._.wind,paddingVertical:n._.md,marginBottom:n._.sm},body:{paddingLeft:n._.md},selectors:{width:48},toolbar:{width:"100%",paddingRight:n._._wind,marginTop:n._.xs},loading:{marginTop:13}}}))},"./src/screens/web-view/bilibili-sync/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/screens/_/index.ts"),r=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),l=n(s("./src/screens/web-view/bilibili-sync/tool-bar/index.tsx")),d=n(s("./src/screens/web-view/bilibili-sync/item/index.tsx")),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)((function(e,t){var s=t.$;return(0,c.jsx)(o.PaginationList2,{contentContainerStyle:r._.container.bottom,data:s.data,limit:12,ListHeaderComponent:(0,c.jsx)(l.default,{}),renderItem:function(e){var t=e.item;return(0,c.jsx)(d.default,{item:t})},onPage:s.onPage})}))},"./src/screens/web-view/bilibili-sync/login/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=v(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,s&&s.set(e,n),n}(s("react")),i=n(s("./node_modules/react-native-web/dist/exports/View/index.js")),l=s("./node_modules/react-native-webview/index.js"),d=s("./src/components/index.ts"),c=s("./src/stores/index.ts"),a=s("./src/utils/index.ts"),u=s("./src/utils/hooks/index.ts"),m=s("./src/utils/fetch/index.ts"),f=n(s("./src/constants/i18n/index.ts")),b=n(s("./src/screens/web-view/bilibili-sync/btn/index.tsx")),p=s("./src/screens/web-view/bilibili-sync/login/utils.ts"),j=s("./src/screens/web-view/bilibili-sync/login/styles.ts"),_=s("./node_modules/react/jsx-runtime.js");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(v=function(e){return e?s:t})(e)}var x;t.default=function(e){var t=e.hide,s=e.onToggleHide,n=e.setData,v=e.setReviews,h=(0,r.useState)(0),y=(0,o.default)(h,2),g=y[0],w=y[1],S=(0,r.useState)("检查状态中..."),T=(0,o.default)(S,2),P=T[0],I=T[1],E=(0,r.useCallback)((function(e){var t,s=JSON.parse(e.nativeEvent.data),o=s.type,r=s.data;switch(o){case p.TYPE_CHECK_LOGIN:I(null!=r&&null!=(t=r.data)&&t.isLogin?"已"+f.default.login():"检查"+f.default.login()+"状态失败，请先"+f.default.login());break;case p.TYPE_GET_LIST:I("已获取番剧列表"),n(r),x=r.length;break;case p.TYPE_GET_REVIEW:I("已获取"+x+"个番剧信息，请收起"+f.default.login()+"框进行操作"),v(r)}}),[n,v]),O=(0,r.useCallback)((function(){I("检查状态中..."),w(g+1),(0,m.t)("bili同步.获取数据")}),[g]);return(0,u.useObserver)((function(){var e=(0,j.memoStyles)();return(0,_.jsxs)(_.Fragment,{children:[!t&&(0,_.jsx)(i.default,{style:e.mask}),(0,_.jsxs)(i.default,{style:(0,a.stl)(e.fixed,t&&e.hide),children:[(0,_.jsx)(i.default,{style:e.container,children:(0,_.jsx)(l.WebView,{source:{uri:"https://m.bilibili.com/space?from=headline"},containerStyle:[e.webview,t&&e.webviewHide],androidHardwareAccelerationDisabled:!0,androidLayerType:"software",javaScriptEnabled:!0,injectedJavaScript:(0,p.injectedJavaScript)(),onMessage:E},g)}),(0,_.jsxs)(i.default,{style:e.body,children:[(0,_.jsx)(d.Text,{bold:!0,size:15,children:P}),(0,_.jsx)(d.Text,{style:c._.mt.md,size:11,type:"sub",children:"若上方网页白屏请多刷新几次。"}),(0,_.jsx)(d.Text,{style:c._.mt.sm,size:11,type:"sub",children:"因 bilibili 对鉴权信息做了保护加密，目前同步番剧需要通过在WebView内部发起带鉴权的请求，获得数据后通知APP。"}),(0,_.jsxs)(d.Text,{style:c._.mt.sm,size:11,type:"sub",children:["完成同步前需要一直保持bilibil",f.default.login(),"状态，完成后你可以手动登出账号。"]}),(0,_.jsxs)(d.Flex,{style:c._.mt.md,justify:"center",children:[(0,_.jsx)(b.default,{style:e.btn,btnStyle:e.btnStyle,text:"重新获取数据",size:13,onPress:O}),(0,_.jsx)(b.default,{style:[e.btn,c._.ml.lg],btnStyle:e.btnStyle,text:"收起"+f.default.login()+"框",size:13,onPress:s})]})]})]})]})}))}},"./src/screens/web-view/bilibili-sync/login/styles.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.memoStyles=void 0;var n=s("./src/stores/index.ts");t.memoStyles=n._.memoStyles((function(){return{mask:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},fixed:{position:"absolute",zIndex:2,top:8,right:n._.wind,width:n._.window.contentWidth,backgroundColor:n._.select(n._.colorPlain,n._._colorDarkModeLevel2),borderRadius:n._.radiusMd,shadowColor:n._.colorShadow,shadowOffset:{width:1,height:2},shadowOpacity:.16,shadowRadius:6,elevation:n._.select(16,0)},hide:{top:n._.sm,right:n._.sm,width:1,height:1,backgroundColor:"transparent",overflow:"hidden"},container:{minHeight:400,borderRadius:n._.radiusMd,overflow:"hidden"},webview:{borderRadius:n._.radiusMd,overflow:"hidden"},webviewHide:{opacity:.01},body:{paddingTop:20,paddingHorizontal:n._.md,paddingBottom:28},iconToggle:{position:"absolute",zIndex:2,top:1,right:0},btn:{width:128},btnStyle:{height:40}}}))},"./src/screens/web-view/bilibili-sync/login/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_GET_REVIEW=t.TYPE_GET_LIST=t.TYPE_CHECK_LOGIN=void 0,t.injectedJavaScript=function(){return"(function() {\n    setTimeout(() => {\n      /* webview的postMessage不是马上生效的 */\n      let __timeoutId = null;\n      let __isBridgeOk = false;\n\n      function waitForBridge() {\n        if (!__isBridgeOk && !window.ReactNativeWebView.postMessage) {\n          __timeoutId = setTimeout(waitForBridge, 400);\n        } else {\n          clearTimeout(__timeoutId);\n          __timeoutId = null;\n          __isBridgeOk = true;\n\n          setTimeout(() => {\n            function xhr({ method = 'get', url } = {}) {\n    return new Promise(resolve => {\n      const request = new XMLHttpRequest()\n      request.onreadystatechange = function () {\n        if (this.readyState === 4) {\n          if (this.status === 200 || this.status === 201) {\n            resolve(JSON.parse(this.responseText))\n          }\n\n          if (this.status === 404 || this.status === 500) {\n            resolve(null)\n          }\n        }\n      }\n      request.onerror = function () {\n        resolve(null)\n      }\n      request.ontimeout = function () {\n        resolve(null)\n      }\n      request.onabort = function () {\n        resolve(null)\n      }\n      request.open(method, url, true)\n      request.withCredentials = true\n      request.send(null)\n    })\n  }\n\n  function postMessage(type, data) {\n    window.ReactNativeWebView.postMessage(JSON.stringify({ type, data }))\n  }\n\n  function ts() {\n    return String(new Date()/1);\n  }\n\n  function queue(fetchs) {\n    return new Promise(resolve => {\n      function cb() {\n        if (!fetchs.length) {\n          resolve(true);\n          return;\n        }\n\n        const fetch = fetchs.shift();\n        fetch().then(() => cb(fetchs));\n      }\n      cb();\n    });\n  };\n            function checkLogin() {\n    xhr({\n      url: 'https://api.bilibili.com/x/web-interface/nav'\n    }).then(data => {\n      if (data) postMessage('"+n+"', data);\n      if (data && data.data && data.data.isLogin) {\n        getList(data.data.wallet.mid);\n      }\n    });\n  };\n            const list = [];\n    const limit = 15;\n    let page = 1;\n    function getList(mid) {\n      xhr({\n        url: 'https://api.bilibili.com/x/space/bangumi/follow/list?type=1&follow_status=0&pn='+page+'&ps='+limit+'&vmid='+String(mid)+'&ts='+ts()\n      }).then(data => {\n        if (data && data.data && data.data.list) {\n          data.data.list.forEach(item => {\n            list.push({\n              id: item.media_id,\n              title: item.title,\n              cover: item.cover,\n              status: item.follow_status,\n              progress: item.progress,\n              total: item.total_count\n            });\n          });\n\n          if (data.data.list.length >= limit) {\n            page += 1;\n            getList(mid);\n          } else {\n            postMessage('"+o+"', list);\n\n            const mediaIds = list.map(item => item.id);\n            getReviews(mediaIds);\n          }\n        }\n      });\n    };\n            function getReviews(mediaIds) {\n    const reviews = {};\n    const fetchs = [];\n    mediaIds.forEach(mediaId => {\n      fetchs.push(() => {\n        return new Promise(resolve => {\n          xhr({\n            url: 'https://api.bilibili.com/pgc/review/user?media_id='+String(mediaId)+'&ts='+ts()\n          }).then(data => {\n            if (data && data.result && data.result.review && data.result.review.short_review) {\n              const { short_review } = data.result.review;\n              reviews[mediaId] = {\n                score: short_review.score || 0,\n                content: short_review.content || ''\n              };\n            }\n            resolve(true);\n          });\n        });\n      });\n    });\n\n    queue(fetchs).then(() => {\n      postMessage('"+r+"', reviews);\n    });\n  };\n            checkLogin();\n          }, 4000);\n        }\n      }\n\n      waitForBridge();\n    }, 1000);\n  }());"};var n=t.TYPE_CHECK_LOGIN="CHECK_LOGIN",o=t.TYPE_GET_LIST="GET_LIST",r=t.TYPE_GET_REVIEW="GET_REVIEW"},"./src/screens/web-view/bilibili-sync/store.ts":(e,t,s)=>{var n=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.for-each.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),b=o(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),p=s("./node_modules/mobx/dist/mobx.esm.js"),j=s("./src/stores/index.ts"),_=s("./src/utils/index.ts"),v=o(s("./src/utils/store/index.ts")),x=s("./src/utils/fetch/index.ts"),h=s("./src/utils/fetch.v0/index.ts"),y=s("./src/utils/protobuf/index.web.ts"),g=s("./src/utils/thirdParty/cn-char/index.ts"),w=o(s("./src/constants/i18n/index.ts")),S=s("./src/screens/web-view/bilibili-sync/ds.ts");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return(0,u.default)(this,s)}}t.default=(r=function(e){(0,a.default)(s,e);var t=T(s);function s(){var e,o,r,d;(0,l.default)(this,s);for(var a=arguments.length,u=new Array(a),m=0;m<a;m++)u[m]=arguments[m];return e=t.call.apply(t,[this].concat(u)),(0,f.default)((0,c.default)(e),"state",(0,p.observable)(S.STATE)),(0,f.default)((0,c.default)(e),"init",(0,i.default)(n.mark((function t(){var s,o,r,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStorage(S.NAMESPACE);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:i=t.t0,e.setState(Object.assign({},i,{hide:!(null==i||null==(s=i.data)||null==(o=s.list)||!o.length),loadedBangumiData:!(null==(r=(0,y.get)("bangumi-data"))||!r.length),_loaded:!0})),e.fetchBangumiData();case 8:case"end":return t.stop()}}),t)})))),(0,f.default)((0,c.default)(e),"fetchBangumiData",(0,i.default)(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.loadedBangumiData){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,y.decode)("bangumi-data");case 4:e.setState({loadedBangumiData:!0});case 5:case"end":return t.stop()}}),t)})))),(0,f.default)((0,c.default)(e),"fetchCollection",(o=(0,i.default)(n.mark((function t(s){var o,r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},t.next=3,(0,h.request)(S.HOST_API+"/collection/"+s);case 3:null!=(r=t.sent)&&r.status?o[s]={status:r.status.type,ep_status:r.ep_status,private:r.private,rating:r.rating,comment:r.comment,loaded:(0,_.getTimestamp)()}:o[s]={loaded:(0,_.getTimestamp)()},e.setState({collections:o}),e.setStorage(S.NAMESPACE);case 7:case"end":return t.stop()}}),t)}))),function(e){return o.apply(this,arguments)})),(0,f.default)((0,c.default)(e),"fetchCollections",(0,i.default)(n.mark((function t(){var s,o,r,l=arguments;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=l.length>0&&void 0!==l[0]?l[0]:[],e.userId){t.next=4;break}return(0,_.info)("此功能依赖收藏数据，请先"+w.default.login(),4),t.abrupt("return",!1);case 4:return o={},r=[],s.forEach((function(e){S.LOADED[e]||(S.LOADED[e]=!0,r.push((0,i.default)(n.mark((function t(){var s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.request)(S.HOST_API+"/collection/"+e);case 2:return null!=(s=t.sent)&&s.status?o[e]={status:s.status.type,ep_status:s.ep_status,private:s.private,rating:s.rating,comment:s.comment,loaded:(0,_.getTimestamp)()}:o[e]={loaded:(0,_.getTimestamp)()},t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})))))})),t.next=9,(0,x.queue)(r,2);case 9:e.setState({collections:o}),e.setStorage(S.NAMESPACE);case 11:case"end":return t.stop()}}),t)})))),(0,f.default)((0,c.default)(e),"onToggleHide",(function(){var t=e.state.hide;e.setState({hide:!t})})),(0,f.default)((0,c.default)(e),"onPage",(function(t){var s=t.filter((function(e){return e.subjectId})).map((function(e){return e.subjectId}));e.fetchCollections(s)})),(0,f.default)((0,c.default)(e),"setData",(function(t){e.setState({data:{list:t.map((function(e){var t;return Object.assign({subjectId:S.MEDIA_SUBJECT[e.id]||(null==(t=((0,y.get)("bangumi-data")||[]).find((function(t){var s,n,o=(null==t||null==(s=t.s)?void 0:s.b)===e.id;return o||(o=(null==t||null==(n=t.s)?void 0:n.bhmt)===e.id),o||(o=e.title.includes("（僅限港澳台地區）")?(null==t?void 0:t.c)===(0,g.t2s)(e.title.replace("（僅限港澳台地區）","")):(null==t?void 0:t.c)===e.title),o})))?void 0:t.id)||""},e)})),_loaded:(0,_.getTimestamp)()}}),e.setStorage(S.NAMESPACE),(0,x.t)("bili同步.获取成功",{length:t.length,userId:e.userId})})),(0,f.default)((0,c.default)(e),"setReviews",(function(t){e.setState({reviews:t}),e.setStorage(S.NAMESPACE)})),(0,f.default)((0,c.default)(e),"onBottom",(function(t){var s=e.state.bottom.current+1;e.setState({bottom:(0,f.default)({current:s},t,s)}),e.setStorage(S.NAMESPACE),(0,x.t)("bili同步.置底")})),(0,f.default)((0,c.default)(e),"onSubmit",(r=(0,i.default)(n.mark((function t(s,o,r){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return",!1);case 2:if(!Object.keys(o).length){t.next=6;break}return i=e.state.privacy,t.next=6,(0,h.request)(S.HOST_API+"/collection/"+s+"/update",Object.assign({},o,{privacy:i?1:0}));case 6:if(!Object.keys(r).length){t.next=9;break}return t.next=9,(0,h.request)(S.HOST_API+"/subject/"+s+"/update/watched_eps",{watched_eps:r.ep||0});case 9:return t.next=11,e.fetchCollection(s);case 11:(0,_.feedback)(),(0,x.t)("bili同步.同步");case 13:case"end":return t.stop()}}),t)}))),function(e,t,s){return r.apply(this,arguments)})),(0,f.default)((0,c.default)(e),"onToggle",(d=(0,i.default)(n.mark((function t(s){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState((0,f.default)({},s,!e.state[s])),e.setStorage(S.NAMESPACE);case 2:case"end":return t.stop()}}),t)}))),function(e){return d.apply(this,arguments)})),(0,f.default)((0,c.default)(e),"onRefreshCollection",(function(t){e.setState({collections:(0,f.default)({},t,Object.assign({},e.collection(t)||{},{loaded:0}))}),setTimeout((function(){e.fetchCollection(t)}),0)})),e}return(0,d.default)(s,[{key:"userId",get:function(){return j.userStore.usersInfo(j.userStore.myUserId).username||j.userStore.myUserId}},{key:"data",get:function(){var e=this.state,t=e.data,s=e.bottom;return t.list.slice().sort((function(e,t){return(0,_.asc)(s[e.id]||0,s[t.id]||0)})).sort((function(e,t){return(0,_.desc)(e.subjectId?1:0,t.subjectId?1:0)}))}},{key:"review",value:function(e){var t=this;return(0,p.computed)((function(){return t.state.reviews[e]})).get()}},{key:"collection",value:function(e){var t=this;return(0,p.computed)((function(){return t.state.collections[e]})).get()}}]),s}(v.default),(0,b.default)(r.prototype,"userId",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"userId"),r.prototype),(0,b.default)(r.prototype,"data",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"data"),r.prototype),r)},"./src/screens/web-view/bilibili-sync/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(s("react"));var o=s("./src/components/index.ts"),r=s("./src/stores/index.ts"),i=s("./src/utils/decorators/index.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,i.obc)((function(e,t){var s=t.$,n=s.state,i=n.hideWatched,d=n.hideSame,c=n.hideNotMatched,a=n.privacy;return(0,l.jsxs)(o.ToolBar,{children:[(0,l.jsxs)(o.ToolBar.Touchable,{onSelect:function(){return s.onToggle("hideNotMatched")},children:[(0,l.jsx)(o.Text,{size:11,bold:!0,children:"隐藏未匹配"}),c&&(0,l.jsx)(o.Iconfont,{style:[r._.ml.xs,r._.mr._xs],name:"md-check",size:11,color:r._.colorDesc})]}),(0,l.jsx)(o.ToolBar.Touchable,{onSelect:function(){return s.onToggle("hideWatched")},children:(0,l.jsxs)(o.Flex,{children:[(0,l.jsx)(o.Text,{size:11,bold:!0,children:"隐藏看过"}),i&&(0,l.jsx)(o.Iconfont,{style:[r._.ml.xs,r._.mr._xs],name:"md-check",size:11,color:r._.colorDesc})]})}),(0,l.jsxs)(o.ToolBar.Touchable,{onSelect:function(){return s.onToggle("hideSame")},children:[(0,l.jsx)(o.Text,{size:11,bold:!0,children:"隐藏相同"}),d&&(0,l.jsx)(o.Iconfont,{style:[r._.ml.xs,r._.mr._xs],name:"md-check",size:11,color:r._.colorDesc})]}),(0,l.jsx)(o.ToolBar.Touchable,{onSelect:function(){return s.onToggle("privacy")},children:(0,l.jsx)(o.Text,{size:11,bold:!0,children:a?"私密":"公开"})})]})}))},"./src/screens/web-view/bilibili-sync/utils.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.match.js"),s("./node_modules/core-js/modules/es.regexp.exec.js");var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectComment=a,t.getSelectEp=d,t.getSelectScore=c,t.getSelectStatus=l,t.useSelectComment=function(e,t){var s=(0,r.useState)(a(e,t).select),n=(0,o.default)(s,2),i=n[0],l=n[1];return(0,r.useEffect)((function(){l(a(e,t).select)}),[e,t]),[i,l]},t.useSelectEp=function(e,t){var s=(0,r.useState)(d(e,t).select),n=(0,o.default)(s,2),i=n[0],l=n[1];return(0,r.useEffect)((function(){l(d(e,t).select)}),[e,t]),[i,l]},t.useSelectScore=function(e,t){var s=(0,r.useState)(c(e,t).select),n=(0,o.default)(s,2),i=n[0],l=n[1];return(0,r.useEffect)((function(){l(c(e,t).select)}),[e,t]),[i,l]},t.useSelectStatus=function(e,t){var s=(0,r.useState)(l(e,t).select),n=(0,o.default)(s,2),i=n[0],d=n[1];return(0,r.useEffect)((function(){d(l(e,t).select)}),[e,t]),[i,d]};var o=n(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),r=s("react"),i=s("./src/constants/index.ts");function l(e,t){var s=Number(e||0),n=Number(i.MODEL_COLLECTION_STATUS.getTitle(t)||0);return 3===n?n=2:2===n&&(n=3),{select:!(n>=3)&&s>n,value:s}}function d(e,t){var s,n=Number((null==(s=String(e).match(/(\d+)话/))?void 0:s[1])||0);return{select:n>Number(t||0),value:n}}function c(e,t){var s=Number(e||0);return{select:0===Number(t||0)&&0!==s,value:s}}function a(e,t){var s=String(e||"");return{select:!String(t||"")&&!!s,value:s}}}}]);