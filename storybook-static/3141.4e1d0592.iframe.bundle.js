(self.webpackChunkweb=self.webpackChunkweb||[]).push([[3141],{"./src/screens/user/user-setting/component/avatars/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Avatars")},"./src/screens/user/user-setting/component/avatars/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/utils/user-setting/index.ts"),a=t("./src/screens/user/user-setting/component/utils.ts"),l=t("./src/screens/user/user-setting/component/avatars/ds.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.avatar,r=s.$;return(0,c.jsxs)(c.Fragment,{children:[(0,u.arrGroup)(r.state.avatars,5).map((function(e,s){return(0,c.jsx)(n.Flex,{justify:"between",children:e.map((function(e,u){return 2===s&&4===u?(0,c.jsx)(n.Touchable,{style:o._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar("")},children:(0,c.jsx)(n.Image,{src:t,headers:(0,a.getHeaders)(t),size:60,radius:30,border:o._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e):(0,c.jsx)(n.Touchable,{style:o._.mb.md,animate:!0,scale:.9,onPress:function(){return r.onSelectAvatar(e)},children:(0,c.jsx)(n.Image,{src:(0,i.fixedRemote)(e,!0),headers:(0,a.getHeaders)(e),size:60,radius:30,border:o._.__colorPlain__,borderWidth:0,placeholder:!1,shadow:!0,fallback:!0})},e)}))},s)})),(0,c.jsx)(n.Text,{style:o._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"(以上图来源自 pixiv)"})]})}),l.COMPONENT)},"./src/screens/user/user-setting/component/bgs/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Bgs")},"./src/screens/user/user-setting/component/bgs/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/stores/index.ts"),u=t("./src/utils/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/utils/user-setting/index.ts"),a=t("./src/constants/index.ts"),l=t("./src/screens/user/user-setting/component/utils.ts"),c=t("./src/screens/user/user-setting/component/bgs/ds.ts"),m=t("./src/screens/user/user-setting/component/bgs/styles.ts"),f=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.avatar,r=e.more,d=e.onViewOrigin,c=e.onMore,p=s.$,h=(0,m.memoStyles)(),j=p.state.bgs;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.Flex,{wrap:"wrap",children:[(0,f.jsxs)(n.Touchable,{style:h.bg,animate:!0,onPress:function(){return p.onSelectBg("")},children:[(0,f.jsx)(n.Image,{src:(0,i.fixedRemote)(t),headers:(0,l.getHeaders)(t),width:h.image.width,height:h.image.height,radius:!0,blurRadius:a.IOS?p.state.avatar?64:16:8,fallback:!0},t),(0,f.jsx)(n.Text,{style:h.blurText,type:"__plain__",bold:!0,align:"center",children:"头像毛玻璃"})]}),j.filter((function(e,s){return!!r||s<=j.length/2})).map((function(e,s){return(0,f.jsxs)(n.Touchable,{style:(0,u.stl)(h.bg,s%2==0&&o._.ml.md),animate:!0,onPress:function(){return p.onSelectBg(e)},onLongPress:function(){return d(e,s)},children:[(0,f.jsx)(n.Image,{src:(0,i.fixedRemote)(e),width:h.image.width,height:h.image.height,headers:(0,l.getHeaders)(e),radius:!0},e),!s&&(0,f.jsx)(n.Heatmap,{id:"个人设置.查看原图"})]},s)}))]}),(0,f.jsx)(n.Touchable,{style:[o._.mt.md,o._.mb.md],onPress:c,children:(0,f.jsx)(n.Text,{align:"center",size:13,bold:!0,children:r?"没有更多了":"点击加载更多"})}),(0,f.jsx)(n.Text,{style:o._.mt.md,align:"center",size:10,bold:!0,type:"sub",children:"长按可查看原图 (以上图来源自 pixiv)"})]})}),c.COMPONENT)},"./src/screens/user/user-setting/component/bgs/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){var e=Math.floor((r._.window.width-r._.md-2*r._._wind)/2),s=.72*e;return{bg:{width:e,height:s,marginBottom:r._.md},image:{width:e,height:s},blurText:{position:"absolute",zIndex:1,top:52,left:0,right:0,textShadowOffset:{width:1,height:1},textShadowRadius:1,textShadowColor:"rgba(0, 0, 0, 0.24)",opacity:.8}}}))},"./src/screens/user/user-setting/component/check/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Check")},"./src/screens/user/user-setting/component/check/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),d=t("./src/utils/dev/index.ts"),i=t("./src/screens/user/user-setting/component/check/ds.ts"),a=t("./node_modules/react/jsx-runtime.js");s.default=function(e){var s=e.$;return(0,d.r)(i.COMPONENT),(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(o.IconHeader,{style:u._.mr.sm,name:"md-remove-circle-outline",onPress:function(){return s.onInit(!0)}}),(0,a.jsx)(o.IconHeader,{style:u._.mr.xs,name:"md-check",onPress:s.onSave,children:(0,a.jsx)(n.Heatmap,{id:"个人设置.保存"})})]})}},"./src/screens/user/user-setting/component/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Component")},"./src/screens/user/user-setting/component/form/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Form")},"./src/screens/user/user-setting/component/form/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/screens/_/index.ts"),u=t("./src/stores/index.ts"),d=t("./src/utils/index.ts"),i=t("./src/utils/decorators/index.ts"),a=t("./src/constants/index.ts"),l=t("./src/screens/user/user-setting/component/form/ds.ts"),c=t("./src/screens/user/user-setting/component/form/styles.ts"),m=t("./node_modules/react/jsx-runtime.js");s.default=(0,i.obc)((function(e,s){var t=e.expand,r=e.onExpand,i=s.$;return(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(n.Flex,{style:u._.mt.md,children:[(0,m.jsx)(n.Text,{children:"昵称"}),(0,m.jsx)(n.Flex.Item,{style:u._.ml.md,children:(0,m.jsx)(n.Input,{style:c.styles.input,defaultValue:i.state.nickname,placeholder:"请填入昵称",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return i.onChangeText("nickname",e)}})})]}),(0,m.jsxs)(n.Flex,{style:u._.mt.md,children:[(0,m.jsx)(n.Text,{children:"签名"}),(0,m.jsx)(n.Flex.Item,{style:u._.ml.md,children:(0,m.jsx)(n.Input,{style:c.styles.input,defaultValue:i.state.sign_input,placeholder:"请填入签名",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return i.onChangeText("sign_input",e)}})})]}),(0,m.jsxs)(n.Flex,{style:u._.mt.md,children:[(0,m.jsx)(n.Text,{children:"头像"}),(0,m.jsx)(n.Flex.Item,{style:u._.ml.md,children:(0,m.jsx)(n.Input,{style:c.styles.input,defaultValue:i.state.avatar,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return i.onChangeText("avatar",e)}})}),(0,m.jsx)(o.IconTouchable,{style:u._.ml.xs,name:"md-info-outline",onPress:function(){return(0,d.confirm)("此头像非网页版头像，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",(function(){return(0,d.open)(a.HOST_IMAGE_UPLOAD)}),"提示")}})]}),(0,m.jsxs)(n.Flex,{style:[u._.mt.md,u._.mb.md],children:[(0,m.jsx)(n.Text,{children:"背景"}),(0,m.jsx)(n.Flex.Item,{style:u._.ml.md,children:(0,m.jsx)(n.Input,{style:c.styles.input,defaultValue:i.state.bg,placeholder:"请填入网络地址",autoCapitalize:"none",showClear:!0,onChangeText:function(e){return i.onChangeText("bg",e)}})}),(0,m.jsx)(o.IconTouchable,{style:u._.ml.xs,name:"md-info-outline",onPress:function(){return(0,d.confirm)("网页版没有背景概念，仅在APP内时光机和个人空间中显示。需要输入图片网络地址，是否前往免费图床？",(function(){return(0,d.open)(a.HOST_IMAGE_UPLOAD)}),"提示")}})]})]}),(0,m.jsx)(n.Touchable,{style:c.styles.more,onPress:r,children:(0,m.jsx)(n.Flex,{justify:"center",children:(0,m.jsx)(n.Text,{style:[u._.mt.sm,u._.mb.sm],size:13,type:"sub",bold:!0,children:t?"收起资料":"展开资料"})})})]})}),l.COMPONENT)},"./src/screens/user/user-setting/component/form/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({input:{height:40,paddingVertical:0,paddingRight:40,borderRadius:r._.radiusMd,overflow:"hidden"},more:{paddingBottom:r._.md,borderRadius:r._.radiusSm,overflow:"hidden"}})},"./src/screens/user/user-setting/component/preview/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Preview")},"./src/screens/user/user-setting/component/preview/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/user-setting/component/utils.ts"),a=t("./src/screens/user/user-setting/component/preview/ds.ts"),l=t("./src/screens/user/user-setting/component/preview/styles.ts"),c=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.bg,r=e.avatar,d=e.blurRadius,a=s.$,m=s.navigation,f=(0,l.memoStyles)(),p=a.usersInfo,h=p.nickname,j=p.id,b=p.username;return(0,c.jsxs)(n.default,{style:f.preview,children:[(0,c.jsx)(o.Image,{style:f.blurView,src:t,headers:(0,i.getHeaders)(t),width:u._.window.contentWidth,height:f.preview.height,blurRadius:d,fallback:!!d},t),(0,c.jsxs)(o.Flex,{style:f.mask,direction:"column",justify:"center",children:[(0,c.jsx)(o.Image,{style:f.avatar,src:r,headers:(0,i.getHeaders)(r),size:64,radius:32,border:u._.__colorPlain__,borderWidth:1.5,placeholder:!1,shadow:!0,fallback:!0},r),(0,c.jsxs)(o.Text,{style:u._.mt.sm,type:u._.select("plain","title"),size:12,children:[h,(0,c.jsxs)(o.Text,{type:u._.select("plain","title"),size:12,children:[" ",b||j?"@"+(b||j)+" ":""]})]})]}),(0,c.jsx)(n.default,{style:f.example,children:(0,c.jsx)(o.Touchable,{onPress:function(){m.push("Zone",{userId:"sukaretto"})},children:(0,c.jsx)(o.Text,{size:10,lineHeight:16,bold:!0,type:"__plain__",children:"[示例]"})})})]})}),a.COMPONENT)},"./src/screens/user/user-setting/component/preview/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{blurView:{backgroundColor:r._.colorPlain,borderRadius:r._.radiusMd,overflow:"hidden"},preview:{height:Math.floor(.72*r._.window.contentWidth),marginBottom:r._.sm},mask:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.24)",borderRadius:r._.radiusMd,overflow:"hidden"},avatar:{marginTop:r._.md,backgroundColor:"rgba(255, 255, 255, 0.8)"},example:{position:"absolute",zIndex:2,right:12,bottom:12,opacity:.72}}}))},"./src/screens/user/user-setting/component/refresh/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Refresh")},"./src/screens/user/user-setting/component/refresh/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=r(t("./node_modules/react-native-web/dist/exports/View/index.js")),o=t("./src/components/index.ts"),u=t("./src/stores/index.ts"),d=t("./src/utils/decorators/index.ts"),i=t("./src/screens/user/user-setting/component/refresh/ds.ts"),a=t("./src/screens/user/user-setting/component/refresh/styles.ts"),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,d.obc)((function(e,s){var t=e.onRefresh;if(1!==s.$.state.selectedIndex)return null;var r=(0,a.memoStyles)();return(0,l.jsx)(n.default,{style:r.btn,children:(0,l.jsx)(o.Touchable,{style:r.touch,onPress:t,children:(0,l.jsx)(o.Flex,{style:r.icon,justify:"center",children:(0,l.jsx)(o.Iconfont,{name:"md-refresh",color:u._.colorPlain,size:20})})})})}),i.COMPONENT)},"./src/screens/user/user-setting/component/refresh/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts"),n=t("./src/constants/index.ts");s.memoStyles=r._.memoStyles((function(){return{btn:{position:"absolute",zIndex:1001,right:r._.wind,bottom:n.DEV?240:64},touch:{backgroundColor:r._.colorTitle,borderRadius:20,overflow:"hidden",opacity:.8},icon:{width:40,height:40}}}))},"./src/screens/user/user-setting/component/segmented/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.DS=s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/component/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Segmented"),s.DS=["预设背景","随机头像"]},"./src/screens/user/user-setting/component/segmented/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.index-of.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),u=t("./src/screens/user/user-setting/component/segmented/ds.ts"),d=t("./src/screens/user/user-setting/component/segmented/styles.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)((function(e,s){var t=s.$;return(0,i.jsx)(n.SegmentedControl,{style:d.styles.segmented,values:u.DS,selectedIndex:t.state.selectedIndex,onValueChange:function(e){return t.onValueChange(u.DS.indexOf(e))}},String(t.state._loaded))}),u.COMPONENT)},"./src/screens/user/user-setting/component/segmented/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.styles=void 0;var r=t("./src/stores/index.ts");s.styles=r._.create({segmented:{width:r._.window.contentWidth,height:36,marginBottom:24}})},"./src/screens/user/user-setting/component/utils.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.getHeaders=function(e){if("string"!=typeof e||!e.includes("hdslb.com"))return{Referer:""};return{Referer:"https://www.bilibili.com/"}}},"./src/screens/user/user-setting/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.REG_FIXED=s.REG_BG=s.REG_AVATAR=s.COMPONENT=void 0;s.COMPONENT="UserSetting",s.REG_BG=/\[bg\](.+?)\[\/bg\]/,s.REG_AVATAR=/\[avatar\](.+?)\[\/avatar\]/,s.REG_FIXED=/\[size=0\]\[avatar\]\[\/avatar\]\[\/size\]|\[size=0\]\[bg\]\[\/bg\]\[\/size\]/g},"./src/screens/user/user-setting/header/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Header")},"./src/screens/user/user-setting/header/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),u=r(t("./src/screens/user/user-setting/component/check/index.tsx")),d=t("./src/screens/user/user-setting/header/ds.ts"),i=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.obc)((function(e,s){var t=s.$;return(0,i.jsx)(n.Header,{title:"个人设置",hm:["userSetting","UserSetting"],headerRight:function(){return(0,i.jsx)(u.default,{$:t})}})}),d.COMPONENT)},"./src/screens/user/user-setting/index.tsx":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;r(t("react"));var n=t("./src/components/index.ts"),o=t("./src/utils/decorators/index.ts"),u=t("./src/utils/hooks/index.ts"),d=r(t("./src/screens/user/user-setting/header/index.tsx")),i=r(t("./src/screens/user/user-setting/scroll/index.tsx")),a=r(t("./src/screens/user/user-setting/store/index.ts")),l=t("./node_modules/react/jsx-runtime.js");s.default=(0,o.ic)(a.default,(function(e,s){var t=s.$;return(0,u.useRunAfter)((function(){t.init()})),(0,u.useObserver)((function(){return(0,l.jsxs)(n.Component,{id:"screen-user-setting",children:[(0,l.jsx)(d.default,{}),(0,l.jsx)(i.default,{})]})}))}))},"./src/screens/user/user-setting/scroll/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.COMPONENT=void 0;var r=t("./src/utils/dev/index.ts"),n=t("./src/screens/user/user-setting/ds.ts");s.COMPONENT=(0,r.rc)(n.COMPONENT,"Scroll")},"./src/screens/user/user-setting/scroll/index.tsx":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.regexp.exec.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=n(t("react")),p=n(t("./node_modules/react-native-web/dist/exports/View/index.js")),h=t("./src/components/index.ts"),j=t("./src/stores/index.ts"),b=t("./src/utils/index.ts"),g=t("./src/utils/decorators/index.ts"),_=t("./src/utils/dev/index.ts"),x=t("./src/utils/fetch/index.ts"),v=t("./src/utils/user-setting/index.ts"),y=t("./src/constants/index.ts"),O=n(t("./src/screens/user/user-setting/component/avatars/index.tsx")),P=n(t("./src/screens/user/user-setting/component/bgs/index.tsx")),R=n(t("./src/screens/user/user-setting/component/form/index.tsx")),w=n(t("./src/screens/user/user-setting/component/preview/index.tsx")),T=n(t("./src/screens/user/user-setting/component/refresh/index.tsx")),C=n(t("./src/screens/user/user-setting/component/segmented/index.tsx")),S=t("./src/screens/user/user-setting/scroll/ds.ts"),M=t("./src/screens/user/user-setting/scroll/styles.ts"),N=t("./node_modules/react/jsx-runtime.js");function E(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.default)(e);if(s){var n=(0,c.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,l.default)(this,t)}}var I=function(e){(0,a.default)(t,e);var s=E(t);function t(){var e;(0,u.default)(this,t);for(var n=arguments.length,d=new Array(n),a=0;a<n;a++)d[a]=arguments[a];return e=s.call.apply(s,[this].concat(d)),(0,m.default)((0,i.default)(e),"state",{expand:!1,more:!1}),(0,m.default)((0,i.default)(e),"scrollTo",y.FROZEN_FN),(0,m.default)((0,i.default)(e),"onViewOrigin",(function(e,s){(0,x.t)("个人设置.查看原图",{index:s}),(0,b.open)(e.replace("small","origin"))})),(0,m.default)((0,i.default)(e),"onExpand",(function(){e.setState({expand:!e.state.expand})})),(0,m.default)((0,i.default)(e),"onMore",(function(){e.setState({more:!0})})),(0,m.default)((0,i.default)(e),"onRefresh",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:y.IOS&&e.scrollTo({x:0,y:0,animated:!0}),t=e.context,t.$.onRefresh();case 3:case"end":return s.stop()}}),s)})))),e}return(0,d.default)(t,[{key:"avatar",get:function(){var e;return null==(e=this.context.$.usersInfo.avatar)?void 0:e.large}},{key:"previewAvatarSrc",get:function(){var e,s,t=this.context.$;return t.state.avatar?(0,v.fixedRemote)(t.state.avatar,!0)||(null==(s=t.usersInfo.avatar)?void 0:s.large):null==(e=t.usersInfo.avatar)?void 0:e.large}},{key:"previewBgSrc",get:function(){var e,s=this.context.$;return s.state.bg?(0,v.fixedRemote)(s.state.bg)||(0,v.fixedRemote)(s.state.avatar,!0)||(null==(e=s.usersInfo.avatar)?void 0:e.large):this.previewAvatarSrc}},{key:"blurRadius",get:function(){var e=this.context.$;return e.state.bg?0:y.IOS?""===e.state.bg&&e.state.avatar?48:10:8}},{key:"render",value:function(){var e=this;(0,_.r)(S.COMPONENT);var s=this.context.$.state.selectedIndex,t=this.state.expand,r=(0,N.jsx)(w.default,{bg:this.previewBgSrc,avatar:this.previewAvatarSrc,blurRadius:this.blurRadius});return(0,N.jsxs)(p.default,{style:j._.container.plain,children:[(0,N.jsx)(p.default,{style:this.styles.preview,children:!t&&r}),(0,N.jsxs)(h.ScrollView,{connectRef:function(s){return e.scrollTo=s},contentContainerStyle:this.styles.contentContainerStyle,keyboardDismissMode:"on-drag",children:[t&&r,(0,N.jsx)(R.default,{expand:this.state.expand,onExpand:this.onExpand}),(0,N.jsx)(C.default,{}),0===s&&(0,N.jsx)(P.default,{avatar:this.previewAvatarSrc,more:this.state.more,onViewOrigin:this.onViewOrigin,onMore:this.onMore}),1===s&&(0,N.jsx)(O.default,{avatar:this.avatar})]}),(0,N.jsx)(T.default,{onRefresh:this.onRefresh})]})}},{key:"styles",get:function(){return(0,M.memoStyles)()}}]),t}(f.default.Component);s.default=(0,g.obc)(I)},"./src/screens/user/user-setting/scroll/styles.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.memoStyles=void 0;var r=t("./src/stores/index.ts");s.memoStyles=r._.memoStyles((function(){return{contentContainerStyle:{paddingHorizontal:r._.wind,paddingBottom:r._.bottom},preview:{marginHorizontal:r._.wind}}}))},"./src/screens/user/user-setting/store/action.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),p=t("./src/utils/index.ts"),h=t("./src/utils/fetch/index.ts"),j=t("./src/constants/index.ts"),b=t("./src/screens/user/user-setting/ds.ts"),g=n(t("./src/screens/user/user-setting/store/fetch.ts"));function _(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.default)(e);if(s){var n=(0,c.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,l.default)(this,t)}}s.default=function(e){(0,a.default)(t,e);var s=_(t);function t(){var e;(0,d.default)(this,t);for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=s.call.apply(s,[this].concat(u)),(0,m.default)((0,i.default)(e),"onInit",(0,o.default)(r.mark((function s(){var t,n,o,u,d=arguments;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=d.length>0&&void 0!==d[0]&&d[0],s.next=3,e.fetchUserSetting();case 3:n=e.userSetting.sign,o=n.match(b.REG_BG),u=n.match(b.REG_AVATAR),e.setState({bg:(0,p.HTMLDecode)(String(o?String(o[1]).trim():"").replace(b.REG_FIXED,"")),avatar:(0,p.HTMLDecode)(String(u?String(u[1]).trim():"").replace(b.REG_FIXED,""))}),t&&(0,p.info)("已还原");case 8:case"end":return s.stop()}}),s)})))),(0,m.default)((0,i.default)(e),"onRefresh",(function(){var s=e.state.selectedIndex;return 0===s?e.fetchBgs():1===s?e.fetchAvatars():void 0})),(0,m.default)((0,i.default)(e),"onChangeText",(function(s,t){e.setState((0,m.default)({},s,t))})),(0,m.default)((0,i.default)(e),"onSelectBg",(function(s){e.setState({bg:s})})),(0,m.default)((0,i.default)(e),"onSelectAvatar",(function(s){e.setState({avatar:s})})),(0,m.default)((0,i.default)(e),"onSave",(0,o.default)(r.mark((function s(){var t,n,o,u,d,i,a,l,c,m,g;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.userSetting,n=t.formhash,o=t.sign,u=t.timeoffsetnew,d=e.state,i=d.avatar,a=d.bg,l=d.nickname,c=d.sign_input,(m=o).match(b.REG_AVATAR)?m=m.replace(b.REG_AVATAR,"[avatar]"+(i||"")+"[/avatar]"):m+="[size=0][avatar]"+(i||"")+"[/avatar][/size]","string"==typeof(g=a||"")&&g.includes("i.pixiv.re")&&(g=g.replace("/c/540x540_70","")),m.match(b.REG_BG)?m=m.replace(b.REG_BG,"[bg]"+g+"[/bg]"):m+="[size=0][bg]"+g+"[/bg][/size]",m=m.replace(b.REG_FIXED,""),f.userStore.doUpdateUserSetting({formhash:n,nickname:l,sign_input:c,newbio:m,timeoffsetnew:u},(function(){(0,h.t)("个人设置.保存",{id:e.myUserId}),(0,p.feedback)(),(0,p.info)("保存成功"),e.fetchUserSetting(),f.usersStore.fetchUsers({userId:e.myUserId}),e.setState({bg:g}),e.save()}),j.FROZEN_FN);case 9:case"end":return s.stop()}}),s)})))),(0,m.default)((0,i.default)(e),"onValueChange",(function(s){e.setState({selectedIndex:s}),(0===s&&!e.state.bgs.length||1===s&&!e.state.avatars.length)&&e.onRefresh(),e.save()})),e}return(0,u.default)(t)}(g.default)},"./src/screens/user/user-setting/store/computed.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.string.match.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(t("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),c=t("./node_modules/mobx/dist/mobx.esm.js"),m=t("./src/stores/index.ts"),f=t("./src/utils/index.ts"),p=t("./src/screens/user/user-setting/ds.ts"),h=r(t("./src/screens/user/user-setting/store/state.ts"));function j(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,a.default)(e);if(s){var n=(0,a.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,i.default)(this,t)}}s.default=(n=function(e){(0,d.default)(t,e);var s=j(t);function t(){return(0,o.default)(this,t),s.apply(this,arguments)}return(0,u.default)(t,[{key:"userSetting",get:function(){return m.userStore.userSetting}},{key:"myUserId",get:function(){return m.userStore.myUserId}},{key:"usersInfo",get:function(){return m.userStore.usersInfo(this.myUserId)}},{key:"users",get:function(){return m.usersStore.users(this.myUserId)}},{key:"bg",get:function(){var e=this.state.bg;if(e)return e;var s=this.userSetting.sign.match(p.REG_BG);return(0,f.HTMLDecode)(String(s?String(s[1]).trim():"").replace(p.REG_FIXED,""))}},{key:"avatar",get:function(){var e=this.state.avatar;if(e)return e;var s=this.userSetting.sign.match(p.REG_AVATAR);return(0,f.HTMLDecode)(String(s?String(s[1]).trim():"").replace(p.REG_FIXED,""))}}]),t}(h.default),(0,l.default)(n.prototype,"userSetting",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"userSetting"),n.prototype),(0,l.default)(n.prototype,"myUserId",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"myUserId"),n.prototype),(0,l.default)(n.prototype,"usersInfo",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"usersInfo"),n.prototype),(0,l.default)(n.prototype,"users",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"users"),n.prototype),(0,l.default)(n.prototype,"bg",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"bg"),n.prototype),(0,l.default)(n.prototype,"avatar",[c.computed],Object.getOwnPropertyDescriptor(n.prototype,"avatar"),n.prototype),n)},"./src/screens/user/user-setting/store/ds.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"__esModule",{value:!0}),s.STATE=s.NAMESPACE=void 0;var r=t("./src/screens/user/user-setting/ds.ts");s.NAMESPACE="Screen"+r.COMPONENT,s.STATE={nickname:"",sign_input:"",avatar:"",bg:"",selectedIndex:0,bgs:[],pixivs:[],avatars:[],_loaded:!1}},"./src/screens/user/user-setting/store/fetch.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/stores/index.ts"),p=t("./src/utils/kv/index.ts"),h=t("./src/utils/user-setting/index.ts"),j=n(t("./src/screens/user/user-setting/store/computed.ts"));function b(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.default)(e);if(s){var n=(0,c.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,l.default)(this,t)}}s.default=function(e){(0,a.default)(t,e);var s=b(t);function t(){var e;(0,d.default)(this,t);for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=s.call.apply(s,[this].concat(u)),(0,m.default)((0,i.default)(e),"fetchUserSetting",(0,o.default)(r.mark((function s(){var t,n,o,u,d;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.userStore.fetchUserSetting();case 2:return t=s.sent,n=t.nickname,o=void 0===n?"":n,u=t.sign_input,d=void 0===u?"":u,e.setState({nickname:o,sign_input:d}),e.save(),s.abrupt("return",t);case 7:case"end":return s.stop()}}),s)})))),(0,m.default)((0,i.default)(e),"fetchBgs",(0,o.default)(r.mark((function s(){var t,n;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,p.get)("bgs");case 2:return t=s.sent,n=t.data,e.setState({bgs:n}),e.save(),s.abrupt("return",n);case 7:case"end":return s.stop()}}),s)})))),(0,m.default)((0,i.default)(e),"fetchAvatars",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=(0,h.randomAvatars)(),e.setState({avatars:t}),e.save(),s.abrupt("return",t);case 4:case"end":return s.stop()}}),s)})))),e}return(0,u.default)(t)}(j.default)},"./src/screens/user/user-setting/store/index.ts":(e,s,t)=>{var r=t("./node_modules/@babel/runtime/regenerator/index.js");t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=n(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=n(t("./node_modules/@babel/runtime/helpers/createClass.js")),d=n(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=n(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=n(t("./node_modules/@babel/runtime/helpers/inherits.js")),l=n(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=n(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=n(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=t("./src/utils/index.ts"),p=n(t("./src/screens/user/user-setting/store/action.ts")),h=t("./src/screens/user/user-setting/store/ds.ts");function j(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.default)(e);if(s){var n=(0,c.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,l.default)(this,t)}}s.default=function(e){(0,a.default)(t,e);var s=j(t);function t(){var e;(0,d.default)(this,t);for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=s.call.apply(s,[this].concat(u)),(0,m.default)((0,i.default)(e),"init",(0,o.default)(r.mark((function s(){var t;return r.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.getStorage(h.NAMESPACE);case 2:if(s.t0=s.sent,s.t0){s.next=5;break}s.t0={};case 5:return t=s.t0,e.setState({avatar:t.avatar||"",bg:t.bg||"",selectedIndex:t.selectedIndex||0,bgs:t.bgs||[],pixivs:t.pixivs||[],avatars:t.avatars||[],_loaded:(0,f.getTimestamp)()}),s.next=9,e.onInit();case 9:return e.onRefresh(),s.abrupt("return",!0);case 11:case"end":return s.stop()}}),s)})))),e}return(0,u.default)(t)}(p.default)},"./src/screens/user/user-setting/store/state.ts":(e,s,t)=>{t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.reflect.construct.js"),t("./node_modules/core-js/modules/es.array.concat.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=r(t("./node_modules/@babel/runtime/helpers/createClass.js")),o=r(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=r(t("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(t("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),a=r(t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),l=r(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=t("./node_modules/mobx/dist/mobx.esm.js"),m=r(t("./src/utils/store/index.ts")),f=t("./src/screens/user/user-setting/store/ds.ts");function p(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,a.default)(e);if(s){var n=(0,a.default)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return(0,i.default)(this,t)}}s.default=function(e){(0,d.default)(t,e);var s=p(t);function t(){var e;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),d=0;d<r;d++)n[d]=arguments[d];return e=s.call.apply(s,[this].concat(n)),(0,l.default)((0,u.default)(e),"state",(0,c.observable)(f.STATE)),(0,l.default)((0,u.default)(e),"save",(function(){return e.saveStorage(f.NAMESPACE)})),e}return(0,n.default)(t)}(m.default)}}]);