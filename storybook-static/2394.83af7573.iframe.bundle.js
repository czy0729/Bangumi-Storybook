(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2394],{"./src/screens/discovery/browser/component/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Component")},"./src/screens/discovery/browser/component/item/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Item")},"./src/screens/discovery/browser/component/item/grid/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"Grid"),t.EVENT={id:"索引.跳转",data:{type:"grid"}}},"./src/screens/discovery/browser/component/item/grid/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/screens/_/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./src/screens/discovery/browser/component/item/grid/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=e.item,r=e.index,d=t.$,a=t.navigation,u=d.state.type,m=String(s.id).replace("/subject/",""),f=n._.portrait(3,5);return(0,l.jsx)(o.ItemCollectionsGrid,Object.assign({style:(n._.isPad||n._.isLandscape)&&!(r%f)&&n._.container.left,navigation:a,num:f,collection:n.collectionStore.collect(m),event:i.EVENT},s,{isCollect:s.collected,isRectangle:"音乐"===c.MODEL_SUBJECT_TYPE.getTitle(u)}))}),i.COMPONENT)},"./src/screens/discovery/browser/component/item/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/utils/decorators/index.ts"),n=r(s("./src/screens/discovery/browser/component/item/grid/index.tsx")),d=r(s("./src/screens/discovery/browser/component/item/list/index.tsx")),c=s("./src/screens/discovery/browser/component/item/ds.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,o.obc)((function(e,t){var s=e.item,r=e.index;return t.$.isList?(0,i.jsx)(d.default,{item:s,index:r}):(0,i.jsx)(n.default,{item:s,index:r})}),c.COMPONENT)},"./src/screens/discovery/browser/component/item/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/component/item/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"List"),t.EVENT={id:"索引.跳转",data:{type:"list"}}},"./src/screens/discovery/browser/component/item/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/screens/_/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./src/screens/discovery/browser/component/item/list/ds.ts"),l=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=e.item,r=e.index,d=t.$,a=t.navigation,u=d.state.type,m=String(s.id).replace("/subject/","");return(0,l.jsx)(o.ItemSearch,Object.assign({style:n._.container.item,navigation:a,event:i.EVENT,index:r},s,{typeCn:c.MODEL_SUBJECT_TYPE.getTitle(u),collection:n.collectionStore.collect(m)}))}),i.COMPONENT)},"./src/screens/discovery/browser/component/list/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"List")},"./src/screens/discovery/browser/component/list/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/app/index.ts"),c=s("./src/utils/decorators/index.ts"),i=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),l=s("./src/screens/discovery/browser/component/list/utils.tsx"),a=s("./src/screens/discovery/browser/component/list/ds.ts"),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,c.obc)((function(e,t){var s=t.$;if(!s.list._loaded||!s.state.show)return(0,u.jsxs)(u.Fragment,{children:[!s.state.fixed&&(0,u.jsx)(i.default,{}),(0,u.jsx)(o.Loading,{})]});var r=s.isList?void 0:n._.portrait(3,5);return(0,u.jsx)(o.ListView,{ref:s.forwardRef,keyExtractor:d.keyExtractor,contentContainerStyle:n._.container.bottom,numColumns:r,data:s.list,ListHeaderComponent:!s.state.fixed&&(0,u.jsx)(i.default,{}),renderItem:l.renderItem,scrollEventThrottle:16,onScroll:s.onScroll,onHeaderRefresh:s.onHeaderRefresh,onFooterRefresh:s.fetchBrowser},""+s.state.layout+r)}),a.COMPONENT);try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"src/screens/discovery/browser/component/list/index.tsx#list"})}catch(e){}},"./src/screens/discovery/browser/component/list/utils.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.renderItem=d;r(s("./node_modules/react/index.js"));var o=r(s("./src/screens/discovery/browser/component/item/index.tsx")),n=s("./node_modules/react/jsx-runtime.js");function d(e){var t=e.item,s=e.index;return(0,n.jsx)(o.default,{item:t,index:s})}try{d.displayName="renderItem",d.__docgenInfo={description:"",displayName:"renderItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/list/utils.tsx#renderItem"]={docgenInfo:d.__docgenInfo,name:"renderItem",path:"src/screens/discovery/browser/component/list/utils.tsx#renderItem"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/back.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$;return(0,c.jsx)(o.ToolBar.Icon,{icon:"md-arrow-back",iconColor:n._.colorDesc,onSelect:s.onAirdatePrev})}));try{back.displayName="back",back.__docgenInfo={description:"",displayName:"back",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/back.tsx#back"]={docgenInfo:back.__docgenInfo,name:"back",path:"src/screens/discovery/browser/component/tool-bar/back.tsx#back"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/screens/discovery/browser/component/ds.ts");t.COMPONENT=(0,r.rc)(o.COMPONENT,"ToolBar")},"./src/screens/discovery/browser/component/tool-bar/filter.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.map.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$,r=s.state.type,d=c.MODEL_SUBJECT_TYPE.getTitle(r);return(0,i.jsx)(o.ToolBar.Popover,{data:c.SUBJECT_TYPE.map((function(e){return e.title})),icon:"md-filter-list",iconColor:n._.colorDesc,text:d,type:"desc",heatmap:"索引.类型选择",onSelect:s.onTypeSelect})}));try{filter.displayName="filter",filter.__docgenInfo={description:"",displayName:"filter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"]={docgenInfo:filter.__docgenInfo,name:"filter",path:"src/screens/discovery/browser/component/tool-bar/filter.tsx#filter"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=r(s("./src/screens/discovery/browser/component/tool-bar/back.tsx")),i=r(s("./src/screens/discovery/browser/component/tool-bar/filter.tsx")),l=r(s("./src/screens/discovery/browser/component/tool-bar/month.tsx")),a=r(s("./src/screens/discovery/browser/component/tool-bar/more.tsx")),u=r(s("./src/screens/discovery/browser/component/tool-bar/next.tsx")),m=r(s("./src/screens/discovery/browser/component/tool-bar/year.tsx")),f=s("./src/screens/discovery/browser/component/tool-bar/ds.ts"),p=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$;return(0,p.jsxs)(o.ToolBar,{style:!s.isList&&n._.mb.xs,children:[(0,p.jsx)(i.default,{}),(0,p.jsx)(c.default,{}),(0,p.jsx)(m.default,{}),(0,p.jsx)(l.default,{}),(0,p.jsx)(u.default,{}),(0,p.jsx)(a.default,{})]})}),f.COMPONENT);try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"]={docgenInfo:toolbar.__docgenInfo,name:"toolbar",path:"src/screens/discovery/browser/component/tool-bar/index.tsx#toolbar"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/month.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=(r(s("./node_modules/react/index.js")),s("./src/components/index.ts")),d=s("./src/utils/decorators/index.ts"),c=s("./src/constants/index.ts"),i=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$,r=s.state.month;return(0,i.jsx)(n.ToolBar.Popover,{data:["全部"].concat((0,o.default)(c.DATA_BROWSER_MONTH)),text:r+"月"||0,type:"desc",heatmap:"索引.月选择",onSelect:s.onMonthSelect})}));try{month.displayName="month",month.__docgenInfo={description:"",displayName:"month",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/month.tsx#month"]={docgenInfo:month.__docgenInfo,name:"month",path:"src/screens/discovery/browser/component/tool-bar/month.tsx#month"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/more.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$,r=s.state,d=r.layout,i=r.fixed,l=r.collected;return(0,c.jsx)(o.ToolBar.Popover,{data:["选项 · "+(i?"锁定上方":"浮动"),"布局 · "+("list"===d?"列表":"网格"),"收藏 · "+(l?"显示":"不显示")],icon:"md-more-vert",iconColor:n._.colorDesc,iconSize:16,type:"desc",transparent:!0,onSelect:function(e){return e.includes("选项")?s.onToggleFixed():e.includes("布局")?s.switchLayout():e.includes("收藏")?s.onToggleCollected():void 0}})}));try{more.displayName="more",more.__docgenInfo={description:"",displayName:"more",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/more.tsx#more"]={docgenInfo:more.__docgenInfo,name:"more",path:"src/screens/discovery/browser/component/tool-bar/more.tsx#more"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/next.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/stores/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$;return(0,c.jsx)(o.ToolBar.Icon,{icon:"md-arrow-forward",iconColor:n._.colorDesc,onSelect:s.onAirdateNext})}));try{next.displayName="next",next.__docgenInfo={description:"",displayName:"next",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/next.tsx#next"]={docgenInfo:next.__docgenInfo,name:"next",path:"src/screens/discovery/browser/component/tool-bar/next.tsx#next"})}catch(e){}},"./src/screens/discovery/browser/component/tool-bar/year.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/constants/index.ts"),c=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.obc)((function(e,t){var s=t.$,r=s.state.airtime;return(0,c.jsx)(o.ToolBar.Popover,{data:d.DATA_BROWSER_AIRTIME,text:r||"年",type:"desc",heatmap:"索引.年选择",onSelect:s.onAirdateSelect})}));try{year.displayName="year",year.__docgenInfo={description:"",displayName:"year",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/component/tool-bar/year.tsx#year"]={docgenInfo:year.__docgenInfo,name:"year",path:"src/screens/discovery/browser/component/tool-bar/year.tsx#year"})}catch(e){}},"./src/screens/discovery/browser/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENT=void 0;t.COMPONENT="Browser"},"./src/screens/discovery/browser/header/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_SPA=t.TEXT_BROWSER=t.DATA=t.COMPONENT=void 0;var r=s("./src/utils/dev/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/browser/ds.ts"),d=(t.COMPONENT=(0,r.rc)(n.COMPONENT,"Header"),t.TEXT_BROWSER="浏览器查看"),c=t.TEXT_SPA="网页版查看",i=t.DATA=[d];o.STORYBOOK||i.push(c)},"./src/screens/discovery/browser/header/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/utils/index.ts"),d=s("./src/utils/decorators/index.ts"),c=s("./src/utils/fetch/index.ts"),i=s("./src/constants/index.ts"),l=s("./src/screens/discovery/browser/header/ds.ts"),a=s("./node_modules/react/jsx-runtime.js");t.default=(0,d.obc)((function(e,t){var s=t.$;return(0,a.jsx)(o.Header,{title:"索引",hm:[s.url,"Browser"],headerRight:function(){return(0,a.jsx)(o.Header.Popover,{data:l.DATA,onSelect:function(e){if(e===l.TEXT_BROWSER)(0,n.open)(s.url);else if(e===l.TEXT_SPA){var t=i.URL_SPA+"/"+(0,n.getSPAParams)("Browser");(0,n.open)(t)}(0,c.t)("索引.右上角菜单",{key:e})},children:(0,a.jsx)(o.Heatmap,{id:"索引.右上角菜单"})})}})}),l.COMPONENT);try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/header/index.tsx#header"]={docgenInfo:header.__docgenInfo,name:"header",path:"src/screens/discovery/browser/header/index.tsx#header"})}catch(e){}},"./src/screens/discovery/browser/index.tsx":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.string.fixed.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(s("./node_modules/react/index.js"));var o=s("./src/components/index.ts"),n=s("./src/utils/decorators/index.ts"),d=s("./src/utils/hooks/index.ts"),c=r(s("./src/screens/discovery/browser/component/list/index.tsx")),i=r(s("./src/screens/discovery/browser/component/tool-bar/index.tsx")),l=r(s("./src/screens/discovery/browser/header/index.tsx")),a=r(s("./src/screens/discovery/browser/store/index.ts")),u=s("./node_modules/react/jsx-runtime.js");t.default=(0,n.ic)(a.default,(function(e,t){var s=t.$;return(0,d.useRunAfter)((function(){s.init()})),(0,d.useObserver)((function(){return(0,u.jsxs)(o.Component,{id:"screen-browser",children:[(0,u.jsx)(l.default,{}),(0,u.jsxs)(o.Page,{children:[s.state.fixed&&(0,u.jsx)(i.default,{}),s.state._loaded&&(0,u.jsx)(c.default,{})]})]})}))}));try{browser.displayName="browser",browser.__docgenInfo={description:"",displayName:"browser",props:{navigation:{defaultValue:null,description:"",name:"navigation",required:!0,type:{name:"Navigation"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"{ params?: any; name?: any; }"}},onMounted:{defaultValue:null,description:"Storybook",name:"onMounted",required:!1,type:{name:"Fn"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/screens/discovery/browser/index.tsx#browser"]={docgenInfo:browser.__docgenInfo,name:"browser",path:"src/screens/discovery/browser/index.tsx#browser"})}catch(e){}},"./src/screens/discovery/browser/store/action.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.string.fixed.js"),s("./node_modules/core-js/modules/es.function.bind.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=s("./src/utils/index.ts"),p=s("./src/utils/fetch/index.ts"),b=s("./src/constants/index.ts"),y=o(s("./src/screens/discovery/browser/store/fetch.ts"));function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,a.default)(this,s)}}t.default=function(e){(0,l.default)(s,e);var t=j(s);function s(){var e,o;(0,c.default)(this,s);for(var d=arguments.length,l=new Array(d),a=0;a<d;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l)),(0,m.default)((0,i.default)(e),"scrollToOffset",void 0),(0,m.default)((0,i.default)(e),"forwardRef",(function(t){t&&(e.scrollToOffset=t.scrollToOffset)})),(0,m.default)((0,i.default)(e),"resetScrollView",(o=(0,n.default)(r.mark((function t(s){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.save(),!s){t.next=8;break}if(e.browser._loaded){t.next=7;break}return t.next=5,e.fetchBrowser(!0);case 5:t.next=8;break;case 7:e.fetchBrowser(!0);case 8:setTimeout((function(){"function"==typeof e.scrollToOffset&&e.scrollToOffset({offset:0,animated:!1})}),0);case 9:case"end":return t.stop()}}),t)}))),function(e){return o.apply(this,arguments)})),(0,m.default)((0,i.default)(e),"onTypeSelect",(function(t){e.setState({type:b.MODEL_SUBJECT_TYPE.getLabel(t)}),e.resetScrollView(!0),(0,p.t)("索引.类型选择",{type:t})})),(0,m.default)((0,i.default)(e),"onAirdateSelect",(function(t){e.setState({airtime:"全部"===t?"":t}),e.resetScrollView(!0),(0,p.t)("索引.年选择",{airtime:t})})),(0,m.default)((0,i.default)(e),"onMonthSelect",(function(t){e.state.airtime?(e.setState({month:"全部"===t?"":t}),e.resetScrollView(!0),(0,p.t)("索引.月选择",{month:t})):(0,f.info)("请先选择年")})),(0,m.default)((0,i.default)(e),"onAirdatePrev",(function(){var t=e.state,s=t.airtime,r=t.month;if(s){if(r){var o=Number(s),n=Number(r);1==r?(o-=1,n=12):n-=1,e.setState({airtime:o,month:n})}else e.setState({airtime:Number(s)-1});e.resetScrollView(!0),(0,p.t)("索引.前一月")}else(0,f.info)("请先选择年")})),(0,m.default)((0,i.default)(e),"onAirdateNext",(function(){var t=e.state,s=t.airtime,r=t.month;if(s){if(r){var o=Number(s),n=Number(r);12==r?(o+=1,n=1):n+=1,e.setState({airtime:o,month:n})}else e.setState({airtime:Number(s)+1});e.resetScrollView(!0),(0,p.t)("索引.后一月")}else(0,f.info)("请先选择年")})),(0,m.default)((0,i.default)(e),"onOrderSelect",(function(t){var s=b.MODEL_BROWSER_SORT.getValue(t);e.setState({sort:s}),e.resetScrollView(!0),(0,p.t)("索引.排序选择",{sort:s})})),(0,m.default)((0,i.default)(e),"switchLayout",(function(){var t=e.isList?"grid":"list";e.setState({layout:t}),e.save(),(0,p.t)("索引.切换布局",{layout:t})})),(0,m.default)((0,i.default)(e),"onToggleFixed",(function(){e.setState({fixed:!e.state.fixed}),e.save()})),(0,m.default)((0,i.default)(e),"onToggleCollected",(function(){e.setState({collected:!e.state.collected}),e.save()})),(0,m.default)((0,i.default)(e),"onScroll",f.updateVisibleBottom.bind((0,i.default)(e))),e}return(0,d.default)(s)}(y.default)},"./src/screens/discovery/browser/store/computed.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),m=s("./src/stores/index.ts"),f=s("./src/utils/index.ts"),p=s("./src/constants/index.ts"),b=r(s("./src/screens/discovery/browser/store/state.ts"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=(o=function(e){(0,c.default)(s,e);var t=y(s);function s(){return(0,n.default)(this,s),t.apply(this,arguments)}return(0,d.default)(s,[{key:"airtime",get:function(){var e=this.state,t=e.airtime,s=e.month;return s&&"不选择"!==s?t+"-"+s:String(t)}},{key:"ota",get:function(){return this.state.ota[this.thirdPartyKey]}},{key:"browser",get:function(){var e=m.tagStore.browser(this.state.type,this.airtime,this.state.sort);if(m.userStore.isLimit){var t=0,s=e.list.filter((function(e){var s=(0,f.x18)(e.id);return s&&(t+=1),!s}));return Object.assign({},e,{list:s,_filter:t})}return e}},{key:"list",get:function(){return this.browser._loaded?this.state.collected?this.browser:Object.assign({},this.browser,{list:this.browser.list.filter((function(e){return!e.collected}))}):this.ota?Object.assign({},this.ota,{pagination:{page:1,pageTotal:10}}):p.LIST_EMPTY}},{key:"url",get:function(){return(0,p.HTML_BROSWER)(this.state.type,this.airtime,1,this.state.sort)}},{key:"isList",get:function(){return"list"===this.state.layout}},{key:"subject",value:function(e){return(0,u.computed)((function(){return m.subjectStore.subject(e)})).get()}},{key:"thirdPartyKey",get:function(){return"browser_"+[this.state.type,this.airtime,this.state.sort].join("_")}}]),s}(b.default),(0,a.default)(o.prototype,"airtime",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"airtime"),o.prototype),(0,a.default)(o.prototype,"ota",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"ota"),o.prototype),(0,a.default)(o.prototype,"browser",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"browser"),o.prototype),(0,a.default)(o.prototype,"list",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"list"),o.prototype),(0,a.default)(o.prototype,"url",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"url"),o.prototype),(0,a.default)(o.prototype,"isList",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"isList"),o.prototype),(0,a.default)(o.prototype,"thirdPartyKey",[u.computed],Object.getOwnPropertyDescriptor(o.prototype,"thirdPartyKey"),o.prototype),o)},"./src/screens/discovery/browser/store/ds.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.date.to-string.js"),s("./node_modules/core-js/modules/es.object.assign.js"),Object.defineProperty(t,"__esModule",{value:!0}),t.STATE=t.NAMESPACE=t.EXCLUDE_STATE=t.DATE=void 0;var r=s("./src/stores/index.ts"),o=s("./src/constants/index.ts"),n=s("./src/screens/discovery/browser/ds.ts"),d=(t.NAMESPACE="Screen"+n.COMPONENT,t.DATE=new Date),c=t.EXCLUDE_STATE={visibleBottom:r._.window.height,sort:"date",show:!0,ota:{}};t.STATE=Object.assign({type:o.MODEL_SUBJECT_TYPE.getLabel("动画"),airtime:d.getFullYear(),month:d.getMonth()+1,layout:"list",fixed:!1,collected:!0},c,{_loaded:!1})},"./src/screens/discovery/browser/store/fetch.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.sort.js"),s("./node_modules/core-js/modules/web.timers.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.includes.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),d=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),i=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),a=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),u=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=s("./src/stores/index.ts"),b=s("./src/utils/index.ts"),y=s("./src/utils/fetch/index.ts"),j=s("./src/utils/kv/index.ts"),_=s("./src/constants/index.ts"),v=o(s("./src/screens/discovery/browser/store/computed.ts")),x=["collected"];function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,u.default)(this,s)}}var O=[];t.default=function(e){(0,a.default)(s,e);var t=h(s);function s(){var e,o;(0,i.default)(this,s);for(var c=arguments.length,a=new Array(c),u=0;u<c;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,l.default)(e),"fetchBrowser",(o=(0,d.default)(r.mark((function t(s){var o,n,d,c,i,l,a,u;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s&&e.fetchThirdParty(),n=e.state,d=n.type,c=n.sort,t.next=4,p.tagStore.fetchBrowser({type:d,airtime:e.airtime,sort:c},s);case 4:return i=t.sent,(l=(null==i||null==(o=i.pagination)?void 0:o.page)||0)&&l%5==0&&(0,y.t)("索引.更多",{page:l}),i.list.length&&e.thirdPartyKey in e.state.ota&&(u=(null==(a=e.ota)?void 0:a.ts)||0,(0,b.getTimestamp)()-u>=_.D7&&e.updateThirdParty()),setTimeout((function(){p.collectionStore.fetchCollectionStatusQueue(i.list.filter((function(e){return e.collected})).map((function(e){return String(e.id).replace("/subject/","")})))}),160),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)}))),function(e){return o.apply(this,arguments)})),(0,f.default)((0,l.default)(e),"fetchThirdParty",(0,d.default)(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.tagStore.init("browser");case 2:setTimeout((0,d.default)(r.mark((function t(){var s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ota||e.browser._loaded){t.next=8;break}return t.next=3,(0,j.get)(e.thirdPartyKey);case 3:if(s=t.sent){t.next=7;break}return e.setState({ota:(0,f.default)({},e.thirdPartyKey,{list:[],_loaded:0})}),t.abrupt("return");case 7:e.setState({ota:(0,f.default)({},e.thirdPartyKey,Object.assign({},s,{_loaded:(0,b.getTimestamp)()}))});case 8:case"end":return t.stop()}}),t)}))),80);case 3:case"end":return t.stop()}}),t)})))),(0,f.default)((0,l.default)(e),"updateThirdParty",(0,d.default)(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O.includes(e.thirdPartyKey)){t.next=2;break}return t.abrupt("return");case 2:setTimeout((function(){(0,j.update)(e.thirdPartyKey,{list:e.browser.list.map((function(e){e.collected;return(0,n.default)(e,x)}))}),O.push(e.thirdPartyKey)}),0);case 3:case"end":return t.stop()}}),t)})))),e}return(0,c.default)(s)}(v.default)},"./src/screens/discovery/browser/store/index.ts":(e,t,s)=>{var r=s("./node_modules/@babel/runtime/regenerator/index.js");s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.object.assign.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o(s("./node_modules/@babel/runtime/helpers/createClass.js")),c=o(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),l=o(s("./node_modules/@babel/runtime/helpers/inherits.js")),a=o(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=o(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=o(s("./src/screens/discovery/browser/store/action.ts")),p=s("./src/screens/discovery/browser/store/ds.ts");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,a.default)(this,s)}}var y=function(e){(0,l.default)(s,e);var t=b(s);function s(){var e;(0,c.default)(this,s);for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];return e=t.call.apply(t,[this].concat(d)),(0,m.default)((0,i.default)(e),"init",(0,n.default)(r.mark((function t(){var s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getStorage(p.NAMESPACE);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return s=t.t0,e.setState(Object.assign({},s,{airtime:s.airtime||p.DATE.getFullYear(),month:s.month||p.DATE.getMonth()+1},p.EXCLUDE_STATE,{_loaded:!0})),t.abrupt("return",e.fetchBrowser(!0));case 8:case"end":return t.stop()}}),t)})))),(0,m.default)((0,i.default)(e),"onHeaderRefresh",(function(){return e.fetchBrowser(!0)})),e}return(0,d.default)(s)}(f.default);t.default=y},"./src/screens/discovery/browser/store/state.ts":(e,t,s)=>{s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.reflect.construct.js"),s("./node_modules/core-js/modules/es.array.concat.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(s("./node_modules/@babel/runtime/helpers/createClass.js")),n=r(s("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(s("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=r(s("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(s("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),l=r(s("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),a=r(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s("./node_modules/mobx/dist/mobx.esm.js"),m=r(s("./src/utils/store/index.ts")),f=s("./src/screens/discovery/browser/store/ds.ts");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return(0,i.default)(this,s)}}t.default=function(e){(0,c.default)(s,e);var t=p(s);function s(){var e;(0,n.default)(this,s);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,a.default)((0,d.default)(e),"state",(0,u.observable)(f.STATE)),(0,a.default)((0,d.default)(e),"save",(function(){return e.saveStorage(f.NAMESPACE,f.EXCLUDE_STATE)})),e}return(0,o.default)(s)}(m.default)}}]);